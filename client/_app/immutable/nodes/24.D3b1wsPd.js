import{s as J,a as S,p as K,f as d,g as E,i as R,e as $,c as y,b as I,l as H,m as g,h as f,R as Q,Y as O,Z as z,q as F,t as M,d as V,n as X}from"../chunks/scheduler.bui7uCNy.js";import{S as ee,i as te,d as D,e as L,m as j,t as T,a as x,f as N,j as G,g as ae,b as ne}from"../chunks/index.Divvo4fc.js";import{e as re}from"../chunks/each.Ct-HShz-.js";import{C as se}from"../chunks/Content.DXI55Z0I.js";import{U as oe}from"../chunks/UserToken.Cp9kT_qm.js";import{b as Y}from"../chunks/configuration.CIpdfyUx.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.B7SkmbeT.js";import{T as le,a as W,C as Z}from"../chunks/CodeBlock.iEDhD8KX.js";function ie(o,e,t){const a=o.slice();return a[3]=e[t],a}function ce(o){let e;return{c(){e=M("Python")},l(t){e=V(t,"Python")},m(t,a){R(t,e,a)},d(t){t&&d(e)}}}function ue(o){let e;return{c(){e=M("R")},l(t){e=V(t,"R")},m(t,a){R(t,e,a)},d(t){t&&d(e)}}}function fe(o){let e,t,a,n,c,i;function k(r){o[1](r)}let l={name:"python",value:0,$$slots:{default:[ce]},$$scope:{ctx:o}};o[0]!==void 0&&(l.group=o[0]),e=new W({props:l}),O.push(()=>G(e,"group",k));function h(r){o[2](r)}let p={name:"r",value:1,$$slots:{default:[ue]},$$scope:{ctx:o}};return o[0]!==void 0&&(p.group=o[0]),n=new W({props:p}),O.push(()=>G(n,"group",h)),{c(){D(e.$$.fragment),a=S(),D(n.$$.fragment)},l(r){L(e.$$.fragment,r),a=E(r),L(n.$$.fragment,r)},m(r,m){j(e,r,m),R(r,a,m),j(n,r,m),i=!0},p(r,m){const P={};m&64&&(P.$$scope={dirty:m,ctx:r}),!t&&m&1&&(t=!0,P.group=r[0],z(()=>t=!1)),e.$set(P);const _={};m&64&&(_.$$scope={dirty:m,ctx:r}),!c&&m&1&&(c=!0,_.group=r[0],z(()=>c=!1)),n.$set(_)},i(r){i||(T(e.$$.fragment,r),T(n.$$.fragment,r),i=!0)},o(r){x(e.$$.fragment,r),x(n.$$.fragment,r),i=!1},d(r){r&&d(a),N(e,r),N(n,r)}}}function pe(o){let e,t;return e=new Z({props:{language:"r",lineNumbers:!0,code:`# Requires R 3.4 or later
### Uncomment this code if you are not using the PIC-SURE environment in *BDC-Seven Bridges*, or if you do not have all the necessary dependencies installed.
#install.packages("devtools")
Sys.setenv(TAR = "/bin/tar")
options(unzip = "internal")
devtools::install_github("hms-dbmi/pic-sure-r-adapter-hpds", ref="main", force=T, quiet=FALSE)
library(dplyr)
PICSURE_network_URL = "https://picsure.biodatacatalyst.nhlbi.nih.gov/picsure"
token_file <- "token.txt"
token <- scan(token_file, what = "character")
session <- picsure::bdc.initializeSession(PICSURE_network_URL, token)
session <- picsure::bdc.setResource(session = session,  resourceName = "AUTH")`}}),{c(){D(e.$$.fragment)},l(a){L(e.$$.fragment,a)},m(a,n){j(e,a,n),t=!0},i(a){t||(T(e.$$.fragment,a),t=!0)},o(a){x(e.$$.fragment,a),t=!1},d(a){N(e,a)}}}function de(o){let e,t;return e=new Z({props:{language:"python",lineNumbers:!0,buttonCopied:"Copied!",code:`# Requires python 3.6 or later
import sys
import pandas as pd
import matplotlib.pyplot as plt
# BDC Powered by Terra users uncomment the following line to specify package install location
# sys.path.insert(0, r"/home/jupyter/.local/lib/python3.7/site-packages")
!{sys.executable} -m pip install --upgrade --force-reinstall git+https://github.com/hms-dbmi/pic-sure-python-client.git
!{sys.executable} -m pip install --upgrade --force-reinstall git+https://github.com/hms-dbmi/pic-sure-python-adapter-hpds.git
!{sys.executable} -m pip install --upgrade --force-reinstall git+https://github.com/hms-dbmi/pic-sure-biodatacatalyst-python-adapter-hpds.git
import PicSureClient
import PicSureBdcAdapter
# Set up connection to PIC-SURE API
PICSURE_network_URL = "https://picsure.biodatacatalyst.nhlbi.nih.gov/picsure"
token_file = "token.txt"

with open(token_file, "r") as f:
    my_token = f.read()

bdc = PicSureBdcAdapter.Adapter(PICSURE_network_URL, my_token)`}}),{c(){D(e.$$.fragment)},l(a){L(e.$$.fragment,a)},m(a,n){j(e,a,n),t=!0},i(a){t||(T(e.$$.fragment,a),t=!0)},o(a){x(e.$$.fragment,a),t=!1},d(a){N(e,a)}}}function he(o){let e,t,a,n;const c=[de,pe],i=[];function k(l,h){return l[0]===0?0:l[0]===1?1:-1}return~(e=k(o))&&(t=i[e]=c[e](o)),{c(){t&&t.c(),a=F()},l(l){t&&t.l(l),a=F()},m(l,h){~e&&i[e].m(l,h),R(l,a,h),n=!0},p(l,h){let p=e;e=k(l),e!==p&&(t&&(ae(),x(i[p],1,1,()=>{i[p]=null}),ne()),~e?(t=i[e],t||(t=i[e]=c[e](l),t.c()),T(t,1),t.m(a.parentNode,a)):t=null)},i(l){n||(T(t),n=!0)},o(l){x(t),n=!1},d(l){l&&d(a),~e&&i[e].d(l)}}}function me(o){let e,t,a,n,c=o[3].header+"",i,k,l,h,p,r,m=o[3].body+"",P,_,C,w='<div class="btn variant-filled-primary mt-3 w-fit">Learn More</div>',A;return{c(){e=$("a"),t=$("div"),a=$("header"),n=$("h4"),i=M(c),k=S(),l=$("hr"),h=S(),p=$("section"),r=$("div"),P=M(m),_=S(),C=$("div"),C.innerHTML=w,A=S(),this.h()},l(U){e=y(U,"A",{href:!0,target:!0,class:!0});var b=I(e);t=y(b,"DIV",{class:!0});var s=I(t);a=y(s,"HEADER",{class:!0});var u=I(a);n=y(u,"H4",{class:!0,"data-testid":!0});var v=I(n);i=V(v,c),v.forEach(d),k=E(u),l=y(u,"HR",{class:!0}),u.forEach(d),h=E(s),p=y(s,"SECTION",{class:!0,"data-testid":!0});var B=I(p);r=y(B,"DIV",{});var q=I(r);P=V(q,m),q.forEach(d),_=E(B),C=y(B,"DIV",{class:!0,"data-svelte-h":!0}),H(C)!=="svelte-1127l30"&&(C.innerHTML=w),B.forEach(d),s.forEach(d),A=E(b),b.forEach(d),this.h()},h(){g(n,"class","my-1"),g(n,"data-testid",o[3].header),g(l,"class","!border-t-2"),g(a,"class","card-header flex flex-col items-center"),g(C,"class","flex justify-center"),g(p,"class","p-4 whitespace-pre-wrap flex flex-col"),g(p,"data-testid",o[3].body),g(t,"class","card card-hover"),g(e,"href",o[3].link),g(e,"target",o[3].link.startsWith("http")?"_blank":"_self"),g(e,"class","pic-sure-info-card p-4 basis-2/4 svelte-pjjuju")},m(U,b){R(U,e,b),f(e,t),f(t,a),f(a,n),f(n,i),f(a,k),f(a,l),f(t,h),f(t,p),f(p,r),f(r,P),f(p,_),f(p,C),f(e,A)},p:X,d(U){U&&d(e)}}}function _e(o){let e,t,a=`The PIC-SURE Application Programming Interface (API) can be used in an analysis environment of
      your choice. This API is available in both Python and R coding languages.`,n,c,i=`To connect to the PIC-SURE Application Programming Interface (API), you will need your
      personal access token. Copy your token and save as a text file called “token.txt” in the
      working directory of your chosen analysis workspace, such as <a href="https://platform.sb.biodatacatalyst.nhlbi.nih.gov/home" target="_blank" title="BioData Catalyst Powered by Seven
      Bridges" class="anchor font-bold">BioData Catalyst Powered by Seven Bridges</a>
      or
      <a href="https://terra.biodatacatalyst.nhlbi.nih.gov/#workspaces" target="_blank" title="BioData Catalyst Powered by Terra" class="anchor font-bold">BioData Catalyst Powered by Terra</a>.`,k,l,h,p,r,m=`To start your analysis, copy and execute the following code in an analysis environment, such
      as BioData Catalyst Powered by Seven Bridges or BioData Catalyst Powered by Terra, to connect
      to the PIC-SURE API. Note that you will need your personal access token to complete the
      connection.`,P,_,C,w,A;h=new oe({}),_=new le({props:{class:"card p-4",$$slots:{panel:[he],default:[fe]},$$scope:{ctx:o}}});let U=re(Y.apiPage.cards),b=[];for(let s=0;s<U.length;s+=1)b[s]=me(ie(o,U,s));return{c(){e=$("section"),t=$("p"),t.textContent=a,n=S(),c=$("p"),c.innerHTML=i,k=S(),l=$("div"),D(h.$$.fragment),p=S(),r=$("p"),r.textContent=m,P=S(),D(_.$$.fragment),C=S(),w=$("section");for(let s=0;s<b.length;s+=1)b[s].c();this.h()},l(s){e=y(s,"SECTION",{class:!0});var u=I(e);t=y(u,"P",{class:!0,"data-svelte-h":!0}),H(t)!=="svelte-sllq2c"&&(t.textContent=a),n=E(u),c=y(u,"P",{"data-svelte-h":!0}),H(c)!=="svelte-hhfohy"&&(c.innerHTML=i),k=E(u),l=y(u,"DIV",{class:!0});var v=I(l);L(h.$$.fragment,v),v.forEach(d),p=E(u),r=y(u,"P",{"data-svelte-h":!0}),H(r)!=="svelte-18y4mfq"&&(r.textContent=m),P=E(u),L(_.$$.fragment,u),u.forEach(d),C=E(s),w=y(s,"SECTION",{id:!0,class:!0});var B=I(w);for(let q=0;q<b.length;q+=1)b[q].l(B);B.forEach(d),this.h()},h(){g(t,"class","mt-4"),g(l,"class","flex justify-center"),g(e,"class","flex flex-col gap-8"),g(w,"id","info-cards"),g(w,"class","w-full flex flex-wrap flex-row justify-center mt-6")},m(s,u){R(s,e,u),f(e,t),f(e,n),f(e,c),f(e,k),f(e,l),j(h,l,null),f(e,p),f(e,r),f(e,P),j(_,e,null),R(s,C,u),R(s,w,u);for(let v=0;v<b.length;v+=1)b[v]&&b[v].m(w,null);A=!0},p(s,u){const v={};u&65&&(v.$$scope={dirty:u,ctx:s}),_.$set(v)},i(s){A||(T(h.$$.fragment,s),T(_.$$.fragment,s),A=!0)},o(s){x(h.$$.fragment,s),x(_.$$.fragment,s),A=!1},d(s){s&&(d(e),d(C),d(w)),N(h),N(_),Q(b,s)}}}function ge(o){let e,t,a;return document.title=Y.applicationName+" | API",t=new se({props:{title:"Prepare for Analysis with the PIC-SURE API",$$slots:{default:[_e]},$$scope:{ctx:o}}}),{c(){e=S(),D(t.$$.fragment)},l(n){K("svelte-6qg1j1",document.head).forEach(d),e=E(n),L(t.$$.fragment,n)},m(n,c){R(n,e,c),j(t,n,c),a=!0},p(n,[c]){const i={};c&65&&(i.$$scope={dirty:c,ctx:n}),t.$set(i)},i(n){a||(T(t.$$.fragment,n),a=!0)},o(n){x(t.$$.fragment,n),a=!1},d(n){n&&d(e),N(t,n)}}}function be(o,e,t){let a=0;function n(i){a=i,t(0,a)}function c(i){a=i,t(0,a)}return[a,n,c]}class Ee extends ee{constructor(e){super(),te(this,e,be,ge,J,{})}}export{Ee as component};
