import{f as g,a as i,c as T,t as F}from"../chunks/CtfeAAbw.js";import{p as k,c as y,r as D,s as x,t as u,a as C,f as w,b as B,g as n,e as A,$ as G,n as J}from"../chunks/B4GrenNm.js";import{s as L,h as K}from"../chunks/DxSOTiY2.js";import{a as Q}from"../chunks/bf3FOAR_.js";import{i as R}from"../chunks/CSsnQ7i2.js";import{d as H}from"../chunks/D7VV4X-8.js";import{p as M,s as U,a as I}from"../chunks/DvPjbdiY.js";import{b as V}from"../chunks/CHRSknKA.js";import{t as W,l as X,a as Y,b as Z}from"../chunks/DIEiivoN.js";import{E as tt}from"../chunks/BVg5wqNm.js";import{C as at}from"../chunks/DpviI_uJ.js";import{S as N}from"../chunks/CMu1-vVn.js";import{C as et}from"../chunks/DhHh3RdS.js";import{s as P}from"../chunks/BPiAbArq.js";import{b as S}from"../chunks/DFQ-BVSw.js";import{t as rt}from"../chunks/yAhaO9Md.js";import{L as st}from"../chunks/B7pZD2Tm.js";var ot=g('<div class="flex items-center"><span class="monospace"> </span> <!></div>');function lt(o,a){k(a,!0);let t=M(a,"data",19,()=>({cell:"",row:{}}));var e=ot(),l=y(e),d=y(l,!0);D(l);var c=x(l,2);et(c,{get"data-testid"(){return`${t().cell??""}-copy`},useIcon:!0,get itemToCopy(){return t().cell}}),D(e),u(()=>L(d,t().cell)),i(o,e),C()}async function q(o,a,t){o.stopPropagation();try{n(a).disabled=!0,W(t().cell),n(a).disabled=!1}catch{rt.error({title:"An error occured when updating dataset."})}}var it=g('<button type="button" title="Restore" aria-label="Restore" class="btn-icon-color"><i class="fa-solid fa-trash-arrow-up fa-xl"></i></button>'),nt=g('<button type="button" title="Delete" aria-label="Delete" class="btn-icon-color"><i class="fa-solid fa-trash fa-xl"></i></button>');function ct(o,a){k(a,!0);const t=M(a,"data",19,()=>({cell:"",row:{archived:!1}}));let e=B(void 0);var l=T(),d=w(l);{var c=s=>{var r=it();r.__click=[q,e,t],S(r,f=>A(e,f),()=>n(e)),u(()=>P(r,"data-testid",`dataset-action-restore-${t().cell}`)),i(s,r)},p=s=>{var r=nt();r.__click=[q,e,t],S(r,f=>A(e,f),()=>n(e)),u(()=>P(r,"data-testid",`dataset-action-archive-${t().cell}`)),i(s,r)};R(d,s=>{t().row.archived?s(c):s(p,!1)})}i(o,l),C()}H(["click"]);var dt=(o,a)=>A(a,!n(a)),mt=g('<!> <!> <button data-testid="dataset-toggle-archive" type="button" class="btn bg-secondary-500 text-secondary-contrast-500"> </button>',1);function It(o,a){k(a,!0);const[t,e]=U(),l=()=>I(Y,"$active",t),d=()=>I(Z,"$archived",t),c=[{dataElement:"name",label:"Dataset ID Name"},{dataElement:"startTime",label:"Created"},{dataElement:"queryId",label:"Dataset ID"},{dataElement:"uuid",label:"Actions",class:"text-center"}],p={queryId:lt,uuid:ct};let s=B(!1);K(r=>{u(()=>G.title=`${V.applicationName??""} | Datasets`)}),at(o,{title:"Manage Datasets",children:(r,f)=>{var E=T(),O=w(E);Q(O,X,m=>{st(m,{})},m=>{var v=mt(),_=w(v);N(_,{tableName:"ActiveDatasets",title:"Active Datasets",get data(){return l()},columns:c,cellOverides:p});var b=x(_,2);{var j=$=>{N($,{tableName:"ArchivedDatasets",title:"Deleted Datasets",get data(){return d()},columns:c,cellOverides:p})};R(b,$=>{n(s)&&$(j)})}var h=x(b,2);h.__click=[dt,s];var z=y(h);D(h),u(()=>L(z,`${n(s)?"Hide":"Show"} deleted datasets`)),i(m,v)},m=>{tt(m,{title:"API Error",children:(v,_)=>{J();var b=F("Something went wrong when sending your request.");i(v,b)},$$slots:{default:!0}})}),i(r,E)},$$slots:{default:!0}}),C(),e()}H(["click"]);export{It as component};
