import{c as W,a as m,t as X,f as L}from"../chunks/DKNWTM-D.js";import{p as Y,d as $,e as R,a as Z,t as c,f as tt,$ as rt,n as at,c as t,s as a,r,g as e,b as x}from"../chunks/KPVYLOSR.js";import{h as et,s as i}from"../chunks/NtGCh5xy.js";import{a as ot}from"../chunks/DXJ436YI.js";import{i as st}from"../chunks/CDCmQmr-.js";import{p as I}from"../chunks/Dp9N5k12.js";import{b as it}from"../chunks/BD7x6Jnt.js";import{E as nt}from"../chunks/P3bGLiu7.js";import{C as dt}from"../chunks/a16e0A8-.js";import{U as lt}from"../chunks/CbGYko--.js";import{R as mt}from"../chunks/Cw9Ij2jy.js";import{C as ct}from"../chunks/BLh7o4M2.js";import{L as pt}from"../chunks/BW_ShK1N.js";var vt=L("<tr><td>Subject:</td><td> </td></tr>"),ut=L('<section id="role-view"><table class="table bg-transparent"><tbody><tr><td>Id:</td><td> </td></tr><tr><td>Email:</td><td> </td></tr><tr><td>Active:</td><td> </td></tr><!><tr><td>Connection:</td><td> </td></tr><tr><td>Roles:</td><td> </td></tr></tbody></table></section>');function At(B,M){Y(M,!0);const{loadUsers:N,getUser:T}=lt,{getRole:q}=mt,{getConnection:z}=ct;let o=$(R({connection:"",generalMetadata:"",active:!1,roles:[]})),h=$(R([])),p=$("");async function D(){await N(),x(o,await T(I.params.uuid),!0),x(p,await z(e(o).connection)||"",!0),x(h,await Promise.all(e(o).roles.map(q)),!0)}et(y=>{c(()=>rt.title=`${it.applicationName??""} | User Summary`)}),dt(B,{title:"User Summary",backUrl:"/admin/users",backTitle:"Back to Users",children:(y,ft)=>{var U=W(),F=tt(U);ot(F,D,n=>{pt(n,{})},n=>{var d=ut(),v=t(d),l=t(v),u=t(l),w=a(t(u)),G=t(w,!0);r(w),r(u);var f=a(u),C=a(t(f)),H=t(C,!0);r(C),r(f);var _=a(f),S=a(t(_)),J=t(S,!0);r(S),r(_);var k=a(_);{var K=s=>{var g=vt(),P=a(t(g)),V=t(P,!0);r(P),r(g),c(()=>i(V,e(o).subject)),m(s,g)};st(k,s=>{e(o).subject&&s(K)})}var b=a(k),j=a(t(b)),O=t(j,!0);r(j),r(b);var A=a(b),E=a(t(A)),Q=t(E,!0);r(E),r(A),r(l),r(v),r(d),c(s=>{i(G,e(o).uuid),i(H,e(o).email),i(J,e(o).active),i(O,typeof e(p)!="string"?e(p).label:e(o).connection),i(Q,s)},[()=>e(h).map(s=>s.name).join(", ")]),m(n,d)},n=>{nt(n,{title:"API Error",children:(d,v)=>{at();var l=X();c(()=>i(l,`An error occured while retrieving dataset ${I.params.uuid??""}.`)),m(d,l)},$$slots:{default:!0}})}),m(y,U)},$$slots:{default:!0}}),Z()}export{At as component};
