import{s as Dt,a as v,p as Rt,f as c,g as b,i as U,k as St,q as Et,e as f,t as E,c as u,b as h,d as T,h as l,j,l as x,m as it,n as ct}from"../chunks/scheduler.bui7uCNy.js";import{h as jt,u as xt}from"../chunks/await_block.B6WJ5gpV.js";import{S as Ut,i as At,d as ft,e as ut,m as dt,t as Z,a as tt,f as mt}from"../chunks/index.CNwEczq-.js";import{p as Pt}from"../chunks/stores.CPF93CS5.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.BuMCQOqK.js";import{P as qt}from"../chunks/ProgressBar.9v3SLPZo.js";import{b as It}from"../chunks/configuration.LanpiT2M.js";import{E as yt}from"../chunks/ErrorAlert.DSZ6fs8d.js";import{C as Bt}from"../chunks/Content.BmAiAmv1.js";import{U as Nt,C as Lt}from"../chunks/Connections.5tAw-FVA.js";import{R as Ht}from"../chunks/Roles.aiARZupi.js";function Ot(s){let t,r;return t=new yt({props:{title:"API Error",$$slots:{default:[zt]},$$scope:{ctx:s}}}),{c(){ft(t.$$.fragment)},l(n){ut(t.$$.fragment,n)},m(n,e){dt(t,n,e),r=!0},p(n,e){const o={};e&520&&(o.$$scope={dirty:e,ctx:n}),t.$set(o)},i(n){r||(Z(t.$$.fragment,n),r=!0)},o(n){tt(t.$$.fragment,n),r=!1},d(n){mt(t,n)}}}function zt(s){let t,r,n=s[3].params.uuid+"",e,o;return{c(){t=f("p"),r=E("An error occured while retrieving dataset "),e=E(n),o=E(".")},l(a){t=u(a,"P",{});var i=h(t);r=T(i,"An error occured while retrieving dataset "),e=T(i,n),o=T(i,"."),i.forEach(c)},m(a,i){U(a,t,i),l(t,r),l(t,e),l(t,o)},p(a,i){i&8&&n!==(n=a[3].params.uuid+"")&&j(e,n)},d(a){a&&c(t)}}}function Ft(s){let t,r,n,e,o="Id:",a,i,d=s[0].uuid+"",m,g,k,w,pt="Email:",et,I,y=s[0].email+"",F,nt,D,A,_t="Active:",rt,B,N=s[0].active+"",G,at,J,R,P,ht="Connection:",ot,L,H=(typeof s[2]!="string"?s[2].label:s[0].connection)+"",K,lt,S,q,vt="Roles:",st,O,z=s[1].map(wt).join(", ")+"",M,p=s[0].subject&&Tt(s);return{c(){t=f("section"),r=f("table"),n=f("tr"),e=f("td"),e.textContent=o,a=v(),i=f("td"),m=E(d),g=v(),k=f("tr"),w=f("td"),w.textContent=pt,et=v(),I=f("td"),F=E(y),nt=v(),D=f("tr"),A=f("td"),A.textContent=_t,rt=v(),B=f("td"),G=E(N),at=v(),p&&p.c(),J=v(),R=f("tr"),P=f("td"),P.textContent=ht,ot=v(),L=f("td"),K=E(H),lt=v(),S=f("tr"),q=f("td"),q.textContent=vt,st=v(),O=f("td"),M=E(z),this.h()},l(_){t=u(_,"SECTION",{id:!0});var C=h(t);r=u(C,"TABLE",{class:!0});var $=h(r);n=u($,"TR",{});var Q=h(n);e=u(Q,"TD",{"data-svelte-h":!0}),x(e)!=="svelte-s62l6t"&&(e.textContent=o),a=b(Q),i=u(Q,"TD",{});var bt=h(i);m=T(bt,d),bt.forEach(c),Q.forEach(c),g=b($),k=u($,"TR",{});var V=h(k);w=u(V,"TD",{"data-svelte-h":!0}),x(w)!=="svelte-1aqbduw"&&(w.textContent=pt),et=b(V),I=u(V,"TD",{});var $t=h(I);F=T($t,y),$t.forEach(c),V.forEach(c),nt=b($),D=u($,"TR",{});var W=h(D);A=u(W,"TD",{"data-svelte-h":!0}),x(A)!=="svelte-l7nagq"&&(A.textContent=_t),rt=b(W),B=u(W,"TD",{});var Ct=h(B);G=T(Ct,N),Ct.forEach(c),W.forEach(c),at=b($),p&&p.l($),J=b($),R=u($,"TR",{});var X=h(R);P=u(X,"TD",{"data-svelte-h":!0}),x(P)!=="svelte-1o2bwbo"&&(P.textContent=ht),ot=b(X),L=u(X,"TD",{});var gt=h(L);K=T(gt,H),gt.forEach(c),X.forEach(c),lt=b($),S=u($,"TR",{});var Y=h(S);q=u(Y,"TD",{"data-svelte-h":!0}),x(q)!=="svelte-eum8k3"&&(q.textContent=vt),st=b(Y),O=u(Y,"TD",{});var kt=h(O);M=T(kt,z),kt.forEach(c),Y.forEach(c),$.forEach(c),C.forEach(c),this.h()},h(){it(r,"class","table bg-transparent"),it(t,"id","role-view")},m(_,C){U(_,t,C),l(t,r),l(r,n),l(n,e),l(n,a),l(n,i),l(i,m),l(r,g),l(r,k),l(k,w),l(k,et),l(k,I),l(I,F),l(r,nt),l(r,D),l(D,A),l(D,rt),l(D,B),l(B,G),l(r,at),p&&p.m(r,null),l(r,J),l(r,R),l(R,P),l(R,ot),l(R,L),l(L,K),l(r,lt),l(r,S),l(S,q),l(S,st),l(S,O),l(O,M)},p(_,C){C&1&&d!==(d=_[0].uuid+"")&&j(m,d),C&1&&y!==(y=_[0].email+"")&&j(F,y),C&1&&N!==(N=_[0].active+"")&&j(G,N),_[0].subject?p?p.p(_,C):(p=Tt(_),p.c(),p.m(r,J)):p&&(p.d(1),p=null),C&5&&H!==(H=(typeof _[2]!="string"?_[2].label:_[0].connection)+"")&&j(K,H),C&2&&z!==(z=_[1].map(wt).join(", ")+"")&&j(M,z)},i:ct,o:ct,d(_){_&&c(t),p&&p.d()}}}function Tt(s){let t,r,n="Subject:",e,o,a=s[0].subject+"",i;return{c(){t=f("tr"),r=f("td"),r.textContent=n,e=v(),o=f("td"),i=E(a)},l(d){t=u(d,"TR",{});var m=h(t);r=u(m,"TD",{"data-svelte-h":!0}),x(r)!=="svelte-1kscmm0"&&(r.textContent=n),e=b(m),o=u(m,"TD",{});var g=h(o);i=T(g,a),g.forEach(c),m.forEach(c)},m(d,m){U(d,t,m),l(t,r),l(t,e),l(t,o),l(o,i)},p(d,m){m&1&&a!==(a=d[0].subject+"")&&j(i,a)},d(d){d&&c(t)}}}function Gt(s){let t,r="Loading",n,e,o;return e=new qt({props:{animIndeterminate:"anim-progress-bar"}}),{c(){t=f("h3"),t.textContent=r,n=v(),ft(e.$$.fragment),this.h()},l(a){t=u(a,"H3",{class:!0,"data-svelte-h":!0}),x(t)!=="svelte-16fo5h6"&&(t.textContent=r),n=b(a),ut(e.$$.fragment,a),this.h()},h(){it(t,"class","text-left")},m(a,i){U(a,t,i),U(a,n,i),dt(e,a,i),o=!0},p:ct,i(a){o||(Z(e.$$.fragment,a),o=!0)},o(a){tt(e.$$.fragment,a),o=!1},d(a){a&&(c(t),c(n)),mt(e,a)}}}function Jt(s){let t,r,n={ctx:s,current:null,token:null,hasCatch:!0,pending:Gt,then:Ft,catch:Ot,blocks:[,,,]};return jt(s[4](),n),{c(){t=Et(),n.block.c()},l(e){t=Et(),n.block.l(e)},m(e,o){U(e,t,o),n.block.m(e,n.anchor=o),n.mount=()=>t.parentNode,n.anchor=t,r=!0},p(e,o){s=e,xt(n,s,o)},i(e){r||(Z(n.block),r=!0)},o(e){for(let o=0;o<3;o+=1){const a=n.blocks[o];tt(a)}r=!1},d(e){e&&c(t),n.block.d(e),n.token=null,n=null}}}function Kt(s){let t,r,n;return document.title=It.applicationName+" | User Summary",r=new Bt({props:{title:"User Summary",backUrl:"/admin/users",backTitle:"Back to Users",$$slots:{default:[Jt]},$$scope:{ctx:s}}}),{c(){t=v(),ft(r.$$.fragment)},l(e){Rt("svelte-mtqxya",document.head).forEach(c),t=b(e),ut(r.$$.fragment,e)},m(e,o){U(e,t,o),dt(r,e,o),n=!0},p(e,[o]){const a={};o&527&&(a.$$scope={dirty:o,ctx:e}),r.$set(a)},i(e){n||(Z(r.$$.fragment,e),n=!0)},o(e){tt(r.$$.fragment,e),n=!1},d(e){e&&c(t),mt(r,e)}}}const wt=s=>s.name;function Mt(s,t,r){let n;St(s,Pt,w=>r(3,n=w));const{loadUsers:e,getUser:o}=Nt,{getRole:a}=Ht,{getConnection:i}=Lt;let d,m,g;async function k(){await e(),r(0,d=await o(n.params.uuid)),r(2,g=await i(d.connection)||""),r(1,m=await Promise.all(d.roles.map(a)))}return[d,m,g,n,k]}class oe extends Ut{constructor(t){super(),At(this,t,Mt,Kt,Dt,{})}}export{oe as component};
