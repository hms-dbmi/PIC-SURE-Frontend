import{s as x,a as L,p as B,f as c,g as P,i,k as h,q as S,e as w,t as g,c as C,b as A,d as b,h as k,j as T,m as I,l as j,n as y}from"../chunks/scheduler.bui7uCNy.js";import{h as F,u as H}from"../chunks/await_block.B6WJ5gpV.js";import{S as O,i as z,d as p,e as d,m as _,t as u,a as f,f as $}from"../chunks/index.CNwEczq-.js";import{p as D}from"../chunks/stores.BNv7cvyh.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.BCRmI_eu.js";import{P as G}from"../chunks/ProgressBar.D2arWQOT.js";import{b as J}from"../chunks/configuration.CsqyQUvi.js";import{E as K}from"../chunks/ErrorAlert.VXgRa8sz.js";import{C as M}from"../chunks/Content._KXHMYbh.js";import{U as Q}from"../chunks/UserForm.rzn8azRi.js";import{C as V,U as W}from"../chunks/Connections.Buic4Wct.js";import{R as X}from"../chunks/Roles.FODq7904.js";function Y(s){let r,o;return r=new K({props:{title:"API Error",$$slots:{default:[Z]},$$scope:{ctx:s}}}),{c(){p(r.$$.fragment)},l(t){d(r.$$.fragment,t)},m(t,e){_(r,t,e),o=!0},p(t,e){const n={};e&2050&&(n.$$scope={dirty:e,ctx:t}),r.$set(n)},i(t){o||(u(r.$$.fragment,t),o=!0)},o(t){f(r.$$.fragment,t),o=!1},d(t){$(r,t)}}}function Z(s){let r,o,t=s[1].params.uuid+"",e,n;return{c(){r=w("p"),o=g("An error occured while retrieving dataset "),e=g(t),n=g(".")},l(a){r=C(a,"P",{});var l=A(r);o=b(l,"An error occured while retrieving dataset "),e=b(l,t),n=b(l,"."),l.forEach(c)},m(a,l){i(a,r,l),k(r,o),k(r,e),k(r,n)},p(a,l){l&2&&t!==(t=a[1].params.uuid+"")&&T(e,t)},d(a){a&&c(r)}}}function ee(s){let r,o,t;return o=new Q({props:{connections:s[2],roleList:s[3],user:s[0]}}),{c(){r=w("section"),p(o.$$.fragment),this.h()},l(e){r=C(e,"SECTION",{id:!0});var n=A(r);d(o.$$.fragment,n),n.forEach(c),this.h()},h(){I(r,"id","user-edit")},m(e,n){i(e,r,n),_(o,r,null),t=!0},p(e,n){const a={};n&4&&(a.connections=e[2]),n&8&&(a.roleList=e[3]),n&1&&(a.user=e[0]),o.$set(a)},i(e){t||(u(o.$$.fragment,e),t=!0)},o(e){f(o.$$.fragment,e),t=!1},d(e){e&&c(r),$(o)}}}function te(s){let r,o="Loading",t,e,n;return e=new G({props:{animIndeterminate:"anim-progress-bar"}}),{c(){r=w("h3"),r.textContent=o,t=L(),p(e.$$.fragment),this.h()},l(a){r=C(a,"H3",{class:!0,"data-svelte-h":!0}),j(r)!=="svelte-16fo5h6"&&(r.textContent=o),t=P(a),d(e.$$.fragment,a),this.h()},h(){I(r,"class","text-left")},m(a,l){i(a,r,l),i(a,t,l),_(e,a,l),n=!0},p:y,i(a){n||(u(e.$$.fragment,a),n=!0)},o(a){f(e.$$.fragment,a),n=!1},d(a){a&&(c(r),c(t)),$(e,a)}}}function re(s){let r,o,t={ctx:s,current:null,token:null,hasCatch:!0,pending:te,then:ee,catch:Y,blocks:[,,,]};return F(s[6](),t),{c(){r=S(),t.block.c()},l(e){r=S(),t.block.l(e)},m(e,n){i(e,r,n),t.block.m(e,t.anchor=n),t.mount=()=>r.parentNode,t.anchor=r,o=!0},p(e,n){s=e,H(t,s,n)},i(e){o||(u(t.block),o=!0)},o(e){for(let n=0;n<3;n+=1){const a=t.blocks[n];f(a)}o=!1},d(e){e&&c(r),t.block.d(e),t.token=null,t=null}}}function oe(s){let r,o,t;return document.title=J.applicationName+" | Edit User",o=new M({props:{title:"Edit User",backUrl:"/admin/users",backTitle:"Back to Users",$$slots:{default:[re]},$$scope:{ctx:s}}}),{c(){r=L(),p(o.$$.fragment)},l(e){B("svelte-hiwdb0",document.head).forEach(c),r=P(e),d(o.$$.fragment,e)},m(e,n){i(e,r,n),_(o,e,n),t=!0},p(e,[n]){const a={};n&2063&&(a.$$scope={dirty:n,ctx:e}),o.$set(a)},i(e){t||(u(o.$$.fragment,e),t=!0)},o(e){f(o.$$.fragment,e),t=!1},d(e){e&&c(r),$(o,e)}}}function ne(s,r,o){let t,e,n;h(s,D,m=>o(1,t=m));const{getUser:a,loadUsers:l}=W,{roleList:U,loadRoles:N}=X;h(s,U,m=>o(3,n=m));const{connections:E,loadConnections:R}=V;h(s,E,m=>o(2,e=m));let v;async function q(){await l(),o(0,v=await a(t.params.uuid)),await N(),await R()}return[v,t,e,n,U,E,q]}class he extends O{constructor(r){super(),z(this,r,ne,oe,x,{})}}export{he as component};
