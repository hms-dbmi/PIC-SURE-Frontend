import{s as St,a as b,p as jt,f as i,g as v,i as x,k as xt,q as wt,e as f,t as E,c as d,b as h,d as T,h as a,j as S,l as j,m as ct,n as ft}from"../chunks/CseAM1pm.js";import{h as Ut,u as yt}from"../chunks/CndaLTDj.js";import{S as At,i as Pt,d as dt,e as ut,m as mt,t as tt,a as et,f as pt}from"../chunks/CUD_i9MT.js";import{p as qt}from"../chunks/LJvazNn0.js";import"../chunks/C8tRaeKn.js";import{P as Bt}from"../chunks/DroxEqGU.js";import{b as It}from"../chunks/CukpoKTN.js";import{E as Nt}from"../chunks/DATm8Xn3.js";import{C as Lt}from"../chunks/CQc0kLfV.js";import{U as Ot}from"../chunks/bejl0vF4.js";import{R as Ht}from"../chunks/BsuthN-F.js";import{C as Yt}from"../chunks/CbUCrC8h.js";function zt(s){let e,n;return e=new Nt({props:{title:"API Error",$$slots:{default:[Ft]},$$scope:{ctx:s}}}),{c(){dt(e.$$.fragment)},l(t){ut(e.$$.fragment,t)},m(t,r){mt(e,t,r),n=!0},p(t,r){const o={};r&520&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){pt(e,t)}}}function Ft(s){let e,n,t=s[3].params.uuid+"",r,o;return{c(){e=f("p"),n=E("An error occured while retrieving dataset "),r=E(t),o=E(".")},l(l){e=d(l,"P",{});var c=h(e);n=T(c,"An error occured while retrieving dataset "),r=T(c,t),o=T(c,"."),c.forEach(i)},m(l,c){x(l,e,c),a(e,n),a(e,r),a(e,o)},p(l,c){c&8&&t!==(t=l[3].params.uuid+"")&&S(r,t)},d(l){l&&i(e)}}}function Gt(s){let e,n,t,r,o,l="Id:",c,u,m=s[0].uuid+"",g,q,k,U,_t="Email:",rt,B,I=s[0].email+"",F,nt,w,y,ht="Active:",ot,N,L=s[0].active+"",G,at,J,D,A,bt="Connection:",lt,O,H=(typeof s[2]!="string"?s[2].label:s[0].connection)+"",K,st,R,P,vt="Roles:",it,Y,z=s[1].map(Rt).join(", ")+"",M,p=s[0].subject&&Dt(s);return{c(){e=f("section"),n=f("table"),t=f("tbody"),r=f("tr"),o=f("td"),o.textContent=l,c=b(),u=f("td"),g=E(m),q=b(),k=f("tr"),U=f("td"),U.textContent=_t,rt=b(),B=f("td"),F=E(I),nt=b(),w=f("tr"),y=f("td"),y.textContent=ht,ot=b(),N=f("td"),G=E(L),at=b(),p&&p.c(),J=b(),D=f("tr"),A=f("td"),A.textContent=bt,lt=b(),O=f("td"),K=E(H),st=b(),R=f("tr"),P=f("td"),P.textContent=vt,it=b(),Y=f("td"),M=E(z),this.h()},l(_){e=d(_,"SECTION",{id:!0});var C=h(e);n=d(C,"TABLE",{class:!0});var $t=h(n);t=d($t,"TBODY",{});var $=h(t);r=d($,"TR",{});var Q=h(r);o=d(Q,"TD",{"data-svelte-h":!0}),j(o)!=="svelte-s62l6t"&&(o.textContent=l),c=v(Q),u=d(Q,"TD",{});var Ct=h(u);g=T(Ct,m),Ct.forEach(i),Q.forEach(i),q=v($),k=d($,"TR",{});var V=h(k);U=d(V,"TD",{"data-svelte-h":!0}),j(U)!=="svelte-1aqbduw"&&(U.textContent=_t),rt=v(V),B=d(V,"TD",{});var gt=h(B);F=T(gt,I),gt.forEach(i),V.forEach(i),nt=v($),w=d($,"TR",{});var W=h(w);y=d(W,"TD",{"data-svelte-h":!0}),j(y)!=="svelte-l7nagq"&&(y.textContent=ht),ot=v(W),N=d(W,"TD",{});var kt=h(N);G=T(kt,L),kt.forEach(i),W.forEach(i),at=v($),p&&p.l($),J=v($),D=d($,"TR",{});var X=h(D);A=d(X,"TD",{"data-svelte-h":!0}),j(A)!=="svelte-1o2bwbo"&&(A.textContent=bt),lt=v(X),O=d(X,"TD",{});var Et=h(O);K=T(Et,H),Et.forEach(i),X.forEach(i),st=v($),R=d($,"TR",{});var Z=h(R);P=d(Z,"TD",{"data-svelte-h":!0}),j(P)!=="svelte-eum8k3"&&(P.textContent=vt),it=v(Z),Y=d(Z,"TD",{});var Tt=h(Y);M=T(Tt,z),Tt.forEach(i),Z.forEach(i),$.forEach(i),$t.forEach(i),C.forEach(i),this.h()},h(){ct(n,"class","table bg-transparent"),ct(e,"id","role-view")},m(_,C){x(_,e,C),a(e,n),a(n,t),a(t,r),a(r,o),a(r,c),a(r,u),a(u,g),a(t,q),a(t,k),a(k,U),a(k,rt),a(k,B),a(B,F),a(t,nt),a(t,w),a(w,y),a(w,ot),a(w,N),a(N,G),a(t,at),p&&p.m(t,null),a(t,J),a(t,D),a(D,A),a(D,lt),a(D,O),a(O,K),a(t,st),a(t,R),a(R,P),a(R,it),a(R,Y),a(Y,M)},p(_,C){C&1&&m!==(m=_[0].uuid+"")&&S(g,m),C&1&&I!==(I=_[0].email+"")&&S(F,I),C&1&&L!==(L=_[0].active+"")&&S(G,L),_[0].subject?p?p.p(_,C):(p=Dt(_),p.c(),p.m(t,J)):p&&(p.d(1),p=null),C&5&&H!==(H=(typeof _[2]!="string"?_[2].label:_[0].connection)+"")&&S(K,H),C&2&&z!==(z=_[1].map(Rt).join(", ")+"")&&S(M,z)},i:ft,o:ft,d(_){_&&i(e),p&&p.d()}}}function Dt(s){let e,n,t="Subject:",r,o,l=s[0].subject+"",c;return{c(){e=f("tr"),n=f("td"),n.textContent=t,r=b(),o=f("td"),c=E(l)},l(u){e=d(u,"TR",{});var m=h(e);n=d(m,"TD",{"data-svelte-h":!0}),j(n)!=="svelte-1kscmm0"&&(n.textContent=t),r=v(m),o=d(m,"TD",{});var g=h(o);c=T(g,l),g.forEach(i),m.forEach(i)},m(u,m){x(u,e,m),a(e,n),a(e,r),a(e,o),a(o,c)},p(u,m){m&1&&l!==(l=u[0].subject+"")&&S(c,l)},d(u){u&&i(e)}}}function Jt(s){let e,n="Loading",t,r,o;return r=new Bt({props:{animIndeterminate:"anim-progress-bar"}}),{c(){e=f("h3"),e.textContent=n,t=b(),dt(r.$$.fragment),this.h()},l(l){e=d(l,"H3",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-16fo5h6"&&(e.textContent=n),t=v(l),ut(r.$$.fragment,l),this.h()},h(){ct(e,"class","text-left")},m(l,c){x(l,e,c),x(l,t,c),mt(r,l,c),o=!0},p:ft,i(l){o||(tt(r.$$.fragment,l),o=!0)},o(l){et(r.$$.fragment,l),o=!1},d(l){l&&(i(e),i(t)),pt(r,l)}}}function Kt(s){let e,n,t={ctx:s,current:null,token:null,hasCatch:!0,pending:Jt,then:Gt,catch:zt,blocks:[,,,]};return Ut(s[4](),t),{c(){e=wt(),t.block.c()},l(r){e=wt(),t.block.l(r)},m(r,o){x(r,e,o),t.block.m(r,t.anchor=o),t.mount=()=>e.parentNode,t.anchor=e,n=!0},p(r,o){s=r,yt(t,s,o)},i(r){n||(tt(t.block),n=!0)},o(r){for(let o=0;o<3;o+=1){const l=t.blocks[o];et(l)}n=!1},d(r){r&&i(e),t.block.d(r),t.token=null,t=null}}}function Mt(s){let e,n,t;return document.title=It.applicationName+" | User Summary",n=new Lt({props:{title:"User Summary",backUrl:"/admin/users",backTitle:"Back to Users",$$slots:{default:[Kt]},$$scope:{ctx:s}}}),{c(){e=b(),dt(n.$$.fragment)},l(r){jt("svelte-mtqxya",document.head).forEach(i),e=v(r),ut(n.$$.fragment,r)},m(r,o){x(r,e,o),mt(n,r,o),t=!0},p(r,[o]){const l={};o&527&&(l.$$scope={dirty:o,ctx:r}),n.$set(l)},i(r){t||(tt(n.$$.fragment,r),t=!0)},o(r){et(n.$$.fragment,r),t=!1},d(r){r&&i(e),pt(n,r)}}}const Rt=s=>s.name;function Qt(s,e,n){let t;xt(s,qt,k=>n(3,t=k));const{loadUsers:r,getUser:o}=Ot,{getRole:l}=Ht,{getConnection:c}=Yt;let u,m,g;async function q(){await r(),n(0,u=await o(t.params.uuid)),n(2,g=await c(u.connection)||""),n(1,m=await Promise.all(u.roles.map(l)))}return[u,m,g,t,q]}class ie extends At{constructor(e){super(),Pt(this,e,Qt,Mt,St,{})}}export{ie as component};
