import"../chunks/Bzak7iHL.js";import{p as W,h as $,i as R,c as X,t as m,e as Y,a as Z,b as c,$ as tt,n as rt,j as at,f as L,d as t,s as a,r,k as e,l as x}from"../chunks/DhSNEPDw.js";import{h as et,s as i}from"../chunks/DVtHS8ol.js";import{a as ot}from"../chunks/Jhkhy7E3.js";import{i as st}from"../chunks/BG76zvuN.js";import{p as I}from"../chunks/CftmxiRQ.js";import{b as it}from"../chunks/BZHGrlEE.js";import{E as nt}from"../chunks/nxdkf_Tf.js";import{C as dt}from"../chunks/DCcVgSs7.js";import{U as lt}from"../chunks/Due1mG5I.js";import{R as mt}from"../chunks/DQg6N8Wr.js";import{C as ct}from"../chunks/7RAg21gG.js";import{L as pt}from"../chunks/bwStxD3u.js";var vt=L("<tr><td>Subject:</td><td> </td></tr>"),ut=L('<section id="role-view"><table class="table bg-transparent"><tbody><tr><td>Id:</td><td> </td></tr><tr><td>Email:</td><td> </td></tr><tr><td>Active:</td><td> </td></tr><!><tr><td>Connection:</td><td> </td></tr><tr><td>Roles:</td><td> </td></tr></tbody></table></section>');function At(B,M){W(M,!0);const{loadUsers:N,getUser:T}=lt,{getRole:q}=mt,{getConnection:z}=ct;let o=$(R({connection:"",generalMetadata:"",active:!1,roles:[]})),h=$(R([])),p=$("");async function D(){await N(),x(o,await T(I.params.uuid),!0),x(p,await z(e(o).connection)||"",!0),x(h,await Promise.all(e(o).roles.map(q)),!0)}et(y=>{m(()=>tt.title=`${it.applicationName??""} | User Summary`)}),dt(B,{title:"User Summary",backUrl:"/admin/users",backTitle:"Back to Users",children:(y,_t)=>{var U=Y(),F=Z(U);ot(F,D,n=>{pt(n,{})},n=>{var d=ut(),v=t(d),l=t(v),u=t(l),w=a(t(u)),G=t(w,!0);r(w),r(u);var _=a(u),k=a(t(_)),H=t(k,!0);r(k),r(_);var f=a(_),C=a(t(f)),J=t(C,!0);r(C),r(f);var S=a(f);{var K=s=>{var g=vt(),P=a(t(g)),V=t(P,!0);r(P),r(g),m(()=>i(V,e(o).subject)),c(s,g)};st(S,s=>{e(o).subject&&s(K)})}var b=a(S),j=a(t(b)),O=t(j,!0);r(j),r(b);var A=a(b),E=a(t(A)),Q=t(E,!0);r(E),r(A),r(l),r(v),r(d),m(s=>{i(G,e(o).uuid),i(H,e(o).email),i(J,e(o).active),i(O,typeof e(p)!="string"?e(p).label:e(o).connection),i(Q,s)},[()=>e(h).map(s=>s.name).join(", ")]),c(n,d)},n=>{nt(n,{title:"API Error",children:(d,v)=>{rt();var l=at();m(()=>i(l,`An error occured while retrieving dataset ${I.params.uuid??""}.`)),c(d,l)},$$slots:{default:!0}})}),c(y,U)},$$slots:{default:!0}}),X()}export{At as component};
