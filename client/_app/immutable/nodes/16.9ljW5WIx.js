import{s as dt,a as v,p as pt,f as c,g as $,i as D,k as _t,q as mt,e as u,t as E,c as m,b as f,d as T,h as l,j as B,l as q,m as Y,n as Z}from"../chunks/scheduler.bui7uCNy.js";import{h as ht,u as vt}from"../chunks/await_block.B6WJ5gpV.js";import{S as $t,i as bt,d as tt,e as et,m as at,t as J,a as K,f as rt}from"../chunks/index.CNwEczq-.js";import{p as gt}from"../chunks/stores.CPF93CS5.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.BuMCQOqK.js";import{P as Ct}from"../chunks/ProgressBar.9v3SLPZo.js";import{b as kt}from"../chunks/configuration.LanpiT2M.js";import{E as Et}from"../chunks/ErrorAlert.DSZ6fs8d.js";import{C as Tt}from"../chunks/Content.BmAiAmv1.js";import{R as wt}from"../chunks/Roles.aiARZupi.js";import{P as xt}from"../chunks/Privileges.D8dQTHqF.js";function Pt(s){let a,r;return a=new Et({props:{title:"API Error",$$slots:{default:[Dt]},$$scope:{ctx:s}}}),{c(){tt(a.$$.fragment)},l(t){et(a.$$.fragment,t)},m(t,e){at(a,t,e),r=!0},p(t,e){const n={};e&260&&(n.$$scope={dirty:e,ctx:t}),a.$set(n)},i(t){r||(J(a.$$.fragment,t),r=!0)},o(t){K(a.$$.fragment,t),r=!1},d(t){rt(a,t)}}}function Dt(s){let a,r,t=s[2].params.uuid+"",e,n;return{c(){a=u("p"),r=E("An error occured while retrieving dataset "),e=E(t),n=E(".")},l(o){a=m(o,"P",{});var i=f(a);r=T(i,"An error occured while retrieving dataset "),e=T(i,t),n=T(i,"."),i.forEach(c)},m(o,i){D(o,a,i),l(a,r),l(a,e),l(a,n)},p(o,i){i&4&&t!==(t=o[2].params.uuid+"")&&B(e,t)},d(o){o&&c(a)}}}function Rt(s){let a,r,t,e,n="ID:",o,i,p=s[0].uuid+"",g,R,_,w,ot="Name:",M,S,A=s[0].name+"",y,Q,C,x,nt="Description:",V,j,I=s[0].description+"",L,W,k,P,lt="Privileges:",X,N,z=s[1].map(ft).join(", ")+"",H;return{c(){a=u("section"),r=u("table"),t=u("tr"),e=u("td"),e.textContent=n,o=v(),i=u("td"),g=E(p),R=v(),_=u("tr"),w=u("td"),w.textContent=ot,M=v(),S=u("td"),y=E(A),Q=v(),C=u("tr"),x=u("td"),x.textContent=nt,V=v(),j=u("td"),L=E(I),W=v(),k=u("tr"),P=u("td"),P.textContent=lt,X=v(),N=u("td"),H=E(z),this.h()},l(d){a=m(d,"SECTION",{id:!0});var h=f(a);r=m(h,"TABLE",{class:!0});var b=f(r);t=m(b,"TR",{});var O=f(t);e=m(O,"TD",{"data-svelte-h":!0}),q(e)!=="svelte-czj0bp"&&(e.textContent=n),o=$(O),i=m(O,"TD",{});var st=f(i);g=T(st,p),st.forEach(c),O.forEach(c),R=$(b),_=m(b,"TR",{});var U=f(_);w=m(U,"TD",{"data-svelte-h":!0}),q(w)!=="svelte-1h12c2b"&&(w.textContent=ot),M=$(U),S=m(U,"TD",{});var it=f(S);y=T(it,A),it.forEach(c),U.forEach(c),Q=$(b),C=m(b,"TR",{});var F=f(C);x=m(F,"TD",{"data-svelte-h":!0}),q(x)!=="svelte-9t1c8u"&&(x.textContent=nt),V=$(F),j=m(F,"TD",{});var ct=f(j);L=T(ct,I),ct.forEach(c),F.forEach(c),W=$(b),k=m(b,"TR",{});var G=f(k);P=m(G,"TD",{"data-svelte-h":!0}),q(P)!=="svelte-bu3atw"&&(P.textContent=lt),X=$(G),N=m(G,"TD",{});var ut=f(N);H=T(ut,z),ut.forEach(c),G.forEach(c),b.forEach(c),h.forEach(c),this.h()},h(){Y(r,"class","table bg-transparent"),Y(a,"id","role-view")},m(d,h){D(d,a,h),l(a,r),l(r,t),l(t,e),l(t,o),l(t,i),l(i,g),l(r,R),l(r,_),l(_,w),l(_,M),l(_,S),l(S,y),l(r,Q),l(r,C),l(C,x),l(C,V),l(C,j),l(j,L),l(r,W),l(r,k),l(k,P),l(k,X),l(k,N),l(N,H)},p(d,h){h&1&&p!==(p=d[0].uuid+"")&&B(g,p),h&1&&A!==(A=d[0].name+"")&&B(y,A),h&1&&I!==(I=d[0].description+"")&&B(L,I),h&2&&z!==(z=d[1].map(ft).join(", ")+"")&&B(H,z)},i:Z,o:Z,d(d){d&&c(a)}}}function St(s){let a,r="Loading",t,e,n;return e=new Ct({props:{animIndeterminate:"anim-progress-bar"}}),{c(){a=u("h3"),a.textContent=r,t=v(),tt(e.$$.fragment),this.h()},l(o){a=m(o,"H3",{class:!0,"data-svelte-h":!0}),q(a)!=="svelte-16fo5h6"&&(a.textContent=r),t=$(o),et(e.$$.fragment,o),this.h()},h(){Y(a,"class","text-left")},m(o,i){D(o,a,i),D(o,t,i),at(e,o,i),n=!0},p:Z,i(o){n||(J(e.$$.fragment,o),n=!0)},o(o){K(e.$$.fragment,o),n=!1},d(o){o&&(c(a),c(t)),rt(e,o)}}}function At(s){let a,r,t={ctx:s,current:null,token:null,hasCatch:!0,pending:St,then:Rt,catch:Pt,blocks:[,,,]};return ht(s[3](),t),{c(){a=mt(),t.block.c()},l(e){a=mt(),t.block.l(e)},m(e,n){D(e,a,n),t.block.m(e,t.anchor=n),t.mount=()=>a.parentNode,t.anchor=a,r=!0},p(e,n){s=e,vt(t,s,n)},i(e){r||(J(t.block),r=!0)},o(e){for(let n=0;n<3;n+=1){const o=t.blocks[n];K(o)}r=!1},d(e){e&&c(a),t.block.d(e),t.token=null,t=null}}}function jt(s){let a,r,t;return document.title=kt.applicationName+" | Role Summary",r=new Tt({props:{title:"Role Summary",backUrl:"/admin/authorization",backTitle:"Back to Authorization",$$slots:{default:[At]},$$scope:{ctx:s}}}),{c(){a=v(),tt(r.$$.fragment)},l(e){pt("svelte-72v14l",document.head).forEach(c),a=$(e),et(r.$$.fragment,e)},m(e,n){D(e,a,n),at(r,e,n),t=!0},p(e,[n]){const o={};n&263&&(o.$$scope={dirty:n,ctx:e}),r.$set(o)},i(e){t||(J(r.$$.fragment,e),t=!0)},o(e){K(r.$$.fragment,e),t=!1},d(e){e&&c(a),rt(r,e)}}}const ft=s=>s.name;function It(s,a,r){let t;_t(s,gt,_=>r(2,t=_));const{loadRoles:e,getRole:n}=wt,{loadPrivileges:o,getPrivilege:i}=xt;let p,g;async function R(){await e(),await o(),r(0,p=await n(t.params.uuid)),r(1,g=await Promise.all(p.privileges.map(i)))}return[p,g,t,R]}class Jt extends $t{constructor(a){super(),bt(this,a,It,jt,dt,{})}}export{Jt as component};
