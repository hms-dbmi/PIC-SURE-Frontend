import{s as B,e as g,a as x,c as $,b as A,f as m,g as P,l as T,m as i,i as E,h as b,u as V,a0 as L,n as S,w as K,t as te,d as ne,j as le,p as ae,k as F}from"../chunks/DfqJWsAP.js";import{h as G,u as J}from"../chunks/Cn0d3STq.js";import{S as U,i as j,d as H,e as M,m as q,t as N,a as D,f as O}from"../chunks/B9sU1H0B.js";import"../chunks/8fc_wYz-.js";import{P as Q}from"../chunks/CTXdiFMz.js";import{g as Y}from"../chunks/DA0IzwqI.js";import{b as re}from"../chunks/DXXfEZPn.js";import{E as W}from"../chunks/P0CHC8Ln.js";import{C as oe}from"../chunks/SXpdNYfp.js";import{T as X}from"../chunks/BOL4pBGU.js";import{g as Z}from"../chunks/BWY6sm7c.js";import{g as ee}from"../chunks/D4yaORjf.js";import{R as se,l as ie,r as ce}from"../chunks/CC3Nk4BD.js";import{P as ue,b as de,l as fe}from"../chunks/Cg9HbQ4q.js";import{d as me,l as pe,c as be}from"../chunks/CjRA7bPa.js";import{A as ge,l as $e}from"../chunks/hboX4lyO.js";function he(o){let e,n,t,l,r,a="Edit",c,p,s,h,C,v,I="Delete",k,y,w;return{c(){e=g("div"),n=g("button"),t=g("i"),l=x(),r=g("span"),r.textContent=a,p=x(),s=g("button"),h=g("i"),C=x(),v=g("span"),v.textContent=I,this.h()},l(f){e=$(f,"DIV",{class:!0});var u=A(e);n=$(u,"BUTTON",{"data-testid":!0,type:!0,title:!0,class:!0});var _=A(n);t=$(_,"I",{class:!0}),A(t).forEach(m),l=P(_),r=$(_,"SPAN",{class:!0,"data-svelte-h":!0}),T(r)!=="svelte-1evs4en"&&(r.textContent=a),_.forEach(m),p=P(u),s=$(u,"BUTTON",{"data-testid":!0,type:!0,title:!0,class:!0});var d=A(s);h=$(d,"I",{class:!0}),A(h).forEach(m),C=P(d),v=$(d,"SPAN",{class:!0,"data-svelte-h":!0}),T(v)!=="svelte-18sehy8"&&(v.textContent=I),d.forEach(m),u.forEach(m),this.h()},h(){i(t,"class","fa-solid fa-pen-to-square fa-xl"),i(r,"class","sr-only"),i(n,"data-testid",c=`role-edit-btn-${o[0].cell}`),i(n,"type","button"),i(n,"title","Edit"),i(n,"class","btn-icon-color"),i(h,"class","fa-solid fa-trash fa-xl"),i(v,"class","sr-only"),i(s,"data-testid",k=`role-delete-btn-${o[0].cell}`),i(s,"type","button"),i(s,"title","Delete"),i(s,"class","btn-icon-color"),i(e,"class","w-20 min-w-20")},m(f,u){E(f,e,u),b(e,n),b(n,t),b(n,l),b(n,r),b(e,p),b(e,s),b(s,h),b(s,C),b(s,v),y||(w=[V(n,"click",L(o[2])),V(s,"click",L(o[1]))],y=!0)},p(f,[u]){u&1&&c!==(c=`role-edit-btn-${f[0].cell}`)&&i(n,"data-testid",c),u&1&&k!==(k=`role-delete-btn-${f[0].cell}`)&&i(s,"data-testid",k)},i:S,o:S,d(f){f&&m(e),y=!1,K(w)}}}function ve(o,e,n){const t=Z(),l=ee(),{deleteRole:r}=se;let{data:a={cell:"",row:{name:""}}}=e;function c(){const s=a.row.name;t.trigger({type:"confirm",title:"Delete Role?",body:`Are you sure you want to delete role '${s}'?`,buttonTextConfirm:"Yes",buttonTextCancel:"No",response:async h=>{if(h)try{await r(a.cell),l.trigger({message:`Successfully deleted role '${s}'`,background:"variant-filled-success"})}catch(C){console.error(C),l.trigger({message:`An error occured while deleting role '${s}'`,background:"variant-filled-error"})}}})}const p=()=>Y(`/admin/configuration/role/${a.cell}/edit`);return o.$$set=s=>{"data"in s&&n(0,a=s.data)},[a,c,p]}class _e extends U{constructor(e){super(),j(this,e,ve,he,B,{data:0})}}function Ce(o){let e,n,t,l,r,a="Edit",c,p,s,h,C,v,I="Delete",k,y,w;return{c(){e=g("div"),n=g("button"),t=g("i"),l=x(),r=g("span"),r.textContent=a,p=x(),s=g("button"),h=g("i"),C=x(),v=g("span"),v.textContent=I,this.h()},l(f){e=$(f,"DIV",{class:!0});var u=A(e);n=$(u,"BUTTON",{"data-testid":!0,type:!0,title:!0,class:!0});var _=A(n);t=$(_,"I",{class:!0}),A(t).forEach(m),l=P(_),r=$(_,"SPAN",{class:!0,"data-svelte-h":!0}),T(r)!=="svelte-1evs4en"&&(r.textContent=a),_.forEach(m),p=P(u),s=$(u,"BUTTON",{"data-testid":!0,type:!0,title:!0,class:!0});var d=A(s);h=$(d,"I",{class:!0}),A(h).forEach(m),C=P(d),v=$(d,"SPAN",{class:!0,"data-svelte-h":!0}),T(v)!=="svelte-18sehy8"&&(v.textContent=I),d.forEach(m),u.forEach(m),this.h()},h(){i(t,"class","fa-solid fa-pen-to-square fa-xl"),i(r,"class","sr-only"),i(n,"data-testid",c=`privilege-edit-btn-${o[0].cell}`),i(n,"type","button"),i(n,"title","Edit"),i(n,"class","btn-icon-color"),i(h,"class","fa-solid fa-trash fa-xl"),i(v,"class","sr-only"),i(s,"data-testid",k=`privilege-delete-btn-${o[0].cell}`),i(s,"type","button"),i(s,"title","Delete"),i(s,"class","btn-icon-color"),i(e,"class","w-20 min-w-20")},m(f,u){E(f,e,u),b(e,n),b(n,t),b(n,l),b(n,r),b(e,p),b(e,s),b(s,h),b(s,C),b(s,v),y||(w=[V(n,"click",L(o[2])),V(s,"click",L(o[1]))],y=!0)},p(f,[u]){u&1&&c!==(c=`privilege-edit-btn-${f[0].cell}`)&&i(n,"data-testid",c),u&1&&k!==(k=`privilege-delete-btn-${f[0].cell}`)&&i(s,"data-testid",k)},i:S,o:S,d(f){f&&m(e),y=!1,K(w)}}}function ke(o,e,n){const t=Z(),l=ee(),{deletePrivilege:r}=ue;let{data:a={cell:"",row:{name:""}}}=e;function c(){const s=a.row.name;t.trigger({type:"confirm",title:"Delete Privilege?",body:`Are you sure you want to delete privilege '${s}'?`,buttonTextConfirm:"Yes",buttonTextCancel:"No",response:async h=>{if(h)try{await r(a.cell),l.trigger({message:`Successfully deleted privilege '${s}'`,background:"variant-filled-success"})}catch(C){console.error(C),l.trigger({message:`An error occured while deleting privilege '${s}'`,background:"variant-filled-error"})}}})}const p=()=>Y(`/admin/configuration/privilege/${a.cell}/edit`);return o.$$set=s=>{"data"in s&&n(0,a=s.data)},[a,c,p]}class we extends U{constructor(e){super(),j(this,e,ke,Ce,B,{data:0})}}function ye(o){let e,n,t,l,r,a="Edit",c,p,s,h,C,v,I="Delete",k,y,w;return{c(){e=g("div"),n=g("button"),t=g("i"),l=x(),r=g("span"),r.textContent=a,p=x(),s=g("button"),h=g("i"),C=x(),v=g("span"),v.textContent=I,this.h()},l(f){e=$(f,"DIV",{class:!0});var u=A(e);n=$(u,"BUTTON",{"data-testid":!0,type:!0,title:!0,class:!0});var _=A(n);t=$(_,"I",{class:!0}),A(t).forEach(m),l=P(_),r=$(_,"SPAN",{class:!0,"data-svelte-h":!0}),T(r)!=="svelte-1evs4en"&&(r.textContent=a),_.forEach(m),p=P(u),s=$(u,"BUTTON",{"data-testid":!0,type:!0,title:!0,class:!0});var d=A(s);h=$(d,"I",{class:!0}),A(h).forEach(m),C=P(d),v=$(d,"SPAN",{class:!0,"data-svelte-h":!0}),T(v)!=="svelte-18sehy8"&&(v.textContent=I),d.forEach(m),u.forEach(m),this.h()},h(){i(t,"class","fa-solid fa-pen-to-square fa-xl"),i(r,"class","sr-only"),i(n,"data-testid",c=`connection-edit-btn-${o[0].cell}`),i(n,"type","button"),i(n,"title","Edit"),i(n,"class","btn-icon-color"),i(h,"class","fa-solid fa-trash fa-xl"),i(v,"class","sr-only"),i(s,"data-testid",k=`connection-delete-btn-${o[0].cell}`),i(s,"type","button"),i(s,"title","Delete"),i(s,"class","btn-icon-color"),i(e,"class","w-20 min-w-20")},m(f,u){E(f,e,u),b(e,n),b(n,t),b(n,l),b(n,r),b(e,p),b(e,s),b(s,h),b(s,C),b(s,v),y||(w=[V(n,"click",L(o[2])),V(s,"click",L(o[1]))],y=!0)},p(f,[u]){u&1&&c!==(c=`connection-edit-btn-${f[0].cell}`)&&i(n,"data-testid",c),u&1&&k!==(k=`connection-delete-btn-${f[0].cell}`)&&i(s,"data-testid",k)},i:S,o:S,d(f){f&&m(e),y=!1,K(w)}}}function Ee(o,e,n){const t=Z(),l=ee();let{data:r={cell:"",row:{label:""}}}=e;function a(){const p=r.row.label;t.trigger({type:"confirm",title:"Delete Connection?",body:`Are you sure you want to delete connection '${p}'?`,buttonTextConfirm:"Yes",buttonTextCancel:"No",response:async s=>{if(s)try{await me(r.cell),l.trigger({message:`Successfully deleted connection '${p}'`,background:"variant-filled-success"})}catch(h){console.error(h),l.trigger({message:`An error occured while deleting connection '${p}'`,background:"variant-filled-error"})}}})}const c=()=>Y(`/admin/configuration/connection/${r.cell}/edit`);return o.$$set=p=>{"data"in p&&n(0,r=p.data)},[r,a,c]}class xe extends U{constructor(e){super(),j(this,e,Ee,ye,B,{data:0})}}function Ae(o){let e=(o[0].cell?o[1](o[0].cell).name:"none")+"",n;return{c(){n=te(e)},l(t){n=ne(t,e)},m(t,l){E(t,n,l)},p(t,[l]){l&1&&e!==(e=(t[0].cell?t[1](t[0].cell).name:"none")+"")&&le(n,e)},i:S,o:S,d(t){t&&m(n)}}}function Pe(o,e,n){const{getApplication:t}=ge;let{data:l}=e;return o.$$set=r=>{"data"in r&&n(0,l=r.data)},[l,t]}class Te extends U{constructor(e){super(),j(this,e,Pe,Ae,B,{data:0})}}function Se(o){let e,n;return e=new W({props:{title:"API Error",$$slots:{default:[Ie]},$$scope:{ctx:o}}}),{c(){H(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,l){q(e,t,l),n=!0},p(t,l){const r={};l&2048&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(N(e.$$.fragment,t),n=!0)},o(t){D(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Ie(o){let e,n="Something went wrong when sending your request for roles.";return{c(){e=g("p"),e.textContent=n},l(t){e=$(t,"P",{"data-svelte-h":!0}),T(e)!=="svelte-1sz3j1"&&(e.textContent=n)},m(t,l){E(t,e,l)},p:S,d(t){t&&m(e)}}}function Ne(o){let e,n='<div class="flex-auto"><a data-testid="add-role" class="btn variant-ghost-primary hover:variant-filled-primary" href="/admin/configuration/role/new">+ Add Role</a></div>',t,l,r;return l=new X({props:{tableName:"Roles",data:o[0],columns:o[3].columns,cellOverides:o[3].overrides,defaultRowsPerPage:10,rowClickHandler:o[7],isClickable:!0}}),{c(){e=g("div"),e.innerHTML=n,t=x(),H(l.$$.fragment),this.h()},l(a){e=$(a,"DIV",{class:!0,"data-svelte-h":!0}),T(e)!=="svelte-1hw1r0o"&&(e.innerHTML=n),t=P(a),M(l.$$.fragment,a),this.h()},h(){i(e,"class","flex gap-4 my-6")},m(a,c){E(a,e,c),E(a,t,c),q(l,a,c),r=!0},p(a,c){const p={};c&1&&(p.data=a[0]),l.$set(p)},i(a){r||(N(l.$$.fragment,a),r=!0)},o(a){D(l.$$.fragment,a),r=!1},d(a){a&&(m(e),m(t)),O(l,a)}}}function De(o){let e,n;return e=new Q({props:{animIndeterminate:"anim-progress-bar"}}),{c(){H(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,l){q(e,t,l),n=!0},p:S,i(t){n||(N(e.$$.fragment,t),n=!0)},o(t){D(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Re(o){let e,n;return e=new W({props:{title:"API Error",$$slots:{default:[He]},$$scope:{ctx:o}}}),{c(){H(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,l){q(e,t,l),n=!0},p(t,l){const r={};l&2048&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(N(e.$$.fragment,t),n=!0)},o(t){D(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function He(o){let e,n="Something went wrong when sending your request for priviledges and applications.";return{c(){e=g("p"),e.textContent=n},l(t){e=$(t,"P",{"data-svelte-h":!0}),T(e)!=="svelte-1h8o03w"&&(e.textContent=n)},m(t,l){E(t,e,l)},p:S,d(t){t&&m(e)}}}function Me(o){let e,n='<div class="flex-auto"><a data-testid="add-privilege" class="btn variant-ghost-primary hover:variant-filled-primary" href="/admin/configuration/privilege/new">+ Add Privilege</a></div>',t,l,r;return l=new X({props:{tableName:"Privileges",data:o[1],columns:o[4].columns,cellOverides:o[4].overrides,defaultRowsPerPage:10,rowClickHandler:o[8],isClickable:!0}}),{c(){e=g("div"),e.innerHTML=n,t=x(),H(l.$$.fragment),this.h()},l(a){e=$(a,"DIV",{class:!0,"data-svelte-h":!0}),T(e)!=="svelte-mbuosb"&&(e.innerHTML=n),t=P(a),M(l.$$.fragment,a),this.h()},h(){i(e,"class","flex gap-4 my-6")},m(a,c){E(a,e,c),E(a,t,c),q(l,a,c),r=!0},p(a,c){const p={};c&2&&(p.data=a[1]),l.$set(p)},i(a){r||(N(l.$$.fragment,a),r=!0)},o(a){D(l.$$.fragment,a),r=!1},d(a){a&&(m(e),m(t)),O(l,a)}}}function qe(o){let e,n;return e=new Q({props:{animIndeterminate:"anim-progress-bar"}}),{c(){H(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,l){q(e,t,l),n=!0},p:S,i(t){n||(N(e.$$.fragment,t),n=!0)},o(t){D(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Oe(o){let e,n;return e=new W({props:{title:"API Error",$$slots:{default:[Ve]},$$scope:{ctx:o}}}),{c(){H(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,l){q(e,t,l),n=!0},p(t,l){const r={};l&2048&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(N(e.$$.fragment,t),n=!0)},o(t){D(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Ve(o){let e,n="Something went wrong when sending your request for connections.";return{c(){e=g("p"),e.textContent=n},l(t){e=$(t,"P",{"data-svelte-h":!0}),T(e)!=="svelte-wnkzt9"&&(e.textContent=n)},m(t,l){E(t,e,l)},p:S,d(t){t&&m(e)}}}function Le(o){let e,n='<div class="flex-auto"><a data-testid="add-connection" class="btn variant-ghost-primary hover:variant-filled-primary" href="/admin/configuration/connection/new">+ Add Connection</a></div>',t,l,r;return l=new X({props:{tableName:"Connections",data:o[2],columns:o[5].columns,cellOverides:o[5].overrides,defaultRowsPerPage:10,rowClickHandler:o[9],isClickable:!0}}),{c(){e=g("div"),e.innerHTML=n,t=x(),H(l.$$.fragment),this.h()},l(a){e=$(a,"DIV",{class:!0,"data-svelte-h":!0}),T(e)!=="svelte-1gt2dhk"&&(e.innerHTML=n),t=P(a),M(l.$$.fragment,a),this.h()},h(){i(e,"class","flex gap-4 my-6")},m(a,c){E(a,e,c),E(a,t,c),q(l,a,c),r=!0},p(a,c){const p={};c&4&&(p.data=a[2]),l.$set(p)},i(a){r||(N(l.$$.fragment,a),r=!0)},o(a){D(l.$$.fragment,a),r=!1},d(a){a&&(m(e),m(t)),O(l,a)}}}function Be(o){let e,n;return e=new Q({props:{animIndeterminate:"anim-progress-bar"}}),{c(){H(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,l){q(e,t,l),n=!0},p:S,i(t){n||(N(e.$$.fragment,t),n=!0)},o(t){D(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Ue(o){let e,n,t="Roles Management",l,r,a,c,p="Privileges Management",s,h,C,v,I="Connections Management",k,y,w={ctx:o,current:null,token:null,hasCatch:!0,pending:De,then:Ne,catch:Se,blocks:[,,,]};G(ie(),w);let f={ctx:o,current:null,token:null,hasCatch:!0,pending:qe,then:Me,catch:Re,blocks:[,,,]};G(o[6](),f);let u={ctx:o,current:null,token:null,hasCatch:!0,pending:Be,then:Le,catch:Oe,blocks:[,,,]};return G(pe(),u),{c(){e=g("div"),n=g("h2"),n.textContent=t,l=x(),w.block.c(),r=x(),a=g("div"),c=g("h2"),c.textContent=p,s=x(),f.block.c(),h=x(),C=g("div"),v=g("h2"),v.textContent=I,k=x(),u.block.c(),this.h()},l(_){e=$(_,"DIV",{id:!0,class:!0});var d=A(e);n=$(d,"H2",{"data-svelte-h":!0}),T(n)!=="svelte-iva7uy"&&(n.textContent=t),l=P(d),w.block.l(d),d.forEach(m),r=P(_),a=$(_,"DIV",{id:!0,class:!0});var R=A(a);c=$(R,"H2",{"data-svelte-h":!0}),T(c)!=="svelte-1u9r2oz"&&(c.textContent=p),s=P(R),f.block.l(R),R.forEach(m),h=P(_),C=$(_,"DIV",{id:!0,class:!0});var z=A(C);v=$(z,"H2",{"data-svelte-h":!0}),T(v)!=="svelte-1okbge2"&&(v.textContent=I),k=P(z),u.block.l(z),z.forEach(m),this.h()},h(){i(e,"id","role-table"),i(e,"class","mb-10"),i(a,"id","privilege-table"),i(a,"class","mb-10"),i(C,"id","connection-table"),i(C,"class","mb-10")},m(_,d){E(_,e,d),b(e,n),b(e,l),w.block.m(e,w.anchor=null),w.mount=()=>e,w.anchor=null,E(_,r,d),E(_,a,d),b(a,c),b(a,s),f.block.m(a,f.anchor=null),f.mount=()=>a,f.anchor=null,E(_,h,d),E(_,C,d),b(C,v),b(C,k),u.block.m(C,u.anchor=null),u.mount=()=>C,u.anchor=null,y=!0},p(_,d){o=_,J(w,o,d),J(f,o,d),J(u,o,d)},i(_){y||(N(w.block),N(f.block),N(u.block),y=!0)},o(_){for(let d=0;d<3;d+=1){const R=w.blocks[d];D(R)}for(let d=0;d<3;d+=1){const R=f.blocks[d];D(R)}for(let d=0;d<3;d+=1){const R=u.blocks[d];D(R)}y=!1},d(_){_&&(m(e),m(r),m(a),m(h),m(C)),w.block.d(),w.token=null,w=null,f.block.d(),f.token=null,f=null,u.block.d(),u.token=null,u=null}}}function je(o){let e,n,t;return document.title=re.applicationName+" | Configuration",n=new oe({props:{title:"Configuration",$$slots:{default:[Ue]},$$scope:{ctx:o}}}),{c(){e=x(),H(n.$$.fragment)},l(l){ae("svelte-wij333",document.head).forEach(m),e=P(l),M(n.$$.fragment,l)},m(l,r){E(l,e,r),q(n,l,r),t=!0},p(l,[r]){const a={};r&2055&&(a.$$scope={dirty:r,ctx:l}),n.$set(a)},i(l){t||(N(n.$$.fragment,l),t=!0)},o(l){D(n.$$.fragment,l),t=!1},d(l){l&&m(e),O(n,l)}}}function ze(o,e,n){let t,l,r;F(o,ce,k=>n(0,t=k)),F(o,de,k=>n(1,l=k)),F(o,be,k=>n(2,r=k));const a={columns:[{dataElement:"name",label:"Name",sort:!0},{dataElement:"description",label:"Description",sort:!0},{dataElement:"uuid",label:"Actions"}],overrides:{uuid:_e}},c={columns:[{dataElement:"name",label:"Name",sort:!0},{dataElement:"description",label:"Description",sort:!0},{dataElement:"application",label:"Application Name",sort:!0},{dataElement:"uuid",label:"Actions"}],overrides:{uuid:we,application:Te}},p={columns:[{dataElement:"label",label:"Label",sort:!0},{dataElement:"id",label:"ID",sort:!0},{dataElement:"subPrefix",label:"Sub prefix",sort:!0},{dataElement:"requiredFields",label:"Required fields",sort:!0},{dataElement:"uuid",label:"Actions"}],overrides:{uuid:xe}};async function s(){await fe(),await $e()}const h=k=>y=>{const w=y==null?void 0:y.uuid;Y(`/admin/configuration/${k}/${w}/edit`)},C=h("role"),v=h("privilege"),I=h("connection");return[t,l,r,a,c,p,s,C,v,I]}class st extends U{constructor(e){super(),j(this,e,ze,je,B,{})}}export{st as component};
