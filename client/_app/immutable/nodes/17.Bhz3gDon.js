import{s as I,a as P,p as N,f as i,g as R,i as c,k as E,q as C,e as k,t as h,c as v,b as A,d as g,h as b,j as q,m as L,l as y,n as z}from"../chunks/scheduler.bui7uCNy.js";import{h as B,u as T}from"../chunks/await_block.B6WJ5gpV.js";import{S as j,i as F,d as u,e as p,m as d,t as m,a as f,f as $}from"../chunks/index.CNwEczq-.js";import{p as H}from"../chunks/stores.BKrgnEYe.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.BKgxDQCH.js";import{P as O}from"../chunks/ProgressBar.D1fYgeuQ.js";import{b as U}from"../chunks/configuration.LanpiT2M.js";import{E as D}from"../chunks/ErrorAlert.VXgRa8sz.js";import{C as G}from"../chunks/Content.BgW9n-P2.js";import{R as J}from"../chunks/RoleForm._w1_ME3n.js";import{R as K}from"../chunks/Roles.CynUmLYc.js";import{P as M}from"../chunks/Privileges.BDpTBwDx.js";function Q(s){let r,o;return r=new D({props:{title:"API Error",$$slots:{default:[V]},$$scope:{ctx:s}}}),{c(){u(r.$$.fragment)},l(t){p(r.$$.fragment,t)},m(t,e){d(r,t,e),o=!0},p(t,e){const a={};e&258&&(a.$$scope={dirty:e,ctx:t}),r.$set(a)},i(t){o||(m(r.$$.fragment,t),o=!0)},o(t){f(r.$$.fragment,t),o=!1},d(t){$(r,t)}}}function V(s){let r,o,t=s[1].params.uuid+"",e,a;return{c(){r=k("p"),o=h("An error occured while retrieving dataset "),e=h(t),a=h(".")},l(n){r=v(n,"P",{});var l=A(r);o=g(l,"An error occured while retrieving dataset "),e=g(l,t),a=g(l,"."),l.forEach(i)},m(n,l){c(n,r,l),b(r,o),b(r,e),b(r,a)},p(n,l){l&2&&t!==(t=n[1].params.uuid+"")&&q(e,t)},d(n){n&&i(r)}}}function W(s){let r,o,t;return o=new J({props:{privilegeList:s[2],role:s[0]}}),{c(){r=k("section"),u(o.$$.fragment),this.h()},l(e){r=v(e,"SECTION",{id:!0});var a=A(r);p(o.$$.fragment,a),a.forEach(i),this.h()},h(){L(r,"id","role-edit")},m(e,a){c(e,r,a),d(o,r,null),t=!0},p(e,a){const n={};a&4&&(n.privilegeList=e[2]),a&1&&(n.role=e[0]),o.$set(n)},i(e){t||(m(o.$$.fragment,e),t=!0)},o(e){f(o.$$.fragment,e),t=!1},d(e){e&&i(r),$(o)}}}function X(s){let r,o="Loading",t,e,a;return e=new O({props:{animIndeterminate:"anim-progress-bar"}}),{c(){r=k("h3"),r.textContent=o,t=P(),u(e.$$.fragment),this.h()},l(n){r=v(n,"H3",{class:!0,"data-svelte-h":!0}),y(r)!=="svelte-16fo5h6"&&(r.textContent=o),t=R(n),p(e.$$.fragment,n),this.h()},h(){L(r,"class","text-left")},m(n,l){c(n,r,l),c(n,t,l),d(e,n,l),a=!0},p:z,i(n){a||(m(e.$$.fragment,n),a=!0)},o(n){f(e.$$.fragment,n),a=!1},d(n){n&&(i(r),i(t)),$(e,n)}}}function Y(s){let r,o,t={ctx:s,current:null,token:null,hasCatch:!0,pending:X,then:W,catch:Q,blocks:[,,,]};return B(s[4](),t),{c(){r=C(),t.block.c()},l(e){r=C(),t.block.l(e)},m(e,a){c(e,r,a),t.block.m(e,t.anchor=a),t.mount=()=>r.parentNode,t.anchor=r,o=!0},p(e,a){s=e,T(t,s,a)},i(e){o||(m(t.block),o=!0)},o(e){for(let a=0;a<3;a+=1){const n=t.blocks[a];f(n)}o=!1},d(e){e&&i(r),t.block.d(e),t.token=null,t=null}}}function Z(s){let r,o,t;return document.title=U.applicationName+" | Edit Role",o=new G({props:{title:"Edit Role",backUrl:"/admin/authorization",backTitle:"Back to Authorization",$$slots:{default:[Y]},$$scope:{ctx:s}}}),{c(){r=P(),u(o.$$.fragment)},l(e){N("svelte-45ifm1",document.head).forEach(i),r=R(e),p(o.$$.fragment,e)},m(e,a){c(e,r,a),d(o,e,a),t=!0},p(e,[a]){const n={};a&263&&(n.$$scope={dirty:a,ctx:e}),o.$set(n)},i(e){t||(m(o.$$.fragment,e),t=!0)},o(e){f(o.$$.fragment,e),t=!1},d(e){e&&i(r),$(o,e)}}}function ee(s,r,o){let t,e;E(s,H,_=>o(1,t=_));const{loadRoles:a,getRole:n}=K,{privilegeList:l,loadPrivileges:S}=M;E(s,l,_=>o(2,e=_));let w;async function x(){await a(),o(0,w=await n(t.params.uuid)),await S()}return[w,t,e,l,x]}class pe extends j{constructor(r){super(),F(this,r,ee,Z,I,{})}}export{pe as component};
