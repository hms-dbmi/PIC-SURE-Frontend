import"./Bzak7iHL.js";import{o as xt}from"./B9BhT3Ut.js";import{v as ne,w as Me,D as He,b9 as _t,q as kt,E as Pt,A as Et,ba as Tt,y as St,F as Lt,L as Ft,K as We,J as Ye,ad as At,P as Rt,O as Ht,C as It,aO as Bt,p as ae,k as m,u as q,f as O,d as M,B as tt,r as D,b as I,c as ie,s as Y,t as X,e as te,a as j,j as ye,h as de,l as re,n as De,i as rt,o as Nt}from"./pV5yBOfK.js";import{g as Vt,j as Ge,d as Ce,s as fe}from"./D3FUfhzK.js";import{i as U}from"./BAa5cEXk.js";import{p as W,r as ot,s as he,a as J,c as Ee}from"./C2caA9Pm.js";import{p as Be}from"./B9OKY7FI.js";import{g as at}from"./BLfKYx2_.js";import{f as ge,b as Dt}from"./i859GThY.js";import{S as Ot,o as ke,u as Mt,a as Ae,h as Wt,f as Yt,s as be,i as Gt,j as ze,r as zt,k as Ut,t as Ue,l as qt,m as $t}from"./D3-cXwBU.js";import{f as Pe,a as oe,s as Q,r as it,d as Kt,h as jt,b as qe}from"./B3YVaWvx.js";import{s as Xt}from"./B61b23iZ.js";import{E as Zt,c as Jt}from"./CA_H3qz9.js";import{p as nt}from"./DjPQy4x5.js";import{g as Qt,e as er}from"./Drejzb63.js";import{R as tr}from"./B4XBV-Hj.js";import{S as rr}from"./B5RzMd8d.js";import{a as or}from"./CF-XIK1E.js";import{e as se,i as le}from"./CFqqwPkz.js";import{s as ve}from"./CPDBQclr.js";import{H as ar,I as ir,ar as nr,X as sr,Y as lr,a1 as cr,a2 as dr,aB as ur,aC as pr,Q as vr,a6 as fr,R as hr,N as pe,$ as mr}from"./tvkVmxlD.js";import{c as st,u as gr,n as br,L as yr}from"./BK-nQ0m1.js";import{c as wr}from"./CnrRX2gJ.js";import{t as lt,s as Cr,b as xr}from"./Dj8TqXX2.js";import{E as ct}from"./C6RsMIt9.js";import{c as _r}from"./D2EutmVf.js";import{b as kr}from"./CMMNa4Y8.js";import{e as Pr}from"./BqrDejZS.js";import{h as Er}from"./xQt8NbMC.js";import{s as Tr}from"./COZ3s8UQ.js";import{M as Sr}from"./DBMsBZi4.js";function Lr(t,e,r,o,a,l){let h=ne;ne&&Me();var f,u,c=null;ne&&He.nodeType===_t&&(c=He,Me());var y=ne?He:t,w;kt(()=>{const i=e()||null;var n=i==="svg"?Tt:null;i!==f&&(w&&(i===null?Rt(w,()=>{w=null,u=null}):i===u?Ht(w):(It(w),Ge(!1))),i&&i!==u&&(w=Et(()=>{if(c=ne?c:n?document.createElementNS(n,i):document.createElement(i),St(c,c),o){ne&&Vt(i)&&c.append(document.createComment(""));var d=ne?Lt(c):c.appendChild(Ft());ne&&(d===null?We(!1):Ye(d)),o(c,d)}At.nodes_end=c,y.before(c)})),f=i,f&&(u=f),Ge(!0))},Pt),h&&(We(!0),Ye(y))}var Fr=vr("accordion").parts("root","item","itemTrigger","itemContent","itemIndicator"),me=Fr.build(),Te=t=>{var e;return((e=t.ids)==null?void 0:e.root)??`accordion:${t.id}`},Ar=(t,e)=>{var r,o;return((o=(r=t.ids)==null?void 0:r.item)==null?void 0:o.call(r,e))??`accordion:${t.id}:item:${e}`},$e=(t,e)=>{var r,o;return((o=(r=t.ids)==null?void 0:r.itemContent)==null?void 0:o.call(r,e))??`accordion:${t.id}:content:${e}`},Se=(t,e)=>{var r,o;return((o=(r=t.ids)==null?void 0:r.itemTrigger)==null?void 0:o.call(r,e))??`accordion:${t.id}:trigger:${e}`},Rr=t=>t.getById(Te(t)),Re=t=>{const r=`[aria-controls][data-ownedby='${CSS.escape(Te(t))}']:not([disabled])`;return mr(Rr(t),r)},Hr=t=>dr(Re(t)),Ir=t=>cr(Re(t)),Br=(t,e)=>lr(Re(t),Se(t,e)),Nr=(t,e)=>sr(Re(t),Se(t,e));function Vr(t,e){const{send:r,context:o,prop:a,scope:l,computed:h}=t,f=o.get("focusedValue"),u=o.get("value"),c=a("multiple");function y(i){let n=i;!c&&n.length>1&&(n=[n[0]]),r({type:"VALUE.SET",value:n})}function w(i){return{expanded:u.includes(i.value),focused:f===i.value,disabled:!!(i.disabled??a("disabled"))}}return{focusedValue:f,value:u,setValue:y,getItemState:w,getRootProps(){return e.element({...me.root.attrs,dir:a("dir"),id:Te(l),"data-orientation":a("orientation")})},getItemProps(i){const n=w(i);return e.element({...me.item.attrs,dir:a("dir"),id:Ar(l,i.value),"data-state":n.expanded?"open":"closed","data-focus":pe(n.focused),"data-disabled":pe(n.disabled),"data-orientation":a("orientation")})},getItemContentProps(i){const n=w(i);return e.element({...me.itemContent.attrs,dir:a("dir"),role:"region",id:$e(l,i.value),"aria-labelledby":Se(l,i.value),hidden:!n.expanded,"data-state":n.expanded?"open":"closed","data-disabled":pe(n.disabled),"data-focus":pe(n.focused),"data-orientation":a("orientation")})},getItemIndicatorProps(i){const n=w(i);return e.element({...me.itemIndicator.attrs,dir:a("dir"),"aria-hidden":!0,"data-state":n.expanded?"open":"closed","data-disabled":pe(n.disabled),"data-focus":pe(n.focused),"data-orientation":a("orientation")})},getItemTriggerProps(i){const{value:n}=i,d=w(i);return e.button({...me.itemTrigger.attrs,type:"button",dir:a("dir"),id:Se(l,n),"aria-controls":$e(l,n),"aria-expanded":d.expanded,disabled:d.disabled,"data-orientation":a("orientation"),"aria-disabled":d.disabled,"data-state":d.expanded?"open":"closed","data-ownedby":Te(l),onFocus(){d.disabled||r({type:"TRIGGER.FOCUS",value:n})},onBlur(){d.disabled||r({type:"TRIGGER.BLUR"})},onClick(v){d.disabled||(hr()&&v.currentTarget.focus(),r({type:"TRIGGER.CLICK",value:n}))},onKeyDown(v){if(v.defaultPrevented||d.disabled)return;const p={ArrowDown(){h("isHorizontal")||r({type:"GOTO.NEXT",value:n})},ArrowUp(){h("isHorizontal")||r({type:"GOTO.PREV",value:n})},ArrowRight(){h("isHorizontal")&&r({type:"GOTO.NEXT",value:n})},ArrowLeft(){h("isHorizontal")&&r({type:"GOTO.PREV",value:n})},Home(){r({type:"GOTO.FIRST",value:n})},End(){r({type:"GOTO.LAST",value:n})}},C=fr(v,{dir:a("dir"),orientation:a("orientation")}),k=p[C];k&&(k(v),v.preventDefault())}})}}}var{and:Dr,not:Or}=ir(),Mr=ar({props({props:t}){return{collapsible:!1,multiple:!1,orientation:"vertical",defaultValue:[],...t}},initialState(){return"idle"},context({prop:t,bindable:e}){return{focusedValue:e(()=>({defaultValue:null,sync:!0,onChange(r){var o;(o=t("onFocusChange"))==null||o({value:r})}})),value:e(()=>({defaultValue:t("defaultValue"),value:t("value"),onChange(r){var o;(o=t("onValueChange"))==null||o({value:r})}}))}},computed:{isHorizontal:({prop:t})=>t("orientation")==="horizontal"},on:{"VALUE.SET":{actions:["setValue"]}},states:{idle:{on:{"TRIGGER.FOCUS":{target:"focused",actions:["setFocusedValue"]}}},focused:{on:{"GOTO.NEXT":{actions:["focusNextTrigger"]},"GOTO.PREV":{actions:["focusPrevTrigger"]},"TRIGGER.CLICK":[{guard:Dr("isExpanded","canToggle"),actions:["collapse"]},{guard:Or("isExpanded"),actions:["expand"]}],"GOTO.FIRST":{actions:["focusFirstTrigger"]},"GOTO.LAST":{actions:["focusLastTrigger"]},"TRIGGER.BLUR":{target:"idle",actions:["clearFocusedValue"]}}}},implementations:{guards:{canToggle:({prop:t})=>!!t("collapsible")||!!t("multiple"),isExpanded:({context:t,event:e})=>t.get("value").includes(e.value)},actions:{collapse({context:t,prop:e,event:r}){const o=e("multiple")?pr(t.get("value"),r.value):[];t.set("value",o)},expand({context:t,prop:e,event:r}){const o=e("multiple")?ur(t.get("value"),r.value):[r.value];t.set("value",o)},focusFirstTrigger({scope:t}){var e;(e=Hr(t))==null||e.focus()},focusLastTrigger({scope:t}){var e;(e=Ir(t))==null||e.focus()},focusNextTrigger({context:t,scope:e}){const r=t.get("focusedValue");if(!r)return;const o=Br(e,r);o==null||o.focus()},focusPrevTrigger({context:t,scope:e}){const r=t.get("focusedValue");if(!r)return;const o=Nr(e,r);o==null||o.focus()},setFocusedValue({context:t,event:e}){t.set("focusedValue",e.value)},clearFocusedValue({context:t}){t.set("focusedValue",null)},setValue({context:t,event:e}){t.set("value",e.value)},coarseValue({context:t,prop:e}){!e("multiple")&&t.get("value").length>1&&(nr("The value of accordion should be a single value when multiple is false."),t.set("value",[t.get("value")[0]]))}}}});st()(["collapsible","dir","disabled","getRootNode","id","ids","multiple","onFocusChange","onValueChange","orientation","value","defaultValue"]);st()(["value","disabled"]);const[Wr,Yr]=wr();var Gr=O("<div><!></div>");function zr(t,e){const r=Bt();ae(e,!0);const o=W(e,"animationConfig",19,()=>({duration:200})),a=W(e,"base",3,""),l=W(e,"padding",3,""),h=W(e,"spaceY",3,"space-y-2"),f=W(e,"rounded",3,"rounded-base"),u=W(e,"width",3,"w-full"),c=W(e,"classes",3,""),y=ot(e,["$$slots","$$events","$$legacy","animationConfig","base","padding","spaceY","rounded","width","classes","children","iconOpen","iconClosed"]),w=gr(Mr,()=>({id:r,...y})),i=q(()=>Vr(w,br));Wr({get api(){return m(i)},get animationConfig(){return o()},get iconClosed(){return e.iconClosed},get iconOpen(){return e.iconOpen}});var n=Gr();Pe(n,v=>({class:`${a()??""} ${l()??""} ${h()??""} ${f()??""} ${u()??""} ${c()??""}`,...v,"data-testid":"accordion"}),[()=>m(i).getRootProps()]);var d=M(n);ve(d,()=>e.children??tt),D(n),I(t,n),ie()}var Ur=O('<div data-testid="accordion-lead"><!></div>'),qr=O('<button><!> <div data-testid="accordion-control"><!></div> <div data-testid="accordion-indicator"><!></div></button>'),$r=O("<div><!></div>"),Kr=O("<div><!> <!></div>");function jr(t,e){ae(e,!0);const r=W(e,"headingLevel",3,3),o=W(e,"controlBase",3,"flex text-start items-center space-x-4 w-full"),a=W(e,"controlHover",3,"hover:preset-tonal-primary"),l=W(e,"controlPadding",3,"py-2 px-4"),h=W(e,"controlRounded",3,"rounded-base"),f=W(e,"leadBase",3,""),u=W(e,"leadClasses",3,""),c=W(e,"contentBase",3,"flex-1"),y=W(e,"contentClasses",3,""),w=W(e,"indicatorBase",3,""),i=W(e,"indicatorClasses",3,""),n=W(e,"panelPadding",3,"py-2 px-4"),d=ot(e,["$$slots","$$events","$$legacy","headingLevel","base","spaceY","classes","controlBase","controlHover","controlPadding","controlRounded","controlClasses","leadBase","leadClasses","contentBase","contentClasses","indicatorBase","indicatorClasses","panelBase","panelPadding","panelRounded","panelClasses","control","lead","panel"]),v=Yr();var p=Kr();Pe(p,S=>({class:`${e.base??""} ${e.spaceY??""} ${e.classes??""}`,...S,"data-testid":"accordion-item"}),[()=>v.api.getItemProps(d)]);var C=M(p);Lr(C,()=>`h${r()}`,!1,(S,P)=>{var s=qr();Pe(s,R=>({class:`${o()??""} ${a()??""} ${l()??""} ${h()??""} ${e.controlClasses??""}`,...R,"data-testid":"accordion-control"}),[()=>v.api.getItemTriggerProps(d)]);var g=M(s);{var _=R=>{var H=Ur(),B=M(H);ve(B,()=>e.lead),D(H),X(()=>oe(H,1,`${f()??""} ${u()??""}`)),I(R,H)};U(g,R=>{e.lead&&R(_)})}var A=Y(g,2),L=M(A);ve(L,()=>e.control),D(A);var b=Y(A,2),E=M(b);{var V=R=>{var H=te(),B=j(H);{var G=z=>{var $=te(),ue=j($);ve(ue,()=>v.iconOpen),I(z,$)},Z=z=>{var $=ye("−");I(z,$)};U(B,z=>{v.iconOpen?z(G):z(Z,!1)})}I(R,H)},T=R=>{var H=te(),B=j(H);{var G=z=>{var $=te(),ue=j($);ve(ue,()=>v.iconClosed),I(z,$)},Z=z=>{var $=ye("+");I(z,$)};U(B,z=>{v.iconClosed?z(G):z(Z,!1)},!0)}I(R,H)};U(E,R=>{v.api.value.includes(e.value)?R(V):R(T,!1)})}D(b),D(s),X(()=>{oe(A,1,`${c()??""} ${y()??""}`),oe(b,1,`${w()??""} ${i()??""}`)}),I(P,s)});var k=Y(C,2);{var N=S=>{var P=$r();Pe(P,g=>({class:`${e.panelBase??""} ${n()??""} ${e.panelRounded??""} ${e.panelClasses??""}`,...g,"data-testid":"accordion-panel"}),[()=>v.api.getItemContentProps(d)]);var s=M(P);ve(s,()=>e.panel??tt),D(P),lt(3,P,()=>Cr,()=>v.animationConfig),I(S,P)};U(k,S=>{v.api.value.includes(e.value)&&S(N)})}D(p),I(t,p),ie()}const Ne=Object.assign(zr,{Item:jr});function Xr(t,e,r,o,a,l,h){t.stopPropagation(),e().includes(m(o))?a(m(o).id):(l(m(o)),Ee(nt,!0))}var Zr=O('<button type="button" title="Data Hierarchy" class="btn-icon-color"><i class="fa-solid fa-sitemap fa-xl"></i> <span class="sr-only">View Data Hierarchy</span></button>'),Jr=O('<i class="fa-regular fa-square-check fa-xl"></i>'),Qr=O('<i class="fa-solid fa-right-from-bracket fa-xl"></i>'),eo=O('<button type="button" class="btn-icon-color"><!></button>'),to=O('<button type="button" title="Information" class="btn-icon-color"><i class="fa-solid fa-circle-info fa-xl"></i> <span class="sr-only">View Information</span></button> <button type="button" class="btn-icon-color"><i class="fa-solid fa-filter fa-xl"></i> <span class="sr-only"> </span></button> <!> <!>',1);function ro(t,e){ae(e,!0);const r=()=>J(h,"$exports",a),o=()=>J(nt,"$panelOpen",a),[a,l]=he();let{exports:h,addExport:f,removeExport:u}=Zt,c=W(e,"data",19,()=>({})),y=q(()=>({id:Qt(),searchResult:c().row,display:c().row.display||c().row.name,conceptPath:c().row.conceptPath}));function w(b){return E=>{var V;E.stopPropagation(),Xt({row:c().row.conceptPath,component:b,table:(V=c())==null?void 0:V.tableName})}}const i=w("info"),n=w("filter"),d=w("hierarchy");let v=q(()=>Be.url.pathname.includes("/discover")),p=q(()=>r().map(b=>b.conceptPath).includes(m(y).conceptPath)),C=q(()=>m(v)&&!c().row.allowFiltering);var k=to(),N=j(k);N.__click=i;var S=Y(N,2);S.__click=n;var P=Y(M(S),2),s=M(P,!0);D(P),D(S);var g=Y(S,2);{var _=b=>{var E=Zr();E.__click=d,I(b,E)};U(g,b=>{ge.explorer.enableHierarchy&&b(_)})}var A=Y(g,2);{var L=b=>{var E=eo();E.__click=[Xr,r,h,y,u,f,o];var V=M(E);{var T=H=>{var B=Jr();I(H,B)},R=H=>{var B=Qr();I(H,B)};U(V,H=>{m(p)?H(T):H(R,!1)})}D(E),X(()=>Q(E,"title",m(p)?"Remove from Analysis":"Add for Analysis")),I(b,E)};U(A,b=>{ge.explorer.exportsEnableExport&&!m(v)&&b(L)})}X(()=>{Q(S,"title",m(C)?"Filtering is not available for this variable":"Filter"),S.disabled=m(C),fe(s,m(C)?"Filtering is not available for this variable":"View Filter")}),I(t,k),ie(),l()}Ce(["click"]);function oo(t,e){re(e,!m(e))}function ao(t,e,r,o,a){var l,h,f;(l=e.facet)!=null&&l.children&&((f=(h=e.facet)==null?void 0:h.children)==null?void 0:f.length)>0?m(r)(e.facet.name)==="indeterminate"?o(a()):o(e.facet.children):o([e.facet])}var io=O('<button type="button" class="arrow-button svelte-dze0eo"><i></i></button>'),no=O('<div class="flex flex-col ml-4"></div>'),so=O('<label class="flex gap-1 m-1 leading-[normal]"><!> <input type="checkbox"/> <span style="word-wrap: break-word; overflow-wrap: anywhere;"> </span></label> <!>',1);function dt(t,e){ae(e,!0);const r=()=>J(h,"$selectedFacets",o),[o,a]=he();let{updateFacets:l,selectedFacets:h}=Ot,f=de(!1);function u(){var s;return((s=e.facet.children)==null?void 0:s.filter(g=>r().some(_=>_.name===g.name)))??[]}let c=q(()=>s=>{var b;const g=e.facet.children&&e.facet.children.some(E=>r().some(V=>V.name===E.name));let _=!1;g&&(_=((b=e.facet.children)==null?void 0:b.every(E=>r().some(V=>V.name===E.name)))??!1);const A=g&&!_;return r().some(E=>E.name===s)||_?"true":A?"indeterminate":"false"}),y=q(()=>m(c)(e.facet.name)==="true"),w=q(()=>e.facet.children?[...e.facet.children.filter(s=>{var _;return(!e.textFilterValue||s.display.toLowerCase().includes(e.textFilterValue.toLowerCase())||s.name.toLowerCase().includes(e.textFilterValue.toLowerCase())||((_=s.description)==null?void 0:_.toLowerCase().includes(e.textFilterValue.toLowerCase())))&&r().some(A=>A.name===s.name)}).sort((s,g)=>(g.count||0)-(s.count||0)),...e.facet.children.filter(s=>{var _;return(!e.textFilterValue||s.display.toLowerCase().includes(e.textFilterValue.toLowerCase())||s.name.toLowerCase().includes(e.textFilterValue.toLowerCase())||((_=s.description)==null?void 0:_.toLowerCase().includes(e.textFilterValue.toLowerCase())))&&!r().some(A=>A.name===s.name)}).sort((s,g)=>(g.count||0)-(s.count||0))]:[]);var i=so(),n=j(i),d=M(n);{var v=s=>{var g=io();g.__click=[oo,f];var _=M(g);D(g),X(()=>{Q(g,"aria-label",`Toggle Facet ${m(f)?"open":"closed"}`),Q(g,"data-testid",`facet-${e.facet.name}-arrow`),oe(_,1,`fa-solid ${m(f)?"fa-angle-down":"fa-angle-right"}`)}),I(s,g)};U(d,s=>{var g,_,A;((g=e.facet)==null?void 0:g.children)!==void 0&&((A=(_=e.facet)==null?void 0:_.children)==null?void 0:A.length)>0&&s(v)})}var p=Y(d,2);it(p),p.__click=[ao,e,c,l,u];var C=Y(p,2);let k;var N=M(C,!0);D(C),D(n);var S=Y(n,2);{var P=s=>{var g=no();se(g,21,()=>m(w),le,(_,A)=>{dt(_,{get facet(){return m(A)},get facetCategory(){return e.facetCategory},get textFilterValue(){return e.textFilterValue}})}),D(g),X(()=>Q(g,"data-testid",`facet-${e.facet.name}-children`)),I(s,g)};U(S,s=>{var g;m(f)&&m(w)!==void 0&&((g=m(w))==null?void 0:g.length)>0&&s(P)})}X((s,g,_)=>{Q(n,"data-testid",`facet-${e.facet.name}-label`),Q(n,"for",e.facet.name),oe(p,1,s,"svelte-dze0eo"),Q(p,"id",e.facet.name),Q(p,"name",e.facet.name),Kt(p,e.facet),jt(p,m(y)),p.disabled=e.facet.count===0&&!m(y),Q(p,"aria-checked",m(y)),k=oe(C,1,"",null,k,g),fe(N,_)},[()=>`&[aria-disabled=“true”]:opacity-75 ${m(c)(e.facet.name)}`,()=>({"opacity-75":e.facet.count===0}),()=>{var s;return`${e.facet.display} (${(s=e.facet.count)==null?void 0:s.toLocaleString()})`}]),I(t,i),ie(),a()}Ce(["click"]);var lo=O('<input class="text-sm" type="search" name="facet-fitler"/>'),co=(t,e)=>re(e,!m(e)),uo=O('<button data-testId="show-more-facets" class="show-more w-fit mx-auto my-1 svelte-gs9i6d"> <i></i></button>'),po=O('<div class="flex flex-col"><!> <!> <!></div>'),vo=(t,e)=>Mt([m(e)]),fo=O('<span class="badge z-10 preset-outlined-surface-500 py-2 overflow-hidden"><span class="overflow-hidden text-ellipsis whitespace-nowrap min-w-0"> </span> <button class="chip-close ml-1 shrink-0" aria-label="Remove Facet"><i class="fa-solid fa-times hover:text-secondary-500"></i></button></span>'),ho=O('<div class="mb-2 flex flex-wrap gap-2"></div>'),mo=O("<!> <!>",1);function Ke(t,e){ae(e,!0);const r=()=>J(Wt,"$hiddenFacets",l),o=()=>J(Ae,"$selectedFacets",l),a=()=>J(ke,"$openFacets",l),[l,h]=he();let f=W(e,"facets",19,()=>e.facetCategory.facets),u=W(e,"numFacetsToShow",3,5),c=de(""),y=de(!1),w=q(()=>f().filter(s=>!(r()[e.facetCategory.name]||[]).includes(s.name))),i=q(()=>m(w).length>u()),n=q(()=>(f()||m(c)||m(y)||o()||e.facetCategory)&&C()),d=q(()=>o().filter(s=>{var g,_;return((g=s==null?void 0:s.categoryRef)==null?void 0:g.name)===((_=e.facetCategory)==null?void 0:_.name)}));function v(s){var A,L;const g=((A=s.children)==null?void 0:A.some(b=>o().some(E=>E.name===b.name)))??!1,_=(L=s.children)!=null&&L.length?s.children.every(b=>o().some(E=>E.name===b.name)):!1;return g&&!_}function p(s){return f().some(_=>{var A;return!_.children||((A=_==null?void 0:_.children)==null?void 0:A.length)===0?!1:_.children.every(L=>L.name===s||o().some(b=>b.name===L.name))})}function C(){let s=[...m(w)];const g=new Map(o().map(T=>[T.name,T])),_=s.filter(v),A=new Map(_.map(T=>[T.name,T])),L=T=>_.some(R=>{var H;return(H=R.children)==null?void 0:H.some(B=>B.name===T)});s=s.filter(T=>!g.has(T.name)&&!L(T.name)&&!A.has(T.name)&&!p(T.name));const b=o().filter(T=>T.category===e.facetCategory.name&&!L(T.name)&&!p(T.name));b.forEach(T=>{var R;T.count=((R=f().find(H=>H.name===T.name))==null?void 0:R.count)||0});const E=f().filter(T=>{var R;return((R=T.children)==null?void 0:R.length)&&T.children.every(H=>o().some(B=>B.name===H.name))});E.forEach(T=>{var R;T.count=((R=f().find(H=>H.name===T.name))==null?void 0:R.count)||0});const V=_.filter(T=>T.category===e.facetCategory.name);if(V.forEach(T=>{var R;T.count=((R=f().find(H=>H.name===T.name))==null?void 0:R.count)||0}),s.unshift(...b,...E,...V),m(c)){const T=m(c).toLowerCase();s=s.filter(R=>{var G,Z;const H=R.display.toLowerCase().includes(T)||R.name.toLowerCase().includes(T)||((G=R.description)==null?void 0:G.toLowerCase().includes(T)),B=(Z=R.children)==null?void 0:Z.some(z=>{var $;return z.display.toLowerCase().includes(T)||z.name.toLowerCase().includes(T)||(($=z.description)==null?void 0:$.toLowerCase().includes(T))});return H||B})}else m(y)||(s=s.slice(0,u()));return s}var k=mo(),N=j(k);{const s=_=>{De();var A=ye();X(()=>fe(A,e.facetCategory.display)),I(_,A)},g=_=>{var A=po(),L=M(A);{var b=R=>{var H=lo();it(H),X(()=>{Q(H,"placeholder","Filter "+e.facetCategory.display),Q(H,"id",e.facetCategory.name+"-filter")}),kr(H,()=>m(c),B=>re(c,B)),I(R,H)};U(L,R=>{m(i)&&R(b)})}var E=Y(L,2);se(E,17,()=>m(n),le,(R,H)=>{dt(R,{get facet(){return m(H)},get facetCategory(){return e.facetCategory},get textFilterValue(){return m(c)}})});var V=Y(E,2);{var T=R=>{var H=uo();H.__click=[co,y];var B=M(H),G=Y(B);D(H),X(()=>{fe(B,`${m(y)?"Show Less":"Show More"} `),oe(G,1,`ml-1 fa-solid fa-angle-${m(y)?"up":"down"}`)}),I(R,H)};U(V,R=>{m(i)&&!m(c)&&R(T)})}D(A),I(_,A)};_r(N,()=>Ne.Item,(_,A)=>{A(_,{get value(){return e.facetCategory.name},headingLevel:6,controlRounded:"rounded-t-xl aria-expanded:rounded-b-none rounded-b-xl",controlClasses:"h6 bg-primary-100-900 hover:bg-secondary-200-800",panelClasses:"bg-surface-100",panelRounded:"rounded-b-xl",control:s,panel:g,$$slots:{control:!0,panel:!0}})})}var S=Y(N,2);{var P=s=>{var g=ho();se(g,21,()=>m(d),le,(_,A)=>{var L=fo(),b=M(L),E=M(b,!0);D(b);var V=Y(b,2);V.__click=[vo,A],D(L),X(()=>{Q(L,"id",m(A).name),fe(E,m(A).display)}),I(_,L)}),D(g),lt(3,g,()=>xr,()=>({easing:Pr})),I(s,g)};U(S,s=>{a().includes(e.facetCategory.name)||s(P)})}I(t,k),ie(),h()}Ce(["click"]);var go=O('<div data-testid="facet-placeholder-search-button" class="placeholder h-8 w-full animate-pulse rounded-full mb-3"></div>'),bo=O('<div class="flex items-center space-x-3"><div class="placeholder size-4 animate-pulse rounded-sm"></div> <div></div></div>'),yo=O('<div data-testid="facet-placeholder-show-more-button" class="flex justify-center mt-3"><div class="placeholder h-8 w-24 animate-pulse rounded-full"></div></div>'),wo=O('<div data-testid="facet-placeholder"><div data-testid="facet-placeholder-header" class="flex items-center justify-between h6 bg-surface-100-900 p-4 rounded-t-xl border-b border-surface-200-800"><div class="placeholder h-5 w-32 animate-pulse rounded"></div> <div class="placeholder w-4 h-4 animate-pulse rounded"></div></div> <div data-testid="facet-placeholder-content"><!> <div class="space-y-3 mt-1"></div> <!></div></div>');function je(t,e){let r=W(e,"className",3,""),o=W(e,"numFacets",3,3),a=W(e,"showSearchAndButton",19,()=>o()>5),l=W(e,"fadeEffect",3,!1);const h=["w-32","w-28","w-36","w-24","w-40","w-30"];var f=wo(),u=Y(M(f),2),c=M(u);{var y=d=>{var v=go();I(d,v)};U(c,d=>{a()&&d(y)})}var w=Y(c,2);se(w,21,()=>Array(a()?Math.min(o(),5):o()),le,(d,v,p)=>{const C=q(()=>l()?Math.max(0,1-p/(o()-1)*.8):1);var k=bo();Q(k,"data-testid",`facet-placeholder-item-${p}`);var N=Y(M(k),2);D(k),X(()=>{qe(k,`opacity: ${m(C)??""}`),oe(N,1,`placeholder h-4 ${h[p%h.length]??""} animate-pulse rounded`)}),I(d,k)}),D(w);var i=Y(w,2);{var n=d=>{var v=yo();X(()=>qe(v,`opacity: ${l()?.1:1}`)),I(d,v)};U(i,d=>{a()&&d(n)})}D(u),D(f),X(()=>{oe(f,1,`space-y-0 rounded-xl ${r()??""}`),oe(u,1,`p-4 rounded-b-xl ${l()?"bg-gradient-to-b from-surface-100 via-surface-100/30 to-transparent":"bg-surface-100"}`)}),I(t,f)}var Co=O('<div class="flex flex-col gap-4"><!></div>');function xo(t,e){var n,d;ae(e,!0);let r=W(e,"fadeEffect",3,!1),o=W(e,"numCategories",3,2),a=W(e,"previousCategories",19,()=>[]);const l=((n=a())==null?void 0:n.length)>0,h=l?((d=a())==null?void 0:d.length)||1:o(),f=l?!1:r(),u=1+h;var c=Co(),y=M(c);{var w=v=>{var p=te(),C=j(p);se(C,17,a,le,(k,N,S)=>{{let P=q(()=>{var g;return((g=m(N))==null?void 0:g.numFacets)||5}),s=q(()=>f&&S===a().length-1);je(k,{get numFacets(){return m(P)},get fadeEffect(){return m(s)}})}}),I(v,p)},i=v=>{var p=te(),C=j(p);se(C,17,()=>Array(h),le,(k,N,S)=>{{let P=q(()=>u-S>1?u-S:2),s=q(()=>f&&S===h-1);je(k,{get numFacets(){return m(P)},get fadeEffect(){return m(s)}})}}),I(v,p)};U(y,v=>{l?v(w):v(i,!1)})}D(c),I(t,c),ie()}var _o=O('<i class="fa-solid fa-angle-up"></i>'),ko=O('<i class="fa-solid fa-angle-down"></i>'),Po=O('<i class="fa-solid fa-angle-up"></i>'),Eo=O('<i class="fa-solid fa-angle-down"></i>');function To(t,e){ae(e,!0);const r=()=>J(Yt,"$facetsPromise",l),o=()=>J(Ae,"$selectedFacets",l),a=()=>J(ke,"$openFacets",l),[l,h]=he();let f=de(rt([]));Nt(()=>{var w;(w=r())==null||w.then(i=>{(i==null?void 0:i.length)>0&&re(f,i.map(n=>({numFacets:n.facets.length,showSearchAndButton:n.facets.length>5})),!0)})});function u(){let w=[];return o().forEach(i=>{var d,v;let n=w.find(p=>p.display===i.category);n?n.facets.push(i):w.push({display:((d=i==null?void 0:i.categoryRef)==null?void 0:d.display)||i.category,facets:[i],description:((v=i==null?void 0:i.categoryRef)==null?void 0:v.description)||"",name:i.category})}),w}var c=te(),y=j(c);or(y,r,w=>{{let i=q(()=>m(f).length>0?m(f):[]);xo(w,{numCategories:2,fadeEffect:!0,get previousCategories(){return m(i)}})}},(w,i)=>{var n=te(),d=j(n);{var v=C=>{Ne(C,{multiple:!0,get value(){return a()},onValueChange:S=>Ee(ke,S.value),iconOpen:S=>{var P=_o();I(S,P)},iconClosed:S=>{var P=ko();I(S,P)},children:(S,P)=>{var s=te(),g=j(s);se(g,17,()=>m(i),le,(_,A)=>{Ke(_,{get facetCategory(){return m(A)}})}),I(S,s)},$$slots:{iconOpen:!0,iconClosed:!0,default:!0}})},p=C=>{Ne(C,{multiple:!0,get value(){return a()},onValueChange:S=>Ee(ke,S.value),iconOpen:S=>{var P=Po();I(S,P)},iconClosed:S=>{var P=Eo();I(S,P)},children:(S,P)=>{var s=te(),g=j(s);se(g,17,u,le,(_,A)=>{Ke(_,{get facetCategory(){return m(A)}})}),I(S,s)},$$slots:{iconOpen:!0,iconClosed:!0,default:!0}})};U(d,C=>{var k;((k=m(i))==null?void 0:k.length)>0?C(v):C(p,!1)})}I(w,n)},w=>{ct(w,{title:"Something went wrong loading your search options.",color:"secondary",children:(i,n)=>{De();var d=ye("Please wait a moment, refresh the page, and try again.");I(i,d)},$$slots:{default:!0}})}),I(t,c),ie(),h()}let Ve={},ut;function Ie(t={}){Ve={animate:!0,allowClose:!0,overlayClickBehavior:"close",overlayOpacity:.7,smoothScroll:!1,disableActiveInteraction:!1,showProgress:!1,stagePadding:10,stageRadius:5,popoverOffset:10,showButtons:["next","previous","close"],disableButtons:[],overlayColor:"#000",...t}}function x(t){return t?Ve[t]:Ve}function So(t){ut=t}function ee(){return ut}let Le={};function xe(t,e){Le[t]=e}function ce(t){var e;(e=Le[t])==null||e.call(Le)}function Lo(){Le={}}function _e(t,e,r,o){return(t/=o/2)<1?r/2*t*t+e:-r/2*(--t*(t-2)-1)+e}function pt(t){const e='a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])';return t.flatMap(r=>{const o=r.matches(e),a=Array.from(r.querySelectorAll(e));return[...o?[r]:[],...a]}).filter(r=>getComputedStyle(r).pointerEvents!=="none"&&Ro(r))}function vt(t){if(!t||Ao(t))return;const e=x("smoothScroll"),r=t.offsetHeight>window.innerHeight;t.scrollIntoView({behavior:!e||Fo(t)?"auto":"smooth",inline:"center",block:r?"start":"center"})}function Fo(t){if(!t||!t.parentElement)return;const e=t.parentElement;return e.scrollHeight>e.clientHeight}function Ao(t){const e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}function Ro(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)}let Fe={};function K(t,e){Fe[t]=e}function F(t){return t?Fe[t]:Fe}function Xe(){Fe={}}function Ho(t,e,r,o){let a=F("__activeStagePosition");const l=a||r.getBoundingClientRect(),h=o.getBoundingClientRect(),f=_e(t,l.x,h.x-l.x,e),u=_e(t,l.y,h.y-l.y,e),c=_e(t,l.width,h.width-l.width,e),y=_e(t,l.height,h.height-l.height,e);a={x:f,y:u,width:c,height:y},ht(a),K("__activeStagePosition",a)}function ft(t){if(!t)return;const e=t.getBoundingClientRect(),r={x:e.x,y:e.y,width:e.width,height:e.height};K("__activeStagePosition",r),ht(r)}function Io(){const t=F("__activeStagePosition"),e=F("__overlaySvg");if(!t)return;if(!e){console.warn("No stage svg found.");return}const r=window.innerWidth,o=window.innerHeight;e.setAttribute("viewBox",`0 0 ${r} ${o}`)}function Bo(t){const e=No(t);document.body.appendChild(e),bt(e,r=>{r.target.tagName==="path"&&ce("overlayClick")}),K("__overlaySvg",e)}function ht(t){const e=F("__overlaySvg");if(!e){Bo(t);return}const r=e.firstElementChild;if((r==null?void 0:r.tagName)!=="path")throw new Error("no path element found in stage svg");r.setAttribute("d",mt(t))}function No(t){const e=window.innerWidth,r=window.innerHeight,o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.classList.add("driver-overlay","driver-overlay-animated"),o.setAttribute("viewBox",`0 0 ${e} ${r}`),o.setAttribute("xmlSpace","preserve"),o.setAttribute("xmlnsXlink","http://www.w3.org/1999/xlink"),o.setAttribute("version","1.1"),o.setAttribute("preserveAspectRatio","xMinYMin slice"),o.style.fillRule="evenodd",o.style.clipRule="evenodd",o.style.strokeLinejoin="round",o.style.strokeMiterlimit="2",o.style.zIndex="10000",o.style.position="fixed",o.style.top="0",o.style.left="0",o.style.width="100%",o.style.height="100%";const a=document.createElementNS("http://www.w3.org/2000/svg","path");return a.setAttribute("d",mt(t)),a.style.fill=x("overlayColor")||"rgb(0,0,0)",a.style.opacity=`${x("overlayOpacity")}`,a.style.pointerEvents="auto",a.style.cursor="auto",o.appendChild(a),o}function mt(t){const e=window.innerWidth,r=window.innerHeight,o=x("stagePadding")||0,a=x("stageRadius")||0,l=t.width+o*2,h=t.height+o*2,f=Math.min(a,l/2,h/2),u=Math.floor(Math.max(f,0)),c=t.x-o+u,y=t.y-o,w=l-u*2,i=h-u*2;return`M${e},0L0,0L0,${r}L${e},${r}L${e},0Z
    M${c},${y} h${w} a${u},${u} 0 0 1 ${u},${u} v${i} a${u},${u} 0 0 1 -${u},${u} h-${w} a${u},${u} 0 0 1 -${u},-${u} v-${i} a${u},${u} 0 0 1 ${u},-${u} z`}function Vo(){const t=F("__overlaySvg");t&&t.remove()}function Do(){const t=document.getElementById("driver-dummy-element");if(t)return t;let e=document.createElement("div");return e.id="driver-dummy-element",e.style.width="0",e.style.height="0",e.style.pointerEvents="none",e.style.opacity="0",e.style.position="fixed",e.style.top="50%",e.style.left="50%",document.body.appendChild(e),e}function Ze(t){const{element:e}=t;let r=typeof e=="function"?e():typeof e=="string"?document.querySelector(e):e;r||(r=Do()),Mo(r,t)}function Oo(){const t=F("__activeElement"),e=F("__activeStep");t&&(ft(t),Io(),wt(t,e))}function Mo(t,e){var r;const o=Date.now(),a=F("__activeStep"),l=F("__activeElement")||t,h=!l||l===t,f=t.id==="driver-dummy-element",u=l.id==="driver-dummy-element",c=x("animate"),y=e.onHighlightStarted||x("onHighlightStarted"),w=(e==null?void 0:e.onHighlighted)||x("onHighlighted"),i=(a==null?void 0:a.onDeselected)||x("onDeselected"),n=x(),d=F();!h&&i&&i(u?void 0:l,a,{config:n,state:d,driver:ee()}),y&&y(f?void 0:t,e,{config:n,state:d,driver:ee()});const v=!h&&c;let p=!1;Uo(),K("previousStep",a),K("previousElement",l),K("activeStep",e),K("activeElement",t);const C=()=>{if(F("__transitionCallback")!==C)return;const k=Date.now()-o,N=400-k<=400/2;e.popover&&N&&!p&&v&&(Je(t,e),p=!0),x("animate")&&k<400?Ho(k,400,l,t):(ft(t),w&&w(f?void 0:t,e,{config:x(),state:F(),driver:ee()}),K("__transitionCallback",void 0),K("__previousStep",a),K("__previousElement",l),K("__activeStep",e),K("__activeElement",t)),window.requestAnimationFrame(C)};K("__transitionCallback",C),window.requestAnimationFrame(C),vt(t),!v&&e.popover&&Je(t,e),l.classList.remove("driver-active-element","driver-no-interaction"),l.removeAttribute("aria-haspopup"),l.removeAttribute("aria-expanded"),l.removeAttribute("aria-controls"),((r=e.disableActiveInteraction)!=null?r:x("disableActiveInteraction"))&&t.classList.add("driver-no-interaction"),t.classList.add("driver-active-element"),t.setAttribute("aria-haspopup","dialog"),t.setAttribute("aria-expanded","true"),t.setAttribute("aria-controls","driver-popover-content")}function Wo(){var t;(t=document.getElementById("driver-dummy-element"))==null||t.remove(),document.querySelectorAll(".driver-active-element").forEach(e=>{e.classList.remove("driver-active-element","driver-no-interaction"),e.removeAttribute("aria-haspopup"),e.removeAttribute("aria-expanded"),e.removeAttribute("aria-controls")})}function we(){const t=F("__resizeTimeout");t&&window.cancelAnimationFrame(t),K("__resizeTimeout",window.requestAnimationFrame(Oo))}function Yo(t){var e;if(!F("isInitialized")||!(t.key==="Tab"||t.keyCode===9))return;const r=F("__activeElement"),o=(e=F("popover"))==null?void 0:e.wrapper,a=pt([...o?[o]:[],...r?[r]:[]]),l=a[0],h=a[a.length-1];if(t.preventDefault(),t.shiftKey){const f=a[a.indexOf(document.activeElement)-1]||h;f==null||f.focus()}else{const f=a[a.indexOf(document.activeElement)+1]||l;f==null||f.focus()}}function gt(t){var e;((e=x("allowKeyboardControl"))==null||e)&&(t.key==="Escape"?ce("escapePress"):t.key==="ArrowRight"?ce("arrowRightPress"):t.key==="ArrowLeft"&&ce("arrowLeftPress"))}function bt(t,e,r){const o=(a,l)=>{const h=a.target;t.contains(h)&&((!r||r(h))&&(a.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation()),l==null||l(a))};document.addEventListener("pointerdown",o,!0),document.addEventListener("mousedown",o,!0),document.addEventListener("pointerup",o,!0),document.addEventListener("mouseup",o,!0),document.addEventListener("click",a=>{o(a,e)},!0)}function Go(){window.addEventListener("keyup",gt,!1),window.addEventListener("keydown",Yo,!1),window.addEventListener("resize",we),window.addEventListener("scroll",we)}function zo(){window.removeEventListener("keyup",gt),window.removeEventListener("resize",we),window.removeEventListener("scroll",we)}function Uo(){const t=F("popover");t&&(t.wrapper.style.display="none")}function Je(t,e){var r,o;let a=F("popover");a&&document.body.removeChild(a.wrapper),a=$o(),document.body.appendChild(a.wrapper);const{title:l,description:h,showButtons:f,disableButtons:u,showProgress:c,nextBtnText:y=x("nextBtnText")||"Next &rarr;",prevBtnText:w=x("prevBtnText")||"&larr; Previous",progressText:i=x("progressText")||"{current} of {total}"}=e.popover||{};a.nextButton.innerHTML=y,a.previousButton.innerHTML=w,a.progress.innerHTML=i,l?(a.title.innerHTML=l,a.title.style.display="block"):a.title.style.display="none",h?(a.description.innerHTML=h,a.description.style.display="block"):a.description.style.display="none";const n=f||x("showButtons"),d=c||x("showProgress")||!1,v=(n==null?void 0:n.includes("next"))||(n==null?void 0:n.includes("previous"))||d;a.closeButton.style.display=n.includes("close")?"block":"none",v?(a.footer.style.display="flex",a.progress.style.display=d?"block":"none",a.nextButton.style.display=n.includes("next")?"block":"none",a.previousButton.style.display=n.includes("previous")?"block":"none"):a.footer.style.display="none";const p=u||x("disableButtons")||[];p!=null&&p.includes("next")&&(a.nextButton.disabled=!0,a.nextButton.classList.add("driver-popover-btn-disabled")),p!=null&&p.includes("previous")&&(a.previousButton.disabled=!0,a.previousButton.classList.add("driver-popover-btn-disabled")),p!=null&&p.includes("close")&&(a.closeButton.disabled=!0,a.closeButton.classList.add("driver-popover-btn-disabled"));const C=a.wrapper;C.style.display="block",C.style.left="",C.style.top="",C.style.bottom="",C.style.right="",C.id="driver-popover-content",C.setAttribute("role","dialog"),C.setAttribute("aria-labelledby","driver-popover-title"),C.setAttribute("aria-describedby","driver-popover-description");const k=a.arrow;k.className="driver-popover-arrow";const N=((r=e.popover)==null?void 0:r.popoverClass)||x("popoverClass")||"";C.className=`driver-popover ${N}`.trim(),bt(a.wrapper,g=>{var _,A,L;const b=g.target,E=((_=e.popover)==null?void 0:_.onNextClick)||x("onNextClick"),V=((A=e.popover)==null?void 0:A.onPrevClick)||x("onPrevClick"),T=((L=e.popover)==null?void 0:L.onCloseClick)||x("onCloseClick");if(b.closest(".driver-popover-next-btn"))return E?E(t,e,{config:x(),state:F(),driver:ee()}):ce("nextClick");if(b.closest(".driver-popover-prev-btn"))return V?V(t,e,{config:x(),state:F(),driver:ee()}):ce("prevClick");if(b.closest(".driver-popover-close-btn"))return T?T(t,e,{config:x(),state:F(),driver:ee()}):ce("closeClick")},g=>!(a!=null&&a.description.contains(g))&&!(a!=null&&a.title.contains(g))&&typeof g.className=="string"&&g.className.includes("driver-popover")),K("popover",a);const S=((o=e.popover)==null?void 0:o.onPopoverRender)||x("onPopoverRender");S&&S(a,{config:x(),state:F(),driver:ee()}),wt(t,e),vt(C);const P=t.classList.contains("driver-dummy-element"),s=pt([C,...P?[]:[t]]);s.length>0&&s[0].focus()}function yt(){const t=F("popover");if(!(t!=null&&t.wrapper))return;const e=t.wrapper.getBoundingClientRect(),r=x("stagePadding")||0,o=x("popoverOffset")||0;return{width:e.width+r+o,height:e.height+r+o,realWidth:e.width,realHeight:e.height}}function Qe(t,e){const{elementDimensions:r,popoverDimensions:o,popoverPadding:a,popoverArrowDimensions:l}=e;return t==="start"?Math.max(Math.min(r.top-a,window.innerHeight-o.realHeight-l.width),l.width):t==="end"?Math.max(Math.min(r.top-(o==null?void 0:o.realHeight)+r.height+a,window.innerHeight-(o==null?void 0:o.realHeight)-l.width),l.width):t==="center"?Math.max(Math.min(r.top+r.height/2-(o==null?void 0:o.realHeight)/2,window.innerHeight-(o==null?void 0:o.realHeight)-l.width),l.width):0}function et(t,e){const{elementDimensions:r,popoverDimensions:o,popoverPadding:a,popoverArrowDimensions:l}=e;return t==="start"?Math.max(Math.min(r.left-a,window.innerWidth-o.realWidth-l.width),l.width):t==="end"?Math.max(Math.min(r.left-(o==null?void 0:o.realWidth)+r.width+a,window.innerWidth-(o==null?void 0:o.realWidth)-l.width),l.width):t==="center"?Math.max(Math.min(r.left+r.width/2-(o==null?void 0:o.realWidth)/2,window.innerWidth-(o==null?void 0:o.realWidth)-l.width),l.width):0}function wt(t,e){const r=F("popover");if(!r)return;const{align:o="start",side:a="left"}=(e==null?void 0:e.popover)||{},l=o,h=t.id==="driver-dummy-element"?"over":a,f=x("stagePadding")||0,u=yt(),c=r.arrow.getBoundingClientRect(),y=t.getBoundingClientRect(),w=y.top-u.height;let i=w>=0;const n=window.innerHeight-(y.bottom+u.height);let d=n>=0;const v=y.left-u.width;let p=v>=0;const C=window.innerWidth-(y.right+u.width);let k=C>=0;const N=!i&&!d&&!p&&!k;let S=h;if(h==="top"&&i?k=p=d=!1:h==="bottom"&&d?k=p=i=!1:h==="left"&&p?k=i=d=!1:h==="right"&&k&&(p=i=d=!1),h==="over"){const P=window.innerWidth/2-u.realWidth/2,s=window.innerHeight/2-u.realHeight/2;r.wrapper.style.left=`${P}px`,r.wrapper.style.right="auto",r.wrapper.style.top=`${s}px`,r.wrapper.style.bottom="auto"}else if(N){const P=window.innerWidth/2-(u==null?void 0:u.realWidth)/2,s=10;r.wrapper.style.left=`${P}px`,r.wrapper.style.right="auto",r.wrapper.style.bottom=`${s}px`,r.wrapper.style.top="auto"}else if(p){const P=Math.min(v,window.innerWidth-(u==null?void 0:u.realWidth)-c.width),s=Qe(l,{elementDimensions:y,popoverDimensions:u,popoverPadding:f,popoverArrowDimensions:c});r.wrapper.style.left=`${P}px`,r.wrapper.style.top=`${s}px`,r.wrapper.style.bottom="auto",r.wrapper.style.right="auto",S="left"}else if(k){const P=Math.min(C,window.innerWidth-(u==null?void 0:u.realWidth)-c.width),s=Qe(l,{elementDimensions:y,popoverDimensions:u,popoverPadding:f,popoverArrowDimensions:c});r.wrapper.style.right=`${P}px`,r.wrapper.style.top=`${s}px`,r.wrapper.style.bottom="auto",r.wrapper.style.left="auto",S="right"}else if(i){const P=Math.min(w,window.innerHeight-u.realHeight-c.width);let s=et(l,{elementDimensions:y,popoverDimensions:u,popoverPadding:f,popoverArrowDimensions:c});r.wrapper.style.top=`${P}px`,r.wrapper.style.left=`${s}px`,r.wrapper.style.bottom="auto",r.wrapper.style.right="auto",S="top"}else if(d){const P=Math.min(n,window.innerHeight-(u==null?void 0:u.realHeight)-c.width);let s=et(l,{elementDimensions:y,popoverDimensions:u,popoverPadding:f,popoverArrowDimensions:c});r.wrapper.style.left=`${s}px`,r.wrapper.style.bottom=`${P}px`,r.wrapper.style.top="auto",r.wrapper.style.right="auto",S="bottom"}N?r.arrow.classList.add("driver-popover-arrow-none"):qo(l,S,t)}function qo(t,e,r){const o=F("popover");if(!o)return;const a=r.getBoundingClientRect(),l=yt(),h=o.arrow,f=l.width,u=window.innerWidth,c=a.width,y=a.left,w=l.height,i=window.innerHeight,n=a.top,d=a.height;h.className="driver-popover-arrow";let v=e,p=t;if(e==="top"?(y+c<=0?(v="right",p="end"):y+c-f<=0&&(v="top",p="start"),y>=u?(v="left",p="end"):y+f>=u&&(v="top",p="end")):e==="bottom"?(y+c<=0?(v="right",p="start"):y+c-f<=0&&(v="bottom",p="start"),y>=u?(v="left",p="start"):y+f>=u&&(v="bottom",p="end")):e==="left"?(n+d<=0?(v="bottom",p="end"):n+d-w<=0&&(v="left",p="start"),n>=i?(v="top",p="end"):n+w>=i&&(v="left",p="end")):e==="right"&&(n+d<=0?(v="bottom",p="start"):n+d-w<=0&&(v="right",p="start"),n>=i?(v="top",p="start"):n+w>=i&&(v="right",p="end")),!v)h.classList.add("driver-popover-arrow-none");else{h.classList.add(`driver-popover-arrow-side-${v}`),h.classList.add(`driver-popover-arrow-align-${p}`);const C=r.getBoundingClientRect(),k=h.getBoundingClientRect(),N=x("stagePadding")||0,S=C.left-N<window.innerWidth&&C.right+N>0&&C.top-N<window.innerHeight&&C.bottom+N>0;e==="bottom"&&S&&(k.x>C.x&&k.x+k.width<C.x+C.width?o.wrapper.style.transform="translateY(0)":(h.classList.remove(`driver-popover-arrow-align-${p}`),h.classList.add("driver-popover-arrow-none"),o.wrapper.style.transform=`translateY(-${N/2}px)`))}}function $o(){const t=document.createElement("div");t.classList.add("driver-popover");const e=document.createElement("div");e.classList.add("driver-popover-arrow");const r=document.createElement("header");r.id="driver-popover-title",r.classList.add("driver-popover-title"),r.style.display="none",r.innerText="Popover Title";const o=document.createElement("div");o.id="driver-popover-description",o.classList.add("driver-popover-description"),o.style.display="none",o.innerText="Popover description is here";const a=document.createElement("button");a.type="button",a.classList.add("driver-popover-close-btn"),a.setAttribute("aria-label","Close"),a.innerHTML="&times;";const l=document.createElement("footer");l.classList.add("driver-popover-footer");const h=document.createElement("span");h.classList.add("driver-popover-progress-text"),h.innerText="";const f=document.createElement("span");f.classList.add("driver-popover-navigation-btns");const u=document.createElement("button");u.type="button",u.classList.add("driver-popover-prev-btn"),u.innerHTML="&larr; Previous";const c=document.createElement("button");return c.type="button",c.classList.add("driver-popover-next-btn"),c.innerHTML="Next &rarr;",f.appendChild(u),f.appendChild(c),l.appendChild(h),l.appendChild(f),t.appendChild(a),t.appendChild(e),t.appendChild(r),t.appendChild(o),t.appendChild(l),{wrapper:t,arrow:e,title:r,description:o,footer:l,previousButton:u,nextButton:c,closeButton:a,footerButtons:f,progress:h}}function Ko(){var t;const e=F("popover");e&&((t=e.wrapper.parentElement)==null||t.removeChild(e.wrapper))}function jo(t={}){Ie(t);function e(){x("allowClose")&&y()}function r(){const i=x("overlayClickBehavior");if(x("allowClose")&&i==="close"){y();return}i==="nextStep"&&o()}function o(){const i=F("activeIndex"),n=x("steps")||[];if(typeof i>"u")return;const d=i+1;n[d]?c(d):y()}function a(){const i=F("activeIndex"),n=x("steps")||[];if(typeof i>"u")return;const d=i-1;n[d]?c(d):y()}function l(i){(x("steps")||[])[i]?c(i):y()}function h(){var i;if(F("__transitionCallback"))return;const n=F("activeIndex"),d=F("__activeStep"),v=F("__activeElement");if(typeof n>"u"||typeof d>"u"||typeof F("activeIndex")>"u")return;const p=((i=d.popover)==null?void 0:i.onPrevClick)||x("onPrevClick");if(p)return p(v,d,{config:x(),state:F(),driver:ee()});a()}function f(){var i;if(F("__transitionCallback"))return;const n=F("activeIndex"),d=F("__activeStep"),v=F("__activeElement");if(typeof n>"u"||typeof d>"u")return;const p=((i=d.popover)==null?void 0:i.onNextClick)||x("onNextClick");if(p)return p(v,d,{config:x(),state:F(),driver:ee()});o()}function u(){F("isInitialized")||(K("isInitialized",!0),document.body.classList.add("driver-active",x("animate")?"driver-fade":"driver-simple"),Go(),xe("overlayClick",r),xe("escapePress",e),xe("arrowLeftPress",h),xe("arrowRightPress",f))}function c(i=0){var n,d,v,p,C,k,N,S;const P=x("steps");if(!P){console.error("No steps to drive through"),y();return}if(!P[i]){y();return}K("__activeOnDestroyed",document.activeElement),K("activeIndex",i);const s=P[i],g=P[i+1],_=P[i-1],A=((n=s.popover)==null?void 0:n.doneBtnText)||x("doneBtnText")||"Done",L=x("allowClose"),b=typeof((d=s.popover)==null?void 0:d.showProgress)<"u"?(v=s.popover)==null?void 0:v.showProgress:x("showProgress"),E=(((p=s.popover)==null?void 0:p.progressText)||x("progressText")||"{{current}} of {{total}}").replace("{{current}}",`${i+1}`).replace("{{total}}",`${P.length}`),V=((C=s.popover)==null?void 0:C.showButtons)||x("showButtons"),T=["next","previous",...L?["close"]:[]].filter(G=>!(V!=null&&V.length)||V.includes(G)),R=((k=s.popover)==null?void 0:k.onNextClick)||x("onNextClick"),H=((N=s.popover)==null?void 0:N.onPrevClick)||x("onPrevClick"),B=((S=s.popover)==null?void 0:S.onCloseClick)||x("onCloseClick");Ze({...s,popover:{showButtons:T,nextBtnText:g?void 0:A,disableButtons:[..._?[]:["previous"]],showProgress:b,progressText:E,onNextClick:R||(()=>{g?c(i+1):y()}),onPrevClick:H||(()=>{c(i-1)}),onCloseClick:B||(()=>{y()}),...(s==null?void 0:s.popover)||{}}})}function y(i=!0){const n=F("__activeElement"),d=F("__activeStep"),v=F("__activeOnDestroyed"),p=x("onDestroyStarted");if(i&&p){const N=!n||(n==null?void 0:n.id)==="driver-dummy-element";p(N?void 0:n,d,{config:x(),state:F(),driver:ee()});return}const C=(d==null?void 0:d.onDeselected)||x("onDeselected"),k=x("onDestroyed");if(document.body.classList.remove("driver-active","driver-fade","driver-simple"),zo(),Ko(),Wo(),Vo(),Lo(),Xe(),n&&d){const N=n.id==="driver-dummy-element";C&&C(N?void 0:n,d,{config:x(),state:F(),driver:ee()}),k&&k(N?void 0:n,d,{config:x(),state:F(),driver:ee()})}v&&v.focus()}const w={isActive:()=>F("isInitialized")||!1,refresh:we,drive:(i=0)=>{u(),c(i)},setConfig:Ie,setSteps:i=>{Xe(),Ie({...x(),steps:i})},getConfig:x,getState:F,getActiveIndex:()=>F("activeIndex"),isFirstStep:()=>F("activeIndex")===0,isLastStep:()=>{const i=x("steps")||[],n=F("activeIndex");return n!==void 0&&n===i.length-1},getActiveStep:()=>F("activeStep"),getActiveElement:()=>F("activeElement"),getPreviousElement:()=>F("previousElement"),getPreviousStep:()=>F("previousStep"),moveNext:o,movePrevious:a,moveTo:l,hasNextStep:()=>{const i=x("steps")||[],n=F("activeIndex");return n!==void 0&&!!i[n+1]},hasPreviousStep:()=>{const i=x("steps")||[],n=F("activeIndex");return n!==void 0&&!!i[n-1]},highlight:i=>{u(),Ze({...i,popover:i.popover?{showButtons:[],showProgress:!1,progressText:"",...i.popover}:void 0})},destroy:()=>{y(!1)}};return So(w),w}var Xo=(t,e)=>re(e,!1),Zo=O('<p><!></p> <footer class="modal-footer flex justify-end space-x-2 mt-6"><button type="button" class="btn border preset-tonal-primary hover:preset-filled-primary-500">Cancel</button> <button type="button" class="btn preset-filled-primary-500">Start Tour</button></footer>',1),Jo=(t,e,r)=>{re(e,!1),re(r,!0)},Qo=O('<!> <button type="button" data-testid="explorer-tour-btn" id="tourBtn" class="btn preset-filled-secondary-500 text-black hover:text-white">Take a Tour</button>',1);function ea(t,e){ae(e,!0);const r=()=>J(Gt,"$searchPromise",o),[o,a]=he();let l=de(!1),h=de(!1);const f=()=>{},u=L=>{L==null||L.click()},c=L=>{L==null||L.click(),P.moveNext()},y=L=>b=>{L?b.classList.add("highlight"):b.classList.remove("highlight")};function w(){be.set(""),er(),Jt()}const i=L=>{document.querySelector(`#${L} [data-testid="add-filter"]`).click(),P.moveNext()},n=L=>{const b=document.querySelector(`#${L} #select-all`);b==null||b.click(),setTimeout(()=>{const E=document.querySelector(`#${L} [data-testid="add-filter"]`);E==null||E.click(),P.moveNext()},200)};function d(){document.querySelector("#results-panel-toggle").click()}const v=L=>{const b=L==null?void 0:L.id;(document.querySelector(`#${b} [data-testid="numerical-filter"]`)?"numerical":"categorical")==="numerical"?i(b):n(b)};function p(L,b){return L.replace(/\{\{searchTerm\}\}/g,b)}const C=()=>{const b=document.querySelector("#ExplorerTable-table").querySelectorAll("tr");for(let E=0;E<b.length;E++){const V=b[E];if(V.querySelector('button[title="Filter"]')){V.classList.add("non-stigmatized-row");break}}P.moveNext()},k={disablePrevious:f,clickElement:u,clickElementThenNext:c,addHighlightClass:y(!0),removeHighlightClass:y(!1),resetSearch:w,applyFilterThenNext:v,findAndSetFirstNonStigmatizedAvailableFilterThenNext:C};function N(L){return L.map(b=>{var R,H;const{popover:E,...V}=b,T={...V,popover:{...E,title:p(E.title,(R=e.tourConfig)==null?void 0:R.searchTerm),description:p(E.description,(H=e.tourConfig)==null?void 0:H.searchTerm)}};return E.onPrevClick&&(T.popover.onPrevClick=k[E.onPrevClick]),E.onNextClick&&(T.popover.onNextClick=k[E.onNextClick]),b.onHighlightStarted&&(T.onHighlightStarted=k[b.onHighlightStarted]),b.removeHighlightClass&&(T.removeHighlightClass=k[b.removeHighlightClass]),T})}const S=N(e.tourConfig.steps),P=jo({showProgress:!0,popoverClass:"picsure-theme",overlayColor:"var(--color-surface-400)",nextBtnText:'Next <i class="fa-solid fa-arrow-right ml-1"></i>',showButtons:["next","close"],disableButtons:["previous"],steps:S,onDestroyed:()=>{var E;w(),Ae.set([]),document.querySelector("#side-panel").classList.contains("open-panel")&&((E=document.querySelector("#results-panel-toggle"))==null||E.click());const b=document.querySelector("#explorer-search-box");b.value="",b.focus()}});async function s(){re(l,!0),d(),w();const L=document.querySelector("#explorer-search-box");L.value=e.tourConfig.searchTerm,Ee(be,e.tourConfig.searchTerm),await r().then(()=>P.drive()).catch(()=>console.error("API returned error during tour."))}var g=Qo(),_=j(g);{let L=q(()=>{var b;return(b=e.tourConfig)==null?void 0:b.title});Sr(_,{get title(){return m(L)},confirmText:"Start Tour",onconfirm:s,withDefault:!1,width:"w-1/3",get open(){return m(h)},set open(b){re(h,b,!0)},children:(b,E)=>{var V=te(),T=j(V);{var R=B=>{yr(B,{ring:!0,size:"large"})},H=B=>{var G=Zo(),Z=j(G),z=M(Z);Er(z,()=>{var Oe;return Tr((Oe=e.tourConfig)==null?void 0:Oe.description)}),D(Z);var $=Y(Z,2),ue=M($);ue.__click=[Xo,h];var Ct=Y(ue,2);Ct.__click=s,D($),I(B,G)};U(T,B=>{m(l)?B(R):B(H,!1)})}I(b,V)},$$slots:{default:!0}})}var A=Y(_,2);A.__click=[Jo,l,h],I(t,g),ie(),a()}Ce(["click"]);function ta(t,e,r){zt(),re(e,""),at(m(r))}var ra=O('<a data-testid="genomic-filter-btn" class="btn preset-tonal-primary border border-primary-500 hover:preset-filled-primary-500" href="/explorer/genome-filter">Genomic Filtering</a>'),oa=O('<div id="explorer-tour" class="text-center mt-4"><!></div>'),aa=O('<section id="search-container" class="flex gap-9"><div id="facet-side-bar" class="flex-none flex-col items-center w-64"><!></div> <div id="search-results-col" class="flex-auto"><div id="search-bar" class="flex gap-2 mb-6"><div class="flex-auto"><!></div> <div class="flex-none"><!> <button type="button" class="btn preset-tonal-error border border-error-500 hover:preset-filled-error-500" aria-label="You are on the reset button">Reset</button></div></div> <!> <!></div></section>');function Na(t,e){ae(e,!0);const r=()=>J(be,"$searchTerm",f),o=()=>J(ze,"$error",f),a=()=>J(Ae,"$selectedFacets",f),l=()=>J($t,"$isLoading",f),h=()=>J(qt,"$tour",f),[f,u]=he();let c=de(rt(Be.url.searchParams.get("search")||r()||""));const y="ExplorerTable",i=[...Dt.explorePage.columns||[],{dataElement:"id",label:"Actions",class:"w-36 text-center"}],n={id:ro};let d=q(()=>Be.url.pathname.includes("/discover")),v=q(()=>m(d)?"/discover":"/explorer");function p(){o()&&ze.set(""),be.set(m(c)),at(m(c)?`${m(v)}?search=${m(c)}`:`${m(v)}`,{replaceState:!0})}xt(()=>{Ut(),m(c)&&m(c)!==r()?be.set(m(c)):Ue.invalidate()});var C=aa(),k=M(C),N=M(k);To(N,{}),D(k);var S=Y(k,2),P=M(S),s=M(P),g=M(s);rr(g,{search:p,get searchTerm(){return m(c)},set searchTerm(B){re(c,B,!0)}}),D(s);var _=Y(s,2),A=M(_);{var L=B=>{var G=ra();I(B,G)};U(A,B=>{!m(d)&&(ge.enableGENEQuery||ge.enableSNPQuery)&&B(L)})}var b=Y(A,2);b.__click=[ta,c,v],D(_),D(P);var E=Y(P,2);{var V=B=>{ct(B,{title:"Sorry, we could not retrieve your search results.",color:"secondary",children:(G,Z)=>{De();var z=ye();X(()=>fe(z,o())),I(G,z)},$$slots:{default:!0}})},T=B=>{var G=te(),Z=j(G);{var z=$=>{tr($,{isClickable:!0,tableName:y,get handler(){return Ue},get columns(){return i},get cellOverides(){return n},get isLoading(){return l()},expandable:!0})};U(Z,$=>{(r()||a().length>0)&&$(z)},!0)}I(B,G)};U(E,B=>{o()?B(V):B(T,!1)})}var R=Y(E,2);{var H=B=>{var G=oa(),Z=M(G);ea(Z,{get tourConfig(){return e.tourConfig}}),D(G),I(B,G)};U(R,B=>{ge.explorer.enableTour&&h()&&B(H)})}D(S),D(C),X(()=>b.disabled=!m(c)&&a().length===0),I(t,C),ie(),u()}Ce(["click"]);const Va={"NHANES-Auth":{searchTerm:"Age",title:"Welcome to PIC-SURE",description:"PIC-SURE allows you to explore variables, apply filters, and prepare data for analysis. When applying filters, participants are selected that meet those criteria. <br /><br />This tour demonstrates how to search, apply filters, and interpret results using PIC-SURE. <br /><br />Once the tour starts, you can press the escape key to stop the tour at any point. You may also use the arrow keys, enter key, or the spacebar to navigate the tour.",steps:[{element:"#explorer-search-box",popover:{title:"Search",description:'Search clinical variables of interest. Here, the term "{{searchTerm}}" was used to get all demographics-related results.',onPrevClick:"disablePrevious"}},{element:"#facet-side-bar",popover:{title:"Refine Search",description:"Use the options displayed here to further refine your search results using facets.",onPrevClick:"disablePrevious"}},{element:"#ExplorerTable-table",popover:{title:"Search Results",description:"The search results are displayed in this area. Each row describes a different variable that matches your search term and/or facets.",onPrevClick:"disablePrevious"}},{element:"#ExplorerTable-table #row-0",onHighlightStarted:"clickElement",popover:{title:"Variable Details",description:"To learn more about a variable, click on the row or click the information icon.",onPrevClick:"disablePrevious"}},{element:"#ExplorerTable-table #active-row-0",popover:{title:"Variable Details",description:"This displays information about the variable, including dataset information and study information.",onPrevClick:"disablePrevious",onNextClick:"clickElementThenNext"}},{element:'#row-0 button[title="Filter"]',onHighlightStarted:"clickElement",popover:{title:"Apply Filters",description:"Click the filter icon to apply inclusion criteria to build your cohort.",onPrevClick:"disablePrevious"}},{element:"#ExplorerTable-table .expandable-row",popover:{title:"Apply Filters",description:"You can add filters by selecting different values or specifying a numeric range here, then clicking the “+” button.",onPrevClick:"disablePrevious",onNextClick:"applyFilterThenNext"}},{element:'#row-0 button[title="Data Hierarchy"]',onHighlightStarted:"clickElement",popover:{title:"Variable Hierarchy",description:"Click the Variable Hierarchy icon to filter at different levels of the variable path.",onPrevClick:"disablePrevious"}},{element:"#ExplorerTable-table .expandable-row",popover:{title:"Variable Hierarchy",description:"You can filter on different levels of the variable hierarchy by clicking a level here, then clicking the “+” button.",onPrevClick:"disablePrevious"}},{element:'#row-0 button[title="Add for Analysis"]',popover:{title:"Export Variable",description:"Click the export icon to add a variable to your export without applying a filter.",onPrevClick:"disablePrevious"}},{element:"#sidebar-right",popover:{title:"Cohort Summary",description:"You can view the summary of the filtered cohort based on the applied variable filters. Additionally, you can also view variable distributions and prepare your cohort for analysis.",onPrevClick:"disablePrevious"}},{element:"#nav-link-help",popover:{title:"Help Resources",description:"To learn more about PIC-SURE, please consult the <a href='https://pic-sure.gitbook.io/pic-sure' class='anchor' target='_blank'>user guide</a> and <a href='https://www.youtube.com/@pic-sure446/featured' class='anchor' target='_blank'>video</a> demonstrations. You can also find these resources on the help page.",onPrevClick:"disablePrevious"}}]},"BDC-Open":{searchTerm:"RECOVER",title:"Welcome to BioData Catalyst Powered by PIC-SURE",description:"BioData Catalyst Powered by PIC-SURE allows you to explore variables, apply filters, and prepare data for analysis. When applying filters, participants are selected that meet those criteria. <br /><br />This tour demonstrates how to search, apply filters, and interpret results using PIC-SURE. This tour uses the Researching COVID to Enhance Recovery (RECOVER) dataset as an example. The RECOVER initiative is focused on understanding, diagnosing, treating, and preventing Long COVID. <br /><br />Once the tour starts, you can click “Next” or use the arrow keys to navigate the tour. You can press any other key or click anywhere on the screen to escape the tour.",steps:[{element:"#explorer-search-box",popover:{title:"Search",description:'Search clinical variables of interest. Here, the term "{{searchTerm}}" was used to get all {{searchTerm}}-related results.',onPrevClick:"disablePrevious"}},{element:"#facet-side-bar",popover:{title:"Refine Search",description:"Use the options displayed here to further refine your search results using facets.",onPrevClick:"disablePrevious"}},{element:"#ExplorerTable-table",popover:{title:"Search Results",description:"The search results are displayed in this area. Each row describes a different variable that matches your search term and/or facets.",onPrevClick:"disablePrevious",onNextClick:"findAndSetFirstNonStigmatizedAvailableFilterThenNext"}},{element:"#ExplorerTable-table .non-stigmatized-row",onHighlightStarted:"clickElement",popover:{title:"Variable Details",description:"To learn more about a variable, click on the row or click the information icon.",onPrevClick:"disablePrevious"}},{element:"#ExplorerTable-table .expandable-row",popover:{title:"Variable Details",description:"This displays information about the variable, including dataset information and study information.",onPrevClick:"disablePrevious"}},{element:'#ExplorerTable-table .non-stigmatized-row button[title="Filter"]',onHighlightStarted:"clickElement",popover:{title:"Apply Filters",description:"Click the filter icon to apply inclusion criteria to build your cohort.",onPrevClick:"disablePrevious"}},{element:"#ExplorerTable-table .expandable-row",popover:{title:"Apply Filters",description:"You can add filters by selecting different values or specifying a numeric range here, then clicking the “+” button.",onPrevClick:"disablePrevious",onNextClick:"applyFilterThenNext"}},{element:"#sidebar-right",popover:{title:"Cohort Summary",description:"You can view the summary of the filtered cohort based on the applied variable filters. Additionally, you can also view variable distributions and counts per study. Note that this count is obfuscated to protect participant-level data.",onPrevClick:"disablePrevious"}},{element:"#nav-link-help",popover:{title:"Help Resources",description:"To learn more about PIC-SURE, please consult the <a href='https://pic-sure.gitbook.io/nhlbi-biodata-catalyst-powered-by-pic-sure' class='anchor' target='_blank'>user guide</a> and <a href='https://www.youtube.com/playlist?list=PLJ6YccH8TEufZ5L-ctxzFF7vuZRLVacKw' class='anchor' target='_blank'>video</a> demonstrations. You can also find these resources on the help page.",onPrevClick:"disablePrevious"}}]},"BDC-Auth":{searchTerm:"cardiac surgery",title:"Welcome to BioData Catalyst Powered by PIC-SURE",description:"BioData Catalyst Powered by PIC-SURE allows you to explore variables, apply filters, and prepare data for analysis. When applying filters, participants are selected that meet those criteria. <br /><br />This tour demonstrates how to search, apply filters, and interpret results using PIC-SURE. <br /><br />Once the tour starts, you can click “Next” or use the arrow keys to navigate the tour. You can press any other key or click anywhere on the screen to escape the tour.",steps:[{element:"#explorer-search-box",popover:{title:"Search",description:'Search clinical variables of interest. Here, the term "{{searchTerm}}" was used to get all results related to {{searchTerm}}.',onPrevClick:"disablePrevious"}},{element:"#facet-side-bar",popover:{title:"Refine Search",description:"Use the options displayed here to further refine your search results using facets.",onPrevClick:"disablePrevious"}},{element:"#ExplorerTable-table",popover:{title:"Search Results",description:"The search results are displayed in this area. Each row describes a different variable that matches your search term and/or facets.",onPrevClick:"disablePrevious"}},{element:"#ExplorerTable-table #row-0",onHighlightStarted:"clickElement",popover:{title:"Variable Details",description:"To learn more about a variable, click on the row or click the information icon.",onPrevClick:"disablePrevious"}},{element:"#ExplorerTable-table #active-row-0",popover:{title:"Variable Details",description:"This displays information about the variable, including dataset information and study information.",onPrevClick:"disablePrevious",onNextClick:"clickElementThenNext"}},{element:'#row-0 button[title="Filter"]',onHighlightStarted:"clickElement",popover:{title:"Apply Filters",description:"Click the filter icon to apply inclusion criteria to build your cohort.",onPrevClick:"disablePrevious"}},{element:"#active-row-0",popover:{title:"Apply Filters",description:"You can add filters by selecting different values or specifying a numeric range here, then clicking the “+” button.",onPrevClick:"disablePrevious",onNextClick:"applyFilterThenNext"}},{element:'#row-0 button[title="Add for Analysis"]',popover:{title:"Export Variable",description:"Click the export icon to add a variable to your export without applying a filter.",onPrevClick:"disablePrevious"}},{element:"#sidebar-right",popover:{title:"Cohort Summary",description:"You can view the summary of the filtered cohort based on the applied variable filters. Additionally, you can also view variable distributions and prepare your cohort for analysis.",onPrevClick:"disablePrevious"}},{element:"#nav-link-help",popover:{title:"Help Resources",description:"To learn more about PIC-SURE, please consult the <a href='https://pic-sure.gitbook.io/nhlbi-biodata-catalyst-powered-by-pic-sure' class='anchor' target='_blank'>user guide</a> and <a href='https://www.youtube.com/playlist?list=PLJ6YccH8TEufZ5L-ctxzFF7vuZRLVacKw' class='anchor' target='_blank'>video</a> demonstrations. You can also find these resources on the help page.",onPrevClick:"disablePrevious"}}]},"GIC-Common":{searchTerm:"cancer",title:"Welcome to GIC",description:'The Genomic Information Commons (GIC) Cohort Builder allows you to explore clinical, genomic, and biosample data from broadly consented cohorts across multiple sites of care. You can search variables, apply filters, and prepare to request access to patient-level data. When applying filters, patients are selected who meet those criteria. <br /><br />This tour demonstrates how to search, apply filters, and interpret results. Once the tour starts, you can click "Next" or use the arrow keys to navigate the tour. You can press any other key or click anywhere on the screen to escape the tour.',steps:[{element:"#explorer-search-box",popover:{title:"Search",description:'Search clinical variables of interest. Here, the term "cancer" was used.',onPrevClick:"disablePrevious"}},{element:"#facet-side-bar",popover:{title:"Refine Search",description:"Use the options displayed here to further refine your search results using facets.",onPrevClick:"disablePrevious"}},{element:"#ExplorerTable-table",popover:{title:"Search Results",description:"The search results are displayed in this area. Each row describes a different variable that matches your search term and/or facets.",onPrevClick:"disablePrevious"}},{element:"#ExplorerTable-table #row-0",onHighlightStarted:"clickElement",popover:{title:"Variable Details",description:"To learn more about a variable, click on the row or click the information icon.",onPrevClick:"disablePrevious"}},{element:"#ExplorerTable-table #active-row-0",popover:{title:"Variable Details",description:"This displays information about the variable, including dataset information and study information.",onPrevClick:"disablePrevious",onNextClick:"clickElementThenNext"}},{element:'#row-0 button[title="Filter"]',onHighlightStarted:"clickElement",popover:{title:"Apply Filters",description:"Click the filter icon to apply inclusion criteria to build your cohort.",onPrevClick:"disablePrevious"}},{element:"#ExplorerTable-table .expandable-row",popover:{title:"Apply Filters",description:'You can add filters by selecting different values or specifying a numeric range here, then clicking the "+" button.',onPrevClick:"disablePrevious",onNextClick:"applyFilterThenNext"}},{element:'#row-0 button[title="Data Hierarchy"]',onHighlightStarted:"clickElement",popover:{title:"Variable Hierarchy",description:"Click the Variable Hierarchy icon to filter at different levels of the variable path.",onPrevClick:"disablePrevious"}},{element:"#ExplorerTable-table .expandable-row",popover:{title:"Variable Hierarchy",description:'You can filter on different levels of the variable hierarchy by clicking a level here, then clicking the "+" button.',onPrevClick:"disablePrevious"}},{element:'#row-0 button[title="Add for Analysis"]',popover:{title:"Export Variable",description:"Click the export icon to add a variable to your export without applying a filter.",onPrevClick:"disablePrevious"}},{element:"#sidebar-right",popover:{title:"Cohort Summary",description:"You can view the summary of the filtered cohort based on the applied variable filters. Additionally, you can also view the patient counts per site with varying biosample and genomic data types using the Cohort Details tool.",onPrevClick:"disablePrevious"}},{element:"#nav-link-help",popover:{title:"Help Resources",description:"To learn more about PIC-SURE, please consult the <a href='https://pic-sure.gitbook.io/genomic-information-commons' class='anchor' target='_blank'>user guide</a> and <a href='https://www.youtube.com/playlist?list=PLJ6YccH8TEudynChXcDUKveAvqyK-N3SN' class='anchor' target='_blank'>video</a> demonstrations. You can also find these resources on the help page.",onPrevClick:"disablePrevious"}}]}};export{Na as E,Va as T};
