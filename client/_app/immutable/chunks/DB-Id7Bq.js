import{d as l,w as u,g as n}from"./xU7jw7XU.js";import{m as r}from"./BOAiLg0g.js";import{d as f,g as d,P as o,p as g,c as P}from"./M2p3ZkHt.js";const c=u(!1),t=u([]),v=l(t,s=>s.map(e=>[e.name,e.uuid||""]),[]);async function m(){if(n(c))return;const s=await d(o.Priviege);t.set(s.map(r)),c.set(!0)}async function y(s){const i=n(t).find(p=>p.uuid===s);if(i)return i;const a=await d(`${o.Priviege}/${s}`);return r(a)}async function $(s){const e=await P(o.Priviege,[{...s,application:{uuid:s.application}}]),i=r(e[0]),a=n(t);a.push(i),t.set(a)}async function I(s){await g(o.Priviege,[{...s,application:{uuid:s.application}}]);const e=n(t),i=e.findIndex(a=>a.uuid===s.uuid);i===-1?e.push(s):e[i]=s,t.set(e)}async function h(s){await f(`${o.Priviege}/${s}`);const e=n(t),i=e.findIndex(a=>a.uuid===s);i>-1&&(e.splice(i,1),t.set(e))}const L={subscribe:t.subscribe,privilegeList:v,loadPrivileges:m};export{L as P,$ as a,t as b,h as d,y as g,m as l,v as p,I as u};
