var qn=Object.defineProperty;var Ln=(e,t,r)=>t in e?qn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Je=(e,t,r)=>Ln(e,typeof t!="symbol"?t+"":t,r);import{A as Bn}from"./AuthProviderRegistry.D60XWJk7.js";import{p as Nn,l as Fn}from"./User.Cd_5OWtK.js";import{c as Hn}from"./configuration.LanpiT2M.js";var gn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function je(e,t){return e(t={exports:{}},t.exports),t.exports}var V=je(function(e){var t,r;t=gn,r=function(){function n(o){var c=[];if(o.length===0)return"";if(typeof o[0]!="string")throw new TypeError("Url must be a string. Received "+o[0]);if(o[0].match(/^[^/:]+:\/*$/)&&o.length>1){var u=o.shift();o[0]=u+o[0]}o[0].match(/^file:\/\/\//)?o[0]=o[0].replace(/^([^/:]+):\/*/,"$1:///"):o[0]=o[0].replace(/^([^/:]+):\/*/,"$1://");for(var p=0;p<o.length;p++){var h=o[p];if(typeof h!="string")throw new TypeError("Url must be a string. Received "+h);h!==""&&(p>0&&(h=h.replace(/^[\/]+/,"")),h=p<o.length-1?h.replace(/[\/]+$/,""):h.replace(/[\/]+$/,"/"),c.push(h))}var l=c.join("/"),y=(l=l.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return l=y.shift()+(y.length>0?"?":"")+y.join("&")}return function(){return n(typeof arguments[0]=="object"?arguments[0]:[].slice.call(arguments))}},e.exports?e.exports=r():t.urljoin=r()}),Wn=Error,jn=EvalError,$n=RangeError,zn=ReferenceError,He=SyntaxError,oe=TypeError,Vn=URIError,Sr=typeof Symbol<"u"&&Symbol,Ar={foo:{}},Jn=Object,Gn="Function.prototype.bind called on incompatible ",Kn=Object.prototype.toString,Xn=Math.max,Er=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var o=0;o<t.length;o+=1)r[o+e.length]=t[o];return r},Qn=function(e,t){for(var r=[],n=t,o=0;n<e.length;n+=1,o+=1)r[o]=e[n];return r},Zn=function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r},Oe=Function.prototype.bind||function(e){var t=this;if(typeof t!="function"||Kn.apply(t)!=="[object Function]")throw new TypeError(Gn+t);for(var r,n=Qn(arguments,1),o=function(){if(this instanceof r){var l=t.apply(this,Er(n,arguments));return Object(l)===l?l:this}return t.apply(e,Er(n,arguments))},c=Xn(0,t.length-n.length),u=[],p=0;p<c;p++)u[p]="$"+p;if(r=Function("binder","return function ("+Zn(u,",")+"){ return binder.apply(this,arguments); }")(o),t.prototype){var h=function(){};h.prototype=t.prototype,r.prototype=new h,h.prototype=null}return r},Yn=Function.prototype.call,ei=Object.prototype.hasOwnProperty,Ft=Oe.call(Yn,ei),vn=Function,zt=function(e){try{return vn('"use strict"; return ('+e+").constructor;")()}catch{}},Le=Object.getOwnPropertyDescriptor;if(Le)try{Le({},"")}catch{Le=null}var Vt=function(){throw new oe},ti=Le?function(){try{return Vt}catch{try{return Le(arguments,"callee").get}catch{return Vt}}}():Vt,Ge=typeof Sr=="function"&&typeof Symbol=="function"&&typeof Sr("foo")=="symbol"&&typeof Symbol("bar")=="symbol"&&function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),r=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;for(t in e[t]=42,e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var n=Object.getOwnPropertySymbols(e);if(n.length!==1||n[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==42||o.enumerable!==!0)return!1}return!0}(),ri={__proto__:Ar}.foo===Ar.foo&&!({__proto__:null}instanceof Jn),ee=Object.getPrototypeOf||(ri?function(e){return e.__proto__}:null),Ye={},ni=typeof Uint8Array<"u"&&ee?ee(Uint8Array):void 0,Be={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":Ge&&ee?ee([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":Ye,"%AsyncGenerator%":Ye,"%AsyncGeneratorFunction%":Ye,"%AsyncIteratorPrototype%":Ye,"%Atomics%":typeof Atomics>"u"?void 0:Atomics,"%BigInt%":typeof BigInt>"u"?void 0:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?void 0:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?void 0:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Wn,"%eval%":eval,"%EvalError%":jn,"%Float32Array%":typeof Float32Array>"u"?void 0:Float32Array,"%Float64Array%":typeof Float64Array>"u"?void 0:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?void 0:FinalizationRegistry,"%Function%":vn,"%GeneratorFunction%":Ye,"%Int8Array%":typeof Int8Array>"u"?void 0:Int8Array,"%Int16Array%":typeof Int16Array>"u"?void 0:Int16Array,"%Int32Array%":typeof Int32Array>"u"?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ge&&ee?ee(ee([][Symbol.iterator]())):void 0,"%JSON%":typeof JSON=="object"?JSON:void 0,"%Map%":typeof Map>"u"?void 0:Map,"%MapIteratorPrototype%":typeof Map<"u"&&Ge&&ee?ee(new Map()[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?void 0:Promise,"%Proxy%":typeof Proxy>"u"?void 0:Proxy,"%RangeError%":$n,"%ReferenceError%":zn,"%Reflect%":typeof Reflect>"u"?void 0:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?void 0:Set,"%SetIteratorPrototype%":typeof Set<"u"&&Ge&&ee?ee(new Set()[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ge&&ee?ee(""[Symbol.iterator]()):void 0,"%Symbol%":Ge?Symbol:void 0,"%SyntaxError%":He,"%ThrowTypeError%":ti,"%TypedArray%":ni,"%TypeError%":oe,"%Uint8Array%":typeof Uint8Array>"u"?void 0:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?void 0:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?void 0:Uint32Array,"%URIError%":Vn,"%WeakMap%":typeof WeakMap>"u"?void 0:WeakMap,"%WeakRef%":typeof WeakRef>"u"?void 0:WeakRef,"%WeakSet%":typeof WeakSet>"u"?void 0:WeakSet};if(ee)try{null.error}catch(e){var ii=ee(ee(e));Be["%Error.prototype%"]=ii}var Cr={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},oi=Oe.call(Function.call,Array.prototype.concat),si=Oe.call(Function.apply,Array.prototype.splice),Ir=Oe.call(Function.call,String.prototype.replace),Ht=Oe.call(Function.call,String.prototype.slice),ai=Oe.call(Function.call,RegExp.prototype.exec),ui=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ci=/\\(\\)?/g,pi=function(e){var t=Ht(e,0,1),r=Ht(e,-1);if(t==="%"&&r!=="%")throw new He("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&t!=="%")throw new He("invalid intrinsic syntax, expected opening `%`");var n=[];return Ir(e,ui,function(o,c,u,p){n[n.length]=u?Ir(p,ci,"$1"):c||o}),n},li=function(e,t){var r,n=e;if(Ft(Cr,n)&&(n="%"+(r=Cr[n])[0]+"%"),Ft(Be,n)){var o=Be[n];if(o===Ye&&(o=function c(u){var p;if(u==="%AsyncFunction%")p=zt("async function () {}");else if(u==="%GeneratorFunction%")p=zt("function* () {}");else if(u==="%AsyncGeneratorFunction%")p=zt("async function* () {}");else if(u==="%AsyncGenerator%"){var h=c("%AsyncGeneratorFunction%");h&&(p=h.prototype)}else if(u==="%AsyncIteratorPrototype%"){var l=c("%AsyncGenerator%");l&&ee&&(p=ee(l.prototype))}return Be[u]=p,p}(n)),o===void 0&&!t)throw new oe("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new He("intrinsic "+e+" does not exist!")},he=function(e,t){if(typeof e!="string"||e.length===0)throw new oe("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new oe('"allowMissing" argument must be a boolean');if(ai(/^%?[^%]*%?$/,e)===null)throw new He("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=pi(e),n=r.length>0?r[0]:"",o=li("%"+n+"%",t),c=o.name,u=o.value,p=!1,h=o.alias;h&&(n=h[0],si(r,oi([0,1],h)));for(var l=1,y=!0;l<r.length;l+=1){var d=r[l],m=Ht(d,0,1),g=Ht(d,-1);if((m==='"'||m==="'"||m==="`"||g==='"'||g==="'"||g==="`")&&m!==g)throw new He("property names with quotes must have matching quotes");if(d!=="constructor"&&y||(p=!0),Ft(Be,c="%"+(n+="."+d)+"%"))u=Be[c];else if(u!=null){if(!(d in u)){if(!t)throw new oe("base intrinsic for "+e+" exists, but the property is not available.");return}if(Le&&l+1>=r.length){var E=Le(u,d);u=(y=!!E)&&"get"in E&&!("originalValue"in E.get)?E.get:u[d]}else y=Ft(u,d),u=u[d];y&&!p&&(Be[c]=u)}}return u},Mt=he("%Object.defineProperty%",!0)||!1;if(Mt)try{Mt({},"a",{value:1})}catch{Mt=!1}var We=Mt,qt=he("%Object.getOwnPropertyDescriptor%",!0);if(qt)try{qt([],"length")}catch{qt=null}var Wt=qt,Dr=function(e,t,r){if(!e||typeof e!="object"&&typeof e!="function")throw new oe("`obj` must be an object or a function`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new oe("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new oe("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new oe("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new oe("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,u=arguments.length>6&&arguments[6],p=!!Wt&&Wt(e,t);if(We)We(e,t,{configurable:c===null&&p?p.configurable:!c,enumerable:n===null&&p?p.enumerable:!n,value:r,writable:o===null&&p?p.writable:!o});else{if(!u&&(n||o||c))throw new He("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=r}},wn=function(){return!!We};wn.hasArrayLengthDefineBug=function(){if(!We)return null;try{return We([],"length",{value:1}).length!==1}catch{return!0}};var hi=wn(),fi=he("%Math.floor%"),di=function(e,t){if(typeof e!="function")throw new oe("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||fi(t)!==t)throw new oe("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,o=!0;if("length"in e&&Wt){var c=Wt(e,"length");c&&!c.configurable&&(n=!1),c&&!c.writable&&(o=!1)}return(n||o||!r)&&(hi?Dr(e,"length",t,!0,!0):Dr(e,"length",t)),e},ar=je(function(e){var t=he("%Function.prototype.apply%"),r=he("%Function.prototype.call%"),n=he("%Reflect.apply%",!0)||Oe.call(r,t),o=he("%Math.max%");e.exports=function(u){if(typeof u!="function")throw new oe("a function is required");var p=n(Oe,r,arguments);return di(p,1+o(0,u.length-(arguments.length-1)),!0)};var c=function(){return n(Oe,t,arguments)};We?We(e.exports,"apply",{value:c}):e.exports.apply=c}),yi=(ar.apply,ar(he("String.prototype.indexOf"))),at=function(e,t){var r=he(e,!!t);return typeof r=="function"&&yi(e,".prototype.")>-1?ar(r):r},nt=function(e){return e&&e.default||e}(Object.freeze({__proto__:null,default:{}})),vr=typeof Map=="function"&&Map.prototype,Jt=Object.getOwnPropertyDescriptor&&vr?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Tt=vr&&Jt&&typeof Jt.get=="function"?Jt.get:null,kr=vr&&Map.prototype.forEach,wr=typeof Set=="function"&&Set.prototype,Gt=Object.getOwnPropertyDescriptor&&wr?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,St=wr&&Gt&&typeof Gt.get=="function"?Gt.get:null,xr=wr&&Set.prototype.forEach,ct=typeof WeakMap=="function"&&WeakMap.prototype?WeakMap.prototype.has:null,pt=typeof WeakSet=="function"&&WeakSet.prototype?WeakSet.prototype.has:null,Pr=typeof WeakRef=="function"&&WeakRef.prototype?WeakRef.prototype.deref:null,mi=Boolean.prototype.valueOf,gi=Object.prototype.toString,vi=Function.prototype.toString,wi=String.prototype.match,ur=String.prototype.slice,Ie=String.prototype.replace,bi=String.prototype.toUpperCase,Rr=String.prototype.toLowerCase,bn=RegExp.prototype.test,Ur=Array.prototype.concat,ye=Array.prototype.join,_i=Array.prototype.slice,Mr=Math.floor,Kt=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Xt=Object.getOwnPropertySymbols,cr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,st=typeof Symbol=="function"&&typeof Symbol.iterator=="object",ne=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===st||!0)?Symbol.toStringTag:null,_n=Object.prototype.propertyIsEnumerable,qr=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function Lr(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||bn.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var n=e<0?-Mr(-e):Mr(e);if(n!==e){var o=String(n),c=ur.call(t,o.length+1);return Ie.call(o,r,"$&_")+"."+Ie.call(Ie.call(c,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Ie.call(t,r,"$&_")}var Br=nt.custom,Nr=On(Br)?Br:null,Oi=function e(t,r,n,o){var c=r||{};if(Ee(c,"quoteStyle")&&c.quoteStyle!=="single"&&c.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Ee(c,"maxStringLength")&&(typeof c.maxStringLength=="number"?c.maxStringLength<0&&c.maxStringLength!==1/0:c.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var u=!Ee(c,"customInspect")||c.customInspect;if(typeof u!="boolean"&&u!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Ee(c,"indent")&&c.indent!==null&&c.indent!=="	"&&!(parseInt(c.indent,10)===c.indent&&c.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Ee(c,"numericSeparator")&&typeof c.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var p=c.numericSeparator;if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return function C(N,P){if(N.length>P.maxStringLength){var J=N.length-P.maxStringLength,X="... "+J+" more character"+(J>1?"s":"");return C(ur.call(N,0,P.maxStringLength),P)+X}return Fr(Ie.call(Ie.call(N,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Ai),"single",P)}(t,c);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var h=String(t);return p?Lr(t,h):h}if(typeof t=="bigint"){var l=String(t)+"n";return p?Lr(t,l):l}var y=c.depth===void 0?5:c.depth;if(n===void 0&&(n=0),n>=y&&y>0&&typeof t=="object")return pr(t)?"[Array]":"[Object]";var d=function(C,N){var P;if(C.indent==="	")P="	";else{if(!(typeof C.indent=="number"&&C.indent>0))return null;P=ye.call(Array(C.indent+1)," ")}return{base:P,prev:ye.call(Array(N+1),P)}}(c,n);if(o===void 0)o=[];else if(Wr(o,t)>=0)return"[Circular]";function m(C,N,P){if(N&&(o=_i.call(o)).push(N),P){var J={depth:c.depth};return Ee(c,"quoteStyle")&&(J.quoteStyle=c.quoteStyle),e(C,J,n+1,o)}return e(C,c,n+1,o)}if(typeof t=="function"&&!Hr(t)){var g=function(C){if(C.name)return C.name;var N=wi.call(vi.call(C),/^function\s*([\w$]+)/);return N?N[1]:null}(t),E=At(t,m);return"[Function"+(g?": "+g:" (anonymous)")+"]"+(E.length>0?" { "+ye.call(E,", ")+" }":"")}if(On(t)){var _=st?Ie.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):cr.call(t);return typeof t!="object"||st?_:lt(_)}if(function(C){return!C||typeof C!="object"?!1:typeof HTMLElement<"u"&&C instanceof HTMLElement?!0:typeof C.nodeName=="string"&&typeof C.getAttribute=="function"}(t)){for(var x="<"+Rr.call(String(t.nodeName)),k=t.attributes||[],O=0;O<k.length;O++)x+=" "+k[O].name+"="+Fr(Ti(k[O].value),"double",c);return x+=">",t.childNodes&&t.childNodes.length&&(x+="..."),x+="</"+Rr.call(String(t.nodeName))+">"}if(pr(t)){if(t.length===0)return"[]";var A=At(t,m);return d&&!function(C){for(var N=0;N<C.length;N++)if(Wr(C[N],`
`)>=0)return!1;return!0}(A)?"["+lr(A,d)+"]":"[ "+ye.call(A,", ")+" ]"}if(function(C){return!(Ce(C)!=="[object Error]"||ne&&typeof C=="object"&&ne in C)}(t)){var M=At(t,m);return"cause"in Error.prototype||!("cause"in t)||_n.call(t,"cause")?M.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+ye.call(M,", ")+" }":"{ ["+String(t)+"] "+ye.call(Ur.call("[cause]: "+m(t.cause),M),", ")+" }"}if(typeof t=="object"&&u){if(Nr&&typeof t[Nr]=="function"&&nt)return nt(t,{depth:y-n});if(u!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(function(C){if(!Tt||!C||typeof C!="object")return!1;try{Tt.call(C);try{St.call(C)}catch{return!0}return C instanceof Map}catch{}return!1}(t)){var q=[];return kr&&kr.call(t,function(C,N){q.push(m(N,t,!0)+" => "+m(C,t))}),jr("Map",Tt.call(t),q,d)}if(function(C){if(!St||!C||typeof C!="object")return!1;try{St.call(C);try{Tt.call(C)}catch{return!0}return C instanceof Set}catch{}return!1}(t)){var w=[];return xr&&xr.call(t,function(C){w.push(m(C,t))}),jr("Set",St.call(t),w,d)}if(function(C){if(!ct||!C||typeof C!="object")return!1;try{ct.call(C,ct);try{pt.call(C,pt)}catch{return!0}return C instanceof WeakMap}catch{}return!1}(t))return Qt("WeakMap");if(function(C){if(!pt||!C||typeof C!="object")return!1;try{pt.call(C,pt);try{ct.call(C,ct)}catch{return!0}return C instanceof WeakSet}catch{}return!1}(t))return Qt("WeakSet");if(function(C){if(!Pr||!C||typeof C!="object")return!1;try{return Pr.call(C),!0}catch{}return!1}(t))return Qt("WeakRef");if(function(C){return!(Ce(C)!=="[object Number]"||ne&&typeof C=="object"&&ne in C)}(t))return lt(m(Number(t)));if(function(C){if(!C||typeof C!="object"||!Kt)return!1;try{return Kt.call(C),!0}catch{}return!1}(t))return lt(m(Kt.call(t)));if(function(C){return!(Ce(C)!=="[object Boolean]"||ne&&typeof C=="object"&&ne in C)}(t))return lt(mi.call(t));if(function(C){return!(Ce(C)!=="[object String]"||ne&&typeof C=="object"&&ne in C)}(t))return lt(m(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(t===gn)return"{ [object globalThis] }";if(!function(C){return!(Ce(C)!=="[object Date]"||ne&&typeof C=="object"&&ne in C)}(t)&&!Hr(t)){var b=At(t,m),T=qr?qr(t)===Object.prototype:t instanceof Object||t.constructor===Object,D=t instanceof Object?"":"null prototype",R=!T&&ne&&Object(t)===t&&ne in t?ur.call(Ce(t),8,-1):D?"Object":"",L=(T||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"")+(R||D?"["+ye.call(Ur.call([],R||[],D||[]),": ")+"] ":"");return b.length===0?L+"{}":d?L+"{"+lr(b,d)+"}":L+"{ "+ye.call(b,", ")+" }"}return String(t)};function Fr(e,t,r){var n=(r.quoteStyle||t)==="double"?'"':"'";return n+e+n}function Ti(e){return Ie.call(String(e),/"/g,"&quot;")}function pr(e){return!(Ce(e)!=="[object Array]"||ne&&typeof e=="object"&&ne in e)}function Hr(e){return!(Ce(e)!=="[object RegExp]"||ne&&typeof e=="object"&&ne in e)}function On(e){if(st)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!cr)return!1;try{return cr.call(e),!0}catch{}return!1}var Si=Object.prototype.hasOwnProperty||function(e){return e in this};function Ee(e,t){return Si.call(e,t)}function Ce(e){return gi.call(e)}function Wr(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function Ai(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+bi.call(t.toString(16))}function lt(e){return"Object("+e+")"}function Qt(e){return e+" { ? }"}function jr(e,t,r,n){return e+" ("+t+") {"+(n?lr(r,n):ye.call(r,", "))+"}"}function lr(e,t){if(e.length===0)return"";var r=`
`+t.prev+t.base;return r+ye.call(e,","+r)+`
`+t.prev}function At(e,t){var r=pr(e),n=[];if(r){n.length=e.length;for(var o=0;o<e.length;o++)n[o]=Ee(e,o)?t(e[o],e):""}var c,u=typeof Xt=="function"?Xt(e):[];if(st){c={};for(var p=0;p<u.length;p++)c["$"+u[p]]=u[p]}for(var h in e)Ee(e,h)&&(r&&String(Number(h))===h&&h<e.length||st&&c["$"+h]instanceof Symbol||(bn.call(/[^\w$]/,h)?n.push(t(h,e)+": "+t(e[h],e)):n.push(h+": "+t(e[h],e))));if(typeof Xt=="function")for(var l=0;l<u.length;l++)_n.call(e,u[l])&&n.push("["+t(u[l])+"]: "+t(e[u[l]],e));return n}var Et=he("%WeakMap%",!0),Ct=he("%Map%",!0),Ei=at("WeakMap.prototype.get",!0),Ci=at("WeakMap.prototype.set",!0),Ii=at("WeakMap.prototype.has",!0),Di=at("Map.prototype.get",!0),ki=at("Map.prototype.set",!0),xi=at("Map.prototype.has",!0),Zt=function(e,t){for(var r,n=e;(r=n.next)!==null;n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r},Tn=function(){var e,t,r,n={assert:function(o){if(!n.has(o))throw new oe("Side channel does not contain "+Oi(o))},get:function(o){if(Et&&o&&(typeof o=="object"||typeof o=="function")){if(e)return Ei(e,o)}else if(Ct){if(t)return Di(t,o)}else if(r)return function(c,u){var p=Zt(c,u);return p&&p.value}(r,o)},has:function(o){if(Et&&o&&(typeof o=="object"||typeof o=="function")){if(e)return Ii(e,o)}else if(Ct){if(t)return xi(t,o)}else if(r)return function(c,u){return!!Zt(c,u)}(r,o);return!1},set:function(o,c){Et&&o&&(typeof o=="object"||typeof o=="function")?(e||(e=new Et),Ci(e,o,c)):Ct?(t||(t=new Ct),ki(t,o,c)):(r||(r={key:{},next:null}),function(u,p,h){var l=Zt(u,p);l?l.value=h:u.next={key:p,next:u.next,value:h}}(r,o,c))}};return n},Pi=String.prototype.replace,Ri=/%20/g,$r="RFC3986",Re={default:$r,formatters:{RFC1738:function(e){return Pi.call(e,Ri,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:$r},Yt=Object.prototype.hasOwnProperty,xe=Array.isArray,fe=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),zr=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)e[n]!==void 0&&(r[n]=e[n]);return r},ve={arrayToObject:zr,assign:function(e,t){return Object.keys(t).reduce(function(r,n){return r[n]=t[n],r},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var o=t[n],c=o.obj[o.prop],u=Object.keys(c),p=0;p<u.length;++p){var h=u[p],l=c[h];typeof l=="object"&&l!==null&&r.indexOf(l)===-1&&(t.push({obj:c,prop:h}),r.push(l))}return function(y){for(;y.length>1;){var d=y.pop(),m=d.obj[d.prop];if(xe(m)){for(var g=[],E=0;E<m.length;++E)m[E]!==void 0&&g.push(m[E]);d.obj[d.prop]=g}}}(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},encode:function(e,t,r,n,o){if(e.length===0)return e;var c=e;if(typeof e=="symbol"?c=Symbol.prototype.toString.call(e):typeof e!="string"&&(c=String(e)),r==="iso-8859-1")return escape(c).replace(/%u[0-9a-f]{4}/gi,function(m){return"%26%23"+parseInt(m.slice(2),16)+"%3B"});for(var u="",p=0;p<c.length;p+=1024){for(var h=c.length>=1024?c.slice(p,p+1024):c,l=[],y=0;y<h.length;++y){var d=h.charCodeAt(y);d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||o===Re.RFC1738&&(d===40||d===41)?l[l.length]=h.charAt(y):d<128?l[l.length]=fe[d]:d<2048?l[l.length]=fe[192|d>>6]+fe[128|63&d]:d<55296||d>=57344?l[l.length]=fe[224|d>>12]+fe[128|d>>6&63]+fe[128|63&d]:(y+=1,d=65536+((1023&d)<<10|1023&h.charCodeAt(y)),l[l.length]=fe[240|d>>18]+fe[128|d>>12&63]+fe[128|d>>6&63]+fe[128|63&d])}u+=l.join("")}return u},isBuffer:function(e){return!(!e||typeof e!="object")&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},maybeMap:function(e,t){if(xe(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)},merge:function e(t,r,n){if(!r)return t;if(typeof r!="object"){if(xe(t))t.push(r);else{if(!t||typeof t!="object")return[t,r];(n&&(n.plainObjects||n.allowPrototypes)||!Yt.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||typeof t!="object")return[t].concat(r);var o=t;return xe(t)&&!xe(r)&&(o=zr(t,n)),xe(t)&&xe(r)?(r.forEach(function(c,u){if(Yt.call(t,u)){var p=t[u];p&&typeof p=="object"&&c&&typeof c=="object"?t[u]=e(p,c,n):t.push(c)}else t[u]=c}),t):Object.keys(r).reduce(function(c,u){var p=r[u];return Yt.call(c,u)?c[u]=e(c[u],p,n):c[u]=p,c},o)}},Ui=Object.prototype.hasOwnProperty,Vr={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},me=Array.isArray,Mi=Array.prototype.push,Sn=function(e,t){Mi.apply(e,me(t)?t:[t])},qi=Date.prototype.toISOString,Jr=Re.default,Z={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:ve.encode,encodeValuesOnly:!1,format:Jr,formatter:Re.formatters[Jr],indices:!1,serializeDate:function(e){return qi.call(e)},skipNulls:!1,strictNullHandling:!1},er={},Li=function e(t,r,n,o,c,u,p,h,l,y,d,m,g,E,_,x,k,O){for(var A=t,M=O,q=0,w=!1;(M=M.get(er))!==void 0&&!w;){var b=M.get(t);if(q+=1,b!==void 0){if(b===q)throw new RangeError("Cyclic object value");w=!0}M.get(er)===void 0&&(q=0)}if(typeof y=="function"?A=y(r,A):A instanceof Date?A=g(A):n==="comma"&&me(A)&&(A=ve.maybeMap(A,function(te){return te instanceof Date?g(te):te})),A===null){if(u)return l&&!x?l(r,Z.encoder,k,"key",E):r;A=""}if(function(te){return typeof te=="string"||typeof te=="number"||typeof te=="boolean"||typeof te=="symbol"||typeof te=="bigint"}(A)||ve.isBuffer(A))return l?[_(x?r:l(r,Z.encoder,k,"key",E))+"="+_(l(A,Z.encoder,k,"value",E))]:[_(r)+"="+_(String(A))];var T,D=[];if(A===void 0)return D;if(n==="comma"&&me(A))x&&l&&(A=ve.maybeMap(A,l)),T=[{value:A.length>0?A.join(",")||null:void 0}];else if(me(y))T=y;else{var R=Object.keys(A);T=d?R.sort(d):R}var L=h?r.replace(/\./g,"%2E"):r,C=o&&me(A)&&A.length===1?L+"[]":L;if(c&&me(A)&&A.length===0)return C+"[]";for(var N=0;N<T.length;++N){var P=T[N],J=typeof P=="object"&&P.value!==void 0?P.value:A[P];if(!p||J!==null){var X=m&&h?P.replace(/\./g,"%2E"):P,Ve=me(A)?typeof n=="function"?n(C,X):C:C+(m?"."+X:"["+X+"]");O.set(t,q);var Te=Tn();Te.set(er,O),Sn(D,e(J,Ve,n,o,c,u,p,h,n==="comma"&&x&&me(A)?null:l,y,d,m,g,E,_,x,k,Te))}}return D},hr=Object.prototype.hasOwnProperty,Bi=Array.isArray,Q={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:ve.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Ni=function(e){return e.replace(/&#(\d+);/g,function(t,r){return String.fromCharCode(parseInt(r,10))})},An=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},Fi=function(e,t,r,n){if(e){var o=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,c=/(\[[^[\]]*])/g,u=r.depth>0&&/(\[[^[\]]*])/.exec(o),p=u?o.slice(0,u.index):o,h=[];if(p){if(!r.plainObjects&&hr.call(Object.prototype,p)&&!r.allowPrototypes)return;h.push(p)}for(var l=0;r.depth>0&&(u=c.exec(o))!==null&&l<r.depth;){if(l+=1,!r.plainObjects&&hr.call(Object.prototype,u[1].slice(1,-1))&&!r.allowPrototypes)return;h.push(u[1])}return u&&h.push("["+o.slice(u.index)+"]"),function(y,d,m,g){for(var E=g?d:An(d,m),_=y.length-1;_>=0;--_){var x,k=y[_];if(k==="[]"&&m.parseArrays)x=m.allowEmptyArrays&&E===""?[]:[].concat(E);else{x=m.plainObjects?Object.create(null):{};var O=k.charAt(0)==="["&&k.charAt(k.length-1)==="]"?k.slice(1,-1):k,A=m.decodeDotInKeys?O.replace(/%2E/g,"."):O,M=parseInt(A,10);m.parseArrays||A!==""?!isNaN(M)&&k!==A&&String(M)===A&&M>=0&&m.parseArrays&&M<=m.arrayLimit?(x=[])[M]=E:A!=="__proto__"&&(x[A]=E):x={0:E}}E=x}return E}(h,t,r,n)}},De={formats:Re,parse:function(e,t){var r=function(l){if(!l)return Q;if(l.allowEmptyArrays!==void 0&&typeof l.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(l.decodeDotInKeys!==void 0&&typeof l.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(l.decoder!==null&&l.decoder!==void 0&&typeof l.decoder!="function")throw new TypeError("Decoder has to be a function.");if(l.charset!==void 0&&l.charset!=="utf-8"&&l.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var y=l.charset===void 0?Q.charset:l.charset,d=l.duplicates===void 0?Q.duplicates:l.duplicates;if(d!=="combine"&&d!=="first"&&d!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:l.allowDots===void 0?l.decodeDotInKeys===!0||Q.allowDots:!!l.allowDots,allowEmptyArrays:typeof l.allowEmptyArrays=="boolean"?!!l.allowEmptyArrays:Q.allowEmptyArrays,allowPrototypes:typeof l.allowPrototypes=="boolean"?l.allowPrototypes:Q.allowPrototypes,allowSparse:typeof l.allowSparse=="boolean"?l.allowSparse:Q.allowSparse,arrayLimit:typeof l.arrayLimit=="number"?l.arrayLimit:Q.arrayLimit,charset:y,charsetSentinel:typeof l.charsetSentinel=="boolean"?l.charsetSentinel:Q.charsetSentinel,comma:typeof l.comma=="boolean"?l.comma:Q.comma,decodeDotInKeys:typeof l.decodeDotInKeys=="boolean"?l.decodeDotInKeys:Q.decodeDotInKeys,decoder:typeof l.decoder=="function"?l.decoder:Q.decoder,delimiter:typeof l.delimiter=="string"||ve.isRegExp(l.delimiter)?l.delimiter:Q.delimiter,depth:typeof l.depth=="number"||l.depth===!1?+l.depth:Q.depth,duplicates:d,ignoreQueryPrefix:l.ignoreQueryPrefix===!0,interpretNumericEntities:typeof l.interpretNumericEntities=="boolean"?l.interpretNumericEntities:Q.interpretNumericEntities,parameterLimit:typeof l.parameterLimit=="number"?l.parameterLimit:Q.parameterLimit,parseArrays:l.parseArrays!==!1,plainObjects:typeof l.plainObjects=="boolean"?l.plainObjects:Q.plainObjects,strictNullHandling:typeof l.strictNullHandling=="boolean"?l.strictNullHandling:Q.strictNullHandling}}(t);if(e===""||e==null)return r.plainObjects?Object.create(null):{};for(var n=typeof e=="string"?function(l,y){var d,m={__proto__:null},g=y.ignoreQueryPrefix?l.replace(/^\?/,""):l,E=y.parameterLimit===1/0?void 0:y.parameterLimit,_=g.split(y.delimiter,E),x=-1,k=y.charset;if(y.charsetSentinel)for(d=0;d<_.length;++d)_[d].indexOf("utf8=")===0&&(_[d]==="utf8=%E2%9C%93"?k="utf-8":_[d]==="utf8=%26%2310003%3B"&&(k="iso-8859-1"),x=d,d=_.length);for(d=0;d<_.length;++d)if(d!==x){var O,A,M=_[d],q=M.indexOf("]="),w=q===-1?M.indexOf("="):q+1;w===-1?(O=y.decoder(M,Q.decoder,k,"key"),A=y.strictNullHandling?null:""):(O=y.decoder(M.slice(0,w),Q.decoder,k,"key"),A=ve.maybeMap(An(M.slice(w+1),y),function(T){return y.decoder(T,Q.decoder,k,"value")})),A&&y.interpretNumericEntities&&k==="iso-8859-1"&&(A=Ni(A)),M.indexOf("[]=")>-1&&(A=Bi(A)?[A]:A);var b=hr.call(m,O);b&&y.duplicates==="combine"?m[O]=ve.combine(m[O],A):b&&y.duplicates!=="last"||(m[O]=A)}return m}(e,r):e,o=r.plainObjects?Object.create(null):{},c=Object.keys(n),u=0;u<c.length;++u){var p=c[u],h=Fi(p,n[p],r,typeof e=="string");o=ve.merge(o,h,r)}return r.allowSparse===!0?o:ve.compact(o)},stringify:function(e,t){var r,n=e,o=function(g){if(!g)return Z;if(g.allowEmptyArrays!==void 0&&typeof g.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(g.encodeDotInKeys!==void 0&&typeof g.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(g.encoder!==null&&g.encoder!==void 0&&typeof g.encoder!="function")throw new TypeError("Encoder has to be a function.");var E=g.charset||Z.charset;if(g.charset!==void 0&&g.charset!=="utf-8"&&g.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var _=Re.default;if(g.format!==void 0){if(!Ui.call(Re.formatters,g.format))throw new TypeError("Unknown format option provided.");_=g.format}var x,k=Re.formatters[_],O=Z.filter;if((typeof g.filter=="function"||me(g.filter))&&(O=g.filter),x=g.arrayFormat in Vr?g.arrayFormat:"indices"in g?g.indices?"indices":"repeat":Z.arrayFormat,"commaRoundTrip"in g&&typeof g.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var A=g.allowDots===void 0?g.encodeDotInKeys===!0||Z.allowDots:!!g.allowDots;return{addQueryPrefix:typeof g.addQueryPrefix=="boolean"?g.addQueryPrefix:Z.addQueryPrefix,allowDots:A,allowEmptyArrays:typeof g.allowEmptyArrays=="boolean"?!!g.allowEmptyArrays:Z.allowEmptyArrays,arrayFormat:x,charset:E,charsetSentinel:typeof g.charsetSentinel=="boolean"?g.charsetSentinel:Z.charsetSentinel,commaRoundTrip:g.commaRoundTrip,delimiter:g.delimiter===void 0?Z.delimiter:g.delimiter,encode:typeof g.encode=="boolean"?g.encode:Z.encode,encodeDotInKeys:typeof g.encodeDotInKeys=="boolean"?g.encodeDotInKeys:Z.encodeDotInKeys,encoder:typeof g.encoder=="function"?g.encoder:Z.encoder,encodeValuesOnly:typeof g.encodeValuesOnly=="boolean"?g.encodeValuesOnly:Z.encodeValuesOnly,filter:O,format:_,formatter:k,serializeDate:typeof g.serializeDate=="function"?g.serializeDate:Z.serializeDate,skipNulls:typeof g.skipNulls=="boolean"?g.skipNulls:Z.skipNulls,sort:typeof g.sort=="function"?g.sort:null,strictNullHandling:typeof g.strictNullHandling=="boolean"?g.strictNullHandling:Z.strictNullHandling}}(t);typeof o.filter=="function"?n=(0,o.filter)("",n):me(o.filter)&&(r=o.filter);var c=[];if(typeof n!="object"||n===null)return"";var u=Vr[o.arrayFormat],p=u==="comma"&&o.commaRoundTrip;r||(r=Object.keys(n)),o.sort&&r.sort(o.sort);for(var h=Tn(),l=0;l<r.length;++l){var y=r[l];o.skipNulls&&n[y]===null||Sn(c,Li(n[y],y,u,p,o.allowEmptyArrays,o.strictNullHandling,o.skipNulls,o.encodeDotInKeys,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.format,o.formatter,o.encodeValuesOnly,o.charset,h))}var d=c.join(o.delimiter),m=o.addQueryPrefix===!0?"?":"";return o.charsetSentinel&&(o.charset==="iso-8859-1"?m+="utf8=%26%2310003%3B&":m+="utf8=%E2%9C%93&"),d.length>0?m+d:""}},Hi=je(function(e){function t(r){if(r)return function(n){for(var o in t.prototype)n[o]=t.prototype[o];return n}(r)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(r,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(n),this},t.prototype.once=function(r,n){function o(){this.off(r,o),n.apply(this,arguments)}return o.fn=n,this.on(r,o),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(r,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var o,c=this._callbacks["$"+r];if(!c)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var u=0;u<c.length;u++)if((o=c[u])===n||o.fn===n){c.splice(u,1);break}return c.length===0&&delete this._callbacks["$"+r],this},t.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),o=this._callbacks["$"+r],c=1;c<arguments.length;c++)n[c-1]=arguments[c];if(o){c=0;for(var u=(o=o.slice(0)).length;c<u;++c)o[c].apply(this,n)}return this},t.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]},t.prototype.hasListeners=function(r){return!!this.listeners(r).length}}),Wi=ft;ft.default=ft,ft.stable=Gr,ft.stableStringify=Gr;var Ne=[],Ue=[];function En(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function ft(e,t,r,n){var o;n===void 0&&(n=En()),function u(p,h,l,y,d,m,g){var E;if(m+=1,typeof p=="object"&&p!==null){for(E=0;E<y.length;E++)if(y[E]===p)return void it("[Circular]",p,h,d);if(g.depthLimit!==void 0&&m>g.depthLimit||g.edgesLimit!==void 0&&l+1>g.edgesLimit)return void it("[...]",p,h,d);if(y.push(p),Array.isArray(p))for(E=0;E<p.length;E++)u(p[E],E,E,y,p,m,g);else{var _=Object.keys(p);for(E=0;E<_.length;E++){var x=_[E];u(p[x],x,E,y,p,m,g)}}y.pop()}}(e,"",0,[],void 0,0,n);try{o=Ue.length===0?JSON.stringify(e,t,r):JSON.stringify(e,Cn(t),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Ne.length!==0;){var c=Ne.pop();c.length===4?Object.defineProperty(c[0],c[1],c[3]):c[0][c[1]]=c[2]}}return o}function it(e,t,r,n){var o=Object.getOwnPropertyDescriptor(n,r);o.get!==void 0?o.configurable?(Object.defineProperty(n,r,{value:e}),Ne.push([n,r,t,o])):Ue.push([t,r,e]):(n[r]=e,Ne.push([n,r,t]))}function ji(e,t){return e<t?-1:e>t?1:0}function Gr(e,t,r,n){n===void 0&&(n=En());var o,c=function p(h,l,y,d,m,g,E){var _;if(g+=1,typeof h=="object"&&h!==null){for(_=0;_<d.length;_++)if(d[_]===h)return void it("[Circular]",h,l,m);try{if(typeof h.toJSON=="function")return}catch{return}if(E.depthLimit!==void 0&&g>E.depthLimit||E.edgesLimit!==void 0&&y+1>E.edgesLimit)return void it("[...]",h,l,m);if(d.push(h),Array.isArray(h))for(_=0;_<h.length;_++)p(h[_],_,_,d,h,g,E);else{var x={},k=Object.keys(h).sort(ji);for(_=0;_<k.length;_++){var O=k[_];p(h[O],O,_,d,h,g,E),x[O]=h[O]}if(m===void 0)return x;Ne.push([m,l,h]),m[l]=x}d.pop()}}(e,"",0,[],void 0,0,n)||e;try{o=Ue.length===0?JSON.stringify(c,t,r):JSON.stringify(c,Cn(t),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Ne.length!==0;){var u=Ne.pop();u.length===4?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}}return o}function Cn(e){return e=e!==void 0?e:function(t,r){return r},function(t,r){if(Ue.length>0)for(var n=0;n<Ue.length;n++){var o=Ue[n];if(o[1]===t&&o[0]===r){r=o[2],Ue.splice(n,1);break}}return e.call(this,t,r)}}var ie=je(function(e,t){function r(c){return(r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(c)}function n(c,u){var p=typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"];if(!p){if(Array.isArray(c)||(p=function(g,E){if(g){if(typeof g=="string")return o(g,E);var _=Object.prototype.toString.call(g).slice(8,-1);if(_==="Object"&&g.constructor&&(_=g.constructor.name),_==="Map"||_==="Set")return Array.from(g);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return o(g,E)}}(c))||u){p&&(c=p);var h=0,l=function(){};return{s:l,n:function(){return h>=c.length?{done:!0}:{done:!1,value:c[h++]}},e:function(g){throw g},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var y,d=!0,m=!1;return{s:function(){p=p.call(c)},n:function(){var g=p.next();return d=g.done,g},e:function(g){m=!0,y=g},f:function(){try{d||p.return==null||p.return()}finally{if(m)throw y}}}}function o(c,u){(u==null||u>c.length)&&(u=c.length);for(var p=0,h=new Array(u);p<u;p++)h[p]=c[p];return h}t.type=function(c){return c.split(/ *; */).shift()},t.params=function(c){var u,p={},h=n(c.split(/ *; */));try{for(h.s();!(u=h.n()).done;){var l=u.value.split(/ *= */),y=l.shift(),d=l.shift();y&&d&&(p[y]=d)}}catch(m){h.e(m)}finally{h.f()}return p},t.parseLinks=function(c){var u,p={},h=n(c.split(/ *, */));try{for(h.s();!(u=h.n()).done;){var l=u.value.split(/ *; */),y=l[0].slice(1,-1);p[l[1].split(/ *= */)[1].slice(1,-1)]=y}}catch(d){h.e(d)}finally{h.f()}return p},t.cleanHeader=function(c,u){return delete c["content-type"],delete c["content-length"],delete c["transfer-encoding"],delete c.host,u&&(delete c.authorization,delete c.cookie),c},t.isObject=function(c){return c!==null&&r(c)==="object"},t.hasOwn=Object.hasOwn||function(c,u){if(c==null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(new Object(c),u)},t.mixin=function(c,u){for(var p in u)t.hasOwn(u,p)&&(c[p]=u[p])}});ie.type,ie.params,ie.parseLinks,ie.cleanHeader,ie.isObject,ie.hasOwn,ie.mixin;function In(e){return(In=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}var It=ie.isObject,dt=ie.hasOwn,$i=W;function W(){}W.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this},W.prototype.parse=function(e){return this._parser=e,this},W.prototype.responseType=function(e){return this._responseType=e,this},W.prototype.serialize=function(e){return this._serializer=e,this},W.prototype.timeout=function(e){if(!e||In(e)!=="object")return this._timeout=e,this._responseTimeout=0,this._uploadTimeout=0,this;for(var t in e)if(dt(e,t))switch(t){case"deadline":this._timeout=e.deadline;break;case"response":this._responseTimeout=e.response;break;case"upload":this._uploadTimeout=e.upload;break;default:console.warn("Unknown timeout option",t)}return this},W.prototype.retry=function(e,t){return arguments.length!==0&&e!==!0||(e=1),e<=0&&(e=0),this._maxRetries=e,this._retries=0,this._retryCallback=t,this};var zi=new Set(["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"]),Vi=new Set([408,413,429,500,502,503,504,521,522,524]);W.prototype._shouldRetry=function(e,t){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var r=this._retryCallback(e,t);if(r===!0)return!0;if(r===!1)return!1}catch(n){console.error(n)}return!!(t&&t.status&&Vi.has(t.status)||e&&(e.code&&zi.has(e.code)||e.timeout&&e.code==="ECONNABORTED"||e.crossDomain))},W.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()},W.prototype.then=function(e,t){var r=this;if(!this._fullfilledPromise){var n=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(o,c){n.on("abort",function(){if(!(r._maxRetries&&r._maxRetries>r._retries))if(r.timedout&&r.timedoutError)c(r.timedoutError);else{var u=new Error("Aborted");u.code="ABORTED",u.status=r.status,u.method=r.method,u.url=r.url,c(u)}}),n.end(function(u,p){u?c(u):o(p)})})}return this._fullfilledPromise.then(e,t)},W.prototype.catch=function(e){return this.then(void 0,e)},W.prototype.use=function(e){return e(this),this},W.prototype.ok=function(e){if(typeof e!="function")throw new Error("Callback required");return this._okCallback=e,this},W.prototype._isResponseOK=function(e){return!!e&&(this._okCallback?this._okCallback(e):e.status>=200&&e.status<300)},W.prototype.get=function(e){return this._header[e.toLowerCase()]},W.prototype.getHeader=W.prototype.get,W.prototype.set=function(e,t){if(It(e)){for(var r in e)dt(e,r)&&this.set(r,e[r]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},W.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},W.prototype.field=function(e,t,r){if(e==null)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(It(e)){for(var n in e)dt(e,n)&&this.field(n,e[n]);return this}if(Array.isArray(t)){for(var o in t)dt(t,o)&&this.field(e,t[o]);return this}if(t==null)throw new Error(".field(name, val) val can not be empty");return typeof t=="boolean"&&(t=String(t)),r?this._getFormData().append(e,t,r):this._getFormData().append(e,t),this},W.prototype.abort=function(){if(this._aborted)return this;if(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req){if(nt.gte(process.version,"v13.0.0")&&nt.lt(process.version,"v14.0.0"))throw new Error("Superagent does not work in v13 properly with abort() due to Node.js core changes");nt.gte(process.version,"v14.0.0")&&(this.req.destroyed=!0),this.req.abort()}return this.clearTimeout(),this.emit("abort"),this},W.prototype._auth=function(e,t,r,n){switch(r.type){case"basic":this.set("Authorization","Basic ".concat(n("".concat(e,":").concat(t))));break;case"auto":this.username=e,this.password=t;break;case"bearer":this.set("Authorization","Bearer ".concat(e))}return this},W.prototype.withCredentials=function(e){return e===void 0&&(e=!0),this._withCredentials=e,this},W.prototype.redirects=function(e){return this._maxRedirects=e,this},W.prototype.maxResponseSize=function(e){if(typeof e!="number")throw new TypeError("Invalid argument");return this._maxResponseSize=e,this},W.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},W.prototype.send=function(e){var t=It(e),r=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(t&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(t&&It(this._data))for(var n in e)dt(e,n)&&(this._data[n]=e[n]);else typeof e=="string"?(r||this.type("form"),(r=this._header["content-type"])&&(r=r.toLowerCase().trim()),this._data=r==="application/x-www-form-urlencoded"?this._data?"".concat(this._data,"&").concat(e):e:(this._data||"")+e):this._data=e;return!t||this._isHost(e)||r||this.type("json"),this},W.prototype.sortQuery=function(e){return this._sort=e===void 0||e,this},W.prototype._finalizeQueryString=function(){var e=this._query.join("&");if(e&&(this.url+=(this.url.includes("?")?"&":"?")+e),this._query.length=0,this._sort){var t=this.url.indexOf("?");if(t>=0){var r=this.url.slice(t+1).split("&");typeof this._sort=="function"?r.sort(this._sort):r.sort(),this.url=this.url.slice(0,t)+"?"+r.join("&")}}},W.prototype._appendQueryString=function(){console.warn("Unsupported")},W.prototype._timeoutError=function(e,t,r){if(!this._aborted){var n=new Error("".concat(e+t,"ms exceeded"));n.timeout=t,n.code="ECONNABORTED",n.errno=r,this.timedout=!0,this.timedoutError=n,this.abort(),this.callback(n)}},W.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){e._timeoutError("Timeout of ",e._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){e._timeoutError("Response timeout of ",e._responseTimeout,"ETIMEDOUT")},this._responseTimeout))};var Ji=Lt;function Lt(){}function Gi(e){return function(t){if(Array.isArray(t))return fr(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||Dn(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Dn(e,t){if(e){if(typeof e=="string")return fr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fr(e,t):void 0}}function fr(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function br(){this._defaults=[]}Lt.prototype.get=function(e){return this.header[e.toLowerCase()]},Lt.prototype._setHeaderProperties=function(e){var t=e["content-type"]||"";this.type=ie.type(t);var r=ie.params(t);for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(this[n]=r[n]);this.links={};try{e.link&&(this.links=ie.parseLinks(e.link))}catch{}},Lt.prototype._setStatusProperties=function(e){var t=Math.trunc(e/100);this.statusCode=e,this.status=this.statusCode,this.statusType=t,this.info=t===1,this.ok=t===2,this.redirect=t===3,this.clientError=t===4,this.serverError=t===5,this.error=(t===4||t===5)&&this.toError(),this.created=e===201,this.accepted=e===202,this.noContent=e===204,this.badRequest=e===400,this.unauthorized=e===401,this.notAcceptable=e===406,this.forbidden=e===403,this.notFound=e===404,this.unprocessableEntity=e===422};for(var Ki=function(){var e=Kr[tr];br.prototype[e]=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this._defaults.push({fn:e,args:r}),this}},tr=0,Kr=["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"];tr<Kr.length;tr++)Ki();br.prototype._setDefaults=function(e){var t,r=function(o,c){var u=typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(!u){if(Array.isArray(o)||(u=Dn(o))||c){u&&(o=u);var p=0,h=function(){};return{s:h,n:function(){return p>=o.length?{done:!0}:{done:!1,value:o[p++]}},e:function(m){throw m},f:h}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l,y=!0,d=!1;return{s:function(){u=u.call(o)},n:function(){var m=u.next();return y=m.done,m},e:function(m){d=!0,l=m},f:function(){try{y||u.return==null||u.return()}finally{if(d)throw l}}}}(this._defaults);try{for(r.s();!(t=r.n()).done;){var n=t.value;e[n.fn].apply(e,Gi(n.args))}}catch(o){r.e(o)}finally{r.f()}};for(var Dt=br,Bt=je(function(e,t){function r(w){return(r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(w)}function n(w,b){var T=typeof Symbol<"u"&&w[Symbol.iterator]||w["@@iterator"];if(!T){if(Array.isArray(w)||(T=function(P,J){if(P){if(typeof P=="string")return o(P,J);var X=Object.prototype.toString.call(P).slice(8,-1);if(X==="Object"&&P.constructor&&(X=P.constructor.name),X==="Map"||X==="Set")return Array.from(P);if(X==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(X))return o(P,J)}}(w))||b){T&&(w=T);var D=0,R=function(){};return{s:R,n:function(){return D>=w.length?{done:!0}:{done:!1,value:w[D++]}},e:function(P){throw P},f:R}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var L,C=!0,N=!1;return{s:function(){T=T.call(w)},n:function(){var P=T.next();return C=P.done,P},e:function(P){N=!0,L=P},f:function(){try{C||T.return==null||T.return()}finally{if(N)throw L}}}}function o(w,b){(b==null||b>w.length)&&(b=w.length);for(var T=0,D=new Array(b);T<b;T++)D[T]=w[T];return D}var c;typeof window<"u"?c=window:typeof self>"u"?(console.warn("Using browser-only version of superagent in non-browser environment"),c=void 0):c=self;var u=ie.isObject,p=ie.mixin,h=ie.hasOwn;function l(){}e.exports=function(w,b){return typeof b=="function"?new t.Request("GET",w).end(b):arguments.length===1?new t.Request("GET",w):new t.Request(w,b)};var y=t=e.exports;t.Request=k,y.getXHR=function(){if(c.XMLHttpRequest&&(!c.location||c.location.protocol!=="file:"||!c.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch{}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch{}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch{}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch{}throw new Error("Browser-only version of superagent could not find XHR")};var d="".trim?function(w){return w.trim()}:function(w){return w.replace(/(^\s*|\s*$)/g,"")};function m(w){if(!u(w))return w;var b=[];for(var T in w)h(w,T)&&g(b,T,w[T]);return b.join("&")}function g(w,b,T){if(T!==void 0)if(T!==null)if(Array.isArray(T)){var D,R=n(T);try{for(R.s();!(D=R.n()).done;)g(w,b,D.value)}catch(C){R.e(C)}finally{R.f()}}else if(u(T))for(var L in T)h(T,L)&&g(w,"".concat(b,"[").concat(L,"]"),T[L]);else w.push(encodeURI(b)+"="+encodeURIComponent(T));else w.push(encodeURI(b))}function E(w){for(var b,T,D={},R=w.split("&"),L=0,C=R.length;L<C;++L)(T=(b=R[L]).indexOf("="))===-1?D[decodeURIComponent(b)]="":D[decodeURIComponent(b.slice(0,T))]=decodeURIComponent(b.slice(T+1));return D}function _(w){return/[/+]json($|[^-\w])/i.test(w)}function x(w){this.req=w,this.xhr=this.req.xhr,this.text=this.req.method!=="HEAD"&&(this.xhr.responseType===""||this.xhr.responseType==="text")||this.xhr.responseType===void 0?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var b=this.xhr.status;b===1223&&(b=204),this._setStatusProperties(b),this.headers=function(T){for(var D,R,L,C,N=T.split(/\r?\n/),P={},J=0,X=N.length;J<X;++J)(D=(R=N[J]).indexOf(":"))!==-1&&(L=R.slice(0,D).toLowerCase(),C=d(R.slice(D+1)),P[L]=C);return P}(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),this.text===null&&w._responseType?this.body=this.xhr.response:this.body=this.req.method==="HEAD"?null:this._parseBody(this.text?this.text:this.xhr.response)}function k(w,b){var T=this;this._query=this._query||[],this.method=w,this.url=b,this.header={},this._header={},this.on("end",function(){var D,R=null,L=null;try{L=new x(T)}catch(C){return(R=new Error("Parser is unable to parse the response")).parse=!0,R.original=C,T.xhr?(R.rawResponse=T.xhr.responseType===void 0?T.xhr.responseText:T.xhr.response,R.status=T.xhr.status?T.xhr.status:null,R.statusCode=R.status):(R.rawResponse=null,R.status=null),T.callback(R)}T.emit("response",L);try{T._isResponseOK(L)||(D=new Error(L.statusText||L.text||"Unsuccessful HTTP response"))}catch(C){D=C}D?(D.original=R,D.response=L,D.status=L.status,T.callback(D,L)):T.callback(null,L)})}y.serializeObject=m,y.parseString=E,y.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},y.serialize={"application/x-www-form-urlencoded":De.stringify,"application/json":Wi},y.parse={"application/x-www-form-urlencoded":E,"application/json":JSON.parse},p(x.prototype,Ji.prototype),x.prototype._parseBody=function(w){var b=y.parse[this.type];return this.req._parser?this.req._parser(this,w):(!b&&_(this.type)&&(b=y.parse["application/json"]),b&&w&&(w.length>0||w instanceof Object)?b(w):null)},x.prototype.toError=function(){var w=this.req,b=w.method,T=w.url,D="cannot ".concat(b," ").concat(T," (").concat(this.status,")"),R=new Error(D);return R.status=this.status,R.method=b,R.url=T,R},y.Response=x,Hi(k.prototype),p(k.prototype,$i.prototype),k.prototype.type=function(w){return this.set("Content-Type",y.types[w]||w),this},k.prototype.accept=function(w){return this.set("Accept",y.types[w]||w),this},k.prototype.auth=function(w,b,T){arguments.length===1&&(b=""),r(b)==="object"&&b!==null&&(T=b,b=""),T||(T={type:typeof btoa=="function"?"basic":"auto"});var D=T.encoder?T.encoder:function(R){if(typeof btoa=="function")return btoa(R);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(w,b,T,D)},k.prototype.query=function(w){return typeof w!="string"&&(w=m(w)),w&&this._query.push(w),this},k.prototype.attach=function(w,b,T){if(b){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(w,b,T||b.name)}return this},k.prototype._getFormData=function(){return this._formData||(this._formData=new c.FormData),this._formData},k.prototype.callback=function(w,b){if(this._shouldRetry(w,b))return this._retry();var T=this._callback;this.clearTimeout(),w&&(this._maxRetries&&(w.retries=this._retries-1),this.emit("error",w)),T(w,b)},k.prototype.crossDomainError=function(){var w=new Error(`Request has been terminated
Possible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.`);w.crossDomain=!0,w.status=this.status,w.method=this.method,w.url=this.url,this.callback(w)},k.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},k.prototype.ca=k.prototype.agent,k.prototype.buffer=k.prototype.ca,k.prototype.write=function(){throw new Error("Streaming is not supported in browser version of superagent")},k.prototype.pipe=k.prototype.write,k.prototype._isHost=function(w){return w&&r(w)==="object"&&!Array.isArray(w)&&Object.prototype.toString.call(w)!=="[object Object]"},k.prototype.end=function(w){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=w||l,this._finalizeQueryString(),this._end()},k.prototype._setUploadTimeout=function(){var w=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout(function(){w._timeoutError("Upload timeout of ",w._uploadTimeout,"ETIMEDOUT")},this._uploadTimeout))},k.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));var w=this;this.xhr=y.getXHR();var b=this.xhr,T=this._formData||this._data;this._setTimeouts(),b.addEventListener("readystatechange",function(){var N=b.readyState;if(N>=2&&w._responseTimeoutTimer&&clearTimeout(w._responseTimeoutTimer),N===4){var P;try{P=b.status}catch{P=0}if(!P)return w.timedout||w._aborted?void 0:w.crossDomainError();w.emit("end")}});var D=function(N,P){P.total>0&&(P.percent=P.loaded/P.total*100,P.percent===100&&clearTimeout(w._uploadTimeoutTimer)),P.direction=N,w.emit("progress",P)};if(this.hasListeners("progress"))try{b.addEventListener("progress",D.bind(null,"download")),b.upload&&b.upload.addEventListener("progress",D.bind(null,"upload"))}catch{}b.upload&&this._setUploadTimeout();try{this.username&&this.password?b.open(this.method,this.url,!0,this.username,this.password):b.open(this.method,this.url,!0)}catch(N){return this.callback(N)}if(this._withCredentials&&(b.withCredentials=!0),!this._formData&&this.method!=="GET"&&this.method!=="HEAD"&&typeof T!="string"&&!this._isHost(T)){var R=this._header["content-type"],L=this._serializer||y.serialize[R?R.split(";")[0]:""];!L&&_(R)&&(L=y.serialize["application/json"]),L&&(T=L(T))}for(var C in this.header)this.header[C]!==null&&h(this.header,C)&&b.setRequestHeader(C,this.header[C]);this._responseType&&(b.responseType=this._responseType),this.emit("request",this),b.send(T===void 0?null:T)},y.agent=function(){return new Dt};for(var O=function(){var w=M[A];Dt.prototype[w.toLowerCase()]=function(b,T){var D=new y.Request(w,b);return this._setDefaults(D),T&&D.end(T),D}},A=0,M=["GET","POST","OPTIONS","PATCH","PUT","DELETE"];A<M.length;A++)O();function q(w,b,T){var D=y("DELETE",w);return typeof b=="function"&&(T=b,b=null),b&&D.send(b),T&&D.end(T),D}Dt.prototype.del=Dt.prototype.delete,y.get=function(w,b,T){var D=y("GET",w);return typeof b=="function"&&(T=b,b=null),b&&D.query(b),T&&D.end(T),D},y.head=function(w,b,T){var D=y("HEAD",w);return typeof b=="function"&&(T=b,b=null),b&&D.query(b),T&&D.end(T),D},y.options=function(w,b,T){var D=y("OPTIONS",w);return typeof b=="function"&&(T=b,b=null),b&&D.send(b),T&&D.end(T),D},y.del=q,y.delete=q,y.patch=function(w,b,T){var D=y("PATCH",w);return typeof b=="function"&&(T=b,b=null),b&&D.send(b),T&&D.end(T),D},y.post=function(w,b,T){var D=y("POST",w);return typeof b=="function"&&(T=b,b=null),b&&D.send(b),T&&D.end(T),D},y.put=function(w,b,T){var D=y("PUT",w);return typeof b=="function"&&(T=b,b=null),b&&D.send(b),T&&D.end(T),D}}),Xi=(Bt.Request,function(e){var t=Xr(e),r=t[0],n=t[1];return 3*(r+n)/4-n}),Qi=function(e){var t,r,n=Xr(e),o=n[0],c=n[1],u=new Yi(function(l,y,d){return 3*(y+d)/4-d}(0,o,c)),p=0,h=c>0?o-4:o;for(r=0;r<h;r+=4)t=pe[e.charCodeAt(r)]<<18|pe[e.charCodeAt(r+1)]<<12|pe[e.charCodeAt(r+2)]<<6|pe[e.charCodeAt(r+3)],u[p++]=t>>16&255,u[p++]=t>>8&255,u[p++]=255&t;return c===2&&(t=pe[e.charCodeAt(r)]<<2|pe[e.charCodeAt(r+1)]>>4,u[p++]=255&t),c===1&&(t=pe[e.charCodeAt(r)]<<10|pe[e.charCodeAt(r+1)]<<4|pe[e.charCodeAt(r+2)]>>2,u[p++]=t>>8&255,u[p++]=255&t),u},Zi=function(e){for(var t,r=e.length,n=r%3,o=[],c=0,u=r-n;c<u;c+=16383)o.push(to(e,c,c+16383>u?u:c+16383));return n===1?(t=e[r-1],o.push(ge[t>>2]+ge[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],o.push(ge[t>>10]+ge[t>>4&63]+ge[t<<2&63]+"=")),o.join("")},ge=[],pe=[],Yi=typeof Uint8Array<"u"?Uint8Array:Array,rr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ke=0,eo=rr.length;Ke<eo;++Ke)ge[Ke]=rr[Ke],pe[rr.charCodeAt(Ke)]=Ke;function Xr(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return r===-1&&(r=t),[r,r===t?0:4-r%4]}function to(e,t,r){for(var n,o,c=[],u=t;u<r;u+=3)n=(e[u]<<16&16711680)+(e[u+1]<<8&65280)+(255&e[u+2]),c.push(ge[(o=n)>>18&63]+ge[o>>12&63]+ge[o>>6&63]+ge[63&o]);return c.join("")}pe[45]=62,pe[95]=63;var Qr={byteLength:Xi,toByteArray:Qi,fromByteArray:Zi},ro={encode:function(e){return Qr.fromByteArray(function(t){for(var r=new Array(t.length),n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r}(e)).replace(/\+/g,"-").replace(/\//g,"_")},decode:function(e){return e=function(t){var r=t.length%4;return r===0?t:t+new Array(1+(4-r)).join("=")}(e).replace(/-/g,"+").replace(/_/g,"/"),function(t){for(var r="",n=0;n<t.length;n++)r+=String.fromCharCode(t[n]);return r}(Qr.toByteArray(e))}},bt={raw:"9.28.0"},no=Object.prototype.toString;function Zr(e,t,r,n){if(r=r==="array"?"object":r,e&&typeof e[t]!==r)throw new Error(n)}function Yr(e,t,r){if(typeof e!==t)throw new Error(r)}function en(e,t,r){if(t.indexOf(e)===-1)throw new Error(r)}var F={check:function(e,t,r){if(t.optional&&!e||Yr(e,t.type,t.message),t.type==="object"&&r)for(var n=Object.keys(r),o=0;o<n.length;o++){var c=n[o];r[c].optional&&!e[c]||r[c].condition&&!r[c].condition(e)||(Zr(e,c,r[c].type,r[c].message),r[c].values&&en(e[c],r[c].values,r[c].value_message))}},attribute:Zr,variable:Yr,value:en,isArray:function(e){return this.supportsIsArray()?Array.isArray(e):no.call(e)==="[object Array]"},supportsIsArray:function(){return Array.isArray!=null}};function tn(e){if(e==null)throw new TypeError("Cannot convert first argument to object");for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(n!=null)for(var o=Object.keys(Object(n)),c=0,u=o.length;c<u;c++){var p=o[c],h=Object.getOwnPropertyDescriptor(n,p);h!==void 0&&h.enumerable&&(t[p]=n[p])}}return t}var io={get:function(){return Object.assign?Object.assign:tn},objectAssignPolyfill:tn};function nr(e,t){return t.reduce(function(r,n){return e[n]&&(r[n]=e[n]),r},{})}function oo(e){var t=[];for(var r in e)t.push(e[r]);return t}function dr(){var e=oo(arguments);return e.unshift({}),io.get().apply(void 0,e)}function rn(e){var t=e.match(/^(https?:|file:|chrome-extension:)\/\/(([^:/?#]*)(?::([0-9]+))?)([/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/);return t&&{href:e,protocol:t[1],host:t[2],hostname:t[3],port:t[4],pathname:t[5],search:t[6],hash:t[7]}}function so(e,t){var r=dr(e);return e[t]&&(r[t]=e[t].trim()),r}var B={toSnakeCase:function e(t,r){return typeof t!="object"||F.isArray(t)||t===null?t:(r=r||[],Object.keys(t).reduce(function(n,o){return n[r.indexOf(o)===-1?function(c){for(var u,p="",h=0,l=!0,y=!0;h<c.length;)u=c.charCodeAt(h),(!y&&u>=65&&u<=90||!l&&u>=48&&u<=57)&&(p+="_"),p+=c[h].toLowerCase(),l=u>=48&&u<=57,y=u>=65&&u<=90,h++;return p}(o):o]=e(t[o]),n},{}))},toCamelCase:function e(t,r,n){return typeof t!="object"||F.isArray(t)||t===null?t:(r=r||[],n=n||{},Object.keys(t).reduce(function(o,c){var u,p=r.indexOf(c)===-1?(u=c.split("_")).reduce(function(h,l){return h+l.charAt(0).toUpperCase()+l.slice(1)},u.shift()):c;return o[p]=e(t[p]||t[c],[],n),n.keepOriginal&&(o[c]=e(t[c],[],n)),o},{}))},blacklist:function(e,t){return Object.keys(e).reduce(function(r,n){return t.indexOf(n)===-1&&(r[n]=e[n]),r},{})},merge:function(e,t){return{base:t?nr(e,t):e,with:function(r,n){return r=n?nr(r,n):r,dr(this.base,r)}}},pick:nr,getKeysNotIn:function(e,t){var r=[];for(var n in e)t.indexOf(n)===-1&&r.push(n);return r},extend:dr,getOriginFromUrl:function(e){if(e){var t=rn(e);if(!t)return null;var r=t.protocol+"//"+t.hostname;return t.port&&(r+=":"+t.port),r}},getLocationFromUrl:rn,trimUserDetails:function(e){return function(t,r){return r.reduce(so,t)}(e,["username","email","phoneNumber"])},updatePropertyOn:function e(t,r,n){typeof r=="string"&&(r=r.split("."));var o=r[0];t.hasOwnProperty(o)&&(r.length===1?t[o]=n:e(t[o],r.slice(1),n))}};function Xe(e){this.request=e,this.method=e.method,this.url=e.url,this.body=e._data,this.headers=e._header}function Pe(e){this.request=e}function we(e){this._sendTelemetry=e._sendTelemetry!==!1||e._sendTelemetry,this._telemetryInfo=e._telemetryInfo||null,this._timesToRetryFailedRequests=e._timesToRetryFailedRequests,this.headers=e.headers||{},this._universalLoginPage=e.universalLoginPage}function kt(){return window}Xe.prototype.abort=function(){this.request.abort()},Xe.prototype.getMethod=function(){return this.method},Xe.prototype.getBody=function(){return this.body},Xe.prototype.getUrl=function(){return this.url},Xe.prototype.getHeaders=function(){return this.headers},Pe.prototype.set=function(e,t){return this.request=this.request.set(e,t),this},Pe.prototype.send=function(e){return this.request=this.request.send(B.trimUserDetails(e)),this},Pe.prototype.withCredentials=function(){return this.request=this.request.withCredentials(),this},Pe.prototype.end=function(e){return this.request.end(e),new Xe(this.request)},we.prototype.setCommonConfiguration=function(e,t){if(t=t||{},this._timesToRetryFailedRequests>0&&(e=e.retry(this._timesToRetryFailedRequests)),t.noHeaders)return e;var r=this.headers;e=e.set("Content-Type","application/json"),t.xRequestLanguage&&(e=e.set("X-Request-Language",t.xRequestLanguage));for(var n=Object.keys(this.headers),o=0;o<n.length;o++)e=e.set(n[o],r[n[o]]);return this._sendTelemetry&&(e=e.set("Auth0-Client",this.getTelemetryData())),e},we.prototype.getTelemetryData=function(){var e=this._universalLoginPage?"auth0.js-ulp":"auth0.js",t={name:e,version:bt.raw};this._telemetryInfo&&((t=B.extend({},this._telemetryInfo)).env=B.extend({},this._telemetryInfo.env),t.env[e]=bt.raw);var r=JSON.stringify(t);return ro.encode(r)},we.prototype.get=function(e,t){return new Pe(this.setCommonConfiguration(Bt.get(e),t))},we.prototype.post=function(e,t){return new Pe(this.setCommonConfiguration(Bt.post(e),t))},we.prototype.patch=function(e,t){return new Pe(this.setCommonConfiguration(Bt.patch(e),t))};var j={redirect:function(e){kt().location=e},getDocument:function(){return kt().document},getWindow:kt,getOrigin:function(){var e=kt().location,t=e.origin;return t||(t=B.getOriginFromUrl(e.href)),t}};function wt(){}wt.prototype.getItem=function(){return null},wt.prototype.removeItem=function(){},wt.prototype.setItem=function(){};var Qe=je(function(e,t){var r;r=function(){function n(){for(var c=0,u={};c<arguments.length;c++){var p=arguments[c];for(var h in p)u[h]=p[h]}return u}function o(c){return c.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function c(u){function p(){}function h(y,d,m){if(typeof document<"u"){typeof(m=n({path:"/"},p.defaults,m)).expires=="number"&&(m.expires=new Date(1*new Date+864e5*m.expires)),m.expires=m.expires?m.expires.toUTCString():"";try{var g=JSON.stringify(d);/^[\{\[]/.test(g)&&(d=g)}catch{}d=u.write?u.write(d,y):encodeURIComponent(String(d)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),y=encodeURIComponent(String(y)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var E="";for(var _ in m)m[_]&&(E+="; "+_,m[_]!==!0&&(E+="="+m[_].split(";")[0]));return document.cookie=y+"="+d+E}}function l(y,d){if(typeof document<"u"){for(var m={},g=document.cookie?document.cookie.split("; "):[],E=0;E<g.length;E++){var _=g[E].split("="),x=_.slice(1).join("=");d||x.charAt(0)!=='"'||(x=x.slice(1,-1));try{var k=o(_[0]);if(x=(u.read||u)(x,k)||o(x),d)try{x=JSON.parse(x)}catch{}if(m[k]=x,y===k)break}catch{}}return y?m[y]:m}}return p.set=h,p.get=function(y){return l(y,!1)},p.getJSON=function(y){return l(y,!0)},p.remove=function(y,d){h(y,"",n(d,{expires:-1}))},p.defaults={},p.withConverter=c,p}(function(){})},e.exports=r()});function ir(e){return"_"+e+"_compat"}function et(e){this._options=e||{}}function $e(e){this.disableWarnings=e.disableWarnings}function yt(e){if(this.warn=new $e({}),this.storage=new et(e),e.__tryLocalStorageFirst===!0)try{var t=j.getWindow().localStorage;t&&(this.storage=t)}catch(r){this.warn.warning(r),this.warn.warning("Can't use localStorage. Using CookieStorage instead.")}}function ot(e){this.handler=new yt(e)}function jt(e){this.storage=new ot(e)}function nn(e,t){return{error:e,errorDescription:t}}et.prototype.getItem=function(e){return Qe.get(e)||Qe.get(ir(e))},et.prototype.removeItem=function(e){var t={};this._options.cookieDomain&&(t.domain=this._options.cookieDomain),Qe.remove(e,t),Qe.remove(ir(e),t)},et.prototype.setItem=function(e,t,r){var n=B.extend({expires:1},r);if(j.getWindow().location.protocol==="https:"&&(n.secure=!0,n.sameSite="none",this._options.legacySameSiteCookie)){var o=B.blacklist(n,["sameSite"]);Qe.set(ir(e),t,o)}this._options.cookieDomain&&(n.domain=this._options.cookieDomain),Qe.set(e,t,n)},$e.prototype.warning=function(e){this.disableWarnings||console.warn(e)},yt.prototype.failover=function(){this.storage instanceof wt?this.warn.warning("DummyStorage: ignore failover"):this.storage instanceof et?(this.warn.warning("CookieStorage: failing over DummyStorage"),this.storage=new wt):(this.warn.warning("LocalStorage: failing over CookieStorage"),this.storage=new et)},yt.prototype.getItem=function(e){try{return this.storage.getItem(e)}catch(t){return this.warn.warning(t),this.failover(),this.getItem(e)}},yt.prototype.removeItem=function(e){try{return this.storage.removeItem(e)}catch(t){return this.warn.warning(t),this.failover(),this.removeItem(e)}},yt.prototype.setItem=function(e,t,r){try{return this.storage.setItem(e,t,r)}catch(n){return this.warn.warning(n),this.failover(),this.setItem(e,t,r)}},ot.prototype.getItem=function(e){var t=this.handler.getItem(e);try{return JSON.parse(t)}catch{return t}},ot.prototype.removeItem=function(e){return this.handler.removeItem(e)},ot.prototype.setItem=function(e,t,r){var n=JSON.stringify(t);return this.handler.setItem(e,n,r)},jt.prototype.set=function(e,t){var r={lastUsedConnection:e,lastUsedSub:t};this.storage.setItem("auth0.ssodata",JSON.stringify(r))},jt.prototype.get=function(){var e=this.storage.getItem("auth0.ssodata");if(e)return JSON.parse(e)};var de={buildResponse:nn,invalidToken:function(e){return nn("invalid_token",e)}};function G(e,t){return(t=t||{}).ignoreCasing=!!t.ignoreCasing&&t.ignoreCasing,function(r,n){var o;return r||n?(!r&&n.err&&(r=n.err,n=null),!r&&n.error&&(r=n,n=null),r?(o={original:r},B.updatePropertyOn(o,"original.response.req._data.password","*****"),r.response&&r.response.statusCode&&(o.statusCode=r.response.statusCode),r.response&&r.response.statusText&&(o.statusText=r.response.statusText),r.response&&r.response.body&&(r=r.response.body),r.err&&(r=r.err),o.code=r.code||r.error||r.error_code||r.status||null,o.description=r.errorDescription||r.error_description||r.description||r.error||r.details||r.err||null,t.forceLegacyError&&(o.error=o.code,o.error_description=o.description),r.error_codes&&r.error_details&&(o.errorDetails={codes:r.error_codes,details:r.error_details}),r.name&&(o.name=r.name),r.policy&&(o.policy=r.policy),e(o)):!n.type||n.type!=="text/html"&&n.type!=="text/plain"?t.ignoreCasing?e(null,n.body||n):e(null,B.toCamelCase(n.body||n,[],{keepOriginal:t.keepOriginalCasing})):e(null,n.text)):e(de.buildResponse("generic_error","Something went wrong"))}}var ao=["realm","audience","otp","client_id","client_secret","redirect_uri","scope","code","grant_type","username","password","refresh_token","assertion","client_assertion","client_assertion_type","code_verifier"],uo=["connection","connection_scope","auth0Client","owp","device","realm","organization","invitation","protocol","_csrf","_intstate","login_ticket","client_id","response_type","response_mode","redirect_uri","audience","scope","state","nonce","display","prompt","screen_hint","max_age","ui_locales","claims_locales","id_token_hint","login_hint","acr_values","claims","registration","request","request_uri","code_challenge","code_challenge_method","access_type","display"],on={oauthTokenParams:function(e,t){return B.pick(t,ao)},oauthAuthorizeParams:function(e,t){var r=B.getKeysNotIn(t,uo);return r.length>0&&e.warning("Following parameters are not allowed on the `/authorize` endpoint: ["+r.join(",")+"]"),t}},Fe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ze(e){var t={exports:{}};return e(t,t.exports),t.exports}var co=ze(function(e,t){e.exports=function(){function r(i){return typeof i=="function"}var n=Array.isArray?Array.isArray:function(i){return Object.prototype.toString.call(i)==="[object Array]"},o=0,c=void 0,u=void 0,p=function(i,a){E[o]=i,E[o+1]=a,(o+=2)===2&&(u?u(_):M())},h=typeof window<"u"?window:void 0,l=h||{},y=l.MutationObserver||l.WebKitMutationObserver,d=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",m=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function g(){var i=setTimeout;return function(){return i(_,1)}}var E=new Array(1e3);function _(){for(var i=0;i<o;i+=2)(0,E[i])(E[i+1]),E[i]=void 0,E[i+1]=void 0;o=0}var x,k,O,A,M=void 0;function q(i,a){var f=this,v=new this.constructor(T);v[b]===void 0&&te(v);var S=f._state;if(S){var I=arguments[S-1];p(function(){return Ve(S,v,I,f._result)})}else J(f,v,i,a);return v}function w(i){if(i&&typeof i=="object"&&i.constructor===this)return i;var a=new this(T);return L(a,i),a}M=d?function(){return process.nextTick(_)}:y?(k=0,O=new y(_),A=document.createTextNode(""),O.observe(A,{characterData:!0}),function(){A.data=k=++k%2}):m?((x=new MessageChannel).port1.onmessage=_,function(){return x.port2.postMessage(0)}):h===void 0?function(){try{var i=Function("return this")().require("vertx");return(c=i.runOnLoop||i.runOnContext)!==void 0?function(){c(_)}:g()}catch{return g()}}():g();var b=Math.random().toString(36).substring(2);function T(){}var D=void 0;function R(i,a,f){a.constructor===i.constructor&&f===q&&a.constructor.resolve===w?function(v,S){S._state===1?N(v,S._result):S._state===2?P(v,S._result):J(S,void 0,function(I){return L(v,I)},function(I){return P(v,I)})}(i,a):f===void 0?N(i,a):r(f)?function(v,S,I){p(function(U){var H=!1,$=function(Y,ue,ke,se){try{Y.call(ue,function(ce){H||(H=!0,S!==ce?L(U,ce):N(U,ce))},function(ce){H||(H=!0,P(U,ce))})}catch(ce){return ce}}(I,S);!H&&$&&(H=!0,P(U,$))},v)}(i,a,f):N(i,a)}function L(i,a){if(i===a)P(i,new TypeError("You cannot resolve a promise with itself"));else if(S=typeof(v=a),v===null||S!=="object"&&S!=="function")N(i,a);else{var f=void 0;try{f=a.then}catch(I){return void P(i,I)}R(i,a,f)}var v,S}function C(i){i._onerror&&i._onerror(i._result),X(i)}function N(i,a){i._state===D&&(i._result=a,i._state=1,i._subscribers.length!==0&&p(X,i))}function P(i,a){i._state===D&&(i._state=2,i._result=a,p(C,i))}function J(i,a,f,v){var S=i._subscribers,I=S.length;i._onerror=null,S[I]=a,S[I+1]=f,S[I+2]=v,I===0&&i._state&&p(X,i)}function X(i){var a=i._subscribers,f=i._state;if(a.length!==0){for(var v=void 0,S=void 0,I=i._result,U=0;U<a.length;U+=3)S=a[U+f],(v=a[U])?Ve(f,v,S,I):S(I);i._subscribers.length=0}}function Ve(i,a,f,v){var S=r(f),I=void 0,U=void 0,H=!0;if(S){try{I=f(v)}catch($){H=!1,U=$}if(a===I)return void P(a,new TypeError("A promises callback cannot return that same promise."))}else I=v;a._state!==D||(S&&H?L(a,I):H===!1?P(a,U):i===1?N(a,I):i===2&&P(a,I))}var Te=0;function te(i){i[b]=Te++,i._state=void 0,i._result=void 0,i._subscribers=[]}var ut=function(){function i(a,f){this._instanceConstructor=a,this.promise=new a(T),this.promise[b]||te(this.promise),n(f)?(this.length=f.length,this._remaining=f.length,this._result=new Array(this.length),this.length===0?N(this.promise,this._result):(this.length=this.length||0,this._enumerate(f),this._remaining===0&&N(this.promise,this._result))):P(this.promise,new Error("Array Methods must be provided an Array"))}return i.prototype._enumerate=function(a){for(var f=0;this._state===D&&f<a.length;f++)this._eachEntry(a[f],f)},i.prototype._eachEntry=function(a,f){var v=this._instanceConstructor,S=v.resolve;if(S===w){var I=void 0,U=void 0,H=!1;try{I=a.then}catch(Y){H=!0,U=Y}if(I===q&&a._state!==D)this._settledAt(a._state,f,a._result);else if(typeof I!="function")this._remaining--,this._result[f]=a;else if(v===s){var $=new v(T);H?P($,U):R($,a,I),this._willSettleAt($,f)}else this._willSettleAt(new v(function(Y){return Y(a)}),f)}else this._willSettleAt(S(a),f)},i.prototype._settledAt=function(a,f,v){var S=this.promise;S._state===D&&(this._remaining--,a===2?P(S,v):this._result[f]=v),this._remaining===0&&N(S,this._result)},i.prototype._willSettleAt=function(a,f){var v=this;J(a,void 0,function(S){return v._settledAt(1,f,S)},function(S){return v._settledAt(2,f,S)})},i}(),s=function(){function i(a){this[b]=Te++,this._result=this._state=void 0,this._subscribers=[],T!==a&&(typeof a!="function"&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof i?function(f,v){try{v(function(S){L(f,S)},function(S){P(f,S)})}catch(S){P(f,S)}}(this,a):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return i.prototype.catch=function(a){return this.then(null,a)},i.prototype.finally=function(a){var f=this,v=f.constructor;return r(a)?f.then(function(S){return v.resolve(a()).then(function(){return S})},function(S){return v.resolve(a()).then(function(){throw S})}):f.then(a,a)},i}();return s.prototype.then=q,s.all=function(i){return new ut(this,i).promise},s.race=function(i){var a=this;return n(i)?new a(function(f,v){for(var S=i.length,I=0;I<S;I++)a.resolve(i[I]).then(f,v)}):new a(function(f,v){return v(new TypeError("You must pass an array to race."))})},s.resolve=w,s.reject=function(i){var a=new this(T);return P(a,i),a},s._setScheduler=function(i){u=i},s._setAsap=function(i){p=i},s._asap=p,s.polyfill=function(){var i=void 0;if(Fe!==void 0)i=Fe;else if(typeof self<"u")i=self;else try{i=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var a=i.Promise;if(a){var f=null;try{f=Object.prototype.toString.call(a.resolve())}catch{}if(f==="[object Promise]"&&!a.cast)return}i.Promise=s},s.Promise=s,s}()}),po={__proto__:null,default:{}},_r=ze(function(e,t){var r;e.exports=r=r||function(n,o){var c;if(typeof window<"u"&&window.crypto&&(c=window.crypto),typeof self<"u"&&self.crypto&&(c=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(c=globalThis.crypto),!c&&typeof window<"u"&&window.msCrypto&&(c=window.msCrypto),!c&&Fe!==void 0&&Fe.crypto&&(c=Fe.crypto),!c)try{c=po}catch{}var u=function(){if(c){if(typeof c.getRandomValues=="function")try{return c.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof c.randomBytes=="function")try{return c.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},p=Object.create||function(){function O(){}return function(A){var M;return O.prototype=A,M=new O,O.prototype=null,M}}(),h={},l=h.lib={},y=l.Base={extend:function(O){var A=p(this);return O&&A.mixIn(O),A.hasOwnProperty("init")&&this.init!==A.init||(A.init=function(){A.$super.init.apply(this,arguments)}),A.init.prototype=A,A.$super=this,A},create:function(){var O=this.extend();return O.init.apply(O,arguments),O},init:function(){},mixIn:function(O){for(var A in O)O.hasOwnProperty(A)&&(this[A]=O[A]);O.hasOwnProperty("toString")&&(this.toString=O.toString)},clone:function(){return this.init.prototype.extend(this)}},d=l.WordArray=y.extend({init:function(O,A){O=this.words=O||[],this.sigBytes=A??4*O.length},toString:function(O){return(O||g).stringify(this)},concat:function(O){var A=this.words,M=O.words,q=this.sigBytes,w=O.sigBytes;if(this.clamp(),q%4)for(var b=0;b<w;b++)A[q+b>>>2]|=(M[b>>>2]>>>24-b%4*8&255)<<24-(q+b)%4*8;else for(var T=0;T<w;T+=4)A[q+T>>>2]=M[T>>>2];return this.sigBytes+=w,this},clamp:function(){var O=this.words,A=this.sigBytes;O[A>>>2]&=4294967295<<32-A%4*8,O.length=n.ceil(A/4)},clone:function(){var O=y.clone.call(this);return O.words=this.words.slice(0),O},random:function(O){for(var A=[],M=0;M<O;M+=4)A.push(u());return new d.init(A,O)}}),m=h.enc={},g=m.Hex={stringify:function(O){for(var A=O.words,M=O.sigBytes,q=[],w=0;w<M;w++){var b=A[w>>>2]>>>24-w%4*8&255;q.push((b>>>4).toString(16)),q.push((15&b).toString(16))}return q.join("")},parse:function(O){for(var A=O.length,M=[],q=0;q<A;q+=2)M[q>>>3]|=parseInt(O.substr(q,2),16)<<24-q%8*4;return new d.init(M,A/2)}},E=m.Latin1={stringify:function(O){for(var A=O.words,M=O.sigBytes,q=[],w=0;w<M;w++)q.push(String.fromCharCode(A[w>>>2]>>>24-w%4*8&255));return q.join("")},parse:function(O){for(var A=O.length,M=[],q=0;q<A;q++)M[q>>>2]|=(255&O.charCodeAt(q))<<24-q%4*8;return new d.init(M,A)}},_=m.Utf8={stringify:function(O){try{return decodeURIComponent(escape(E.stringify(O)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(O){return E.parse(unescape(encodeURIComponent(O)))}},x=l.BufferedBlockAlgorithm=y.extend({reset:function(){this._data=new d.init,this._nDataBytes=0},_append:function(O){typeof O=="string"&&(O=_.parse(O)),this._data.concat(O),this._nDataBytes+=O.sigBytes},_process:function(O){var A,M=this._data,q=M.words,w=M.sigBytes,b=this.blockSize,T=w/(4*b),D=(T=O?n.ceil(T):n.max((0|T)-this._minBufferSize,0))*b,R=n.min(4*D,w);if(D){for(var L=0;L<D;L+=b)this._doProcessBlock(q,L);A=q.splice(0,D),M.sigBytes-=R}return new d.init(A,R)},clone:function(){var O=y.clone.call(this);return O._data=this._data.clone(),O},_minBufferSize:0});l.Hasher=x.extend({cfg:y.extend(),init:function(O){this.cfg=this.cfg.extend(O),this.reset()},reset:function(){x.reset.call(this),this._doReset()},update:function(O){return this._append(O),this._process(),this},finalize:function(O){return O&&this._append(O),this._doFinalize()},blockSize:16,_createHelper:function(O){return function(A,M){return new O.init(M).finalize(A)}},_createHmacHelper:function(O){return function(A,M){return new k.HMAC.init(O,M).finalize(A)}}});var k=h.algo={};return h}(Math)}),kn=ze(function(e,t){var r;e.exports=(r=_r,function(n){var o=r,c=o.lib,u=c.WordArray,p=c.Hasher,h=o.algo,l=[],y=[];(function(){function g(k){for(var O=n.sqrt(k),A=2;A<=O;A++)if(!(k%A))return!1;return!0}function E(k){return 4294967296*(k-(0|k))|0}for(var _=2,x=0;x<64;)g(_)&&(x<8&&(l[x]=E(n.pow(_,.5))),y[x]=E(n.pow(_,1/3)),x++),_++})();var d=[],m=h.SHA256=p.extend({_doReset:function(){this._hash=new u.init(l.slice(0))},_doProcessBlock:function(g,E){for(var _=this._hash.words,x=_[0],k=_[1],O=_[2],A=_[3],M=_[4],q=_[5],w=_[6],b=_[7],T=0;T<64;T++){if(T<16)d[T]=0|g[E+T];else{var D=d[T-15],R=d[T-2];d[T]=((D<<25|D>>>7)^(D<<14|D>>>18)^D>>>3)+d[T-7]+((R<<15|R>>>17)^(R<<13|R>>>19)^R>>>10)+d[T-16]}var L=x&k^x&O^k&O,C=b+((M<<26|M>>>6)^(M<<21|M>>>11)^(M<<7|M>>>25))+(M&q^~M&w)+y[T]+d[T];b=w,w=q,q=M,M=A+C|0,A=O,O=k,k=x,x=C+(((x<<30|x>>>2)^(x<<19|x>>>13)^(x<<10|x>>>22))+L)|0}_[0]=_[0]+x|0,_[1]=_[1]+k|0,_[2]=_[2]+O|0,_[3]=_[3]+A|0,_[4]=_[4]+M|0,_[5]=_[5]+q|0,_[6]=_[6]+w|0,_[7]=_[7]+b|0},_doFinalize:function(){var g=this._data,E=g.words,_=8*this._nDataBytes,x=8*g.sigBytes;return E[x>>>5]|=128<<24-x%32,E[14+(x+64>>>9<<4)]=n.floor(_/4294967296),E[15+(x+64>>>9<<4)]=_,g.sigBytes=4*E.length,this._process(),this._hash},clone:function(){var g=p.clone.call(this);return g._hash=this._hash.clone(),g}});o.SHA256=p._createHelper(m),o.HmacSHA256=p._createHmacHelper(m)}(Math),r.SHA256)}),lo=ze(function(e,t){var r,n;e.exports=(n=(r=_r).lib.WordArray,r.enc.Base64={stringify:function(o){var c=o.words,u=o.sigBytes,p=this._map;o.clamp();for(var h=[],l=0;l<u;l+=3)for(var y=(c[l>>>2]>>>24-l%4*8&255)<<16|(c[l+1>>>2]>>>24-(l+1)%4*8&255)<<8|c[l+2>>>2]>>>24-(l+2)%4*8&255,d=0;d<4&&l+.75*d<u;d++)h.push(p.charAt(y>>>6*(3-d)&63));var m=p.charAt(64);if(m)for(;h.length%4;)h.push(m);return h.join("")},parse:function(o){var c=o.length,u=this._map,p=this._reverseMap;if(!p){p=this._reverseMap=[];for(var h=0;h<u.length;h++)p[u.charCodeAt(h)]=h}var l=u.charAt(64);if(l){var y=o.indexOf(l);y!==-1&&(c=y)}return function(d,m,g){for(var E=[],_=0,x=0;x<m;x++)if(x%4){var k=g[d.charCodeAt(x-1)]<<x%4*2,O=g[d.charCodeAt(x)]>>>6-x%4*2;E[_>>>2]|=(k|O)<<24-_%4*8,_++}return n.create(E,_)}(o,c,p)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},r.enc.Base64)}),sn=ze(function(e,t){e.exports=_r.enc.Hex}),xn=ze(function(e,t){(function(){var r;function n(s,i,a){s!=null&&(typeof s=="number"?this.fromNumber(s,i,a):this.fromString(s,i==null&&typeof s!="string"?256:i))}function o(){return new n(null)}var c=typeof navigator<"u";c&&navigator.appName=="Microsoft Internet Explorer"?(n.prototype.am=function(s,i,a,f,v,S){for(var I=32767&i,U=i>>15;--S>=0;){var H=32767&this[s],$=this[s++]>>15,Y=U*H+$*I;v=((H=I*H+((32767&Y)<<15)+a[f]+(1073741823&v))>>>30)+(Y>>>15)+U*$+(v>>>30),a[f++]=1073741823&H}return v},r=30):c&&navigator.appName!="Netscape"?(n.prototype.am=function(s,i,a,f,v,S){for(;--S>=0;){var I=i*this[s++]+a[f]+v;v=Math.floor(I/67108864),a[f++]=67108863&I}return v},r=26):(n.prototype.am=function(s,i,a,f,v,S){for(var I=16383&i,U=i>>14;--S>=0;){var H=16383&this[s],$=this[s++]>>14,Y=U*H+$*I;v=((H=I*H+((16383&Y)<<14)+a[f]+v)>>28)+(Y>>14)+U*$,a[f++]=268435455&H}return v},r=28),n.prototype.DB=r,n.prototype.DM=(1<<r)-1,n.prototype.DV=1<<r,n.prototype.FV=Math.pow(2,52),n.prototype.F1=52-r,n.prototype.F2=2*r-52;var u,p,h=new Array;for(u=48,p=0;p<=9;++p)h[u++]=p;for(u=97,p=10;p<36;++p)h[u++]=p;for(u=65,p=10;p<36;++p)h[u++]=p;function l(s){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(s)}function y(s,i){var a=h[s.charCodeAt(i)];return a??-1}function d(s){var i=o();return i.fromInt(s),i}function m(s){var i,a=1;return(i=s>>>16)!=0&&(s=i,a+=16),(i=s>>8)!=0&&(s=i,a+=8),(i=s>>4)!=0&&(s=i,a+=4),(i=s>>2)!=0&&(s=i,a+=2),(i=s>>1)!=0&&(s=i,a+=1),a}function g(s){this.m=s}function E(s){this.m=s,this.mp=s.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<s.DB-15)-1,this.mt2=2*s.t}function _(s,i){return s&i}function x(s,i){return s|i}function k(s,i){return s^i}function O(s,i){return s&~i}function A(s){if(s==0)return-1;var i=0;return!(65535&s)&&(s>>=16,i+=16),!(255&s)&&(s>>=8,i+=8),!(15&s)&&(s>>=4,i+=4),!(3&s)&&(s>>=2,i+=2),!(1&s)&&++i,i}function M(s){for(var i=0;s!=0;)s&=s-1,++i;return i}function q(){}function w(s){return s}function b(s){this.r2=o(),this.q3=o(),n.ONE.dlShiftTo(2*s.t,this.r2),this.mu=this.r2.divide(s),this.m=s}g.prototype.convert=function(s){return s.s<0||s.compareTo(this.m)>=0?s.mod(this.m):s},g.prototype.revert=function(s){return s},g.prototype.reduce=function(s){s.divRemTo(this.m,null,s)},g.prototype.mulTo=function(s,i,a){s.multiplyTo(i,a),this.reduce(a)},g.prototype.sqrTo=function(s,i){s.squareTo(i),this.reduce(i)},E.prototype.convert=function(s){var i=o();return s.abs().dlShiftTo(this.m.t,i),i.divRemTo(this.m,null,i),s.s<0&&i.compareTo(n.ZERO)>0&&this.m.subTo(i,i),i},E.prototype.revert=function(s){var i=o();return s.copyTo(i),this.reduce(i),i},E.prototype.reduce=function(s){for(;s.t<=this.mt2;)s[s.t++]=0;for(var i=0;i<this.m.t;++i){var a=32767&s[i],f=a*this.mpl+((a*this.mph+(s[i]>>15)*this.mpl&this.um)<<15)&s.DM;for(s[a=i+this.m.t]+=this.m.am(0,f,s,i,0,this.m.t);s[a]>=s.DV;)s[a]-=s.DV,s[++a]++}s.clamp(),s.drShiftTo(this.m.t,s),s.compareTo(this.m)>=0&&s.subTo(this.m,s)},E.prototype.mulTo=function(s,i,a){s.multiplyTo(i,a),this.reduce(a)},E.prototype.sqrTo=function(s,i){s.squareTo(i),this.reduce(i)},n.prototype.copyTo=function(s){for(var i=this.t-1;i>=0;--i)s[i]=this[i];s.t=this.t,s.s=this.s},n.prototype.fromInt=function(s){this.t=1,this.s=s<0?-1:0,s>0?this[0]=s:s<-1?this[0]=s+this.DV:this.t=0},n.prototype.fromString=function(s,i){var a;if(i==16)a=4;else if(i==8)a=3;else if(i==256)a=8;else if(i==2)a=1;else if(i==32)a=5;else{if(i!=4)return void this.fromRadix(s,i);a=2}this.t=0,this.s=0;for(var f=s.length,v=!1,S=0;--f>=0;){var I=a==8?255&s[f]:y(s,f);I<0?s.charAt(f)=="-"&&(v=!0):(v=!1,S==0?this[this.t++]=I:S+a>this.DB?(this[this.t-1]|=(I&(1<<this.DB-S)-1)<<S,this[this.t++]=I>>this.DB-S):this[this.t-1]|=I<<S,(S+=a)>=this.DB&&(S-=this.DB))}a==8&&128&s[0]&&(this.s=-1,S>0&&(this[this.t-1]|=(1<<this.DB-S)-1<<S)),this.clamp(),v&&n.ZERO.subTo(this,this)},n.prototype.clamp=function(){for(var s=this.s&this.DM;this.t>0&&this[this.t-1]==s;)--this.t},n.prototype.dlShiftTo=function(s,i){var a;for(a=this.t-1;a>=0;--a)i[a+s]=this[a];for(a=s-1;a>=0;--a)i[a]=0;i.t=this.t+s,i.s=this.s},n.prototype.drShiftTo=function(s,i){for(var a=s;a<this.t;++a)i[a-s]=this[a];i.t=Math.max(this.t-s,0),i.s=this.s},n.prototype.lShiftTo=function(s,i){var a,f=s%this.DB,v=this.DB-f,S=(1<<v)-1,I=Math.floor(s/this.DB),U=this.s<<f&this.DM;for(a=this.t-1;a>=0;--a)i[a+I+1]=this[a]>>v|U,U=(this[a]&S)<<f;for(a=I-1;a>=0;--a)i[a]=0;i[I]=U,i.t=this.t+I+1,i.s=this.s,i.clamp()},n.prototype.rShiftTo=function(s,i){i.s=this.s;var a=Math.floor(s/this.DB);if(a>=this.t)i.t=0;else{var f=s%this.DB,v=this.DB-f,S=(1<<f)-1;i[0]=this[a]>>f;for(var I=a+1;I<this.t;++I)i[I-a-1]|=(this[I]&S)<<v,i[I-a]=this[I]>>f;f>0&&(i[this.t-a-1]|=(this.s&S)<<v),i.t=this.t-a,i.clamp()}},n.prototype.subTo=function(s,i){for(var a=0,f=0,v=Math.min(s.t,this.t);a<v;)f+=this[a]-s[a],i[a++]=f&this.DM,f>>=this.DB;if(s.t<this.t){for(f-=s.s;a<this.t;)f+=this[a],i[a++]=f&this.DM,f>>=this.DB;f+=this.s}else{for(f+=this.s;a<s.t;)f-=s[a],i[a++]=f&this.DM,f>>=this.DB;f-=s.s}i.s=f<0?-1:0,f<-1?i[a++]=this.DV+f:f>0&&(i[a++]=f),i.t=a,i.clamp()},n.prototype.multiplyTo=function(s,i){var a=this.abs(),f=s.abs(),v=a.t;for(i.t=v+f.t;--v>=0;)i[v]=0;for(v=0;v<f.t;++v)i[v+a.t]=a.am(0,f[v],i,v,0,a.t);i.s=0,i.clamp(),this.s!=s.s&&n.ZERO.subTo(i,i)},n.prototype.squareTo=function(s){for(var i=this.abs(),a=s.t=2*i.t;--a>=0;)s[a]=0;for(a=0;a<i.t-1;++a){var f=i.am(a,i[a],s,2*a,0,1);(s[a+i.t]+=i.am(a+1,2*i[a],s,2*a+1,f,i.t-a-1))>=i.DV&&(s[a+i.t]-=i.DV,s[a+i.t+1]=1)}s.t>0&&(s[s.t-1]+=i.am(a,i[a],s,2*a,0,1)),s.s=0,s.clamp()},n.prototype.divRemTo=function(s,i,a){var f=s.abs();if(!(f.t<=0)){var v=this.abs();if(v.t<f.t)return i!=null&&i.fromInt(0),void(a!=null&&this.copyTo(a));a==null&&(a=o());var S=o(),I=this.s,U=s.s,H=this.DB-m(f[f.t-1]);H>0?(f.lShiftTo(H,S),v.lShiftTo(H,a)):(f.copyTo(S),v.copyTo(a));var $=S.t,Y=S[$-1];if(Y!=0){var ue=Y*(1<<this.F1)+($>1?S[$-2]>>this.F2:0),ke=this.FV/ue,se=(1<<this.F1)/ue,ce=1<<this.F2,re=a.t,Ot=re-$,Se=i??o();for(S.dlShiftTo(Ot,Se),a.compareTo(Se)>=0&&(a[a.t++]=1,a.subTo(Se,a)),n.ONE.dlShiftTo($,Se),Se.subTo(S,S);S.t<$;)S[S.t++]=0;for(;--Ot>=0;){var $t=a[--re]==Y?this.DM:Math.floor(a[re]*ke+(a[re-1]+ce)*se);if((a[re]+=S.am(0,$t,a,Ot,0,$))<$t)for(S.dlShiftTo(Ot,Se),a.subTo(Se,a);a[re]<--$t;)a.subTo(Se,a)}i!=null&&(a.drShiftTo($,i),I!=U&&n.ZERO.subTo(i,i)),a.t=$,a.clamp(),H>0&&a.rShiftTo(H,a),I<0&&n.ZERO.subTo(a,a)}}},n.prototype.invDigit=function(){if(this.t<1)return 0;var s=this[0];if(!(1&s))return 0;var i=3&s;return(i=(i=(i=(i=i*(2-(15&s)*i)&15)*(2-(255&s)*i)&255)*(2-((65535&s)*i&65535))&65535)*(2-s*i%this.DV)%this.DV)>0?this.DV-i:-i},n.prototype.isEven=function(){return(this.t>0?1&this[0]:this.s)==0},n.prototype.exp=function(s,i){if(s>4294967295||s<1)return n.ONE;var a=o(),f=o(),v=i.convert(this),S=m(s)-1;for(v.copyTo(a);--S>=0;)if(i.sqrTo(a,f),(s&1<<S)>0)i.mulTo(f,v,a);else{var I=a;a=f,f=I}return i.revert(a)},n.prototype.toString=function(s){if(this.s<0)return"-"+this.negate().toString(s);var i;if(s==16)i=4;else if(s==8)i=3;else if(s==2)i=1;else if(s==32)i=5;else{if(s!=4)return this.toRadix(s);i=2}var a,f=(1<<i)-1,v=!1,S="",I=this.t,U=this.DB-I*this.DB%i;if(I-- >0)for(U<this.DB&&(a=this[I]>>U)>0&&(v=!0,S=l(a));I>=0;)U<i?(a=(this[I]&(1<<U)-1)<<i-U,a|=this[--I]>>(U+=this.DB-i)):(a=this[I]>>(U-=i)&f,U<=0&&(U+=this.DB,--I)),a>0&&(v=!0),v&&(S+=l(a));return v?S:"0"},n.prototype.negate=function(){var s=o();return n.ZERO.subTo(this,s),s},n.prototype.abs=function(){return this.s<0?this.negate():this},n.prototype.compareTo=function(s){var i=this.s-s.s;if(i!=0)return i;var a=this.t;if((i=a-s.t)!=0)return this.s<0?-i:i;for(;--a>=0;)if((i=this[a]-s[a])!=0)return i;return 0},n.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+m(this[this.t-1]^this.s&this.DM)},n.prototype.mod=function(s){var i=o();return this.abs().divRemTo(s,null,i),this.s<0&&i.compareTo(n.ZERO)>0&&s.subTo(i,i),i},n.prototype.modPowInt=function(s,i){var a;return a=s<256||i.isEven()?new g(i):new E(i),this.exp(s,a)},n.ZERO=d(0),n.ONE=d(1),q.prototype.convert=w,q.prototype.revert=w,q.prototype.mulTo=function(s,i,a){s.multiplyTo(i,a)},q.prototype.sqrTo=function(s,i){s.squareTo(i)},b.prototype.convert=function(s){if(s.s<0||s.t>2*this.m.t)return s.mod(this.m);if(s.compareTo(this.m)<0)return s;var i=o();return s.copyTo(i),this.reduce(i),i},b.prototype.revert=function(s){return s},b.prototype.reduce=function(s){for(s.drShiftTo(this.m.t-1,this.r2),s.t>this.m.t+1&&(s.t=this.m.t+1,s.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);s.compareTo(this.r2)<0;)s.dAddOffset(1,this.m.t+1);for(s.subTo(this.r2,s);s.compareTo(this.m)>=0;)s.subTo(this.m,s)},b.prototype.mulTo=function(s,i,a){s.multiplyTo(i,a),this.reduce(a)},b.prototype.sqrTo=function(s,i){s.squareTo(i),this.reduce(i)};var T,D,R,L=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],C=(1<<26)/L[L.length-1];function N(){var s;s=new Date().getTime(),D[R++]^=255&s,D[R++]^=s>>8&255,D[R++]^=s>>16&255,D[R++]^=s>>24&255,R>=ut&&(R-=ut)}if(n.prototype.chunkSize=function(s){return Math.floor(Math.LN2*this.DB/Math.log(s))},n.prototype.toRadix=function(s){if(s==null&&(s=10),this.signum()==0||s<2||s>36)return"0";var i=this.chunkSize(s),a=Math.pow(s,i),f=d(a),v=o(),S=o(),I="";for(this.divRemTo(f,v,S);v.signum()>0;)I=(a+S.intValue()).toString(s).substr(1)+I,v.divRemTo(f,v,S);return S.intValue().toString(s)+I},n.prototype.fromRadix=function(s,i){this.fromInt(0),i==null&&(i=10);for(var a=this.chunkSize(i),f=Math.pow(i,a),v=!1,S=0,I=0,U=0;U<s.length;++U){var H=y(s,U);H<0?s.charAt(U)=="-"&&this.signum()==0&&(v=!0):(I=i*I+H,++S>=a&&(this.dMultiply(f),this.dAddOffset(I,0),S=0,I=0))}S>0&&(this.dMultiply(Math.pow(i,S)),this.dAddOffset(I,0)),v&&n.ZERO.subTo(this,this)},n.prototype.fromNumber=function(s,i,a){if(typeof i=="number")if(s<2)this.fromInt(1);else for(this.fromNumber(s,a),this.testBit(s-1)||this.bitwiseTo(n.ONE.shiftLeft(s-1),x,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(i);)this.dAddOffset(2,0),this.bitLength()>s&&this.subTo(n.ONE.shiftLeft(s-1),this);else{var f=new Array,v=7&s;f.length=1+(s>>3),i.nextBytes(f),v>0?f[0]&=(1<<v)-1:f[0]=0,this.fromString(f,256)}},n.prototype.bitwiseTo=function(s,i,a){var f,v,S=Math.min(s.t,this.t);for(f=0;f<S;++f)a[f]=i(this[f],s[f]);if(s.t<this.t){for(v=s.s&this.DM,f=S;f<this.t;++f)a[f]=i(this[f],v);a.t=this.t}else{for(v=this.s&this.DM,f=S;f<s.t;++f)a[f]=i(v,s[f]);a.t=s.t}a.s=i(this.s,s.s),a.clamp()},n.prototype.changeBit=function(s,i){var a=n.ONE.shiftLeft(s);return this.bitwiseTo(a,i,a),a},n.prototype.addTo=function(s,i){for(var a=0,f=0,v=Math.min(s.t,this.t);a<v;)f+=this[a]+s[a],i[a++]=f&this.DM,f>>=this.DB;if(s.t<this.t){for(f+=s.s;a<this.t;)f+=this[a],i[a++]=f&this.DM,f>>=this.DB;f+=this.s}else{for(f+=this.s;a<s.t;)f+=s[a],i[a++]=f&this.DM,f>>=this.DB;f+=s.s}i.s=f<0?-1:0,f>0?i[a++]=f:f<-1&&(i[a++]=this.DV+f),i.t=a,i.clamp()},n.prototype.dMultiply=function(s){this[this.t]=this.am(0,s-1,this,0,0,this.t),++this.t,this.clamp()},n.prototype.dAddOffset=function(s,i){if(s!=0){for(;this.t<=i;)this[this.t++]=0;for(this[i]+=s;this[i]>=this.DV;)this[i]-=this.DV,++i>=this.t&&(this[this.t++]=0),++this[i]}},n.prototype.multiplyLowerTo=function(s,i,a){var f,v=Math.min(this.t+s.t,i);for(a.s=0,a.t=v;v>0;)a[--v]=0;for(f=a.t-this.t;v<f;++v)a[v+this.t]=this.am(0,s[v],a,v,0,this.t);for(f=Math.min(s.t,i);v<f;++v)this.am(0,s[v],a,v,0,i-v);a.clamp()},n.prototype.multiplyUpperTo=function(s,i,a){--i;var f=a.t=this.t+s.t-i;for(a.s=0;--f>=0;)a[f]=0;for(f=Math.max(i-this.t,0);f<s.t;++f)a[this.t+f-i]=this.am(i-f,s[f],a,0,0,this.t+f-i);a.clamp(),a.drShiftTo(1,a)},n.prototype.modInt=function(s){if(s<=0)return 0;var i=this.DV%s,a=this.s<0?s-1:0;if(this.t>0)if(i==0)a=this[0]%s;else for(var f=this.t-1;f>=0;--f)a=(i*a+this[f])%s;return a},n.prototype.millerRabin=function(s){var i=this.subtract(n.ONE),a=i.getLowestSetBit();if(a<=0)return!1;var f=i.shiftRight(a);(s=s+1>>1)>L.length&&(s=L.length);for(var v=o(),S=0;S<s;++S){v.fromInt(L[Math.floor(Math.random()*L.length)]);var I=v.modPow(f,this);if(I.compareTo(n.ONE)!=0&&I.compareTo(i)!=0){for(var U=1;U++<a&&I.compareTo(i)!=0;)if((I=I.modPowInt(2,this)).compareTo(n.ONE)==0)return!1;if(I.compareTo(i)!=0)return!1}}return!0},n.prototype.clone=function(){var s=o();return this.copyTo(s),s},n.prototype.intValue=function(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},n.prototype.byteValue=function(){return this.t==0?this.s:this[0]<<24>>24},n.prototype.shortValue=function(){return this.t==0?this.s:this[0]<<16>>16},n.prototype.signum=function(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1},n.prototype.toByteArray=function(){var s=this.t,i=new Array;i[0]=this.s;var a,f=this.DB-s*this.DB%8,v=0;if(s-- >0)for(f<this.DB&&(a=this[s]>>f)!=(this.s&this.DM)>>f&&(i[v++]=a|this.s<<this.DB-f);s>=0;)f<8?(a=(this[s]&(1<<f)-1)<<8-f,a|=this[--s]>>(f+=this.DB-8)):(a=this[s]>>(f-=8)&255,f<=0&&(f+=this.DB,--s)),128&a&&(a|=-256),v==0&&(128&this.s)!=(128&a)&&++v,(v>0||a!=this.s)&&(i[v++]=a);return i},n.prototype.equals=function(s){return this.compareTo(s)==0},n.prototype.min=function(s){return this.compareTo(s)<0?this:s},n.prototype.max=function(s){return this.compareTo(s)>0?this:s},n.prototype.and=function(s){var i=o();return this.bitwiseTo(s,_,i),i},n.prototype.or=function(s){var i=o();return this.bitwiseTo(s,x,i),i},n.prototype.xor=function(s){var i=o();return this.bitwiseTo(s,k,i),i},n.prototype.andNot=function(s){var i=o();return this.bitwiseTo(s,O,i),i},n.prototype.not=function(){for(var s=o(),i=0;i<this.t;++i)s[i]=this.DM&~this[i];return s.t=this.t,s.s=~this.s,s},n.prototype.shiftLeft=function(s){var i=o();return s<0?this.rShiftTo(-s,i):this.lShiftTo(s,i),i},n.prototype.shiftRight=function(s){var i=o();return s<0?this.lShiftTo(-s,i):this.rShiftTo(s,i),i},n.prototype.getLowestSetBit=function(){for(var s=0;s<this.t;++s)if(this[s]!=0)return s*this.DB+A(this[s]);return this.s<0?this.t*this.DB:-1},n.prototype.bitCount=function(){for(var s=0,i=this.s&this.DM,a=0;a<this.t;++a)s+=M(this[a]^i);return s},n.prototype.testBit=function(s){var i=Math.floor(s/this.DB);return i>=this.t?this.s!=0:(this[i]&1<<s%this.DB)!=0},n.prototype.setBit=function(s){return this.changeBit(s,x)},n.prototype.clearBit=function(s){return this.changeBit(s,O)},n.prototype.flipBit=function(s){return this.changeBit(s,k)},n.prototype.add=function(s){var i=o();return this.addTo(s,i),i},n.prototype.subtract=function(s){var i=o();return this.subTo(s,i),i},n.prototype.multiply=function(s){var i=o();return this.multiplyTo(s,i),i},n.prototype.divide=function(s){var i=o();return this.divRemTo(s,i,null),i},n.prototype.remainder=function(s){var i=o();return this.divRemTo(s,null,i),i},n.prototype.divideAndRemainder=function(s){var i=o(),a=o();return this.divRemTo(s,i,a),new Array(i,a)},n.prototype.modPow=function(s,i){var a,f,v=s.bitLength(),S=d(1);if(v<=0)return S;a=v<18?1:v<48?3:v<144?4:v<768?5:6,f=v<8?new g(i):i.isEven()?new b(i):new E(i);var I=new Array,U=3,H=a-1,$=(1<<a)-1;if(I[1]=f.convert(this),a>1){var Y=o();for(f.sqrTo(I[1],Y);U<=$;)I[U]=o(),f.mulTo(Y,I[U-2],I[U]),U+=2}var ue,ke,se=s.t-1,ce=!0,re=o();for(v=m(s[se])-1;se>=0;){for(v>=H?ue=s[se]>>v-H&$:(ue=(s[se]&(1<<v+1)-1)<<H-v,se>0&&(ue|=s[se-1]>>this.DB+v-H)),U=a;!(1&ue);)ue>>=1,--U;if((v-=U)<0&&(v+=this.DB,--se),ce)I[ue].copyTo(S),ce=!1;else{for(;U>1;)f.sqrTo(S,re),f.sqrTo(re,S),U-=2;U>0?f.sqrTo(S,re):(ke=S,S=re,re=ke),f.mulTo(re,I[ue],S)}for(;se>=0&&!(s[se]&1<<v);)f.sqrTo(S,re),ke=S,S=re,re=ke,--v<0&&(v=this.DB-1,--se)}return f.revert(S)},n.prototype.modInverse=function(s){var i=s.isEven();if(this.isEven()&&i||s.signum()==0)return n.ZERO;for(var a=s.clone(),f=this.clone(),v=d(1),S=d(0),I=d(0),U=d(1);a.signum()!=0;){for(;a.isEven();)a.rShiftTo(1,a),i?(v.isEven()&&S.isEven()||(v.addTo(this,v),S.subTo(s,S)),v.rShiftTo(1,v)):S.isEven()||S.subTo(s,S),S.rShiftTo(1,S);for(;f.isEven();)f.rShiftTo(1,f),i?(I.isEven()&&U.isEven()||(I.addTo(this,I),U.subTo(s,U)),I.rShiftTo(1,I)):U.isEven()||U.subTo(s,U),U.rShiftTo(1,U);a.compareTo(f)>=0?(a.subTo(f,a),i&&v.subTo(I,v),S.subTo(U,S)):(f.subTo(a,f),i&&I.subTo(v,I),U.subTo(S,U))}return f.compareTo(n.ONE)!=0?n.ZERO:U.compareTo(s)>=0?U.subtract(s):U.signum()<0?(U.addTo(s,U),U.signum()<0?U.add(s):U):U},n.prototype.pow=function(s){return this.exp(s,new q)},n.prototype.gcd=function(s){var i=this.s<0?this.negate():this.clone(),a=s.s<0?s.negate():s.clone();if(i.compareTo(a)<0){var f=i;i=a,a=f}var v=i.getLowestSetBit(),S=a.getLowestSetBit();if(S<0)return i;for(v<S&&(S=v),S>0&&(i.rShiftTo(S,i),a.rShiftTo(S,a));i.signum()>0;)(v=i.getLowestSetBit())>0&&i.rShiftTo(v,i),(v=a.getLowestSetBit())>0&&a.rShiftTo(v,a),i.compareTo(a)>=0?(i.subTo(a,i),i.rShiftTo(1,i)):(a.subTo(i,a),a.rShiftTo(1,a));return S>0&&a.lShiftTo(S,a),a},n.prototype.isProbablePrime=function(s){var i,a=this.abs();if(a.t==1&&a[0]<=L[L.length-1]){for(i=0;i<L.length;++i)if(a[0]==L[i])return!0;return!1}if(a.isEven())return!1;for(i=1;i<L.length;){for(var f=L[i],v=i+1;v<L.length&&f<C;)f*=L[v++];for(f=a.modInt(f);i<v;)if(f%L[i++]==0)return!1}return a.millerRabin(s)},n.prototype.square=function(){var s=o();return this.squareTo(s),s},n.prototype.Barrett=b,D==null){var P;if(D=new Array,R=0,typeof window<"u"&&window.crypto){if(window.crypto.getRandomValues){var J=new Uint8Array(32);for(window.crypto.getRandomValues(J),P=0;P<32;++P)D[R++]=J[P]}else if(navigator.appName=="Netscape"&&navigator.appVersion<"5"){var X=window.crypto.random(32);for(P=0;P<X.length;++P)D[R++]=255&X.charCodeAt(P)}}for(;R<ut;)P=Math.floor(65536*Math.random()),D[R++]=P>>>8,D[R++]=255&P;R=0,N()}function Ve(){if(T==null){for(N(),(T=new te).init(D),R=0;R<D.length;++R)D[R]=0;R=0}return T.next()}function Te(){}function te(){this.i=0,this.j=0,this.S=new Array}Te.prototype.nextBytes=function(s){var i;for(i=0;i<s.length;++i)s[i]=Ve()},te.prototype.init=function(s){var i,a,f;for(i=0;i<256;++i)this.S[i]=i;for(a=0,i=0;i<256;++i)f=this.S[i],this.S[i]=this.S[a=a+this.S[i]+s[i%s.length]&255],this.S[a]=f;this.i=0,this.j=0},te.prototype.next=function(){var s;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,s=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=s,this.S[s+this.S[this.i]&255]};var ut=256;e.exports={default:n,BigInteger:n,SecureRandom:Te}}).call(Fe)}),an={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},un={sha256:kn};function Pn(e,t){if(this.n=null,this.e=0,!(e!=null&&t!=null&&e.length>0&&t.length>0))throw new Error("Invalid key data");this.n=new xn.BigInteger(e,16),this.e=parseInt(t,16)}Pn.prototype.verify=function(e,t){t=t.replace(/[^0-9a-f]|[\s\n]]/gi,"");var r=new xn.BigInteger(t,16);if(r.bitLength()>this.n.bitLength())throw new Error("Signature does not match with the key modulus.");var n=function(c){for(var u in an){var p=an[u],h=p.length;if(c.substring(0,h)===p)return{alg:u,hash:c.substring(h)}}return[]}(r.modPowInt(this.e,this.n).toString(16).replace(/^1f+00/,""));if(n.length===0)return!1;if(!un.hasOwnProperty(n.alg))throw new Error("Hashing algorithm is not supported.");var o=un[n.alg](e).toString();return n.hash===o};for(var ho=[],le=[],fo=typeof Uint8Array<"u"?Uint8Array:Array,cn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ze=0;Ze<64;++Ze)ho[Ze]=cn[Ze],le[cn.charCodeAt(Ze)]=Ze;le[45]=62,le[95]=63;var Rn=function(e){var t,r,n=function(l){var y=l.length;if(y%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var d=l.indexOf("=");return d===-1&&(d=y),[d,d===y?0:4-d%4]}(e),o=n[0],c=n[1],u=new fo(function(l,y,d){return 3*(y+d)/4-d}(0,o,c)),p=0,h=c>0?o-4:o;for(r=0;r<h;r+=4)t=le[e.charCodeAt(r)]<<18|le[e.charCodeAt(r+1)]<<12|le[e.charCodeAt(r+2)]<<6|le[e.charCodeAt(r+3)],u[p++]=t>>16&255,u[p++]=t>>8&255,u[p++]=255&t;return c===2&&(t=le[e.charCodeAt(r)]<<2|le[e.charCodeAt(r+1)]>>4,u[p++]=255&t),c===1&&(t=le[e.charCodeAt(r)]<<10|le[e.charCodeAt(r+1)]<<4|le[e.charCodeAt(r+2)]>>2,u[p++]=t>>8&255,u[p++]=255&t),u};function Un(e){var t=e.length%4;return t===0?e:e+new Array(4-t+1).join("=")}function pn(e){return e=Un(e).replace(/\-/g,"+").replace(/_/g,"/"),decodeURIComponent(function(t){for(var r="",n=0;n<t.length;n++)r+=String.fromCharCode(t[n]);return r}(Rn(e)).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function or(e){return function(t){for(var r="",n=0;n<t.length;n++){var o=t[n].toString(16);r+=o.length===2?o:"0"+o}return r}(Rn(Un(e)))}var yo=ze(function(e){var t,r;t=Fe,r=function(){return function(){return function(n){var o=[];if(n.length===0)return"";if(typeof n[0]!="string")throw new TypeError("Url must be a string. Received "+n[0]);if(n[0].match(/^[^/:]+:\/*$/)&&n.length>1){var c=n.shift();n[0]=c+n[0]}n[0]=n[0].match(/^file:\/\/\//)?n[0].replace(/^([^/:]+):\/*/,"$1:///"):n[0].replace(/^([^/:]+):\/*/,"$1://");for(var u=0;u<n.length;u++){var p=n[u];if(typeof p!="string")throw new TypeError("Url must be a string. Received "+p);p!==""&&(u>0&&(p=p.replace(/^[\/]+/,"")),p=p.replace(/[\/]+$/,u<n.length-1?"":"/"),o.push(p))}var h=o.join("/"),l=(h=h.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return l.shift()+(l.length>0?"?":"")+l.join("&")}(typeof arguments[0]=="object"?arguments[0]:[].slice.call(arguments))}},e.exports?e.exports=r():t.urljoin=r()});function mo(e,t){return t=t||{},new Promise(function(r,n){var o=new XMLHttpRequest,c=[],u=[],p={},h=function(){return{ok:(o.status/100|0)==2,statusText:o.statusText,status:o.status,url:o.responseURL,text:function(){return Promise.resolve(o.responseText)},json:function(){return Promise.resolve(o.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([o.response]))},clone:h,headers:{keys:function(){return c},entries:function(){return u},get:function(y){return p[y.toLowerCase()]},has:function(y){return y.toLowerCase()in p}}}};for(var l in o.open(t.method||"get",e,!0),o.onload=function(){o.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(y,d,m){c.push(d=d.toLowerCase()),u.push([d,m]),p[d]=p[d]?p[d]+","+m:m}),r(h())},o.onerror=n,o.withCredentials=t.credentials=="include",t.headers)o.setRequestHeader(l,t.headers[l]);o.send(t.body||null)})}function go(e){if(e.ok)return e.json();var t=new Error(e.statusText);return t.response=e,Promise.reject(t)}function yr(e){this.name="ConfigurationError",this.message=e||""}function z(e){this.name="TokenValidationError",this.message=e||""}yr.prototype=Error.prototype,z.prototype=Error.prototype;var vo=function(){function e(){}var t=e.prototype;return t.get=function(){return null},t.has=function(){return null},t.set=function(){return null},e}();co.polyfill();var mr="RS256",xt=function(e){return typeof e=="number"},wo=function(){return new Date};function Me(e){var t=e||{};if(this.jwksCache=t.jwksCache||new vo,this.expectedAlg=t.expectedAlg||"RS256",this.issuer=t.issuer,this.audience=t.audience,this.leeway=t.leeway===0?0:t.leeway||60,this.jwksURI=t.jwksURI,this.maxAge=t.maxAge,this.__clock=typeof t.__clock=="function"?t.__clock:wo,this.leeway<0||this.leeway>300)throw new yr("The leeway should be positive and lower than five minutes.");if(mr!==this.expectedAlg)throw new yr('Signature algorithm of "'+this.expectedAlg+'" is not supported. Expected the ID token to be signed with "'+mr+'".')}function Mn(e,t){this.plugins=t;for(var r=0;r<this.plugins.length;r++){if(this.plugins[r].version!==bt.raw){var n="";throw this.plugins[r].constructor&&this.plugins[r].constructor.name&&(n=this.plugins[r].constructor.name),new Error("Plugin "+n+" version ("+this.plugins[r].version+") is not compatible with the SDK version ("+bt.raw+")")}this.plugins[r].setWebAuth(e)}}Me.prototype.verify=function(e,t,r){if(!r&&t&&typeof t=="function"&&(r=t,t=void 0),!e)return r(new z("ID token is required but missing"),null);var n=this.decode(e);if(n instanceof Error)return r(new z("ID token could not be decoded"),null);var o=n.encoded.header+"."+n.encoded.payload,c=or(n.encoded.signature),u=n.header.alg,p=n.header.kid,h=n.payload.aud,l=n.payload.sub,y=n.payload.iss,d=n.payload.exp,m=n.payload.nbf,g=n.payload.iat,E=n.payload.azp,_=n.payload.auth_time,x=n.payload.nonce,k=this.__clock(),O=this;if(O.expectedAlg!==u)return r(new z('Signature algorithm of "'+u+'" is not supported. Expected the ID token to be signed with "'+mr+'".'),null);this.getRsaVerifier(y,p,function(A,M){if(A)return r(A,null);if(!M.verify(o,c))return r(new z("Invalid ID token signature."),null);if(!y||typeof y!="string")return r(new z("Issuer (iss) claim must be a string present in the ID token"),null);if(O.issuer!==y)return r(new z('Issuer (iss) claim mismatch in the ID token, expected "'+O.issuer+'", found "'+y+'"'),null);if(!l||typeof l!="string")return r(new z("Subject (sub) claim must be a string present in the ID token"),null);if(!h||typeof h!="string"&&!Array.isArray(h))return r(new z("Audience (aud) claim must be a string or array of strings present in the ID token"),null);if(Array.isArray(h)&&!h.includes(O.audience))return r(new z('Audience (aud) claim mismatch in the ID token; expected "'+O.audience+'" but was not one of "'+h.join(", ")+'"'),null);if(typeof h=="string"&&O.audience!==h)return r(new z('Audience (aud) claim mismatch in the ID token; expected "'+O.audience+'" but found "'+h+'"'),null);if(t){if(!x||typeof x!="string")return r(new z("Nonce (nonce) claim must be a string present in the ID token"),null);if(x!==t)return r(new z('Nonce (nonce) claim value mismatch in the ID token; expected "'+t+'", found "'+x+'"'),null)}if(Array.isArray(h)&&h.length>1){if(!E||typeof E!="string")return r(new z("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values"),null);if(E!==O.audience)return r(new z('Authorized Party (azp) claim mismatch in the ID token; expected "'+O.audience+'", found "'+E+'"'),null)}if(!d||!xt(d))return r(new z("Expiration Time (exp) claim must be a number present in the ID token"),null);if(!g||!xt(g))return r(new z("Issued At (iat) claim must be a number present in the ID token"),null);var q=d+O.leeway,w=new Date(0);if(w.setUTCSeconds(q),k>w)return r(new z('Expiration Time (exp) claim error in the ID token; current time "'+k+'" is after expiration time "'+w+'"'),null);if(m&&xt(m)){var b=m-O.leeway,T=new Date(0);if(T.setUTCSeconds(b),k<T)return r(new z('Not Before Time (nbf) claim error in the ID token; current time "'+k+'" is before the not before time "'+T+'"'),null)}if(O.maxAge){if(!_||!xt(_))return r(new z("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified"),null);var D=_+O.maxAge+O.leeway,R=new Date(0);if(R.setUTCSeconds(D),k>R)return r(new z('Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time "'+k+'" is after last auth time at "'+R+'"'),null)}return r(null,n.payload)})},Me.prototype.getRsaVerifier=function(e,t,r){var n=this,o=e+t;Promise.resolve(this.jwksCache.has(o)).then(function(c){return c?n.jwksCache.get(o):(p=(u={jwksURI:n.jwksURI,iss:e,kid:t}).jwksURI||yo(u.iss,".well-known","jwks.json"),(fetch=="undefined"?mo:fetch)(p).then(go).then(function(h){var l,y,d,m=null;for(l=0;l<h.keys.length&&m===null;l++)(y=h.keys[l]).kid===u.kid&&(m=y);if(!m)throw new Error('Could not find a public key for Key ID (kid) "'+u.kid+'"');return{modulus:or((d=m).n),exp:or(d.e)}}).catch(function(h){throw h}));var u,p}).then(function(c){if(!c||!c.modulus||!c.exp)throw new Error("Empty keyInfo in response");return Promise.resolve(n.jwksCache.set(o,c)).then(function(){r&&r(null,new Pn(c.modulus,c.exp))})}).catch(function(c){r&&r(c)})},Me.prototype.decode=function(e){var t,r,n=e.split(".");if(n.length!==3)return new z("Cannot decode a malformed JWT");try{t=JSON.parse(pn(n[0])),r=JSON.parse(pn(n[1]))}catch{return new z("Token header or payload is not valid JSON")}return{header:t,payload:r,encoded:{header:n[0],payload:n[1],signature:n[2]}}},Me.prototype.validateAccessToken=function(e,t,r,n){if(this.expectedAlg!==t)return n(new z('Signature algorithm of "'+t+'" is not supported. Expected "'+this.expectedAlg+'"'));var o,c=kn(e),u=sn.stringify(c),p=u.substring(0,u.length/2),h=sn.parse(p),l=lo.stringify(h);return n((o={"+":"-","/":"_","=":""},l.replace(/[+/=]/g,function(y){return o[y]})!==r?new z("Invalid access_token"):null))},Mn.prototype.get=function(e){for(var t=0;t<this.plugins.length;t++)if(this.plugins[t].supports(e))return this.plugins[t].init();return null};var ln={randomString:function(e){var t=new Uint8Array(e),r=[],n="0123456789ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvwxyz-._~",o=j.getWindow().crypto||j.getWindow().msCrypto;if(!o)return null;for(var c=o.getRandomValues(t),u=0;u<c.length;u++)r.push(n[c[u]%n.length]);return r.join("")}};function qe(e){var t=e.transaction||{};this.namespace=t.namespace||"com.auth0.auth.",this.keyLength=t.keyLength||32,this.stateExpiration=e.stateExpiration?e.stateExpiration/60/24:1/48,this.storage=new ot(e),this.options=e}function tt(e){if(this.url=e.url,this.callback=e.callback,this.timeout=e.timeout||6e4,this.timeoutCallback=e.timeoutCallback||null,this.eventListenerType=e.eventListenerType||"message",this.iframe=null,this.timeoutHandle=null,this._destroyTimeout=null,this.transientMessageEventListener=null,this.proxyEventListener=null,this.eventValidator=e.eventValidator||{isValid:function(){return!0}},typeof this.callback!="function")throw new Error("options.callback must be a function")}function Or(e){this.webAuth=e,this.warn=new $e(e.baseOptions)}function _t(e,t){this.webAuth=e,this.baseOptions=t,this.request=new we(t),this.webMessageHandler=new Or(e),this.storage=new ot(t)}function hn(e,t){return["co/verifier",encodeURIComponent(e),encodeURIComponent(t)].join("/")}function gr(e,t){this.webAuth=e,this.baseOptions=t,this.crossOriginAuthentication=new _t(e,this.baseOptions),this.warn=new $e({disableWarnings:!!t._disableDeprecationWarnings})}qe.prototype.process=function(e){if(!e.responseType)throw new Error("responseType is required");var t=e.realm||e.connection,r=e.responseType.indexOf("id_token")!==-1,n=this.generateTransaction(e.appState,e.state,e.nonce,t,r,e.organization);return e.state||(e.state=n.state),r&&!e.nonce&&(e.nonce=n.nonce),e},qe.prototype.generateTransaction=function(e,t,r,n,o,c){if(t=t||ln.randomString(this.keyLength),r=r||(o?ln.randomString(this.keyLength):null),j.getWindow().location.host!==this.options.domain){var u={nonce:r,appState:e,state:t,lastUsedConnection:n};c&&(u.organization=c),this.storage.setItem(this.namespace+t,u,{expires:this.stateExpiration})}return{state:t,nonce:r}},qe.prototype.getStoredTransaction=function(e){var t;return t=this.storage.getItem(this.namespace+e),this.clearTransaction(e),t},qe.prototype.clearTransaction=function(e){this.storage.removeItem(this.namespace+e)},tt.prototype.init=function(){var e=this,t=j.getWindow();switch(this.iframe=t.document.createElement("iframe"),this.iframe.style.display="none",this.proxyEventListener=function(r){e.eventListener(r)},this.eventListenerType){case"message":this.eventSourceObject=t;break;case"load":this.eventSourceObject=this.iframe;break;default:throw new Error("Unsupported event listener type: "+this.eventListenerType)}this.eventSourceObject.addEventListener(this.eventListenerType,this.proxyEventListener,!1),t.document.body.appendChild(this.iframe),this.iframe.src=this.url,this.timeoutHandle=setTimeout(function(){e.timeoutHandler()},this.timeout)},tt.prototype.eventListener=function(e){var t={event:e,sourceObject:this.eventSourceObject};this.eventValidator.isValid(t)&&(this.destroy(),this.callback(t))},tt.prototype.timeoutHandler=function(){this.destroy(),this.timeoutCallback&&this.timeoutCallback()},tt.prototype.destroy=function(){var e=this;clearTimeout(this.timeoutHandle),this._destroyTimeout=setTimeout(function(){e.eventSourceObject.removeEventListener(e.eventListenerType,e.proxyEventListener,!1),e.iframe.parentNode&&e.iframe.parentNode.removeChild(e.iframe)},0)},Or.prototype.run=function(e,t){var r=this;e.responseMode="web_message",e.prompt="none";var n=j.getOrigin(),o=B.getOriginFromUrl(e.redirectUri);if(o&&n!==o)return t({error:"origin_mismatch",error_description:"The redirectUri's origin ("+o+") should match the window's origin ("+n+")."});(function(c,u,p){new tt({url:c,eventListenerType:"message",callback:function(h){p(null,h)},timeout:u.timeout,eventValidator:{isValid:function(h){return!(!h.event.data||h.event.data.type!=="authorization_response"||u.state!==h.event.data.response.state)}},timeoutCallback:function(){p({error:"timeout",error_description:"Timeout during executing web_message communication",state:u.state})}}).init()})(this.webAuth.client.buildAuthorizeUrl(e),e,function(c,u){var p=c;if(!c&&u.event.data.response.error&&(p=u.event.data.response),!p){var h=u.event.data.response;return r.webAuth.validateAuthenticationResponse(e,h,t)}return p.error==="consent_required"&&j.getWindow().location.hostname==="localhost"&&r.warn.warning("Consent Required. Consent can't be skipped on localhost. Read more here: https://auth0.com/docs/api-auth/user-consent#skipping-consent-for-first-party-clients"),r.webAuth.transactionManager.clearTransaction(p.state),t(B.pick(p,["error","error_description"]))})},_t.prototype.login=function(e,t){var r=this,n=V(this.baseOptions.rootUrl,"/co/authenticate");e.username=e.username||e.email,delete e.email;var o={client_id:e.clientID||this.baseOptions.clientID,username:e.username};e.password&&(o.password=e.password),e.otp&&(o.otp=e.otp);var c=e.realm||this.baseOptions.realm;if(c){var u=e.credentialType||this.baseOptions.credentialType||"http://auth0.com/oauth/grant-type/password-realm";o.realm=c,o.credential_type=u}else o.credential_type="password";this.request.post(n).withCredentials().send(o).end(function(p,h){if(p){var l=p.response&&p.response.body||{error:"request_error",error_description:JSON.stringify(p)};return G(t,{forceLegacyError:!0})(l)}function y(){var d=e.popup===!0;e=B.blacklist(e,["password","credentialType","otp","popup","onRedirecting"]);var m=B.merge(e).with({loginTicket:h.body.login_ticket}),g=hn(r.baseOptions.rootUrl,h.body.co_id);r.storage.setItem(g,h.body.co_verifier,{expires:1/96}),d?r.webMessageHandler.run(m,G(t,{forceLegacyError:!0})):r.webAuth.authorize(m)}typeof e.onRedirecting=="function"?e.onRedirecting(y):y()})},_t.prototype.callback=function(){var e=decodeURIComponent(function(n){var o=("&"+j.getWindow().location.hash.substring(1)).split("&"+n+"=");if(o.length===2)return o.pop().split("&").shift()}("origin")),t=j.getWindow(),r=this;t.addEventListener("message",function(n){if(n.data.type==="co_verifier_request"){var o=hn(n.origin,n.data.request.id),c=function(u,p){try{var h=u.getItem(p);return u.removeItem(p),h||""}catch{return""}}(r.storage,o);n.source.postMessage({type:"co_verifier_response",response:{verifier:c}},n.origin)}}),t.parent.postMessage({type:"ready"},e)},gr.prototype.loginWithCredentials=function(e,t){e.realm=e.realm||e.connection,delete e.connection,this.crossOriginAuthentication.login(e,t)},gr.prototype.signupAndLogin=function(e,t){var r=this;return this.webAuth.client.dbConnection.signup(e,function(n){return n?t(n):(e.realm=e.realm||e.connection,delete e.connection,r.webAuth.login(e,t))})};var fn=je(function(e){var t=function(){function r(u,p,h){u.attachEvent?u.attachEvent("on"+p,h):u.addEventListener&&u.addEventListener(p,h,!1)}function n(u,p,h){u.detachEvent?u.detachEvent("on"+p,h):u.removeEventListener&&u.removeEventListener(p,h,!1)}function o(u){/^https?:\/\//.test(u)||(u=window.location.href);var p=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(u);return p?p[1]:u}var c=function(){if(typeof navigator>"u")return!1;var u=-1,p=navigator.userAgent;return navigator.appName==="Microsoft Internet Explorer"?new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(p)!=null&&(u=parseFloat(RegExp.$1)):p.indexOf("Trident")>-1&&new RegExp("rv:([0-9]{2,2}[.0-9]{0,})").exec(p)!==null&&(u=parseFloat(RegExp.$1)),u>=8}();return typeof window<"u"&&window.JSON&&window.JSON.stringify&&window.JSON.parse&&window.postMessage?{open:function(u,p){if(!p)throw"missing required callback argument";var h,l;u.url||(h="missing required 'url' parameter"),u.relay_url||(h="missing required 'relay_url' parameter"),h&&setTimeout(function(){p(h)},0),u.window_name||(u.window_name=null),u.window_features&&!function(){try{var k=navigator.userAgent;return k.indexOf("Fennec/")!=-1||k.indexOf("Firefox/")!=-1&&k.indexOf("Android")!=-1}catch{}return!1}()||(u.window_features=void 0);var y,d=u.origin||o(u.url);if(d!==o(u.relay_url))return setTimeout(function(){p("invalid arguments: origin of url and relay_url must match")},0);c&&((l=document.createElement("iframe")).setAttribute("src",u.relay_url),l.style.display="none",l.setAttribute("name","__winchan_relay_frame"),document.body.appendChild(l),y=l.contentWindow);var m=u.popup||window.open(u.url,u.window_name,u.window_features);u.popup&&(m.location.href=u.url),y||(y=m);var g=setInterval(function(){m&&m.closed&&(_(),p&&(p("User closed the popup window"),p=null))},500),E=JSON.stringify({a:"request",d:u.params});function _(){if(l&&document.body.removeChild(l),l=void 0,g&&(g=clearInterval(g)),n(window,"message",x),n(window,"unload",_),m)try{m.close()}catch{y.postMessage("die",d)}m=y=void 0}function x(k){if(k.origin===d){try{var O=JSON.parse(k.data)}catch(A){if(p)return p(A);throw A}O.a==="ready"?y.postMessage(E,d):O.a==="error"?(_(),p&&(p(O.d),p=null)):O.a==="response"&&(_(),p&&(p(null,O.d),p=null))}}return r(window,"unload",_),r(window,"message",x),{originalPopup:m,close:_,focus:function(){if(m)try{m.focus()}catch{}}}},onOpen:function(u){var p="*",h=c?function(){for(var m=window.opener.frames,g=m.length-1;g>=0;g--)try{if(m[g].location.protocol===window.location.protocol&&m[g].location.host===window.location.host&&m[g].name==="__winchan_relay_frame")return m[g]}catch{}}():window.opener;if(!h)throw"can't find relay frame";function l(m){m=JSON.stringify(m),c?h.doPost(m,p):h.postMessage(m,p)}function y(m){if(m.data==="die")try{window.close()}catch{}}r(c?h:window,"message",function m(g){var E;try{E=JSON.parse(g.data)}catch{}E&&E.a==="request"&&(n(window,"message",m),p=g.origin,u&&setTimeout(function(){u(p,E.d,function(_){u=void 0,l({a:"response",d:_})})},0))}),r(c?h:window,"message",y);try{l({a:"ready"})}catch{r(h,"load",function(g){l({a:"ready"})})}var d=function(){try{n(c?h:window,"message",y)}catch{}u&&l({a:"error",d:"client closed window"}),u=void 0;try{window.close()}catch{}};return r(window,"unload",d),{detach:function(){n(window,"unload",d)}}}}:{open:function(u,p,h,l){setTimeout(function(){l("unsupported browser")},0)},onOpen:function(u){setTimeout(function(){u("unsupported browser")},0)}}}();e.exports&&(e.exports=t)}),bo={extractOrigin:function(e){/^https?:\/\//.test(e)||(e=window.location.href);var t=/^(https?:\/\/[-_a-zA-Z.0-9:]+)/.exec(e);return t?t[1]:e}};function Pt(){this._current_popup=null}function be(e,t){this.baseOptions=t,this.baseOptions.popupOrigin=t.popupOrigin,this.client=e.client,this.webAuth=e,this.transactionManager=new qe(this.baseOptions),this.crossOriginAuthentication=new _t(e,this.baseOptions),this.warn=new $e({disableWarnings:!!t._disableDeprecationWarnings})}function rt(e){this.authenticationUrl=e.authenticationUrl,this.timeout=e.timeout||6e4,this.handler=null,this.postMessageDataType=e.postMessageDataType||!1,this.postMessageOrigin=e.postMessageOrigin||j.getWindow().location.origin||j.getWindow().location.protocol+"//"+j.getWindow().location.hostname+(j.getWindow().location.port?":"+j.getWindow().location.port:"")}function sr(e){this.baseOptions=e,this.request=new we(e),this.transactionManager=new qe(this.baseOptions)}function Nt(e,t){this.baseOptions=t,this.client=e,this.baseOptions.universalLoginPage=!0,this.request=new we(this.baseOptions),this.warn=new $e({disableWarnings:!!t._disableDeprecationWarnings})}Pt.prototype.calculatePosition=function(e){var t=e.width||500,r=e.height||600,n=j.getWindow(),o=n.screenX!==void 0?n.screenX:n.screenLeft,c=n.screenY!==void 0?n.screenY:n.screenTop,u=n.outerWidth!==void 0?n.outerWidth:n.document.body.clientWidth,p=n.outerHeight!==void 0?n.outerHeight:n.document.body.clientHeight;return{width:t,height:r,left:e.left||o+(u-t)/2,top:e.top||c+(p-r)/2}},Pt.prototype.preload=function(e){var t=this,r=j.getWindow(),n=this.calculatePosition(e.popupOptions||{}),o=B.merge(n).with(e.popupOptions),c=e.url||"about:blank",u=De.stringify(o,{encode:!1,delimiter:","});return this._current_popup&&!this._current_popup.closed||(this._current_popup=r.open(c,"auth0_signup_popup",u),this._current_popup.kill=function(){this.close(),t._current_popup=null}),this._current_popup},Pt.prototype.load=function(e,t,r,n){var o=this,c=this.calculatePosition(r.popupOptions||{}),u=B.merge(c).with(r.popupOptions),p=B.merge({url:e,relay_url:t,window_features:De.stringify(u,{delimiter:",",encode:!1}),popup:this._current_popup}).with(r),h=fn.open(p,function(l,y){if(!l||l.name!=="SyntaxError")return o._current_popup=null,n(l,y)});return h.focus(),h},be.prototype.buildPopupHandler=function(){var e=this.baseOptions.plugins.get("popup.getPopupHandler");return e?e.getPopupHandler():new Pt},be.prototype.preload=function(e){e=e||{};var t=this.buildPopupHandler();return t.preload(e),t},be.prototype.getPopupHandler=function(e,t){return e.popupHandler?e.popupHandler:t?this.preload(e):this.buildPopupHandler()},be.prototype.callback=function(e){var t=this,r=j.getWindow(),n=(e=e||{}).popupOrigin||this.baseOptions.popupOrigin||j.getOrigin();r.opener?fn.onOpen(function(o,c,u){if(o!==n)return u({error:"origin_mismatch",error_description:"The popup's origin ("+o+") should match the `popupOrigin` parameter ("+n+")."});t.webAuth.parseHash(e||{},function(p,h){return u(p||h)})}):r.doPost=function(o){r.parent&&r.parent.postMessage(o,n)}},be.prototype.authorize=function(e,t){var r,n,o={},c=this.baseOptions.plugins.get("popup.authorize"),u=B.merge(this.baseOptions,["clientID","scope","domain","audience","tenant","responseType","redirectUri","_csrf","state","_intstate","nonce","organization","invitation"]).with(B.blacklist(e,["popupHandler"]));return F.check(u,{type:"object",message:"options parameter is not valid"},{responseType:{type:"string",message:"responseType option is required"}}),n=V(this.baseOptions.rootUrl,"relay.html"),e.owp?u.owp=!0:(o.origin=bo.extractOrigin(u.redirectUri),n=u.redirectUri),e.popupOptions&&(o.popupOptions=B.pick(e.popupOptions,["width","height","top","left"])),c&&(u=c.processParams(u)),(u=this.transactionManager.process(u)).scope=u.scope||"openid profile email",delete u.domain,r=this.client.buildAuthorizeUrl(u),this.getPopupHandler(e).load(r,n,o,G(t,{keepOriginalCasing:!0}))},be.prototype.loginWithCredentials=function(e,t){e.realm=e.realm||e.connection,e.popup=!0,e=B.merge(this.baseOptions,["redirectUri","responseType","state","nonce","timeout"]).with(B.blacklist(e,["popupHandler","connection"])),e=this.transactionManager.process(e),this.crossOriginAuthentication.login(e,t)},be.prototype.passwordlessVerify=function(e,t){var r=this;return this.client.passwordless.verify(B.blacklist(e,["popupHandler"]),function(n){if(n)return t(n);e.username=e.phoneNumber||e.email,e.password=e.verificationCode,delete e.email,delete e.phoneNumber,delete e.verificationCode,delete e.type,r.client.loginWithResourceOwner(e,t)})},be.prototype.signupAndLogin=function(e,t){var r=this;return this.client.dbConnection.signup(e,function(n){if(n)return t(n);r.loginWithCredentials(e,t)})},rt.create=function(e){return new rt(e)},rt.prototype.login=function(e,t){this.handler=new tt({auth0:this.auth0,url:this.authenticationUrl,eventListenerType:e?"message":"load",callback:this.getCallbackHandler(t,e),timeout:this.timeout,eventValidator:this.getEventValidator(),timeoutCallback:function(){t(null,"#error=timeout&error_description=Timeout+during+authentication+renew.")},usePostMessage:e||!1}),this.handler.init()},rt.prototype.getEventValidator=function(){var e=this;return{isValid:function(t){switch(t.event.type){case"message":return t.event.origin===e.postMessageOrigin&&t.event.source===e.handler.iframe.contentWindow&&(e.postMessageDataType===!1||t.event.data.type&&t.event.data.type===e.postMessageDataType);case"load":if(t.sourceObject.contentWindow.location.protocol==="about:")return!1;default:return!0}}}},rt.prototype.getCallbackHandler=function(e,t){return function(r){var n;n=t?typeof r.event.data=="object"&&r.event.data.hash?r.event.data.hash:r.event.data:r.sourceObject.contentWindow.location.hash,e(null,n)}},sr.prototype.login=function(e,t){var r,n;return r=V(this.baseOptions.rootUrl,"usernamepassword","login"),e.username=e.username||e.email,e=B.blacklist(e,["email","onRedirecting"]),n=B.merge(this.baseOptions,["clientID","redirectUri","tenant","responseType","responseMode","scope","audience"]).with(e),n=this.transactionManager.process(n),n=B.toSnakeCase(n,["auth0Client"]),this.request.post(r).send(n).end(G(t))},sr.prototype.callback=function(e){var t,r=j.getDocument();(t=r.createElement("div")).innerHTML=e,r.body.appendChild(t).children[0].submit()},Nt.prototype.login=function(e,t){if(j.getWindow().location.host!==this.baseOptions.domain)throw new Error("This method is meant to be used only inside the Universal Login Page.");var r,n=B.merge(this.baseOptions,["clientID","redirectUri","tenant","responseType","responseMode","scope","audience","_csrf","state","_intstate","nonce"]).with(e);return F.check(n,{type:"object",message:"options parameter is not valid"},{responseType:{type:"string",message:"responseType option is required"}}),(r=new sr(this.baseOptions)).login(n,function(o,c){if(o)return t(o);function u(){r.callback(c)}if(typeof e.onRedirecting=="function")return e.onRedirecting(function(){u()});u()})},Nt.prototype.signupAndLogin=function(e,t){var r=this;return r.client.client.dbConnection.signup(e,function(n){return n?t(n):r.login(e,t)})},Nt.prototype.getSSOData=function(e,t){var r,n="";return typeof e=="function"&&(t=e,e=!1),F.check(e,{type:"boolean",message:"withActiveDirectories parameter is not valid"}),F.check(t,{type:"function",message:"cb parameter is not valid"}),e&&(n="?"+De.stringify({ldaps:1,client_id:this.baseOptions.clientID})),r=V(this.baseOptions.rootUrl,"user","ssodata",n),this.request.get(r,{noHeaders:!0}).withCredentials().end(G(t))};var Tr=function(){},dn=Tr,_e=Tr,Rt=!1,Ut={DEFAULT:"default",SIGNUP:"signup",PASSWORDLESS:"passwordless",PASSWORD_RESET:"password_reset"},_o={lang:"en",templates:{auth0:function(e){var t=e.type==="code"?"Enter the code shown above":"Solve the formula shown above";return`<div class="captcha-challenge">
  <img src="`+e.image+`" />
  <button type="button" class="captcha-reload">↺</button>
</div>
<input type="text" name="captcha"
  class="form-control captcha-control"
  placeholder="`+t+'" />'},recaptcha_v2:function(){return'<div class="recaptcha" ></div><input type="hidden" name="captcha" />'},recaptcha_enterprise:function(){return'<div class="recaptcha" ></div><input type="hidden" name="captcha" />'},hcaptcha:function(){return'<div class="hcaptcha" ></div><input type="hidden" name="captcha" />'},friendly_captcha:function(){return'<div class="friendly-captcha" ></div><input type="hidden" name="captcha" />'},arkose:function(){return'<div class="arkose" ></div><input type="hidden" name="captcha" />'},auth0_v2:function(){return'<div class="auth0_v2" ></div><input type="hidden" name="captcha" />'},error:function(){return'<div class="error" style="color: red;">Error getting the bot detection challenge. Please contact the system administrator.</div>'}}};function ht(e){switch(e){case"recaptcha_v2":return window.grecaptcha;case"recaptcha_enterprise":return window.grecaptcha.enterprise;case"hcaptcha":return window.hcaptcha;case"friendly_captcha":return window.friendlyChallenge;case"arkose":return window.arkose;case"auth0_v2":return window.turnstile;default:throw new Error("Unknown captcha provider")}}function yn(e,t){var r=window.document.createElement("script");for(var n in t)n.startsWith("data-")?r.dataset[n.replace("data-","")]=t[n]:r[n]=t[n];r.src=e,window.document.body.appendChild(r)}function mn(e){window.document.querySelectorAll('script[src="'+e+'"]').forEach(function(t){t.remove()})}function Oo(e,t,r){var n=e.provider+"Callback_"+Math.floor(1000001*Math.random()),o={async:!0,defer:!0},c=function(p,h,l,y,d){switch(p){case"recaptcha_v2":return"https://www.recaptcha.net/recaptcha/api.js?hl="+h+"&onload="+l;case"recaptcha_enterprise":return"https://www.recaptcha.net/recaptcha/enterprise.js?render=explicit&hl="+h+"&onload="+l;case"hcaptcha":return"https://js.hcaptcha.com/1/api.js?hl="+h+"&onload="+l;case"friendly_captcha":return"https://cdn.jsdelivr.net/npm/friendly-challenge@0.9.12/widget.min.js";case"arkose":return"https://"+y+".arkoselabs.com/v2/"+d+"/api.js";case"auth0_v2":return"https://challenges.cloudflare.com/turnstile/v0/api.js?render=explicit&onload="+l;default:throw new Error("Unknown captcha provider")}}(e.provider,e.lang,n,e.clientSubdomain,e.siteKey);if(e.provider==="arkose"||e.provider==="auth0_v2"){var u=0;o["data-callback"]=n,o.onerror=function(){if(u<3)return mn(c),yn(c,o),void u++;mn(c),_e(new Error(e.provider+" failed to load")),r("BYPASS_CAPTCHA")},window[n]=function(p){window.arkose=p,t(p)}}else window[n]=function(){delete window[n],t()},e.provider==="friendly_captcha"&&(o.onload=window[n]);yn(c,o)}var Ae={render:function(e,t,r,n,o){function c(u){function p(h,l){return h?(r.innerHTML=n.templates.error(h),_e(h)):l.required?(r.style.display="",void(l.provider==="auth0"?(function(y,d,m,g){y.innerHTML=d.templates[m.provider](m),y.querySelector(".captcha-reload").addEventListener("click",function(E){E.preventDefault(),g()})}(r,n,l,c),_e()):l.provider!=="recaptcha_v2"&&l.provider!=="recaptcha_enterprise"&&l.provider!=="hcaptcha"&&l.provider!=="friendly_captcha"&&l.provider!=="arkose"&&l.provider!=="auth0_v2"||function(y,d,m){var g,E=y.hasAttribute("data-wid")&&y.getAttribute("data-wid");function _(k){y.querySelector('input[name="captcha"]').value=k||""}if(m.provider==="friendly_captcha"&&window.auth0FCInstance)return _(),void window.auth0FCInstance.reset();if(m.provider==="arkose"&&ht(m.provider))return _(),void ht(m.provider).reset();if(E)return _(),void ht(m.provider).reset(E);switch(y.innerHTML=d.templates[m.provider](m),m.provider){case"recaptcha_enterprise":case"recaptcha_v2":g=".recaptcha";break;case"hcaptcha":g=".hcaptcha";break;case"friendly_captcha":g=".friendly-captcha";break;case"arkose":g=".arkose";break;case"auth0_v2":g=".auth0_v2"}var x=y.querySelector(g);Oo({lang:d.lang,provider:m.provider,clientSubdomain:m.clientSubdomain,siteKey:m.siteKey},function(k){var O=ht(m.provider);if(m.provider==="arkose"){var A=0,M=!1;k.setConfig({onReady:function(){M&&!Rt||(_e(null,{triggerCaptcha:function(w){k.run(),dn=w}}),Rt&&(Rt=!1),M=!0)},onCompleted:function(w){_(w.token),dn()},onError:function(w){A<3?(_(),k.reset(),setTimeout(function(){k.run()},500),A++):(M||(_e(new Error(w.error.error)),M=!0),_("BYPASS_CAPTCHA"))}})}else if(m.provider==="friendly_captcha")window.auth0FCInstance=new O.WidgetInstance(x,{sitekey:m.siteKey,language:d.lang,doneCallback:function(w){_(w)},errorCallback:function(){_()}}),_e();else{var q={callback:_,"expired-callback":function(){_()},"error-callback":function(){_()},sitekey:m.siteKey};m.provider==="auth0_v2"&&(A=0,q.language=d.lang,q.theme="light",q.retry="never",q["response-field"]=!1,q["error-callback"]=function(){return A<3?(_(),ht(m.provider).reset(E),A++):_("BYPASS_CAPTCHA"),!0}),E=O.render(x,q),y.setAttribute("data-wid",E),_e()}},_)}(r,n,l))):(r.style.display="none",r.innerHTML="",_e())}_e=u||Tr,t===Ut.PASSWORDLESS?e.passwordless.getChallenge(p):t===Ut.PASSWORD_RESET?e.dbConnection.getPasswordResetChallenge(p):t===Ut.SIGNUP?e.dbConnection.getSignupChallenge(p):e.getChallenge(p)}return n=B.merge(_o).with(n||{}),c(o),{reload:function(u){Rt=!0,c(u)},getValue:function(){var u=r.querySelector('input[name="captcha"]');if(u)return u.value}}},Flow:Ut};function To(){return new Date}function K(e){F.check(e,{type:"object",message:"options parameter is not valid"},{domain:{type:"string",message:"domain option is required"},clientID:{type:"string",message:"clientID option is required"},responseType:{optional:!0,type:"string",message:"responseType is not valid"},responseMode:{optional:!0,type:"string",message:"responseMode is not valid"},redirectUri:{optional:!0,type:"string",message:"redirectUri is not valid"},scope:{optional:!0,type:"string",message:"scope is not valid"},audience:{optional:!0,type:"string",message:"audience is not valid"},popupOrigin:{optional:!0,type:"string",message:"popupOrigin is not valid"},leeway:{optional:!0,type:"number",message:"leeway is not valid"},plugins:{optional:!0,type:"array",message:"plugins is not valid"},maxAge:{optional:!0,type:"number",message:"maxAge is not valid"},stateExpiration:{optional:!0,type:"number",message:"stateExpiration is not valid"},legacySameSiteCookie:{optional:!0,type:"boolean",message:"legacySameSiteCookie option is not valid"},_disableDeprecationWarnings:{optional:!0,type:"boolean",message:"_disableDeprecationWarnings option is not valid"},_sendTelemetry:{optional:!0,type:"boolean",message:"_sendTelemetry option is not valid"},_telemetryInfo:{optional:!0,type:"object",message:"_telemetryInfo option is not valid"},_timesToRetryFailedRequests:{optional:!0,type:"number",message:"_timesToRetryFailedRequests option is not valid"}}),e.overrides&&F.check(e.overrides,{type:"object",message:"overrides option is not valid"},{__tenant:{optional:!0,type:"string",message:"__tenant option is required"},__token_issuer:{optional:!0,type:"string",message:"__token_issuer option is required"},__jwks_uri:{optional:!0,type:"string",message:"__jwks_uri is required"}}),this.baseOptions=e,this.baseOptions.plugins=new Mn(this,this.baseOptions.plugins||[]),this.baseOptions._sendTelemetry=this.baseOptions._sendTelemetry!==!1||this.baseOptions._sendTelemetry,this.baseOptions._timesToRetryFailedRequests=e._timesToRetryFailedRequests?parseInt(e._timesToRetryFailedRequests):0,this.baseOptions.tenant=this.baseOptions.overrides&&this.baseOptions.overrides.__tenant||this.baseOptions.domain.split(".")[0],this.baseOptions.token_issuer=this.baseOptions.overrides&&this.baseOptions.overrides.__token_issuer||"https://"+this.baseOptions.domain+"/",this.baseOptions.jwksURI=this.baseOptions.overrides&&this.baseOptions.overrides.__jwks_uri,e.legacySameSiteCookie!==!1&&(this.baseOptions.legacySameSiteCookie=!0),this.transactionManager=new qe(this.baseOptions),this.client=new ae(this.baseOptions),this.redirect=new gr(this,this.baseOptions),this.popup=new be(this,this.baseOptions),this.crossOriginAuthentication=new _t(this,this.baseOptions),this.webMessageHandler=new Or(this),this._universalLogin=new Nt(this,this.baseOptions),this.ssodataStorage=new jt(this.baseOptions)}function mt(e,t){this.baseOptions=t,this.request=e}function gt(e,t){this.baseOptions=t,this.request=e}function ae(e,t){arguments.length===2?this.auth0=e:t=e,F.check(t,{type:"object",message:"options parameter is not valid"},{domain:{type:"string",message:"domain option is required"},clientID:{type:"string",message:"clientID option is required"},responseType:{optional:!0,type:"string",message:"responseType is not valid"},responseMode:{optional:!0,type:"string",message:"responseMode is not valid"},redirectUri:{optional:!0,type:"string",message:"redirectUri is not valid"},scope:{optional:!0,type:"string",message:"scope is not valid"},audience:{optional:!0,type:"string",message:"audience is not valid"},_disableDeprecationWarnings:{optional:!0,type:"boolean",message:"_disableDeprecationWarnings option is not valid"},_sendTelemetry:{optional:!0,type:"boolean",message:"_sendTelemetry option is not valid"},_telemetryInfo:{optional:!0,type:"object",message:"_telemetryInfo option is not valid"}}),this.baseOptions=t,this.baseOptions._sendTelemetry=this.baseOptions._sendTelemetry!==!1||this.baseOptions._sendTelemetry,this.baseOptions.rootUrl=this.baseOptions.domain&&this.baseOptions.domain.toLowerCase().indexOf("http")===0?this.baseOptions.domain:"https://"+this.baseOptions.domain,this.request=new we(this.baseOptions),this.passwordless=new mt(this.request,this.baseOptions),this.dbConnection=new gt(this.request,this.baseOptions),this.warn=new $e({disableWarnings:!!t._disableDeprecationWarnings}),this.ssodataStorage=new jt(this.baseOptions)}function vt(e){F.check(e,{type:"object",message:"options parameter is not valid"},{domain:{type:"string",message:"domain option is required"},token:{type:"string",message:"token option is required"},_sendTelemetry:{optional:!0,type:"boolean",message:"_sendTelemetry option is not valid"},_telemetryInfo:{optional:!0,type:"object",message:"_telemetryInfo option is not valid"}}),this.baseOptions=e,this.baseOptions.headers={Authorization:"Bearer "+this.baseOptions.token},this.request=new we(this.baseOptions),this.baseOptions.rootUrl=V("https://"+this.baseOptions.domain,"api","v2")}K.prototype.parseHash=function(e,t){var r,n;t||typeof e!="function"?e=e||{}:(t=e,e={});var o=e.hash===void 0?j.getWindow().location.hash:e.hash;if(o=o.replace(/^#?\/?/,""),(r=De.parse(o)).hasOwnProperty("error"))return n=de.buildResponse(r.error,r.error_description),r.state&&(n.state=r.state),t(n);if(!r.hasOwnProperty("access_token")&&!r.hasOwnProperty("id_token")&&!r.hasOwnProperty("refresh_token"))return t(null,null);var c=(this.baseOptions.responseType||e.responseType||"").split(" ");return c.length>0&&c.indexOf("token")!==-1&&!r.hasOwnProperty("access_token")?t(de.buildResponse("invalid_hash","response_type contains `token`, but the parsed hash does not contain an `access_token` property")):c.length>0&&c.indexOf("id_token")!==-1&&!r.hasOwnProperty("id_token")?t(de.buildResponse("invalid_hash","response_type contains `id_token`, but the parsed hash does not contain an `id_token` property")):this.validateAuthenticationResponse(e,r,t)},K.prototype.validateAuthenticationResponse=function(e,t,r){var n=this;e.__enableIdPInitiatedLogin=e.__enableIdPInitiatedLogin||e.__enableImpersonation;var o=t.state,c=this.transactionManager.getStoredTransaction(o),u=e.state||c&&c.state||null,p=u===o;if(!(!o&&!u&&e.__enableIdPInitiatedLogin)&&!p)return r({error:"invalid_token",errorDescription:"`state` does not match."});var h=e.nonce||c&&c.nonce||null,l=c&&c.organization,y=e.state||c&&c.appState||null,d=function(m,g){if(m)return r(m);var E;return c&&c.lastUsedConnection&&(g&&(E=g.sub),n.ssodataStorage.set(c.lastUsedConnection,E)),r(null,function(_,x,k){return{accessToken:_.access_token||null,idToken:_.id_token||null,idTokenPayload:k||null,appState:x||null,refreshToken:_.refresh_token||null,state:_.state||null,expiresIn:_.expires_in?parseInt(_.expires_in,10):null,tokenType:_.token_type||null,scope:_.scope||null}}(t,y,g))};return t.id_token?this.validateToken(t.id_token,h,function(m,g){if(!m){if(l)if(l.indexOf("org_")===0){if(!g.org_id)return d(de.invalidToken("Organization Id (org_id) claim must be a string present in the ID token"));if(g.org_id!==l)return d(de.invalidToken('Organization Id (org_id) claim value mismatch in the ID token; expected "'+l+'", found "'+g.org_id+'"'))}else{if(!g.org_name)return d(de.invalidToken("Organization Name (org_name) claim must be a string present in the ID token"));if(g.org_name!==l.toLowerCase())return d(de.invalidToken('Organization Name (org_name) claim value mismatch in the ID token; expected "'+l+'", found "'+g.org_name+'"'))}return t.access_token&&g.at_hash?new Me().validateAccessToken(t.access_token,"RS256",g.at_hash,function(_){return _?d(de.invalidToken(_.message)):d(null,g)}):d(null,g)}if(m.error!=="invalid_token"||m.errorDescription&&m.errorDescription.indexOf("Nonce (nonce) claim value mismatch in the ID token")>-1)return d(m);var E=new Me().decode(t.id_token);return E.header.alg!=="HS256"?d(m):(E.payload.nonce||null)!==h?d({error:"invalid_token",errorDescription:'Nonce (nonce) claim value mismatch in the ID token; expected "'+h+'", found "'+E.payload.nonce+'"'}):t.access_token?n.client.userInfo(t.access_token,function(_,x){return _?d(_):d(null,x)}):d({error:"invalid_token",description:"The id_token cannot be validated because it was signed with the HS256 algorithm and public clients (like a browser) can’t store secrets. Please read the associated doc for possible ways to fix this. Read more: https://auth0.com/docs/errors/libraries/auth0-js/invalid-token#parsing-an-hs256-signed-id-token-without-an-access-token"})}):d(null,null)},K.prototype.validateToken=function(e,t,r){new Me({issuer:this.baseOptions.token_issuer,jwksURI:this.baseOptions.jwksURI,audience:this.baseOptions.clientID,leeway:this.baseOptions.leeway||60,maxAge:this.baseOptions.maxAge,__clock:this.baseOptions.__clock||To}).verify(e,t,function(n,o){if(n)return r(de.invalidToken(n.message));r(null,o)})},K.prototype.renewAuth=function(e,t){var r=!!e.usePostMessage,n=e.postMessageDataType||!1,o=e.postMessageOrigin||j.getWindow().origin,c=e.timeout,u=this,p=B.merge(this.baseOptions,["clientID","redirectUri","responseType","scope","audience","_csrf","state","_intstate","nonce"]).with(e);p.responseType=p.responseType||"token",p.responseMode=p.responseMode||"fragment",p=this.transactionManager.process(p),F.check(p,{type:"object",message:"options parameter is not valid"}),F.check(t,{type:"function",message:"cb parameter is not valid"}),p.prompt="none",p=B.blacklist(p,["usePostMessage","tenant","postMessageDataType","postMessageOrigin"]),rt.create({authenticationUrl:this.client.buildAuthorizeUrl(p),postMessageDataType:n,postMessageOrigin:o,timeout:c}).login(r,function(h,l){if(typeof l=="object")return t(h,l);u.parseHash({hash:l},t)})},K.prototype.checkSession=function(e,t){var r=B.merge(this.baseOptions,["clientID","responseType","redirectUri","scope","audience","_csrf","state","_intstate","nonce"]).with(e);return r.responseType==="code"?t({error:"error",error_description:"responseType can't be `code`"}):(e.nonce||(r=this.transactionManager.process(r)),r.redirectUri?(F.check(r,{type:"object",message:"options parameter is not valid"}),F.check(t,{type:"function",message:"cb parameter is not valid"}),r=B.blacklist(r,["usePostMessage","tenant","postMessageDataType"]),void this.webMessageHandler.run(r,G(t,{forceLegacyError:!0,ignoreCasing:!0}))):t({error:"error",error_description:"redirectUri can't be empty"}))},K.prototype.changePassword=function(e,t){return this.client.dbConnection.changePassword(e,t)},K.prototype.passwordlessStart=function(e,t){var r=B.merge(this.baseOptions,["responseType","responseMode","redirectUri","scope","audience","_csrf","state","_intstate","nonce"]).with(e.authParams);return e.authParams=this.transactionManager.process(r),this.client.passwordless.start(e,t)},K.prototype.signup=function(e,t){return this.client.dbConnection.signup(e,t)},K.prototype.authorize=function(e){var t=B.merge(this.baseOptions,["clientID","responseType","responseMode","redirectUri","scope","audience","_csrf","state","_intstate","nonce","organization","invitation"]).with(e);F.check(t,{type:"object",message:"options parameter is not valid"},{responseType:{type:"string",message:"responseType option is required"}}),(t=this.transactionManager.process(t)).scope=t.scope||"openid profile email",j.redirect(this.client.buildAuthorizeUrl(t))},K.prototype.signupAndAuthorize=function(e,t){var r=this;return this.client.dbConnection.signup(B.blacklist(e,["popupHandler"]),function(n){if(n)return t(n);e.realm=e.connection,e.username||(e.username=e.email),r.client.login(e,t)})},K.prototype.login=function(e,t){var r=B.merge(this.baseOptions,["clientID","responseType","redirectUri","scope","audience","_csrf","state","_intstate","nonce","onRedirecting","organization","invitation"]).with(e);r=this.transactionManager.process(r),j.getWindow().location.host===this.baseOptions.domain?(r.connection=r.realm,delete r.realm,this._universalLogin.login(r,t)):this.crossOriginAuthentication.login(r,t)},K.prototype.passwordlessLogin=function(e,t){var r=B.merge(this.baseOptions,["clientID","responseType","redirectUri","scope","audience","_csrf","state","_intstate","nonce","onRedirecting"]).with(e);if(r=this.transactionManager.process(r),j.getWindow().location.host===this.baseOptions.domain)this.passwordlessVerify(r,t);else{var n=B.extend({credentialType:"http://auth0.com/oauth/grant-type/passwordless/otp",realm:r.connection,username:r.email||r.phoneNumber,otp:r.verificationCode},B.blacklist(r,["connection","email","phoneNumber","verificationCode"]));this.crossOriginAuthentication.login(n,t)}},K.prototype.crossOriginAuthenticationCallback=function(){this.crossOriginVerification()},K.prototype.crossOriginVerification=function(){this.crossOriginAuthentication.callback()},K.prototype.logout=function(e){j.redirect(this.client.buildLogoutUrl(e))},K.prototype.passwordlessVerify=function(e,t){var r=this,n=B.merge(this.baseOptions,["clientID","responseType","responseMode","redirectUri","scope","audience","_csrf","state","_intstate","nonce","onRedirecting"]).with(e);return F.check(n,{type:"object",message:"options parameter is not valid"},{responseType:{type:"string",message:"responseType option is required"}}),n=this.transactionManager.process(n),this.client.passwordless.verify(n,function(o){if(o)return t(o);function c(){j.redirect(r.client.passwordless.buildVerifyUrl(n))}if(typeof e.onRedirecting=="function")return e.onRedirecting(function(){c()});c()})},K.prototype.renderCaptcha=function(e,t,r){return Ae.render(this.client,Ae.Flow.DEFAULT,e,t,r)},K.prototype.renderSignupCaptcha=function(e,t,r){return Ae.render(this.client,Ae.Flow.SIGNUP,e,t,r)},K.prototype.renderPasswordlessCaptcha=function(e,t,r){return Ae.render(this.client,Ae.Flow.PASSWORDLESS,e,t,r)},K.prototype.renderPasswordResetCaptcha=function(e,t,r){return Ae.render(this.client,Ae.Flow.PASSWORD_RESET,e,t,r)},mt.prototype.buildVerifyUrl=function(e){var t,r;return F.check(e,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},verificationCode:{type:"string",message:"verificationCode option is required"},phoneNumber:{optional:!1,type:"string",message:"phoneNumber option is required",condition:function(n){return!n.email}},email:{optional:!1,type:"string",message:"email option is required",condition:function(n){return!n.phoneNumber}}}),t=B.merge(this.baseOptions,["clientID","responseType","responseMode","redirectUri","scope","audience","_csrf","state","_intstate","protocol","nonce"]).with(e),this.baseOptions._sendTelemetry&&(t.auth0Client=this.request.getTelemetryData()),t=B.toSnakeCase(t,["auth0Client"]),r=De.stringify(t),V(this.baseOptions.rootUrl,"passwordless","verify_redirect","?"+r)},mt.prototype.start=function(e,t){var r,n;F.check(e,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},send:{type:"string",message:"send option is required",values:["link","code"],value_message:"send is not valid ([link, code])"},phoneNumber:{optional:!0,type:"string",message:"phoneNumber option is required",condition:function(u){return u.send==="code"||!u.email}},email:{optional:!0,type:"string",message:"email option is required",condition:function(u){return u.send==="link"||!u.phoneNumber}},authParams:{optional:!0,type:"object",message:"authParams option is required"}}),F.check(t,{type:"function",message:"cb parameter is not valid"}),r=V(this.baseOptions.rootUrl,"passwordless","start");var o=e.xRequestLanguage;delete e.xRequestLanguage,(n=B.merge(this.baseOptions,["clientID","responseType","redirectUri","scope"]).with(e)).scope&&(n.authParams=n.authParams||{},n.authParams.scope=n.authParams.scope||n.scope),n.redirectUri&&(n.authParams=n.authParams||{},n.authParams.redirect_uri=n.authParams.redirectUri||n.redirectUri),n.responseType&&(n.authParams=n.authParams||{},n.authParams.response_type=n.authParams.responseType||n.responseType),delete n.redirectUri,delete n.responseType,delete n.scope,n=B.toSnakeCase(n,["auth0Client","authParams"]);var c=o?{xRequestLanguage:o}:void 0;return this.request.post(r,c).send(n).end(G(t))},mt.prototype.verify=function(e,t){var r,n;return F.check(e,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},verificationCode:{type:"string",message:"verificationCode option is required"},phoneNumber:{optional:!1,type:"string",message:"phoneNumber option is required",condition:function(o){return!o.email}},email:{optional:!1,type:"string",message:"email option is required",condition:function(o){return!o.phoneNumber}}}),F.check(t,{type:"function",message:"cb parameter is not valid"}),n=B.pick(e,["connection","verificationCode","phoneNumber","email","auth0Client","clientID"]),n=B.toSnakeCase(n,["auth0Client"]),r=V(this.baseOptions.rootUrl,"passwordless","verify"),this.request.post(r).send(n).end(G(t))},mt.prototype.getChallenge=function(e){if(F.check(e,{type:"function",message:"cb parameter is not valid"}),!this.baseOptions.state)return e();var t=V(this.baseOptions.rootUrl,"passwordless","challenge");return this.request.post(t).send({state:this.baseOptions.state}).end(G(e,{ignoreCasing:!0}))},gt.prototype.signup=function(e,t){var r,n,o;return F.check(e,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},email:{type:"string",message:"email option is required"},password:{type:"string",message:"password option is required"}}),F.check(t,{type:"function",message:"cb parameter is not valid"}),r=V(this.baseOptions.rootUrl,"dbconnections","signup"),o=(n=B.merge(this.baseOptions,["clientID","state"]).with(e)).user_metadata||n.userMetadata,n=B.blacklist(n,["scope","userMetadata","user_metadata"]),n=B.toSnakeCase(n,["auth0Client"]),o&&(n.user_metadata=o),this.request.post(r).send(n).end(G(t))},gt.prototype.changePassword=function(e,t){var r,n;return F.check(e,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},email:{type:"string",message:"email option is required"}}),F.check(t,{type:"function",message:"cb parameter is not valid"}),r=V(this.baseOptions.rootUrl,"dbconnections","change_password"),n=B.merge(this.baseOptions,["clientID","state"]).with(e,["email","connection","captcha"]),n=B.toSnakeCase(n,["auth0Client"]),this.request.post(r).send(n).end(G(t))},gt.prototype.getPasswordResetChallenge=function(e){if(F.check(e,{type:"function",message:"cb parameter is not valid"}),!this.baseOptions.state)return e();var t=V(this.baseOptions.rootUrl,"dbconnections","change_password","challenge");return this.request.post(t).send({state:this.baseOptions.state}).end(G(e,{ignoreCasing:!0}))},gt.prototype.getSignupChallenge=function(e){if(F.check(e,{type:"function",message:"cb parameter is not valid"}),!this.baseOptions.state)return e();var t=V(this.baseOptions.rootUrl,"dbconnections","signup","challenge");return this.request.post(t).send({state:this.baseOptions.state}).end(G(e,{ignoreCasing:!0}))},ae.prototype.buildAuthorizeUrl=function(e){var t,r;return F.check(e,{type:"object",message:"options parameter is not valid"}),t=B.merge(this.baseOptions,["clientID","responseType","responseMode","redirectUri","scope","audience"]).with(e),F.check(t,{type:"object",message:"options parameter is not valid"},{clientID:{type:"string",message:"clientID option is required"},redirectUri:{optional:!0,type:"string",message:"redirectUri option is required"},responseType:{type:"string",message:"responseType option is required"},nonce:{type:"string",message:"nonce option is required",condition:function(n){return n.responseType.indexOf("code")===-1&&n.responseType.indexOf("id_token")!==-1}},scope:{optional:!0,type:"string",message:"scope option is required"},audience:{optional:!0,type:"string",message:"audience option is required"}}),this.baseOptions._sendTelemetry&&(t.auth0Client=this.request.getTelemetryData()),t.connection_scope&&F.isArray(t.connection_scope)&&(t.connection_scope=t.connection_scope.join(",")),t=B.blacklist(t,["username","popupOptions","domain","tenant","timeout","appState"]),t=B.toSnakeCase(t,["auth0Client"]),t=on.oauthAuthorizeParams(this.warn,t),r=De.stringify(t),V(this.baseOptions.rootUrl,"authorize","?"+r)},ae.prototype.buildLogoutUrl=function(e){var t,r;return F.check(e,{optional:!0,type:"object",message:"options parameter is not valid"}),t=B.merge(this.baseOptions,["clientID"]).with(e||{}),this.baseOptions._sendTelemetry&&(t.auth0Client=this.request.getTelemetryData()),t=B.toSnakeCase(t,["auth0Client","returnTo"]),r=De.stringify(B.blacklist(t,["federated"])),e&&e.federated!==void 0&&e.federated!==!1&&e.federated!=="false"&&(r+="&federated"),V(this.baseOptions.rootUrl,"v2","logout","?"+r)},ae.prototype.loginWithDefaultDirectory=function(e,t){return F.check(e,{type:"object",message:"options parameter is not valid"},{username:{type:"string",message:"username option is required"},password:{type:"string",message:"password option is required"},scope:{optional:!0,type:"string",message:"scope option is required"},audience:{optional:!0,type:"string",message:"audience option is required"}}),e.grantType="password",this.oauthToken(e,t)},ae.prototype.login=function(e,t){return F.check(e,{type:"object",message:"options parameter is not valid"},{username:{type:"string",message:"username option is required"},password:{type:"string",message:"password option is required"},realm:{type:"string",message:"realm option is required"},scope:{optional:!0,type:"string",message:"scope option is required"},audience:{optional:!0,type:"string",message:"audience option is required"}}),e.grantType="http://auth0.com/oauth/grant-type/password-realm",this.oauthToken(e,t)},ae.prototype.oauthToken=function(e,t){var r,n;return F.check(e,{type:"object",message:"options parameter is not valid"}),F.check(t,{type:"function",message:"cb parameter is not valid"}),r=V(this.baseOptions.rootUrl,"oauth","token"),n=B.merge(this.baseOptions,["clientID","scope","audience"]).with(e),F.check(n,{type:"object",message:"options parameter is not valid"},{clientID:{type:"string",message:"clientID option is required"},grantType:{type:"string",message:"grantType option is required"},scope:{optional:!0,type:"string",message:"scope option is required"},audience:{optional:!0,type:"string",message:"audience option is required"}}),n=B.toSnakeCase(n,["auth0Client"]),n=on.oauthTokenParams(this.warn,n),this.request.post(r).send(n).end(G(t))},ae.prototype.loginWithResourceOwner=function(e,t){var r,n;return F.check(e,{type:"object",message:"options parameter is not valid"},{username:{type:"string",message:"username option is required"},password:{type:"string",message:"password option is required"},connection:{type:"string",message:"connection option is required"},scope:{optional:!0,type:"string",message:"scope option is required"}}),F.check(t,{type:"function",message:"cb parameter is not valid"}),r=V(this.baseOptions.rootUrl,"oauth","ro"),n=B.merge(this.baseOptions,["clientID","scope"]).with(e,["username","password","scope","connection","device"]),(n=B.toSnakeCase(n,["auth0Client"])).grant_type=n.grant_type||"password",this.request.post(r).send(n).end(G(t))},ae.prototype.getSSOData=function(e,t){if(this.auth0||(this.auth0=new K(this.baseOptions)),j.getWindow().location.host===this.baseOptions.domain)return this.auth0._universalLogin.getSSOData(e,t);typeof e=="function"&&(t=e),F.check(t,{type:"function",message:"cb parameter is not valid"});var r=this.baseOptions.clientID,n=this.ssodataStorage.get()||{};this.auth0.checkSession({responseType:"token id_token",scope:"openid profile email",connection:n.lastUsedConnection,timeout:5e3},function(o,c){return o?o.error==="login_required"?t(null,{sso:!1}):(o.error==="consent_required"&&(o.error_description="Consent required. When using `getSSOData`, the user has to be authenticated with the following scope: `openid profile email`."),t(o,{sso:!1})):n.lastUsedSub&&n.lastUsedSub!==c.idTokenPayload.sub?t(o,{sso:!1}):t(null,{lastUsedConnection:{name:n.lastUsedConnection},lastUsedUserID:c.idTokenPayload.sub,lastUsedUsername:c.idTokenPayload.email||c.idTokenPayload.name,lastUsedClientID:r,sessionClients:[r],sso:!0})})},ae.prototype.userInfo=function(e,t){var r;return F.check(e,{type:"string",message:"accessToken parameter is not valid"}),F.check(t,{type:"function",message:"cb parameter is not valid"}),r=V(this.baseOptions.rootUrl,"userinfo"),this.request.get(r).set("Authorization","Bearer "+e).end(G(t,{ignoreCasing:!0}))},ae.prototype.getChallenge=function(e){if(F.check(e,{type:"function",message:"cb parameter is not valid"}),!this.baseOptions.state)return e();var t=V(this.baseOptions.rootUrl,"usernamepassword","challenge");return this.request.post(t).send({state:this.baseOptions.state}).end(G(e,{ignoreCasing:!0}))},ae.prototype.delegation=function(e,t){var r,n;return F.check(e,{type:"object",message:"options parameter is not valid"},{grant_type:{type:"string",message:"grant_type option is required"}}),F.check(t,{type:"function",message:"cb parameter is not valid"}),r=V(this.baseOptions.rootUrl,"delegation"),n=B.merge(this.baseOptions,["clientID"]).with(e),n=B.toSnakeCase(n,["auth0Client"]),this.request.post(r).send(n).end(G(t))},ae.prototype.getUserCountry=function(e){var t;return F.check(e,{type:"function",message:"cb parameter is not valid"}),t=V(this.baseOptions.rootUrl,"user","geoloc","country"),this.request.get(t).end(G(e))},vt.prototype.getUser=function(e,t){var r;return F.check(e,{type:"string",message:"userId parameter is not valid"}),F.check(t,{type:"function",message:"cb parameter is not valid"}),r=V(this.baseOptions.rootUrl,"users",e),this.request.get(r).end(G(t,{ignoreCasing:!0}))},vt.prototype.patchUserMetadata=function(e,t,r){var n;return F.check(e,{type:"string",message:"userId parameter is not valid"}),F.check(t,{type:"object",message:"userMetadata parameter is not valid"}),F.check(r,{type:"function",message:"cb parameter is not valid"}),n=V(this.baseOptions.rootUrl,"users",e),this.request.patch(n).send({user_metadata:t}).end(G(r,{ignoreCasing:!0}))},vt.prototype.patchUserAttributes=function(e,t,r){var n;return F.check(e,{type:"string",message:"userId parameter is not valid"}),F.check(t,{type:"object",message:"user parameter is not valid"}),F.check(r,{type:"function",message:"cb parameter is not valid"}),n=V(this.baseOptions.rootUrl,"users",e),this.request.patch(n).send(t).end(G(r,{ignoreCasing:!0}))},vt.prototype.linkUser=function(e,t,r){var n;return F.check(e,{type:"string",message:"userId parameter is not valid"}),F.check(t,{type:"string",message:"secondaryUserToken parameter is not valid"}),F.check(r,{type:"function",message:"cb parameter is not valid"}),n=V(this.baseOptions.rootUrl,"users",e,"identities"),this.request.post(n).send({link_with:t}).end(G(r,{ignoreCasing:!0}))};var So={Authentication:ae,Management:vt,WebAuth:K,version:bt};class Do extends Bn{constructor(r){super(r);Je(this,"clientid");Je(this,"connection");Je(this,"authenticate",async r=>{if(!r||r.length===0)return!0;const n=this.getResponseMap(r);console.log("Token: ",n.get("access_token"));const o=n.get("#access_token");if(o){const c=this.getRedirectURI();try{const u=await Nn("psama/authentication/auth0",{access_token:o,redirectURI:c});return u!=null&&u.token?(await Fn(u.token),!1):!0}catch(u){return console.error("Login Error: ",u),!0}}return!0});Je(this,"login",async(r,n)=>{const o=this.getRedirectURI();return this.saveState(r,n),new So.WebAuth({domain:Hn.auth0Tenant+".auth0.com",clientID:this.clientid||"",redirectUri:o,responseType:"token"}).authorize({responseType:"token",connection:this.connection})});Je(this,"logout",async()=>{throw new Error("Method not implemented.")});this.clientid=r.clientid,this.connection=r.connection}}export{Do as default};
