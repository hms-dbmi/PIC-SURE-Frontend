import{g as Vp,c as Yp}from"./Cpj98o6Y.js";function Up(br,lr){for(var Ja=0;Ja<lr.length;Ja++){const sr=lr[Ja];if(typeof sr!="string"&&!Array.isArray(sr)){for(const ur in sr)if(ur!=="default"&&!(ur in br)){const Dr=Object.getOwnPropertyDescriptor(sr,ur);Dr&&Object.defineProperty(br,ur,Dr.get?Dr:{enumerable:!0,get:()=>sr[ur]})}}}return Object.freeze(Object.defineProperty(br,Symbol.toStringTag,{value:"Module"}))}var iu={exports:{}};(function(br){(function(lr,Ja){br.exports?br.exports=Ja():lr.moduleName=Ja()})(typeof self<"u"?self:Yp,()=>{var lr=(()=>{var Ja=Object.defineProperty,sr=Object.getOwnPropertyDescriptor,ur=Object.getOwnPropertyNames,Dr=Object.prototype.hasOwnProperty,Po=(F,C)=>()=>(F&&(C=F(F=0)),C),Ct=(F,C)=>()=>(C||F((C={exports:{}}).exports,C),C.exports),lu=(F,C,r,t)=>{if(C&&typeof C=="object"||typeof C=="function")for(let n of ur(C))!Dr.call(F,n)&&n!==r&&Ja(F,n,{get:()=>C[n],enumerable:!(t=sr(C,n))||t.enumerable});return F},su=F=>lu(Ja({},"__esModule",{value:!0}),F),wi=Ct(F=>{F.version="3.1.0"}),uu=Ct((F,C)=>{(function(r,t,n){t[r]=t[r]||n(),typeof C<"u"&&C.exports&&(C.exports=t[r])})("Promise",typeof window<"u"?window:F,function(){var r,t,n,l=Object.prototype.toString,i=typeof setImmediate<"u"?function(p){return setImmediate(p)}:setTimeout;try{Object.defineProperty({},"x",{}),r=function(p,c,d,b){return Object.defineProperty(p,c,{value:d,writable:!0,configurable:b!==!1})}}catch{r=function(c,d,b){return c[d]=b,c}}n=(function(){var p,c,d;function b(w,k){this.fn=w,this.self=k,this.next=void 0}return{add:function(w,k){d=new b(w,k),c?c.next=d:p=d,c=d,d=void 0},drain:function(){var w=p;for(p=c=t=void 0;w;)w.fn.call(w.self),w=w.next}}})();function o(p,c){n.add(p,c),t||(t=i(n.drain))}function s(p){var c,d=typeof p;return p!=null&&(d=="object"||d=="function")&&(c=p.then),typeof c=="function"?c:!1}function f(){for(var p=0;p<this.chain.length;p++)e(this,this.state===1?this.chain[p].success:this.chain[p].failure,this.chain[p]);this.chain.length=0}function e(p,c,d){var b,w;try{c===!1?d.reject(p.msg):(c===!0?b=p.msg:b=c.call(void 0,p.msg),b===d.promise?d.reject(TypeError("Promise-chain cycle")):(w=s(b))?w.call(b,d.resolve,d.reject):d.resolve(b))}catch(k){d.reject(k)}}function v(p){var c,d=this;if(!d.triggered){d.triggered=!0,d.def&&(d=d.def);try{(c=s(p))?o(function(){var b=new _(d);try{c.call(p,function(){v.apply(b,arguments)},function(){u.apply(b,arguments)})}catch(w){u.call(b,w)}}):(d.msg=p,d.state=1,d.chain.length>0&&o(f,d))}catch(b){u.call(new _(d),b)}}}function u(p){var c=this;c.triggered||(c.triggered=!0,c.def&&(c=c.def),c.msg=p,c.state=2,c.chain.length>0&&o(f,c))}function h(p,c,d,b){for(var w=0;w<c.length;w++)(function(k){p.resolve(c[k]).then(function($){d(k,$)},b)})(w)}function _(p){this.def=p,this.triggered=!1}function m(p){this.promise=p,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function g(p){if(typeof p!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var c=new m(this);this.then=function(d,b){var w={success:typeof d=="function"?d:!0,failure:typeof b=="function"?b:!1};return w.promise=new this.constructor(function(k,$){if(typeof k!="function"||typeof $!="function")throw TypeError("Not a function");w.resolve=k,w.reject=$}),c.chain.push(w),c.state!==0&&o(f,c),w.promise},this.catch=function(d){return this.then(void 0,d)};try{p.call(void 0,function(d){v.call(c,d)},function(d){u.call(c,d)})}catch(d){u.call(c,d)}}var y=r({},"constructor",g,!1);return g.prototype=y,r(y,"__NPO__",0,!1),r(g,"resolve",function(p){var c=this;return p&&typeof p=="object"&&p.__NPO__===1?p:new c(function(d,b){if(typeof d!="function"||typeof b!="function")throw TypeError("Not a function");d(p)})}),r(g,"reject",function(p){return new this(function(c,d){if(typeof c!="function"||typeof d!="function")throw TypeError("Not a function");d(p)})}),r(g,"all",function(p){var c=this;return l.call(p)!="[object Array]"?c.reject(TypeError("Not an array")):p.length===0?c.resolve([]):new c(function(d,b){if(typeof d!="function"||typeof b!="function")throw TypeError("Not a function");var w=p.length,k=Array(w),$=0;h(c,p,function(P,O){k[P]=O,++$===w&&d(k)},b)})}),r(g,"race",function(p){var c=this;return l.call(p)!="[object Array]"?c.reject(TypeError("Not an array")):new c(function(d,b){if(typeof d!="function"||typeof b!="function")throw TypeError("Not a function");h(c,p,function(w,k){d(k)},b)})}),g})}),wn=Ct((F,C)=>{(function(){var r={version:"3.8.2"},t=[].slice,n=function(a){return t.call(a)},l=self.document;function i(a){return a&&(a.ownerDocument||a.document||a).documentElement}function o(a){return a&&(a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView)}if(l)try{n(l.documentElement.childNodes)[0].nodeType}catch{n=function(x){for(var L=x.length,B=new Array(L);L--;)B[L]=x[L];return B}}if(Date.now||(Date.now=function(){return+new Date}),l)try{l.createElement("DIV").style.setProperty("opacity",0,"")}catch{var s=this.Element.prototype,f=s.setAttribute,e=s.setAttributeNS,v=this.CSSStyleDeclaration.prototype,u=v.setProperty;s.setAttribute=function(x,L){f.call(this,x,L+"")},s.setAttributeNS=function(x,L,B){e.call(this,x,L,B+"")},v.setProperty=function(x,L,B){u.call(this,x,L+"",B)}}r.ascending=h;function h(a,x){return a<x?-1:a>x?1:a>=x?0:NaN}r.descending=function(a,x){return x<a?-1:x>a?1:x>=a?0:NaN},r.min=function(a,x){var L=-1,B=a.length,q,et;if(arguments.length===1){for(;++L<B;)if((et=a[L])!=null&&et>=et){q=et;break}for(;++L<B;)(et=a[L])!=null&&q>et&&(q=et)}else{for(;++L<B;)if((et=x.call(a,a[L],L))!=null&&et>=et){q=et;break}for(;++L<B;)(et=x.call(a,a[L],L))!=null&&q>et&&(q=et)}return q},r.max=function(a,x){var L=-1,B=a.length,q,et;if(arguments.length===1){for(;++L<B;)if((et=a[L])!=null&&et>=et){q=et;break}for(;++L<B;)(et=a[L])!=null&&et>q&&(q=et)}else{for(;++L<B;)if((et=x.call(a,a[L],L))!=null&&et>=et){q=et;break}for(;++L<B;)(et=x.call(a,a[L],L))!=null&&et>q&&(q=et)}return q},r.extent=function(a,x){var L=-1,B=a.length,q,et,vt;if(arguments.length===1){for(;++L<B;)if((et=a[L])!=null&&et>=et){q=vt=et;break}for(;++L<B;)(et=a[L])!=null&&(q>et&&(q=et),vt<et&&(vt=et))}else{for(;++L<B;)if((et=x.call(a,a[L],L))!=null&&et>=et){q=vt=et;break}for(;++L<B;)(et=x.call(a,a[L],L))!=null&&(q>et&&(q=et),vt<et&&(vt=et))}return[q,vt]};function _(a){return a===null?NaN:+a}function m(a){return!isNaN(a)}r.sum=function(a,x){var L=0,B=a.length,q,et=-1;if(arguments.length===1)for(;++et<B;)m(q=+a[et])&&(L+=q);else for(;++et<B;)m(q=+x.call(a,a[et],et))&&(L+=q);return L},r.mean=function(a,x){var L=0,B=a.length,q,et=-1,vt=B;if(arguments.length===1)for(;++et<B;)m(q=_(a[et]))?L+=q:--vt;else for(;++et<B;)m(q=_(x.call(a,a[et],et)))?L+=q:--vt;if(vt)return L/vt},r.quantile=function(a,x){var L=(a.length-1)*x+1,B=Math.floor(L),q=+a[B-1],et=L-B;return et?q+et*(a[B]-q):q},r.median=function(a,x){var L=[],B=a.length,q,et=-1;if(arguments.length===1)for(;++et<B;)m(q=_(a[et]))&&L.push(q);else for(;++et<B;)m(q=_(x.call(a,a[et],et)))&&L.push(q);if(L.length)return r.quantile(L.sort(h),.5)},r.variance=function(a,x){var L=a.length,B=0,q,et,vt=0,ct=-1,wt=0;if(arguments.length===1)for(;++ct<L;)m(q=_(a[ct]))&&(et=q-B,B+=et/++wt,vt+=et*(q-B));else for(;++ct<L;)m(q=_(x.call(a,a[ct],ct)))&&(et=q-B,B+=et/++wt,vt+=et*(q-B));if(wt>1)return vt/(wt-1)},r.deviation=function(){var a=r.variance.apply(this,arguments);return a&&Math.sqrt(a)};function g(a){return{left:function(x,L,B,q){for(arguments.length<3&&(B=0),arguments.length<4&&(q=x.length);B<q;){var et=B+q>>>1;a(x[et],L)<0?B=et+1:q=et}return B},right:function(x,L,B,q){for(arguments.length<3&&(B=0),arguments.length<4&&(q=x.length);B<q;){var et=B+q>>>1;a(x[et],L)>0?q=et:B=et+1}return B}}}var y=g(h);r.bisectLeft=y.left,r.bisect=r.bisectRight=y.right,r.bisector=function(a){return g(a.length===1?function(x,L){return h(a(x),L)}:a)},r.shuffle=function(a,x,L){(B=arguments.length)<3&&(L=a.length,B<2&&(x=0));for(var B=L-x,q,et;B;)et=Math.random()*B--|0,q=a[B+x],a[B+x]=a[et+x],a[et+x]=q;return a},r.permute=function(a,x){for(var L=x.length,B=new Array(L);L--;)B[L]=a[x[L]];return B},r.pairs=function(a){for(var x=0,L=a.length-1,B,q=a[0],et=new Array(L<0?0:L);x<L;)et[x]=[B=q,q=a[++x]];return et},r.transpose=function(a){if(!(et=a.length))return[];for(var x=-1,L=r.min(a,p),B=new Array(L);++x<L;)for(var q=-1,et,vt=B[x]=new Array(et);++q<et;)vt[q]=a[q][x];return B};function p(a){return a.length}r.zip=function(){return r.transpose(arguments)},r.keys=function(a){var x=[];for(var L in a)x.push(L);return x},r.values=function(a){var x=[];for(var L in a)x.push(a[L]);return x},r.entries=function(a){var x=[];for(var L in a)x.push({key:L,value:a[L]});return x},r.merge=function(a){for(var x=a.length,L,B=-1,q=0,et,vt;++B<x;)q+=a[B].length;for(et=new Array(q);--x>=0;)for(vt=a[x],L=vt.length;--L>=0;)et[--q]=vt[L];return et};var c=Math.abs;r.range=function(a,x,L){if(arguments.length<3&&(L=1,arguments.length<2&&(x=a,a=0)),(x-a)/L===1/0)throw new Error("infinite range");var B=[],q=d(c(L)),et=-1,vt;if(a*=q,x*=q,L*=q,L<0)for(;(vt=a+L*++et)>x;)B.push(vt/q);else for(;(vt=a+L*++et)<x;)B.push(vt/q);return B};function d(a){for(var x=1;a*x%1;)x*=10;return x}function b(a,x){for(var L in x)Object.defineProperty(a.prototype,L,{value:x[L],enumerable:!1})}r.map=function(a,x){var L=new w;if(a instanceof w)a.forEach(function(ct,wt){L.set(ct,wt)});else if(Array.isArray(a)){var B=-1,q=a.length,et;if(arguments.length===1)for(;++B<q;)L.set(B,a[B]);else for(;++B<q;)L.set(x.call(a,et=a[B],B),et)}else for(var vt in a)L.set(vt,a[vt]);return L};function w(){this._=Object.create(null)}var k="__proto__",$="\0";b(w,{has:T,get:function(a){return this._[P(a)]},set:function(a,x){return this._[P(a)]=x},remove:G,keys:I,values:function(){var a=[];for(var x in this._)a.push(this._[x]);return a},entries:function(){var a=[];for(var x in this._)a.push({key:O(x),value:this._[x]});return a},size:E,empty:z,forEach:function(a){for(var x in this._)a.call(this,O(x),this._[x])}});function P(a){return(a+="")===k||a[0]===$?$+a:a}function O(a){return(a+="")[0]===$?a.slice(1):a}function T(a){return P(a)in this._}function G(a){return(a=P(a))in this._&&delete this._[a]}function I(){var a=[];for(var x in this._)a.push(O(x));return a}function E(){var a=0;for(var x in this._)++a;return a}function z(){for(var a in this._)return!1;return!0}r.nest=function(){var a={},x=[],L=[],B,q;function et(ct,wt,St){if(St>=x.length)return q?q.call(a,wt):B?wt.sort(B):wt;for(var Ot=-1,Gt=wt.length,Qt=x[St++],de,_e,te,ue=new w,ce;++Ot<Gt;)(ce=ue.get(de=Qt(_e=wt[Ot])))?ce.push(_e):ue.set(de,[_e]);return ct?(_e=ct(),te=function(xe,be){_e.set(xe,et(ct,be,St))}):(_e={},te=function(xe,be){_e[xe]=et(ct,be,St)}),ue.forEach(te),_e}function vt(ct,wt){if(wt>=x.length)return ct;var St=[],Ot=L[wt++];return ct.forEach(function(Gt,Qt){St.push({key:Gt,values:vt(Qt,wt)})}),Ot?St.sort(function(Gt,Qt){return Ot(Gt.key,Qt.key)}):St}return a.map=function(ct,wt){return et(wt,ct,0)},a.entries=function(ct){return vt(et(r.map,ct,0),0)},a.key=function(ct){return x.push(ct),a},a.sortKeys=function(ct){return L[x.length-1]=ct,a},a.sortValues=function(ct){return B=ct,a},a.rollup=function(ct){return q=ct,a},a},r.set=function(a){var x=new j;if(a)for(var L=0,B=a.length;L<B;++L)x.add(a[L]);return x};function j(){this._=Object.create(null)}b(j,{has:T,add:function(a){return this._[P(a+="")]=!0,a},remove:G,values:I,size:E,empty:z,forEach:function(a){for(var x in this._)a.call(this,O(x))}}),r.behavior={};function U(a){return a}r.rebind=function(a,x){for(var L=1,B=arguments.length,q;++L<B;)a[q=arguments[L]]=Z(a,x,x[q]);return a};function Z(a,x,L){return function(){var B=L.apply(x,arguments);return B===x?a:B}}function D(a,x){if(x in a)return x;x=x.charAt(0).toUpperCase()+x.slice(1);for(var L=0,B=W.length;L<B;++L){var q=W[L]+x;if(q in a)return q}}var W=["webkit","ms","moz","Moz","o","O"];function X(){}r.dispatch=function(){for(var a=new it,x=-1,L=arguments.length;++x<L;)a[arguments[x]]=nt(a);return a};function it(){}it.prototype.on=function(a,x){var L=a.indexOf("."),B="";if(L>=0&&(B=a.slice(L+1),a=a.slice(0,L)),a)return arguments.length<2?this[a].on(B):this[a].on(B,x);if(arguments.length===2){if(x==null)for(a in this)this.hasOwnProperty(a)&&this[a].on(B,null);return this}};function nt(a){var x=[],L=new w;function B(){for(var q=x,et=-1,vt=q.length,ct;++et<vt;)(ct=q[et].on)&&ct.apply(this,arguments);return a}return B.on=function(q,et){var vt=L.get(q),ct;return arguments.length<2?vt&&vt.on:(vt&&(vt.on=null,x=x.slice(0,ct=x.indexOf(vt)).concat(x.slice(ct+1)),L.remove(q)),et&&x.push(L.set(q,{on:et})),a)},B}r.event=null;function ot(){r.event.preventDefault()}function dt(){for(var a=r.event,x;x=a.sourceEvent;)a=x;return a}function ht(a){for(var x=new it,L=0,B=arguments.length;++L<B;)x[arguments[L]]=nt(x);return x.of=function(q,et){return function(vt){try{var ct=vt.sourceEvent=r.event;vt.target=a,r.event=vt,x[vt.type].apply(q,et)}finally{r.event=ct}}},x}r.requote=function(a){return a.replace(xt,"\\$&")};var xt=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,H={}.__proto__?function(a,x){a.__proto__=x}:function(a,x){for(var L in x)a[L]=x[L]};function Y(a){return H(a,N),a}var A=function(a,x){return x.querySelector(a)},J=function(a,x){return x.querySelectorAll(a)},at=function(a,x){var L=a.matches||a[D(a,"matchesSelector")];return at=function(B,q){return L.call(B,q)},at(a,x)};typeof Sizzle=="function"&&(A=function(a,x){return Sizzle(a,x)[0]||null},J=Sizzle,at=Sizzle.matchesSelector),r.selection=function(){return r.select(l.documentElement)};var N=r.selection.prototype=[];N.select=function(a){var x=[],L,B,q,et;a=M(a);for(var vt=-1,ct=this.length;++vt<ct;){x.push(L=[]),L.parentNode=(q=this[vt]).parentNode;for(var wt=-1,St=q.length;++wt<St;)(et=q[wt])?(L.push(B=a.call(et,et.__data__,wt,vt)),B&&"__data__"in et&&(B.__data__=et.__data__)):L.push(null)}return Y(x)};function M(a){return typeof a=="function"?a:function(){return A(a,this)}}N.selectAll=function(a){var x=[],L,B;a=S(a);for(var q=-1,et=this.length;++q<et;)for(var vt=this[q],ct=-1,wt=vt.length;++ct<wt;)(B=vt[ct])&&(x.push(L=n(a.call(B,B.__data__,ct,q))),L.parentNode=B);return Y(x)};function S(a){return typeof a=="function"?a:function(){return J(a,this)}}var R="http://www.w3.org/1999/xhtml",V={svg:"http://www.w3.org/2000/svg",xhtml:R,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};r.ns={prefix:V,qualify:function(a){var x=a.indexOf(":"),L=a;return x>=0&&(L=a.slice(0,x))!=="xmlns"&&(a=a.slice(x+1)),V.hasOwnProperty(L)?{space:V[L],local:a}:a}},N.attr=function(a,x){if(arguments.length<2){if(typeof a=="string"){var L=this.node();return a=r.ns.qualify(a),a.local?L.getAttributeNS(a.space,a.local):L.getAttribute(a)}for(x in a)this.each(rt(x,a[x]));return this}return this.each(rt(a,x))};function rt(a,x){a=r.ns.qualify(a);function L(){this.removeAttribute(a)}function B(){this.removeAttributeNS(a.space,a.local)}function q(){this.setAttribute(a,x)}function et(){this.setAttributeNS(a.space,a.local,x)}function vt(){var wt=x.apply(this,arguments);wt==null?this.removeAttribute(a):this.setAttribute(a,wt)}function ct(){var wt=x.apply(this,arguments);wt==null?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,wt)}return x==null?a.local?B:L:typeof x=="function"?a.local?ct:vt:a.local?et:q}function st(a){return a.trim().replace(/\s+/g," ")}N.classed=function(a,x){if(arguments.length<2){if(typeof a=="string"){var L=this.node(),B=(a=_t(a)).length,q=-1;if(x=L.classList){for(;++q<B;)if(!x.contains(a[q]))return!1}else for(x=L.getAttribute("class");++q<B;)if(!ut(a[q]).test(x))return!1;return!0}for(x in a)this.each(Tt(x,a[x]));return this}return this.each(Tt(a,x))};function ut(a){return new RegExp("(?:^|\\s+)"+r.requote(a)+"(?:\\s+|$)","g")}function _t(a){return(a+"").trim().split(/^|\s+/)}function Tt(a,x){a=_t(a).map(Ft);var L=a.length;function B(){for(var et=-1;++et<L;)a[et](this,x)}function q(){for(var et=-1,vt=x.apply(this,arguments);++et<L;)a[et](this,vt)}return typeof x=="function"?q:B}function Ft(a){var x=ut(a);return function(L,B){if(q=L.classList)return B?q.add(a):q.remove(a);var q=L.getAttribute("class")||"";B?(x.lastIndex=0,x.test(q)||L.setAttribute("class",st(q+" "+a))):L.setAttribute("class",st(q.replace(x," ")))}}N.style=function(a,x,L){var B=arguments.length;if(B<3){if(typeof a!="string"){B<2&&(x="");for(L in a)this.each(Zt(L,a[L],x));return this}if(B<2){var q=this.node();return o(q).getComputedStyle(q,null).getPropertyValue(a)}L=""}return this.each(Zt(a,x,L))};function Zt(a,x,L){function B(){this.style.removeProperty(a)}function q(){this.style.setProperty(a,x,L)}function et(){var vt=x.apply(this,arguments);vt==null?this.style.removeProperty(a):this.style.setProperty(a,vt,L)}return x==null?B:typeof x=="function"?et:q}N.property=function(a,x){if(arguments.length<2){if(typeof a=="string")return this.node()[a];for(x in a)this.each(Bt(x,a[x]));return this}return this.each(Bt(a,x))};function Bt(a,x){function L(){delete this[a]}function B(){this[a]=x}function q(){var et=x.apply(this,arguments);et==null?delete this[a]:this[a]=et}return x==null?L:typeof x=="function"?q:B}N.text=function(a){return arguments.length?this.each(typeof a=="function"?function(){var x=a.apply(this,arguments);this.textContent=x??""}:a==null?function(){this.textContent=""}:function(){this.textContent=a}):this.node().textContent},N.html=function(a){return arguments.length?this.each(typeof a=="function"?function(){var x=a.apply(this,arguments);this.innerHTML=x??""}:a==null?function(){this.innerHTML=""}:function(){this.innerHTML=a}):this.node().innerHTML},N.append=function(a){return a=Rt(a),this.select(function(){return this.appendChild(a.apply(this,arguments))})};function Rt(a){function x(){var B=this.ownerDocument,q=this.namespaceURI;return q===R&&B.documentElement.namespaceURI===R?B.createElement(a):B.createElementNS(q,a)}function L(){return this.ownerDocument.createElementNS(a.space,a.local)}return typeof a=="function"?a:(a=r.ns.qualify(a)).local?L:x}N.insert=function(a,x){return a=Rt(a),x=M(x),this.select(function(){return this.insertBefore(a.apply(this,arguments),x.apply(this,arguments)||null)})},N.remove=function(){return this.each(pt)};function pt(){var a=this.parentNode;a&&a.removeChild(this)}N.data=function(a,x){var L=-1,B=this.length,q,et;if(!arguments.length){for(a=new Array(B=(q=this[0]).length);++L<B;)(et=q[L])&&(a[L]=et.__data__);return a}function vt(Ot,Gt){var Qt,de=Ot.length,_e=Gt.length,te=Math.min(de,_e),ue=new Array(_e),ce=new Array(_e),xe=new Array(de),be,fe;if(x){var Ie=new w,We=new Array(de),qe;for(Qt=-1;++Qt<de;)(be=Ot[Qt])&&(Ie.has(qe=x.call(be,be.__data__,Qt))?xe[Qt]=be:Ie.set(qe,be),We[Qt]=qe);for(Qt=-1;++Qt<_e;)(be=Ie.get(qe=x.call(Gt,fe=Gt[Qt],Qt)))?be!==!0&&(ue[Qt]=be,be.__data__=fe):ce[Qt]=bt(fe),Ie.set(qe,!0);for(Qt=-1;++Qt<de;)Qt in We&&Ie.get(We[Qt])!==!0&&(xe[Qt]=Ot[Qt])}else{for(Qt=-1;++Qt<te;)be=Ot[Qt],fe=Gt[Qt],be?(be.__data__=fe,ue[Qt]=be):ce[Qt]=bt(fe);for(;Qt<_e;++Qt)ce[Qt]=bt(Gt[Qt]);for(;Qt<de;++Qt)xe[Qt]=Ot[Qt]}ce.update=ue,ce.parentNode=ue.parentNode=xe.parentNode=Ot.parentNode,ct.push(ce),wt.push(ue),St.push(xe)}var ct=Yt([]),wt=Y([]),St=Y([]);if(typeof a=="function")for(;++L<B;)vt(q=this[L],a.call(q,q.parentNode.__data__,L));else for(;++L<B;)vt(q=this[L],a);return wt.enter=function(){return ct},wt.exit=function(){return St},wt};function bt(a){return{__data__:a}}N.datum=function(a){return arguments.length?this.property("__data__",a):this.property("__data__")},N.filter=function(a){var x=[],L,B,q;typeof a!="function"&&(a=lt(a));for(var et=0,vt=this.length;et<vt;et++){x.push(L=[]),L.parentNode=(B=this[et]).parentNode;for(var ct=0,wt=B.length;ct<wt;ct++)(q=B[ct])&&a.call(q,q.__data__,ct,et)&&L.push(q)}return Y(x)};function lt(a){return function(){return at(this,a)}}N.order=function(){for(var a=-1,x=this.length;++a<x;)for(var L=this[a],B=L.length-1,q=L[B],et;--B>=0;)(et=L[B])&&(q&&q!==et.nextSibling&&q.parentNode.insertBefore(et,q),q=et);return this},N.sort=function(a){a=kt.apply(this,arguments);for(var x=-1,L=this.length;++x<L;)this[x].sort(a);return this.order()};function kt(a){return arguments.length||(a=h),function(x,L){return x&&L?a(x.__data__,L.__data__):!x-!L}}N.each=function(a){return Nt(this,function(x,L,B){a.call(x,x.__data__,L,B)})};function Nt(a,x){for(var L=0,B=a.length;L<B;L++)for(var q=a[L],et=0,vt=q.length,ct;et<vt;et++)(ct=q[et])&&x(ct,et,L);return a}N.call=function(a){var x=n(arguments);return a.apply(x[0]=this,x),this},N.empty=function(){return!this.node()},N.node=function(){for(var a=0,x=this.length;a<x;a++)for(var L=this[a],B=0,q=L.length;B<q;B++){var et=L[B];if(et)return et}return null},N.size=function(){var a=0;return Nt(this,function(){++a}),a};function Yt(a){return H(a,ee),a}var ee=[];r.selection.enter=Yt,r.selection.enter.prototype=ee,ee.append=N.append,ee.empty=N.empty,ee.node=N.node,ee.call=N.call,ee.size=N.size,ee.select=function(a){for(var x=[],L,B,q,et,vt,ct=-1,wt=this.length;++ct<wt;){q=(et=this[ct]).update,x.push(L=[]),L.parentNode=et.parentNode;for(var St=-1,Ot=et.length;++St<Ot;)(vt=et[St])?(L.push(q[St]=B=a.call(et.parentNode,vt.__data__,St,ct)),B.__data__=vt.__data__):L.push(null)}return Y(x)},ee.insert=function(a,x){return arguments.length<2&&(x=Xt(this)),N.insert.call(this,a,x)};function Xt(a){var x,L;return function(B,q,et){var vt=a[et].update,ct=vt.length,wt;for(et!=L&&(L=et,x=0),q>=x&&(x=q+1);!(wt=vt[x])&&++x<ct;);return wt}}r.select=function(a){var x;return typeof a=="string"?(x=[A(a,l)],x.parentNode=l.documentElement):(x=[a],x.parentNode=i(a)),Y([x])},r.selectAll=function(a){var x;return typeof a=="string"?(x=n(J(a,l)),x.parentNode=l.documentElement):(x=n(a),x.parentNode=null),Y([x])},N.on=function(a,x,L){var B=arguments.length;if(B<3){if(typeof a!="string"){B<2&&(x=!1);for(L in a)this.each(ae(L,a[L],x));return this}if(B<2)return(B=this.node()["__on"+a])&&B._;L=!1}return this.each(ae(a,x,L))};function ae(a,x,L){var B="__on"+a,q=a.indexOf("."),et=ie;q>0&&(a=a.slice(0,q));var vt=oe.get(a);vt&&(a=vt,et=pe);function ct(){var Ot=this[B];Ot&&(this.removeEventListener(a,Ot,Ot.$),delete this[B])}function wt(){var Ot=et(x,n(arguments));ct.call(this),this.addEventListener(a,this[B]=Ot,Ot.$=L),Ot._=x}function St(){var Ot=new RegExp("^__on([^.]+)"+r.requote(a)+"$"),Gt;for(var Qt in this)if(Gt=Qt.match(Ot)){var de=this[Qt];this.removeEventListener(Gt[1],de,de.$),delete this[Qt]}}return q?x?wt:ct:x?X:St}var oe=r.map({mouseenter:"mouseover",mouseleave:"mouseout"});l&&oe.forEach(function(a){"on"+a in l&&oe.remove(a)});function ie(a,x){return function(L){var B=r.event;r.event=L,x[0]=this.__data__;try{a.apply(this,x)}finally{r.event=B}}}function pe(a,x){var L=ie(a,x);return function(B){var q=this,et=B.relatedTarget;(!et||et!==q&&!(et.compareDocumentPosition(q)&8))&&L.call(q,B)}}var $t,me=0;function we(a){var x=".dragsuppress-"+ ++me,L="click"+x,B=r.select(o(a)).on("touchmove"+x,ot).on("dragstart"+x,ot).on("selectstart"+x,ot);if($t==null&&($t="onselectstart"in a?!1:D(a.style,"userSelect")),$t){var q=i(a).style,et=q[$t];q[$t]="none"}return function(vt){if(B.on(x,null),$t&&(q[$t]=et),vt){var ct=function(){B.on(L,null)};B.on(L,function(){ot(),ct()},!0),setTimeout(ct,0)}}}r.mouse=function(a){return Me(a,dt())};var ve=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Me(a,x){x.changedTouches&&(x=x.changedTouches[0]);var L=a.ownerSVGElement||a;if(L.createSVGPoint){var B=L.createSVGPoint();if(ve<0){var q=o(a);if(q.scrollX||q.scrollY){L=r.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var et=L[0][0].getScreenCTM();ve=!(et.f||et.e),L.remove()}}return ve?(B.x=x.pageX,B.y=x.pageY):(B.x=x.clientX,B.y=x.clientY),B=B.matrixTransform(a.getScreenCTM().inverse()),[B.x,B.y]}var vt=a.getBoundingClientRect();return[x.clientX-vt.left-a.clientLeft,x.clientY-vt.top-a.clientTop]}r.touch=function(a,x,L){if(arguments.length<3&&(L=x,x=dt().changedTouches),x){for(var B=0,q=x.length,et;B<q;++B)if((et=x[B]).identifier===L)return Me(a,et)}},r.behavior.drag=function(){var a=ht(q,"drag","dragstart","dragend"),x=null,L=et(X,r.mouse,o,"mousemove","mouseup"),B=et(mt,r.touch,U,"touchmove","touchend");function q(){this.on("mousedown.drag",L).on("touchstart.drag",B)}function et(vt,ct,wt,St,Ot){return function(){var Gt=this,Qt=r.event.target.correspondingElement||r.event.target,de=Gt.parentNode,_e=a.of(Gt,arguments),te=0,ue=vt(),ce=".drag"+(ue==null?"":"-"+ue),xe,be=r.select(wt(Qt)).on(St+ce,We).on(Ot+ce,qe),fe=we(Qt),Ie=ct(de,ue);x?(xe=x.apply(Gt,arguments),xe=[xe.x-Ie[0],xe.y-Ie[1]]):xe=[0,0],_e({type:"dragstart"});function We(){var Xe=ct(de,ue),tn,en;Xe&&(tn=Xe[0]-Ie[0],en=Xe[1]-Ie[1],te|=tn|en,Ie=Xe,_e({type:"drag",x:Xe[0]+xe[0],y:Xe[1]+xe[1],dx:tn,dy:en}))}function qe(){ct(de,ue)&&(be.on(St+ce,null).on(Ot+ce,null),fe(te),_e({type:"dragend"}))}}}return q.origin=function(vt){return arguments.length?(x=vt,q):x},r.rebind(q,a,"on")};function mt(){return r.event.changedTouches[0].identifier}r.touches=function(a,x){return arguments.length<2&&(x=dt().touches),x?n(x).map(function(L){var B=Me(a,L);return B.identifier=L.identifier,B}):[]};var Lt=1e-6,At=Lt*Lt,Q=Math.PI,ft=2*Q,yt=ft-Lt,gt=Q/2,It=Q/180,Mt=180/Q;function Jt(a,x,L){return(x[0]-a[0])*(L[1]-a[1])-(x[1]-a[1])*(L[0]-a[0])}function qt(a){return a>1?gt:a<-1?-gt:Math.asin(a)}function le(a){return((a=Math.exp(a))-1/a)/2}function Et(a){return((a=Math.exp(a))+1/a)/2}function re(a){return((a=Math.exp(2*a))-1)/(a+1)}var se=Math.SQRT2,he=2,Se=4;r.interpolateZoom=function(a,x){var L=a[0],B=a[1],q=a[2],et=x[0],vt=x[1],ct=x[2],wt=et-L,St=vt-B,Ot=wt*wt+St*St,Gt,Qt;if(Ot<At)Qt=Math.log(ct/q)/se,Gt=function(xe){return[L+xe*wt,B+xe*St,q*Math.exp(se*xe*Qt)]};else{var de=Math.sqrt(Ot),_e=(ct*ct-q*q+Se*Ot)/(2*q*he*de),te=(ct*ct-q*q-Se*Ot)/(2*ct*he*de),ue=Math.log(Math.sqrt(_e*_e+1)-_e),ce=Math.log(Math.sqrt(te*te+1)-te);Qt=(ce-ue)/se,Gt=function(xe){var be=xe*Qt,fe=Et(ue),Ie=q/(he*de)*(fe*re(se*be+ue)-le(ue));return[L+Ie*wt,B+Ie*St,q*fe/Et(se*be+ue)]}}return Gt.duration=Qt*1e3,Gt},r.behavior.zoom=function(){var a={x:0,y:0,k:1},x,L,B,q=[960,500],et=je,vt=250,ct=0,wt="mousedown.zoom",St="mousemove.zoom",Ot="mouseup.zoom",Gt,Qt="touchstart.zoom",de,_e=ht(be,"zoomstart","zoom","zoomend"),te,ue,ce,xe;Ce||(Ce="onwheel"in l?(Ge=function(){return-r.event.deltaY*(r.event.deltaMode?120:1)},"wheel"):"onmousewheel"in l?(Ge=function(){return r.event.wheelDelta},"mousewheel"):(Ge=function(){return-r.event.detail},"MozMousePixelScroll"));function be(Ze){Ze.on(wt,cn).on(Ce+".zoom",Kn).on("dblclick.zoom",Nn).on(Qt,Cn)}be.event=function(Ze){Ze.each(function(){var hn=_e.of(this,arguments),yn=a;yr?r.select(this).transition().each("start.zoom",function(){a=this.__chart__||{x:0,y:0,k:1},en(hn)}).tween("zoom:zoom",function(){var Pn=q[0],qn=q[1],ia=L?L[0]:Pn/2,fa=L?L[1]:qn/2,Ma=r.interpolateZoom([(ia-a.x)/a.k,(fa-a.y)/a.k,Pn/a.k],[(ia-yn.x)/yn.k,(fa-yn.y)/yn.k,Pn/yn.k]);return function(Aa){var Ta=Ma(Aa),Oa=Pn/Ta[2];this.__chart__=a={x:ia-Ta[0]*Oa,y:fa-Ta[1]*Oa,k:Oa},dn(hn)}}).each("interrupt.zoom",function(){rn(hn)}).each("end.zoom",function(){rn(hn)}):(this.__chart__=a,en(hn),dn(hn),rn(hn))})},be.translate=function(Ze){return arguments.length?(a={x:+Ze[0],y:+Ze[1],k:a.k},tn(),be):[a.x,a.y]},be.scale=function(Ze){return arguments.length?(a={x:a.x,y:a.y,k:null},We(+Ze),tn(),be):a.k},be.scaleExtent=function(Ze){return arguments.length?(et=Ze==null?je:[+Ze[0],+Ze[1]],be):et},be.center=function(Ze){return arguments.length?(B=Ze&&[+Ze[0],+Ze[1]],be):B},be.size=function(Ze){return arguments.length?(q=Ze&&[+Ze[0],+Ze[1]],be):q},be.duration=function(Ze){return arguments.length?(vt=+Ze,be):vt},be.x=function(Ze){return arguments.length?(ue=Ze,te=Ze.copy(),a={x:0,y:0,k:1},be):ue},be.y=function(Ze){return arguments.length?(xe=Ze,ce=Ze.copy(),a={x:0,y:0,k:1},be):xe};function fe(Ze){return[(Ze[0]-a.x)/a.k,(Ze[1]-a.y)/a.k]}function Ie(Ze){return[Ze[0]*a.k+a.x,Ze[1]*a.k+a.y]}function We(Ze){a.k=Math.max(et[0],Math.min(et[1],Ze))}function qe(Ze,hn){hn=Ie(hn),a.x+=Ze[0]-hn[0],a.y+=Ze[1]-hn[1]}function Xe(Ze,hn,yn,Pn){Ze.__chart__={x:a.x,y:a.y,k:a.k},We(Math.pow(2,Pn)),qe(L=hn,yn),Ze=r.select(Ze),vt>0&&(Ze=Ze.transition().duration(vt)),Ze.call(be.event)}function tn(){ue&&ue.domain(te.range().map(function(Ze){return(Ze-a.x)/a.k}).map(te.invert)),xe&&xe.domain(ce.range().map(function(Ze){return(Ze-a.y)/a.k}).map(ce.invert))}function en(Ze){ct++||Ze({type:"zoomstart"})}function dn(Ze){tn(),Ze({type:"zoom",scale:a.k,translate:[a.x,a.y]})}function rn(Ze){--ct||(Ze({type:"zoomend"}),L=null)}function cn(){var Ze=this,hn=_e.of(Ze,arguments),yn=0,Pn=r.select(o(Ze)).on(St,fa).on(Ot,Ma),qn=fe(r.mouse(Ze)),ia=we(Ze);mi.call(Ze),en(hn);function fa(){yn=1,qe(r.mouse(Ze),qn),dn(hn)}function Ma(){Pn.on(St,null).on(Ot,null),ia(yn),rn(hn)}}function Cn(){var Ze=this,hn=_e.of(Ze,arguments),yn={},Pn=0,qn,ia=".zoom-"+r.event.changedTouches[0].identifier,fa="touchmove"+ia,Ma="touchend"+ia,Aa=[],Ta=r.select(Ze),Oa=we(Ze);Da(),en(hn),Ta.on(wt,null).on(Qt,Da);function ma(){var Ha=r.touches(Ze);return qn=a.k,Ha.forEach(function(da){da.identifier in yn&&(yn[da.identifier]=fe(da))}),Ha}function Da(){var Ha=r.event.target;r.select(Ha).on(fa,mr).on(Ma,Bp),Aa.push(Ha);for(var da=r.event.changedTouches,Na=0,Wa=da.length;Na<Wa;++Na)yn[da[Na].identifier]=null;var za=ma(),Or=Date.now();if(za.length===1){if(Or-de<500){var xr=za[0];Xe(Ze,xr,yn[xr.identifier],Math.floor(Math.log(a.k)/Math.LN2)+1),ot()}de=Or}else if(za.length>1){var xr=za[0],or=za[1],_i=xr[0]-or[0],ru=xr[1]-or[1];Pn=_i*_i+ru*ru}}function mr(){var Ha=r.touches(Ze),da,Na,Wa,za;mi.call(Ze);for(var Or=0,xr=Ha.length;Or<xr;++Or,za=null)if(Wa=Ha[Or],za=yn[Wa.identifier]){if(Na)break;da=Wa,Na=za}if(za){var or=(or=Wa[0]-da[0])*or+(or=Wa[1]-da[1])*or,_i=Pn&&Math.sqrt(or/Pn);da=[(da[0]+Wa[0])/2,(da[1]+Wa[1])/2],Na=[(Na[0]+za[0])/2,(Na[1]+za[1])/2],We(_i*qn)}de=null,qe(da,Na),dn(hn)}function Bp(){if(r.event.touches.length){for(var Ha=r.event.changedTouches,da=0,Na=Ha.length;da<Na;++da)delete yn[Ha[da].identifier];for(var Wa in yn)return void ma()}r.selectAll(Aa).on(ia,null),Ta.on(wt,cn).on(Qt,Cn),Oa(),rn(hn)}}function Kn(){var Ze=_e.of(this,arguments);Gt?clearTimeout(Gt):(mi.call(this),x=fe(L=B||r.mouse(this)),en(Ze)),Gt=setTimeout(function(){Gt=null,rn(Ze)},50),ot(),We(Math.pow(2,Ge()*.002)*a.k),qe(L,x),dn(Ze)}function Nn(){var Ze=r.mouse(this),hn=Math.log(a.k)/Math.LN2;Xe(this,Ze,fe(Ze),r.event.shiftKey?Math.ceil(hn)-1:Math.floor(hn)+1)}return r.rebind(be,_e,"on")};var je=[0,1/0],Ge,Ce;r.color=Ne;function Ne(){}Ne.prototype.toString=function(){return this.rgb()+""},r.hsl=Le;function Le(a,x,L){return this instanceof Le?(this.h=+a,this.s=+x,void(this.l=+L)):arguments.length<2?a instanceof Le?new Le(a.h,a.s,a.l):Ht(""+a,Kt,Le):new Le(a,x,L)}var Oe=Le.prototype=new Ne;Oe.brighter=function(a){return a=Math.pow(.7,arguments.length?a:1),new Le(this.h,this.s,this.l/a)},Oe.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),new Le(this.h,this.s,a*this.l)},Oe.rgb=function(){return Ve(this.h,this.s,this.l)};function Ve(a,x,L){var B,q;a=isNaN(a)?0:(a%=360)<0?a+360:a,x=isNaN(x)||x<0?0:x>1?1:x,L=L<0?0:L>1?1:L,q=L<=.5?L*(1+x):L+x-L*x,B=2*L-q;function et(ct){return ct>360?ct-=360:ct<0&&(ct+=360),ct<60?B+(q-B)*ct/60:ct<180?q:ct<240?B+(q-B)*(240-ct)/60:B}function vt(ct){return Math.round(et(ct)*255)}return new K(vt(a+120),vt(a),vt(a-120))}r.hcl=Re;function Re(a,x,L){return this instanceof Re?(this.h=+a,this.c=+x,void(this.l=+L)):arguments.length<2?a instanceof Re?new Re(a.h,a.c,a.l):a instanceof ke?vn(a.l,a.a,a.b):vn((a=zt((a=r.rgb(a)).r,a.g,a.b)).l,a.a,a.b):new Re(a,x,L)}var Be=Re.prototype=new Ne;Be.brighter=function(a){return new Re(this.h,this.c,Math.min(100,this.l+Ye*(arguments.length?a:1)))},Be.darker=function(a){return new Re(this.h,this.c,Math.max(0,this.l-Ye*(arguments.length?a:1)))},Be.rgb=function(){return Fe(this.h,this.c,this.l).rgb()};function Fe(a,x,L){return isNaN(a)&&(a=0),isNaN(x)&&(x=0),new ke(L,Math.cos(a*=It)*x,Math.sin(a)*x)}r.lab=ke;function ke(a,x,L){return this instanceof ke?(this.l=+a,this.a=+x,void(this.b=+L)):arguments.length<2?a instanceof ke?new ke(a.l,a.a,a.b):a instanceof Re?Fe(a.h,a.c,a.l):zt((a=K(a)).r,a.g,a.b):new ke(a,x,L)}var Ye=18,Qe=.95047,ln=1,He=1.08883,an=ke.prototype=new Ne;an.brighter=function(a){return new ke(Math.min(100,this.l+Ye*(arguments.length?a:1)),this.a,this.b)},an.darker=function(a){return new ke(Math.max(0,this.l-Ye*(arguments.length?a:1)),this.a,this.b)},an.rgb=function(){return on(this.l,this.a,this.b)};function on(a,x,L){var B=(a+16)/116,q=B+x/500,et=B-L/200;return q=$e(q)*Qe,B=$e(B)*ln,et=$e(et)*He,new K(tt(3.2404542*q-1.5371385*B-.4985314*et),tt(-.969266*q+1.8760108*B+.041556*et),tt(.0556434*q-.2040259*B+1.0572252*et))}function vn(a,x,L){return a>0?new Re(Math.atan2(L,x)*Mt,Math.sqrt(x*x+L*L),a):new Re(NaN,NaN,a)}function $e(a){return a>.206893034?a*a*a:(a-4/29)/7.787037}function fn(a){return a>.008856?Math.pow(a,1/3):7.787037*a+4/29}function tt(a){return Math.round(255*(a<=.00304?12.92*a:1.055*Math.pow(a,1/2.4)-.055))}r.rgb=K;function K(a,x,L){return this instanceof K?(this.r=~~a,this.g=~~x,void(this.b=~~L)):arguments.length<2?a instanceof K?new K(a.r,a.g,a.b):Ht(""+a,K,Ve):new K(a,x,L)}function Vt(a){return new K(a>>16,a>>8&255,a&255)}function jt(a){return Vt(a)+""}var Dt=K.prototype=new Ne;Dt.brighter=function(a){a=Math.pow(.7,arguments.length?a:1);var x=this.r,L=this.g,B=this.b,q=30;return!x&&!L&&!B?new K(q,q,q):(x&&x<q&&(x=q),L&&L<q&&(L=q),B&&B<q&&(B=q),new K(Math.min(255,x/a),Math.min(255,L/a),Math.min(255,B/a)))},Dt.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),new K(a*this.r,a*this.g,a*this.b)},Dt.hsl=function(){return Kt(this.r,this.g,this.b)},Dt.toString=function(){return"#"+Pt(this.r)+Pt(this.g)+Pt(this.b)};function Pt(a){return a<16?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function Ht(a,x,L){var B=0,q=0,et=0,vt,ct,wt;if(vt=/([a-z]+)\((.*)\)/.exec(a=a.toLowerCase()),vt)switch(ct=vt[2].split(","),vt[1]){case"hsl":return L(parseFloat(ct[0]),parseFloat(ct[1])/100,parseFloat(ct[2])/100);case"rgb":return x(ne(ct[0]),ne(ct[1]),ne(ct[2]))}return(wt=Wt.get(a))?x(wt.r,wt.g,wt.b):(a!=null&&a.charAt(0)==="#"&&!isNaN(wt=parseInt(a.slice(1),16))&&(a.length===4?(B=(wt&3840)>>4,B=B>>4|B,q=wt&240,q=q>>4|q,et=wt&15,et=et<<4|et):a.length===7&&(B=(wt&16711680)>>16,q=(wt&65280)>>8,et=wt&255)),x(B,q,et))}function Kt(a,x,L){var B=Math.min(a/=255,x/=255,L/=255),q=Math.max(a,x,L),et=q-B,vt,ct,wt=(q+B)/2;return et?(ct=wt<.5?et/(q+B):et/(2-q-B),a==q?vt=(x-L)/et+(x<L?6:0):x==q?vt=(L-a)/et+2:vt=(a-x)/et+4,vt*=60):(vt=NaN,ct=wt>0&&wt<1?0:vt),new Le(vt,ct,wt)}function zt(a,x,L){a=Ut(a),x=Ut(x),L=Ut(L);var B=fn((.4124564*a+.3575761*x+.1804375*L)/Qe),q=fn((.2126729*a+.7151522*x+.072175*L)/ln),et=fn((.0193339*a+.119192*x+.9503041*L)/He);return ke(116*q-16,500*(B-q),200*(q-et))}function Ut(a){return(a/=255)<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}function ne(a){var x=parseFloat(a);return a.charAt(a.length-1)==="%"?Math.round(x*2.55):x}var Wt=r.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Wt.forEach(function(a,x){Wt.set(a,Vt(x))});function ge(a){return typeof a=="function"?a:function(){return a}}r.functor=ge,r.xhr=ye(U);function ye(a){return function(x,L,B){return arguments.length===2&&typeof L=="function"&&(B=L,L=null),Te(x,L,a,B)}}function Te(a,x,L,B){var q={},et=r.dispatch("beforesend","progress","load","error"),vt={},ct=new XMLHttpRequest,wt=null;self.XDomainRequest&&!("withCredentials"in ct)&&/^(http(s)?:)?\/\//.test(a)&&(ct=new XDomainRequest),"onload"in ct?ct.onload=ct.onerror=St:ct.onreadystatechange=function(){ct.readyState>3&&St()};function St(){var Ot=ct.status,Gt;if(!Ot&&ze(ct)||Ot>=200&&Ot<300||Ot===304){try{Gt=L.call(q,ct)}catch(Qt){et.error.call(q,Qt);return}et.load.call(q,Gt)}else et.error.call(q,ct)}return ct.onprogress=function(Ot){var Gt=r.event;r.event=Ot;try{et.progress.call(q,ct)}finally{r.event=Gt}},q.header=function(Ot,Gt){return Ot=(Ot+"").toLowerCase(),arguments.length<2?vt[Ot]:(Gt==null?delete vt[Ot]:vt[Ot]=Gt+"",q)},q.mimeType=function(Ot){return arguments.length?(x=Ot==null?null:Ot+"",q):x},q.responseType=function(Ot){return arguments.length?(wt=Ot,q):wt},q.response=function(Ot){return L=Ot,q},["get","post"].forEach(function(Ot){q[Ot]=function(){return q.send.apply(q,[Ot].concat(n(arguments)))}}),q.send=function(Ot,Gt,Qt){if(arguments.length===2&&typeof Gt=="function"&&(Qt=Gt,Gt=null),ct.open(Ot,a,!0),x!=null&&!("accept"in vt)&&(vt.accept=x+",*/*"),ct.setRequestHeader)for(var de in vt)ct.setRequestHeader(de,vt[de]);return x!=null&&ct.overrideMimeType&&ct.overrideMimeType(x),wt!=null&&(ct.responseType=wt),Qt!=null&&q.on("error",Qt).on("load",function(_e){Qt(null,_e)}),et.beforesend.call(q,ct),ct.send(Gt??null),q},q.abort=function(){return ct.abort(),q},r.rebind(q,et,"on"),B==null?q:q.get(Ae(B))}function Ae(a){return a.length===1?function(x,L){a(x==null?L:null)}:a}function ze(a){var x=a.responseType;return x&&x!=="text"?a.response:a.responseText}r.dsv=function(a,x){var L=new RegExp('["'+a+`
]`),B=a.charCodeAt(0);function q(St,Ot,Gt){arguments.length<3&&(Gt=Ot,Ot=null);var Qt=Te(St,x,Ot==null?et:vt(Ot),Gt);return Qt.row=function(de){return arguments.length?Qt.response((Ot=de)==null?et:vt(de)):Ot},Qt}function et(St){return q.parse(St.responseText)}function vt(St){return function(Ot){return q.parse(Ot.responseText,St)}}q.parse=function(St,Ot){var Gt;return q.parseRows(St,function(Qt,de){if(Gt)return Gt(Qt,de-1);var _e=function(te){for(var ue={},ce=Qt.length,xe=0;xe<ce;++xe)ue[Qt[xe]]=te[xe];return ue};Gt=Ot?function(te,ue){return Ot(_e(te),ue)}:_e})},q.parseRows=function(St,Ot){var Gt={},Qt={},de=[],_e=St.length,te=0,ue=0,ce,xe;function be(){if(te>=_e)return Qt;if(xe)return xe=!1,Gt;var Ie=te;if(St.charCodeAt(Ie)===34){for(var We=Ie;We++<_e;)if(St.charCodeAt(We)===34){if(St.charCodeAt(We+1)!==34)break;++We}te=We+2;var qe=St.charCodeAt(We+1);return qe===13?(xe=!0,St.charCodeAt(We+2)===10&&++te):qe===10&&(xe=!0),St.slice(Ie+1,We).replace(/""/g,'"')}for(;te<_e;){var qe=St.charCodeAt(te++),Xe=1;if(qe===10)xe=!0;else if(qe===13)xe=!0,St.charCodeAt(te)===10&&(++te,++Xe);else if(qe!==B)continue;return St.slice(Ie,te-Xe)}return St.slice(Ie)}for(;(ce=be())!==Qt;){for(var fe=[];ce!==Gt&&ce!==Qt;)fe.push(ce),ce=be();Ot&&(fe=Ot(fe,ue++))==null||de.push(fe)}return de},q.format=function(St){if(Array.isArray(St[0]))return q.formatRows(St);var Ot=new j,Gt=[];return St.forEach(function(Qt){for(var de in Qt)Ot.has(de)||Gt.push(Ot.add(de))}),[Gt.map(wt).join(a)].concat(St.map(function(Qt){return Gt.map(function(de){return wt(Qt[de])}).join(a)})).join(`
`)},q.formatRows=function(St){return St.map(ct).join(`
`)};function ct(St){return St.map(wt).join(a)}function wt(St){return L.test(St)?'"'+St.replace(/\"/g,'""')+'"':St}return q},r.csv=r.dsv(",","text/csv"),r.tsv=r.dsv("	","text/tab-separated-values");var Ee,Je,Pe,Ke,nn=this[D(this,"requestAnimationFrame")]||function(a){setTimeout(a,17)};r.timer=function(){mn.apply(this,arguments)};function mn(a,x,L){var B=arguments.length;B<2&&(x=0),B<3&&(L=Date.now());var q=L+x,et={c:a,t:q,n:null};return Je?Je.n=et:Ee=et,Je=et,Pe||(Ke=clearTimeout(Ke),Pe=1,nn(gn)),et}function gn(){var a=pn(),x=xn()-a;x>24?(isFinite(x)&&(clearTimeout(Ke),Ke=setTimeout(gn,x)),Pe=0):(Pe=1,nn(gn))}r.timer.flush=function(){pn(),xn()};function pn(){for(var a=Date.now(),x=Ee;x;)a>=x.t&&x.c(a-x.t)&&(x.c=null),x=x.n;return a}function xn(){for(var a,x=Ee,L=1/0;x;)x.c?(x.t<L&&(L=x.t),x=(a=x).n):x=a?a.n=x.n:Ee=x.n;return Je=a,L}r.round=function(a,x){return x?Math.round(a*(x=Math.pow(10,x)))/x:Math.round(a)},r.geom={};function Sn(a){return a[0]}function jn(a){return a[1]}r.geom.hull=function(a){var x=Sn,L=jn;if(arguments.length)return B(a);function B(q){if(q.length<3)return[];var et=ge(x),vt=ge(L),ct,wt=q.length,St=[],Ot=[];for(ct=0;ct<wt;ct++)St.push([+et.call(this,q[ct],ct),+vt.call(this,q[ct],ct),ct]);for(St.sort(Ue),ct=0;ct<wt;ct++)Ot.push([St[ct][0],-St[ct][1]]);var Gt=ta(St),Qt=ta(Ot),de=Qt[0]===Gt[0],_e=Qt[Qt.length-1]===Gt[Gt.length-1],te=[];for(ct=Gt.length-1;ct>=0;--ct)te.push(q[St[Gt[ct]][2]]);for(ct=+de;ct<Qt.length-_e;++ct)te.push(q[St[Qt[ct]][2]]);return te}return B.x=function(q){return arguments.length?(x=q,B):x},B.y=function(q){return arguments.length?(L=q,B):L},B};function ta(a){for(var x=a.length,L=[0,1],B=2,q=2;q<x;q++){for(;B>1&&Jt(a[L[B-2]],a[L[B-1]],a[q])<=0;)--B;L[B++]=q}return L.slice(0,B)}function Ue(a,x){return a[0]-x[0]||a[1]-x[1]}r.geom.polygon=function(a){return H(a,Tn),a};var Tn=r.geom.polygon.prototype=[];Tn.area=function(){for(var a=-1,x=this.length,L,B=this[x-1],q=0;++a<x;)L=B,B=this[a],q+=L[1]*B[0]-L[0]*B[1];return q*.5},Tn.centroid=function(a){var x=-1,L=this.length,B=0,q=0,et,vt=this[L-1],ct;for(arguments.length||(a=-1/(6*this.area()));++x<L;)et=vt,vt=this[x],ct=et[0]*vt[1]-vt[0]*et[1],B+=(et[0]+vt[0])*ct,q+=(et[1]+vt[1])*ct;return[B*a,q*a]},Tn.clip=function(a){for(var x,L=$n(a),B=-1,q=this.length-$n(this),et,vt,ct=this[q-1],wt,St,Ot;++B<q;){for(x=a.slice(),a.length=0,wt=this[B],St=x[(vt=x.length-L)-1],et=-1;++et<vt;)Ot=x[et],kn(Ot,ct,wt)?(kn(St,ct,wt)||a.push(Gn(St,Ot,ct,wt)),a.push(Ot)):kn(St,ct,wt)&&a.push(Gn(St,Ot,ct,wt)),St=Ot;L&&a.push(a[0]),ct=wt}return a};function kn(a,x,L){return(L[0]-x[0])*(a[1]-x[1])<(L[1]-x[1])*(a[0]-x[0])}function Gn(a,x,L,B){var q=a[0],et=L[0],vt=x[0]-q,ct=B[0]-et,wt=a[1],St=L[1],Ot=x[1]-wt,Gt=B[1]-St,Qt=(ct*(wt-St)-Gt*(q-et))/(Gt*vt-ct*Ot);return[q+Qt*vt,wt+Qt*Ot]}function $n(a){var x=a[0],L=a[a.length-1];return!(x[0]-L[0]||x[1]-L[1])}var En,sn,_n,An=[],Dn,In,Hn=[];function Rn(){Za(this),this.edge=this.site=this.circle=null}function Un(a){var x=An.pop()||new Rn;return x.site=a,x}function ea(a){Vn(a),_n.remove(a),An.push(a),Za(a)}function Wn(a){var x=a.circle,L=x.x,B=x.cy,q={x:L,y:B},et=a.P,vt=a.N,ct=[a];ea(a);for(var wt=et;wt.circle&&c(L-wt.circle.x)<Lt&&c(B-wt.circle.cy)<Lt;)et=wt.P,ct.unshift(wt),ea(wt),wt=et;ct.unshift(wt),Vn(wt);for(var St=vt;St.circle&&c(L-St.circle.x)<Lt&&c(B-St.circle.cy)<Lt;)vt=St.N,ct.push(St),ea(St),St=vt;ct.push(St),Vn(St);var Ot=ct.length,Gt;for(Gt=1;Gt<Ot;++Gt)St=ct[Gt],wt=ct[Gt-1],Xn(St.edge,wt.site,St.site,q);wt=ct[0],St=ct[Ot-1],St.edge=Jn(wt.site,St.site,null,q),na(wt),na(St)}function Ln(a){for(var x=a.x,L=a.y,B,q,et,vt,ct=_n._;ct;)if(et=va(ct,L)-x,et>Lt)ct=ct.L;else if(vt=x-Qn(ct,L),vt>Lt){if(!ct.R){B=ct;break}ct=ct.R}else{et>-Lt?(B=ct.P,q=ct):vt>-Lt?(B=ct,q=ct.N):B=q=ct;break}var wt=Un(a);if(_n.insert(B,wt),!(!B&&!q)){if(B===q){Vn(B),q=Un(B.site),_n.insert(wt,q),wt.edge=q.edge=Jn(B.site,wt.site),na(B),na(q);return}if(!q){wt.edge=Jn(B.site,wt.site);return}Vn(B),Vn(q);var St=B.site,Ot=St.x,Gt=St.y,Qt=a.x-Ot,de=a.y-Gt,_e=q.site,te=_e.x-Ot,ue=_e.y-Gt,ce=2*(Qt*ue-de*te),xe=Qt*Qt+de*de,be=te*te+ue*ue,fe={x:(ue*xe-de*be)/ce+Ot,y:(Qt*be-te*xe)/ce+Gt};Xn(q.edge,St,_e,fe),wt.edge=Jn(St,a,null,fe),q.edge=Jn(a,_e,null,fe),na(B),na(q)}}function va(a,x){var L=a.site,B=L.x,q=L.y,et=q-x;if(!et)return B;var vt=a.P;if(!vt)return-1/0;L=vt.site;var ct=L.x,wt=L.y,St=wt-x;if(!St)return ct;var Ot=ct-B,Gt=1/et-1/St,Qt=Ot/St;return Gt?(-Qt+Math.sqrt(Qt*Qt-2*Gt*(Ot*Ot/(-2*St)-wt+St/2+q-et/2)))/Gt+B:(B+ct)/2}function Qn(a,x){var L=a.N;if(L)return va(L,x);var B=a.site;return B.y===x?B.x:1/0}function ua(a){this.site=a,this.edges=[]}ua.prototype.prepare=function(){for(var a=this.edges,x=a.length,L;x--;)L=a[x].edge,(!L.b||!L.a)&&a.splice(x,1);return a.sort(ca),a.length};function wa(a){for(var x=a[0][0],L=a[1][0],B=a[0][1],q=a[1][1],et,vt,ct,wt,St=sn,Ot=St.length,Gt,Qt,de,_e,te,ue;Ot--;)if(Gt=St[Ot],!(!Gt||!Gt.prepare()))for(de=Gt.edges,_e=de.length,Qt=0;Qt<_e;)ue=de[Qt].end(),ct=ue.x,wt=ue.y,te=de[++Qt%_e].start(),et=te.x,vt=te.y,(c(ct-et)>Lt||c(wt-vt)>Lt)&&(de.splice(Qt,0,new Fn(ga(Gt.site,ue,c(ct-x)<Lt&&q-wt>Lt?{x,y:c(et-x)<Lt?vt:q}:c(wt-q)<Lt&&L-ct>Lt?{x:c(vt-q)<Lt?et:L,y:q}:c(ct-L)<Lt&&wt-B>Lt?{x:L,y:c(et-L)<Lt?vt:B}:c(wt-B)<Lt&&ct-x>Lt?{x:c(vt-B)<Lt?et:x,y:B}:null),Gt.site,null)),++_e)}function ca(a,x){return x.angle-a.angle}function La(){Za(this),this.x=this.y=this.arc=this.site=this.cy=null}function na(a){var x=a.P,L=a.N;if(!(!x||!L)){var B=x.site,q=a.site,et=L.site;if(B!==et){var vt=q.x,ct=q.y,wt=B.x-vt,St=B.y-ct,Ot=et.x-vt,Gt=et.y-ct,Qt=2*(wt*Gt-St*Ot);if(!(Qt>=-At)){var de=wt*wt+St*St,_e=Ot*Ot+Gt*Gt,te=(Gt*de-St*_e)/Qt,ue=(wt*_e-Ot*de)/Qt,Gt=ue+ct,ce=Hn.pop()||new La;ce.arc=a,ce.site=q,ce.x=te+vt,ce.y=Gt+Math.sqrt(te*te+ue*ue),ce.cy=Gt,a.circle=ce;for(var xe=null,be=In._;be;)if(ce.y<be.y||ce.y===be.y&&ce.x<=be.x)if(be.L)be=be.L;else{xe=be.P;break}else if(be.R)be=be.R;else{xe=be;break}In.insert(xe,ce),xe||(Dn=ce)}}}}function Vn(a){var x=a.circle;x&&(x.P||(Dn=x.N),In.remove(x),Hn.push(x),Za(x),a.circle=null)}function Sa(a,x,L,B){return function(q){var et=q.a,vt=q.b,ct=et.x,wt=et.y,St=vt.x,Ot=vt.y,Gt=0,Qt=1,de=St-ct,_e=Ot-wt,te;if(te=a-ct,!(!de&&te>0)){if(te/=de,de<0){if(te<Gt)return;te<Qt&&(Qt=te)}else if(de>0){if(te>Qt)return;te>Gt&&(Gt=te)}if(te=L-ct,!(!de&&te<0)){if(te/=de,de<0){if(te>Qt)return;te>Gt&&(Gt=te)}else if(de>0){if(te<Gt)return;te<Qt&&(Qt=te)}if(te=x-wt,!(!_e&&te>0)){if(te/=_e,_e<0){if(te<Gt)return;te<Qt&&(Qt=te)}else if(_e>0){if(te>Qt)return;te>Gt&&(Gt=te)}if(te=B-wt,!(!_e&&te<0)){if(te/=_e,_e<0){if(te>Qt)return;te>Gt&&(Gt=te)}else if(_e>0){if(te<Gt)return;te<Qt&&(Qt=te)}return Gt>0&&(q.a={x:ct+Gt*de,y:wt+Gt*_e}),Qt<1&&(q.b={x:ct+Qt*de,y:wt+Qt*_e}),q}}}}}}function er(a){for(var x=En,L=Sa(a[0][0],a[0][1],a[1][0],a[1][1]),B=x.length,q;B--;)q=x[B],(!On(q,a)||!L(q)||c(q.a.x-q.b.x)<Lt&&c(q.a.y-q.b.y)<Lt)&&(q.a=q.b=null,x.splice(B,1))}function On(a,x){var L=a.b;if(L)return!0;var B=a.a,q=x[0][0],et=x[1][0],vt=x[0][1],ct=x[1][1],wt=a.l,St=a.r,Ot=wt.x,Gt=wt.y,Qt=St.x,de=St.y,_e=(Ot+Qt)/2,te=(Gt+de)/2,ue,ce;if(de===Gt){if(_e<q||_e>=et)return;if(Ot>Qt){if(!B)B={x:_e,y:vt};else if(B.y>=ct)return;L={x:_e,y:ct}}else{if(!B)B={x:_e,y:ct};else if(B.y<vt)return;L={x:_e,y:vt}}}else if(ue=(Ot-Qt)/(de-Gt),ce=te-ue*_e,ue<-1||ue>1)if(Ot>Qt){if(!B)B={x:(vt-ce)/ue,y:vt};else if(B.y>=ct)return;L={x:(ct-ce)/ue,y:ct}}else{if(!B)B={x:(ct-ce)/ue,y:ct};else if(B.y<vt)return;L={x:(vt-ce)/ue,y:vt}}else if(Gt<de){if(!B)B={x:q,y:ue*q+ce};else if(B.x>=et)return;L={x:et,y:ue*et+ce}}else{if(!B)B={x:et,y:ue*et+ce};else if(B.x<q)return;L={x:q,y:ue*q+ce}}return a.a=B,a.b=L,!0}function Zn(a,x){this.l=a,this.r=x,this.a=this.b=null}function Jn(a,x,L,B){var q=new Zn(a,x);return En.push(q),L&&Xn(q,a,x,L),B&&Xn(q,x,a,B),sn[a.i].edges.push(new Fn(q,a,x)),sn[x.i].edges.push(new Fn(q,x,a)),q}function ga(a,x,L){var B=new Zn(a,null);return B.a=x,B.b=L,En.push(B),B}function Xn(a,x,L,B){!a.a&&!a.b?(a.a=B,a.l=x,a.r=L):a.l===L?a.b=B:a.a=B}function Fn(a,x,L){var B=a.a,q=a.b;this.edge=a,this.site=x,this.angle=L?Math.atan2(L.y-x.y,L.x-x.x):a.l===x?Math.atan2(q.x-B.x,B.y-q.y):Math.atan2(B.x-q.x,q.y-B.y)}Fn.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function ya(){this._=null}function Za(a){a.U=a.C=a.L=a.R=a.P=a.N=null}ya.prototype={insert:function(a,x){var L,B,q;if(a){if(x.P=a,x.N=a.N,a.N&&(a.N.P=x),a.N=x,a.R){for(a=a.R;a.L;)a=a.L;a.L=x}else a.R=x;L=a}else this._?(a=rr(this._),x.P=null,x.N=a,a.P=a.L=x,L=a):(x.P=x.N=null,this._=x,L=null);for(x.L=x.R=null,x.U=L,x.C=!0,a=x;L&&L.C;)B=L.U,L===B.L?(q=B.R,q&&q.C?(L.C=q.C=!1,B.C=!0,a=B):(a===L.R&&(Ia(this,L),a=L,L=a.U),L.C=!1,B.C=!0,nr(this,B))):(q=B.L,q&&q.C?(L.C=q.C=!1,B.C=!0,a=B):(a===L.L&&(nr(this,L),a=L,L=a.U),L.C=!1,B.C=!0,Ia(this,B))),L=a.U;this._.C=!1},remove:function(a){a.N&&(a.N.P=a.P),a.P&&(a.P.N=a.N),a.N=a.P=null;var x=a.U,L,B=a.L,q=a.R,et,vt;if(B?q?et=rr(q):et=B:et=q,x?x.L===a?x.L=et:x.R=et:this._=et,B&&q?(vt=et.C,et.C=a.C,et.L=B,B.U=et,et!==q?(x=et.U,et.U=a.U,a=et.R,x.L=a,et.R=q,q.U=et):(et.U=x,x=et,a=et.R)):(vt=a.C,a=et),a&&(a.U=x),!vt){if(a&&a.C){a.C=!1;return}do{if(a===this._)break;if(a===x.L){if(L=x.R,L.C&&(L.C=!1,x.C=!0,Ia(this,x),L=x.R),L.L&&L.L.C||L.R&&L.R.C){(!L.R||!L.R.C)&&(L.L.C=!1,L.C=!0,nr(this,L),L=x.R),L.C=x.C,x.C=L.R.C=!1,Ia(this,x),a=this._;break}}else if(L=x.L,L.C&&(L.C=!1,x.C=!0,nr(this,x),L=x.L),L.L&&L.L.C||L.R&&L.R.C){(!L.L||!L.L.C)&&(L.R.C=!1,L.C=!0,Ia(this,L),L=x.L),L.C=x.C,x.C=L.L.C=!1,nr(this,x),a=this._;break}L.C=!0,a=x,x=x.U}while(!a.C);a&&(a.C=!1)}}};function Ia(a,x){var L=x,B=x.R,q=L.U;q?q.L===L?q.L=B:q.R=B:a._=B,B.U=q,L.U=B,L.R=B.L,L.R&&(L.R.U=L),B.L=L}function nr(a,x){var L=x,B=x.L,q=L.U;q?q.L===L?q.L=B:q.R=B:a._=B,B.U=q,L.U=B,L.L=B.R,L.L&&(L.L.U=L),B.R=L}function rr(a){for(;a.L;)a=a.L;return a}function Lr(a,x){var L=a.sort(oi).pop(),B,q,et;for(En=[],sn=new Array(a.length),_n=new ya,In=new ya;;)if(et=Dn,L&&(!et||L.y<et.y||L.y===et.y&&L.x<et.x))(L.x!==B||L.y!==q)&&(sn[L.i]=new ua(L),Ln(L),B=L.x,q=L.y),L=a.pop();else if(et)Wn(et.arc);else break;x&&(er(x),wa(x));var vt={cells:sn,edges:En};return _n=In=En=sn=null,vt}function oi(a,x){return x.y-a.y||x.x-a.x}r.geom.voronoi=function(a){var x=Sn,L=jn,B=x,q=L,et=vr;if(a)return vt(a);function vt(wt){var St=new Array(wt.length),Ot=et[0][0],Gt=et[0][1],Qt=et[1][0],de=et[1][1];return Lr(ct(wt),et).cells.forEach(function(_e,te){var ue=_e.edges,ce=_e.site,xe=St[te]=ue.length?ue.map(function(be){var fe=be.start();return[fe.x,fe.y]}):ce.x>=Ot&&ce.x<=Qt&&ce.y>=Gt&&ce.y<=de?[[Ot,de],[Qt,de],[Qt,Gt],[Ot,Gt]]:[];xe.point=wt[te]}),St}function ct(wt){return wt.map(function(St,Ot){return{x:Math.round(B(St,Ot)/Lt)*Lt,y:Math.round(q(St,Ot)/Lt)*Lt,i:Ot}})}return vt.links=function(wt){return Lr(ct(wt)).edges.filter(function(St){return St.l&&St.r}).map(function(St){return{source:wt[St.l.i],target:wt[St.r.i]}})},vt.triangles=function(wt){var St=[];return Lr(ct(wt)).cells.forEach(function(Ot,Gt){for(var Qt=Ot.site,de=Ot.edges.sort(ca),_e=-1,te=de.length,ue,ce,xe=de[te-1].edge,be=xe.l===Qt?xe.r:xe.l;++_e<te;)ue=xe,ce=be,xe=de[_e].edge,be=xe.l===Qt?xe.r:xe.l,Gt<ce.i&&Gt<be.i&&li(Qt,ce,be)<0&&St.push([wt[Gt],wt[ce.i],wt[be.i]])}),St},vt.x=function(wt){return arguments.length?(B=ge(x=wt),vt):x},vt.y=function(wt){return arguments.length?(q=ge(L=wt),vt):L},vt.clipExtent=function(wt){return arguments.length?(et=wt??vr,vt):et===vr?null:et},vt.size=function(wt){return arguments.length?vt.clipExtent(wt&&[[0,0],wt]):et===vr?null:et&&et[1]},vt};var vr=[[-1e6,-1e6],[1e6,1e6]];function li(a,x,L){return(a.x-L.x)*(x.y-a.y)-(a.x-x.x)*(L.y-a.y)}r.geom.delaunay=function(a){return r.geom.voronoi().triangles(a)},r.geom.quadtree=function(a,x,L,B,q){var et=Sn,vt=jn,ct;if(ct=arguments.length)return et=si,vt=ih,ct===3&&(q=L,B=x,L=x=0),wt(a);function wt(St){var Ot,Gt=ge(et),Qt=ge(vt),de,_e,te,ue,ce,xe,be,fe;if(x!=null)ce=x,xe=L,be=B,fe=q;else if(be=fe=-(ce=xe=1/0),de=[],_e=[],ue=St.length,ct)for(te=0;te<ue;++te)Ot=St[te],Ot.x<ce&&(ce=Ot.x),Ot.y<xe&&(xe=Ot.y),Ot.x>be&&(be=Ot.x),Ot.y>fe&&(fe=Ot.y),de.push(Ot.x),_e.push(Ot.y);else for(te=0;te<ue;++te){var Ie=+Gt(Ot=St[te],te),We=+Qt(Ot,te);Ie<ce&&(ce=Ie),We<xe&&(xe=We),Ie>be&&(be=Ie),We>fe&&(fe=We),de.push(Ie),_e.push(We)}var qe=be-ce,Xe=fe-xe;qe>Xe?fe=xe+qe:be=ce+Xe;function tn(rn,cn,Cn,Kn,Nn,Ze,hn,yn){if(!(isNaN(Cn)||isNaN(Kn)))if(rn.leaf){var Pn=rn.x,qn=rn.y;if(Pn!=null)if(c(Pn-Cn)+c(qn-Kn)<.01)en(rn,cn,Cn,Kn,Nn,Ze,hn,yn);else{var ia=rn.point;rn.x=rn.y=rn.point=null,en(rn,ia,Pn,qn,Nn,Ze,hn,yn),en(rn,cn,Cn,Kn,Nn,Ze,hn,yn)}else rn.x=Cn,rn.y=Kn,rn.point=cn}else en(rn,cn,Cn,Kn,Nn,Ze,hn,yn)}function en(rn,cn,Cn,Kn,Nn,Ze,hn,yn){var Pn=(Nn+hn)*.5,qn=(Ze+yn)*.5,ia=Cn>=Pn,fa=Kn>=qn,Ma=fa<<1|ia;rn.leaf=!1,rn=rn.nodes[Ma]||(rn.nodes[Ma]=rs()),ia?Nn=Pn:hn=Pn,fa?Ze=qn:yn=qn,tn(rn,cn,Cn,Kn,Nn,Ze,hn,yn)}var dn=rs();if(dn.add=function(rn){tn(dn,rn,+Gt(rn,++te),+Qt(rn,te),ce,xe,be,fe)},dn.visit=function(rn){Br(rn,dn,ce,xe,be,fe)},dn.find=function(rn){return oh(dn,rn[0],rn[1],ce,xe,be,fe)},te=-1,x==null){for(;++te<ue;)tn(dn,St[te],de[te],_e[te],ce,xe,be,fe);--te}else St.forEach(dn.add);return de=_e=St=Ot=null,dn}return wt.x=function(St){return arguments.length?(et=St,wt):et},wt.y=function(St){return arguments.length?(vt=St,wt):vt},wt.extent=function(St){return arguments.length?(St==null?x=L=B=q=null:(x=+St[0][0],L=+St[0][1],B=+St[1][0],q=+St[1][1]),wt):x==null?null:[[x,L],[B,q]]},wt.size=function(St){return arguments.length?(St==null?x=L=B=q=null:(x=L=0,B=+St[0],q=+St[1]),wt):x==null?null:[B-x,q-L]},wt};function si(a){return a.x}function ih(a){return a.y}function rs(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Br(a,x,L,B,q,et){if(!a(x,L,B,q,et)){var vt=(L+q)*.5,ct=(B+et)*.5,wt=x.nodes;wt[0]&&Br(a,wt[0],L,B,vt,ct),wt[1]&&Br(a,wt[1],vt,B,q,ct),wt[2]&&Br(a,wt[2],L,ct,vt,et),wt[3]&&Br(a,wt[3],vt,ct,q,et)}}function oh(a,x,L,B,q,et,vt){var ct=1/0,wt;return(function St(Ot,Gt,Qt,de,_e){if(!(Gt>et||Qt>vt||de<B||_e<q)){if(te=Ot.point){var te,ue=x-Ot.x,ce=L-Ot.y,xe=ue*ue+ce*ce;if(xe<ct){var be=Math.sqrt(ct=xe);B=x-be,q=L-be,et=x+be,vt=L+be,wt=te}}for(var fe=Ot.nodes,Ie=(Gt+de)*.5,We=(Qt+_e)*.5,qe=x>=Ie,Xe=L>=We,tn=Xe<<1|qe,en=tn+4;tn<en;++tn)if(Ot=fe[tn&3])switch(tn&3){case 0:St(Ot,Gt,Qt,Ie,We);break;case 1:St(Ot,Ie,Qt,de,We);break;case 2:St(Ot,Gt,We,Ie,_e);break;case 3:St(Ot,Ie,We,de,_e);break}}})(a,B,q,et,vt),wt}r.interpolateRgb=co;function co(a,x){a=r.rgb(a),x=r.rgb(x);var L=a.r,B=a.g,q=a.b,et=x.r-L,vt=x.g-B,ct=x.b-q;return function(wt){return"#"+Pt(Math.round(L+et*wt))+Pt(Math.round(B+vt*wt))+Pt(Math.round(q+ct*wt))}}r.interpolateObject=is;function is(a,x){var L={},B={},q;for(q in a)q in x?L[q]=gr(a[q],x[q]):B[q]=a[q];for(q in x)q in a||(B[q]=x[q]);return function(et){for(q in L)B[q]=L[q](et);return B}}r.interpolateNumber=ar;function ar(a,x){return a=+a,x=+x,function(L){return a*(1-L)+x*L}}r.interpolateString=os;function os(a,x){var L=fo.lastIndex=ho.lastIndex=0,B,q,et,vt=-1,ct=[],wt=[];for(a=a+"",x=x+"";(B=fo.exec(a))&&(q=ho.exec(x));)(et=q.index)>L&&(et=x.slice(L,et),ct[vt]?ct[vt]+=et:ct[++vt]=et),(B=B[0])===(q=q[0])?ct[vt]?ct[vt]+=q:ct[++vt]=q:(ct[++vt]=null,wt.push({i:vt,x:ar(B,q)})),L=ho.lastIndex;return L<x.length&&(et=x.slice(L),ct[vt]?ct[vt]+=et:ct[++vt]=et),ct.length<2?wt[0]?(x=wt[0].x,function(St){return x(St)+""}):function(){return x}:(x=wt.length,function(St){for(var Ot=0,Gt;Ot<x;++Ot)ct[(Gt=wt[Ot]).i]=Gt.x(St);return ct.join("")})}var fo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ho=new RegExp(fo.source,"g");r.interpolate=gr;function gr(a,x){for(var L=r.interpolators.length,B;--L>=0&&!(B=r.interpolators[L](a,x)););return B}r.interpolators=[function(a,x){var L=typeof x;return(L==="string"?Wt.has(x.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(x)?co:os:x instanceof Ne?co:Array.isArray(x)?ui:L==="object"&&isNaN(x)?is:ar)(a,x)}],r.interpolateArray=ui;function ui(a,x){var L=[],B=[],q=a.length,et=x.length,vt=Math.min(a.length,x.length),ct;for(ct=0;ct<vt;++ct)L.push(gr(a[ct],x[ct]));for(;ct<q;++ct)B[ct]=a[ct];for(;ct<et;++ct)B[ct]=x[ct];return function(wt){for(ct=0;ct<vt;++ct)B[ct]=L[ct](wt);return B}}var ls=function(){return U},lh=r.map({linear:ls,poly:hh,quad:function(){return ch},cubic:function(){return fh},sin:function(){return ph},exp:function(){return vh},circle:function(){return gh},elastic:yh,back:mh,bounce:function(){return xh}}),sh=r.map({in:U,out:ss,"in-out":us,"out-in":function(a){return us(ss(a))}});r.ease=function(a){var x=a.indexOf("-"),L=x>=0?a.slice(0,x):a,B=x>=0?a.slice(x+1):"in";return L=lh.get(L)||ls,B=sh.get(B)||U,uh(B(L.apply(null,t.call(arguments,1))))};function uh(a){return function(x){return x<=0?0:x>=1?1:a(x)}}function ss(a){return function(x){return 1-a(1-x)}}function us(a){return function(x){return .5*(x<.5?a(2*x):2-a(2-2*x))}}function ch(a){return a*a}function fh(a){return a*a*a}function dh(a){if(a<=0)return 0;if(a>=1)return 1;var x=a*a,L=x*a;return 4*(a<.5?L:3*(a-x)+L-.75)}function hh(a){return function(x){return Math.pow(x,a)}}function ph(a){return 1-Math.cos(a*gt)}function vh(a){return Math.pow(2,10*(a-1))}function gh(a){return 1-Math.sqrt(1-a*a)}function yh(a,x){var L;return arguments.length<2&&(x=.45),arguments.length?L=x/ft*Math.asin(1/a):(a=1,L=x/4),function(B){return 1+a*Math.pow(2,-10*B)*Math.sin((B-L)*ft/x)}}function mh(a){return a||(a=1.70158),function(x){return x*x*((a+1)*x-a)}}function xh(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}r.interpolateHcl=bh;function bh(a,x){a=r.hcl(a),x=r.hcl(x);var L=a.h,B=a.c,q=a.l,et=x.h-L,vt=x.c-B,ct=x.l-q;return isNaN(vt)&&(vt=0,B=isNaN(B)?x.c:B),isNaN(et)?(et=0,L=isNaN(L)?x.h:L):et>180?et-=360:et<-180&&(et+=360),function(wt){return Fe(L+et*wt,B+vt*wt,q+ct*wt)+""}}r.interpolateHsl=_h;function _h(a,x){a=r.hsl(a),x=r.hsl(x);var L=a.h,B=a.s,q=a.l,et=x.h-L,vt=x.s-B,ct=x.l-q;return isNaN(vt)&&(vt=0,B=isNaN(B)?x.s:B),isNaN(et)?(et=0,L=isNaN(L)?x.h:L):et>180?et-=360:et<-180&&(et+=360),function(wt){return Ve(L+et*wt,B+vt*wt,q+ct*wt)+""}}r.interpolateLab=wh;function wh(a,x){a=r.lab(a),x=r.lab(x);var L=a.l,B=a.a,q=a.b,et=x.l-L,vt=x.a-B,ct=x.b-q;return function(wt){return on(L+et*wt,B+vt*wt,q+ct*wt)+""}}r.interpolateRound=cs;function cs(a,x){return x-=a,function(L){return Math.round(a+x*L)}}r.transform=function(a){var x=l.createElementNS(r.ns.prefix.svg,"g");return(r.transform=function(L){if(L!=null){x.setAttribute("transform",L);var B=x.transform.baseVal.consolidate()}return new fs(B?B.matrix:Th)})(a)};function fs(a){var x=[a.a,a.b],L=[a.c,a.d],B=hs(x),q=ds(x,L),et=hs(Mh(L,x,-q))||0;x[0]*L[1]<L[0]*x[1]&&(x[0]*=-1,x[1]*=-1,B*=-1,q*=-1),this.rotate=(B?Math.atan2(x[1],x[0]):Math.atan2(-L[0],L[1]))*Mt,this.translate=[a.e,a.f],this.scale=[B,et],this.skew=et?Math.atan2(q,et)*Mt:0}fs.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function ds(a,x){return a[0]*x[0]+a[1]*x[1]}function hs(a){var x=Math.sqrt(ds(a,a));return x&&(a[0]/=x,a[1]/=x),x}function Mh(a,x,L){return a[0]+=L*x[0],a[1]+=L*x[1],a}var Th={a:1,b:0,c:0,d:1,e:0,f:0};r.interpolateTransform=ps;function Sr(a){return a.length?a.pop()+",":""}function kh(a,x,L,B){if(a[0]!==x[0]||a[1]!==x[1]){var q=L.push("translate(",null,",",null,")");B.push({i:q-4,x:ar(a[0],x[0])},{i:q-2,x:ar(a[1],x[1])})}else(x[0]||x[1])&&L.push("translate("+x+")")}function Ah(a,x,L,B){a!==x?(a-x>180?x+=360:x-a>180&&(a+=360),B.push({i:L.push(Sr(L)+"rotate(",null,")")-2,x:ar(a,x)})):x&&L.push(Sr(L)+"rotate("+x+")")}function Lh(a,x,L,B){a!==x?B.push({i:L.push(Sr(L)+"skewX(",null,")")-2,x:ar(a,x)}):x&&L.push(Sr(L)+"skewX("+x+")")}function Sh(a,x,L,B){if(a[0]!==x[0]||a[1]!==x[1]){var q=L.push(Sr(L)+"scale(",null,",",null,")");B.push({i:q-4,x:ar(a[0],x[0])},{i:q-2,x:ar(a[1],x[1])})}else(x[0]!==1||x[1]!==1)&&L.push(Sr(L)+"scale("+x+")")}function ps(a,x){var L=[],B=[];return a=r.transform(a),x=r.transform(x),kh(a.translate,x.translate,L,B),Ah(a.rotate,x.rotate,L,B),Lh(a.skew,x.skew,L,B),Sh(a.scale,x.scale,L,B),a=x=null,function(q){for(var et=-1,vt=B.length,ct;++et<vt;)L[(ct=B[et]).i]=ct.x(q);return L.join("")}}function Oh(a,x){return x=(x-=a=+a)||1/x,function(L){return(L-a)/x}}function Dh(a,x){return x=(x-=a=+a)||1/x,function(L){return Math.max(0,Math.min(1,(L-a)/x))}}r.layout={},r.layout.bundle=function(){return function(a){for(var x=[],L=-1,B=a.length;++L<B;)x.push(Ch(a[L]));return x}};function Ch(a){for(var x=a.source,L=a.target,B=Ph(x,L),q=[x];x!==B;)x=x.parent,q.push(x);for(var et=q.length;L!==B;)q.splice(et,0,L),L=L.parent;return q}function vs(a){for(var x=[],L=a.parent;L!=null;)x.push(a),a=L,L=L.parent;return x.push(a),x}function Ph(a,x){if(a===x)return a;for(var L=vs(a),B=vs(x),q=L.pop(),et=B.pop(),vt=null;q===et;)vt=q,q=L.pop(),et=B.pop();return vt}r.layout.chord=function(){var a={},x,L,B,q,et=0,vt,ct,wt;function St(){var Gt={},Qt=[],de=r.range(q),_e=[],te,ue,ce,xe,be;for(x=[],L=[],te=0,xe=-1;++xe<q;){for(ue=0,be=-1;++be<q;)ue+=B[xe][be];Qt.push(ue),_e.push(r.range(q)),te+=ue}for(vt&&de.sort(function(dn,rn){return vt(Qt[dn],Qt[rn])}),ct&&_e.forEach(function(dn,rn){dn.sort(function(cn,Cn){return ct(B[rn][cn],B[rn][Cn])})}),te=(ft-et*q)/te,ue=0,xe=-1;++xe<q;){for(ce=ue,be=-1;++be<q;){var fe=de[xe],Ie=_e[fe][be],We=B[fe][Ie],qe=ue,Xe=ue+=We*te;Gt[fe+"-"+Ie]={index:fe,subindex:Ie,startAngle:qe,endAngle:Xe,value:We}}L[fe]={index:fe,startAngle:ce,endAngle:ue,value:Qt[fe]},ue+=et}for(xe=-1;++xe<q;)for(be=xe-1;++be<q;){var tn=Gt[xe+"-"+be],en=Gt[be+"-"+xe];(tn.value||en.value)&&x.push(tn.value<en.value?{source:en,target:tn}:{source:tn,target:en})}wt&&Ot()}function Ot(){x.sort(function(Gt,Qt){return wt((Gt.source.value+Gt.target.value)/2,(Qt.source.value+Qt.target.value)/2)})}return a.matrix=function(Gt){return arguments.length?(q=(B=Gt)&&B.length,x=L=null,a):B},a.padding=function(Gt){return arguments.length?(et=Gt,x=L=null,a):et},a.sortGroups=function(Gt){return arguments.length?(vt=Gt,x=L=null,a):vt},a.sortSubgroups=function(Gt){return arguments.length?(ct=Gt,x=null,a):ct},a.sortChords=function(Gt){return arguments.length?(wt=Gt,x&&Ot(),a):wt},a.chords=function(){return x||St(),x},a.groups=function(){return L||St(),L},a},r.layout.force=function(){var a={},x=r.dispatch("start","tick","end"),L,B=[1,1],q,et,vt=.9,ct=Rh,wt=Eh,St=-30,Ot=jh,Gt=.1,Qt=.64,de=[],_e=[],te,ue,ce;function xe(fe){return function(Ie,We,qe,Xe){if(Ie.point!==fe){var tn=Ie.cx-fe.x,en=Ie.cy-fe.y,dn=Xe-We,rn=tn*tn+en*en;if(dn*dn/Qt<rn){if(rn<Ot){var cn=Ie.charge/rn;fe.px-=tn*cn,fe.py-=en*cn}return!0}if(Ie.point&&rn&&rn<Ot){var cn=Ie.pointCharge/rn;fe.px-=tn*cn,fe.py-=en*cn}}return!Ie.charge}}a.tick=function(){if((et*=.99)<.005)return L=null,x.end({type:"end",alpha:et=0}),!0;var fe=de.length,Ie=_e.length,We,qe,Xe,tn,en,dn,rn,cn,Cn;for(qe=0;qe<Ie;++qe)Xe=_e[qe],tn=Xe.source,en=Xe.target,cn=en.x-tn.x,Cn=en.y-tn.y,(dn=cn*cn+Cn*Cn)&&(dn=et*ue[qe]*((dn=Math.sqrt(dn))-te[qe])/dn,cn*=dn,Cn*=dn,en.x-=cn*(rn=tn.weight+en.weight?tn.weight/(tn.weight+en.weight):.5),en.y-=Cn*rn,tn.x+=cn*(rn=1-rn),tn.y+=Cn*rn);if((rn=et*Gt)&&(cn=B[0]/2,Cn=B[1]/2,qe=-1,rn))for(;++qe<fe;)Xe=de[qe],Xe.x+=(cn-Xe.x)*rn,Xe.y+=(Cn-Xe.y)*rn;if(St)for(gs(We=r.geom.quadtree(de),et,ce),qe=-1;++qe<fe;)(Xe=de[qe]).fixed||We.visit(xe(Xe));for(qe=-1;++qe<fe;)Xe=de[qe],Xe.fixed?(Xe.x=Xe.px,Xe.y=Xe.py):(Xe.x-=(Xe.px-(Xe.px=Xe.x))*vt,Xe.y-=(Xe.py-(Xe.py=Xe.y))*vt);x.tick({type:"tick",alpha:et})},a.nodes=function(fe){return arguments.length?(de=fe,a):de},a.links=function(fe){return arguments.length?(_e=fe,a):_e},a.size=function(fe){return arguments.length?(B=fe,a):B},a.linkDistance=function(fe){return arguments.length?(ct=typeof fe=="function"?fe:+fe,a):ct},a.distance=a.linkDistance,a.linkStrength=function(fe){return arguments.length?(wt=typeof fe=="function"?fe:+fe,a):wt},a.friction=function(fe){return arguments.length?(vt=+fe,a):vt},a.charge=function(fe){return arguments.length?(St=typeof fe=="function"?fe:+fe,a):St},a.chargeDistance=function(fe){return arguments.length?(Ot=fe*fe,a):Math.sqrt(Ot)},a.gravity=function(fe){return arguments.length?(Gt=+fe,a):Gt},a.theta=function(fe){return arguments.length?(Qt=fe*fe,a):Math.sqrt(Qt)},a.alpha=function(fe){return arguments.length?(fe=+fe,et?fe>0?et=fe:(L.c=null,L.t=NaN,L=null,x.end({type:"end",alpha:et=0})):fe>0&&(x.start({type:"start",alpha:et=fe}),L=mn(a.tick)),a):et},a.start=function(){var fe,Ie=de.length,We=_e.length,qe=B[0],Xe=B[1],tn,en;for(fe=0;fe<Ie;++fe)(en=de[fe]).index=fe,en.weight=0;for(fe=0;fe<We;++fe)en=_e[fe],typeof en.source=="number"&&(en.source=de[en.source]),typeof en.target=="number"&&(en.target=de[en.target]),++en.source.weight,++en.target.weight;for(fe=0;fe<Ie;++fe)en=de[fe],isNaN(en.x)&&(en.x=dn("x",qe)),isNaN(en.y)&&(en.y=dn("y",Xe)),isNaN(en.px)&&(en.px=en.x),isNaN(en.py)&&(en.py=en.y);if(te=[],typeof ct=="function")for(fe=0;fe<We;++fe)te[fe]=+ct.call(this,_e[fe],fe);else for(fe=0;fe<We;++fe)te[fe]=ct;if(ue=[],typeof wt=="function")for(fe=0;fe<We;++fe)ue[fe]=+wt.call(this,_e[fe],fe);else for(fe=0;fe<We;++fe)ue[fe]=wt;if(ce=[],typeof St=="function")for(fe=0;fe<Ie;++fe)ce[fe]=+St.call(this,de[fe],fe);else for(fe=0;fe<Ie;++fe)ce[fe]=St;function dn(rn,cn){if(!tn){for(tn=new Array(Ie),Nn=0;Nn<Ie;++Nn)tn[Nn]=[];for(Nn=0;Nn<We;++Nn){var Cn=_e[Nn];tn[Cn.source.index].push(Cn.target),tn[Cn.target.index].push(Cn.source)}}for(var Kn=tn[fe],Nn=-1,Ze=Kn.length,hn;++Nn<Ze;)if(!isNaN(hn=Kn[Nn][rn]))return hn;return Math.random()*cn}return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){if(q||(q=r.behavior.drag().origin(U).on("dragstart.force",Ih).on("drag.force",be).on("dragend.force",Fh)),!arguments.length)return q;this.on("mouseover.force",Nh).on("mouseout.force",zh).call(q)};function be(fe){fe.px=r.event.x,fe.py=r.event.y,a.resume()}return r.rebind(a,x,"on")};function Ih(a){a.fixed|=2}function Fh(a){a.fixed&=-7}function Nh(a){a.fixed|=4,a.px=a.x,a.py=a.y}function zh(a){a.fixed&=-5}function gs(a,x,L){var B=0,q=0;if(a.charge=0,!a.leaf)for(var et=a.nodes,vt=et.length,ct=-1,wt;++ct<vt;)wt=et[ct],wt!=null&&(gs(wt,x,L),a.charge+=wt.charge,B+=wt.charge*wt.cx,q+=wt.charge*wt.cy);if(a.point){a.leaf||(a.point.x+=Math.random()-.5,a.point.y+=Math.random()-.5);var St=x*L[a.point.index];a.charge+=a.pointCharge=St,B+=St*a.point.x,q+=St*a.point.y}a.cx=B/a.charge,a.cy=q/a.charge}var Rh=20,Eh=1,jh=1/0;r.layout.hierarchy=function(){var a=Vh,x=Hh,L=Bh;function B(q){var et=[q],vt=[],ct;for(q.depth=0;(ct=et.pop())!=null;)if(vt.push(ct),(St=x.call(B,ct,ct.depth))&&(wt=St.length)){for(var wt,St,Ot;--wt>=0;)et.push(Ot=St[wt]),Ot.parent=ct,Ot.depth=ct.depth+1;L&&(ct.value=0),ct.children=St}else L&&(ct.value=+L.call(B,ct,ct.depth)||0),delete ct.children;return Ga(q,function(Gt){var Qt,de;a&&(Qt=Gt.children)&&Qt.sort(a),L&&(de=Gt.parent)&&(de.value+=Gt.value)}),vt}return B.sort=function(q){return arguments.length?(a=q,B):a},B.children=function(q){return arguments.length?(x=q,B):x},B.value=function(q){return arguments.length?(L=q,B):L},B.revalue=function(q){return L&&(Yr(q,function(et){et.children&&(et.value=0)}),Ga(q,function(et){var vt;et.children||(et.value=+L.call(B,et,et.depth)||0),(vt=et.parent)&&(vt.value+=et.value)})),q},B};function Vr(a,x){return r.rebind(a,x,"sort","children","value"),a.nodes=a,a.links=Yh,a}function Yr(a,x){for(var L=[a];(a=L.pop())!=null;)if(x(a),(q=a.children)&&(B=q.length))for(var B,q;--B>=0;)L.push(q[B])}function Ga(a,x){for(var L=[a],B=[];(a=L.pop())!=null;)if(B.push(a),(vt=a.children)&&(et=vt.length))for(var q=-1,et,vt;++q<et;)L.push(vt[q]);for(;(a=B.pop())!=null;)x(a)}function Hh(a){return a.children}function Bh(a){return a.value}function Vh(a,x){return x.value-a.value}function Yh(a){return r.merge(a.map(function(x){return(x.children||[]).map(function(L){return{source:x,target:L}})}))}r.layout.partition=function(){var a=r.layout.hierarchy(),x=[1,1];function L(et,vt,ct,wt){var St=et.children;if(et.x=vt,et.y=et.depth*wt,et.dx=ct,et.dy=wt,St&&(Gt=St.length)){var Ot=-1,Gt,Qt,de;for(ct=et.value?ct/et.value:0;++Ot<Gt;)L(Qt=St[Ot],vt,de=Qt.value*ct,wt),vt+=de}}function B(et){var vt=et.children,ct=0;if(vt&&(St=vt.length))for(var wt=-1,St;++wt<St;)ct=Math.max(ct,B(vt[wt]));return 1+ct}function q(et,vt){var ct=a.call(this,et,vt);return L(ct[0],0,x[0],x[1]/B(ct[0])),ct}return q.size=function(et){return arguments.length?(x=et,q):x},Vr(q,a)},r.layout.pie=function(){var a=Number,x=ys,L=0,B=ft,q=0;function et(vt){var ct=vt.length,wt=vt.map(function(xe,be){return+a.call(et,xe,be)}),St=+(typeof L=="function"?L.apply(this,arguments):L),Ot=(typeof B=="function"?B.apply(this,arguments):B)-St,Gt=Math.min(Math.abs(Ot)/ct,+(typeof q=="function"?q.apply(this,arguments):q)),Qt=Gt*(Ot<0?-1:1),de=r.sum(wt),_e=de?(Ot-ct*Qt)/de:0,te=r.range(ct),ue=[],ce;return x!=null&&te.sort(x===ys?function(xe,be){return wt[be]-wt[xe]}:function(xe,be){return x(vt[xe],vt[be])}),te.forEach(function(xe){ue[xe]={data:vt[xe],value:ce=wt[xe],startAngle:St,endAngle:St+=ce*_e+Qt,padAngle:Gt}}),ue}return et.value=function(vt){return arguments.length?(a=vt,et):a},et.sort=function(vt){return arguments.length?(x=vt,et):x},et.startAngle=function(vt){return arguments.length?(L=vt,et):L},et.endAngle=function(vt){return arguments.length?(B=vt,et):B},et.padAngle=function(vt){return arguments.length?(q=vt,et):q},et};var ys={};r.layout.stack=function(){var a=U,x=po,L=vo,B=Gh,q=Uh,et=Zh;function vt(ct,wt){if(!(_e=ct.length))return ct;var St=ct.map(function(xe,be){return a.call(vt,xe,be)}),Ot=St.map(function(xe){return xe.map(function(be,fe){return[q.call(vt,be,fe),et.call(vt,be,fe)]})}),Gt=x.call(vt,Ot,wt);St=r.permute(St,Gt),Ot=r.permute(Ot,Gt);var Qt=L.call(vt,Ot,wt),de=St[0].length,_e,te,ue,ce;for(ue=0;ue<de;++ue)for(B.call(vt,St[0][ue],ce=Qt[ue],Ot[0][ue][1]),te=1;te<_e;++te)B.call(vt,St[te][ue],ce+=Ot[te-1][ue][1],Ot[te][ue][1]);return ct}return vt.values=function(ct){return arguments.length?(a=ct,vt):a},vt.order=function(ct){return arguments.length?(x=typeof ct=="function"?ct:Wh.get(ct)||po,vt):x},vt.offset=function(ct){return arguments.length?(L=typeof ct=="function"?ct:Jh.get(ct)||vo,vt):L},vt.x=function(ct){return arguments.length?(q=ct,vt):q},vt.y=function(ct){return arguments.length?(et=ct,vt):et},vt.out=function(ct){return arguments.length?(B=ct,vt):B},vt};function Uh(a){return a.x}function Zh(a){return a.y}function Gh(a,x,L){a.y0=x,a.y=L}var Wh=r.map({"inside-out":function(a){var x=a.length,L,B,q=a.map(Xh),et=a.map(qh),vt=r.range(x).sort(function(Gt,Qt){return q[Gt]-q[Qt]}),ct=0,wt=0,St=[],Ot=[];for(L=0;L<x;++L)B=vt[L],ct<wt?(ct+=et[B],St.push(B)):(wt+=et[B],Ot.push(B));return Ot.reverse().concat(St)},reverse:function(a){return r.range(a.length).reverse()},default:po}),Jh=r.map({silhouette:function(a){var x=a.length,L=a[0].length,B=[],q=0,et,vt,ct,wt=[];for(vt=0;vt<L;++vt){for(et=0,ct=0;et<x;et++)ct+=a[et][vt][1];ct>q&&(q=ct),B.push(ct)}for(vt=0;vt<L;++vt)wt[vt]=(q-B[vt])/2;return wt},wiggle:function(a){var x=a.length,L=a[0],B=L.length,q,et,vt,ct,wt,St,Ot,Gt,Qt,de=[];for(de[0]=Gt=Qt=0,et=1;et<B;++et){for(q=0,ct=0;q<x;++q)ct+=a[q][et][1];for(q=0,wt=0,Ot=L[et][0]-L[et-1][0];q<x;++q){for(vt=0,St=(a[q][et][1]-a[q][et-1][1])/(2*Ot);vt<q;++vt)St+=(a[vt][et][1]-a[vt][et-1][1])/Ot;wt+=St*a[q][et][1]}de[et]=Gt-=ct?wt/ct*Ot:0,Gt<Qt&&(Qt=Gt)}for(et=0;et<B;++et)de[et]-=Qt;return de},expand:function(a){var x=a.length,L=a[0].length,B=1/x,q,et,vt,ct=[];for(et=0;et<L;++et){for(q=0,vt=0;q<x;q++)vt+=a[q][et][1];if(vt)for(q=0;q<x;q++)a[q][et][1]/=vt;else for(q=0;q<x;q++)a[q][et][1]=B}for(et=0;et<L;++et)ct[et]=0;return ct},zero:vo});function po(a){return r.range(a.length)}function vo(a){for(var x=-1,L=a[0].length,B=[];++x<L;)B[x]=0;return B}function Xh(a){for(var x=1,L=0,B=a[0][1],q,et=a.length;x<et;++x)(q=a[x][1])>B&&(L=x,B=q);return L}function qh(a){return a.reduce($h,0)}function $h(a,x){return a+x[1]}r.layout.histogram=function(){var a=!0,x=Number,L=Kh,B=Qh;function q(et,vt){for(var ct=[],wt=et.map(x,this),St=L.call(this,wt,vt),Ot=B.call(this,St,wt,vt),Gt,vt=-1,Qt=wt.length,de=Ot.length-1,_e=a?1:1/Qt,te;++vt<de;)Gt=ct[vt]=[],Gt.dx=Ot[vt+1]-(Gt.x=Ot[vt]),Gt.y=0;if(de>0)for(vt=-1;++vt<Qt;)te=wt[vt],te>=St[0]&&te<=St[1]&&(Gt=ct[r.bisect(Ot,te,1,de)-1],Gt.y+=_e,Gt.push(et[vt]));return ct}return q.value=function(et){return arguments.length?(x=et,q):x},q.range=function(et){return arguments.length?(L=ge(et),q):L},q.bins=function(et){return arguments.length?(B=typeof et=="number"?function(vt){return ms(vt,et)}:ge(et),q):B},q.frequency=function(et){return arguments.length?(a=!!et,q):a},q};function Qh(a,x){return ms(a,Math.ceil(Math.log(x.length)/Math.LN2+1))}function ms(a,x){for(var L=-1,B=+a[0],q=(a[1]-B)/x,et=[];++L<=x;)et[L]=q*L+B;return et}function Kh(a){return[r.min(a),r.max(a)]}r.layout.pack=function(){var a=r.layout.hierarchy().sort(tp),x=0,L=[1,1],B;function q(et,vt){var ct=a.call(this,et,vt),wt=ct[0],St=L[0],Ot=L[1],Gt=B==null?Math.sqrt:typeof B=="function"?B:function(){return B};if(wt.x=wt.y=0,Ga(wt,function(de){de.r=+Gt(de.value)}),Ga(wt,_s),x){var Qt=x*(B?1:Math.max(2*wt.r/St,2*wt.r/Ot))/2;Ga(wt,function(de){de.r+=Qt}),Ga(wt,_s),Ga(wt,function(de){de.r-=Qt})}return ws(wt,St/2,Ot/2,B?1:1/Math.max(2*wt.r/St,2*wt.r/Ot)),ct}return q.size=function(et){return arguments.length?(L=et,q):L},q.radius=function(et){return arguments.length?(B=et==null||typeof et=="function"?et:+et,q):B},q.padding=function(et){return arguments.length?(x=+et,q):x},Vr(q,a)};function tp(a,x){return a.value-x.value}function go(a,x){var L=a._pack_next;a._pack_next=x,x._pack_prev=a,x._pack_next=L,L._pack_prev=x}function xs(a,x){a._pack_next=x,x._pack_prev=a}function bs(a,x){var L=x.x-a.x,B=x.y-a.y,q=a.r+x.r;return .999*q*q>L*L+B*B}function _s(a){if(!(x=a.children)||!(Qt=x.length))return;var x,L=1/0,B=-1/0,q=1/0,et=-1/0,vt,ct,wt,St,Ot,Gt,Qt;function de(fe){L=Math.min(fe.x-fe.r,L),B=Math.max(fe.x+fe.r,B),q=Math.min(fe.y-fe.r,q),et=Math.max(fe.y+fe.r,et)}if(x.forEach(ep),vt=x[0],vt.x=-vt.r,vt.y=0,de(vt),Qt>1&&(ct=x[1],ct.x=ct.r,ct.y=0,de(ct),Qt>2))for(wt=x[2],Ms(vt,ct,wt),de(wt),go(vt,wt),vt._pack_prev=wt,go(wt,ct),ct=vt._pack_next,St=3;St<Qt;St++){Ms(vt,ct,wt=x[St]);var _e=0,te=1,ue=1;for(Ot=ct._pack_next;Ot!==ct;Ot=Ot._pack_next,te++)if(bs(Ot,wt)){_e=1;break}if(_e==1)for(Gt=vt._pack_prev;Gt!==Ot._pack_prev&&!bs(Gt,wt);Gt=Gt._pack_prev,ue++);_e?(te<ue||te==ue&&ct.r<vt.r?xs(vt,ct=Ot):xs(vt=Gt,ct),St--):(go(vt,wt),ct=wt,de(wt))}var ce=(L+B)/2,xe=(q+et)/2,be=0;for(St=0;St<Qt;St++)wt=x[St],wt.x-=ce,wt.y-=xe,be=Math.max(be,wt.r+Math.sqrt(wt.x*wt.x+wt.y*wt.y));a.r=be,x.forEach(np)}function ep(a){a._pack_next=a._pack_prev=a}function np(a){delete a._pack_next,delete a._pack_prev}function ws(a,x,L,B){var q=a.children;if(a.x=x+=B*a.x,a.y=L+=B*a.y,a.r*=B,q)for(var et=-1,vt=q.length;++et<vt;)ws(q[et],x,L,B)}function Ms(a,x,L){var B=a.r+L.r,q=x.x-a.x,et=x.y-a.y;if(B&&(q||et)){var vt=x.r+L.r,ct=q*q+et*et;vt*=vt,B*=B;var wt=.5+(B-vt)/(2*ct),St=Math.sqrt(Math.max(0,2*vt*(B+ct)-(B-=ct)*B-vt*vt))/(2*ct);L.x=a.x+wt*q+St*et,L.y=a.y+wt*et-St*q}else L.x=a.x+B,L.y=a.y}r.layout.tree=function(){var a=r.layout.hierarchy().sort(null).value(null),x=Ts,L=[1,1],B=null;function q(Ot,Gt){var Qt=a.call(this,Ot,Gt),de=Qt[0],_e=et(de);if(Ga(_e,vt),_e.parent.m=-_e.z,Yr(_e,ct),B)Yr(de,St);else{var te=de,ue=de,ce=de;Yr(de,function(Ie){Ie.x<te.x&&(te=Ie),Ie.x>ue.x&&(ue=Ie),Ie.depth>ce.depth&&(ce=Ie)});var xe=x(te,ue)/2-te.x,be=L[0]/(ue.x+x(ue,te)/2+xe),fe=L[1]/(ce.depth||1);Yr(de,function(Ie){Ie.x=(Ie.x+xe)*be,Ie.y=Ie.depth*fe})}return Qt}function et(Ot){for(var Gt={A:null,children:[Ot]},Qt=[Gt],de;(de=Qt.pop())!=null;)for(var _e=de.children,te,ue=0,ce=_e.length;ue<ce;++ue)Qt.push((_e[ue]=te={_:_e[ue],parent:de,children:(te=_e[ue].children)&&te.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:ue}).a=te);return Gt.children[0]}function vt(Ot){var Gt=Ot.children,Qt=Ot.parent.children,de=Ot.i?Qt[Ot.i-1]:null;if(Gt.length){rp(Ot);var _e=(Gt[0].z+Gt[Gt.length-1].z)/2;de?(Ot.z=de.z+x(Ot._,de._),Ot.m=Ot.z-_e):Ot.z=_e}else de&&(Ot.z=de.z+x(Ot._,de._));Ot.parent.A=wt(Ot,de,Ot.parent.A||Qt[0])}function ct(Ot){Ot._.x=Ot.z+Ot.parent.m,Ot.m+=Ot.parent.m}function wt(Ot,Gt,Qt){if(Gt){for(var de=Ot,_e=Ot,te=Gt,ue=de.parent.children[0],ce=de.m,xe=_e.m,be=te.m,fe=ue.m,Ie;te=mo(te),de=yo(de),te&&de;)ue=yo(ue),_e=mo(_e),_e.a=Ot,Ie=te.z+be-de.z-ce+x(te._,de._),Ie>0&&(ap(ip(te,Ot,Qt),Ot,Ie),ce+=Ie,xe+=Ie),be+=te.m,ce+=de.m,fe+=ue.m,xe+=_e.m;te&&!mo(_e)&&(_e.t=te,_e.m+=be-xe),de&&!yo(ue)&&(ue.t=de,ue.m+=ce-fe,Qt=Ot)}return Qt}function St(Ot){Ot.x*=L[0],Ot.y=Ot.depth*L[1]}return q.separation=function(Ot){return arguments.length?(x=Ot,q):x},q.size=function(Ot){return arguments.length?(B=(L=Ot)==null?St:null,q):B?null:L},q.nodeSize=function(Ot){return arguments.length?(B=(L=Ot)==null?null:St,q):B?L:null},Vr(q,a)};function Ts(a,x){return a.parent==x.parent?1:2}function yo(a){var x=a.children;return x.length?x[0]:a.t}function mo(a){var x=a.children,L;return(L=x.length)?x[L-1]:a.t}function ap(a,x,L){var B=L/(x.i-a.i);x.c-=B,x.s+=L,a.c+=B,x.z+=L,x.m+=L}function rp(a){for(var x=0,L=0,B=a.children,q=B.length,et;--q>=0;)et=B[q],et.z+=x,et.m+=x,x+=et.s+(L+=et.c)}function ip(a,x,L){return a.a.parent===x.parent?a.a:L}r.layout.cluster=function(){var a=r.layout.hierarchy().sort(null).value(null),x=Ts,L=[1,1],B=!1;function q(et,vt){var ct=a.call(this,et,vt),wt=ct[0],St,Ot=0;Ga(wt,function(te){var ue=te.children;ue&&ue.length?(te.x=lp(ue),te.y=op(ue)):(te.x=St?Ot+=x(te,St):0,te.y=0,St=te)});var Gt=ks(wt),Qt=As(wt),de=Gt.x-x(Gt,Qt)/2,_e=Qt.x+x(Qt,Gt)/2;return Ga(wt,B?function(te){te.x=(te.x-wt.x)*L[0],te.y=(wt.y-te.y)*L[1]}:function(te){te.x=(te.x-de)/(_e-de)*L[0],te.y=(1-(wt.y?te.y/wt.y:1))*L[1]}),ct}return q.separation=function(et){return arguments.length?(x=et,q):x},q.size=function(et){return arguments.length?(B=(L=et)==null,q):B?null:L},q.nodeSize=function(et){return arguments.length?(B=(L=et)!=null,q):B?L:null},Vr(q,a)};function op(a){return 1+r.max(a,function(x){return x.y})}function lp(a){return a.reduce(function(x,L){return x+L.x},0)/a.length}function ks(a){var x=a.children;return x&&x.length?ks(x[0]):a}function As(a){var x=a.children,L;return x&&(L=x.length)?As(x[L-1]):a}r.layout.treemap=function(){var a=r.layout.hierarchy(),x=Math.round,L=[1,1],B=null,q=xo,et=!1,vt,ct="squarify",wt=.5*(1+Math.sqrt(5));function St(te,ue){for(var ce=-1,xe=te.length,be,fe;++ce<xe;)fe=(be=te[ce]).value*(ue<0?0:ue),be.area=isNaN(fe)||fe<=0?0:fe}function Ot(te){var ue=te.children;if(ue&&ue.length){var ce=q(te),xe=[],be=ue.slice(),fe,Ie=1/0,We,qe=ct==="slice"?ce.dx:ct==="dice"?ce.dy:ct==="slice-dice"?te.depth&1?ce.dy:ce.dx:Math.min(ce.dx,ce.dy),Xe;for(St(be,ce.dx*ce.dy/te.value),xe.area=0;(Xe=be.length)>0;)xe.push(fe=be[Xe-1]),xe.area+=fe.area,ct!=="squarify"||(We=Qt(xe,qe))<=Ie?(be.pop(),Ie=We):(xe.area-=xe.pop().area,de(xe,qe,ce,!1),qe=Math.min(ce.dx,ce.dy),xe.length=xe.area=0,Ie=1/0);xe.length&&(de(xe,qe,ce,!0),xe.length=xe.area=0),ue.forEach(Ot)}}function Gt(te){var ue=te.children;if(ue&&ue.length){var ce=q(te),xe=ue.slice(),be,fe=[];for(St(xe,ce.dx*ce.dy/te.value),fe.area=0;be=xe.pop();)fe.push(be),fe.area+=be.area,be.z!=null&&(de(fe,be.z?ce.dx:ce.dy,ce,!xe.length),fe.length=fe.area=0);ue.forEach(Gt)}}function Qt(te,ue){for(var ce=te.area,xe,be=0,fe=1/0,Ie=-1,We=te.length;++Ie<We;)(xe=te[Ie].area)&&(xe<fe&&(fe=xe),xe>be&&(be=xe));return ce*=ce,ue*=ue,ce?Math.max(ue*be*wt/ce,ce/(ue*fe*wt)):1/0}function de(te,ue,ce,xe){var be=-1,fe=te.length,Ie=ce.x,We=ce.y,qe=ue?x(te.area/ue):0,Xe;if(ue==ce.dx){for((xe||qe>ce.dy)&&(qe=ce.dy);++be<fe;)Xe=te[be],Xe.x=Ie,Xe.y=We,Xe.dy=qe,Ie+=Xe.dx=Math.min(ce.x+ce.dx-Ie,qe?x(Xe.area/qe):0);Xe.z=!0,Xe.dx+=ce.x+ce.dx-Ie,ce.y+=qe,ce.dy-=qe}else{for((xe||qe>ce.dx)&&(qe=ce.dx);++be<fe;)Xe=te[be],Xe.x=Ie,Xe.y=We,Xe.dx=qe,We+=Xe.dy=Math.min(ce.y+ce.dy-We,qe?x(Xe.area/qe):0);Xe.z=!1,Xe.dy+=ce.y+ce.dy-We,ce.x+=qe,ce.dx-=qe}}function _e(te){var ue=vt||a(te),ce=ue[0];return ce.x=ce.y=0,ce.value?(ce.dx=L[0],ce.dy=L[1]):ce.dx=ce.dy=0,vt&&a.revalue(ce),St([ce],ce.dx*ce.dy/ce.value),(vt?Gt:Ot)(ce),et&&(vt=ue),ue}return _e.size=function(te){return arguments.length?(L=te,_e):L},_e.padding=function(te){if(!arguments.length)return B;function ue(be){var fe=te.call(_e,be,be.depth);return fe==null?xo(be):Ls(be,typeof fe=="number"?[fe,fe,fe,fe]:fe)}function ce(be){return Ls(be,te)}var xe;return q=(B=te)==null?xo:(xe=typeof te)=="function"?ue:(xe==="number"&&(te=[te,te,te,te]),ce),_e},_e.round=function(te){return arguments.length?(x=te?Math.round:Number,_e):x!=Number},_e.sticky=function(te){return arguments.length?(et=te,vt=null,_e):et},_e.ratio=function(te){return arguments.length?(wt=te,_e):wt},_e.mode=function(te){return arguments.length?(ct=te+"",_e):ct},Vr(_e,a)};function xo(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function Ls(a,x){var L=a.x+x[3],B=a.y+x[0],q=a.dx-x[1]-x[3],et=a.dy-x[0]-x[2];return q<0&&(L+=q/2,q=0),et<0&&(B+=et/2,et=0),{x:L,y:B,dx:q,dy:et}}r.random={normal:function(a,x){var L=arguments.length;return L<2&&(x=1),L<1&&(a=0),function(){var B,q,et;do B=Math.random()*2-1,q=Math.random()*2-1,et=B*B+q*q;while(!et||et>1);return a+x*B*Math.sqrt(-2*Math.log(et)/et)}},logNormal:function(){var a=r.random.normal.apply(r,arguments);return function(){return Math.exp(a())}},bates:function(a){var x=r.random.irwinHall(a);return function(){return x()/a}},irwinHall:function(a){return function(){for(var x=0,L=0;L<a;L++)x+=Math.random();return x}}},r.scale={};function ci(a){var x=a[0],L=a[a.length-1];return x<L?[x,L]:[L,x]}function fi(a){return a.rangeExtent?a.rangeExtent():ci(a.range())}function sp(a,x,L,B){var q=L(a[0],a[1]),et=B(x[0],x[1]);return function(vt){return et(q(vt))}}function bo(a,x){var L=0,B=a.length-1,q=a[L],et=a[B],vt;return et<q&&(vt=L,L=B,B=vt,vt=q,q=et,et=vt),a[L]=x.floor(q),a[B]=x.ceil(et),a}function Ss(a){return a?{floor:function(x){return Math.floor(x/a)*a},ceil:function(x){return Math.ceil(x/a)*a}}:up}var up={floor:U,ceil:U};function cp(a,x,L,B){var q=[],et=[],vt=0,ct=Math.min(a.length,x.length)-1;for(a[ct]<a[0]&&(a=a.slice().reverse(),x=x.slice().reverse());++vt<=ct;)q.push(L(a[vt-1],a[vt])),et.push(B(x[vt-1],x[vt]));return function(wt){var St=r.bisect(a,wt,1,ct)-1;return et[St](q[St](wt))}}r.scale.linear=function(){return Os([0,1],[0,1],gr,!1)};function Os(a,x,L,B){var q,et;function vt(){var wt=Math.min(a.length,x.length)>2?cp:sp,St=B?Dh:Oh;return q=wt(a,x,St,L),et=wt(x,a,St,gr),ct}function ct(wt){return q(wt)}return ct.invert=function(wt){return et(wt)},ct.domain=function(wt){return arguments.length?(a=wt.map(Number),vt()):a},ct.range=function(wt){return arguments.length?(x=wt,vt()):x},ct.rangeRound=function(wt){return ct.range(wt).interpolate(cs)},ct.clamp=function(wt){return arguments.length?(B=wt,vt()):B},ct.interpolate=function(wt){return arguments.length?(L=wt,vt()):L},ct.ticks=function(wt){return wo(a,wt)},ct.tickFormat=function(wt,St){return d3_scale_linearTickFormat(a,wt,St)},ct.nice=function(wt){return Cs(a,wt),vt()},ct.copy=function(){return Os(a,x,L,B)},vt()}function Ds(a,x){return r.rebind(a,x,"range","rangeRound","interpolate","clamp")}function Cs(a,x){return bo(a,Ss(_o(a,x)[2])),bo(a,Ss(_o(a,x)[2])),a}function _o(a,x){x==null&&(x=10);var L=ci(a),B=L[1]-L[0],q=Math.pow(10,Math.floor(Math.log(B/x)/Math.LN10)),et=x/B*q;return et<=.15?q*=10:et<=.35?q*=5:et<=.75&&(q*=2),L[0]=Math.ceil(L[0]/q)*q,L[1]=Math.floor(L[1]/q)*q+q*.5,L[2]=q,L}function wo(a,x){return r.range.apply(r,_o(a,x))}r.scale.log=function(){return Ps(r.scale.linear().domain([0,1]),10,!0,[1,10])};function Ps(a,x,L,B){function q(ct){return(L?Math.log(ct<0?0:ct):-Math.log(ct>0?0:-ct))/Math.log(x)}function et(ct){return L?Math.pow(x,ct):-Math.pow(x,-ct)}function vt(ct){return a(q(ct))}return vt.invert=function(ct){return et(a.invert(ct))},vt.domain=function(ct){return arguments.length?(L=ct[0]>=0,a.domain((B=ct.map(Number)).map(q)),vt):B},vt.base=function(ct){return arguments.length?(x=+ct,a.domain(B.map(q)),vt):x},vt.nice=function(){var ct=bo(B.map(q),L?Math:fp);return a.domain(ct),B=ct.map(et),vt},vt.ticks=function(){var ct=ci(B),wt=[],St=ct[0],Ot=ct[1],Gt=Math.floor(q(St)),Qt=Math.ceil(q(Ot)),de=x%1?2:x;if(isFinite(Qt-Gt)){if(L){for(;Gt<Qt;Gt++)for(var _e=1;_e<de;_e++)wt.push(et(Gt)*_e);wt.push(et(Gt))}else for(wt.push(et(Gt));Gt++<Qt;)for(var _e=de-1;_e>0;_e--)wt.push(et(Gt)*_e);for(Gt=0;wt[Gt]<St;Gt++);for(Qt=wt.length;wt[Qt-1]>Ot;Qt--);wt=wt.slice(Gt,Qt)}return wt},vt.copy=function(){return Ps(a.copy(),x,L,B)},Ds(vt,a)}var fp={floor:function(a){return-Math.ceil(-a)},ceil:function(a){return-Math.floor(-a)}};r.scale.pow=function(){return Is(r.scale.linear(),1,[0,1])};function Is(a,x,L){var B=di(x),q=di(1/x);function et(vt){return a(B(vt))}return et.invert=function(vt){return q(a.invert(vt))},et.domain=function(vt){return arguments.length?(a.domain((L=vt.map(Number)).map(B)),et):L},et.ticks=function(vt){return wo(L,vt)},et.tickFormat=function(vt,ct){return d3_scale_linearTickFormat(L,vt,ct)},et.nice=function(vt){return et.domain(Cs(L,vt))},et.exponent=function(vt){return arguments.length?(B=di(x=vt),q=di(1/x),a.domain(L.map(B)),et):x},et.copy=function(){return Is(a.copy(),x,L)},Ds(et,a)}function di(a){return function(x){return x<0?-Math.pow(-x,a):Math.pow(x,a)}}r.scale.sqrt=function(){return r.scale.pow().exponent(.5)},r.scale.ordinal=function(){return Fs([],{t:"range",a:[[]]})};function Fs(a,x){var L,B,q;function et(ct){return B[((L.get(ct)||(x.t==="range"?L.set(ct,a.push(ct)):NaN))-1)%B.length]}function vt(ct,wt){return r.range(a.length).map(function(St){return ct+wt*St})}return et.domain=function(ct){if(!arguments.length)return a;a=[],L=new w;for(var wt=-1,St=ct.length,Ot;++wt<St;)L.has(Ot=ct[wt])||L.set(Ot,a.push(Ot));return et[x.t].apply(et,x.a)},et.range=function(ct){return arguments.length?(B=ct,q=0,x={t:"range",a:arguments},et):B},et.rangePoints=function(ct,wt){arguments.length<2&&(wt=0);var St=ct[0],Ot=ct[1],Gt=a.length<2?(St=(St+Ot)/2,0):(Ot-St)/(a.length-1+wt);return B=vt(St+Gt*wt/2,Gt),q=0,x={t:"rangePoints",a:arguments},et},et.rangeRoundPoints=function(ct,wt){arguments.length<2&&(wt=0);var St=ct[0],Ot=ct[1],Gt=a.length<2?(St=Ot=Math.round((St+Ot)/2),0):(Ot-St)/(a.length-1+wt)|0;return B=vt(St+Math.round(Gt*wt/2+(Ot-St-(a.length-1+wt)*Gt)/2),Gt),q=0,x={t:"rangeRoundPoints",a:arguments},et},et.rangeBands=function(ct,wt,St){arguments.length<2&&(wt=0),arguments.length<3&&(St=wt);var Ot=ct[1]<ct[0],Gt=ct[Ot-0],Qt=ct[1-Ot],de=(Qt-Gt)/(a.length-wt+2*St);return B=vt(Gt+de*St,de),Ot&&B.reverse(),q=de*(1-wt),x={t:"rangeBands",a:arguments},et},et.rangeRoundBands=function(ct,wt,St){arguments.length<2&&(wt=0),arguments.length<3&&(St=wt);var Ot=ct[1]<ct[0],Gt=ct[Ot-0],Qt=ct[1-Ot],de=Math.floor((Qt-Gt)/(a.length-wt+2*St));return B=vt(Gt+Math.round((Qt-Gt-(a.length-wt)*de)/2),de),Ot&&B.reverse(),q=Math.round(de*(1-wt)),x={t:"rangeRoundBands",a:arguments},et},et.rangeBand=function(){return q},et.rangeExtent=function(){return ci(x.a[0])},et.copy=function(){return Fs(a,x)},et.domain(a)}r.scale.category10=function(){return r.scale.ordinal().range(dp)},r.scale.category20=function(){return r.scale.ordinal().range(hp)},r.scale.category20b=function(){return r.scale.ordinal().range(pp)},r.scale.category20c=function(){return r.scale.ordinal().range(vp)};var dp=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(jt),hp=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(jt),pp=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(jt),vp=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(jt);r.scale.quantile=function(){return Ns([],[])};function Ns(a,x){var L;function B(){var et=0,vt=x.length;for(L=[];++et<vt;)L[et-1]=r.quantile(a,et/vt);return q}function q(et){if(!isNaN(et=+et))return x[r.bisect(L,et)]}return q.domain=function(et){return arguments.length?(a=et.map(_).filter(m).sort(h),B()):a},q.range=function(et){return arguments.length?(x=et,B()):x},q.quantiles=function(){return L},q.invertExtent=function(et){return et=x.indexOf(et),et<0?[NaN,NaN]:[et>0?L[et-1]:a[0],et<L.length?L[et]:a[a.length-1]]},q.copy=function(){return Ns(a,x)},B()}r.scale.quantize=function(){return zs(0,1,[0,1])};function zs(a,x,L){var B,q;function et(ct){return L[Math.max(0,Math.min(q,Math.floor(B*(ct-a))))]}function vt(){return B=L.length/(x-a),q=L.length-1,et}return et.domain=function(ct){return arguments.length?(a=+ct[0],x=+ct[ct.length-1],vt()):[a,x]},et.range=function(ct){return arguments.length?(L=ct,vt()):L},et.invertExtent=function(ct){return ct=L.indexOf(ct),ct=ct<0?NaN:ct/B+a,[ct,ct+1/B]},et.copy=function(){return zs(a,x,L)},vt()}r.scale.threshold=function(){return Rs([.5],[0,1])};function Rs(a,x){function L(B){if(B<=B)return x[r.bisect(a,B)]}return L.domain=function(B){return arguments.length?(a=B,L):a},L.range=function(B){return arguments.length?(x=B,L):x},L.invertExtent=function(B){return B=x.indexOf(B),[a[B-1],a[B]]},L.copy=function(){return Rs(a,x)},L}r.scale.identity=function(){return Es([0,1])};function Es(a){function x(L){return+L}return x.invert=x,x.domain=x.range=function(L){return arguments.length?(a=L.map(x),x):a},x.ticks=function(L){return wo(a,L)},x.tickFormat=function(L,B){return d3_scale_linearTickFormat(a,L,B)},x.copy=function(){return Es(a)},x}r.svg={};function gp(){return 0}r.svg.arc=function(){var a=yp,x=mp,L=gp,B=hi,q=js,et=Hs,vt=xp;function ct(){var St=Math.max(0,+a.apply(this,arguments)),Ot=Math.max(0,+x.apply(this,arguments)),Gt=q.apply(this,arguments)-gt,Qt=et.apply(this,arguments)-gt,de=Math.abs(Qt-Gt),_e=Gt>Qt?0:1;if(Ot<St&&(te=Ot,Ot=St,St=te),de>=yt)return wt(Ot,_e)+(St?wt(St,1-_e):"")+"Z";var te,ue,ce,xe,be=0,fe=0,Ie,We,qe,Xe,tn,en,dn,rn,cn=[];if((xe=(+vt.apply(this,arguments)||0)/2)&&(ce=B===hi?Math.sqrt(St*St+Ot*Ot):+B.apply(this,arguments),_e||(fe*=-1),Ot&&(fe=qt(ce/Ot*Math.sin(xe))),St&&(be=qt(ce/St*Math.sin(xe)))),Ot){Ie=Ot*Math.cos(Gt+fe),We=Ot*Math.sin(Gt+fe),qe=Ot*Math.cos(Qt-fe),Xe=Ot*Math.sin(Qt-fe);var Cn=Math.abs(Qt-Gt-2*fe)<=Q?0:1;if(fe&&pi(Ie,We,qe,Xe)===_e^Cn){var Kn=(Gt+Qt)/2;Ie=Ot*Math.cos(Kn),We=Ot*Math.sin(Kn),qe=Xe=null}}else Ie=We=0;if(St){tn=St*Math.cos(Qt-be),en=St*Math.sin(Qt-be),dn=St*Math.cos(Gt+be),rn=St*Math.sin(Gt+be);var Nn=Math.abs(Gt-Qt+2*be)<=Q?0:1;if(be&&pi(tn,en,dn,rn)===1-_e^Nn){var Ze=(Gt+Qt)/2;tn=St*Math.cos(Ze),en=St*Math.sin(Ze),dn=rn=null}}else tn=en=0;if(de>Lt&&(te=Math.min(Math.abs(Ot-St)/2,+L.apply(this,arguments)))>.001){ue=St<Ot^_e?0:1;var hn=te,yn=te;if(de<Q){var Pn=dn==null?[tn,en]:qe==null?[Ie,We]:Gn([Ie,We],[dn,rn],[qe,Xe],[tn,en]),qn=Ie-Pn[0],ia=We-Pn[1],fa=qe-Pn[0],Ma=Xe-Pn[1],Aa=1/Math.sin(Math.acos((qn*fa+ia*Ma)/(Math.sqrt(qn*qn+ia*ia)*Math.sqrt(fa*fa+Ma*Ma)))/2),Ta=Math.sqrt(Pn[0]*Pn[0]+Pn[1]*Pn[1]);yn=Math.min(te,(St-Ta)/(Aa-1)),hn=Math.min(te,(Ot-Ta)/(Aa+1))}if(qe!=null){var Oa=vi(dn==null?[tn,en]:[dn,rn],[Ie,We],Ot,hn,_e),ma=vi([qe,Xe],[tn,en],Ot,hn,_e);te===hn?cn.push("M",Oa[0],"A",hn,",",hn," 0 0,",ue," ",Oa[1],"A",Ot,",",Ot," 0 ",1-_e^pi(Oa[1][0],Oa[1][1],ma[1][0],ma[1][1]),",",_e," ",ma[1],"A",hn,",",hn," 0 0,",ue," ",ma[0]):cn.push("M",Oa[0],"A",hn,",",hn," 0 1,",ue," ",ma[0])}else cn.push("M",Ie,",",We);if(dn!=null){var Da=vi([Ie,We],[dn,rn],St,-yn,_e),mr=vi([tn,en],qe==null?[Ie,We]:[qe,Xe],St,-yn,_e);te===yn?cn.push("L",mr[0],"A",yn,",",yn," 0 0,",ue," ",mr[1],"A",St,",",St," 0 ",_e^pi(mr[1][0],mr[1][1],Da[1][0],Da[1][1]),",",1-_e," ",Da[1],"A",yn,",",yn," 0 0,",ue," ",Da[0]):cn.push("L",mr[0],"A",yn,",",yn," 0 0,",ue," ",Da[0])}else cn.push("L",tn,",",en)}else cn.push("M",Ie,",",We),qe!=null&&cn.push("A",Ot,",",Ot," 0 ",Cn,",",_e," ",qe,",",Xe),cn.push("L",tn,",",en),dn!=null&&cn.push("A",St,",",St," 0 ",Nn,",",1-_e," ",dn,",",rn);return cn.push("Z"),cn.join("")}function wt(St,Ot){return"M0,"+St+"A"+St+","+St+" 0 1,"+Ot+" 0,"+-St+"A"+St+","+St+" 0 1,"+Ot+" 0,"+St}return ct.innerRadius=function(St){return arguments.length?(a=ge(St),ct):a},ct.outerRadius=function(St){return arguments.length?(x=ge(St),ct):x},ct.cornerRadius=function(St){return arguments.length?(L=ge(St),ct):L},ct.padRadius=function(St){return arguments.length?(B=St==hi?hi:ge(St),ct):B},ct.startAngle=function(St){return arguments.length?(q=ge(St),ct):q},ct.endAngle=function(St){return arguments.length?(et=ge(St),ct):et},ct.padAngle=function(St){return arguments.length?(vt=ge(St),ct):vt},ct.centroid=function(){var St=(+a.apply(this,arguments)+ +x.apply(this,arguments))/2,Ot=(+q.apply(this,arguments)+ +et.apply(this,arguments))/2-gt;return[Math.cos(Ot)*St,Math.sin(Ot)*St]},ct};var hi="auto";function yp(a){return a.innerRadius}function mp(a){return a.outerRadius}function js(a){return a.startAngle}function Hs(a){return a.endAngle}function xp(a){return a&&a.padAngle}function pi(a,x,L,B){return(a-L)*x-(x-B)*a>0?0:1}function vi(a,x,L,B,q){var et=a[0]-x[0],vt=a[1]-x[1],ct=(q?B:-B)/Math.sqrt(et*et+vt*vt),wt=ct*vt,St=-ct*et,Ot=a[0]+wt,Gt=a[1]+St,Qt=x[0]+wt,de=x[1]+St,_e=(Ot+Qt)/2,te=(Gt+de)/2,ue=Qt-Ot,ce=de-Gt,xe=ue*ue+ce*ce,be=L-B,fe=Ot*de-Qt*Gt,Ie=(ce<0?-1:1)*Math.sqrt(Math.max(0,be*be*xe-fe*fe)),We=(fe*ce-ue*Ie)/xe,qe=(-fe*ue-ce*Ie)/xe,Xe=(fe*ce+ue*Ie)/xe,tn=(-fe*ue+ce*Ie)/xe,en=We-_e,dn=qe-te,rn=Xe-_e,cn=tn-te;return en*en+dn*dn>rn*rn+cn*cn&&(We=Xe,qe=tn),[[We-wt,qe-St],[We*L/be,qe*L/be]]}function Bs(){return!0}function Vs(a){var x=Sn,L=jn,B=Bs,q=ja,et=q.key,vt=.7;function ct(wt){var St=[],Ot=[],Gt=-1,Qt=wt.length,de,_e=ge(x),te=ge(L);function ue(){St.push("M",q(a(Ot),vt))}for(;++Gt<Qt;)B.call(this,de=wt[Gt],Gt)?Ot.push([+_e.call(this,de,Gt),+te.call(this,de,Gt)]):Ot.length&&(ue(),Ot=[]);return Ot.length&&ue(),St.length?St.join(""):null}return ct.x=function(wt){return arguments.length?(x=wt,ct):x},ct.y=function(wt){return arguments.length?(L=wt,ct):L},ct.defined=function(wt){return arguments.length?(B=wt,ct):B},ct.interpolate=function(wt){return arguments.length?(typeof wt=="function"?et=q=wt:et=(q=Mo.get(wt)||ja).key,ct):et},ct.tension=function(wt){return arguments.length?(vt=wt,ct):vt},ct}r.svg.line=function(){return Vs(U)};var Mo=r.map({linear:ja,"linear-closed":Ys,step:bp,"step-before":To,"step-after":ko,basis:Us,"basis-open":Tp,"basis-closed":kp,bundle:Ap,cardinal:Mp,"cardinal-open":_p,"cardinal-closed":wp,monotone:Op});Mo.forEach(function(a,x){x.key=a,x.closed=/-closed$/.test(a)});function ja(a){return a.length>1?a.join("L"):a+"Z"}function Ys(a){return a.join("L")+"Z"}function bp(a){for(var x=0,L=a.length,B=a[0],q=[B[0],",",B[1]];++x<L;)q.push("H",(B[0]+(B=a[x])[0])/2,"V",B[1]);return L>1&&q.push("H",B[0]),q.join("")}function To(a){for(var x=0,L=a.length,B=a[0],q=[B[0],",",B[1]];++x<L;)q.push("V",(B=a[x])[1],"H",B[0]);return q.join("")}function ko(a){for(var x=0,L=a.length,B=a[0],q=[B[0],",",B[1]];++x<L;)q.push("H",(B=a[x])[0],"V",B[1]);return q.join("")}function _p(a,x){return a.length<4?ja(a):a[1]+gi(a.slice(1,-1),Ao(a,x))}function wp(a,x){return a.length<3?Ys(a):a[0]+gi((a.push(a[0]),a),Ao([a[a.length-2]].concat(a,[a[1]]),x))}function Mp(a,x){return a.length<3?ja(a):a[0]+gi(a,Ao(a,x))}function gi(a,x){if(x.length<1||a.length!=x.length&&a.length!=x.length+2)return ja(a);var L=a.length!=x.length,B="",q=a[0],et=a[1],vt=x[0],ct=vt,wt=1;if(L&&(B+="Q"+(et[0]-vt[0]*2/3)+","+(et[1]-vt[1]*2/3)+","+et[0]+","+et[1],q=a[1],wt=2),x.length>1){ct=x[1],et=a[wt],wt++,B+="C"+(q[0]+vt[0])+","+(q[1]+vt[1])+","+(et[0]-ct[0])+","+(et[1]-ct[1])+","+et[0]+","+et[1];for(var St=2;St<x.length;St++,wt++)et=a[wt],ct=x[St],B+="S"+(et[0]-ct[0])+","+(et[1]-ct[1])+","+et[0]+","+et[1]}if(L){var Ot=a[wt];B+="Q"+(et[0]+ct[0]*2/3)+","+(et[1]+ct[1]*2/3)+","+Ot[0]+","+Ot[1]}return B}function Ao(a,x){for(var L=[],B=(1-x)/2,q,et=a[0],vt=a[1],ct=1,wt=a.length;++ct<wt;)q=et,et=vt,vt=a[ct],L.push([B*(vt[0]-q[0]),B*(vt[1]-q[1])]);return L}function Us(a){if(a.length<3)return ja(a);var x=1,L=a.length,B=a[0],q=B[0],et=B[1],vt=[q,q,q,(B=a[1])[0]],ct=[et,et,et,B[1]],wt=[q,",",et,"L",Fa(ir,vt),",",Fa(ir,ct)];for(a.push(a[L-1]);++x<=L;)B=a[x],vt.shift(),vt.push(B[0]),ct.shift(),ct.push(B[1]),Lo(wt,vt,ct);return a.pop(),wt.push("L",B),wt.join("")}function Tp(a){if(a.length<4)return ja(a);for(var x=[],L=-1,B=a.length,q,et=[0],vt=[0];++L<3;)q=a[L],et.push(q[0]),vt.push(q[1]);for(x.push(Fa(ir,et)+","+Fa(ir,vt)),--L;++L<B;)q=a[L],et.shift(),et.push(q[0]),vt.shift(),vt.push(q[1]),Lo(x,et,vt);return x.join("")}function kp(a){for(var x,L=-1,B=a.length,q=B+4,et,vt=[],ct=[];++L<4;)et=a[L%B],vt.push(et[0]),ct.push(et[1]);for(x=[Fa(ir,vt),",",Fa(ir,ct)],--L;++L<q;)et=a[L%B],vt.shift(),vt.push(et[0]),ct.shift(),ct.push(et[1]),Lo(x,vt,ct);return x.join("")}function Ap(a,x){var L=a.length-1;if(L)for(var B=a[0][0],q=a[0][1],et=a[L][0]-B,vt=a[L][1]-q,ct=-1,wt,St;++ct<=L;)wt=a[ct],St=ct/L,wt[0]=x*wt[0]+(1-x)*(B+St*et),wt[1]=x*wt[1]+(1-x)*(q+St*vt);return Us(a)}function Fa(a,x){return a[0]*x[0]+a[1]*x[1]+a[2]*x[2]+a[3]*x[3]}var Zs=[0,2/3,1/3,0],Gs=[0,1/3,2/3,0],ir=[0,1/6,2/3,1/6];function Lo(a,x,L){a.push("C",Fa(Zs,x),",",Fa(Zs,L),",",Fa(Gs,x),",",Fa(Gs,L),",",Fa(ir,x),",",Fa(ir,L))}function So(a,x){return(x[1]-a[1])/(x[0]-a[0])}function Lp(a){for(var x=0,L=a.length-1,B=[],q=a[0],et=a[1],vt=B[0]=So(q,et);++x<L;)B[x]=(vt+(vt=So(q=et,et=a[x+1])))/2;return B[x]=vt,B}function Sp(a){for(var x=[],L,B,q,et,vt=Lp(a),ct=-1,wt=a.length-1;++ct<wt;)L=So(a[ct],a[ct+1]),c(L)<Lt?vt[ct]=vt[ct+1]=0:(B=vt[ct]/L,q=vt[ct+1]/L,et=B*B+q*q,et>9&&(et=L*3/Math.sqrt(et),vt[ct]=et*B,vt[ct+1]=et*q));for(ct=-1;++ct<=wt;)et=(a[Math.min(wt,ct+1)][0]-a[Math.max(0,ct-1)][0])/(6*(1+vt[ct]*vt[ct])),x.push([et||0,vt[ct]*et||0]);return x}function Op(a){return a.length<3?ja(a):a[0]+gi(a,Sp(a))}r.svg.line.radial=function(){var a=Vs(Ws);return a.radius=a.x,delete a.x,a.angle=a.y,delete a.y,a};function Ws(a){for(var x,L=-1,B=a.length,q,et;++L<B;)x=a[L],q=x[0],et=x[1]-gt,x[0]=q*Math.cos(et),x[1]=q*Math.sin(et);return a}function Js(a){var x=Sn,L=Sn,B=0,q=jn,et=Bs,vt=ja,ct=vt.key,wt=vt,St="L",Ot=.7;function Gt(Qt){var de=[],_e=[],te=[],ue=-1,ce=Qt.length,xe,be=ge(x),fe=ge(B),Ie=x===L?function(){return qe}:ge(L),We=B===q?function(){return Xe}:ge(q),qe,Xe;function tn(){de.push("M",vt(a(te),Ot),St,wt(a(_e.reverse()),Ot),"Z")}for(;++ue<ce;)et.call(this,xe=Qt[ue],ue)?(_e.push([qe=+be.call(this,xe,ue),Xe=+fe.call(this,xe,ue)]),te.push([+Ie.call(this,xe,ue),+We.call(this,xe,ue)])):_e.length&&(tn(),_e=[],te=[]);return _e.length&&tn(),de.length?de.join(""):null}return Gt.x=function(Qt){return arguments.length?(x=L=Qt,Gt):L},Gt.x0=function(Qt){return arguments.length?(x=Qt,Gt):x},Gt.x1=function(Qt){return arguments.length?(L=Qt,Gt):L},Gt.y=function(Qt){return arguments.length?(B=q=Qt,Gt):q},Gt.y0=function(Qt){return arguments.length?(B=Qt,Gt):B},Gt.y1=function(Qt){return arguments.length?(q=Qt,Gt):q},Gt.defined=function(Qt){return arguments.length?(et=Qt,Gt):et},Gt.interpolate=function(Qt){return arguments.length?(typeof Qt=="function"?ct=vt=Qt:ct=(vt=Mo.get(Qt)||ja).key,wt=vt.reverse||vt,St=vt.closed?"M":"L",Gt):ct},Gt.tension=function(Qt){return arguments.length?(Ot=Qt,Gt):Ot},Gt}To.reverse=ko,ko.reverse=To,r.svg.area=function(){return Js(U)},r.svg.area.radial=function(){var a=Js(Ws);return a.radius=a.x,delete a.x,a.innerRadius=a.x0,delete a.x0,a.outerRadius=a.x1,delete a.x1,a.angle=a.y,delete a.y,a.startAngle=a.y0,delete a.y0,a.endAngle=a.y1,delete a.y1,a};function Xs(a){return a.source}function qs(a){return a.target}r.svg.chord=function(){var a=Xs,x=qs,L=Dp,B=js,q=Hs;function et(Ot,Gt){var Qt=vt(this,a,Ot,Gt),de=vt(this,x,Ot,Gt);return"M"+Qt.p0+wt(Qt.r,Qt.p1,Qt.a1-Qt.a0)+(ct(Qt,de)?St(Qt.r,Qt.p1,Qt.r,Qt.p0):St(Qt.r,Qt.p1,de.r,de.p0)+wt(de.r,de.p1,de.a1-de.a0)+St(de.r,de.p1,Qt.r,Qt.p0))+"Z"}function vt(Ot,Gt,Qt,de){var _e=Gt.call(Ot,Qt,de),te=L.call(Ot,_e,de),ue=B.call(Ot,_e,de)-gt,ce=q.call(Ot,_e,de)-gt;return{r:te,a0:ue,a1:ce,p0:[te*Math.cos(ue),te*Math.sin(ue)],p1:[te*Math.cos(ce),te*Math.sin(ce)]}}function ct(Ot,Gt){return Ot.a0==Gt.a0&&Ot.a1==Gt.a1}function wt(Ot,Gt,Qt){return"A"+Ot+","+Ot+" 0 "+ +(Qt>Q)+",1 "+Gt}function St(Ot,Gt,Qt,de){return"Q 0,0 "+de}return et.radius=function(Ot){return arguments.length?(L=ge(Ot),et):L},et.source=function(Ot){return arguments.length?(a=ge(Ot),et):a},et.target=function(Ot){return arguments.length?(x=ge(Ot),et):x},et.startAngle=function(Ot){return arguments.length?(B=ge(Ot),et):B},et.endAngle=function(Ot){return arguments.length?(q=ge(Ot),et):q},et};function Dp(a){return a.radius}r.svg.diagonal=function(){var a=Xs,x=qs,L=$s;function B(q,et){var vt=a.call(this,q,et),ct=x.call(this,q,et),wt=(vt.y+ct.y)/2,St=[vt,{x:vt.x,y:wt},{x:ct.x,y:wt},ct];return St=St.map(L),"M"+St[0]+"C"+St[1]+" "+St[2]+" "+St[3]}return B.source=function(q){return arguments.length?(a=ge(q),B):a},B.target=function(q){return arguments.length?(x=ge(q),B):x},B.projection=function(q){return arguments.length?(L=q,B):L},B};function $s(a){return[a.x,a.y]}r.svg.diagonal.radial=function(){var a=r.svg.diagonal(),x=$s,L=a.projection;return a.projection=function(B){return arguments.length?L(Cp(x=B)):x},a};function Cp(a){return function(){var x=a.apply(this,arguments),L=x[0],B=x[1]-gt;return[L*Math.cos(B),L*Math.sin(B)]}}r.svg.symbol=function(){var a=Ip,x=Pp;function L(B,q){return(Ks.get(a.call(this,B,q))||Qs)(x.call(this,B,q))}return L.type=function(B){return arguments.length?(a=ge(B),L):a},L.size=function(B){return arguments.length?(x=ge(B),L):x},L};function Pp(){return 64}function Ip(){return"circle"}function Qs(a){var x=Math.sqrt(a/Q);return"M0,"+x+"A"+x+","+x+" 0 1,1 0,"+-x+"A"+x+","+x+" 0 1,1 0,"+x+"Z"}var Ks=r.map({circle:Qs,cross:function(a){var x=Math.sqrt(a/5)/2;return"M"+-3*x+","+-x+"H"+-x+"V"+-3*x+"H"+x+"V"+-x+"H"+3*x+"V"+x+"H"+x+"V"+3*x+"H"+-x+"V"+x+"H"+-3*x+"Z"},diamond:function(a){var x=Math.sqrt(a/(2*tu)),L=x*tu;return"M0,"+-x+"L"+L+",0 0,"+x+" "+-L+",0Z"},square:function(a){var x=Math.sqrt(a)/2;return"M"+-x+","+-x+"L"+x+","+-x+" "+x+","+x+" "+-x+","+x+"Z"},"triangle-down":function(a){var x=Math.sqrt(a/yi),L=x*yi/2;return"M0,"+L+"L"+x+","+-L+" "+-x+","+-L+"Z"},"triangle-up":function(a){var x=Math.sqrt(a/yi),L=x*yi/2;return"M0,"+-L+"L"+x+","+L+" "+-x+","+L+"Z"}});r.svg.symbolTypes=Ks.keys();var yi=Math.sqrt(3),tu=Math.tan(30*It);N.transition=function(a){for(var x=yr||++nu,L=Do(a),B=[],q,et,vt=xi||{time:Date.now(),ease:dh,delay:0,duration:250},ct=-1,wt=this.length;++ct<wt;){B.push(q=[]);for(var St=this[ct],Ot=-1,Gt=St.length;++Ot<Gt;)(et=St[Ot])&&bi(et,Ot,L,x,vt),q.push(et)}return Ur(B,L,x)},N.interrupt=function(a){return this.each(a==null?mi:eu(Do(a)))};var mi=eu(Do());function eu(a){return function(){var x,L,B;(x=this[a])&&(B=x[L=x.active])&&(B.timer.c=null,B.timer.t=NaN,--x.count?delete x[L]:delete this[a],x.active+=.5,B.event&&B.event.interrupt.call(this,this.__data__,B.index))}}function Ur(a,x,L){return H(a,ra),a.namespace=x,a.id=L,a}var ra=[],nu=0,yr,xi;ra.call=N.call,ra.empty=N.empty,ra.node=N.node,ra.size=N.size,r.transition=function(a,x){return a&&a.transition?yr?a.transition(x):a:r.selection().transition(a)},r.transition.prototype=ra,ra.select=function(a){var x=this.id,L=this.namespace,B=[],q,et,vt;a=M(a);for(var ct=-1,wt=this.length;++ct<wt;){B.push(q=[]);for(var St=this[ct],Ot=-1,Gt=St.length;++Ot<Gt;)(vt=St[Ot])&&(et=a.call(vt,vt.__data__,Ot,ct))?("__data__"in vt&&(et.__data__=vt.__data__),bi(et,Ot,L,x,vt[L][x]),q.push(et)):q.push(null)}return Ur(B,L,x)},ra.selectAll=function(a){var x=this.id,L=this.namespace,B=[],q,et,vt,ct,wt;a=S(a);for(var St=-1,Ot=this.length;++St<Ot;)for(var Gt=this[St],Qt=-1,de=Gt.length;++Qt<de;)if(vt=Gt[Qt]){wt=vt[L][x],et=a.call(vt,vt.__data__,Qt,St),B.push(q=[]);for(var _e=-1,te=et.length;++_e<te;)(ct=et[_e])&&bi(ct,_e,L,x,wt),q.push(ct)}return Ur(B,L,x)},ra.filter=function(a){var x=[],L,B,q;typeof a!="function"&&(a=lt(a));for(var et=0,vt=this.length;et<vt;et++){x.push(L=[]);for(var B=this[et],ct=0,wt=B.length;ct<wt;ct++)(q=B[ct])&&a.call(q,q.__data__,ct,et)&&L.push(q)}return Ur(x,this.namespace,this.id)},ra.tween=function(a,x){var L=this.id,B=this.namespace;return arguments.length<2?this.node()[B][L].tween.get(a):Nt(this,x==null?function(q){q[B][L].tween.remove(a)}:function(q){q[B][L].tween.set(a,x)})};function Oo(a,x,L,B){var q=a.id,et=a.namespace;return Nt(a,typeof L=="function"?function(vt,ct,wt){vt[et][q].tween.set(x,B(L.call(vt,vt.__data__,ct,wt)))}:(L=B(L),function(vt){vt[et][q].tween.set(x,L)}))}ra.attr=function(a,x){if(arguments.length<2){for(x in a)this.attr(x,a[x]);return this}var L=a=="transform"?ps:gr,B=r.ns.qualify(a);function q(){this.removeAttribute(B)}function et(){this.removeAttributeNS(B.space,B.local)}function vt(wt){return wt==null?q:(wt+="",function(){var St=this.getAttribute(B),Ot;return St!==wt&&(Ot=L(St,wt),function(Gt){this.setAttribute(B,Ot(Gt))})})}function ct(wt){return wt==null?et:(wt+="",function(){var St=this.getAttributeNS(B.space,B.local),Ot;return St!==wt&&(Ot=L(St,wt),function(Gt){this.setAttributeNS(B.space,B.local,Ot(Gt))})})}return Oo(this,"attr."+a,x,B.local?ct:vt)},ra.attrTween=function(a,x){var L=r.ns.qualify(a);function B(et,vt){var ct=x.call(this,et,vt,this.getAttribute(L));return ct&&function(wt){this.setAttribute(L,ct(wt))}}function q(et,vt){var ct=x.call(this,et,vt,this.getAttributeNS(L.space,L.local));return ct&&function(wt){this.setAttributeNS(L.space,L.local,ct(wt))}}return this.tween("attr."+a,L.local?q:B)},ra.style=function(a,x,L){var B=arguments.length;if(B<3){if(typeof a!="string"){B<2&&(x="");for(L in a)this.style(L,a[L],x);return this}L=""}function q(){this.style.removeProperty(a)}function et(vt){return vt==null?q:(vt+="",function(){var ct=o(this).getComputedStyle(this,null).getPropertyValue(a),wt;return ct!==vt&&(wt=gr(ct,vt),function(St){this.style.setProperty(a,wt(St),L)})})}return Oo(this,"style."+a,x,et)},ra.styleTween=function(a,x,L){arguments.length<3&&(L="");function B(q,et){var vt=x.call(this,q,et,o(this).getComputedStyle(this,null).getPropertyValue(a));return vt&&function(ct){this.style.setProperty(a,vt(ct),L)}}return this.tween("style."+a,B)},ra.text=function(a){return Oo(this,"text",a,Fp)};function Fp(a){return a==null&&(a=""),function(){this.textContent=a}}ra.remove=function(){var a=this.namespace;return this.each("end.transition",function(){var x;this[a].count<2&&(x=this.parentNode)&&x.removeChild(this)})},ra.ease=function(a){var x=this.id,L=this.namespace;return arguments.length<1?this.node()[L][x].ease:(typeof a!="function"&&(a=r.ease.apply(r,arguments)),Nt(this,function(B){B[L][x].ease=a}))},ra.delay=function(a){var x=this.id,L=this.namespace;return arguments.length<1?this.node()[L][x].delay:Nt(this,typeof a=="function"?function(B,q,et){B[L][x].delay=+a.call(B,B.__data__,q,et)}:(a=+a,function(B){B[L][x].delay=a}))},ra.duration=function(a){var x=this.id,L=this.namespace;return arguments.length<1?this.node()[L][x].duration:Nt(this,typeof a=="function"?function(B,q,et){B[L][x].duration=Math.max(1,a.call(B,B.__data__,q,et))}:(a=Math.max(1,a),function(B){B[L][x].duration=a}))},ra.each=function(a,x){var L=this.id,B=this.namespace;if(arguments.length<2){var q=xi,et=yr;try{yr=L,Nt(this,function(vt,ct,wt){xi=vt[B][L],a.call(vt,vt.__data__,ct,wt)})}finally{xi=q,yr=et}}else Nt(this,function(vt){var ct=vt[B][L];(ct.event||(ct.event=r.dispatch("start","end","interrupt"))).on(a,x)});return this},ra.transition=function(){for(var a=this.id,x=++nu,L=this.namespace,B=[],q,et,vt,ct,wt=0,St=this.length;wt<St;wt++){B.push(q=[]);for(var et=this[wt],Ot=0,Gt=et.length;Ot<Gt;Ot++)(vt=et[Ot])&&(ct=vt[L][a],bi(vt,Ot,L,x,{time:ct.time,ease:ct.ease,delay:ct.delay+ct.duration,duration:ct.duration})),q.push(vt)}return Ur(B,L,x)};function Do(a){return a==null?"__transition__":"__transition_"+a+"__"}function bi(a,x,L,B,q){var et=a[L]||(a[L]={active:0,count:0}),vt=et[B],ct,wt,St,Ot,Gt;function Qt(te){var ue=vt.delay;if(wt.t=ue+ct,ue<=te)return de(te-ue);wt.c=de}function de(te){var ue=et.active,ce=et[ue];ce&&(ce.timer.c=null,ce.timer.t=NaN,--et.count,delete et[ue],ce.event&&ce.event.interrupt.call(a,a.__data__,ce.index));for(var xe in et)if(+xe<B){var be=et[xe];be.timer.c=null,be.timer.t=NaN,--et.count,delete et[xe]}wt.c=_e,mn(function(){return wt.c&&_e(te||1)&&(wt.c=null,wt.t=NaN),1},0,ct),et.active=B,vt.event&&vt.event.start.call(a,a.__data__,x),Gt=[],vt.tween.forEach(function(fe,Ie){(Ie=Ie.call(a,a.__data__,x))&&Gt.push(Ie)}),Ot=vt.ease,St=vt.duration}function _e(te){for(var ue=te/St,ce=Ot(ue),xe=Gt.length;xe>0;)Gt[--xe].call(a,ce);if(ue>=1)return vt.event&&vt.event.end.call(a,a.__data__,x),--et.count?delete et[B]:delete a[L],1}vt||(ct=q.time,wt=mn(Qt,0,ct),vt=et[B]={tween:new w,time:ct,timer:wt,delay:q.delay,duration:q.duration,ease:q.ease,index:x},q=null,++et.count)}r.svg.axis=function(){var a=r.scale.linear(),x=au,L=6,B=6,q=3,et=[10],vt=null,ct;function wt(St){St.each(function(){var Ot=r.select(this),Gt=this.__chart__||a,Qt=this.__chart__=a.copy(),de=vt??(Qt.ticks?Qt.ticks.apply(Qt,et):Qt.domain()),_e=ct??(Qt.tickFormat?Qt.tickFormat.apply(Qt,et):U),te=Ot.selectAll(".tick").data(de,Qt),ue=te.enter().insert("g",".domain").attr("class","tick").style("opacity",Lt),ce=r.transition(te.exit()).style("opacity",Lt).remove(),xe=r.transition(te.order()).style("opacity",1),be=Math.max(L,0)+q,fe,Ie=fi(Qt),We=Ot.selectAll(".domain").data([0]),qe=(We.enter().append("path").attr("class","domain"),r.transition(We));ue.append("line"),ue.append("text");var Xe=ue.select("line"),tn=xe.select("line"),en=te.select("text").text(_e),dn=ue.select("text"),rn=xe.select("text"),cn=x==="top"||x==="left"?-1:1,Cn,Kn,Nn,Ze;if(x==="bottom"||x==="top"?(fe=zp,Cn="x",Nn="y",Kn="x2",Ze="y2",en.attr("dy",cn<0?"0em":".71em").style("text-anchor","middle"),qe.attr("d","M"+Ie[0]+","+cn*B+"V0H"+Ie[1]+"V"+cn*B)):(fe=Rp,Cn="y",Nn="x",Kn="y2",Ze="x2",en.attr("dy",".32em").style("text-anchor",cn<0?"end":"start"),qe.attr("d","M"+cn*B+","+Ie[0]+"H0V"+Ie[1]+"H"+cn*B)),Xe.attr(Ze,cn*L),dn.attr(Nn,cn*be),tn.attr(Kn,0).attr(Ze,cn*L),rn.attr(Cn,0).attr(Nn,cn*be),Qt.rangeBand){var hn=Qt,yn=hn.rangeBand()/2;Gt=Qt=function(Pn){return hn(Pn)+yn}}else Gt.rangeBand?Gt=Qt:ce.call(fe,Qt,Gt);ue.call(fe,Gt,Qt),xe.call(fe,Qt,Qt)})}return wt.scale=function(St){return arguments.length?(a=St,wt):a},wt.orient=function(St){return arguments.length?(x=St in Np?St+"":au,wt):x},wt.ticks=function(){return arguments.length?(et=n(arguments),wt):et},wt.tickValues=function(St){return arguments.length?(vt=St,wt):vt},wt.tickFormat=function(St){return arguments.length?(ct=St,wt):ct},wt.tickSize=function(St){var Ot=arguments.length;return Ot?(L=+St,B=+arguments[Ot-1],wt):L},wt.innerTickSize=function(St){return arguments.length?(L=+St,wt):L},wt.outerTickSize=function(St){return arguments.length?(B=+St,wt):B},wt.tickPadding=function(St){return arguments.length?(q=+St,wt):q},wt.tickSubdivide=function(){return arguments.length&&wt},wt};var au="bottom",Np={top:1,right:1,bottom:1,left:1};function zp(a,x,L){a.attr("transform",function(B){var q=x(B);return"translate("+(isFinite(q)?q:L(B))+",0)"})}function Rp(a,x,L){a.attr("transform",function(B){var q=x(B);return"translate(0,"+(isFinite(q)?q:L(B))+")"})}r.svg.brush=function(){var a=ht(Ot,"brushstart","brush","brushend"),x=null,L=null,B=[0,0],q=[0,0],et,vt,ct=!0,wt=!0,St=Co[0];function Ot(te){te.each(function(){var ue=r.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",_e).on("touchstart.brush",_e),ce=ue.selectAll(".background").data([0]);ce.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),ue.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var xe=ue.selectAll(".resize").data(St,U);xe.exit().remove(),xe.enter().append("g").attr("class",function(We){return"resize "+We}).style("cursor",function(We){return Ep[We]}).append("rect").attr("x",function(We){return/[ew]$/.test(We)?-3:null}).attr("y",function(We){return/^[ns]/.test(We)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),xe.style("display",Ot.empty()?"none":null);var be=r.transition(ue),fe=r.transition(ce),Ie;x&&(Ie=fi(x),fe.attr("x",Ie[0]).attr("width",Ie[1]-Ie[0]),Qt(be)),L&&(Ie=fi(L),fe.attr("y",Ie[0]).attr("height",Ie[1]-Ie[0]),de(be)),Gt(be)})}Ot.event=function(te){te.each(function(){var ue=a.of(this,arguments),ce={x:B,y:q,i:et,j:vt},xe=this.__chart__||ce;this.__chart__=ce,yr?r.select(this).transition().each("start.brush",function(){et=xe.i,vt=xe.j,B=xe.x,q=xe.y,ue({type:"brushstart"})}).tween("brush:brush",function(){var be=ui(B,ce.x),fe=ui(q,ce.y);return et=vt=null,function(Ie){B=ce.x=be(Ie),q=ce.y=fe(Ie),ue({type:"brush",mode:"resize"})}}).each("end.brush",function(){et=ce.i,vt=ce.j,ue({type:"brush",mode:"resize"}),ue({type:"brushend"})}):(ue({type:"brushstart"}),ue({type:"brush",mode:"resize"}),ue({type:"brushend"}))})};function Gt(te){te.selectAll(".resize").attr("transform",function(ue){return"translate("+B[+/e$/.test(ue)]+","+q[+/^s/.test(ue)]+")"})}function Qt(te){te.select(".extent").attr("x",B[0]),te.selectAll(".extent,.n>rect,.s>rect").attr("width",B[1]-B[0])}function de(te){te.select(".extent").attr("y",q[0]),te.selectAll(".extent,.e>rect,.w>rect").attr("height",q[1]-q[0])}function _e(){var te=this,ue=r.select(r.event.target),ce=a.of(te,arguments),xe=r.select(te),be=ue.datum(),fe=!/^(n|s)$/.test(be)&&x,Ie=!/^(e|w)$/.test(be)&&L,We=ue.classed("extent"),qe=we(te),Xe,tn=r.mouse(te),en,dn=r.select(o(te)).on("keydown.brush",Cn).on("keyup.brush",Kn);if(r.event.changedTouches?dn.on("touchmove.brush",Nn).on("touchend.brush",hn):dn.on("mousemove.brush",Nn).on("mouseup.brush",hn),xe.interrupt().selectAll("*").interrupt(),We)tn[0]=B[0]-tn[0],tn[1]=q[0]-tn[1];else if(be){var rn=+/w$/.test(be),cn=+/^n/.test(be);en=[B[1-rn]-tn[0],q[1-cn]-tn[1]],tn[0]=B[rn],tn[1]=q[cn]}else r.event.altKey&&(Xe=tn.slice());xe.style("pointer-events","none").selectAll(".resize").style("display",null),r.select("body").style("cursor",ue.style("cursor")),ce({type:"brushstart"}),Nn();function Cn(){r.event.keyCode==32&&(We||(Xe=null,tn[0]-=B[1],tn[1]-=q[1],We=2),ot())}function Kn(){r.event.keyCode==32&&We==2&&(tn[0]+=B[1],tn[1]+=q[1],We=0,ot())}function Nn(){var yn=r.mouse(te),Pn=!1;en&&(yn[0]+=en[0],yn[1]+=en[1]),We||(r.event.altKey?(Xe||(Xe=[(B[0]+B[1])/2,(q[0]+q[1])/2]),tn[0]=B[+(yn[0]<Xe[0])],tn[1]=q[+(yn[1]<Xe[1])]):Xe=null),fe&&Ze(yn,x,0)&&(Qt(xe),Pn=!0),Ie&&Ze(yn,L,1)&&(de(xe),Pn=!0),Pn&&(Gt(xe),ce({type:"brush",mode:We?"move":"resize"}))}function Ze(yn,Pn,qn){var ia=fi(Pn),fa=ia[0],Ma=ia[1],Aa=tn[qn],Ta=qn?q:B,Oa=Ta[1]-Ta[0],ma,Da;if(We&&(fa-=Aa,Ma-=Oa+Aa),ma=(qn?wt:ct)?Math.max(fa,Math.min(Ma,yn[qn])):yn[qn],We?Da=(ma+=Aa)+Oa:(Xe&&(Aa=Math.max(fa,Math.min(Ma,2*Xe[qn]-ma))),Aa<ma?(Da=ma,ma=Aa):Da=Aa),Ta[0]!=ma||Ta[1]!=Da)return qn?vt=null:et=null,Ta[0]=ma,Ta[1]=Da,!0}function hn(){Nn(),xe.style("pointer-events","all").selectAll(".resize").style("display",Ot.empty()?"none":null),r.select("body").style("cursor",null),dn.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),qe(),ce({type:"brushend"})}}return Ot.x=function(te){return arguments.length?(x=te,St=Co[!x<<1|!L],Ot):x},Ot.y=function(te){return arguments.length?(L=te,St=Co[!x<<1|!L],Ot):L},Ot.clamp=function(te){return arguments.length?(x&&L?(ct=!!te[0],wt=!!te[1]):x?ct=!!te:L&&(wt=!!te),Ot):x&&L?[ct,wt]:x?ct:L?wt:null},Ot.extent=function(te){var ue,ce,xe,be,fe;return arguments.length?(x&&(ue=te[0],ce=te[1],L&&(ue=ue[0],ce=ce[0]),et=[ue,ce],x.invert&&(ue=x(ue),ce=x(ce)),ce<ue&&(fe=ue,ue=ce,ce=fe),(ue!=B[0]||ce!=B[1])&&(B=[ue,ce])),L&&(xe=te[0],be=te[1],x&&(xe=xe[1],be=be[1]),vt=[xe,be],L.invert&&(xe=L(xe),be=L(be)),be<xe&&(fe=xe,xe=be,be=fe),(xe!=q[0]||be!=q[1])&&(q=[xe,be])),Ot):(x&&(et?(ue=et[0],ce=et[1]):(ue=B[0],ce=B[1],x.invert&&(ue=x.invert(ue),ce=x.invert(ce)),ce<ue&&(fe=ue,ue=ce,ce=fe))),L&&(vt?(xe=vt[0],be=vt[1]):(xe=q[0],be=q[1],L.invert&&(xe=L.invert(xe),be=L.invert(be)),be<xe&&(fe=xe,xe=be,be=fe))),x&&L?[[ue,xe],[ce,be]]:x?[ue,ce]:L&&[xe,be])},Ot.clear=function(){return Ot.empty()||(B=[0,0],q=[0,0],et=vt=null),Ot},Ot.empty=function(){return!!x&&B[0]==B[1]||!!L&&q[0]==q[1]},r.rebind(Ot,a,"on")};var Ep={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Co=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];r.text=ye(function(a){return a.responseText}),r.json=function(a,x){return Te(a,"application/json",jp,x)};function jp(a){return JSON.parse(a.responseText)}r.html=function(a,x){return Te(a,"text/html",Hp,x)};function Hp(a){var x=l.createRange();return x.selectNode(l.body),x.createContextualFragment(a.responseText)}r.xml=ye(function(a){return a.responseXML}),typeof C=="object"&&C.exports?C.exports=r:this.d3=r}).apply(self)}),Io=Ct((F,C)=>{(function(r,t){typeof F=="object"&&typeof C<"u"?t(F):(r=r||self,t(r.d3=r.d3||{}))})(F,function(r){var t=new Date,n=new Date;function l(lt,kt,Nt,Yt){function ee(Xt){return lt(Xt=arguments.length===0?new Date:new Date(+Xt)),Xt}return ee.floor=function(Xt){return lt(Xt=new Date(+Xt)),Xt},ee.ceil=function(Xt){return lt(Xt=new Date(Xt-1)),kt(Xt,1),lt(Xt),Xt},ee.round=function(Xt){var ae=ee(Xt),oe=ee.ceil(Xt);return Xt-ae<oe-Xt?ae:oe},ee.offset=function(Xt,ae){return kt(Xt=new Date(+Xt),ae==null?1:Math.floor(ae)),Xt},ee.range=function(Xt,ae,oe){var ie=[],pe;if(Xt=ee.ceil(Xt),oe=oe==null?1:Math.floor(oe),!(Xt<ae)||!(oe>0))return ie;do ie.push(pe=new Date(+Xt)),kt(Xt,oe),lt(Xt);while(pe<Xt&&Xt<ae);return ie},ee.filter=function(Xt){return l(function(ae){if(ae>=ae)for(;lt(ae),!Xt(ae);)ae.setTime(ae-1)},function(ae,oe){if(ae>=ae)if(oe<0)for(;++oe<=0;)for(;kt(ae,-1),!Xt(ae););else for(;--oe>=0;)for(;kt(ae,1),!Xt(ae););})},Nt&&(ee.count=function(Xt,ae){return t.setTime(+Xt),n.setTime(+ae),lt(t),lt(n),Math.floor(Nt(t,n))},ee.every=function(Xt){return Xt=Math.floor(Xt),!isFinite(Xt)||!(Xt>0)?null:Xt>1?ee.filter(Yt?function(ae){return Yt(ae)%Xt===0}:function(ae){return ee.count(0,ae)%Xt===0}):ee}),ee}var i=l(function(){},function(lt,kt){lt.setTime(+lt+kt)},function(lt,kt){return kt-lt});i.every=function(lt){return lt=Math.floor(lt),!isFinite(lt)||!(lt>0)?null:lt>1?l(function(kt){kt.setTime(Math.floor(kt/lt)*lt)},function(kt,Nt){kt.setTime(+kt+Nt*lt)},function(kt,Nt){return(Nt-kt)/lt}):i};var o=i.range,s=1e3,f=6e4,e=36e5,v=864e5,u=6048e5,h=l(function(lt){lt.setTime(lt-lt.getMilliseconds())},function(lt,kt){lt.setTime(+lt+kt*s)},function(lt,kt){return(kt-lt)/s},function(lt){return lt.getUTCSeconds()}),_=h.range,m=l(function(lt){lt.setTime(lt-lt.getMilliseconds()-lt.getSeconds()*s)},function(lt,kt){lt.setTime(+lt+kt*f)},function(lt,kt){return(kt-lt)/f},function(lt){return lt.getMinutes()}),g=m.range,y=l(function(lt){lt.setTime(lt-lt.getMilliseconds()-lt.getSeconds()*s-lt.getMinutes()*f)},function(lt,kt){lt.setTime(+lt+kt*e)},function(lt,kt){return(kt-lt)/e},function(lt){return lt.getHours()}),p=y.range,c=l(function(lt){lt.setHours(0,0,0,0)},function(lt,kt){lt.setDate(lt.getDate()+kt)},function(lt,kt){return(kt-lt-(kt.getTimezoneOffset()-lt.getTimezoneOffset())*f)/v},function(lt){return lt.getDate()-1}),d=c.range;function b(lt){return l(function(kt){kt.setDate(kt.getDate()-(kt.getDay()+7-lt)%7),kt.setHours(0,0,0,0)},function(kt,Nt){kt.setDate(kt.getDate()+Nt*7)},function(kt,Nt){return(Nt-kt-(Nt.getTimezoneOffset()-kt.getTimezoneOffset())*f)/u})}var w=b(0),k=b(1),$=b(2),P=b(3),O=b(4),T=b(5),G=b(6),I=w.range,E=k.range,z=$.range,j=P.range,U=O.range,Z=T.range,D=G.range,W=l(function(lt){lt.setDate(1),lt.setHours(0,0,0,0)},function(lt,kt){lt.setMonth(lt.getMonth()+kt)},function(lt,kt){return kt.getMonth()-lt.getMonth()+(kt.getFullYear()-lt.getFullYear())*12},function(lt){return lt.getMonth()}),X=W.range,it=l(function(lt){lt.setMonth(0,1),lt.setHours(0,0,0,0)},function(lt,kt){lt.setFullYear(lt.getFullYear()+kt)},function(lt,kt){return kt.getFullYear()-lt.getFullYear()},function(lt){return lt.getFullYear()});it.every=function(lt){return!isFinite(lt=Math.floor(lt))||!(lt>0)?null:l(function(kt){kt.setFullYear(Math.floor(kt.getFullYear()/lt)*lt),kt.setMonth(0,1),kt.setHours(0,0,0,0)},function(kt,Nt){kt.setFullYear(kt.getFullYear()+Nt*lt)})};var nt=it.range,ot=l(function(lt){lt.setUTCSeconds(0,0)},function(lt,kt){lt.setTime(+lt+kt*f)},function(lt,kt){return(kt-lt)/f},function(lt){return lt.getUTCMinutes()}),dt=ot.range,ht=l(function(lt){lt.setUTCMinutes(0,0,0)},function(lt,kt){lt.setTime(+lt+kt*e)},function(lt,kt){return(kt-lt)/e},function(lt){return lt.getUTCHours()}),xt=ht.range,H=l(function(lt){lt.setUTCHours(0,0,0,0)},function(lt,kt){lt.setUTCDate(lt.getUTCDate()+kt)},function(lt,kt){return(kt-lt)/v},function(lt){return lt.getUTCDate()-1}),Y=H.range;function A(lt){return l(function(kt){kt.setUTCDate(kt.getUTCDate()-(kt.getUTCDay()+7-lt)%7),kt.setUTCHours(0,0,0,0)},function(kt,Nt){kt.setUTCDate(kt.getUTCDate()+Nt*7)},function(kt,Nt){return(Nt-kt)/u})}var J=A(0),at=A(1),N=A(2),M=A(3),S=A(4),R=A(5),V=A(6),rt=J.range,st=at.range,ut=N.range,_t=M.range,Tt=S.range,Ft=R.range,Zt=V.range,Bt=l(function(lt){lt.setUTCDate(1),lt.setUTCHours(0,0,0,0)},function(lt,kt){lt.setUTCMonth(lt.getUTCMonth()+kt)},function(lt,kt){return kt.getUTCMonth()-lt.getUTCMonth()+(kt.getUTCFullYear()-lt.getUTCFullYear())*12},function(lt){return lt.getUTCMonth()}),Rt=Bt.range,pt=l(function(lt){lt.setUTCMonth(0,1),lt.setUTCHours(0,0,0,0)},function(lt,kt){lt.setUTCFullYear(lt.getUTCFullYear()+kt)},function(lt,kt){return kt.getUTCFullYear()-lt.getUTCFullYear()},function(lt){return lt.getUTCFullYear()});pt.every=function(lt){return!isFinite(lt=Math.floor(lt))||!(lt>0)?null:l(function(kt){kt.setUTCFullYear(Math.floor(kt.getUTCFullYear()/lt)*lt),kt.setUTCMonth(0,1),kt.setUTCHours(0,0,0,0)},function(kt,Nt){kt.setUTCFullYear(kt.getUTCFullYear()+Nt*lt)})};var bt=pt.range;r.timeDay=c,r.timeDays=d,r.timeFriday=T,r.timeFridays=Z,r.timeHour=y,r.timeHours=p,r.timeInterval=l,r.timeMillisecond=i,r.timeMilliseconds=o,r.timeMinute=m,r.timeMinutes=g,r.timeMonday=k,r.timeMondays=E,r.timeMonth=W,r.timeMonths=X,r.timeSaturday=G,r.timeSaturdays=D,r.timeSecond=h,r.timeSeconds=_,r.timeSunday=w,r.timeSundays=I,r.timeThursday=O,r.timeThursdays=U,r.timeTuesday=$,r.timeTuesdays=z,r.timeWednesday=P,r.timeWednesdays=j,r.timeWeek=w,r.timeWeeks=I,r.timeYear=it,r.timeYears=nt,r.utcDay=H,r.utcDays=Y,r.utcFriday=R,r.utcFridays=Ft,r.utcHour=ht,r.utcHours=xt,r.utcMillisecond=i,r.utcMilliseconds=o,r.utcMinute=ot,r.utcMinutes=dt,r.utcMonday=at,r.utcMondays=st,r.utcMonth=Bt,r.utcMonths=Rt,r.utcSaturday=V,r.utcSaturdays=Zt,r.utcSecond=h,r.utcSeconds=_,r.utcSunday=J,r.utcSundays=rt,r.utcThursday=S,r.utcThursdays=Tt,r.utcTuesday=N,r.utcTuesdays=ut,r.utcWednesday=M,r.utcWednesdays=_t,r.utcWeek=J,r.utcWeeks=rt,r.utcYear=pt,r.utcYears=bt,Object.defineProperty(r,"__esModule",{value:!0})})}),Cr=Ct((F,C)=>{(function(r,t){typeof F=="object"&&typeof C<"u"?t(F,Io()):(r=r||self,t(r.d3=r.d3||{},r.d3))})(F,function(r,t){function n(mt){if(0<=mt.y&&mt.y<100){var Lt=new Date(-1,mt.m,mt.d,mt.H,mt.M,mt.S,mt.L);return Lt.setFullYear(mt.y),Lt}return new Date(mt.y,mt.m,mt.d,mt.H,mt.M,mt.S,mt.L)}function l(mt){if(0<=mt.y&&mt.y<100){var Lt=new Date(Date.UTC(-1,mt.m,mt.d,mt.H,mt.M,mt.S,mt.L));return Lt.setUTCFullYear(mt.y),Lt}return new Date(Date.UTC(mt.y,mt.m,mt.d,mt.H,mt.M,mt.S,mt.L))}function i(mt,Lt,At){return{y:mt,m:Lt,d:At,H:0,M:0,S:0,L:0}}function o(mt){var Lt=mt.dateTime,At=mt.date,Q=mt.time,ft=mt.periods,yt=mt.days,gt=mt.shortDays,It=mt.months,Mt=mt.shortMonths,Jt=_(ft),qt=m(ft),le=_(yt),Et=m(yt),re=_(gt),se=m(gt),he=_(It),Se=m(It),je=_(Mt),Ge=m(Mt),Ce={a:on,A:vn,b:$e,B:fn,c:null,d:W,e:W,f:dt,H:X,I:it,j:nt,L:ot,m:ht,M:xt,p:tt,q:K,Q:ae,s:oe,S:H,u:Y,U:A,V:J,w:at,W:N,x:null,X:null,y:M,Y:S,Z:R,"%":Xt},Ne={a:Vt,A:jt,b:Dt,B:Pt,c:null,d:V,e:V,f:Tt,H:rt,I:st,j:ut,L:_t,m:Ft,M:Zt,p:Ht,q:Kt,Q:ae,s:oe,S:Bt,u:Rt,U:pt,V:bt,w:lt,W:kt,x:null,X:null,y:Nt,Y:Yt,Z:ee,"%":Xt},Le={a:Fe,A:ke,b:Ye,B:Qe,c:ln,d:O,e:O,f:j,H:G,I:G,j:T,L:z,m:P,M:I,p:Be,q:$,Q:Z,s:D,S:E,u:y,U:p,V:c,w:g,W:d,x:He,X:an,y:w,Y:b,Z:k,"%":U};Ce.x=Oe(At,Ce),Ce.X=Oe(Q,Ce),Ce.c=Oe(Lt,Ce),Ne.x=Oe(At,Ne),Ne.X=Oe(Q,Ne),Ne.c=Oe(Lt,Ne);function Oe(zt,Ut){return function(ne){var Wt=[],ge=-1,ye=0,Te=zt.length,Ae,ze,Ee;for(ne instanceof Date||(ne=new Date(+ne));++ge<Te;)zt.charCodeAt(ge)===37&&(Wt.push(zt.slice(ye,ge)),(ze=s[Ae=zt.charAt(++ge)])!=null?Ae=zt.charAt(++ge):ze=Ae==="e"?" ":"0",(Ee=Ut[Ae])&&(Ae=Ee(ne,ze)),Wt.push(Ae),ye=ge+1);return Wt.push(zt.slice(ye,ge)),Wt.join("")}}function Ve(zt,Ut){return function(ne){var Wt=i(1900,void 0,1),ge=Re(Wt,zt,ne+="",0),ye,Te;if(ge!=ne.length)return null;if("Q"in Wt)return new Date(Wt.Q);if("s"in Wt)return new Date(Wt.s*1e3+("L"in Wt?Wt.L:0));if(Ut&&!("Z"in Wt)&&(Wt.Z=0),"p"in Wt&&(Wt.H=Wt.H%12+Wt.p*12),Wt.m===void 0&&(Wt.m="q"in Wt?Wt.q:0),"V"in Wt){if(Wt.V<1||Wt.V>53)return null;"w"in Wt||(Wt.w=1),"Z"in Wt?(ye=l(i(Wt.y,0,1)),Te=ye.getUTCDay(),ye=Te>4||Te===0?t.utcMonday.ceil(ye):t.utcMonday(ye),ye=t.utcDay.offset(ye,(Wt.V-1)*7),Wt.y=ye.getUTCFullYear(),Wt.m=ye.getUTCMonth(),Wt.d=ye.getUTCDate()+(Wt.w+6)%7):(ye=n(i(Wt.y,0,1)),Te=ye.getDay(),ye=Te>4||Te===0?t.timeMonday.ceil(ye):t.timeMonday(ye),ye=t.timeDay.offset(ye,(Wt.V-1)*7),Wt.y=ye.getFullYear(),Wt.m=ye.getMonth(),Wt.d=ye.getDate()+(Wt.w+6)%7)}else("W"in Wt||"U"in Wt)&&("w"in Wt||(Wt.w="u"in Wt?Wt.u%7:"W"in Wt?1:0),Te="Z"in Wt?l(i(Wt.y,0,1)).getUTCDay():n(i(Wt.y,0,1)).getDay(),Wt.m=0,Wt.d="W"in Wt?(Wt.w+6)%7+Wt.W*7-(Te+5)%7:Wt.w+Wt.U*7-(Te+6)%7);return"Z"in Wt?(Wt.H+=Wt.Z/100|0,Wt.M+=Wt.Z%100,l(Wt)):n(Wt)}}function Re(zt,Ut,ne,Wt){for(var ge=0,ye=Ut.length,Te=ne.length,Ae,ze;ge<ye;){if(Wt>=Te)return-1;if(Ae=Ut.charCodeAt(ge++),Ae===37){if(Ae=Ut.charAt(ge++),ze=Le[Ae in s?Ut.charAt(ge++):Ae],!ze||(Wt=ze(zt,ne,Wt))<0)return-1}else if(Ae!=ne.charCodeAt(Wt++))return-1}return Wt}function Be(zt,Ut,ne){var Wt=Jt.exec(Ut.slice(ne));return Wt?(zt.p=qt[Wt[0].toLowerCase()],ne+Wt[0].length):-1}function Fe(zt,Ut,ne){var Wt=re.exec(Ut.slice(ne));return Wt?(zt.w=se[Wt[0].toLowerCase()],ne+Wt[0].length):-1}function ke(zt,Ut,ne){var Wt=le.exec(Ut.slice(ne));return Wt?(zt.w=Et[Wt[0].toLowerCase()],ne+Wt[0].length):-1}function Ye(zt,Ut,ne){var Wt=je.exec(Ut.slice(ne));return Wt?(zt.m=Ge[Wt[0].toLowerCase()],ne+Wt[0].length):-1}function Qe(zt,Ut,ne){var Wt=he.exec(Ut.slice(ne));return Wt?(zt.m=Se[Wt[0].toLowerCase()],ne+Wt[0].length):-1}function ln(zt,Ut,ne){return Re(zt,Lt,Ut,ne)}function He(zt,Ut,ne){return Re(zt,At,Ut,ne)}function an(zt,Ut,ne){return Re(zt,Q,Ut,ne)}function on(zt){return gt[zt.getDay()]}function vn(zt){return yt[zt.getDay()]}function $e(zt){return Mt[zt.getMonth()]}function fn(zt){return It[zt.getMonth()]}function tt(zt){return ft[+(zt.getHours()>=12)]}function K(zt){return 1+~~(zt.getMonth()/3)}function Vt(zt){return gt[zt.getUTCDay()]}function jt(zt){return yt[zt.getUTCDay()]}function Dt(zt){return Mt[zt.getUTCMonth()]}function Pt(zt){return It[zt.getUTCMonth()]}function Ht(zt){return ft[+(zt.getUTCHours()>=12)]}function Kt(zt){return 1+~~(zt.getUTCMonth()/3)}return{format:function(zt){var Ut=Oe(zt+="",Ce);return Ut.toString=function(){return zt},Ut},parse:function(zt){var Ut=Ve(zt+="",!1);return Ut.toString=function(){return zt},Ut},utcFormat:function(zt){var Ut=Oe(zt+="",Ne);return Ut.toString=function(){return zt},Ut},utcParse:function(zt){var Ut=Ve(zt+="",!0);return Ut.toString=function(){return zt},Ut}}}var s={"-":"",_:" ",0:"0"},f=/^\s*\d+/,e=/^%/,v=/[\\^$*+?|[\]().{}]/g;function u(mt,Lt,At){var Q=mt<0?"-":"",ft=(Q?-mt:mt)+"",yt=ft.length;return Q+(yt<At?new Array(At-yt+1).join(Lt)+ft:ft)}function h(mt){return mt.replace(v,"\\$&")}function _(mt){return new RegExp("^(?:"+mt.map(h).join("|")+")","i")}function m(mt){for(var Lt={},At=-1,Q=mt.length;++At<Q;)Lt[mt[At].toLowerCase()]=At;return Lt}function g(mt,Lt,At){var Q=f.exec(Lt.slice(At,At+1));return Q?(mt.w=+Q[0],At+Q[0].length):-1}function y(mt,Lt,At){var Q=f.exec(Lt.slice(At,At+1));return Q?(mt.u=+Q[0],At+Q[0].length):-1}function p(mt,Lt,At){var Q=f.exec(Lt.slice(At,At+2));return Q?(mt.U=+Q[0],At+Q[0].length):-1}function c(mt,Lt,At){var Q=f.exec(Lt.slice(At,At+2));return Q?(mt.V=+Q[0],At+Q[0].length):-1}function d(mt,Lt,At){var Q=f.exec(Lt.slice(At,At+2));return Q?(mt.W=+Q[0],At+Q[0].length):-1}function b(mt,Lt,At){var Q=f.exec(Lt.slice(At,At+4));return Q?(mt.y=+Q[0],At+Q[0].length):-1}function w(mt,Lt,At){var Q=f.exec(Lt.slice(At,At+2));return Q?(mt.y=+Q[0]+(+Q[0]>68?1900:2e3),At+Q[0].length):-1}function k(mt,Lt,At){var Q=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Lt.slice(At,At+6));return Q?(mt.Z=Q[1]?0:-(Q[2]+(Q[3]||"00")),At+Q[0].length):-1}function $(mt,Lt,At){var Q=f.exec(Lt.slice(At,At+1));return Q?(mt.q=Q[0]*3-3,At+Q[0].length):-1}function P(mt,Lt,At){var Q=f.exec(Lt.slice(At,At+2));return Q?(mt.m=Q[0]-1,At+Q[0].length):-1}function O(mt,Lt,At){var Q=f.exec(Lt.slice(At,At+2));return Q?(mt.d=+Q[0],At+Q[0].length):-1}function T(mt,Lt,At){var Q=f.exec(Lt.slice(At,At+3));return Q?(mt.m=0,mt.d=+Q[0],At+Q[0].length):-1}function G(mt,Lt,At){var Q=f.exec(Lt.slice(At,At+2));return Q?(mt.H=+Q[0],At+Q[0].length):-1}function I(mt,Lt,At){var Q=f.exec(Lt.slice(At,At+2));return Q?(mt.M=+Q[0],At+Q[0].length):-1}function E(mt,Lt,At){var Q=f.exec(Lt.slice(At,At+2));return Q?(mt.S=+Q[0],At+Q[0].length):-1}function z(mt,Lt,At){var Q=f.exec(Lt.slice(At,At+3));return Q?(mt.L=+Q[0],At+Q[0].length):-1}function j(mt,Lt,At){var Q=f.exec(Lt.slice(At,At+6));return Q?(mt.L=Math.floor(Q[0]/1e3),At+Q[0].length):-1}function U(mt,Lt,At){var Q=e.exec(Lt.slice(At,At+1));return Q?At+Q[0].length:-1}function Z(mt,Lt,At){var Q=f.exec(Lt.slice(At));return Q?(mt.Q=+Q[0],At+Q[0].length):-1}function D(mt,Lt,At){var Q=f.exec(Lt.slice(At));return Q?(mt.s=+Q[0],At+Q[0].length):-1}function W(mt,Lt){return u(mt.getDate(),Lt,2)}function X(mt,Lt){return u(mt.getHours(),Lt,2)}function it(mt,Lt){return u(mt.getHours()%12||12,Lt,2)}function nt(mt,Lt){return u(1+t.timeDay.count(t.timeYear(mt),mt),Lt,3)}function ot(mt,Lt){return u(mt.getMilliseconds(),Lt,3)}function dt(mt,Lt){return ot(mt,Lt)+"000"}function ht(mt,Lt){return u(mt.getMonth()+1,Lt,2)}function xt(mt,Lt){return u(mt.getMinutes(),Lt,2)}function H(mt,Lt){return u(mt.getSeconds(),Lt,2)}function Y(mt){var Lt=mt.getDay();return Lt===0?7:Lt}function A(mt,Lt){return u(t.timeSunday.count(t.timeYear(mt)-1,mt),Lt,2)}function J(mt,Lt){var At=mt.getDay();return mt=At>=4||At===0?t.timeThursday(mt):t.timeThursday.ceil(mt),u(t.timeThursday.count(t.timeYear(mt),mt)+(t.timeYear(mt).getDay()===4),Lt,2)}function at(mt){return mt.getDay()}function N(mt,Lt){return u(t.timeMonday.count(t.timeYear(mt)-1,mt),Lt,2)}function M(mt,Lt){return u(mt.getFullYear()%100,Lt,2)}function S(mt,Lt){return u(mt.getFullYear()%1e4,Lt,4)}function R(mt){var Lt=mt.getTimezoneOffset();return(Lt>0?"-":(Lt*=-1,"+"))+u(Lt/60|0,"0",2)+u(Lt%60,"0",2)}function V(mt,Lt){return u(mt.getUTCDate(),Lt,2)}function rt(mt,Lt){return u(mt.getUTCHours(),Lt,2)}function st(mt,Lt){return u(mt.getUTCHours()%12||12,Lt,2)}function ut(mt,Lt){return u(1+t.utcDay.count(t.utcYear(mt),mt),Lt,3)}function _t(mt,Lt){return u(mt.getUTCMilliseconds(),Lt,3)}function Tt(mt,Lt){return _t(mt,Lt)+"000"}function Ft(mt,Lt){return u(mt.getUTCMonth()+1,Lt,2)}function Zt(mt,Lt){return u(mt.getUTCMinutes(),Lt,2)}function Bt(mt,Lt){return u(mt.getUTCSeconds(),Lt,2)}function Rt(mt){var Lt=mt.getUTCDay();return Lt===0?7:Lt}function pt(mt,Lt){return u(t.utcSunday.count(t.utcYear(mt)-1,mt),Lt,2)}function bt(mt,Lt){var At=mt.getUTCDay();return mt=At>=4||At===0?t.utcThursday(mt):t.utcThursday.ceil(mt),u(t.utcThursday.count(t.utcYear(mt),mt)+(t.utcYear(mt).getUTCDay()===4),Lt,2)}function lt(mt){return mt.getUTCDay()}function kt(mt,Lt){return u(t.utcMonday.count(t.utcYear(mt)-1,mt),Lt,2)}function Nt(mt,Lt){return u(mt.getUTCFullYear()%100,Lt,2)}function Yt(mt,Lt){return u(mt.getUTCFullYear()%1e4,Lt,4)}function ee(){return"+0000"}function Xt(){return"%"}function ae(mt){return+mt}function oe(mt){return Math.floor(+mt/1e3)}var ie;pe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function pe(mt){return ie=o(mt),r.timeFormat=ie.format,r.timeParse=ie.parse,r.utcFormat=ie.utcFormat,r.utcParse=ie.utcParse,ie}var $t="%Y-%m-%dT%H:%M:%S.%LZ";function me(mt){return mt.toISOString()}var we=Date.prototype.toISOString?me:r.utcFormat($t);function ve(mt){var Lt=new Date(mt);return isNaN(Lt)?null:Lt}var Me=+new Date("2000-01-01T00:00:00.000Z")?ve:r.utcParse($t);r.isoFormat=we,r.isoParse=Me,r.timeFormatDefaultLocale=pe,r.timeFormatLocale=o,Object.defineProperty(r,"__esModule",{value:!0})})}),Fo=Ct((F,C)=>{(function(r,t){typeof F=="object"&&typeof C<"u"?t(F):(r=typeof globalThis<"u"?globalThis:r||self,t(r.d3=r.d3||{}))})(F,function(r){function t(P){return Math.abs(P=Math.round(P))>=1e21?P.toLocaleString("en").replace(/,/g,""):P.toString(10)}function n(P,O){if((T=(P=O?P.toExponential(O-1):P.toExponential()).indexOf("e"))<0)return null;var T,G=P.slice(0,T);return[G.length>1?G[0]+G.slice(2):G,+P.slice(T+1)]}function l(P){return P=n(Math.abs(P)),P?P[1]:NaN}function i(P,O){return function(T,G){for(var I=T.length,E=[],z=0,j=P[0],U=0;I>0&&j>0&&(U+j+1>G&&(j=Math.max(1,G-U)),E.push(T.substring(I-=j,I+j)),!((U+=j+1)>G));)j=P[z=(z+1)%P.length];return E.reverse().join(O)}}function o(P){return function(O){return O.replace(/[0-9]/g,function(T){return P[+T]})}}var s=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function f(P){if(!(O=s.exec(P)))throw new Error("invalid format: "+P);var O;return new e({fill:O[1],align:O[2],sign:O[3],symbol:O[4],zero:O[5],width:O[6],comma:O[7],precision:O[8]&&O[8].slice(1),trim:O[9],type:O[10]})}f.prototype=e.prototype;function e(P){this.fill=P.fill===void 0?" ":P.fill+"",this.align=P.align===void 0?">":P.align+"",this.sign=P.sign===void 0?"-":P.sign+"",this.symbol=P.symbol===void 0?"":P.symbol+"",this.zero=!!P.zero,this.width=P.width===void 0?void 0:+P.width,this.comma=!!P.comma,this.precision=P.precision===void 0?void 0:+P.precision,this.trim=!!P.trim,this.type=P.type===void 0?"":P.type+""}e.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function v(P){t:for(var O=P.length,T=1,G=-1,I;T<O;++T)switch(P[T]){case".":G=I=T;break;case"0":G===0&&(G=T),I=T;break;default:if(!+P[T])break t;G>0&&(G=0);break}return G>0?P.slice(0,G)+P.slice(I+1):P}var u;function h(P,O){var T=n(P,O);if(!T)return P+"";var G=T[0],I=T[1],E=I-(u=Math.max(-8,Math.min(8,Math.floor(I/3)))*3)+1,z=G.length;return E===z?G:E>z?G+new Array(E-z+1).join("0"):E>0?G.slice(0,E)+"."+G.slice(E):"0."+new Array(1-E).join("0")+n(P,Math.max(0,O+E-1))[0]}function _(P,O){var T=n(P,O);if(!T)return P+"";var G=T[0],I=T[1];return I<0?"0."+new Array(-I).join("0")+G:G.length>I+1?G.slice(0,I+1)+"."+G.slice(I+1):G+new Array(I-G.length+2).join("0")}var m={"%":function(P,O){return(P*100).toFixed(O)},b:function(P){return Math.round(P).toString(2)},c:function(P){return P+""},d:t,e:function(P,O){return P.toExponential(O)},f:function(P,O){return P.toFixed(O)},g:function(P,O){return P.toPrecision(O)},o:function(P){return Math.round(P).toString(8)},p:function(P,O){return _(P*100,O)},r:_,s:h,X:function(P){return Math.round(P).toString(16).toUpperCase()},x:function(P){return Math.round(P).toString(16)}};function g(P){return P}var y=Array.prototype.map,p=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function c(P){var O=P.grouping===void 0||P.thousands===void 0?g:i(y.call(P.grouping,Number),P.thousands+""),T=P.currency===void 0?"":P.currency[0]+"",G=P.currency===void 0?"":P.currency[1]+"",I=P.decimal===void 0?".":P.decimal+"",E=P.numerals===void 0?g:o(y.call(P.numerals,String)),z=P.percent===void 0?"%":P.percent+"",j=P.minus===void 0?"-":P.minus+"",U=P.nan===void 0?"NaN":P.nan+"";function Z(W){W=f(W);var X=W.fill,it=W.align,nt=W.sign,ot=W.symbol,dt=W.zero,ht=W.width,xt=W.comma,H=W.precision,Y=W.trim,A=W.type;A==="n"?(xt=!0,A="g"):m[A]||(H===void 0&&(H=12),Y=!0,A="g"),(dt||X==="0"&&it==="=")&&(dt=!0,X="0",it="=");var J=ot==="$"?T:ot==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",at=ot==="$"?G:/[%p]/.test(A)?z:"",N=m[A],M=/[defgprs%]/.test(A);H=H===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,H)):Math.max(0,Math.min(20,H));function S(R){var V=J,rt=at,st,ut,_t;if(A==="c")rt=N(R)+rt,R="";else{R=+R;var Tt=R<0||1/R<0;if(R=isNaN(R)?U:N(Math.abs(R),H),Y&&(R=v(R)),Tt&&+R==0&&nt!=="+"&&(Tt=!1),V=(Tt?nt==="("?nt:j:nt==="-"||nt==="("?"":nt)+V,rt=(A==="s"?p[8+u/3]:"")+rt+(Tt&&nt==="("?")":""),M){for(st=-1,ut=R.length;++st<ut;)if(_t=R.charCodeAt(st),48>_t||_t>57){rt=(_t===46?I+R.slice(st+1):R.slice(st))+rt,R=R.slice(0,st);break}}}xt&&!dt&&(R=O(R,1/0));var Ft=V.length+R.length+rt.length,Zt=Ft<ht?new Array(ht-Ft+1).join(X):"";switch(xt&&dt&&(R=O(Zt+R,Zt.length?ht-rt.length:1/0),Zt=""),it){case"<":R=V+R+rt+Zt;break;case"=":R=V+Zt+R+rt;break;case"^":R=Zt.slice(0,Ft=Zt.length>>1)+V+R+rt+Zt.slice(Ft);break;default:R=Zt+V+R+rt;break}return E(R)}return S.toString=function(){return W+""},S}function D(W,X){var it=Z((W=f(W),W.type="f",W)),nt=Math.max(-8,Math.min(8,Math.floor(l(X)/3)))*3,ot=Math.pow(10,-nt),dt=p[8+nt/3];return function(ht){return it(ot*ht)+dt}}return{format:Z,formatPrefix:D}}var d;b({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function b(P){return d=c(P),r.format=d.format,r.formatPrefix=d.formatPrefix,d}function w(P){return Math.max(0,-l(Math.abs(P)))}function k(P,O){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(l(O)/3)))*3-l(Math.abs(P)))}function $(P,O){return P=Math.abs(P),O=Math.abs(O)-P,Math.max(0,l(O)-l(P))+1}r.FormatSpecifier=e,r.formatDefaultLocale=b,r.formatLocale=c,r.formatSpecifier=f,r.precisionFixed=w,r.precisionPrefix=k,r.precisionRound=$,Object.defineProperty(r,"__esModule",{value:!0})})}),cu=Ct((F,C)=>{C.exports=function(r){for(var t=r.length,n,l=0;l<t;l++)if(n=r.charCodeAt(l),(n<9||n>13)&&n!==32&&n!==133&&n!==160&&n!==5760&&n!==6158&&(n<8192||n>8205)&&n!==8232&&n!==8233&&n!==8239&&n!==8287&&n!==8288&&n!==12288&&n!==65279)return!1;return!0}}),Mn=Ct((F,C)=>{var r=cu();C.exports=function(t){var n=typeof t;if(n==="string"){var l=t;if(t=+t,t===0&&r(l))return!1}else if(n!=="number")return!1;return t-t<1}}),oa=Ct((F,C)=>{C.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,ONEMILLI:1,ONEMICROSEC:.001,EPOCHJD:24405875e-1,ALMOST_EQUAL:1-1e-6,LOG_CLIP:10,MINUS_SIGN:""}}),No=Ct((F,C)=>{(function(r,t){typeof F=="object"&&typeof C<"u"?t(F):(r=typeof globalThis<"u"?globalThis:r||self,t(r["base64-arraybuffer"]={}))})(F,function(r){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=typeof Uint8Array>"u"?[]:new Uint8Array(256),l=0;l<t.length;l++)n[t.charCodeAt(l)]=l;var i=function(s){var f=new Uint8Array(s),e,v=f.length,u="";for(e=0;e<v;e+=3)u+=t[f[e]>>2],u+=t[(f[e]&3)<<4|f[e+1]>>4],u+=t[(f[e+1]&15)<<2|f[e+2]>>6],u+=t[f[e+2]&63];return v%3===2?u=u.substring(0,u.length-1)+"=":v%3===1&&(u=u.substring(0,u.length-2)+"=="),u},o=function(s){var f=s.length*.75,e=s.length,v,u=0,h,_,m,g;s[s.length-1]==="="&&(f--,s[s.length-2]==="="&&f--);var y=new ArrayBuffer(f),p=new Uint8Array(y);for(v=0;v<e;v+=4)h=n[s.charCodeAt(v)],_=n[s.charCodeAt(v+1)],m=n[s.charCodeAt(v+2)],g=n[s.charCodeAt(v+3)],p[u++]=h<<2|_>>4,p[u++]=(_&15)<<4|m>>2,p[u++]=(m&3)<<6|g&63;return y};r.decode=o,r.encode=i,Object.defineProperty(r,"__esModule",{value:!0})})}),cr=Ct((F,C)=>{C.exports=function(r){return window&&window.process&&window.process.versions?Object.prototype.toString.call(r)==="[object Object]":Object.prototype.toString.call(r)==="[object Object]"&&Object.getPrototypeOf(r).hasOwnProperty("hasOwnProperty")}}),Ca=Ct(F=>{var C=No().decode,r=cr(),t=Array.isArray,n=ArrayBuffer,l=DataView;function i(h){return n.isView(h)&&!(h instanceof l)}F.isTypedArray=i;function o(h){return t(h)||i(h)}F.isArrayOrTypedArray=o;function s(h){return!o(h[0])}F.isArray1D=s,F.ensureArray=function(h,_){return t(h)||(h=[]),h.length=_,h};var f={u1c:typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,i1:typeof Int8Array>"u"?void 0:Int8Array,u1:typeof Uint8Array>"u"?void 0:Uint8Array,i2:typeof Int16Array>"u"?void 0:Int16Array,u2:typeof Uint16Array>"u"?void 0:Uint16Array,i4:typeof Int32Array>"u"?void 0:Int32Array,u4:typeof Uint32Array>"u"?void 0:Uint32Array,f4:typeof Float32Array>"u"?void 0:Float32Array,f8:typeof Float64Array>"u"?void 0:Float64Array};f.uint8c=f.u1c,f.uint8=f.u1,f.int8=f.i1,f.uint16=f.u2,f.int16=f.i2,f.uint32=f.u4,f.int32=f.i4,f.float32=f.f4,f.float64=f.f8;function e(h){return h.constructor===ArrayBuffer}F.isArrayBuffer=e,F.decodeTypedArraySpec=function(h){var _=[],m=v(h),g=m.dtype,y=f[g];if(!y)throw new Error('Error in dtype: "'+g+'"');var p=y.BYTES_PER_ELEMENT,c=m.bdata;e(c)||(c=C(c));var d=m.shape===void 0?[c.byteLength/p]:(""+m.shape).split(",");d.reverse();var b=d.length,w,k,$=+d[0],P=p*$,O=0;if(b===1)_=new y(c);else if(b===2)for(w=+d[1],k=0;k<w;k++)_[k]=new y(c,O,$),O+=P;else if(b===3){w=+d[1];for(var T=+d[2],G=0;G<T;G++)for(_[G]=[],k=0;k<w;k++)_[G][k]=new y(c,O,$),O+=P}else throw new Error("ndim: "+b+'is not supported with the shape:"'+m.shape+'"');return _.bdata=m.bdata,_.dtype=m.dtype,_.shape=d.reverse().join(","),h._inputArray=_,_},F.isTypedArraySpec=function(h){return r(h)&&h.hasOwnProperty("dtype")&&typeof h.dtype=="string"&&h.hasOwnProperty("bdata")&&(typeof h.bdata=="string"||e(h.bdata))&&(h.shape===void 0||h.hasOwnProperty("shape")&&(typeof h.shape=="string"||typeof h.shape=="number"))};function v(h){return{bdata:h.bdata,dtype:h.dtype,shape:h.shape}}F.concat=function(){var h=[],_=!0,m=0,g,y,p,c,d,b,w,k;for(p=0;p<arguments.length;p++)c=arguments[p],b=c.length,b&&(y?h.push(c):(y=c,d=b),t(c)?g=!1:(_=!1,m?g!==c.constructor&&(g=!1):g=c.constructor),m+=b);if(!m)return[];if(!h.length)return y;if(_)return y.concat.apply(y,h);if(g){for(w=new g(m),w.set(y),p=0;p<h.length;p++)c=h[p],w.set(c,d),d+=c.length;return w}for(w=new Array(m),k=0;k<y.length;k++)w[k]=y[k];for(p=0;p<h.length;p++){for(c=h[p],k=0;k<c.length;k++)w[d+k]=c[k];d+=k}return w},F.maxRowLength=function(h){return u(h,Math.max,0)},F.minRowLength=function(h){return u(h,Math.min,1/0)};function u(h,_,m){if(o(h))if(o(h[0])){for(var g=m,y=0;y<h.length;y++)g=_(g,h[y].length);return g}else return h.length;return 0}}),Mi=Ct((F,C)=>{var r=Mn(),t=Ca().isArrayOrTypedArray;C.exports=function(u,h){if(r(h))h=String(h);else if(typeof h!="string"||h.substr(h.length-4)==="[-1]")throw"bad property string";var _=h.split("."),m,g,y,p;for(p=0;p<_.length;p++)if(String(_[p]).slice(0,2)==="__")throw"bad property string";for(p=0;p<_.length;){if(m=String(_[p]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),m){if(m[1])_[p]=m[1];else if(p===0)_.splice(0,1);else throw"bad property string";for(g=m[2].substr(1,m[2].length-2).split("]["),y=0;y<g.length;y++)p++,_.splice(p,0,Number(g[y]))}p++}return typeof u!="object"?v(u,h,_):{set:o(u,_,h),get:n(u,_),astr:h,parts:_,obj:u}};function n(u,h){return function(_){var m=u,g,y,p,c,d;for(c=0;c<h.length-1;c++){if(g=h[c],g===-1){for(y=!0,p=[],d=0;d<m.length;d++)p[d]=n(m[d],h.slice(c+1))(_),p[d]!==p[0]&&(y=!1);return y?p[0]:p}if(typeof g=="number"&&!t(m)||(m=m[g],typeof m!="object"||m===null))return}if(!(typeof m!="object"||m===null)&&(p=m[h[c]],!(!_&&p===null)))return p}}var l=/(^|\.)args\[/;function i(u,h){return u===void 0||u===null&&!h.match(l)}function o(u,h,_){return function(m){var g=u,y="",p=i(m,_),c,d;for(d=0;d<h.length-1;d++){if(c=h[d],typeof c=="number"&&!t(g))throw"array index but container is not an array";if(c===-1){if(p=!f(g,h.slice(d+1),m,_),p)break;return}if(!e(g,c,h[d+1],p))break;if(g=g[c],typeof g!="object"||g===null)throw"container is not an object";y=s(y,c)}if(p){if(d===h.length-1&&(delete g[h[d]],Array.isArray(g)&&+h[d]===g.length-1))for(;g.length&&g[g.length-1]===void 0;)g.pop()}else g[h[d]]=m}}function s(u,h){var _=h;return r(h)?_="["+h+"]":u&&(_="."+h),u+_}function f(u,h,_,m){var g=t(_),y=!0,p=_,c=m.replace("-1",0),d=g?!1:i(_,c),b=h[0],w;for(w=0;w<u.length;w++)c=m.replace("-1",w),g&&(p=_[w%_.length],d=i(p,c)),d&&(y=!1),e(u,w,b,d)&&o(u[w],h,m.replace("-1",w))(p);return y}function e(u,h,_,m){if(u[h]===void 0){if(m)return!1;typeof _=="number"?u[h]=[]:u[h]={}}return!0}function v(u,h,_){return{set:function(){throw"bad container"},get:function(){},astr:h,parts:_,obj:u}}}),fu=Ct((F,C)=>{var r=Mi(),t=/^\w*$/,n=0,l=1,i=2,o=3,s=4;C.exports=function(f,e,v,u){v=v||"name",u=u||"value";var h,_,m,g={};e&&e.length?(m=r(f,e),_=m.get()):_=f,e=e||"";var y={};if(_)for(h=0;h<_.length;h++)y[_[h][v]]=h;var p=t.test(u),c={set:function(d,b){var w=b===null?s:n;if(!_){if(!m||w===s)return;_=[],m.set(_)}var k=y[d];if(k===void 0){if(w===s)return;w=w|o,k=_.length,y[d]=k}else b!==(p?_[k][u]:r(_[k],u).get())&&(w=w|i);var $=_[k]=_[k]||{};return $[v]=d,p?$[u]=b:r($,u).set(b),b!==null&&(w=w&~s),g[k]=g[k]|w,c},get:function(d){if(_){var b=y[d];if(b!==void 0)return p?_[b][u]:r(_[b],u).get()}},rename:function(d,b){var w=y[d];return w===void 0||(g[w]=g[w]|l,y[b]=w,delete y[d],_[w][v]=b),c},remove:function(d){var b=y[d];if(b===void 0)return c;var w=_[b];if(Object.keys(w).length>2)return g[b]=g[b]|i,c.set(d,null);if(p){for(h=b;h<_.length;h++)g[h]=g[h]|o;for(h=b;h<_.length;h++)y[_[h][v]]--;_.splice(b,1),delete y[d]}else r(w,u).set(null),g[b]=g[b]|i|s;return c},constructUpdate:function(){for(var d,b,w={},k=Object.keys(g),$=0;$<k.length;$++)b=k[$],d=e+"["+b+"]",_[b]?(g[b]&l&&(w[d+"."+v]=_[b][v]),g[b]&i&&(p?w[d+"."+u]=g[b]&s?null:_[b][u]:w[d+"."+u]=g[b]&s?null:r(_[b],u).get())):w[d]=null;return w}};return c}}),du=Ct((F,C)=>{var r=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,t=/^[^\.\[\]]+$/;C.exports=function(n,l){for(;l;){var i=n.match(r);if(i)n=i[1];else if(n.match(t))n="";else throw new Error("bad relativeAttr call:"+[n,l]);if(l.charAt(0)==="^")l=l.slice(1);else break}return n&&l.charAt(0)!=="["?n+"."+l:n+l}}),Ti=Ct((F,C)=>{var r=Mn();C.exports=function(t,n){if(t>0)return Math.log(t)/Math.LN10;var l=Math.log(Math.min(n[0],n[1]))/Math.LN10;return r(l)||(l=Math.log(Math.max(n[0],n[1]))/Math.LN10-6),l}}),hu=Ct((F,C)=>{var r=Ca().isArrayOrTypedArray,t=cr();C.exports=function n(l,i){for(var o in i){var s=i[o],f=l[o];if(f!==s)if(o.charAt(0)==="_"||typeof s=="function"){if(o in l)continue;l[o]=s}else if(r(s)&&r(f)&&t(s[0])){if(o==="customdata"||o==="ids")continue;for(var e=Math.min(s.length,f.length),v=0;v<e;v++)f[v]!==s[v]&&t(s[v])&&t(f[v])&&n(f[v],s[v])}else t(s)&&t(f)&&(n(f,s),Object.keys(f).length||delete l[o])}}}),Pr=Ct((F,C)=>{function r(n,l){var i=n%l;return i<0?i+l:i}function t(n,l){return Math.abs(n)>l/2?n-Math.round(n/l)*l:n}C.exports={mod:r,modHalf:t}}),Ra=Ct((F,C)=>{(function(r){var t=/^\s+/,n=/\s+$/,l=0,i=r.round,o=r.min,s=r.max,f=r.random;function e(M,S){if(M=M||"",S=S||{},M instanceof e)return M;if(!(this instanceof e))return new e(M,S);var R=v(M);this._originalInput=M,this._r=R.r,this._g=R.g,this._b=R.b,this._a=R.a,this._roundA=i(100*this._a)/100,this._format=S.format||R.format,this._gradientType=S.gradientType,this._r<1&&(this._r=i(this._r)),this._g<1&&(this._g=i(this._g)),this._b<1&&(this._b=i(this._b)),this._ok=R.ok,this._tc_id=l++}e.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var M=this.toRgb();return(M.r*299+M.g*587+M.b*114)/1e3},getLuminance:function(){var M=this.toRgb(),S,R,V,rt,st,ut;return S=M.r/255,R=M.g/255,V=M.b/255,S<=.03928?rt=S/12.92:rt=r.pow((S+.055)/1.055,2.4),R<=.03928?st=R/12.92:st=r.pow((R+.055)/1.055,2.4),V<=.03928?ut=V/12.92:ut=r.pow((V+.055)/1.055,2.4),.2126*rt+.7152*st+.0722*ut},setAlpha:function(M){return this._a=W(M),this._roundA=i(100*this._a)/100,this},toHsv:function(){var M=m(this._r,this._g,this._b);return{h:M.h*360,s:M.s,v:M.v,a:this._a}},toHsvString:function(){var M=m(this._r,this._g,this._b),S=i(M.h*360),R=i(M.s*100),V=i(M.v*100);return this._a==1?"hsv("+S+", "+R+"%, "+V+"%)":"hsva("+S+", "+R+"%, "+V+"%, "+this._roundA+")"},toHsl:function(){var M=h(this._r,this._g,this._b);return{h:M.h*360,s:M.s,l:M.l,a:this._a}},toHslString:function(){var M=h(this._r,this._g,this._b),S=i(M.h*360),R=i(M.s*100),V=i(M.l*100);return this._a==1?"hsl("+S+", "+R+"%, "+V+"%)":"hsla("+S+", "+R+"%, "+V+"%, "+this._roundA+")"},toHex:function(M){return y(this._r,this._g,this._b,M)},toHexString:function(M){return"#"+this.toHex(M)},toHex8:function(M){return p(this._r,this._g,this._b,this._a,M)},toHex8String:function(M){return"#"+this.toHex8(M)},toRgb:function(){return{r:i(this._r),g:i(this._g),b:i(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+i(this._r)+", "+i(this._g)+", "+i(this._b)+")":"rgba("+i(this._r)+", "+i(this._g)+", "+i(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:i(X(this._r,255)*100)+"%",g:i(X(this._g,255)*100)+"%",b:i(X(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+i(X(this._r,255)*100)+"%, "+i(X(this._g,255)*100)+"%, "+i(X(this._b,255)*100)+"%)":"rgba("+i(X(this._r,255)*100)+"%, "+i(X(this._g,255)*100)+"%, "+i(X(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Z[y(this._r,this._g,this._b,!0)]||!1},toFilter:function(M){var S="#"+c(this._r,this._g,this._b,this._a),R=S,V=this._gradientType?"GradientType = 1, ":"";if(M){var rt=e(M);R="#"+c(rt._r,rt._g,rt._b,rt._a)}return"progid:DXImageTransform.Microsoft.gradient("+V+"startColorstr="+S+",endColorstr="+R+")"},toString:function(M){var S=!!M;M=M||this._format;var R=!1,V=this._a<1&&this._a>=0,rt=!S&&V&&(M==="hex"||M==="hex6"||M==="hex3"||M==="hex4"||M==="hex8"||M==="name");return rt?M==="name"&&this._a===0?this.toName():this.toRgbString():(M==="rgb"&&(R=this.toRgbString()),M==="prgb"&&(R=this.toPercentageRgbString()),(M==="hex"||M==="hex6")&&(R=this.toHexString()),M==="hex3"&&(R=this.toHexString(!0)),M==="hex4"&&(R=this.toHex8String(!0)),M==="hex8"&&(R=this.toHex8String()),M==="name"&&(R=this.toName()),M==="hsl"&&(R=this.toHslString()),M==="hsv"&&(R=this.toHsvString()),R||this.toHexString())},clone:function(){return e(this.toString())},_applyModification:function(M,S){var R=M.apply(null,[this].concat([].slice.call(S)));return this._r=R._r,this._g=R._g,this._b=R._b,this.setAlpha(R._a),this},lighten:function(){return this._applyModification(k,arguments)},brighten:function(){return this._applyModification($,arguments)},darken:function(){return this._applyModification(P,arguments)},desaturate:function(){return this._applyModification(d,arguments)},saturate:function(){return this._applyModification(b,arguments)},greyscale:function(){return this._applyModification(w,arguments)},spin:function(){return this._applyModification(O,arguments)},_applyCombination:function(M,S){return M.apply(null,[this].concat([].slice.call(S)))},analogous:function(){return this._applyCombination(z,arguments)},complement:function(){return this._applyCombination(T,arguments)},monochromatic:function(){return this._applyCombination(j,arguments)},splitcomplement:function(){return this._applyCombination(E,arguments)},triad:function(){return this._applyCombination(G,arguments)},tetrad:function(){return this._applyCombination(I,arguments)}},e.fromRatio=function(M,S){if(typeof M=="object"){var R={};for(var V in M)M.hasOwnProperty(V)&&(V==="a"?R[V]=M[V]:R[V]=xt(M[V]));M=R}return e(M,S)};function v(M){var S={r:0,g:0,b:0},R=1,V=null,rt=null,st=null,ut=!1,_t=!1;return typeof M=="string"&&(M=at(M)),typeof M=="object"&&(J(M.r)&&J(M.g)&&J(M.b)?(S=u(M.r,M.g,M.b),ut=!0,_t=String(M.r).substr(-1)==="%"?"prgb":"rgb"):J(M.h)&&J(M.s)&&J(M.v)?(V=xt(M.s),rt=xt(M.v),S=g(M.h,V,rt),ut=!0,_t="hsv"):J(M.h)&&J(M.s)&&J(M.l)&&(V=xt(M.s),st=xt(M.l),S=_(M.h,V,st),ut=!0,_t="hsl"),M.hasOwnProperty("a")&&(R=M.a)),R=W(R),{ok:ut,format:M.format||_t,r:o(255,s(S.r,0)),g:o(255,s(S.g,0)),b:o(255,s(S.b,0)),a:R}}function u(M,S,R){return{r:X(M,255)*255,g:X(S,255)*255,b:X(R,255)*255}}function h(M,S,R){M=X(M,255),S=X(S,255),R=X(R,255);var V=s(M,S,R),rt=o(M,S,R),st,ut,_t=(V+rt)/2;if(V==rt)st=ut=0;else{var Tt=V-rt;switch(ut=_t>.5?Tt/(2-V-rt):Tt/(V+rt),V){case M:st=(S-R)/Tt+(S<R?6:0);break;case S:st=(R-M)/Tt+2;break;case R:st=(M-S)/Tt+4;break}st/=6}return{h:st,s:ut,l:_t}}function _(M,S,R){var V,rt,st;M=X(M,360),S=X(S,100),R=X(R,100);function ut(Ft,Zt,Bt){return Bt<0&&(Bt+=1),Bt>1&&(Bt-=1),Bt<1/6?Ft+(Zt-Ft)*6*Bt:Bt<1/2?Zt:Bt<2/3?Ft+(Zt-Ft)*(2/3-Bt)*6:Ft}if(S===0)V=rt=st=R;else{var _t=R<.5?R*(1+S):R+S-R*S,Tt=2*R-_t;V=ut(Tt,_t,M+1/3),rt=ut(Tt,_t,M),st=ut(Tt,_t,M-1/3)}return{r:V*255,g:rt*255,b:st*255}}function m(M,S,R){M=X(M,255),S=X(S,255),R=X(R,255);var V=s(M,S,R),rt=o(M,S,R),st,ut,_t=V,Tt=V-rt;if(ut=V===0?0:Tt/V,V==rt)st=0;else{switch(V){case M:st=(S-R)/Tt+(S<R?6:0);break;case S:st=(R-M)/Tt+2;break;case R:st=(M-S)/Tt+4;break}st/=6}return{h:st,s:ut,v:_t}}function g(M,S,R){M=X(M,360)*6,S=X(S,100),R=X(R,100);var V=r.floor(M),rt=M-V,st=R*(1-S),ut=R*(1-rt*S),_t=R*(1-(1-rt)*S),Tt=V%6,Ft=[R,ut,st,st,_t,R][Tt],Zt=[_t,R,R,ut,st,st][Tt],Bt=[st,st,_t,R,R,ut][Tt];return{r:Ft*255,g:Zt*255,b:Bt*255}}function y(M,S,R,V){var rt=[ht(i(M).toString(16)),ht(i(S).toString(16)),ht(i(R).toString(16))];return V&&rt[0].charAt(0)==rt[0].charAt(1)&&rt[1].charAt(0)==rt[1].charAt(1)&&rt[2].charAt(0)==rt[2].charAt(1)?rt[0].charAt(0)+rt[1].charAt(0)+rt[2].charAt(0):rt.join("")}function p(M,S,R,V,rt){var st=[ht(i(M).toString(16)),ht(i(S).toString(16)),ht(i(R).toString(16)),ht(H(V))];return rt&&st[0].charAt(0)==st[0].charAt(1)&&st[1].charAt(0)==st[1].charAt(1)&&st[2].charAt(0)==st[2].charAt(1)&&st[3].charAt(0)==st[3].charAt(1)?st[0].charAt(0)+st[1].charAt(0)+st[2].charAt(0)+st[3].charAt(0):st.join("")}function c(M,S,R,V){var rt=[ht(H(V)),ht(i(M).toString(16)),ht(i(S).toString(16)),ht(i(R).toString(16))];return rt.join("")}e.equals=function(M,S){return!M||!S?!1:e(M).toRgbString()==e(S).toRgbString()},e.random=function(){return e.fromRatio({r:f(),g:f(),b:f()})};function d(M,S){S=S===0?0:S||10;var R=e(M).toHsl();return R.s-=S/100,R.s=it(R.s),e(R)}function b(M,S){S=S===0?0:S||10;var R=e(M).toHsl();return R.s+=S/100,R.s=it(R.s),e(R)}function w(M){return e(M).desaturate(100)}function k(M,S){S=S===0?0:S||10;var R=e(M).toHsl();return R.l+=S/100,R.l=it(R.l),e(R)}function $(M,S){S=S===0?0:S||10;var R=e(M).toRgb();return R.r=s(0,o(255,R.r-i(255*-(S/100)))),R.g=s(0,o(255,R.g-i(255*-(S/100)))),R.b=s(0,o(255,R.b-i(255*-(S/100)))),e(R)}function P(M,S){S=S===0?0:S||10;var R=e(M).toHsl();return R.l-=S/100,R.l=it(R.l),e(R)}function O(M,S){var R=e(M).toHsl(),V=(R.h+S)%360;return R.h=V<0?360+V:V,e(R)}function T(M){var S=e(M).toHsl();return S.h=(S.h+180)%360,e(S)}function G(M){var S=e(M).toHsl(),R=S.h;return[e(M),e({h:(R+120)%360,s:S.s,l:S.l}),e({h:(R+240)%360,s:S.s,l:S.l})]}function I(M){var S=e(M).toHsl(),R=S.h;return[e(M),e({h:(R+90)%360,s:S.s,l:S.l}),e({h:(R+180)%360,s:S.s,l:S.l}),e({h:(R+270)%360,s:S.s,l:S.l})]}function E(M){var S=e(M).toHsl(),R=S.h;return[e(M),e({h:(R+72)%360,s:S.s,l:S.l}),e({h:(R+216)%360,s:S.s,l:S.l})]}function z(M,S,R){S=S||6,R=R||30;var V=e(M).toHsl(),rt=360/R,st=[e(M)];for(V.h=(V.h-(rt*S>>1)+720)%360;--S;)V.h=(V.h+rt)%360,st.push(e(V));return st}function j(M,S){S=S||6;for(var R=e(M).toHsv(),V=R.h,rt=R.s,st=R.v,ut=[],_t=1/S;S--;)ut.push(e({h:V,s:rt,v:st})),st=(st+_t)%1;return ut}e.mix=function(M,S,R){R=R===0?0:R||50;var V=e(M).toRgb(),rt=e(S).toRgb(),st=R/100,ut={r:(rt.r-V.r)*st+V.r,g:(rt.g-V.g)*st+V.g,b:(rt.b-V.b)*st+V.b,a:(rt.a-V.a)*st+V.a};return e(ut)},e.readability=function(M,S){var R=e(M),V=e(S);return(r.max(R.getLuminance(),V.getLuminance())+.05)/(r.min(R.getLuminance(),V.getLuminance())+.05)},e.isReadable=function(M,S,R){var V=e.readability(M,S),rt,st;switch(st=!1,rt=N(R),rt.level+rt.size){case"AAsmall":case"AAAlarge":st=V>=4.5;break;case"AAlarge":st=V>=3;break;case"AAAsmall":st=V>=7;break}return st},e.mostReadable=function(M,S,R){var V=null,rt=0,st,ut,_t,Tt;R=R||{},ut=R.includeFallbackColors,_t=R.level,Tt=R.size;for(var Ft=0;Ft<S.length;Ft++)st=e.readability(M,S[Ft]),st>rt&&(rt=st,V=e(S[Ft]));return e.isReadable(M,V,{level:_t,size:Tt})||!ut?V:(R.includeFallbackColors=!1,e.mostReadable(M,["#fff","#000"],R))};var U=e.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Z=e.hexNames=D(U);function D(M){var S={};for(var R in M)M.hasOwnProperty(R)&&(S[M[R]]=R);return S}function W(M){return M=parseFloat(M),(isNaN(M)||M<0||M>1)&&(M=1),M}function X(M,S){ot(M)&&(M="100%");var R=dt(M);return M=o(S,s(0,parseFloat(M))),R&&(M=parseInt(M*S,10)/100),r.abs(M-S)<1e-6?1:M%S/parseFloat(S)}function it(M){return o(1,s(0,M))}function nt(M){return parseInt(M,16)}function ot(M){return typeof M=="string"&&M.indexOf(".")!=-1&&parseFloat(M)===1}function dt(M){return typeof M=="string"&&M.indexOf("%")!=-1}function ht(M){return M.length==1?"0"+M:""+M}function xt(M){return M<=1&&(M=M*100+"%"),M}function H(M){return r.round(parseFloat(M)*255).toString(16)}function Y(M){return nt(M)/255}var A=(function(){var M="[-\\+]?\\d+%?",S="[-\\+]?\\d*\\.\\d+%?",R="(?:"+S+")|(?:"+M+")",V="[\\s|\\(]+("+R+")[,|\\s]+("+R+")[,|\\s]+("+R+")\\s*\\)?",rt="[\\s|\\(]+("+R+")[,|\\s]+("+R+")[,|\\s]+("+R+")[,|\\s]+("+R+")\\s*\\)?";return{CSS_UNIT:new RegExp(R),rgb:new RegExp("rgb"+V),rgba:new RegExp("rgba"+rt),hsl:new RegExp("hsl"+V),hsla:new RegExp("hsla"+rt),hsv:new RegExp("hsv"+V),hsva:new RegExp("hsva"+rt),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})();function J(M){return!!A.CSS_UNIT.exec(M)}function at(M){M=M.replace(t,"").replace(n,"").toLowerCase();var S=!1;if(U[M])M=U[M],S=!0;else if(M=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var R;return(R=A.rgb.exec(M))?{r:R[1],g:R[2],b:R[3]}:(R=A.rgba.exec(M))?{r:R[1],g:R[2],b:R[3],a:R[4]}:(R=A.hsl.exec(M))?{h:R[1],s:R[2],l:R[3]}:(R=A.hsla.exec(M))?{h:R[1],s:R[2],l:R[3],a:R[4]}:(R=A.hsv.exec(M))?{h:R[1],s:R[2],v:R[3]}:(R=A.hsva.exec(M))?{h:R[1],s:R[2],v:R[3],a:R[4]}:(R=A.hex8.exec(M))?{r:nt(R[1]),g:nt(R[2]),b:nt(R[3]),a:Y(R[4]),format:S?"name":"hex8"}:(R=A.hex6.exec(M))?{r:nt(R[1]),g:nt(R[2]),b:nt(R[3]),format:S?"name":"hex"}:(R=A.hex4.exec(M))?{r:nt(R[1]+""+R[1]),g:nt(R[2]+""+R[2]),b:nt(R[3]+""+R[3]),a:Y(R[4]+""+R[4]),format:S?"name":"hex8"}:(R=A.hex3.exec(M))?{r:nt(R[1]+""+R[1]),g:nt(R[2]+""+R[2]),b:nt(R[3]+""+R[3]),format:S?"name":"hex"}:!1}function N(M){var S,R;return M=M||{level:"AA",size:"small"},S=(M.level||"AA").toUpperCase(),R=(M.size||"small").toLowerCase(),S!=="AA"&&S!=="AAA"&&(S="AA"),R!=="small"&&R!=="large"&&(R="small"),{level:S,size:R}}typeof C<"u"&&C.exports?C.exports=e:window.tinycolor=e})(Math)}),la=Ct(F=>{var C=cr(),r=Array.isArray;function t(l,i){var o,s;for(o=0;o<l.length;o++){if(s=l[o],s!==null&&typeof s=="object")return!1;s!==void 0&&(i[o]=s)}return!0}F.extendFlat=function(){return n(arguments,!1,!1,!1)},F.extendDeep=function(){return n(arguments,!0,!1,!1)},F.extendDeepAll=function(){return n(arguments,!0,!0,!1)},F.extendDeepNoArrays=function(){return n(arguments,!0,!1,!0)};function n(l,i,o,s){var f=l[0],e=l.length,v,u,h,_,m,g,y;if(e===2&&r(f)&&r(l[1])&&f.length===0){if(y=t(l[1],f),y)return f;f.splice(0,f.length)}for(var p=1;p<e;p++){v=l[p];for(u in v)h=f[u],_=v[u],s&&r(_)?f[u]=_:i&&_&&(C(_)||(m=r(_)))?(m?(m=!1,g=h&&r(h)?h:[]):g=h&&C(h)?h:{},f[u]=n([g,_],i,o,s)):(typeof _<"u"||o)&&(f[u]=_)}return f}}),ha=Ct((F,C)=>{C.exports=function(r){var t=r.variantValues,n=r.editType,l=r.colorEditType;l===void 0&&(l=n);var i={editType:n,valType:"integer",min:1,max:1e3,extras:["normal","bold"],dflt:"normal"};r.noNumericWeightValues&&(i.valType="enumerated",i.values=i.extras,i.extras=void 0,i.min=void 0,i.max=void 0);var o={family:{valType:"string",noBlank:!0,strict:!0,editType:n},size:{valType:"number",min:1,editType:n},color:{valType:"color",editType:l},weight:i,style:{editType:n,valType:"enumerated",values:["normal","italic"],dflt:"normal"},variant:r.noFontVariant?void 0:{editType:n,valType:"enumerated",values:t||["normal","small-caps","all-small-caps","all-petite-caps","petite-caps","unicase"],dflt:"normal"},textcase:r.noFontTextcase?void 0:{editType:n,valType:"enumerated",values:["normal","word caps","upper","lower"],dflt:"normal"},lineposition:r.noFontLineposition?void 0:{editType:n,valType:"flaglist",flags:["under","over","through"],extras:["none"],dflt:"none"},shadow:r.noFontShadow?void 0:{editType:n,valType:"string",dflt:r.autoShadowDflt?"auto":"none"},editType:n};return r.autoSize&&(o.size.dflt="auto"),r.autoColor&&(o.color.dflt="auto"),r.arrayOk&&(o.family.arrayOk=!0,o.weight.arrayOk=!0,o.style.arrayOk=!0,r.noFontVariant||(o.variant.arrayOk=!0),r.noFontTextcase||(o.textcase.arrayOk=!0),r.noFontLineposition||(o.lineposition.arrayOk=!0),r.noFontShadow||(o.shadow.arrayOk=!0),o.size.arrayOk=!0,o.color.arrayOk=!0),o}}),Zr=Ct((F,C)=>{C.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}}),Ir=Ct((F,C)=>{var r=Zr(),t=ha(),n=t({editType:"none"});n.family.dflt=r.HOVERFONT,n.size.dflt=r.HOVERFONTSIZE,C.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoversubplots:{valType:"enumerated",values:["single","overlaying","axis"],dflt:"overlaying",editType:"none"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:n,grouptitlefont:t({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},showarrow:{valType:"boolean",dflt:!0,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}}),ki=Ct((F,C)=>{var r=ha(),t=Ir().hoverlabel,n=la().extendFlat;C.exports={hoverlabel:{bgcolor:n({},t.bgcolor,{arrayOk:!0}),bordercolor:n({},t.bordercolor,{arrayOk:!0}),font:r({arrayOk:!0,editType:"none"}),align:n({},t.align,{arrayOk:!0}),namelength:n({},t.namelength,{arrayOk:!0}),showarrow:n({},t.showarrow),editType:"none"}}}),Ba=Ct((F,C)=>{var r=ha(),t=ki();C.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:r({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:t.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},uirevision:{valType:"any",editType:"none"}}}),_r=Ct((F,C)=>{var r=Ra(),t={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},n=t.RdBu;function l(s,f){if(f||(f=n),!s)return f;function e(){try{s=t[s]||JSON.parse(s)}catch{s=f}}return typeof s=="string"&&(e(),typeof s=="string"&&e()),i(s)?s:f}function i(s){var f=0;if(!Array.isArray(s)||s.length<2||!s[0]||!s[s.length-1]||+s[0][0]!=0||+s[s.length-1][0]!=1)return!1;for(var e=0;e<s.length;e++){var v=s[e];if(v.length!==2||+v[0]<f||!r(v[1]).isValid())return!1;f=+v[0]}return!0}function o(s){return t[s]!==void 0?!0:i(s)}C.exports={scales:t,defaultScale:n,get:l,isValid:o}}),Xa=Ct(F=>{F.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],F.defaultLine="#444",F.lightLine="#eee",F.background="#fff",F.borderLine="#BEC8D9",F.lightFraction=1e3/11}),bn=Ct((F,C)=>{var r=Ra(),t=Mn(),n=Ca().isTypedArray,l=C.exports={},i=Xa();l.defaults=i.defaults;var o=l.defaultLine=i.defaultLine;l.lightLine=i.lightLine;var s=l.background=i.background;l.tinyRGB=function(e){var v=e.toRgb();return"rgb("+Math.round(v.r)+", "+Math.round(v.g)+", "+Math.round(v.b)+")"},l.rgb=function(e){return l.tinyRGB(r(e))},l.opacity=function(e){return e?r(e).getAlpha():0},l.addOpacity=function(e,v){var u=r(e).toRgb();return"rgba("+Math.round(u.r)+", "+Math.round(u.g)+", "+Math.round(u.b)+", "+v+")"},l.combine=function(e,v){var u=r(e).toRgb();if(u.a===1)return r(e).toRgbString();var h=r(v||s).toRgb(),_=h.a===1?h:{r:255*(1-h.a)+h.r*h.a,g:255*(1-h.a)+h.g*h.a,b:255*(1-h.a)+h.b*h.a},m={r:_.r*(1-u.a)+u.r*u.a,g:_.g*(1-u.a)+u.g*u.a,b:_.b*(1-u.a)+u.b*u.a};return r(m).toRgbString()},l.interpolate=function(e,v,u){var h=r(e).toRgb(),_=r(v).toRgb(),m={r:u*h.r+(1-u)*_.r,g:u*h.g+(1-u)*_.g,b:u*h.b+(1-u)*_.b};return r(m).toRgbString()},l.contrast=function(e,v,u){var h=r(e);h.getAlpha()!==1&&(h=r(l.combine(e,s)));var _=h.isDark()?v?h.lighten(v):s:u?h.darken(u):o;return _.toString()},l.stroke=function(e,v){var u=r(v);e.style({stroke:l.tinyRGB(u),"stroke-opacity":u.getAlpha()})},l.fill=function(e,v){var u=r(v);e.style({fill:l.tinyRGB(u),"fill-opacity":u.getAlpha()})},l.clean=function(e){if(!(!e||typeof e!="object")){var v=Object.keys(e),u,h,_,m;for(u=0;u<v.length;u++)if(_=v[u],m=e[_],_.substr(_.length-5)==="color")if(Array.isArray(m))for(h=0;h<m.length;h++)m[h]=f(m[h]);else e[_]=f(m);else if(_.substr(_.length-10)==="colorscale"&&Array.isArray(m))for(h=0;h<m.length;h++)Array.isArray(m[h])&&(m[h][1]=f(m[h][1]));else if(Array.isArray(m)){var g=m[0];if(!Array.isArray(g)&&g&&typeof g=="object")for(h=0;h<m.length;h++)l.clean(m[h])}else m&&typeof m=="object"&&!n(m)&&l.clean(m)}};function f(e){if(t(e)||typeof e!="string")return e;var v=e.trim();if(v.substr(0,3)!=="rgb")return e;var u=v.match(/^rgba?\s*\(([^()]*)\)$/);if(!u)return e;var h=u[1].trim().split(/\s*[\s,]\s*/),_=v.charAt(3)==="a"&&h.length===4;if(!_&&h.length!==3)return e;for(var m=0;m<h.length;m++){if(!h[m].length||(h[m]=Number(h[m]),!(h[m]>=0)))return e;if(m===3)h[m]>1&&(h[m]=1);else if(h[m]>=1)return e}var g=Math.round(h[0]*255)+", "+Math.round(h[1]*255)+", "+Math.round(h[2]*255);return _?"rgba("+g+", "+h[3]+")":"rgb("+g+")"}}),Ai=Ct((F,C)=>{C.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}}),Fr=Ct(F=>{F.counter=function(C,r,t,n){var l=(r||"")+(t?"":"$"),i=n===!1?"":"^";return C==="xy"?new RegExp(i+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+l):new RegExp(i+C+"([2-9]|[1-9][0-9]+)?"+l)}}),pu=Ct(F=>{var C=Mn(),r=Ra(),t=la().extendFlat,n=Ba(),l=_r(),i=bn(),o=Ai().DESELECTDIM,s=Mi(),f=Fr().counter,e=Pr().modHalf,v=Ca().isArrayOrTypedArray,u=Ca().isTypedArraySpec,h=Ca().decodeTypedArraySpec;F.valObjectMeta={data_array:{coerceFunction:function(m,g,y){g.set(v(m)?m:u(m)?h(m):y)}},enumerated:{coerceFunction:function(m,g,y,p){p.coerceNumber&&(m=+m),p.values.indexOf(m)===-1?g.set(y):g.set(m)},validateFunction:function(m,g){g.coerceNumber&&(m=+m);for(var y=g.values,p=0;p<y.length;p++){var c=String(y[p]);if(c.charAt(0)==="/"&&c.charAt(c.length-1)==="/"){var d=new RegExp(c.substr(1,c.length-2));if(d.test(m))return!0}else if(m===y[p])return!0}return!1}},boolean:{coerceFunction:function(m,g,y){m===!0||m===!1?g.set(m):g.set(y)}},number:{coerceFunction:function(m,g,y,p){u(m)&&(m=h(m)),!C(m)||p.min!==void 0&&m<p.min||p.max!==void 0&&m>p.max?g.set(y):g.set(+m)}},integer:{coerceFunction:function(m,g,y,p){if((p.extras||[]).indexOf(m)!==-1){g.set(m);return}u(m)&&(m=h(m)),m%1||!C(m)||p.min!==void 0&&m<p.min||p.max!==void 0&&m>p.max?g.set(y):g.set(+m)}},string:{coerceFunction:function(m,g,y,p){if(typeof m!="string"){var c=typeof m=="number";p.strict===!0||!c?g.set(y):g.set(String(m))}else p.noBlank&&!m?g.set(y):g.set(m)}},color:{coerceFunction:function(m,g,y){u(m)&&(m=h(m)),r(m).isValid()?g.set(m):g.set(y)}},colorlist:{coerceFunction:function(m,g,y){function p(c){return r(c).isValid()}!Array.isArray(m)||!m.length?g.set(y):m.every(p)?g.set(m):g.set(y)}},colorscale:{coerceFunction:function(m,g,y){g.set(l.get(m,y))}},angle:{coerceFunction:function(m,g,y){u(m)&&(m=h(m)),m==="auto"?g.set("auto"):C(m)?g.set(e(+m,360)):g.set(y)}},subplotid:{coerceFunction:function(m,g,y,p){var c=p.regex||f(y);if(typeof m=="string"&&c.test(m)){g.set(m);return}g.set(y)},validateFunction:function(m,g){var y=g.dflt;return m===y?!0:typeof m!="string"?!1:!!f(y).test(m)}},flaglist:{coerceFunction:function(m,g,y,p){if((p.extras||[]).indexOf(m)!==-1){g.set(m);return}if(typeof m!="string"){g.set(y);return}for(var c=m.split("+"),d=0;d<c.length;){var b=c[d];p.flags.indexOf(b)===-1||c.indexOf(b)<d?c.splice(d,1):d++}c.length?g.set(c.join("+")):g.set(y)}},any:{coerceFunction:function(m,g,y){m===void 0?g.set(y):g.set(u(m)?h(m):m)}},info_array:{coerceFunction:function(m,g,y,p){function c(U,Z,D){var W,X={set:function(it){W=it}};return D===void 0&&(D=Z.dflt),F.valObjectMeta[Z.valType].coerceFunction(U,X,D,Z),W}if(u(m)&&(m=h(m)),!v(m)){g.set(y);return}var d=p.dimensions===2||p.dimensions==="1-2"&&Array.isArray(m)&&v(m[0]),b=p.items,w=[],k=Array.isArray(b),$=k&&d&&v(b[0]),P=d&&k&&!$,O=k&&!P?b.length:m.length,T,G,I,E,z,j;if(y=Array.isArray(y)?y:[],d)for(T=0;T<O;T++)for(w[T]=[],I=v(m[T])?m[T]:[],P?z=b.length:k?z=b[T].length:z=I.length,G=0;G<z;G++)P?E=b[G]:k?E=b[T][G]:E=b,j=c(I[G],E,(y[T]||[])[G]),j!==void 0&&(w[T][G]=j);else for(T=0;T<O;T++)j=c(m[T],k?b[T]:b,y[T]),j!==void 0&&(w[T]=j);g.set(w)},validateFunction:function(m,g){if(!v(m))return!1;var y=g.items,p=Array.isArray(y),c=g.dimensions===2;if(!g.freeLength&&m.length!==y.length)return!1;for(var d=0;d<m.length;d++)if(c){if(!v(m[d])||!g.freeLength&&m[d].length!==y[d].length)return!1;for(var b=0;b<m[d].length;b++)if(!_(m[d][b],p?y[d][b]:y))return!1}else if(!_(m[d],p?y[d]:y))return!1;return!0}}},F.coerce=function(m,g,y,p,c){var d=s(y,p).get(),b=s(m,p),w=s(g,p),k=b.get(),$=g._template;if(k===void 0&&$&&(k=s($,p).get(),$=0),c===void 0&&(c=d.dflt),d.arrayOk){if(v(k))return w.set(k),k;if(u(k))return k=h(k),w.set(k),k}var P=F.valObjectMeta[d.valType].coerceFunction;P(k,w,c,d);var O=w.get();return $&&O===c&&!_(k,d)&&(k=s($,p).get(),P(k,w,c,d),O=w.get()),O},F.coerce2=function(m,g,y,p,c){var d=s(m,p),b=F.coerce(m,g,y,p,c),w=d.get();return w!=null?b:!1},F.coerceFont=function(m,g,y,p){p||(p={}),y=t({},y),y=t(y,p.overrideDflt||{});var c={family:m(g+".family",y.family),size:m(g+".size",y.size),color:m(g+".color",y.color),weight:m(g+".weight",y.weight),style:m(g+".style",y.style)};if(p.noFontVariant||(c.variant=m(g+".variant",y.variant)),p.noFontLineposition||(c.lineposition=m(g+".lineposition",y.lineposition)),p.noFontTextcase||(c.textcase=m(g+".textcase",y.textcase)),!p.noFontShadow){var d=y.shadow;d==="none"&&p.autoShadowDflt&&(d="auto"),c.shadow=m(g+".shadow",d)}return c},F.coercePattern=function(m,g,y,p){var c=m(g+".shape"),d;if(c||(d=m(g+".path")),c||d){c&&m(g+".solidity"),m(g+".size");var b=m(g+".fillmode"),w=b==="overlay";if(!p){var k=m(g+".bgcolor",w?y:void 0);m(g+".fgcolor",w?i.contrast(k):y)}m(g+".fgopacity",w?.5:1)}},F.coerceHoverinfo=function(m,g,y){var p=g._module.attributes,c=p.hoverinfo?p:n,d=c.hoverinfo,b;if(y._dataLength===1){var w=d.dflt==="all"?d.flags.slice():d.dflt.split("+");w.splice(w.indexOf("name"),1),b=w.join("+")}return F.coerce(m,g,c,"hoverinfo",b)},F.coerceSelectionMarkerOpacity=function(m,g){if(m.marker){var y=m.marker.opacity;if(y!==void 0){var p,c;!v(y)&&!m.selected&&!m.unselected&&(p=y,c=o*y),g("selected.marker.opacity",p),g("unselected.marker.opacity",c)}}};function _(m,g){var y=F.valObjectMeta[g.valType];if(g.arrayOk&&v(m))return!0;if(y.validateFunction)return y.validateFunction(m,g);var p={},c=p,d={set:function(b){c=b}};return y.coerceFunction(m,d,p,g),c!==p}F.validate=_}),wr=Ct((F,C)=>{var r={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox","map"],extras:[!0,!1],dflt:"gl3d+geo+map"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/un/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},t={};function n(l,i){for(var o in l){var s=l[o];s.valType?i[o]=s.dflt:(i[o]||(i[o]={}),n(s,i[o]))}}n(r,t),C.exports={configAttributes:r,dfltConfig:t}}),zo=Ct((F,C)=>{var r=wn(),t=Mn(),n=[];C.exports=function(l,i){if(n.indexOf(l)!==-1)return;n.push(l);var o=1e3;t(i)?o=i:i==="long"&&(o=3e3);var s=r.select("body").selectAll(".plotly-notifier").data([0]);s.enter().append("div").classed("plotly-notifier",!0);var f=s.selectAll(".notifier-note").data(n);function e(v){v.duration(700).style("opacity",0).each("end",function(u){var h=n.indexOf(u);h!==-1&&n.splice(h,1),r.select(this).remove()})}f.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(v){var u=r.select(this);u.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){u.transition().call(e)});for(var h=u.append("p"),_=v.split(/<br\s*\/?>/g),m=0;m<_.length;m++)m&&h.append("br"),h.append("span").text(_[m]);i==="stick"?u.transition().duration(350).style("opacity",1):u.transition().duration(700).style("opacity",1).transition().delay(o).call(e)})}}),Mr=Ct((F,C)=>{var r=wr().dfltConfig,t=zo(),n=C.exports={};n.log=function(){var l;if(r.logging>1){var i=["LOG:"];for(l=0;l<arguments.length;l++)i.push(arguments[l]);console.trace.apply(console,i)}if(r.notifyOnLogging>1){var o=[];for(l=0;l<arguments.length;l++)o.push(arguments[l]);t(o.join("<br>"),"long")}},n.warn=function(){var l;if(r.logging>0){var i=["WARN:"];for(l=0;l<arguments.length;l++)i.push(arguments[l]);console.trace.apply(console,i)}if(r.notifyOnLogging>0){var o=[];for(l=0;l<arguments.length;l++)o.push(arguments[l]);t(o.join("<br>"),"stick")}},n.error=function(){var l;if(r.logging>0){var i=["ERROR:"];for(l=0;l<arguments.length;l++)i.push(arguments[l]);console.error.apply(console,i)}if(r.notifyOnLogging>0){var o=[];for(l=0;l<arguments.length;l++)o.push(arguments[l]);t(o.join("<br>"),"stick")}}}),Li=Ct((F,C)=>{C.exports=function(){}}),Ro=Ct((F,C)=>{C.exports=function(r,t){if(t instanceof RegExp){for(var n=t.toString(),l=0;l<r.length;l++)if(r[l]instanceof RegExp&&r[l].toString()===n)return r;r.push(t)}else(t||t===0)&&r.indexOf(t)===-1&&r.push(t);return r}}),vu=Ct((F,C)=>{C.exports=r;function r(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}}),gu=Ct((F,C)=>{C.exports=r;function r(t){var n=new Float32Array(16);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n}}),yu=Ct((F,C)=>{C.exports=r;function r(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}}),Eo=Ct((F,C)=>{C.exports=r;function r(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}}),mu=Ct((F,C)=>{C.exports=r;function r(t,n){if(t===n){var l=n[1],i=n[2],o=n[3],s=n[6],f=n[7],e=n[11];t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=l,t[6]=n[9],t[7]=n[13],t[8]=i,t[9]=s,t[11]=n[14],t[12]=o,t[13]=f,t[14]=e}else t[0]=n[0],t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=n[1],t[5]=n[5],t[6]=n[9],t[7]=n[13],t[8]=n[2],t[9]=n[6],t[10]=n[10],t[11]=n[14],t[12]=n[3],t[13]=n[7],t[14]=n[11],t[15]=n[15];return t}}),xu=Ct((F,C)=>{C.exports=r;function r(t,n){var l=n[0],i=n[1],o=n[2],s=n[3],f=n[4],e=n[5],v=n[6],u=n[7],h=n[8],_=n[9],m=n[10],g=n[11],y=n[12],p=n[13],c=n[14],d=n[15],b=l*e-i*f,w=l*v-o*f,k=l*u-s*f,$=i*v-o*e,P=i*u-s*e,O=o*u-s*v,T=h*p-_*y,G=h*c-m*y,I=h*d-g*y,E=_*c-m*p,z=_*d-g*p,j=m*d-g*c,U=b*j-w*z+k*E+$*I-P*G+O*T;return U?(U=1/U,t[0]=(e*j-v*z+u*E)*U,t[1]=(o*z-i*j-s*E)*U,t[2]=(p*O-c*P+d*$)*U,t[3]=(m*P-_*O-g*$)*U,t[4]=(v*I-f*j-u*G)*U,t[5]=(l*j-o*I+s*G)*U,t[6]=(c*k-y*O-d*w)*U,t[7]=(h*O-m*k+g*w)*U,t[8]=(f*z-e*I+u*T)*U,t[9]=(i*I-l*z-s*T)*U,t[10]=(y*P-p*k+d*b)*U,t[11]=(_*k-h*P-g*b)*U,t[12]=(e*G-f*E-v*T)*U,t[13]=(l*E-i*G+o*T)*U,t[14]=(p*w-y*$-c*b)*U,t[15]=(h*$-_*w+m*b)*U,t):null}}),bu=Ct((F,C)=>{C.exports=r;function r(t,n){var l=n[0],i=n[1],o=n[2],s=n[3],f=n[4],e=n[5],v=n[6],u=n[7],h=n[8],_=n[9],m=n[10],g=n[11],y=n[12],p=n[13],c=n[14],d=n[15];return t[0]=e*(m*d-g*c)-_*(v*d-u*c)+p*(v*g-u*m),t[1]=-(i*(m*d-g*c)-_*(o*d-s*c)+p*(o*g-s*m)),t[2]=i*(v*d-u*c)-e*(o*d-s*c)+p*(o*u-s*v),t[3]=-(i*(v*g-u*m)-e*(o*g-s*m)+_*(o*u-s*v)),t[4]=-(f*(m*d-g*c)-h*(v*d-u*c)+y*(v*g-u*m)),t[5]=l*(m*d-g*c)-h*(o*d-s*c)+y*(o*g-s*m),t[6]=-(l*(v*d-u*c)-f*(o*d-s*c)+y*(o*u-s*v)),t[7]=l*(v*g-u*m)-f*(o*g-s*m)+h*(o*u-s*v),t[8]=f*(_*d-g*p)-h*(e*d-u*p)+y*(e*g-u*_),t[9]=-(l*(_*d-g*p)-h*(i*d-s*p)+y*(i*g-s*_)),t[10]=l*(e*d-u*p)-f*(i*d-s*p)+y*(i*u-s*e),t[11]=-(l*(e*g-u*_)-f*(i*g-s*_)+h*(i*u-s*e)),t[12]=-(f*(_*c-m*p)-h*(e*c-v*p)+y*(e*m-v*_)),t[13]=l*(_*c-m*p)-h*(i*c-o*p)+y*(i*m-o*_),t[14]=-(l*(e*c-v*p)-f*(i*c-o*p)+y*(i*v-o*e)),t[15]=l*(e*m-v*_)-f*(i*m-o*_)+h*(i*v-o*e),t}}),_u=Ct((F,C)=>{C.exports=r;function r(t){var n=t[0],l=t[1],i=t[2],o=t[3],s=t[4],f=t[5],e=t[6],v=t[7],u=t[8],h=t[9],_=t[10],m=t[11],g=t[12],y=t[13],p=t[14],c=t[15],d=n*f-l*s,b=n*e-i*s,w=n*v-o*s,k=l*e-i*f,$=l*v-o*f,P=i*v-o*e,O=u*y-h*g,T=u*p-_*g,G=u*c-m*g,I=h*p-_*y,E=h*c-m*y,z=_*c-m*p;return d*z-b*E+w*I+k*G-$*T+P*O}}),wu=Ct((F,C)=>{C.exports=r;function r(t,n,l){var i=n[0],o=n[1],s=n[2],f=n[3],e=n[4],v=n[5],u=n[6],h=n[7],_=n[8],m=n[9],g=n[10],y=n[11],p=n[12],c=n[13],d=n[14],b=n[15],w=l[0],k=l[1],$=l[2],P=l[3];return t[0]=w*i+k*e+$*_+P*p,t[1]=w*o+k*v+$*m+P*c,t[2]=w*s+k*u+$*g+P*d,t[3]=w*f+k*h+$*y+P*b,w=l[4],k=l[5],$=l[6],P=l[7],t[4]=w*i+k*e+$*_+P*p,t[5]=w*o+k*v+$*m+P*c,t[6]=w*s+k*u+$*g+P*d,t[7]=w*f+k*h+$*y+P*b,w=l[8],k=l[9],$=l[10],P=l[11],t[8]=w*i+k*e+$*_+P*p,t[9]=w*o+k*v+$*m+P*c,t[10]=w*s+k*u+$*g+P*d,t[11]=w*f+k*h+$*y+P*b,w=l[12],k=l[13],$=l[14],P=l[15],t[12]=w*i+k*e+$*_+P*p,t[13]=w*o+k*v+$*m+P*c,t[14]=w*s+k*u+$*g+P*d,t[15]=w*f+k*h+$*y+P*b,t}}),Mu=Ct((F,C)=>{C.exports=r;function r(t,n,l){var i=l[0],o=l[1],s=l[2],f,e,v,u,h,_,m,g,y,p,c,d;return n===t?(t[12]=n[0]*i+n[4]*o+n[8]*s+n[12],t[13]=n[1]*i+n[5]*o+n[9]*s+n[13],t[14]=n[2]*i+n[6]*o+n[10]*s+n[14],t[15]=n[3]*i+n[7]*o+n[11]*s+n[15]):(f=n[0],e=n[1],v=n[2],u=n[3],h=n[4],_=n[5],m=n[6],g=n[7],y=n[8],p=n[9],c=n[10],d=n[11],t[0]=f,t[1]=e,t[2]=v,t[3]=u,t[4]=h,t[5]=_,t[6]=m,t[7]=g,t[8]=y,t[9]=p,t[10]=c,t[11]=d,t[12]=f*i+h*o+y*s+n[12],t[13]=e*i+_*o+p*s+n[13],t[14]=v*i+m*o+c*s+n[14],t[15]=u*i+g*o+d*s+n[15]),t}}),Tu=Ct((F,C)=>{C.exports=r;function r(t,n,l){var i=l[0],o=l[1],s=l[2];return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=n[3]*i,t[4]=n[4]*o,t[5]=n[5]*o,t[6]=n[6]*o,t[7]=n[7]*o,t[8]=n[8]*s,t[9]=n[9]*s,t[10]=n[10]*s,t[11]=n[11]*s,t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}}),ku=Ct((F,C)=>{C.exports=r;function r(t,n,l,i){var o=i[0],s=i[1],f=i[2],e=Math.sqrt(o*o+s*s+f*f),v,u,h,_,m,g,y,p,c,d,b,w,k,$,P,O,T,G,I,E,z,j,U,Z;return Math.abs(e)<1e-6?null:(e=1/e,o*=e,s*=e,f*=e,v=Math.sin(l),u=Math.cos(l),h=1-u,_=n[0],m=n[1],g=n[2],y=n[3],p=n[4],c=n[5],d=n[6],b=n[7],w=n[8],k=n[9],$=n[10],P=n[11],O=o*o*h+u,T=s*o*h+f*v,G=f*o*h-s*v,I=o*s*h-f*v,E=s*s*h+u,z=f*s*h+o*v,j=o*f*h+s*v,U=s*f*h-o*v,Z=f*f*h+u,t[0]=_*O+p*T+w*G,t[1]=m*O+c*T+k*G,t[2]=g*O+d*T+$*G,t[3]=y*O+b*T+P*G,t[4]=_*I+p*E+w*z,t[5]=m*I+c*E+k*z,t[6]=g*I+d*E+$*z,t[7]=y*I+b*E+P*z,t[8]=_*j+p*U+w*Z,t[9]=m*j+c*U+k*Z,t[10]=g*j+d*U+$*Z,t[11]=y*j+b*U+P*Z,n!==t&&(t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t)}}),Au=Ct((F,C)=>{C.exports=r;function r(t,n,l){var i=Math.sin(l),o=Math.cos(l),s=n[4],f=n[5],e=n[6],v=n[7],u=n[8],h=n[9],_=n[10],m=n[11];return n!==t&&(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[4]=s*o+u*i,t[5]=f*o+h*i,t[6]=e*o+_*i,t[7]=v*o+m*i,t[8]=u*o-s*i,t[9]=h*o-f*i,t[10]=_*o-e*i,t[11]=m*o-v*i,t}}),Lu=Ct((F,C)=>{C.exports=r;function r(t,n,l){var i=Math.sin(l),o=Math.cos(l),s=n[0],f=n[1],e=n[2],v=n[3],u=n[8],h=n[9],_=n[10],m=n[11];return n!==t&&(t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=s*o-u*i,t[1]=f*o-h*i,t[2]=e*o-_*i,t[3]=v*o-m*i,t[8]=s*i+u*o,t[9]=f*i+h*o,t[10]=e*i+_*o,t[11]=v*i+m*o,t}}),Su=Ct((F,C)=>{C.exports=r;function r(t,n,l){var i=Math.sin(l),o=Math.cos(l),s=n[0],f=n[1],e=n[2],v=n[3],u=n[4],h=n[5],_=n[6],m=n[7];return n!==t&&(t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=s*o+u*i,t[1]=f*o+h*i,t[2]=e*o+_*i,t[3]=v*o+m*i,t[4]=u*o-s*i,t[5]=h*o-f*i,t[6]=_*o-e*i,t[7]=m*o-v*i,t}}),Ou=Ct((F,C)=>{C.exports=r;function r(t,n,l){var i,o,s,f=l[0],e=l[1],v=l[2],u=Math.sqrt(f*f+e*e+v*v);return Math.abs(u)<1e-6?null:(u=1/u,f*=u,e*=u,v*=u,i=Math.sin(n),o=Math.cos(n),s=1-o,t[0]=f*f*s+o,t[1]=e*f*s+v*i,t[2]=v*f*s-e*i,t[3]=0,t[4]=f*e*s-v*i,t[5]=e*e*s+o,t[6]=v*e*s+f*i,t[7]=0,t[8]=f*v*s+e*i,t[9]=e*v*s-f*i,t[10]=v*v*s+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}}),Du=Ct((F,C)=>{C.exports=r;function r(t,n,l){var i=n[0],o=n[1],s=n[2],f=n[3],e=i+i,v=o+o,u=s+s,h=i*e,_=i*v,m=i*u,g=o*v,y=o*u,p=s*u,c=f*e,d=f*v,b=f*u;return t[0]=1-(g+p),t[1]=_+b,t[2]=m-d,t[3]=0,t[4]=_-b,t[5]=1-(h+p),t[6]=y+c,t[7]=0,t[8]=m+d,t[9]=y-c,t[10]=1-(h+g),t[11]=0,t[12]=l[0],t[13]=l[1],t[14]=l[2],t[15]=1,t}}),Cu=Ct((F,C)=>{C.exports=r;function r(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}}),Pu=Ct((F,C)=>{C.exports=r;function r(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}}),Iu=Ct((F,C)=>{C.exports=r;function r(t,n){var l=Math.sin(n),i=Math.cos(n);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=l,t[7]=0,t[8]=0,t[9]=-l,t[10]=i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}}),Fu=Ct((F,C)=>{C.exports=r;function r(t,n){var l=Math.sin(n),i=Math.cos(n);return t[0]=i,t[1]=0,t[2]=-l,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=l,t[9]=0,t[10]=i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}}),Nu=Ct((F,C)=>{C.exports=r;function r(t,n){var l=Math.sin(n),i=Math.cos(n);return t[0]=i,t[1]=l,t[2]=0,t[3]=0,t[4]=-l,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}}),jo=Ct((F,C)=>{C.exports=r;function r(t,n){var l=n[0],i=n[1],o=n[2],s=n[3],f=l+l,e=i+i,v=o+o,u=l*f,h=i*f,_=i*e,m=o*f,g=o*e,y=o*v,p=s*f,c=s*e,d=s*v;return t[0]=1-_-y,t[1]=h+d,t[2]=m-c,t[3]=0,t[4]=h-d,t[5]=1-u-y,t[6]=g+p,t[7]=0,t[8]=m+c,t[9]=g-p,t[10]=1-u-_,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}}),zu=Ct((F,C)=>{C.exports=r;function r(t,n,l,i,o,s,f){var e=1/(l-n),v=1/(o-i),u=1/(s-f);return t[0]=s*2*e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s*2*v,t[6]=0,t[7]=0,t[8]=(l+n)*e,t[9]=(o+i)*v,t[10]=(f+s)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=f*s*2*u,t[15]=0,t}}),Ru=Ct((F,C)=>{C.exports=r;function r(t,n,l,i,o){var s=1/Math.tan(n/2),f=1/(i-o);return t[0]=s/l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(o+i)*f,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*o*i*f,t[15]=0,t}}),Eu=Ct((F,C)=>{C.exports=r;function r(t,n,l,i){var o=Math.tan(n.upDegrees*Math.PI/180),s=Math.tan(n.downDegrees*Math.PI/180),f=Math.tan(n.leftDegrees*Math.PI/180),e=Math.tan(n.rightDegrees*Math.PI/180),v=2/(f+e),u=2/(o+s);return t[0]=v,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=-((f-e)*v*.5),t[9]=(o-s)*u*.5,t[10]=i/(l-i),t[11]=-1,t[12]=0,t[13]=0,t[14]=i*l/(l-i),t[15]=0,t}}),ju=Ct((F,C)=>{C.exports=r;function r(t,n,l,i,o,s,f){var e=1/(n-l),v=1/(i-o),u=1/(s-f);return t[0]=-2*e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*v,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(n+l)*e,t[13]=(o+i)*v,t[14]=(f+s)*u,t[15]=1,t}}),Hu=Ct((F,C)=>{var r=Eo();C.exports=t;function t(n,l,i,o){var s,f,e,v,u,h,_,m,g,y,p=l[0],c=l[1],d=l[2],b=o[0],w=o[1],k=o[2],$=i[0],P=i[1],O=i[2];return Math.abs(p-$)<1e-6&&Math.abs(c-P)<1e-6&&Math.abs(d-O)<1e-6?r(n):(_=p-$,m=c-P,g=d-O,y=1/Math.sqrt(_*_+m*m+g*g),_*=y,m*=y,g*=y,s=w*g-k*m,f=k*_-b*g,e=b*m-w*_,y=Math.sqrt(s*s+f*f+e*e),y?(y=1/y,s*=y,f*=y,e*=y):(s=0,f=0,e=0),v=m*e-g*f,u=g*s-_*e,h=_*f-m*s,y=Math.sqrt(v*v+u*u+h*h),y?(y=1/y,v*=y,u*=y,h*=y):(v=0,u=0,h=0),n[0]=s,n[1]=v,n[2]=_,n[3]=0,n[4]=f,n[5]=u,n[6]=m,n[7]=0,n[8]=e,n[9]=h,n[10]=g,n[11]=0,n[12]=-(s*p+f*c+e*d),n[13]=-(v*p+u*c+h*d),n[14]=-(_*p+m*c+g*d),n[15]=1,n)}}),Bu=Ct((F,C)=>{C.exports=r;function r(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}}),Ho=Ct((F,C)=>{C.exports={create:vu(),clone:gu(),copy:yu(),identity:Eo(),transpose:mu(),invert:xu(),adjoint:bu(),determinant:_u(),multiply:wu(),translate:Mu(),scale:Tu(),rotate:ku(),rotateX:Au(),rotateY:Lu(),rotateZ:Su(),fromRotation:Ou(),fromRotationTranslation:Du(),fromScaling:Cu(),fromTranslation:Pu(),fromXRotation:Iu(),fromYRotation:Fu(),fromZRotation:Nu(),fromQuat:jo(),frustum:zu(),perspective:Ru(),perspectiveFromFieldOfView:Eu(),ortho:ju(),lookAt:Hu(),str:Bu()}}),Si=Ct(F=>{var C=Ho();F.init2dArray=function(r,t){for(var n=new Array(r),l=0;l<r;l++)n[l]=new Array(t);return n},F.transposeRagged=function(r){var t=0,n=r.length,l,i;for(l=0;l<n;l++)t=Math.max(t,r[l].length);var o=new Array(t);for(l=0;l<t;l++)for(o[l]=new Array(n),i=0;i<n;i++)o[l][i]=r[i][l];return o},F.dot=function(r,t){if(!(r.length&&t.length)||r.length!==t.length)return null;var n=r.length,l,i;if(r[0].length)for(l=new Array(n),i=0;i<n;i++)l[i]=F.dot(r[i],t);else if(t[0].length){var o=F.transposeRagged(t);for(l=new Array(o.length),i=0;i<o.length;i++)l[i]=F.dot(r,o[i])}else for(l=0,i=0;i<n;i++)l+=r[i]*t[i];return l},F.translationMatrix=function(r,t){return[[1,0,r],[0,1,t],[0,0,1]]},F.rotationMatrix=function(r){var t=r*Math.PI/180;return[[Math.cos(t),-Math.sin(t),0],[Math.sin(t),Math.cos(t),0],[0,0,1]]},F.rotationXYMatrix=function(r,t,n){return F.dot(F.dot(F.translationMatrix(t,n),F.rotationMatrix(r)),F.translationMatrix(-t,-n))},F.apply3DTransform=function(r){return function(){var t=arguments,n=arguments.length===1?t[0]:[t[0],t[1],t[2]||0];return F.dot(r,[n[0],n[1],n[2],1]).slice(0,3)}},F.apply2DTransform=function(r){return function(){var t=arguments;t.length===3&&(t=t[0]);var n=arguments.length===1?t[0]:[t[0],t[1]];return F.dot(r,[n[0],n[1],1]).slice(0,2)}},F.apply2DTransform2=function(r){var t=F.apply2DTransform(r);return function(n){return t(n.slice(0,2)).concat(t(n.slice(2,4)))}},F.convertCssMatrix=function(r){if(r){var t=r.length;if(t===16)return r;if(t===6)return[r[0],r[1],0,0,r[2],r[3],0,0,0,0,1,0,r[4],r[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},F.inverseTransformMatrix=function(r){var t=[];return C.invert(t,r),[[t[0],t[1],t[2],t[3]],[t[4],t[5],t[6],t[7]],[t[8],t[9],t[10],t[11]],[t[12],t[13],t[14],t[15]]]}}),Gr=Ct((F,C)=>{var r=wn(),t=Mr(),n=Si(),l=Ho();function i(p){var c;if(typeof p=="string"){if(c=document.getElementById(p),c===null)throw new Error("No DOM element with id '"+p+"' exists on the page.");return c}else if(p==null)throw new Error("DOM element provided is null or undefined");return p}function o(p){var c=r.select(p);return c.node()instanceof HTMLElement&&c.size()&&c.classed("js-plotly-plot")}function s(p){var c=p&&p.parentNode;c&&c.removeChild(p)}function f(p,c){e("global",p,c)}function e(p,c,d){var b="plotly.js-style-"+p,w=document.getElementById(b);if(!(w&&w.matches(".no-inline-styles"))){w||(w=document.createElement("style"),w.setAttribute("id",b),w.appendChild(document.createTextNode("")),document.head.appendChild(w));var k=w.sheet;k?k.insertRule?k.insertRule(c+"{"+d+"}",0):k.addRule?k.addRule(c,d,0):t.warn("addStyleRule failed"):t.warn("Cannot addRelatedStyleRule, probably due to strict CSP...")}}function v(p){var c="plotly.js-style-"+p,d=document.getElementById(c);d&&s(d)}function u(p,c,d,b,w,k){var $=b.split(":"),P=w.split(":"),O="data-btn-style-event-added";k||(k=document),k.querySelectorAll(p).forEach(function(T){T.getAttribute(O)||(T.addEventListener("mouseenter",function(){var G=this.querySelector(d);G&&(G.style[$[0]]=$[1])}),T.addEventListener("mouseleave",function(){var G=this.querySelector(d);G&&(c&&this.matches(c)?G.style[$[0]]=$[1]:G.style[P[0]]=P[1])}),T.setAttribute(O,!0))})}function h(p){var c=m(p),d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return c.forEach(function(b){var w=_(b);if(w){var k=n.convertCssMatrix(w);d=l.multiply(d,d,k)}}),d}function _(p){var c=window.getComputedStyle(p,null),d=c.getPropertyValue("-webkit-transform")||c.getPropertyValue("-moz-transform")||c.getPropertyValue("-ms-transform")||c.getPropertyValue("-o-transform")||c.getPropertyValue("transform");return d==="none"?null:d.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(b){return+b})}function m(p){for(var c=[];g(p);)c.push(p),p=p.parentNode,typeof ShadowRoot=="function"&&p instanceof ShadowRoot&&(p=p.host);return c}function g(p){return p&&(p instanceof Element||p instanceof HTMLElement)}function y(p,c){return p&&c&&p.top===c.top&&p.left===c.left&&p.right===c.right&&p.bottom===c.bottom}C.exports={getGraphDiv:i,isPlotDiv:o,removeElement:s,addStyleRule:f,addRelatedStyleRule:e,deleteRelatedStyleRule:v,setStyleOnHover:u,getFullTransformMatrix:h,getElementTransformMatrix:_,getElementAndAncestors:m,equalDomRects:y}}),Wr=Ct((F,C)=>{C.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}}),qa=Ct((F,C)=>{var r=la().extendFlat,t=cr(),n={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},l={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},i=n.flags.slice().concat(["fullReplot"]),o=l.flags.slice().concat("layoutReplot");C.exports={traces:n,layout:l,traceFlags:function(){return s(i)},layoutFlags:function(){return s(o)},update:function(v,u){var h=u.editType;if(h&&h!=="none")for(var _=h.split("+"),m=0;m<_.length;m++)v[_[m]]=!0},overrideAll:f};function s(v){for(var u={},h=0;h<v.length;h++)u[v[h]]=!1;return u}function f(v,u,h){var _=r({},v);for(var m in _){var g=_[m];t(g)&&(_[m]=e(g,u,h,m))}return h==="from-root"&&(_.editType=u),_}function e(v,u,h,_){if(v.valType){var m=r({},v);if(m.editType=u,Array.isArray(v.items)){m.items=new Array(v.items.length);for(var g=0;g<v.items.length;g++)m.items[g]=e(v.items[g],u)}return m}else return f(v,u,_.charAt(0)==="_"?"nested":"from-root")}}),$a=Ct(F=>{F.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},F.pattern={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},path:{valType:"string",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}}),Bo=Ct((F,C)=>{C.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}}),Qa=Ct(F=>{var C=Bo(),r=C.FORMAT_LINK,t=C.DATE_FORMAT_LINK;function n(i){var o=i&&i.supportOther;return["Variables are inserted using %{variable},",'for example "y: %{y}"'+(o?" as well as %{xother}, {%_xother}, {%_xother_}, {%xother_}. When showing info for several points, *xother* will be added to those with different x positions from the first point. An underscore before or after *(x|y)other* will add a space on that side, only when this field is shown.":"."),`Numbers are formatted using d3-format's syntax %{variable:d3-format}, for example "Price: %{y:$.2f}".`,r,"for details on the formatting syntax.",`Dates are formatted using d3-time-format's syntax %{variable|d3-time-format}, for example "Day: %{2019-01-01|%A}".`,t,"for details on the date formatting syntax."].join(" ")}F.templateFormatStringDescription=n;function l(i){var o=i.description?" "+i.description:"",s=i.keys||[];if(s.length>0){for(var f=[],e=0;e<s.length;e++)f[e]="`"+s[e]+"`";o=o+"Finally, the template string has access to ",s.length===1?o=o+"variable "+f[0]:o=o+"variables "+f.slice(0,-1).join(", ")+" and "+f.slice(-1)+"."}return o}F.hovertemplateAttrs=function(i,o){i=i||{},o=o||{},l(o);var s={valType:"string",dflt:"",editType:i.editType||"none"};return i.arrayOk!==!1&&(s.arrayOk=!0),s},F.texttemplateAttrs=function(i,o){i=i||{},o=o||{},l(o);var s={valType:"string",dflt:"",editType:i.editType||"calc"};return i.arrayOk!==!1&&(s.arrayOk=!0),s},F.shapeTexttemplateAttrs=function(i,o){i=i||{},o=o||{},i.newshape,l(o);var s={valType:"string",dflt:"",editType:i.editType||"arraydraw"};return s}}),Oi=Ct((F,C)=>{function r(d,b){return b?b.d2l(d):d}function t(d,b){return b?b.l2d(d):d}function n(d){return d.x0}function l(d){return d.x1}function i(d){return d.y0}function o(d){return d.y1}function s(d){return d.x0shift||0}function f(d){return d.x1shift||0}function e(d){return d.y0shift||0}function v(d){return d.y1shift||0}function u(d,b){return r(d.x1,b)+f(d)-r(d.x0,b)-s(d)}function h(d,b,w){return r(d.y1,w)+v(d)-r(d.y0,w)-e(d)}function _(d,b){return Math.abs(u(d,b))}function m(d,b,w){return Math.abs(h(d,b,w))}function g(d,b,w){return d.type!=="line"?void 0:Math.sqrt(Math.pow(u(d,b),2)+Math.pow(h(d,b,w),2))}function y(d,b){return t((r(d.x1,b)+f(d)+r(d.x0,b)+s(d))/2,b)}function p(d,b,w){return t((r(d.y1,w)+v(d)+r(d.y0,w)+e(d))/2,w)}function c(d,b,w){return d.type!=="line"?void 0:h(d,b,w)/u(d,b)}C.exports={x0:n,x1:l,y0:i,y1:o,slope:c,dx:u,dy:h,width:_,height:m,length:g,xcenter:y,ycenter:p}}),Vu=Ct((F,C)=>{var r=qa().overrideAll,t=Ba(),n=ha(),l=$a().dash,i=la().extendFlat,o=Qa().shapeTexttemplateAttrs,s=Oi();C.exports=r({newshape:{visible:i({},t.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:i({},t.legend,{}),legendgroup:i({},t.legendgroup,{}),legendgrouptitle:{text:i({},t.legendgrouptitle.text,{}),font:n({})},legendrank:i({},t.legendrank,{}),legendwidth:i({},t.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:i({},l,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:i({},t.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:o({newshape:!0},{keys:Object.keys(s)}),font:n({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")}),Yu=Ct((F,C)=>{var r=$a().dash,t=la().extendFlat;C.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:t({},r,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}}),Di=Ct((F,C)=>{C.exports=function(r){var t=r.editType;return{t:{valType:"number",dflt:0,editType:t},r:{valType:"number",dflt:0,editType:t},b:{valType:"number",dflt:0,editType:t},l:{valType:"number",dflt:0,editType:t},editType:t}}}),Nr=Ct((F,C)=>{var r=ha(),t=Wr(),n=Xa(),l=Vu(),i=Yu(),o=Di(),s=la().extendFlat,f=r({editType:"calc"});f.family.dflt='"Open Sans", verdana, arial, sans-serif',f.size.dflt=12,f.color.dflt=n.defaultLine,C.exports={font:f,title:{text:{valType:"string",editType:"layoutstyle"},font:r({editType:"layoutstyle"}),subtitle:{text:{valType:"string",editType:"layoutstyle"},font:r({editType:"layoutstyle"}),editType:"layoutstyle"},xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:s(o({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:n.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:n.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:n.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:l.newshape,activeshape:l.activeshape,newselection:i.newselection,activeselection:i.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:s({},t.transition,{editType:"none"})}}),Uu=Po(()=>{}),Zu={},Gu=Po(()=>{Uu()}),un=Ct(F=>{var C=Mr(),r=Li(),t=Ro(),n=cr(),l=Gr().addStyleRule,i=la(),o=Ba(),s=Nr(),f=i.extendFlat,e=i.extendDeepAll;F.modules={},F.allCategories={},F.allTypes=[],F.subplotsRegistry={},F.componentsRegistry={},F.layoutArrayContainers=[],F.layoutArrayRegexes=[],F.traceLayoutAttributes={},F.localeRegistry={},F.apiMethodRegistry={},F.collectableSubplotTypes=null,F.register=function(d){if(F.collectableSubplotTypes=null,d)d&&!Array.isArray(d)&&(d=[d]);else throw new Error("No argument passed to Plotly.register.");for(var b=0;b<d.length;b++){var w=d[b];if(!w)throw new Error("Invalid module was attempted to be registered!");switch(w.moduleType){case"trace":v(w);break;case"transform":_(w);break;case"component":h(w);break;case"locale":m(w);break;case"apiMethod":var k=w.name;F.apiMethodRegistry[k]=w.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},F.getModule=function(d){var b=F.modules[c(d)];return b?b._module:!1},F.traceIs=function(d,b){if(d=c(d),d==="various")return!1;var w=F.modules[d];return w||(d&&C.log("Unrecognized trace type "+d+"."),w=F.modules[o.type.dflt]),!!w.categories[b]},F.getComponentMethod=function(d,b){var w=F.componentsRegistry[d];return w&&w[b]||r},F.call=function(){var d=arguments[0],b=[].slice.call(arguments,1);return F.apiMethodRegistry[d].apply(null,b)};function v(d){var b=d.name,w=d.categories,k=d.meta;if(F.modules[b]){C.log("Type "+b+" already registered");return}F.subplotsRegistry[d.basePlotModule.name]||u(d.basePlotModule);for(var $={},P=0;P<w.length;P++)$[w[P]]=!0,F.allCategories[w[P]]=!0;F.modules[b]={_module:d,categories:$},k&&Object.keys(k).length&&(F.modules[b].meta=k),F.allTypes.push(b);for(var O in F.componentsRegistry)y(O,b);d.layoutAttributes&&f(F.traceLayoutAttributes,d.layoutAttributes);var T=d.basePlotModule,G=T.name;if(G==="mapbox"){var I=T.constants.styleRules;for(var E in I)l(".js-plotly-plot .plotly .mapboxgl-"+E,I[E])}G==="map"&&(Gu(),su(Zu)),(G==="geo"||G==="mapbox"||G==="map")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function u(d){var b=d.name;if(F.subplotsRegistry[b]){C.log("Plot type "+b+" already registered.");return}g(d),F.subplotsRegistry[b]=d;for(var w in F.componentsRegistry)p(w,d.name)}function h(d){if(typeof d.name!="string")throw new Error("Component module *name* must be a string.");var b=d.name;F.componentsRegistry[b]=d,d.layoutAttributes&&(d.layoutAttributes._isLinkedToArray&&t(F.layoutArrayContainers,b),g(d));for(var w in F.modules)y(b,w);for(var k in F.subplotsRegistry)p(b,k);d.schema&&d.schema.layout&&e(s,d.schema.layout)}function _(d){if(typeof d.name!="string")throw new Error("Transform module *name* must be a string.");var b="Transform module "+d.name,w=typeof d.transform=="function",k=typeof d.calcTransform=="function";if(!w&&!k)throw new Error(b+" is missing a *transform* or *calcTransform* method.");w&&k&&C.log([b+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),n(d.attributes)||C.log(b+" registered without an *attributes* object."),typeof d.supplyDefaults!="function"&&C.log(b+" registered without a *supplyDefaults* method.")}function m(d){var b=d.name,w=b.split("-")[0],k=d.dictionary,$=d.format,P=k&&Object.keys(k).length,O=$&&Object.keys($).length,T=F.localeRegistry,G=T[b];if(G||(T[b]=G={}),w!==b){var I=T[w];I||(T[w]=I={}),P&&I.dictionary===G.dictionary&&(I.dictionary=k),O&&I.format===G.format&&(I.format=$)}P&&(G.dictionary=k),O&&(G.format=$)}function g(d){if(d.layoutAttributes){var b=d.layoutAttributes._arrayAttrRegexps;if(b)for(var w=0;w<b.length;w++)t(F.layoutArrayRegexes,b[w])}}function y(d,b){var w=F.componentsRegistry[d].schema;if(!(!w||!w.traces)){var k=w.traces[b];k&&e(F.modules[b]._module.attributes,k)}}function p(d,b){var w=F.componentsRegistry[d].schema;if(!(!w||!w.subplots)){var k=F.subplotsRegistry[b],$=k.layoutAttributes,P=k.attr==="subplot"?k.name:k.attr;Array.isArray(P)&&(P=P[0]);var O=w.subplots[P];$&&O&&e($,O)}}function c(d){return typeof d=="object"&&(d=d.type),d}}),Wu=Ct(F=>{var C=Cr().timeFormat,r=Mn(),t=Mr(),n=Pr().mod,l=oa(),i=l.BADNUM,o=l.ONEDAY,s=l.ONEHOUR,f=l.ONEMIN,e=l.ONESEC,v=l.EPOCHJD,u=un(),h=Cr().utcFormat,_=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,m=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,g=new Date().getFullYear()-70;function y(U){return U&&u.componentsRegistry.calendars&&typeof U=="string"&&U!=="gregorian"}F.dateTick0=function(U,Z){var D=p(U,!!Z);if(Z<2)return D;var W=F.dateTime2ms(D,U);return W+=o*(Z-1),F.ms2DateTime(W,0,U)};function p(U,Z){return y(U)?Z?u.getComponentMethod("calendars","CANONICAL_SUNDAY")[U]:u.getComponentMethod("calendars","CANONICAL_TICK")[U]:Z?"2000-01-02":"2000-01-01"}F.dfltRange=function(U){return y(U)?u.getComponentMethod("calendars","DFLTRANGE")[U]:["2000-01-01","2001-01-01"]},F.isJSDate=function(U){return typeof U=="object"&&U!==null&&typeof U.getTime=="function"};var c,d;F.dateTime2ms=function(U,Z){if(F.isJSDate(U)){var D=U.getTimezoneOffset()*f,W=(U.getUTCMinutes()-U.getMinutes())*f+(U.getUTCSeconds()-U.getSeconds())*e+(U.getUTCMilliseconds()-U.getMilliseconds());if(W){var X=3*f;D=D-X/2+n(W-D+X/2,X)}return U=Number(U)-D,U>=c&&U<=d?U:i}if(typeof U!="string"&&typeof U!="number")return i;U=String(U);var it=y(Z),nt=U.charAt(0);it&&(nt==="G"||nt==="g")&&(U=U.substr(1),Z="");var ot=it&&Z.substr(0,7)==="chinese",dt=U.match(ot?m:_);if(!dt)return i;var ht=dt[1],xt=dt[3]||"1",H=Number(dt[5]||1),Y=Number(dt[7]||0),A=Number(dt[9]||0),J=Number(dt[11]||0);if(it){if(ht.length===2)return i;ht=Number(ht);var at;try{var N=u.getComponentMethod("calendars","getCal")(Z);if(ot){var M=xt.charAt(xt.length-1)==="i";xt=parseInt(xt,10),at=N.newDate(ht,N.toMonthIndex(ht,xt,M),H)}else at=N.newDate(ht,Number(xt),H)}catch{return i}return at?(at.toJD()-v)*o+Y*s+A*f+J*e:i}ht.length===2?ht=(Number(ht)+2e3-g)%100+g:ht=Number(ht),xt-=1;var S=new Date(Date.UTC(2e3,xt,H,Y,A));return S.setUTCFullYear(ht),S.getUTCMonth()!==xt||S.getUTCDate()!==H?i:S.getTime()+J*e},c=F.MIN_MS=F.dateTime2ms("-9999"),d=F.MAX_MS=F.dateTime2ms("9999-12-31 23:59:59.9999"),F.isDateTime=function(U,Z){return F.dateTime2ms(U,Z)!==i};function b(U,Z){return String(U+Math.pow(10,Z)).substr(1)}var w=90*o,k=3*s,$=5*f;F.ms2DateTime=function(U,Z,D){if(typeof U!="number"||!(U>=c&&U<=d))return i;Z||(Z=0);var W=Math.floor(n(U+.05,1)*10),X=Math.round(U-W/10),it,nt,ot,dt,ht,xt;if(y(D)){var H=Math.floor(X/o)+v,Y=Math.floor(n(U,o));try{it=u.getComponentMethod("calendars","getCal")(D).fromJD(H).formatDate("yyyy-mm-dd")}catch{it=h("G%Y-%m-%d")(new Date(X))}if(it.charAt(0)==="-")for(;it.length<11;)it="-0"+it.substr(1);else for(;it.length<10;)it="0"+it;nt=Z<w?Math.floor(Y/s):0,ot=Z<w?Math.floor(Y%s/f):0,dt=Z<k?Math.floor(Y%f/e):0,ht=Z<$?Y%e*10+W:0}else xt=new Date(X),it=h("%Y-%m-%d")(xt),nt=Z<w?xt.getUTCHours():0,ot=Z<w?xt.getUTCMinutes():0,dt=Z<k?xt.getUTCSeconds():0,ht=Z<$?xt.getUTCMilliseconds()*10+W:0;return P(it,nt,ot,dt,ht)},F.ms2DateTimeLocal=function(U){if(!(U>=c+o&&U<=d-o))return i;var Z=Math.floor(n(U+.05,1)*10),D=new Date(Math.round(U-Z/10)),W=C("%Y-%m-%d")(D),X=D.getHours(),it=D.getMinutes(),nt=D.getSeconds(),ot=D.getUTCMilliseconds()*10+Z;return P(W,X,it,nt,ot)};function P(U,Z,D,W,X){if((Z||D||W||X)&&(U+=" "+b(Z,2)+":"+b(D,2),(W||X)&&(U+=":"+b(W,2),X))){for(var it=4;X%10===0;)it-=1,X/=10;U+="."+b(X,it)}return U}F.cleanDate=function(U,Z,D){if(U===i)return Z;if(F.isJSDate(U)||typeof U=="number"&&isFinite(U)){if(y(D))return t.error("JS Dates and milliseconds are incompatible with world calendars",U),Z;if(U=F.ms2DateTimeLocal(+U),!U&&Z!==void 0)return Z}else if(!F.isDateTime(U,D))return t.error("unrecognized date",U),Z;return U};var O=/%\d?f/g,T=/%h/g,G={1:"1",2:"1",3:"2",4:"2"};function I(U,Z,D,W){U=U.replace(O,function(it){var nt=Math.min(+it.charAt(1)||6,6),ot=(Z/1e3%1+2).toFixed(nt).substr(2).replace(/0+$/,"")||"0";return ot});var X=new Date(Math.floor(Z+.05));if(U=U.replace(T,function(){return G[D("%q")(X)]}),y(W))try{U=u.getComponentMethod("calendars","worldCalFmt")(U,Z,W)}catch{return"Invalid"}return D(U)(X)}var E=[59,59.9,59.99,59.999,59.9999];function z(U,Z){var D=n(U+.05,o),W=b(Math.floor(D/s),2)+":"+b(n(Math.floor(D/f),60),2);if(Z!=="M"){r(Z)||(Z=0);var X=Math.min(n(U/e,60),E[Z]),it=(100+X).toFixed(Z).substr(1);Z>0&&(it=it.replace(/0+$/,"").replace(/[\.]$/,"")),W+=":"+it}return W}F.formatDate=function(U,Z,D,W,X,it){if(X=y(X)&&X,!Z)if(D==="y")Z=it.year;else if(D==="m")Z=it.month;else if(D==="d")Z=it.dayMonth+`
`+it.year;else return z(U,D)+`
`+I(it.dayMonthYear,U,W,X);return I(Z,U,W,X)};var j=3*o;F.incrementMonth=function(U,Z,D){D=y(D)&&D;var W=n(U,o);if(U=Math.round(U-W),D)try{var X=Math.round(U/o)+v,it=u.getComponentMethod("calendars","getCal")(D),nt=it.fromJD(X);return Z%12?it.add(nt,Z,"m"):it.add(nt,Z/12,"y"),(nt.toJD()-v)*o+W}catch{t.error("invalid ms "+U+" in calendar "+D)}var ot=new Date(U+j);return ot.setUTCMonth(ot.getUTCMonth()+Z)+W-j},F.findExactDates=function(U,Z){for(var D=0,W=0,X=0,it=0,nt,ot,dt=y(Z)&&u.getComponentMethod("calendars","getCal")(Z),ht=0;ht<U.length;ht++){if(ot=U[ht],!r(ot)){it++;continue}if(!(ot%o))if(dt)try{nt=dt.fromJD(ot/o+v),nt.day()===1?nt.month()===1?D++:W++:X++}catch{}else nt=new Date(ot),nt.getUTCDate()===1?nt.getUTCMonth()===0?D++:W++:X++}W+=D,X+=W;var xt=U.length-it;return{exactYears:D/xt,exactMonths:W/xt,exactDays:X/xt}}}),Vo=Ct((F,C)=>{C.exports=function(r){return r}}),Yo=Ct(F=>{var C=Mn(),r=Mr(),t=Vo(),n=oa().BADNUM,l=1e-9;F.findBin=function(e,v,u){if(C(v.start))return u?Math.ceil((e-v.start)/v.size-l)-1:Math.floor((e-v.start)/v.size+l);var h=0,_=v.length,m=0,g=_>1?(v[_-1]-v[0])/(_-1):1,y,p;for(g>=0?p=u?i:o:p=u?f:s,e+=g*l*(u?-1:1)*(g>=0?1:-1);h<_&&m++<100;)y=Math.floor((h+_)/2),p(v[y],e)?h=y+1:_=y;return m>90&&r.log("Long binary search..."),h-1};function i(e,v){return e<v}function o(e,v){return e<=v}function s(e,v){return e>v}function f(e,v){return e>=v}F.sorterAsc=function(e,v){return e-v},F.sorterDes=function(e,v){return v-e},F.distinctVals=function(e){var v=e.slice();v.sort(F.sorterAsc);var u;for(u=v.length-1;u>-1&&v[u]===n;u--);for(var h=v[u]-v[0]||1,_=h/(u||1)/1e4,m=[],g,y=0;y<=u;y++){var p=v[y],c=p-g;g===void 0?(m.push(p),g=p):c>_&&(h=Math.min(h,c),m.push(p),g=p)}return{vals:m,minDiff:h}},F.roundUp=function(e,v,u){for(var h=0,_=v.length-1,m,g=0,y=u?0:1,p=u?1:0,c=u?Math.ceil:Math.floor;h<_&&g++<100;)m=c((h+_)/2),v[m]<=e?h=m+y:_=m-p;return v[h]},F.sort=function(e,v){for(var u=0,h=0,_=1;_<e.length;_++){var m=v(e[_],e[_-1]);if(m<0?u=1:m>0&&(h=1),u&&h)return e.sort(v)}return h?e:e.reverse()},F.findIndexOfMin=function(e,v){v=v||t;for(var u=1/0,h,_=0;_<e.length;_++){var m=v(e[_]);m<u&&(u=m,h=_)}return h}}),Uo=Ct((F,C)=>{C.exports=function(r){return Object.keys(r).sort()}}),Ju=Ct(F=>{var C=Mn(),r=Ca().isArrayOrTypedArray;F.aggNums=function(t,n,l,i){var o,s;if((!i||i>l.length)&&(i=l.length),C(n)||(n=!1),r(l[0])){for(s=new Array(i),o=0;o<i;o++)s[o]=F.aggNums(t,n,l[o]);l=s}for(o=0;o<i;o++)C(n)?C(l[o])&&(n=t(+n,+l[o])):n=l[o];return n},F.len=function(t){return F.aggNums(function(n){return n+1},0,t)},F.mean=function(t,n){return n||(n=F.len(t)),F.aggNums(function(l,i){return l+i},0,t)/n},F.geometricMean=function(t,n){return n||(n=F.len(t)),Math.pow(F.aggNums(function(l,i){return l*i},1,t),1/n)},F.midRange=function(t){if(!(t===void 0||t.length===0))return(F.aggNums(Math.max,null,t)+F.aggNums(Math.min,null,t))/2},F.variance=function(t,n,l){return n||(n=F.len(t)),C(l)||(l=F.mean(t,n)),F.aggNums(function(i,o){return i+Math.pow(o-l,2)},0,t)/n},F.stdev=function(t,n,l){return Math.sqrt(F.variance(t,n,l))},F.median=function(t){var n=t.slice().sort();return F.interp(n,.5)},F.interp=function(t,n){if(!C(n))throw"n should be a finite number";if(n=n*t.length-.5,n<0)return t[0];if(n>t.length-1)return t[t.length-1];var l=n%1;return l*t[Math.ceil(n)]+(1-l)*t[Math.floor(n)]}}),Xu=Ct((F,C)=>{var r=Pr(),t=r.mod,n=r.modHalf,l=Math.PI,i=2*l;function o(p){return p/180*l}function s(p){return p/l*180}function f(p){return Math.abs(p[1]-p[0])>i-1e-14}function e(p,c){return n(c-p,i)}function v(p,c){return Math.abs(e(p,c))}function u(p,c){if(f(c))return!0;var d,b;c[0]<c[1]?(d=c[0],b=c[1]):(d=c[1],b=c[0]),d=t(d,i),b=t(b,i),d>b&&(b+=i);var w=t(p,i),k=w+i;return w>=d&&w<=b||k>=d&&k<=b}function h(p,c,d,b){if(!u(c,b))return!1;var w,k;return d[0]<d[1]?(w=d[0],k=d[1]):(w=d[1],k=d[0]),p>=w&&p<=k}function _(p,c,d,b,w,k,$){w=w||0,k=k||0;var P=f([d,b]),O,T,G,I,E;P?(O=0,T=l,G=i):d<b?(O=d,G=b):(O=b,G=d),p<c?(I=p,E=c):(I=c,E=p);function z(D,W){return[D*Math.cos(W)+w,k-D*Math.sin(W)]}var j=Math.abs(G-O)<=l?0:1;function U(D,W,X){return"A"+[D,D]+" "+[0,j,X]+" "+z(D,W)}var Z;return P?I===null?Z="M"+z(E,O)+U(E,T,0)+U(E,G,0)+"Z":Z="M"+z(I,O)+U(I,T,0)+U(I,G,0)+"ZM"+z(E,O)+U(E,T,1)+U(E,G,1)+"Z":I===null?(Z="M"+z(E,O)+U(E,G,0),$&&(Z+="L0,0Z")):Z="M"+z(I,O)+"L"+z(E,O)+U(E,G,0)+"L"+z(I,G)+U(I,O,1)+"Z",Z}function m(p,c,d,b,w){return _(null,p,c,d,b,w,0)}function g(p,c,d,b,w){return _(null,p,c,d,b,w,1)}function y(p,c,d,b,w,k){return _(p,c,d,b,w,k,1)}C.exports={deg2rad:o,rad2deg:s,angleDelta:e,angleDist:v,isFullCircle:f,isAngleInsideSector:u,isPtInsideSector:h,pathArc:m,pathSector:g,pathAnnulus:y}}),qu=Ct(F=>{F.isLeftAnchor=function(C){return C.xanchor==="left"||C.xanchor==="auto"&&C.x<=1/3},F.isCenterAnchor=function(C){return C.xanchor==="center"||C.xanchor==="auto"&&C.x>1/3&&C.x<2/3},F.isRightAnchor=function(C){return C.xanchor==="right"||C.xanchor==="auto"&&C.x>=2/3},F.isTopAnchor=function(C){return C.yanchor==="top"||C.yanchor==="auto"&&C.y>=2/3},F.isMiddleAnchor=function(C){return C.yanchor==="middle"||C.yanchor==="auto"&&C.y>1/3&&C.y<2/3},F.isBottomAnchor=function(C){return C.yanchor==="bottom"||C.yanchor==="auto"&&C.y<=1/3}}),$u=Ct(F=>{var C=Pr().mod;F.segmentsIntersect=r;function r(o,s,f,e,v,u,h,_){var m=f-o,g=v-o,y=h-v,p=e-s,c=u-s,d=_-u,b=m*d-y*p;if(b===0)return null;var w=(g*d-y*c)/b,k=(g*p-m*c)/b;return k<0||k>1||w<0||w>1?null:{x:o+m*w,y:s+p*w}}F.segmentDistance=function(o,s,f,e,v,u,h,_){if(r(o,s,f,e,v,u,h,_))return 0;var m=f-o,g=e-s,y=h-v,p=_-u,c=m*m+g*g,d=y*y+p*p,b=Math.min(t(m,g,c,v-o,u-s),t(m,g,c,h-o,_-s),t(y,p,d,o-v,s-u),t(y,p,d,f-v,e-u));return Math.sqrt(b)};function t(o,s,f,e,v){var u=e*o+v*s;if(u<0)return e*e+v*v;if(u>f){var h=e-o,_=v-s;return h*h+_*_}else{var m=e*s-v*o;return m*m/f}}var n,l,i;F.getTextLocation=function(o,s,f,e){if((o!==l||e!==i)&&(n={},l=o,i=e),n[f])return n[f];var v=o.getPointAtLength(C(f-e/2,s)),u=o.getPointAtLength(C(f+e/2,s)),h=Math.atan((u.y-v.y)/(u.x-v.x)),_=o.getPointAtLength(C(f,s)),m=(_.x*4+v.x+u.x)/6,g=(_.y*4+v.y+u.y)/6,y={x:m,y:g,theta:h};return n[f]=y,y},F.clearLocationCache=function(){l=null},F.getVisibleSegment=function(o,s,f){var e=s.left,v=s.right,u=s.top,h=s.bottom,_=0,m=o.getTotalLength(),g=m,y,p;function c(b){var w=o.getPointAtLength(b);b===0?y=w:b===m&&(p=w);var k=w.x<e?e-w.x:w.x>v?w.x-v:0,$=w.y<u?u-w.y:w.y>h?w.y-h:0;return Math.sqrt(k*k+$*$)}for(var d=c(_);d;){if(_+=d+f,_>g)return;d=c(_)}for(d=c(g);d;){if(g-=d+f,_>g)return;d=c(g)}return{min:_,max:g,len:g-_,total:m,isClosed:_===0&&g===m&&Math.abs(y.x-p.x)<.1&&Math.abs(y.y-p.y)<.1}},F.findPointOnPath=function(o,s,f,e){e=e||{};for(var v=e.pathLength||o.getTotalLength(),u=e.tolerance||.001,h=e.iterationLimit||30,_=o.getPointAtLength(0)[f]>o.getPointAtLength(v)[f]?-1:1,m=0,g=0,y=v,p,c,d;m<h;){if(p=(g+y)/2,c=o.getPointAtLength(p),d=c[f]-s,Math.abs(d)<u)return c;_*d>0?y=p:g=p,m++}return c}}),Ci=Ct(F=>{var C={};F.throttle=function(t,n,l){var i=C[t],o=Date.now();if(!i){for(var s in C)C[s].ts<o-6e4&&delete C[s];i=C[t]={ts:0,timer:null}}r(i);function f(){l(),i.ts=Date.now(),i.onDone&&(i.onDone(),i.onDone=null)}if(o>i.ts+n){f();return}i.timer=setTimeout(function(){f(),i.timer=null},n)},F.done=function(t){var n=C[t];return!n||!n.timer?Promise.resolve():new Promise(function(l){var i=n.onDone;n.onDone=function(){i&&i(),l(),n.onDone=null}})},F.clear=function(t){if(t)r(C[t]),delete C[t];else for(var n in C)F.clear(n)};function r(t){t&&t.timer!==null&&(clearTimeout(t.timer),t.timer=null)}}),Qu=Ct((F,C)=>{C.exports=function(r){r._responsiveChartHandler&&(window.removeEventListener("resize",r._responsiveChartHandler),delete r._responsiveChartHandler)}}),Ku=Ct((F,C)=>{C.exports=l,C.exports.isMobile=l,C.exports.default=l;var r=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,t=/CrOS/,n=/android|ipad|playbook|silk/i;function l(i){i||(i={});let o=i.ua;if(!o&&typeof navigator<"u"&&(o=navigator.userAgent),o&&o.headers&&typeof o.headers["user-agent"]=="string"&&(o=o.headers["user-agent"]),typeof o!="string")return!1;let s=r.test(o)&&!t.test(o)||!!i.tablet&&n.test(o);return!s&&i.tablet&&i.featureDetect&&navigator&&navigator.maxTouchPoints>1&&o.indexOf("Macintosh")!==-1&&o.indexOf("Safari")!==-1&&(s=!0),s}}),tc=Ct((F,C)=>{var r=Mn(),t=Ku();C.exports=function(l){var i;if(l&&l.hasOwnProperty("userAgent")?i=l.userAgent:i=n(),typeof i!="string")return!0;var o=t({ua:{headers:{"user-agent":i}},tablet:!0,featureDetect:!1});if(!o)for(var s=i.split(" "),f=1;f<s.length;f++){var e=s[f];if(e.indexOf("Safari")!==-1)for(var v=f-1;v>-1;v--){var u=s[v];if(u.substr(0,8)==="Version/"){var h=u.substr(8).split(".")[0];if(r(h)&&(h=+h),h>=13)return!0}}}return o};function n(){var l;return typeof navigator<"u"&&(l=navigator.userAgent),l&&l.headers&&typeof l.headers["user-agent"]=="string"&&(l=l.headers["user-agent"]),l}}),ec=Ct((F,C)=>{var r=wn();C.exports=function(t,n,l){var i=t.selectAll("g."+l.replace(/\s/g,".")).data(n,function(s){return s[0].trace.uid});i.exit().remove(),i.enter().append("g").attr("class",l),i.order();var o=t.classed("rangeplot")?"nodeRangePlot3":"node3";return i.each(function(s){s[0][o]=r.select(this)}),i}}),nc=Ct((F,C)=>{var r=un();C.exports=function(t,n){for(var l=t._context.locale,i=0;i<2;i++){for(var o=t._context.locales,s=0;s<2;s++){var f=(o[l]||{}).dictionary;if(f){var e=f[n];if(e)return e}o=r.localeRegistry}var v=l.split("-")[0];if(v===l)break;l=v}return n}}),ac=Ct((F,C)=>{C.exports=function(r){for(var t={},n=[],l=0,i=0;i<r.length;i++){var o=r[i];t[o]!==1&&(t[o]=1,n[l++]=o)}return n}}),rc=Ct((F,C)=>{C.exports=function(l){for(var i=n(l)?t:r,o=[],s=0;s<l.length;s++){var f=l[s];i(f)&&o.push(f)}return o};function r(l){return l.visible===!0}function t(l){var i=l[0].trace;return i.visible===!0&&i._length!==0}function n(l){return Array.isArray(l)&&Array.isArray(l[0])&&l[0][0]&&l[0][0].trace}}),ic=Ct((F,C)=>{C.exports=function(r,t){if(!t)return r;var n=1/Math.abs(t),l=n>1?(n*r+n*t)/n:r+t,i=String(l).length;if(i>16){var o=String(t).length,s=String(r).length;if(i>=s+o){var f=parseFloat(l).toPrecision(12);f.indexOf("e+")===-1&&(l=+f)}}return l}}),oc=Ct((F,C)=>{var r=Mn(),t=oa().BADNUM,n=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;C.exports=function(l){return typeof l=="string"&&(l=l.replace(n,"")),r(l)?Number(l):t}}),De=Ct((F,C)=>{var r=wn(),t=Cr().utcFormat,n=Fo().format,l=Mn(),i=oa(),o=i.FP_SAFE,s=-o,f=i.BADNUM,e=C.exports={};e.adjustFormat=function(N){return!N||/^\d[.]\df/.test(N)||/[.]\d%/.test(N)?N:N==="0.f"?"~f":/^\d%/.test(N)?"~%":/^\ds/.test(N)?"~s":!/^[~,.0$]/.test(N)&&/[&fps]/.test(N)?"~"+N:N};var v={};e.warnBadFormat=function(N){var M=String(N);v[M]||(v[M]=1,e.warn('encountered bad format: "'+M+'"'))},e.noFormat=function(N){return String(N)},e.numberFormat=function(N){var M;try{M=n(e.adjustFormat(N))}catch{return e.warnBadFormat(N),e.noFormat}return M},e.nestedProperty=Mi(),e.keyedContainer=fu(),e.relativeAttr=du(),e.isPlainObject=cr(),e.toLogRange=Ti(),e.relinkPrivateKeys=hu();var u=Ca();e.isArrayBuffer=u.isArrayBuffer,e.isTypedArray=u.isTypedArray,e.isArrayOrTypedArray=u.isArrayOrTypedArray,e.isArray1D=u.isArray1D,e.ensureArray=u.ensureArray,e.concat=u.concat,e.maxRowLength=u.maxRowLength,e.minRowLength=u.minRowLength;var h=Pr();e.mod=h.mod,e.modHalf=h.modHalf;var _=pu();e.valObjectMeta=_.valObjectMeta,e.coerce=_.coerce,e.coerce2=_.coerce2,e.coerceFont=_.coerceFont,e.coercePattern=_.coercePattern,e.coerceHoverinfo=_.coerceHoverinfo,e.coerceSelectionMarkerOpacity=_.coerceSelectionMarkerOpacity,e.validate=_.validate;var m=Wu();e.dateTime2ms=m.dateTime2ms,e.isDateTime=m.isDateTime,e.ms2DateTime=m.ms2DateTime,e.ms2DateTimeLocal=m.ms2DateTimeLocal,e.cleanDate=m.cleanDate,e.isJSDate=m.isJSDate,e.formatDate=m.formatDate,e.incrementMonth=m.incrementMonth,e.dateTick0=m.dateTick0,e.dfltRange=m.dfltRange,e.findExactDates=m.findExactDates,e.MIN_MS=m.MIN_MS,e.MAX_MS=m.MAX_MS;var g=Yo();e.findBin=g.findBin,e.sorterAsc=g.sorterAsc,e.sorterDes=g.sorterDes,e.distinctVals=g.distinctVals,e.roundUp=g.roundUp,e.sort=g.sort,e.findIndexOfMin=g.findIndexOfMin,e.sortObjectKeys=Uo();var y=Ju();e.aggNums=y.aggNums,e.len=y.len,e.mean=y.mean,e.geometricMean=y.geometricMean,e.median=y.median,e.midRange=y.midRange,e.variance=y.variance,e.stdev=y.stdev,e.interp=y.interp;var p=Si();e.init2dArray=p.init2dArray,e.transposeRagged=p.transposeRagged,e.dot=p.dot,e.translationMatrix=p.translationMatrix,e.rotationMatrix=p.rotationMatrix,e.rotationXYMatrix=p.rotationXYMatrix,e.apply3DTransform=p.apply3DTransform,e.apply2DTransform=p.apply2DTransform,e.apply2DTransform2=p.apply2DTransform2,e.convertCssMatrix=p.convertCssMatrix,e.inverseTransformMatrix=p.inverseTransformMatrix;var c=Xu();e.deg2rad=c.deg2rad,e.rad2deg=c.rad2deg,e.angleDelta=c.angleDelta,e.angleDist=c.angleDist,e.isFullCircle=c.isFullCircle,e.isAngleInsideSector=c.isAngleInsideSector,e.isPtInsideSector=c.isPtInsideSector,e.pathArc=c.pathArc,e.pathSector=c.pathSector,e.pathAnnulus=c.pathAnnulus;var d=qu();e.isLeftAnchor=d.isLeftAnchor,e.isCenterAnchor=d.isCenterAnchor,e.isRightAnchor=d.isRightAnchor,e.isTopAnchor=d.isTopAnchor,e.isMiddleAnchor=d.isMiddleAnchor,e.isBottomAnchor=d.isBottomAnchor;var b=$u();e.segmentsIntersect=b.segmentsIntersect,e.segmentDistance=b.segmentDistance,e.getTextLocation=b.getTextLocation,e.clearLocationCache=b.clearLocationCache,e.getVisibleSegment=b.getVisibleSegment,e.findPointOnPath=b.findPointOnPath;var w=la();e.extendFlat=w.extendFlat,e.extendDeep=w.extendDeep,e.extendDeepAll=w.extendDeepAll,e.extendDeepNoArrays=w.extendDeepNoArrays;var k=Mr();e.log=k.log,e.warn=k.warn,e.error=k.error;var $=Fr();e.counterRegex=$.counter;var P=Ci();e.throttle=P.throttle,e.throttleDone=P.done,e.clearThrottle=P.clear;var O=Gr();e.getGraphDiv=O.getGraphDiv,e.isPlotDiv=O.isPlotDiv,e.removeElement=O.removeElement,e.addStyleRule=O.addStyleRule,e.addRelatedStyleRule=O.addRelatedStyleRule,e.deleteRelatedStyleRule=O.deleteRelatedStyleRule,e.setStyleOnHover=O.setStyleOnHover,e.getFullTransformMatrix=O.getFullTransformMatrix,e.getElementTransformMatrix=O.getElementTransformMatrix,e.getElementAndAncestors=O.getElementAndAncestors,e.equalDomRects=O.equalDomRects,e.clearResponsive=Qu(),e.preserveDrawingBuffer=tc(),e.makeTraceGroups=ec(),e._=nc(),e.notifier=zo(),e.filterUnique=ac(),e.filterVisible=rc(),e.pushUnique=Ro(),e.increment=ic(),e.cleanNumber=oc(),e.ensureNumber=function(N){return l(N)?(N=Number(N),N>o||N<s?f:N):f},e.isIndex=function(N,M){return M!==void 0&&N>=M?!1:l(N)&&N>=0&&N%1===0},e.noop=Li(),e.identity=Vo(),e.repeat=function(N,M){for(var S=new Array(M),R=0;R<M;R++)S[R]=N;return S},e.swapAttrs=function(N,M,S,R){S||(S="x"),R||(R="y");for(var V=0;V<M.length;V++){var rt=M[V],st=e.nestedProperty(N,rt.replace("?",S)),ut=e.nestedProperty(N,rt.replace("?",R)),_t=st.get();st.set(ut.get()),ut.set(_t)}},e.raiseToTop=function(N){N.parentNode.appendChild(N)},e.cancelTransition=function(N){return N.transition().duration(0)},e.constrain=function(N,M,S){return M>S?Math.max(S,Math.min(M,N)):Math.max(M,Math.min(S,N))},e.bBoxIntersect=function(N,M,S){return S=S||0,N.left<=M.right+S&&M.left<=N.right+S&&N.top<=M.bottom+S&&M.top<=N.bottom+S},e.simpleMap=function(N,M,S,R,V){for(var rt=N.length,st=new Array(rt),ut=0;ut<rt;ut++)st[ut]=M(N[ut],S,R,V);return st},e.randstr=function N(M,S,R,V){if(R||(R=16),S===void 0&&(S=24),S<=0)return"0";var rt=Math.log(Math.pow(2,S))/Math.log(R),st="",ut,_t,Tt;for(ut=2;rt===1/0;ut*=2)rt=Math.log(Math.pow(2,S/ut))/Math.log(R)*ut;var Ft=rt-Math.floor(rt);for(ut=0;ut<Math.floor(rt);ut++)Tt=Math.floor(Math.random()*R).toString(R),st=Tt+st;Ft&&(_t=Math.pow(R,Ft),Tt=Math.floor(Math.random()*_t).toString(R),st=Tt+st);var Zt=parseInt(st,R);return M&&M[st]||Zt!==1/0&&Zt>=Math.pow(2,S)?V>10?(e.warn("randstr failed uniqueness"),st):N(M,S,R,(V||0)+1):st},e.OptionControl=function(N,M){N||(N={}),M||(M="opt");var S={};return S.optionList=[],S._newoption=function(R){R[M]=N,S[R.name]=R,S.optionList.push(R)},S["_"+M]=N,S},e.smooth=function(N,M){if(M=Math.round(M)||0,M<2)return N;var S=N.length,R=2*S,V=2*M-1,rt=new Array(V),st=new Array(S),ut,_t,Tt,Ft;for(ut=0;ut<V;ut++)rt[ut]=(1-Math.cos(Math.PI*(ut+1)/M))/(2*M);for(ut=0;ut<S;ut++){for(Ft=0,_t=0;_t<V;_t++)Tt=ut+_t+1-M,Tt<-S?Tt-=R*Math.round(Tt/R):Tt>=R&&(Tt-=R*Math.floor(Tt/R)),Tt<0?Tt=-1-Tt:Tt>=S&&(Tt=R-1-Tt),Ft+=N[Tt]*rt[_t];st[ut]=Ft}return st},e.syncOrAsync=function(N,M,S){var R,V;function rt(){return e.syncOrAsync(N,M,S)}for(;N.length;)if(V=N.splice(0,1)[0],R=V(M),R&&R.then)return R.then(rt);return S&&S(M)},e.stripTrailingSlash=function(N){return N.substr(-1)==="/"?N.substr(0,N.length-1):N},e.noneOrAll=function(N,M,S){if(N){var R=!1,V=!0,rt,st;for(rt=0;rt<S.length;rt++)st=N[S[rt]],st!=null?R=!0:V=!1;if(R&&!V)for(rt=0;rt<S.length;rt++)N[S[rt]]=M[S[rt]]}},e.mergeArray=function(N,M,S,R){var V=typeof R=="function";if(e.isArrayOrTypedArray(N))for(var rt=Math.min(N.length,M.length),st=0;st<rt;st++){var ut=N[st];M[st][S]=V?R(ut):ut}},e.mergeArrayCastPositive=function(N,M,S){return e.mergeArray(N,M,S,function(R){var V=+R;return isFinite(V)&&V>0?V:0})},e.fillArray=function(N,M,S,R){if(R=R||e.identity,e.isArrayOrTypedArray(N))for(var V=0;V<M.length;V++)M[V][S]=R(N[V])},e.castOption=function(N,M,S,R){R=R||e.identity;var V=e.nestedProperty(N,S).get();return e.isArrayOrTypedArray(V)?Array.isArray(M)&&e.isArrayOrTypedArray(V[M[0]])?R(V[M[0]][M[1]]):R(V[M]):V},e.extractOption=function(N,M,S,R){if(S in N)return N[S];var V=e.nestedProperty(M,R).get();if(!Array.isArray(V))return V};function T(N){var M={};for(var S in N)for(var R=N[S],V=0;V<R.length;V++)M[R[V]]=+S;return M}e.tagSelected=function(N,M,S){var R=M.selectedpoints,V=M._indexToPoints,rt;V&&(rt=T(V));function st(Zt){return Zt!==void 0&&Zt<N.length}for(var ut=0;ut<R.length;ut++){var _t=R[ut];if(e.isIndex(_t)||e.isArrayOrTypedArray(_t)&&e.isIndex(_t[0])&&e.isIndex(_t[1])){var Tt=rt?rt[_t]:_t,Ft=S?S[Tt]:Tt;st(Ft)&&(N[Ft].selected=1)}}},e.selIndices2selPoints=function(N){var M=N.selectedpoints,S=N._indexToPoints;if(S){for(var R=T(S),V=[],rt=0;rt<M.length;rt++){var st=M[rt];if(e.isIndex(st)){var ut=R[st];e.isIndex(ut)&&V.push(ut)}}return V}else return M},e.getTargetArray=function(N,M){var S=M.target;if(typeof S=="string"&&S){var R=e.nestedProperty(N,S).get();return e.isArrayOrTypedArray(R)?R:!1}else if(e.isArrayOrTypedArray(S))return S;return!1};function G(N,M,S){var R={};typeof M!="object"&&(M={});var V=S==="pieLike"?-1:3,rt=Object.keys(N),st,ut,_t;for(st=0;st<rt.length;st++)ut=rt[st],_t=N[ut],!(ut.charAt(0)==="_"||typeof _t=="function")&&(ut==="module"?R[ut]=_t:Array.isArray(_t)?ut==="colorscale"||V===-1?R[ut]=_t.slice():R[ut]=_t.slice(0,V):e.isTypedArray(_t)?V===-1?R[ut]=_t.subarray():R[ut]=_t.subarray(0,V):_t&&typeof _t=="object"?R[ut]=G(N[ut],M[ut],S):R[ut]=_t);for(rt=Object.keys(M),st=0;st<rt.length;st++)ut=rt[st],_t=M[ut],(typeof _t!="object"||!(ut in R)||typeof R[ut]!="object")&&(R[ut]=_t);return R}e.minExtend=G,e.titleCase=function(N){return N.charAt(0).toUpperCase()+N.substr(1)},e.containsAny=function(N,M){for(var S=0;S<M.length;S++)if(N.indexOf(M[S])!==-1)return!0;return!1};var I=/Version\/[\d\.]+.*Safari/;e.isSafari=function(){return I.test(window.navigator.userAgent)};var E=/iPad|iPhone|iPod/;e.isIOS=function(){return E.test(window.navigator.userAgent)};var z=/Macintosh.+AppleWebKit.+Gecko\)$/;e.isMacWKWebView=()=>z.test(window.navigator.userAgent);var j=/Firefox\/(\d+)\.\d+/;e.getFirefoxVersion=function(){var N=j.exec(window.navigator.userAgent);if(N&&N.length===2){var M=parseInt(N[1]);if(!isNaN(M))return M}return null},e.isD3Selection=function(N){return N instanceof r.selection},e.ensureSingle=function(N,M,S,R){var V=N.select(M+(S?"."+S:""));if(V.size())return V;var rt=N.append(M);return S&&rt.classed(S,!0),R&&rt.call(R),rt},e.ensureSingleById=function(N,M,S,R){var V=N.select(M+"#"+S);if(V.size())return V;var rt=N.append(M).attr("id",S);return R&&rt.call(R),rt},e.objectFromPath=function(N,M){for(var S=N.split("."),R,V=R={},rt=0;rt<S.length;rt++){var st=S[rt],ut=null,_t=S[rt].match(/(.*)\[([0-9]+)\]/);_t?(st=_t[1],ut=_t[2],R=R[st]=[],rt===S.length-1?R[ut]=M:R[ut]={},R=R[ut]):(rt===S.length-1?R[st]=M:R[st]={},R=R[st])}return V};var U=/^([^\[\.]+)\.(.+)?/,Z=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function D(N){return N.slice(0,2)==="__"}e.expandObjectPaths=function(N){var M,S,R,V,rt,st,ut;if(typeof N=="object"&&!Array.isArray(N)){for(S in N)if(N.hasOwnProperty(S))if(M=S.match(U)){if(V=N[S],R=M[1],D(R))continue;delete N[S],N[R]=e.extendDeepNoArrays(N[R]||{},e.objectFromPath(S,e.expandObjectPaths(V))[R])}else if(M=S.match(Z)){if(V=N[S],R=M[1],D(R))continue;if(rt=parseInt(M[2]),delete N[S],N[R]=N[R]||[],M[3]===".")ut=M[4],st=N[R][rt]=N[R][rt]||{},e.extendDeepNoArrays(st,e.objectFromPath(ut,e.expandObjectPaths(V)));else{if(D(R))continue;N[R][rt]=e.expandObjectPaths(V)}}else{if(D(S))continue;N[S]=e.expandObjectPaths(N[S])}}return N},e.numSeparate=function(N,M,S){if(S||(S=!1),typeof M!="string"||M.length===0)throw new Error("Separator string required for formatting!");typeof N=="number"&&(N=String(N));var R=/(\d+)(\d{3})/,V=M.charAt(0),rt=M.charAt(1),st=N.split("."),ut=st[0],_t=st.length>1?V+st[1]:"";if(rt&&(st.length>1||ut.length>4||S))for(;R.test(ut);)ut=ut.replace(R,"$1"+rt+"$2");return ut+_t},e.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var W=/^\w*$/;e.templateString=function(N,M){var S={};return N.replace(e.TEMPLATE_STRING_REGEX,function(R,V){var rt;return W.test(V)?rt=M[V]:(S[V]=S[V]||e.nestedProperty(M,V).get,rt=S[V](!0)),rt!==void 0?rt:""})};var X={max:10,count:0,name:"hovertemplate"};e.hovertemplateString=function(){return xt.apply(X,arguments)};var it={max:10,count:0,name:"texttemplate"};e.texttemplateString=function(){return xt.apply(it,arguments)};var nt=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function ot(N){var M=N.match(nt);return M?{key:M[1],op:M[2],number:Number(M[3])}:{key:N,op:null,number:null}}var dt={max:10,count:0,name:"texttemplate",parseMultDiv:!0};e.texttemplateStringForShapes=function(){return xt.apply(dt,arguments)};var ht=/^[:|\|]/;function xt(N,M,S){var R=this,V=arguments;return M||(M={}),N.replace(e.TEMPLATE_STRING_REGEX,function(rt,st,ut){var _t=st==="xother"||st==="yother",Tt=st==="_xother"||st==="_yother",Ft=st==="_xother_"||st==="_yother_",Zt=st==="xother_"||st==="yother_",Bt=_t||Tt||Zt||Ft,Rt=st;(Tt||Ft)&&(Rt=Rt.substring(1)),(Zt||Ft)&&(Rt=Rt.substring(0,Rt.length-1));var pt=null,bt=null;if(R.parseMultDiv){var lt=ot(Rt);Rt=lt.key,pt=lt.op,bt=lt.number}var kt;if(Bt){if(kt=M[Rt],kt===void 0)return""}else{var Nt,Yt;for(Yt=3;Yt<V.length;Yt++)if(Nt=V[Yt],!!Nt){if(Nt.hasOwnProperty(Rt)){kt=Nt[Rt];break}if(W.test(Rt)||(kt=e.nestedProperty(Nt,Rt).get(!0)),kt!==void 0)break}}if(kt!==void 0&&(pt==="*"&&(kt*=bt),pt==="/"&&(kt/=bt)),kt===void 0&&R)return R.count<R.max&&(e.warn("Variable '"+Rt+"' in "+R.name+" could not be found!"),kt=rt),R.count===R.max&&e.warn("Too many "+R.name+" warnings - additional warnings will be suppressed"),R.count++,rt;if(ut){var ee;if(ut[0]===":"&&(ee=S?S.numberFormat:e.numberFormat,kt!==""&&(kt=ee(ut.replace(ht,""))(kt))),ut[0]==="|"){ee=S?S.timeFormat:t;var Xt=e.dateTime2ms(kt);kt=e.formatDate(Xt,ut.replace(ht,""),!1,ee)}}else{var ae=Rt+"Label";M.hasOwnProperty(ae)&&(kt=M[ae])}return Bt&&(kt="("+kt+")",(Tt||Ft)&&(kt=" "+kt),(Zt||Ft)&&(kt=kt+" ")),kt})}var H=48,Y=57;e.subplotSort=function(N,M){for(var S=Math.min(N.length,M.length)+1,R=0,V=0,rt=0;rt<S;rt++){var st=N.charCodeAt(rt)||0,ut=M.charCodeAt(rt)||0,_t=st>=H&&st<=Y,Tt=ut>=H&&ut<=Y;if(_t&&(R=10*R+st-H),Tt&&(V=10*V+ut-H),!_t||!Tt){if(R!==V)return R-V;if(st!==ut)return st-ut}}return V-R};var A=2e9;e.seedPseudoRandom=function(){A=2e9},e.pseudoRandom=function(){var N=A;return A=(69069*A+1)%4294967296,Math.abs(A-N)<429496729?e.pseudoRandom():A/4294967296},e.fillText=function(N,M,S){var R=Array.isArray(S)?function(st){S.push(st)}:function(st){S.text=st},V=e.extractOption(N,M,"htx","hovertext");if(e.isValidTextValue(V))return R(V);var rt=e.extractOption(N,M,"tx","text");if(e.isValidTextValue(rt))return R(rt)},e.isValidTextValue=function(N){return N||N===0},e.formatPercent=function(N,M){M=M||0;for(var S=(Math.round(100*N*Math.pow(10,M))*Math.pow(.1,M)).toFixed(M)+"%",R=0;R<M;R++)S.indexOf(".")!==-1&&(S=S.replace("0%","%"),S=S.replace(".%","%"));return S},e.isHidden=function(N){var M=window.getComputedStyle(N).display;return!M||M==="none"},e.strTranslate=function(N,M){return N||M?"translate("+N+","+M+")":""},e.strRotate=function(N){return N?"rotate("+N+")":""},e.strScale=function(N){return N!==1?"scale("+N+")":""},e.getTextTransform=function(N){var M=N.noCenter,S=N.textX,R=N.textY,V=N.targetX,rt=N.targetY,st=N.anchorX||0,ut=N.anchorY||0,_t=N.rotate,Tt=N.scale;return Tt?Tt>1&&(Tt=1):Tt=0,e.strTranslate(V-Tt*(S+st),rt-Tt*(R+ut))+e.strScale(Tt)+(_t?"rotate("+_t+(M?"":" "+S+" "+R)+")":"")},e.setTransormAndDisplay=function(N,M){N.attr("transform",e.getTextTransform(M)),N.style("display",M.scale?null:"none")},e.ensureUniformFontSize=function(N,M){var S=e.extendFlat({},M);return S.size=Math.max(M.size,N._fullLayout.uniformtext.minsize||0),S},e.join2=function(N,M,S){var R=N.length;return R>1?N.slice(0,-1).join(M)+S+N[R-1]:N.join(M)},e.bigFont=function(N){return Math.round(1.2*N)};var J=e.getFirefoxVersion(),at=J!==null&&J<86;e.getPositionFromD3Event=function(){return at?[r.event.layerX,r.event.layerY]:[r.event.offsetX,r.event.offsetY]}}),lc=Ct(()=>{var F=De(),C={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X:focus-within .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-group a":"display:grid;place-content:center;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;border:none;background:rgba(0,0,0,0);","X .modebar-btn svg":"position:relative;","X .modebar-btn:focus-visible":"outline:1px solid #000;outline-offset:1px;border-radius:3px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(t in C)r=t.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier"),F.addStyleRule(r,C[t]);var r,t}),Zo=Ct((F,C)=>{C.exports=!0}),Go=Ct((F,C)=>{var r=Zo(),t;typeof window.matchMedia=="function"?t=!window.matchMedia("(hover: none)").matches:t=r,C.exports=t}),Pi=Ct((F,C)=>{var r=typeof Reflect=="object"?Reflect:null,t=r&&typeof r.apply=="function"?r.apply:function(w,k,$){return Function.prototype.apply.call(w,k,$)},n;r&&typeof r.ownKeys=="function"?n=r.ownKeys:Object.getOwnPropertySymbols?n=function(w){return Object.getOwnPropertyNames(w).concat(Object.getOwnPropertySymbols(w))}:n=function(w){return Object.getOwnPropertyNames(w)};function l(w){console&&console.warn&&console.warn(w)}var i=Number.isNaN||function(w){return w!==w};function o(){o.init.call(this)}C.exports=o,C.exports.once=c,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function f(w){if(typeof w!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof w)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(w){if(typeof w!="number"||w<0||i(w))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+w+".");s=w}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(w){if(typeof w!="number"||w<0||i(w))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+w+".");return this._maxListeners=w,this};function e(w){return w._maxListeners===void 0?o.defaultMaxListeners:w._maxListeners}o.prototype.getMaxListeners=function(){return e(this)},o.prototype.emit=function(w){for(var k=[],$=1;$<arguments.length;$++)k.push(arguments[$]);var P=w==="error",O=this._events;if(O!==void 0)P=P&&O.error===void 0;else if(!P)return!1;if(P){var T;if(k.length>0&&(T=k[0]),T instanceof Error)throw T;var G=new Error("Unhandled error."+(T?" ("+T.message+")":""));throw G.context=T,G}var I=O[w];if(I===void 0)return!1;if(typeof I=="function")t(I,this,k);else for(var E=I.length,z=g(I,E),$=0;$<E;++$)t(z[$],this,k);return!0};function v(w,k,$,P){var O,T,G;if(f($),T=w._events,T===void 0?(T=w._events=Object.create(null),w._eventsCount=0):(T.newListener!==void 0&&(w.emit("newListener",k,$.listener?$.listener:$),T=w._events),G=T[k]),G===void 0)G=T[k]=$,++w._eventsCount;else if(typeof G=="function"?G=T[k]=P?[$,G]:[G,$]:P?G.unshift($):G.push($),O=e(w),O>0&&G.length>O&&!G.warned){G.warned=!0;var I=new Error("Possible EventEmitter memory leak detected. "+G.length+" "+String(k)+" listeners added. Use emitter.setMaxListeners() to increase limit");I.name="MaxListenersExceededWarning",I.emitter=w,I.type=k,I.count=G.length,l(I)}return w}o.prototype.addListener=function(w,k){return v(this,w,k,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(w,k){return v(this,w,k,!0)};function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(w,k,$){var P={fired:!1,wrapFn:void 0,target:w,type:k,listener:$},O=u.bind(P);return O.listener=$,P.wrapFn=O,O}o.prototype.once=function(w,k){return f(k),this.on(w,h(this,w,k)),this},o.prototype.prependOnceListener=function(w,k){return f(k),this.prependListener(w,h(this,w,k)),this},o.prototype.removeListener=function(w,k){var $,P,O,T,G;if(f(k),P=this._events,P===void 0)return this;if($=P[w],$===void 0)return this;if($===k||$.listener===k)--this._eventsCount===0?this._events=Object.create(null):(delete P[w],P.removeListener&&this.emit("removeListener",w,$.listener||k));else if(typeof $!="function"){for(O=-1,T=$.length-1;T>=0;T--)if($[T]===k||$[T].listener===k){G=$[T].listener,O=T;break}if(O<0)return this;O===0?$.shift():y($,O),$.length===1&&(P[w]=$[0]),P.removeListener!==void 0&&this.emit("removeListener",w,G||k)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(w){var k,$,P;if($=this._events,$===void 0)return this;if($.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):$[w]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete $[w]),this;if(arguments.length===0){var O=Object.keys($),T;for(P=0;P<O.length;++P)T=O[P],T!=="removeListener"&&this.removeAllListeners(T);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(k=$[w],typeof k=="function")this.removeListener(w,k);else if(k!==void 0)for(P=k.length-1;P>=0;P--)this.removeListener(w,k[P]);return this};function _(w,k,$){var P=w._events;if(P===void 0)return[];var O=P[k];return O===void 0?[]:typeof O=="function"?$?[O.listener||O]:[O]:$?p(O):g(O,O.length)}o.prototype.listeners=function(w){return _(this,w,!0)},o.prototype.rawListeners=function(w){return _(this,w,!1)},o.listenerCount=function(w,k){return typeof w.listenerCount=="function"?w.listenerCount(k):m.call(w,k)},o.prototype.listenerCount=m;function m(w){var k=this._events;if(k!==void 0){var $=k[w];if(typeof $=="function")return 1;if($!==void 0)return $.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function g(w,k){for(var $=new Array(k),P=0;P<k;++P)$[P]=w[P];return $}function y(w,k){for(;k+1<w.length;k++)w[k]=w[k+1];w.pop()}function p(w){for(var k=new Array(w.length),$=0;$<k.length;++$)k[$]=w[$].listener||w[$];return k}function c(w,k){return new Promise(function($,P){function O(G){w.removeListener(k,T),P(G)}function T(){typeof w.removeListener=="function"&&w.removeListener("error",O),$([].slice.call(arguments))}b(w,k,T,{once:!0}),k!=="error"&&d(w,O,{once:!0})})}function d(w,k,$){typeof w.on=="function"&&b(w,"error",k,$)}function b(w,k,$,P){if(typeof w.on=="function")P.once?w.once(k,$):w.on(k,$);else if(typeof w.addEventListener=="function")w.addEventListener(k,function O(T){P.once&&w.removeEventListener(k,O),$(T)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof w)}}),Jr=Ct((F,C)=>{var r=Pi().EventEmitter,t={init:function(n){if(n._ev instanceof r)return n;var l=new r,i=new r;return n._ev=l,n._internalEv=i,n.on=l.on.bind(l),n.once=l.once.bind(l),n.removeListener=l.removeListener.bind(l),n.removeAllListeners=l.removeAllListeners.bind(l),n._internalOn=i.on.bind(i),n._internalOnce=i.once.bind(i),n._removeInternalListener=i.removeListener.bind(i),n._removeAllInternalListeners=i.removeAllListeners.bind(i),n.emit=function(o,s){l.emit(o,s),i.emit(o,s)},typeof n.addEventListener=="function"&&n.addEventListener("wheel",()=>{}),n},triggerHandler:function(n,l,i){var o,s=n._ev;if(!s)return;var f=s._events[l];if(!f)return;function e(u){if(u.listener){if(s.removeListener(l,u.listener),!u.fired)return u.fired=!0,u.listener.apply(s,[i])}else return u.apply(s,[i])}f=Array.isArray(f)?f:[f];var v;for(v=0;v<f.length-1;v++)e(f[v]);return o=e(f[v]),o},purge:function(n){return delete n._ev,delete n.on,delete n.once,delete n.removeListener,delete n.removeAllListeners,delete n.emit,delete n._ev,delete n._internalEv,delete n._internalOn,delete n._internalOnce,delete n._removeInternalListener,delete n._removeAllInternalListeners,n}};C.exports=t}),sc=Ct((F,C)=>{var r=De(),t=wr().dfltConfig;function n(i,o){for(var s=[],f,e=0;e<o.length;e++)f=o[e],f===i?s[e]=f:typeof f=="object"?s[e]=Array.isArray(f)?r.extendDeep([],f):r.extendDeepAll({},f):s[e]=f;return s}var l={};l.add=function(i,o,s,f,e){var v,u;if(i.undoQueue=i.undoQueue||{index:0,queue:[],sequence:!1},u=i.undoQueue.index,i.autoplay){i.undoQueue.inSequence||(i.autoplay=!1);return}!i.undoQueue.sequence||i.undoQueue.beginSequence?(v={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},i.undoQueue.queue.splice(u,i.undoQueue.queue.length-u,v),i.undoQueue.index+=1):v=i.undoQueue.queue[u-1],i.undoQueue.beginSequence=!1,v&&(v.undo.calls.unshift(o),v.undo.args.unshift(s),v.redo.calls.push(f),v.redo.args.push(e)),i.undoQueue.queue.length>t.queueLength&&(i.undoQueue.queue.shift(),i.undoQueue.index--)},l.startSequence=function(i){i.undoQueue=i.undoQueue||{index:0,queue:[],sequence:!1},i.undoQueue.sequence=!0,i.undoQueue.beginSequence=!0},l.stopSequence=function(i){i.undoQueue=i.undoQueue||{index:0,queue:[],sequence:!1},i.undoQueue.sequence=!1,i.undoQueue.beginSequence=!1},l.undo=function(i){var o,s;if(!(i.undoQueue===void 0||isNaN(i.undoQueue.index)||i.undoQueue.index<=0)){for(i.undoQueue.index--,o=i.undoQueue.queue[i.undoQueue.index],i.undoQueue.inSequence=!0,s=0;s<o.undo.calls.length;s++)l.plotDo(i,o.undo.calls[s],o.undo.args[s]);i.undoQueue.inSequence=!1,i.autoplay=!1}},l.redo=function(i){var o,s;if(!(i.undoQueue===void 0||isNaN(i.undoQueue.index)||i.undoQueue.index>=i.undoQueue.queue.length)){for(o=i.undoQueue.queue[i.undoQueue.index],i.undoQueue.inSequence=!0,s=0;s<o.redo.calls.length;s++)l.plotDo(i,o.redo.calls[s],o.redo.args[s]);i.undoQueue.inSequence=!1,i.autoplay=!1,i.undoQueue.index++}},l.plotDo=function(i,o,s){i.autoplay=!0,s=n(i,s),o.apply(null,s)},C.exports=l}),Wo=Ct((F,C)=>{C.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}}),zr=Ct(F=>{var C=un(),r=De(),t=Ba(),n=Nr(),l=Wo(),i=Wr(),o=wr().configAttributes,s=qa(),f=r.extendDeepAll,e=r.isPlainObject,v=r.isArrayOrTypedArray,u=r.nestedProperty,h=r.valObjectMeta,_="_isSubplotObj",m="_isLinkedToArray",g="_arrayAttrRegexps",y="_deprecated",p=[_,m,g,y];F.IS_SUBPLOT_OBJ=_,F.IS_LINKED_TO_ARRAY=m,F.DEPRECATED=y,F.UNDERSCORE_ATTRS=p,F.get=function(){var z={};return C.allTypes.forEach(function(j){z[j]=w(j)}),{defs:{valObjects:h,metaKeys:p.concat(["description","role","editType","impliedEdits"]),editType:{traces:s.traces,layout:s.layout},impliedEdits:{}},traces:z,layout:k(),frames:$(),animation:P(i),config:P(o)}},F.crawl=function(z,j,U,Z){var D=U||0;Z=Z||"",Object.keys(z).forEach(function(W){var X=z[W];if(p.indexOf(W)===-1){var it=(Z?Z+".":"")+W;j(X,W,z,D,it),!F.isValObject(X)&&e(X)&&W!=="impliedEdits"&&F.crawl(X,j,D+1,it)}})},F.isValObject=function(z){return z&&z.valType!==void 0},F.findArrayAttributes=function(z){var j=[],U=[],Z=[],D,W;function X(nt,ot,dt,ht){U=U.slice(0,ht).concat([ot]),Z=Z.slice(0,ht).concat([nt&&nt._isLinkedToArray]);var xt=nt&&(nt.valType==="data_array"||nt.arrayOk===!0)&&!(U[ht-1]==="colorbar"&&(ot==="ticktext"||ot==="tickvals"));xt&&it(D,0,"")}function it(nt,ot,dt){var ht=nt[U[ot]],xt=dt+U[ot];if(ot===U.length-1)v(ht)&&j.push(W+xt);else if(Z[ot]){if(Array.isArray(ht))for(var H=0;H<ht.length;H++)e(ht[H])&&it(ht[H],ot+1,xt+"["+H+"].")}else e(ht)&&it(ht,ot+1,xt+".")}return D=z,W="",F.crawl(t,X),z._module&&z._module.attributes&&F.crawl(z._module.attributes,X),j},F.getTraceValObject=function(z,j){var U=j[0],Z=1,D,W,X=z._module;if(X||(X=(C.modules[z.type||t.type.dflt]||{})._module),!X)return!1;if(D=X.attributes,W=D&&D[U],!W){var it=X.basePlotModule;it&&it.attributes&&(W=it.attributes[U])}return W||(W=t[U]),d(W,j,Z)},F.getLayoutValObject=function(z,j){var U=c(z,j[0]);return d(U,j,1)};function c(z,j){var U,Z,D,W,X=z._basePlotModules;if(X){var it;for(U=0;U<X.length;U++){if(D=X[U],D.attrRegex&&D.attrRegex.test(j)){if(D.layoutAttrOverrides)return D.layoutAttrOverrides;!it&&D.layoutAttributes&&(it=D.layoutAttributes)}var nt=D.baseLayoutAttrOverrides;if(nt&&j in nt)return nt[j]}if(it)return it}var ot=z._modules;if(ot){for(U=0;U<ot.length;U++)if(W=ot[U].layoutAttributes,W&&j in W)return W[j]}for(Z in C.componentsRegistry){if(D=C.componentsRegistry[Z],D.name==="colorscale"&&j.indexOf("coloraxis")===0)return D.layoutAttributes[j];if(!D.schema&&j===D.name)return D.layoutAttributes}return j in n?n[j]:!1}function d(z,j,U){if(!z)return!1;if(z._isLinkedToArray){if(b(j[U]))U++;else if(U<j.length)return!1}for(;U<j.length;U++){var Z=z[j[U]];if(e(Z))z=Z;else break;if(U===j.length-1)break;if(z._isLinkedToArray){if(U++,!b(j[U]))return!1}else if(z.valType==="info_array"){U++;var D=j[U];if(!b(D))return!1;var W=z.items;if(Array.isArray(W)){if(D>=W.length)return!1;if(z.dimensions===2){if(U++,j.length===U)return z;var X=j[U];if(!b(X))return!1;z=W[D][X]}else z=W[D]}else z=W}}return z}function b(z){return z===Math.round(z)&&z>=0}function w(z){var j,U;j=C.modules[z]._module,U=j.basePlotModule;var Z={};Z.type=null;var D=f({},t),W=f({},j.attributes);F.crawl(W,function(nt,ot,dt,ht,xt){u(D,xt).set(void 0),nt===void 0&&u(W,xt).set(void 0)}),f(Z,D),C.traceIs(z,"noOpacity")&&delete Z.opacity,C.traceIs(z,"showLegend")||(delete Z.showlegend,delete Z.legendgroup),C.traceIs(z,"noHover")&&(delete Z.hoverinfo,delete Z.hoverlabel),j.selectPoints||delete Z.selectedpoints,f(Z,W),U.attributes&&f(Z,U.attributes),Z.type=z;var X={meta:j.meta||{},categories:j.categories||{},animatable:!!j.animatable,type:z,attributes:P(Z)};if(j.layoutAttributes){var it={};f(it,j.layoutAttributes),X.layoutAttributes=P(it)}return j.animatable||F.crawl(X,function(nt){F.isValObject(nt)&&"anim"in nt&&delete nt.anim}),X}function k(){var z={},j,U;f(z,n);for(j in C.subplotsRegistry)if(U=C.subplotsRegistry[j],!!U.layoutAttributes)if(Array.isArray(U.attr))for(var Z=0;Z<U.attr.length;Z++)I(z,U,U.attr[Z]);else{var D=U.attr==="subplot"?U.name:U.attr;I(z,U,D)}for(j in C.componentsRegistry){U=C.componentsRegistry[j];var W=U.schema;if(W&&(W.subplots||W.layout)){var X=W.subplots;if(X&&X.xaxis&&!X.yaxis)for(var it in X.xaxis)delete z.yaxis[it];delete z.xaxis.shift,delete z.xaxis.autoshift}else U.name==="colorscale"?f(z,U.layoutAttributes):U.layoutAttributes&&E(z,U.layoutAttributes,U.name)}return{layoutAttributes:P(z)}}function $(){var z={frames:f({},l)};return P(z),z.frames}function P(z){return O(z),T(z),G(z),z}function O(z){function j(Z){return{valType:"string",editType:"none"}}function U(Z,D,W){F.isValObject(Z)?(Z.arrayOk===!0||Z.valType==="data_array")&&(W[D+"src"]=j()):e(Z)&&(Z.role="object")}F.crawl(z,U)}function T(z){function j(U,Z,D){if(U){var W=U[m];W&&(delete U[m],D[Z]={items:{}},D[Z].items[W]=U,D[Z].role="object")}}F.crawl(z,j)}function G(z){function j(U){for(var Z in U)if(e(U[Z]))j(U[Z]);else if(Array.isArray(U[Z]))for(var D=0;D<U[Z].length;D++)j(U[Z][D]);else U[Z]instanceof RegExp&&(U[Z]=U[Z].toString())}j(z)}function I(z,j,U){var Z=u(z,U),D=f({},j.layoutAttributes);D[_]=!0,Z.set(D)}function E(z,j,U){var Z=u(z,U);Z.set(f(Z.get()||{},j))}}),Bn=Ct(F=>{var C=De(),r=Ba(),t="templateitemname",n={name:{valType:"string",editType:"none"}};n[t]={valType:"string",editType:"calc"},F.templatedArray=function(o,s){return s._isLinkedToArray=o,s.name=n.name,s[t]=n[t],s},F.traceTemplater=function(o){var s={},f,e;for(f in o)e=o[f],Array.isArray(e)&&e.length&&(s[f]=0);function v(u){f=C.coerce(u,{},r,"type");var h={type:f,_template:null};if(f in s){e=o[f];var _=s[f]%e.length;s[f]++,h._template=e[_]}return h}return{newTrace:v}},F.newContainer=function(o,s,f){var e=o._template,v=e&&(e[s]||f&&e[f]);C.isPlainObject(v)||(v=null);var u=o[s]={_template:v};return u},F.arrayTemplater=function(o,s,f){var e=o._template,v=e&&e[i(s)],u=e&&e[s];(!Array.isArray(u)||!u.length)&&(u=[]);var h={};function _(g){var y={name:g.name,_input:g},p=y[t]=g[t];if(!l(p))return y._template=v,y;for(var c=0;c<u.length;c++){var d=u[c];if(d.name===p)return h[p]=1,y._template=d,y}return y[f]=g[f]||!1,y._template=!1,y}function m(){for(var g=[],y=0;y<u.length;y++){var p=u[y],c=p.name;if(l(c)&&!h[c]){var d={_template:p,name:c,_input:{_templateitemname:c}};d[t]=p[t],g.push(d),h[c]=1}}return g}return{newItem:_,defaultItems:m}};function l(o){return o&&typeof o=="string"}function i(o){var s=o.length-1;return o.charAt(s)!=="s"&&C.warn("bad argument to arrayDefaultKey: "+o),o.substr(0,o.length-1)+"defaults"}F.arrayDefaultKey=i,F.arrayEditor=function(o,s,f){var e=(C.nestedProperty(o,s).get()||[]).length,v=f._index,u=v>=e&&(f._input||{})._templateitemname;u&&(v=e);var h=s+"["+v+"]",_;function m(){_={},u&&(_[h]={},_[h][t]=u)}m();function g(d,b){_[d]=b}function y(d,b){u?C.nestedProperty(_[h],d).set(b):_[h+"."+d]=b}function p(){var d=_;return m(),d}function c(d,b){d&&y(d,b);var w=p();for(var k in w)C.nestedProperty(o,k).set(w[k])}return{modifyBase:g,modifyItem:y,getUpdateObj:p,applyUpdate:c}}}),pa=Ct((F,C)=>{var r=Fr().counter;C.exports={idRegex:{x:r("x","( domain)?"),y:r("y","( domain)?")},attrRegex:r("[xy]axis"),xAxisMatch:r("xaxis"),yAxisMatch:r("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"},zindexSeparator:"z"}}),sa=Ct(F=>{var C=un(),r=pa();F.id2name=function(n){if(!(typeof n!="string"||!n.match(r.AX_ID_PATTERN))){var l=n.split(" ")[0].substr(1);return l==="1"&&(l=""),n.charAt(0)+"axis"+l}},F.name2id=function(n){if(n.match(r.AX_NAME_PATTERN)){var l=n.substr(5);return l==="1"&&(l=""),n.charAt(0)+l}},F.cleanId=function(n,l,i){var o=/( domain)$/.test(n);if(!(typeof n!="string"||!n.match(r.AX_ID_PATTERN))&&!(l&&n.charAt(0)!==l)&&!(o&&!i)){var s=n.split(" ")[0].substr(1).replace(/^0+/,"");return s==="1"&&(s=""),n.charAt(0)+s+(o&&i?" domain":"")}},F.list=function(n,l,i){var o=n._fullLayout;if(!o)return[];var s=F.listIds(n,l),f=new Array(s.length),e;for(e=0;e<s.length;e++){var v=s[e];f[e]=o[v.charAt(0)+"axis"+v.substr(1)]}if(!i){var u=o._subplots.gl3d||[];for(e=0;e<u.length;e++){var h=o[u[e]];l?f.push(h[l+"axis"]):f.push(h.xaxis,h.yaxis,h.zaxis)}}return f},F.listIds=function(n,l){var i=n._fullLayout;if(!i)return[];var o=i._subplots;return l?o[l+"axis"]:o.xaxis.concat(o.yaxis)},F.getFromId=function(n,l,i){var o=n._fullLayout;return l=l===void 0||typeof l!="string"?l:l.replace(" domain",""),i==="x"?l=l.replace(/y[0-9]*/,""):i==="y"&&(l=l.replace(/x[0-9]*/,"")),o[F.id2name(l)]},F.getFromTrace=function(n,l,i){var o=n._fullLayout,s=null;if(C.traceIs(l,"gl3d")){var f=l.scene;f.substr(0,5)==="scene"&&(s=o[f][i+"axis"])}else s=F.getFromId(n,l[i+"axis"]||i);return s},F.idSort=function(n,l){var i=n.charAt(0),o=l.charAt(0);return i!==o?i>o?1:-1:+(n.substr(1)||1)-+(l.substr(1)||1)},F.ref2id=function(n){return/^[xyz]/.test(n)?n.split(" ")[0]:!1};function t(n,l){if(l&&l.length){for(var i=0;i<l.length;i++)if(l[i][n])return!0}return!1}F.isLinked=function(n,l){return t(l,n._axisMatchGroups)||t(l,n._axisConstraintGroups)}}),fr=Ct((F,C)=>{function r(n){var l=n._fullLayout._zoomlayer;l&&l.selectAll(".outline-controllers").remove()}function t(n){var l=n._fullLayout._zoomlayer;l&&l.selectAll(".select-outline").remove(),n._fullLayout._outlining=!1}C.exports={clearOutlineControllers:r,clearOutline:t}}),Ii=Ct((F,C)=>{C.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}}),Jo=Ct(F=>{var C=un();pa().SUBPLOT_PATTERN,F.getSubplotCalcData=function(r,t,n){var l=C.subplotsRegistry[t];if(!l)return[];for(var i=l.attr,o=[],s=0;s<r.length;s++){var f=r[s],e=f[0].trace;e[i]===n&&o.push(f)}return o},F.getModuleCalcData=function(r,t,n){var l=[],i=[],o;if(typeof t=="string"?o=C.getModule(t).plot:typeof t=="function"?o=t:o=t.plot,!o)return[l,r];for(var s=n,f=0;f<r.length;f++){var e=r[f],v=e[0].trace,u=v.zorder!==void 0;v.visible!==!0||v._length===0||(v._module&&v._module.plot===o&&(!u||v.zorder===s)?l.push(e):i.push(e))}return[l,i]},F.getSubplotData=function(r,t,n){if(!C.subplotsRegistry[t])return[];for(var l=C.subplotsRegistry[t].attr,i=[],o,s,f,e=0;e<r.length;e++)o=r[e],o[l]===n&&i.push(o);return i}}),uc=Ct(F=>{var C=un(),r=De();F.manageCommandObserver=function(s,f,e,v){var u={},h=!0;f&&f._commandObserver&&(u=f._commandObserver),u.cache||(u.cache={}),u.lookupTable={};var _=F.hasSimpleAPICommandBindings(s,e,u.lookupTable);if(f&&f._commandObserver){if(_)return u;if(f._commandObserver.remove)return f._commandObserver.remove(),f._commandObserver=null,u}if(_){t(s,_,u.cache),u.check=function(){if(h){var y=t(s,_,u.cache);return y.changed&&v&&u.lookupTable[y.value]!==void 0&&(u.disable(),Promise.resolve(v({value:y.value,type:_.type,prop:_.prop,traces:_.traces,index:u.lookupTable[y.value]})).then(u.enable,u.enable)),y.changed}};for(var m=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],g=0;g<m.length;g++)s._internalOn(m[g],u.check);u.remove=function(){for(var y=0;y<m.length;y++)s._removeInternalListener(m[y],u.check)}}else r.log("Unable to automatically bind plot updates to API command"),u.lookupTable={},u.remove=function(){};return u.disable=function(){h=!1},u.enable=function(){h=!0},f&&(f._commandObserver=u),u},F.hasSimpleAPICommandBindings=function(s,f,e){var v,u=f.length,h;for(v=0;v<u;v++){var _,m=f[v],g=m.method,y=m.args;if(Array.isArray(y)||(y=[]),!g)return!1;var p=F.computeAPICommandBindings(s,g,y);if(p.length!==1)return!1;if(!h)h=p[0],Array.isArray(h.traces)&&h.traces.sort();else{if(_=p[0],_.type!==h.type||_.prop!==h.prop)return!1;if(Array.isArray(h.traces))if(Array.isArray(_.traces)){_.traces.sort();for(var c=0;c<h.traces.length;c++)if(h.traces[c]!==_.traces[c])return!1}else return!1;else if(_.prop!==h.prop)return!1}_=p[0];var d=_.value;if(Array.isArray(d))if(d.length===1)d=d[0];else return!1;e&&(e[d]=v)}return h};function t(s,f,e){var v,u,h,_=!1;if(f.type==="data")v=s._fullData[f.traces!==null?f.traces[0]:0];else if(f.type==="layout")v=s._fullLayout;else return!1;return u=r.nestedProperty(v,f.prop).get(),h=e[f.type]=e[f.type]||{},h.hasOwnProperty(f.prop)&&h[f.prop]!==u&&(_=!0),h[f.prop]=u,{changed:_,value:u}}F.executeAPICommand=function(s,f,e){if(f==="skip")return Promise.resolve();var v=C.apiMethodRegistry[f],u=[s];Array.isArray(e)||(e=[]);for(var h=0;h<e.length;h++)u.push(e[h]);return v.apply(null,u).catch(function(_){return r.warn("API call to Plotly."+f+" rejected.",_),Promise.reject(_)})},F.computeAPICommandBindings=function(s,f,e){var v;switch(Array.isArray(e)||(e=[]),f){case"restyle":v=i(s,e);break;case"relayout":v=l(s,e);break;case"update":v=i(s,[e[0],e[2]]).concat(l(s,[e[1]]));break;case"animate":v=n(s,e);break;default:v=[]}return v};function n(s,f){return Array.isArray(f[0])&&f[0].length===1&&["string","number"].indexOf(typeof f[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:f[0][0].toString()}]:[]}function l(s,f){var e=[],v=f[0],u={};if(typeof v=="string")u[v]=f[1];else if(r.isPlainObject(v))u=v;else return e;return o(u,function(h,_,m){e.push({type:"layout",prop:h,value:m})},"",0),e}function i(s,f){var e,v,u,h,_=[];if(v=f[0],u=f[1],e=f[2],h={},typeof v=="string")h[v]=u;else if(r.isPlainObject(v))h=v,e===void 0&&(e=u);else return _;return e===void 0&&(e=null),o(h,function(m,g,y){var p,c;if(Array.isArray(y)){c=y.slice();var d=Math.min(c.length,s.data.length);e&&(d=Math.min(d,e.length)),p=[];for(var b=0;b<d;b++)p[b]=e?e[b]:b}else c=y,p=e?e.slice():null;if(p===null)Array.isArray(c)&&(c=c[0]);else if(Array.isArray(p)){if(!Array.isArray(c)){var w=c;c=[];for(var k=0;k<p.length;k++)c[k]=w}c.length=Math.min(p.length,c.length)}_.push({type:"data",prop:m,traces:p,value:c})},"",0),_}function o(s,f,e,v){Object.keys(s).forEach(function(u){var h=s[u];if(u[0]!=="_"){var _=e+(v>0?".":"")+u;r.isPlainObject(h)?o(h,f,_,v+1):f(_,u,h)}})}}),aa=Ct((F,C)=>{var r=wn(),t=Cr().timeFormatLocale,n=Fo().formatLocale,l=Mn(),i=No(),o=un(),s=zr(),f=Bn(),e=De(),v=bn(),u=oa().BADNUM,h=sa(),_=fr().clearOutline,m=Ii(),g=Wr(),y=Wo(),p=Jo().getModuleCalcData,c=e.relinkPrivateKeys,d=e._,b=C.exports={};e.extendFlat(b,o),b.attributes=Ba(),b.attributes.type.values=b.allTypes,b.fontAttrs=ha(),b.layoutAttributes=Nr();var w=uc();b.executeAPICommand=w.executeAPICommand,b.computeAPICommandBindings=w.computeAPICommandBindings,b.manageCommandObserver=w.manageCommandObserver,b.hasSimpleAPICommandBindings=w.hasSimpleAPICommandBindings,b.redrawText=function(H){return H=e.getGraphDiv(H),new Promise(function(Y){setTimeout(function(){H._fullLayout&&(o.getComponentMethod("annotations","draw")(H),o.getComponentMethod("legend","draw")(H),o.getComponentMethod("colorbar","draw")(H),Y(b.previousPromises(H)))},300)})},b.resize=function(H){H=e.getGraphDiv(H);var Y,A=new Promise(function(J,at){(!H||e.isHidden(H))&&at(new Error("Resize must be passed a displayed plot div element.")),H._redrawTimer&&clearTimeout(H._redrawTimer),H._resolveResize&&(Y=H._resolveResize),H._resolveResize=J,H._redrawTimer=setTimeout(function(){if(!H.layout||H.layout.width&&H.layout.height||e.isHidden(H)){J(H);return}delete H.layout.width,delete H.layout.height;var N=H.changed;H.autoplay=!0,o.call("relayout",H,{autosize:!0}).then(function(){H.changed=N,H._resolveResize===J&&(delete H._resolveResize,J(H))})},100)});return Y&&Y(A),A},b.previousPromises=function(H){if((H._promises||[]).length)return Promise.all(H._promises).then(function(){H._promises=[]})},b.addLinks=function(H){if(!(!H._context.showLink&&!H._context.showSources)){var Y=H._fullLayout,A=e.ensureSingle(Y._paper,"text","js-plot-link-container",function(R){R.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:v.defaultLine,"pointer-events":"all"}).each(function(){var V=r.select(this);V.append("tspan").classed("js-link-to-tool",!0),V.append("tspan").classed("js-link-spacer",!0),V.append("tspan").classed("js-sourcelinks",!0)})}),J=A.node(),at={y:Y._paper.attr("height")-9};document.body.contains(J)&&J.getComputedTextLength()>=Y.width-20?(at["text-anchor"]="start",at.x=5):(at["text-anchor"]="end",at.x=Y._paper.attr("width")-7),A.attr(at);var N=A.select(".js-link-to-tool"),M=A.select(".js-link-spacer"),S=A.select(".js-sourcelinks");H._context.showSources&&H._context.showSources(H),H._context.showLink&&k(H,N),M.text(N.text()&&S.text()?" - ":"")}};function k(H,Y){Y.text("");var A=Y.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(H._context.linkText+" ");if(H._context.sendData)A.on("click",function(){b.sendDataToCloud(H)});else{var J=window.location.pathname.split("/"),at=window.location.search;A.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+J[2].split(".")[0]+"/"+J[1]+at})}}b.sendDataToCloud=function(H){var Y=(window.PLOTLYENV||{}).BASE_URL||H._context.plotlyServerURL;if(Y){H.emit("plotly_beforeexport");var A=r.select(H).append("div").attr("id","hiddenform").style("display","none"),J=A.append("form").attr({action:Y+"/external",method:"post",target:"_blank"}),at=J.append("input").attr({type:"text",name:"data"});return at.node().value=b.graphJson(H,!1,"keepdata"),J.node().submit(),A.remove(),H.emit("plotly_afterexport"),!1}};var $=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],P=["year","month","dayMonth","dayMonthYear"];b.supplyDefaults=function(H,Y){var A=Y&&Y.skipUpdateCalc,J=H._fullLayout||{};if(J._skipDefaults){delete J._skipDefaults;return}var at=H._fullLayout={},N=H.layout||{},M=H._fullData||[],S=H._fullData=[],R=H.data||[],V=H.calcdata||[],rt=H._context||{},st;H._transitionData||b.createTransitionData(H),at._dfltTitle={plot:d(H,"Click to enter Plot title"),subtitle:d(H,"Click to enter Plot subtitle"),x:d(H,"Click to enter X axis title"),y:d(H,"Click to enter Y axis title"),colorbar:d(H,"Click to enter Colorscale title"),annotation:d(H,"new text")},at._traceWord=d(H,"trace");var ut=G(H,$);if(at._mapboxAccessToken=rt.mapboxAccessToken,J._initialAutoSizeIsDone){var _t=J.width,Tt=J.height;b.supplyLayoutGlobalDefaults(N,at,ut),N.width||(at.width=_t),N.height||(at.height=Tt),b.sanitizeMargins(at)}else{b.supplyLayoutGlobalDefaults(N,at,ut);var Ft=!N.width||!N.height,Zt=at.autosize,Bt=rt.autosizable,Rt=Ft&&(Zt||Bt);Rt?b.plotAutoSize(H,N,at):Ft&&b.sanitizeMargins(at),!Zt&&Ft&&(N.width=at.width,N.height=at.height)}at._d3locale=I(ut,at.separators),at._extraFormat=G(H,P),at._initialAutoSizeIsDone=!0,at._dataLength=R.length,at._modules=[],at._visibleModules=[],at._basePlotModules=[];var pt=at._subplots=T(),bt=at._splomAxes={x:{},y:{}},lt=at._splomSubplots={};at._splomGridDflt={},at._scatterStackOpts={},at._firstScatter={},at._alignmentOpts={},at._colorAxes={},at._requestRangeslider={},at._traceUids=O(M,R),b.supplyDataDefaults(R,S,N,at);var kt=Object.keys(bt.x),Nt=Object.keys(bt.y);if(kt.length>1&&Nt.length>1){for(o.getComponentMethod("grid","sizeDefaults")(N,at),st=0;st<kt.length;st++)e.pushUnique(pt.xaxis,kt[st]);for(st=0;st<Nt.length;st++)e.pushUnique(pt.yaxis,Nt[st]);for(var Yt in lt)e.pushUnique(pt.cartesian,Yt)}if(at._has=b._hasPlotType.bind(at),M.length===S.length)for(st=0;st<S.length;st++)c(S[st],M[st]);b.supplyLayoutModuleDefaults(N,at,S,H._transitionData);var ee=at._visibleModules,Xt=[];for(st=0;st<ee.length;st++){var ae=ee[st].crossTraceDefaults;ae&&e.pushUnique(Xt,ae)}for(st=0;st<Xt.length;st++)Xt[st](S,at);at._hasOnlyLargeSploms=at._basePlotModules.length===1&&at._basePlotModules[0].name==="splom"&&kt.length>15&&Nt.length>15&&at.shapes.length===0&&at.images.length===0,b.linkSubplots(S,at,M,J),b.cleanPlot(S,at,M,J);var oe=!!(J._has&&J._has("cartesian")),ie=!!(at._has&&at._has("cartesian")),pe=oe,$t=ie;pe&&!$t?J._bgLayer.remove():$t&&!pe&&(at._shouldCreateBgLayer=!0),J._zoomlayer&&!H._dragging&&_({_fullLayout:J}),E(S,at),c(at,J),o.getComponentMethod("colorscale","crossTraceDefaults")(S,at),at._preGUI||(at._preGUI={}),at._tracePreGUI||(at._tracePreGUI={});var me=at._tracePreGUI,we={},ve;for(ve in me)we[ve]="old";for(st=0;st<S.length;st++)ve=S[st]._fullInput.uid,we[ve]||(me[ve]={}),we[ve]="new";for(ve in we)we[ve]==="old"&&delete me[ve];U(at),o.getComponentMethod("rangeslider","makeData")(at),!A&&V.length===S.length&&b.supplyDefaultsUpdateCalc(V,S)},b.supplyDefaultsUpdateCalc=function(H,Y){for(var A=0;A<Y.length;A++){var J=Y[A],at=(H[A]||[])[0];if(at&&at.trace){var N=at.trace;if(N._hasCalcTransform){var M=N._arrayAttrs,S,R,V;for(S=0;S<M.length;S++)R=M[S],V=e.nestedProperty(N,R).get().slice(),e.nestedProperty(J,R).set(V)}at.trace=J}}};function O(H,Y){var A=Y.length,J=[],at,N;for(at=0;at<H.length;at++){var M=H[at]._fullInput;M!==N&&J.push(M),N=M}var S=J.length,R=new Array(A),V={};function rt(_t,Tt){R[Tt]=_t,V[_t]=1}function st(_t,Tt){if(_t&&typeof _t=="string"&&!V[_t])return rt(_t,Tt),!0}for(at=0;at<A;at++){var ut=Y[at].uid;typeof ut=="number"&&(ut=String(ut)),!st(ut,at)&&(at<S&&st(J[at].uid,at)||rt(e.randstr(V),at))}return R}function T(){var H=o.collectableSubplotTypes,Y={},A,J;if(!H){H=[];var at=o.subplotsRegistry;for(var N in at){var M=at[N],S=M.attr;if(S&&(H.push(N),Array.isArray(S)))for(J=0;J<S.length;J++)e.pushUnique(H,S[J])}}for(A=0;A<H.length;A++)Y[H[A]]=[];return Y}function G(H,Y){var A=H._context.locale;A||(A="en-US");var J=!1,at={};function N(st){for(var ut=!0,_t=0;_t<Y.length;_t++){var Tt=Y[_t];at[Tt]||(st[Tt]?at[Tt]=st[Tt]:ut=!1)}ut&&(J=!0)}for(var M=0;M<2;M++){for(var S=H._context.locales,R=0;R<2;R++){var V=(S[A]||{}).format;if(V&&(N(V),J))break;S=o.localeRegistry}var rt=A.split("-")[0];if(J||rt===A)break;A=rt}return J||N(o.localeRegistry.en.format),at}function I(H,Y){return H.decimal=Y.charAt(0),H.thousands=Y.charAt(1),{numberFormat:function(A){try{A=n(H).format(e.adjustFormat(A))}catch{return e.warnBadFormat(A),e.noFormat}return A},timeFormat:t(H).utcFormat}}function E(H,Y){var A,J=[];Y.meta&&(A=Y._meta={meta:Y.meta,layout:{meta:Y.meta}});for(var at=0;at<H.length;at++){var N=H[at];N.meta?J[N.index]=N._meta={meta:N.meta}:Y.meta&&(N._meta={meta:Y.meta}),Y.meta&&(N._meta.layout={meta:Y.meta})}J.length&&(A||(A=Y._meta={}),A.data=J)}b.createTransitionData=function(H){H._transitionData||(H._transitionData={}),H._transitionData._frames||(H._transitionData._frames=[]),H._transitionData._frameHash||(H._transitionData._frameHash={}),H._transitionData._counter||(H._transitionData._counter=0),H._transitionData._interruptCallbacks||(H._transitionData._interruptCallbacks=[])},b._hasPlotType=function(H){var Y,A=this._basePlotModules||[];for(Y=0;Y<A.length;Y++)if(A[Y].name===H)return!0;var J=this._modules||[];for(Y=0;Y<J.length;Y++){var at=J[Y].name;if(at===H)return!0;var N=o.modules[at];if(N&&N.categories[H])return!0}return!1},b.cleanPlot=function(H,Y,A,J){var at,N,M=J._basePlotModules||[];for(at=0;at<M.length;at++){var S=M[at];S.clean&&S.clean(H,Y,A,J)}var R=J._has&&J._has("gl"),V=Y._has&&Y._has("gl");R&&!V&&J._glcontainer!==void 0&&(J._glcontainer.selectAll(".gl-canvas").remove(),J._glcontainer.selectAll(".no-webgl").remove(),J._glcanvas=null);var rt=!!J._infolayer;t:for(at=0;at<A.length;at++){var st=A[at],ut=st.uid;for(N=0;N<H.length;N++){var _t=H[N];if(ut===_t.uid)continue t}rt&&J._infolayer.select(".cb"+ut).remove()}},b.linkSubplots=function(H,Y,A,J){var at,N,M=J._plots||{},S=Y._plots={},R=Y._subplots,V={_fullData:H,_fullLayout:Y},rt=R.cartesian||[];for(at=0;at<rt.length;at++){var st=rt[at],ut=M[st],_t=h.getFromId(V,st,"x"),Tt=h.getFromId(V,st,"y"),Ft;for(ut?Ft=S[st]=ut:(Ft=S[st]={},Ft.id=st),_t._counterAxes.push(Tt._id),Tt._counterAxes.push(_t._id),_t._subplotsWith.push(st),Tt._subplotsWith.push(st),Ft.xaxis=_t,Ft.yaxis=Tt,Ft._hasClipOnAxisFalse=!1,N=0;N<H.length;N++){var Zt=H[N];if(Zt.xaxis===Ft.xaxis._id&&Zt.yaxis===Ft.yaxis._id&&Zt.cliponaxis===!1){Ft._hasClipOnAxisFalse=!0;break}}}var Bt=h.list(V,null,!0),Rt;for(at=0;at<Bt.length;at++){Rt=Bt[at];var pt=null;Rt.overlaying&&(pt=h.getFromId(V,Rt.overlaying),pt&&pt.overlaying&&(Rt.overlaying=!1,pt=null)),Rt._mainAxis=pt||Rt,pt&&(Rt.domain=pt.domain.slice()),Rt._anchorAxis=Rt.anchor==="free"?null:h.getFromId(V,Rt.anchor)}for(at=0;at<Bt.length;at++)if(Rt=Bt[at],Rt._counterAxes.sort(h.idSort),Rt._subplotsWith.sort(e.subplotSort),Rt._mainSubplot=z(Rt,Y),Rt._counterAxes.length&&(Rt.spikemode&&Rt.spikemode.indexOf("across")!==-1||Rt.automargin&&Rt.mirror&&Rt.anchor!=="free"||o.getComponentMethod("rangeslider","isVisible")(Rt))){var bt=1,lt=0;for(N=0;N<Rt._counterAxes.length;N++){var kt=h.getFromId(V,Rt._counterAxes[N]);bt=Math.min(bt,kt.domain[0]),lt=Math.max(lt,kt.domain[1])}bt<lt&&(Rt._counterDomainMin=bt,Rt._counterDomainMax=lt)}};function z(H,Y){var A={_fullLayout:Y},J=H._id.charAt(0)==="x",at=H._mainAxis._anchorAxis,N="",M="",S="";if(at&&(S=at._mainAxis._id,N=J?H._id+S:S+H._id),!N||!Y._plots[N]){N="";for(var R=H._counterAxes,V=0;V<R.length;V++){var rt=R[V],st=J?H._id+rt:rt+H._id;M||(M=st);var ut=h.getFromId(A,rt);if(S&&ut.overlaying===S){N=st;break}}}return N||M}b.clearExpandedTraceDefaultColors=function(H){var Y,A,J;function at(M,S,R,V){A[V]=S,A.length=V+1,M.valType==="color"&&M.dflt===void 0&&Y.push(A.join("."))}for(A=[],Y=H._module._colorAttrs,Y||(H._module._colorAttrs=Y=[],s.crawl(H._module.attributes,at)),J=0;J<Y.length;J++){var N=e.nestedProperty(H,"_input."+Y[J]);N.get()||e.nestedProperty(H,Y[J]).set(null)}},b.supplyDataDefaults=function(H,Y,A,J){var at=J._modules,N=J._visibleModules,M=J._basePlotModules,S=0,R,V,rt;J._transformModules=[];function st(Bt){Y.push(Bt);var Rt=Bt._module;Rt&&(e.pushUnique(at,Rt),Bt.visible===!0&&e.pushUnique(N,Rt),e.pushUnique(M,Bt._module.basePlotModule),Bt._input.visible!==!1&&S++)}var ut={},_t=[],Tt=(A.template||{}).data||{},Ft=f.traceTemplater(Tt);for(R=0;R<H.length;R++)rt=H[R],V=Ft.newTrace(rt),V.uid=J._traceUids[R],b.supplyTraceDefaults(rt,V,S,J,R),V.index=R,V._input=rt,V._fullInput=V,st(V),o.traceIs(V,"carpetAxis")&&(ut[V.carpet]=V),o.traceIs(V,"carpetDependent")&&_t.push(R);for(R=0;R<_t.length;R++)if(V=Y[_t[R]],!!V.visible){var Zt=ut[V.carpet];if(V._carpet=Zt,!Zt||!Zt.visible){V.visible=!1;continue}V.xaxis=Zt.xaxis,V.yaxis=Zt.yaxis}},b.supplyAnimationDefaults=function(H){H=H||{};var Y,A={};function J(at,N){return e.coerce(H||{},A,g,at,N)}if(J("mode"),J("direction"),J("fromcurrent"),Array.isArray(H.frame))for(A.frame=[],Y=0;Y<H.frame.length;Y++)A.frame[Y]=b.supplyAnimationFrameDefaults(H.frame[Y]||{});else A.frame=b.supplyAnimationFrameDefaults(H.frame||{});if(Array.isArray(H.transition))for(A.transition=[],Y=0;Y<H.transition.length;Y++)A.transition[Y]=b.supplyAnimationTransitionDefaults(H.transition[Y]||{});else A.transition=b.supplyAnimationTransitionDefaults(H.transition||{});return A},b.supplyAnimationFrameDefaults=function(H){var Y={};function A(J,at){return e.coerce(H||{},Y,g.frame,J,at)}return A("duration"),A("redraw"),Y},b.supplyAnimationTransitionDefaults=function(H){var Y={};function A(J,at){return e.coerce(H||{},Y,g.transition,J,at)}return A("duration"),A("easing"),Y},b.supplyFrameDefaults=function(H){var Y={};function A(J,at){return e.coerce(H,Y,y,J,at)}return A("group"),A("name"),A("traces"),A("baseframe"),A("data"),A("layout"),Y},b.supplyTraceDefaults=function(H,Y,A,J,at){var N=J.colorway||v.defaults,M=N[A%N.length],S;function R(pt,bt){return e.coerce(H,Y,b.attributes,pt,bt)}var V=R("visible");R("type"),R("name",J._traceWord+" "+at),R("uirevision",J.uirevision);var rt=b.getModule(Y);if(Y._module=rt,rt){var st=rt.basePlotModule,ut=st.attr,_t=st.attributes;if(ut&&_t){var Tt=J._subplots,Ft="";if(Array.isArray(ut))for(S=0;S<ut.length;S++){var Zt=ut[S],Bt=e.coerce(H,Y,_t,Zt);Tt[Zt]&&e.pushUnique(Tt[Zt],Bt),Ft+=Bt}else Ft=e.coerce(H,Y,_t,ut);Tt[st.name]&&e.pushUnique(Tt[st.name],Ft)}}if(V&&(R("customdata"),R("ids"),R("meta"),o.traceIs(Y,"showLegend")?(e.coerce(H,Y,rt.attributes.showlegend?rt.attributes:b.attributes,"showlegend"),R("legend"),R("legendwidth"),R("legendgroup"),R("legendgrouptitle.text"),R("legendrank"),Y._dfltShowLegend=!0):Y._dfltShowLegend=!1,rt&&rt.supplyDefaults(H,Y,M,J),o.traceIs(Y,"noOpacity")||R("opacity"),o.traceIs(Y,"notLegendIsolatable")&&(Y.visible=!!Y.visible),o.traceIs(Y,"noHover")||(Y.hovertemplate||e.coerceHoverinfo(H,Y,J),Y.type!=="parcats"&&o.getComponentMethod("fx","supplyDefaults")(H,Y,M,J)),rt&&rt.selectPoints)){var Rt=R("selectedpoints");e.isTypedArray(Rt)&&(Y.selectedpoints=Array.from(Rt))}return Y},b.supplyLayoutGlobalDefaults=function(H,Y,A){function J(st,ut){return e.coerce(H,Y,b.layoutAttributes,st,ut)}var at=H.template;e.isPlainObject(at)&&(Y.template=at,Y._template=at.layout,Y._dataTemplate=at.data),J("autotypenumbers");var N=e.coerceFont(J,"font"),M=N.size;e.coerceFont(J,"title.font",N,{overrideDflt:{size:Math.round(M*1.4)}}),J("title.text",Y._dfltTitle.plot),J("title.xref");var S=J("title.yref");J("title.pad.t"),J("title.pad.r"),J("title.pad.b"),J("title.pad.l");var R=J("title.automargin");J("title.x"),J("title.xanchor"),J("title.y"),J("title.yanchor"),J("title.subtitle.text",Y._dfltTitle.subtitle),e.coerceFont(J,"title.subtitle.font",N,{overrideDflt:{size:Math.round(Y.title.font.size*.7)}}),R&&(S==="paper"&&(Y.title.y!==0&&(Y.title.y=1),Y.title.yanchor==="auto"&&(Y.title.yanchor=Y.title.y===0?"top":"bottom")),S==="container"&&(Y.title.y==="auto"&&(Y.title.y=1),Y.title.yanchor==="auto"&&(Y.title.yanchor=Y.title.y<.5?"bottom":"top")));var V=J("uniformtext.mode");V&&J("uniformtext.minsize"),J("autosize",!(H.width&&H.height)),J("width"),J("height"),J("minreducedwidth"),J("minreducedheight"),J("margin.l"),J("margin.r"),J("margin.t"),J("margin.b"),J("margin.pad"),J("margin.autoexpand"),H.width&&H.height&&b.sanitizeMargins(Y),o.getComponentMethod("grid","sizeDefaults")(H,Y),J("paper_bgcolor"),J("separators",A.decimal+A.thousands),J("hidesources"),J("colorway"),J("datarevision");var rt=J("uirevision");J("editrevision",rt),J("selectionrevision",rt),o.getComponentMethod("modebar","supplyLayoutDefaults")(H,Y),o.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(H,Y,J),o.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(H,Y,J),J("meta"),e.isPlainObject(H.transition)&&(J("transition.duration"),J("transition.easing"),J("transition.ordering")),o.getComponentMethod("calendars","handleDefaults")(H,Y,"calendar"),o.getComponentMethod("fx","supplyLayoutGlobalDefaults")(H,Y,J),e.coerce(H,Y,m,"scattermode")};function j(H){return typeof H=="string"&&H.substr(H.length-2)==="px"&&parseFloat(H)}b.plotAutoSize=function(H,Y,A){var J=H._context||{},at=J.frameMargins,N,M,S=e.isPlotDiv(H);if(S&&H.emit("plotly_autosize"),J.fillFrame)N=window.innerWidth,M=window.innerHeight,document.body.style.overflow="hidden";else{var R=S?window.getComputedStyle(H):{};if(N=j(R.width)||j(R.maxWidth)||A.width,M=j(R.height)||j(R.maxHeight)||A.height,l(at)&&at>0){var V=1-2*at;N=Math.round(V*N),M=Math.round(V*M)}}var rt=b.layoutAttributes.width.min,st=b.layoutAttributes.height.min;N<rt&&(N=rt),M<st&&(M=st);var ut=!Y.width&&Math.abs(A.width-N)>1,_t=!Y.height&&Math.abs(A.height-M)>1;(_t||ut)&&(ut&&(A.width=N),_t&&(A.height=M)),H._initialAutoSize||(H._initialAutoSize={width:N,height:M}),b.sanitizeMargins(A)},b.supplyLayoutModuleDefaults=function(H,Y,A,J){var at=o.componentsRegistry,N=Y._basePlotModules,M,S,R,V=o.subplotsRegistry.cartesian;for(M in at)R=at[M],R.includeBasePlot&&R.includeBasePlot(H,Y);N.length||N.push(V),Y._has("cartesian")&&(o.getComponentMethod("grid","contentDefaults")(H,Y),V.finalizeSubplots(H,Y));for(var rt in Y._subplots)Y._subplots[rt].sort(e.subplotSort);for(S=0;S<N.length;S++)R=N[S],R.supplyLayoutDefaults&&R.supplyLayoutDefaults(H,Y,A);var st=Y._modules;for(S=0;S<st.length;S++)R=st[S],R.supplyLayoutDefaults&&R.supplyLayoutDefaults(H,Y,A);var ut=Y._transformModules;for(S=0;S<ut.length;S++)R=ut[S],R.supplyLayoutDefaults&&R.supplyLayoutDefaults(H,Y,A,J);for(M in at)R=at[M],R.supplyLayoutDefaults&&R.supplyLayoutDefaults(H,Y,A)},b.purge=function(H){var Y=H._fullLayout||{};Y._glcontainer!==void 0&&(Y._glcontainer.selectAll(".gl-canvas").remove(),Y._glcontainer.remove(),Y._glcanvas=null),Y._modeBar&&Y._modeBar.destroy(),H._transitionData&&(H._transitionData._interruptCallbacks&&(H._transitionData._interruptCallbacks.length=0),H._transitionData._animationRaf&&window.cancelAnimationFrame(H._transitionData._animationRaf)),e.clearThrottle(),e.clearResponsive(H),delete H.data,delete H.layout,delete H._fullData,delete H._fullLayout,delete H.calcdata,delete H.empty,delete H.fid,delete H.undoqueue,delete H.undonum,delete H.autoplay,delete H.changed,delete H._promises,delete H._redrawTimer,delete H._hmlumcount,delete H._hmpixcount,delete H._transitionData,delete H._transitioning,delete H._initialAutoSize,delete H._transitioningWithDuration,delete H._dragging,delete H._dragged,delete H._dragdata,delete H._hoverdata,delete H._snapshotInProgress,delete H._editing,delete H._mouseDownTime,delete H._legendMouseDownTime,H.removeAllListeners&&H.removeAllListeners()},b.style=function(H){var Y=H._fullLayout._visibleModules,A=[],J;for(J=0;J<Y.length;J++){var at=Y[J];at.style&&e.pushUnique(A,at.style)}for(J=0;J<A.length;J++)A[J](H)},b.sanitizeMargins=function(H){if(!(!H||!H.margin)){var Y=H.width,A=H.height,J=H.margin,at=Y-(J.l+J.r),N=A-(J.t+J.b),M;at<0&&(M=(Y-1)/(J.l+J.r),J.l=Math.floor(M*J.l),J.r=Math.floor(M*J.r)),N<0&&(M=(A-1)/(J.t+J.b),J.t=Math.floor(M*J.t),J.b=Math.floor(M*J.b))}},b.clearAutoMarginIds=function(H){H._fullLayout._pushmarginIds={}},b.allowAutoMargin=function(H,Y){H._fullLayout._pushmarginIds[Y]=1};function U(H){var Y=H.margin;if(!H._size){var A=H._size={l:Math.round(Y.l),r:Math.round(Y.r),t:Math.round(Y.t),b:Math.round(Y.b),p:Math.round(Y.pad)};A.w=Math.round(H.width)-A.l-A.r,A.h=Math.round(H.height)-A.t-A.b}H._pushmargin||(H._pushmargin={}),H._pushmarginIds||(H._pushmarginIds={}),H._reservedMargin||(H._reservedMargin={})}var Z=2,D=2;b.autoMargin=function(H,Y,A){var J=H._fullLayout,at=J.width,N=J.height,M=J.margin,S=J.minreducedwidth,R=J.minreducedheight,V=e.constrain(at-M.l-M.r,Z,S),rt=e.constrain(N-M.t-M.b,D,R),st=Math.max(0,at-V),ut=Math.max(0,N-rt),_t=J._pushmargin,Tt=J._pushmarginIds;if(M.autoexpand!==!1){if(!A)delete _t[Y],delete Tt[Y];else{var Ft=A.pad;if(Ft===void 0&&(Ft=Math.min(12,M.l,M.r,M.t,M.b)),st){var Zt=(A.l+A.r)/st;Zt>1&&(A.l/=Zt,A.r/=Zt)}if(ut){var Bt=(A.t+A.b)/ut;Bt>1&&(A.t/=Bt,A.b/=Bt)}var Rt=A.xl!==void 0?A.xl:A.x,pt=A.xr!==void 0?A.xr:A.x,bt=A.yt!==void 0?A.yt:A.y,lt=A.yb!==void 0?A.yb:A.y;_t[Y]={l:{val:Rt,size:A.l+Ft},r:{val:pt,size:A.r+Ft},b:{val:lt,size:A.b+Ft},t:{val:bt,size:A.t+Ft}},Tt[Y]=1}if(!J._replotting)return b.doAutoMargin(H)}};function W(H){if("_redrawFromAutoMarginCount"in H._fullLayout)return!1;var Y=h.list(H,"",!0);for(var A in Y)if(Y[A].autoshift||Y[A].shift)return!0;return!1}b.doAutoMargin=function(H){var Y=H._fullLayout,A=Y.width,J=Y.height;Y._size||(Y._size={}),U(Y);var at=Y._size,N=Y.margin,M={t:0,b:0,l:0,r:0},S=e.extendFlat({},at),R=N.l,V=N.r,rt=N.t,st=N.b,ut=Y._pushmargin,_t=Y._pushmarginIds,Tt=Y.minreducedwidth,Ft=Y.minreducedheight;if(N.autoexpand!==!1){for(var Zt in ut)_t[Zt]||delete ut[Zt];var Bt=H._fullLayout._reservedMargin;for(var Rt in Bt)for(var pt in Bt[Rt]){var bt=Bt[Rt][pt];M[pt]=Math.max(M[pt],bt)}ut.base={l:{val:0,size:R},r:{val:1,size:V},t:{val:1,size:rt},b:{val:0,size:st}};for(var lt in M){var kt=0;for(var Nt in ut)Nt!=="base"&&l(ut[Nt][lt].size)&&(kt=ut[Nt][lt].size>kt?ut[Nt][lt].size:kt);var Yt=Math.max(0,N[lt]-kt);M[lt]=Math.max(0,M[lt]-Yt)}for(var ee in ut){var Xt=ut[ee].l||{},ae=ut[ee].b||{},oe=Xt.val,ie=Xt.size,pe=ae.val,$t=ae.size,me=A-M.r-M.l,we=J-M.t-M.b;for(var ve in ut){if(l(ie)&&ut[ve].r){var Me=ut[ve].r.val,mt=ut[ve].r.size;if(Me>oe){var Lt=(ie*Me+(mt-me)*oe)/(Me-oe),At=(mt*(1-oe)+(ie-me)*(1-Me))/(Me-oe);Lt+At>R+V&&(R=Lt,V=At)}}if(l($t)&&ut[ve].t){var Q=ut[ve].t.val,ft=ut[ve].t.size;if(Q>pe){var yt=($t*Q+(ft-we)*pe)/(Q-pe),gt=(ft*(1-pe)+($t-we)*(1-Q))/(Q-pe);yt+gt>st+rt&&(st=yt,rt=gt)}}}}}var It=e.constrain(A-N.l-N.r,Z,Tt),Mt=e.constrain(J-N.t-N.b,D,Ft),Jt=Math.max(0,A-It),qt=Math.max(0,J-Mt);if(Jt){var le=(R+V)/Jt;le>1&&(R/=le,V/=le)}if(qt){var Et=(st+rt)/qt;Et>1&&(st/=Et,rt/=Et)}if(at.l=Math.round(R)+M.l,at.r=Math.round(V)+M.r,at.t=Math.round(rt)+M.t,at.b=Math.round(st)+M.b,at.p=Math.round(N.pad),at.w=Math.round(A)-at.l-at.r,at.h=Math.round(J)-at.t-at.b,!Y._replotting&&(b.didMarginChange(S,at)||W(H))){"_redrawFromAutoMarginCount"in Y?Y._redrawFromAutoMarginCount++:Y._redrawFromAutoMarginCount=1;var re=3*(1+Object.keys(_t).length);if(Y._redrawFromAutoMarginCount<re)return o.call("_doPlot",H);Y._size=S,e.warn("Too many auto-margin redraws.")}X(H)};function X(H){var Y=h.list(H,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(A){for(var J=0;J<Y.length;J++){var at=Y[J][A];at&&at()}})}var it=["l","r","t","b","p","w","h"];b.didMarginChange=function(H,Y){for(var A=0;A<it.length;A++){var J=it[A],at=H[J],N=Y[J];if(!l(at)||Math.abs(N-at)>1)return!0}return!1},b.graphJson=function(H,Y,A,J,at,N){(at&&Y&&!H._fullData||at&&!Y&&!H._fullLayout)&&b.supplyDefaults(H);var M=at?H._fullData:H.data,S=at?H._fullLayout:H.layout,R=(H._transitionData||{})._frames;function V(ut,_t){if(typeof ut=="function")return _t?"_function_":null;if(e.isPlainObject(ut)){var Tt={},Ft;return Object.keys(ut).sort().forEach(function(pt){if(["_","["].indexOf(pt.charAt(0))===-1){if(typeof ut[pt]=="function"){_t&&(Tt[pt]="_function");return}if(A==="keepdata"){if(pt.substr(pt.length-3)==="src")return}else if(A==="keepstream"){if(Ft=ut[pt+"src"],typeof Ft=="string"&&Ft.indexOf(":")>0&&!e.isPlainObject(ut.stream))return}else if(A!=="keepall"&&(Ft=ut[pt+"src"],typeof Ft=="string"&&Ft.indexOf(":")>0))return;Tt[pt]=V(ut[pt],_t)}}),Tt}var Zt=Array.isArray(ut),Bt=e.isTypedArray(ut);if((Zt||Bt)&&ut.dtype&&ut.shape){var Rt=ut.bdata;return V({dtype:ut.dtype,shape:ut.shape,bdata:e.isArrayBuffer(Rt)?i.encode(Rt):Rt},_t)}return Zt?ut.map(function(pt){return V(pt,_t)}):Bt?e.simpleMap(ut,e.identity):e.isJSDate(ut)?e.ms2DateTimeLocal(+ut):ut}var rt={data:(M||[]).map(function(ut){var _t=V(ut);return Y&&delete _t.fit,_t})};if(!Y&&(rt.layout=V(S),at)){var st=S._size;rt.layout.computed={margin:{b:st.b,l:st.l,r:st.r,t:st.t}}}return R&&(rt.frames=V(R)),N&&(rt.config=V(H._context,!0)),J==="object"?rt:JSON.stringify(rt)},b.modifyFrames=function(H,Y){var A,J,at,N=H._transitionData._frames,M=H._transitionData._frameHash;for(A=0;A<Y.length;A++)switch(J=Y[A],J.type){case"replace":at=J.value;var S=(N[J.index]||{}).name,R=at.name;N[J.index]=M[R]=at,R!==S&&(delete M[S],M[R]=at);break;case"insert":at=J.value,M[at.name]=at,N.splice(J.index,0,at);break;case"delete":at=N[J.index],delete M[at.name],N.splice(J.index,1);break}return Promise.resolve()},b.computeFrame=function(H,Y){var A=H._transitionData._frameHash,J,at,N,M;if(!Y)throw new Error("computeFrame must be given a string frame name");var S=A[Y.toString()];if(!S)return!1;for(var R=[S],V=[S.name];S.baseframe&&(S=A[S.baseframe.toString()])&&V.indexOf(S.name)===-1;)R.push(S),V.push(S.name);for(var rt={};S=R.pop();)if(S.layout&&(rt.layout=b.extendLayout(rt.layout,S.layout)),S.data){if(rt.data||(rt.data=[]),at=S.traces,!at)for(at=[],J=0;J<S.data.length;J++)at[J]=J;for(rt.traces||(rt.traces=[]),J=0;J<S.data.length;J++)N=at[J],N!=null&&(M=rt.traces.indexOf(N),M===-1&&(M=rt.data.length,rt.traces[M]=N),rt.data[M]=b.extendTrace(rt.data[M],S.data[J]))}return rt},b.recomputeFrameHash=function(H){for(var Y=H._transitionData._frameHash={},A=H._transitionData._frames,J=0;J<A.length;J++){var at=A[J];at&&at.name&&(Y[at.name]=at)}},b.extendObjectWithContainers=function(H,Y,A){var J,at,N,M,S,R,V,rt,st=e.extendDeepNoArrays({},Y||{}),ut=e.expandObjectPaths(st),_t={};if(A&&A.length)for(N=0;N<A.length;N++)J=e.nestedProperty(ut,A[N]),at=J.get(),at===void 0?e.nestedProperty(_t,A[N]).set(null):(J.set(null),e.nestedProperty(_t,A[N]).set(at));if(H=e.extendDeepNoArrays(H||{},ut),A&&A.length){for(N=0;N<A.length;N++)if(S=e.nestedProperty(_t,A[N]),V=S.get(),!!V){for(R=e.nestedProperty(H,A[N]),rt=R.get(),Array.isArray(rt)||(rt=[],R.set(rt)),M=0;M<V.length;M++){var Tt=V[M];Tt===null?rt[M]=null:rt[M]=b.extendObjectWithContainers(rt[M],Tt)}R.set(rt)}}return H},b.dataArrayContainers=["transforms","dimensions"],b.layoutArrayContainers=o.layoutArrayContainers,b.extendTrace=function(H,Y){return b.extendObjectWithContainers(H,Y,b.dataArrayContainers)},b.extendLayout=function(H,Y){return b.extendObjectWithContainers(H,Y,b.layoutArrayContainers)},b.transition=function(H,Y,A,J,at,N){var M={redraw:at.redraw},S={},R=[];return M.prepareFn=function(){for(var V=Array.isArray(Y)?Y.length:0,rt=J.slice(0,V),st=0;st<rt.length;st++){var ut=rt[st],_t=H._fullData[ut],Tt=_t._module;if(Tt){if(Tt.animatable){var Ft=Tt.basePlotModule.name;S[Ft]||(S[Ft]=[]),S[Ft].push(ut)}H.data[rt[st]]=b.extendTrace(H.data[rt[st]],Y[st])}}var Zt=e.expandObjectPaths(e.extendDeepNoArrays({},A)),Bt=/^[xy]axis[0-9]*$/;for(var Rt in Zt)Bt.test(Rt)&&delete Zt[Rt].range;b.extendLayout(H.layout,Zt),delete H.calcdata,b.supplyDefaults(H),b.doCalcdata(H);var pt=e.expandObjectPaths(A);if(pt){var bt=H._fullLayout._plots;for(var lt in bt){var kt=bt[lt],Nt=kt.xaxis,Yt=kt.yaxis,ee=Nt.range.slice(),Xt=Yt.range.slice(),ae=null,oe=null,ie=null,pe=null;Array.isArray(pt[Nt._name+".range"])?ae=pt[Nt._name+".range"].slice():Array.isArray((pt[Nt._name]||{}).range)&&(ae=pt[Nt._name].range.slice()),Array.isArray(pt[Yt._name+".range"])?oe=pt[Yt._name+".range"].slice():Array.isArray((pt[Yt._name]||{}).range)&&(oe=pt[Yt._name].range.slice()),ee&&ae&&(Nt.r2l(ee[0])!==Nt.r2l(ae[0])||Nt.r2l(ee[1])!==Nt.r2l(ae[1]))&&(ie={xr0:ee,xr1:ae}),Xt&&oe&&(Yt.r2l(Xt[0])!==Yt.r2l(oe[0])||Yt.r2l(Xt[1])!==Yt.r2l(oe[1]))&&(pe={yr0:Xt,yr1:oe}),(ie||pe)&&R.push(e.extendFlat({plotinfo:kt},ie,pe))}}return Promise.resolve()},M.runFn=function(V){var rt,st=H._fullLayout._basePlotModules,ut=R.length,_t;if(A)for(_t=0;_t<st.length;_t++)st[_t].transitionAxes&&st[_t].transitionAxes(H,R,N,V);ut?(rt=e.extendFlat({},N),rt.duration=0,delete S.cartesian):rt=N;for(var Tt in S){var Ft=S[Tt],Zt=H._fullData[Ft[0]]._module;Zt.basePlotModule.plot(H,Ft,rt,V)}},nt(H,N,M)},b.transitionFromReact=function(H,Y,A,J){var at=H._fullLayout,N=at.transition,M={},S=[];return M.prepareFn=function(){var R=at._plots;M.redraw=!1,Y.anim==="some"&&(M.redraw=!0),A.anim==="some"&&(M.redraw=!0);for(var V in R){var rt=R[V],st=rt.xaxis,ut=rt.yaxis,_t=J[st._name].range.slice(),Tt=J[ut._name].range.slice(),Ft=st.range.slice(),Zt=ut.range.slice();st.setScale(),ut.setScale();var Bt=null,Rt=null;(st.r2l(_t[0])!==st.r2l(Ft[0])||st.r2l(_t[1])!==st.r2l(Ft[1]))&&(Bt={xr0:_t,xr1:Ft}),(ut.r2l(Tt[0])!==ut.r2l(Zt[0])||ut.r2l(Tt[1])!==ut.r2l(Zt[1]))&&(Rt={yr0:Tt,yr1:Zt}),(Bt||Rt)&&S.push(e.extendFlat({plotinfo:rt},Bt,Rt))}return Promise.resolve()},M.runFn=function(R){for(var V=H._fullData,rt=H._fullLayout,st=rt._basePlotModules,ut,_t,Tt,Ft=[],Zt=0;Zt<V.length;Zt++)Ft.push(Zt);function Bt(){if(H._fullLayout)for(var pt=0;pt<st.length;pt++)st[pt].transitionAxes&&st[pt].transitionAxes(H,S,ut,R)}function Rt(){if(H._fullLayout)for(var pt=0;pt<st.length;pt++)st[pt].plot(H,Tt,_t,R)}S.length&&Y.anim?N.ordering==="traces first"?(ut=e.extendFlat({},N,{duration:0}),Tt=Ft,_t=N,setTimeout(Bt,N.duration),Rt()):(ut=N,Tt=null,_t=e.extendFlat({},N,{duration:0}),setTimeout(Rt,ut.duration),Bt()):S.length?(ut=N,Bt()):Y.anim&&(Tt=Ft,_t=N,Rt())},nt(H,N,M)};function nt(H,Y,A){var J=!1;function at(st){var ut=Promise.resolve();if(!st)return ut;for(;st.length;)ut=ut.then(st.shift());return ut}function N(st){if(st)for(;st.length;)st.shift()}function M(){return H.emit("plotly_transitioning",[]),new Promise(function(st){H._transitioning=!0,Y.duration>0&&(H._transitioningWithDuration=!0),H._transitionData._interruptCallbacks.push(function(){J=!0}),A.redraw&&H._transitionData._interruptCallbacks.push(function(){return o.call("redraw",H)}),H._transitionData._interruptCallbacks.push(function(){H.emit("plotly_transitioninterrupted",[])});var ut=0,_t=0;function Tt(){return ut++,function(){_t++,!J&&_t===ut&&S(st)}}A.runFn(Tt),setTimeout(Tt())})}function S(st){if(H._transitionData)return N(H._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(A.redraw)return o.call("redraw",H)}).then(function(){H._transitioning=!1,H._transitioningWithDuration=!1,H.emit("plotly_transitioned",[])}).then(st)}function R(){if(H._transitionData)return H._transitioning=!1,at(H._transitionData._interruptCallbacks)}var V=[b.previousPromises,R,A.prepareFn,b.rehover,b.reselect,M],rt=e.syncOrAsync(V,H);return(!rt||!rt.then)&&(rt=Promise.resolve()),rt.then(function(){return H})}b.doCalcdata=function(H,Y){var A=h.list(H),J=H._fullData,at=H._fullLayout,N,M,S,R,V=new Array(J.length),rt=(H.calcdata||[]).slice();for(H.calcdata=V,at._numBoxes=0,at._numViolins=0,at._violinScaleGroupStats={},H._hmpixcount=0,H._hmlumcount=0,at._piecolormap={},at._sunburstcolormap={},at._treemapcolormap={},at._iciclecolormap={},at._funnelareacolormap={},S=0;S<J.length;S++)if(Array.isArray(Y)&&Y.indexOf(S)===-1){V[S]=rt[S];continue}for(S=0;S<J.length;S++)N=J[S],N._arrayAttrs=s.findArrayAttributes(N),N._extremes={};var st=at._subplots.polar||[];for(S=0;S<st.length;S++)A.push(at[st[S]].radialaxis,at[st[S]].angularaxis);for(var ut in at._colorAxes){var _t=at[ut];_t.cauto!==!1&&(delete _t.cmin,delete _t.cmax)}var Tt=!1;function Ft(Rt){if(N=J[Rt],M=N._module,N.visible===!0&&N.transforms){if(M&&M.calc){var pt=M.calc(H,N);pt[0]&&pt[0].t&&pt[0].t._scene&&delete pt[0].t._scene.dirty}for(R=0;R<N.transforms.length;R++){var bt=N.transforms[R];M=transformsRegistry[bt.type],M&&M.calcTransform&&(N._hasCalcTransform=!0,Tt=!0,M.calcTransform(H,N,bt))}}}function Zt(Rt,pt){if(N=J[Rt],M=N._module,!!M.isContainer===pt){var bt=[];if(N.visible===!0&&N._length!==0){delete N._indexToPoints;var lt=N.transforms||[];for(R=lt.length-1;R>=0;R--)if(lt[R].enabled){N._indexToPoints=lt[R]._indexToPoints;break}M&&M.calc&&(bt=M.calc(H,N))}(!Array.isArray(bt)||!bt[0])&&(bt=[{x:u,y:u}]),bt[0].t||(bt[0].t={}),bt[0].trace=N,V[Rt]=bt}}for(ht(A,J,at),S=0;S<J.length;S++)Zt(S,!0);for(S=0;S<J.length;S++)Ft(S);for(Tt&&ht(A,J,at),S=0;S<J.length;S++)Zt(S,!0);for(S=0;S<J.length;S++)Zt(S,!1);xt(H);var Bt=dt(A,H);if(Bt.length){for(at._numBoxes=0,at._numViolins=0,S=0;S<Bt.length;S++)Zt(Bt[S],!0);for(S=0;S<Bt.length;S++)Zt(Bt[S],!1);xt(H)}o.getComponentMethod("fx","calc")(H),o.getComponentMethod("errorbars","calc")(H)};var ot=/(total|sum|min|max|mean|geometric mean|median) (ascending|descending)/;function dt(H,Y){var A=[],J,at,N,M,S;function R(ve,Me,mt){var Lt=Me._id.charAt(0);if(ve==="histogram2dcontour"){var At=Me._counterAxes[0],Q=h.getFromId(Y,At),ft=Lt==="x"||At==="x"&&Q.type==="category",yt=Lt==="y"||At==="y"&&Q.type==="category";return function(gt,It){return gt===0||It===0||ft&&gt===mt[It].length-1||yt&&It===mt.length-1?-1:(Lt==="y"?It:gt)-1}}else return function(gt,It){return Lt==="y"?It:gt}}var V={min:function(ve){return e.aggNums(Math.min,null,ve)},max:function(ve){return e.aggNums(Math.max,null,ve)},sum:function(ve){return e.aggNums(function(Me,mt){return Me+mt},null,ve)},total:function(ve){return e.aggNums(function(Me,mt){return Me+mt},null,ve)},mean:function(ve){return e.mean(ve)},"geometric mean":function(ve){return e.geometricMean(ve)},median:function(ve){return e.median(ve)}};function rt(ve,Me){return ve[1]-Me[1]}function st(ve,Me){return Me[1]-ve[1]}for(J=0;J<H.length;J++){var ut=H[J];if(ut.type==="category"){var _t=ut.categoryorder.match(ot);if(_t){var Tt=_t[1],Ft=_t[2],Zt=ut._id.charAt(0),Bt=Zt==="x",Rt=[];for(at=0;at<ut._categories.length;at++)Rt.push([ut._categories[at],[]]);for(at=0;at<ut._traceIndices.length;at++){var pt=ut._traceIndices[at],bt=Y._fullData[pt];if(bt.visible===!0){var lt=bt.type;o.traceIs(bt,"histogram")&&(delete bt._xautoBinFinished,delete bt._yautoBinFinished);var kt=lt==="splom",Nt=lt==="scattergl",Yt=Y.calcdata[pt];for(N=0;N<Yt.length;N++){var ee=Yt[N],Xt,ae;if(kt){var oe=bt._axesDim[ut._id];if(!Bt){var ie=bt._diag[oe][0];ie&&(ut=Y._fullLayout[h.id2name(ie)])}var pe=ee.trace.dimensions[oe].values;for(M=0;M<pe.length;M++)for(Xt=ut._categoriesMap[pe[M]],S=0;S<ee.trace.dimensions.length;S++)if(S!==oe){var $t=ee.trace.dimensions[S];Rt[Xt][1].push($t.values[M])}}else if(Nt){for(M=0;M<ee.t.x.length;M++)Bt?(Xt=ee.t.x[M],ae=ee.t.y[M]):(Xt=ee.t.y[M],ae=ee.t.x[M]),Rt[Xt][1].push(ae);ee.t&&ee.t._scene&&delete ee.t._scene.dirty}else if(ee.hasOwnProperty("z")){ae=ee.z;var me=R(bt.type,ut,ae);for(M=0;M<ae.length;M++)for(S=0;S<ae[M].length;S++)Xt=me(S,M),Xt+1&&Rt[Xt][1].push(ae[M][S])}else for(Xt=ee.p,Xt===void 0&&(Xt=ee[Zt]),ae=ee.s,ae===void 0&&(ae=ee.v),ae===void 0&&(ae=Bt?ee.y:ee.x),Array.isArray(ae)||(ae===void 0?ae=[]:ae=[ae]),M=0;M<ae.length;M++)Rt[Xt][1].push(ae[M])}}}ut._categoriesValue=Rt;var we=[];for(at=0;at<Rt.length;at++)we.push([Rt[at][0],V[Tt](Rt[at][1])]);we.sort(Ft==="descending"?st:rt),ut._categoriesAggregatedValue=we,ut._initialCategories=we.map(function(ve){return ve[0]}),A=A.concat(ut.sortByInitialCategories())}}}return A}function ht(H,Y,A){var J={};function at(R){R.clearCalc(),R.type==="multicategory"&&R.setupMultiCategory(Y),J[R._id]=1}e.simpleMap(H,at);for(var N=A._axisMatchGroups||[],M=0;M<N.length;M++)for(var S in N[M])J[S]||at(A[h.id2name(S)])}function xt(H){var Y=H._fullLayout,A=Y._visibleModules,J={},at,N,M;for(N=0;N<A.length;N++){var S=A[N],R=S.crossTraceCalc;if(R){var V=S.basePlotModule.name;J[V]?e.pushUnique(J[V],R):J[V]=[R]}}for(M in J){var rt=J[M],st=Y._subplots[M];if(Array.isArray(st))for(at=0;at<st.length;at++){var ut=st[at],_t=M==="cartesian"?Y._plots[ut]:Y[ut];for(N=0;N<rt.length;N++)rt[N](H,_t,ut)}else for(N=0;N<rt.length;N++)rt[N](H)}}b.rehover=function(H){H._fullLayout._rehover&&H._fullLayout._rehover()},b.redrag=function(H){H._fullLayout._redrag&&H._fullLayout._redrag()},b.reselect=function(H){var Y=H._fullLayout,A=(H.layout||{}).selections,J=Y._previousSelections;Y._previousSelections=A;var at=Y._reselect||JSON.stringify(A)!==JSON.stringify(J);o.getComponentMethod("selections","reselect")(H,at)},b.generalUpdatePerTraceModule=function(H,Y,A,J){var at=Y.traceHash,N={},M;for(M=0;M<A.length;M++){var S=A[M],R=S[0].trace;R.visible&&(N[R.type]=N[R.type]||[],N[R.type].push(S))}for(var V in at)if(!N[V]){var rt=at[V][0],st=rt[0].trace;st.visible=!1,N[V]=[rt]}for(var ut in N){var _t=N[ut],Tt=_t[0][0].trace._module;Tt.plot(H,Y,e.filterVisible(_t),J)}Y.traceHash=N},b.plotBasePlot=function(H,Y,A,J,at){var N=o.getModule(H),M=p(Y.calcdata,N)[0];N.plot(Y,M,J,at)},b.cleanBasePlot=function(H,Y,A,J,at){var N=at._has&&at._has(H),M=A._has&&A._has(H);N&&!M&&at["_"+H+"layer"].selectAll("g.trace").remove()}}),Tr=Ct(F=>{F.xmlns="http://www.w3.org/2000/xmlns/",F.svg="http://www.w3.org/2000/svg",F.xlink="http://www.w3.org/1999/xlink",F.svgAttrs={xmlns:F.svg,"xmlns:xlink":F.xlink}}),ka=Ct((F,C)=>{C.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}}),xa=Ct(F=>{var C=wn(),r=De(),t=r.strTranslate,n=Tr(),l=ka().LINE_SPACING,i=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;F.convertToTspans=function(D,W,X){var it=D.text(),nt=!D.attr("data-notex")&&W&&W._context.typesetMath&&typeof MathJax<"u"&&it.match(i),ot=C.select(D.node().parentNode);if(ot.empty())return;var dt=D.attr("class")?D.attr("class").split(" ")[0]:"text";dt+="-math",ot.selectAll("svg."+dt).remove(),ot.selectAll("g."+dt+"-group").remove(),D.style("display",null).attr({"data-unformatted":it,"data-math":"N"});function ht(){ot.empty()||(dt=D.attr("class")+"-math",ot.select("svg."+dt).remove()),D.text("").style("white-space","pre");var xt=z(D.node(),it);xt&&D.style("pointer-events","all"),F.positionText(D),X&&X.call(D)}return nt?(W&&W._promises||[]).push(new Promise(function(xt){D.style("display","none");var H=parseInt(D.node().style.fontSize,10),Y={fontSize:H};v(nt[2],Y,function(A,J,at){ot.selectAll("svg."+dt).remove(),ot.selectAll("g."+dt+"-group").remove();var N=A&&A.select("svg");if(!N||!N.node()){ht(),xt();return}var M=ot.append("g").classed(dt+"-group",!0).attr({"pointer-events":"none","data-unformatted":it,"data-math":"Y"});M.node().appendChild(N.node()),J&&J.node()&&N.node().insertBefore(J.node().cloneNode(!0),N.node().firstChild);var S=at.width,R=at.height;N.attr({class:dt,height:R,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var V=D.node().style.fill||"black",rt=N.select("g");rt.attr({fill:V,stroke:V});var st=rt.node().getBoundingClientRect(),ut=st.width,_t=st.height;(ut>S||_t>R)&&(N.style("overflow","hidden"),st=N.node().getBoundingClientRect(),ut=st.width,_t=st.height);var Tt=+D.attr("x"),Ft=+D.attr("y"),Zt=H||D.node().getBoundingClientRect().height,Bt=-Zt/4;if(dt[0]==="y")M.attr({transform:"rotate("+[-90,Tt,Ft]+")"+t(-ut/2,Bt-_t/2)});else if(dt[0]==="l")Ft=Bt-_t/2;else if(dt[0]==="a"&&dt.indexOf("atitle")!==0)Tt=0,Ft=Bt;else{var Rt=D.attr("text-anchor");Tt=Tt-ut*(Rt==="middle"?.5:Rt==="end"?1:0),Ft=Ft+Bt-_t/2}N.attr({x:Tt,y:Ft}),X&&X.call(D,M),xt(M)})})):ht(),D};var o=/(<|&lt;|&#60;)/g,s=/(>|&gt;|&#62;)/g;function f(D){return D.replace(o,"\\lt ").replace(s,"\\gt ")}var e=[["$","$"],["\\(","\\)"]];function v(D,W,X){var it=parseInt((MathJax.version||"").split(".")[0]);if(it!==2&&it!==3){r.warn("No MathJax version:",MathJax.version);return}var nt,ot,dt,ht,xt=function(){return ot=r.extendDeepAll({},MathJax.Hub.config),dt=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:e},displayAlign:"left"})},H=function(){ot=r.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=e},Y=function(){if(nt=MathJax.Hub.config.menuSettings.renderer,nt!=="SVG")return MathJax.Hub.setRenderer("SVG")},A=function(){nt=MathJax.config.startup.output,nt!=="svg"&&(MathJax.config.startup.output="svg")},J=function(){var V="math-output-"+r.randstr({},64);ht=C.select("body").append("div").attr({id:V}).style({visibility:"hidden",position:"absolute","font-size":W.fontSize+"px"}).text(f(D));var rt=ht.node();return it===2?MathJax.Hub.Typeset(rt):MathJax.typeset([rt])},at=function(){var V=ht.select(it===2?".MathJax_SVG":".MathJax"),rt=!V.empty()&&ht.select("svg").node();if(!rt)r.log("There was an error in the tex syntax.",D),X();else{var st=rt.getBoundingClientRect(),ut;it===2?ut=C.select("body").select("#MathJax_SVG_glyphs"):ut=V.select("defs"),X(V,ut,st)}ht.remove()},N=function(){if(nt!=="SVG")return MathJax.Hub.setRenderer(nt)},M=function(){nt!=="svg"&&(MathJax.config.startup.output=nt)},S=function(){return dt!==void 0&&(MathJax.Hub.processSectionDelay=dt),MathJax.Hub.Config(ot)},R=function(){MathJax.config=ot};it===2?MathJax.Hub.Queue(xt,Y,J,at,N,S):it===3&&(H(),A(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){J(),at(),M(),R()}))}var u={sup:"font-size:70%",sub:"font-size:70%",s:"text-decoration:line-through",u:"text-decoration:underline",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},h={sub:"0.3em",sup:"-0.6em"},_={sub:"-0.21em",sup:"0.42em"},m="",g=["http:","https:","mailto:","",void 0,":"],y=F.NEWLINES=/(\r\n?|\n)/g,p=/(<[^<>]*>)/,c=/<(\/?)([^ >]*)(\s+(.*))?>/i,d=/<br(\s+.*)?>/i;F.BR_TAG_ALL=/<br(\s+.*)?>/gi;var b=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,w=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,k=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,$=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function P(D,W){if(!D)return null;var X=D.match(W),it=X&&(X[3]||X[4]);return it&&I(it)}var O=/(^|;)\s*color:/;F.plainText=function(D,W){W=W||{};for(var X=W.len!==void 0&&W.len!==-1?W.len:1/0,it=W.allowedTags!==void 0?W.allowedTags:["br"],nt="...",ot=nt.length,dt=D.split(p),ht=[],xt="",H=0,Y=0;Y<dt.length;Y++){var A=dt[Y],J=A.match(c),at=J&&J[2].toLowerCase();if(at)it.indexOf(at)!==-1&&(ht.push(A),xt=at);else{var N=A.length;if(H+N<X)ht.push(A),H+=N;else if(H<X){var M=X-H;xt&&(xt!=="br"||M<=ot||N<=ot)&&ht.pop(),X>ot?ht.push(A.substr(0,M-ot)+nt):ht.push(A.substr(0,M));break}xt=""}}return ht.join("")};var T={mu:"",amp:"&",lt:"<",gt:">",nbsp:"",times:"",plusmn:"",deg:""},G=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function I(D){return D.replace(G,function(W,X){var it;return X.charAt(0)==="#"?it=E(X.charAt(1)==="x"?parseInt(X.substr(2),16):parseInt(X.substr(1),10)):it=T[X],it||W})}F.convertEntities=I;function E(D){if(!(D>1114111)){var W=String.fromCodePoint;if(W)return W(D);var X=String.fromCharCode;return D<=65535?X(D):X((D>>10)+55232,D%1024+56320)}}function z(D,W){W=W.replace(y," ");var X=!1,it=[],nt,ot=-1;function dt(){ot++;var _t=document.createElementNS(n.svg,"tspan");C.select(_t).attr({class:"line",dy:ot*l+"em"}),D.appendChild(_t),nt=_t;var Tt=it;if(it=[{node:_t}],Tt.length>1)for(var Ft=1;Ft<Tt.length;Ft++)ht(Tt[Ft])}function ht(_t){var Tt=_t.type,Ft={},Zt;if(Tt==="a"){Zt="a";var Bt=_t.target,Rt=_t.href,pt=_t.popup;Rt&&(Ft={"xlink:xlink:show":Bt==="_blank"||Bt.charAt(0)!=="_"?"new":"replace",target:Bt,"xlink:xlink:href":Rt},pt&&(Ft.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+pt+'");return false;'))}else Zt="tspan";_t.style&&(Ft.style=_t.style);var bt=document.createElementNS(n.svg,Zt);if(Tt==="sup"||Tt==="sub"){xt(nt,m),nt.appendChild(bt);var lt=document.createElementNS(n.svg,"tspan");xt(lt,m),C.select(lt).attr("dy",_[Tt]),Ft.dy=h[Tt],nt.appendChild(bt),nt.appendChild(lt)}else nt.appendChild(bt);C.select(bt).attr(Ft),nt=_t.node=bt,it.push(_t)}function xt(_t,Tt){_t.appendChild(document.createTextNode(Tt))}function H(_t){if(it.length===1){r.log("Ignoring unexpected end tag </"+_t+">.",W);return}var Tt=it.pop();_t!==Tt.type&&r.log("Start tag <"+Tt.type+"> doesnt match end tag <"+_t+">. Pretending it did match.",W),nt=it[it.length-1].node}var Y=d.test(W);Y?dt():(nt=D,it=[{node:D}]);for(var A=W.split(p),J=0;J<A.length;J++){var at=A[J],N=at.match(c),M=N&&N[2].toLowerCase(),S=u[M];if(M==="br")dt();else if(S===void 0)xt(nt,I(at));else if(N[1])H(M);else{var R=N[4],V={type:M},rt=P(R,b);if(rt?(rt=rt.replace(O,"$1 fill:"),S&&(rt+=";"+S)):S&&(rt=S),rt&&(V.style=rt),M==="a"){X=!0;var st=P(R,w);if(st){var ut=j(st);ut&&(V.href=ut,V.target=P(R,k)||"_blank",V.popup=P(R,$))}}ht(V)}}return X}function j(D){var W=encodeURI(decodeURI(D)),X=document.createElement("a"),it=document.createElement("a");X.href=D,it.href=W;var nt=X.protocol,ot=it.protocol;return g.indexOf(nt)!==-1&&g.indexOf(ot)!==-1?W:""}F.sanitizeHTML=function(D){D=D.replace(y," ");for(var W=document.createElement("p"),X=W,it=[],nt=D.split(p),ot=0;ot<nt.length;ot++){var dt=nt[ot],ht=dt.match(c),xt=ht&&ht[2].toLowerCase();if(xt in u)if(ht[1])it.length&&(X=it.pop());else{var H=ht[4],Y=P(H,b),A=Y?{style:Y}:{};if(xt==="a"){var J=P(H,w);if(J){var at=j(J);if(at){A.href=at;var N=P(H,k);N&&(A.target=N)}}}var M=document.createElement(xt);X.appendChild(M),C.select(M).attr(A),X=M,it.push(M)}else X.appendChild(document.createTextNode(I(dt)))}var S="innerHTML";return W[S]},F.lineCount=function(D){return D.selectAll("tspan.line").size()||1},F.positionText=function(D,W,X){return D.each(function(){var it=C.select(this);function nt(ht,xt){return xt===void 0?(xt=it.attr(ht),xt===null&&(it.attr(ht,0),xt=0)):it.attr(ht,xt),xt}var ot=nt("x",W),dt=nt("y",X);this.nodeName==="text"&&it.selectAll("tspan.line").attr({x:ot,y:dt})})};function U(D,W,X){var it=X.horizontalAlign,nt=X.verticalAlign||"top",ot=D.node().getBoundingClientRect(),dt=W.node().getBoundingClientRect(),ht,xt,H;return nt==="bottom"?xt=function(){return ot.bottom-ht.height}:nt==="middle"?xt=function(){return ot.top+(ot.height-ht.height)/2}:xt=function(){return ot.top},it==="right"?H=function(){return ot.right-ht.width}:it==="center"?H=function(){return ot.left+(ot.width-ht.width)/2}:H=function(){return ot.left},function(){ht=this.node().getBoundingClientRect();var Y=H()-dt.left,A=xt()-dt.top,J=X.gd||{};if(X.gd){J._fullLayout._calcInverseTransform(J);var at=r.apply3DTransform(J._fullLayout._invTransform)(Y,A);Y=at[0],A=at[1]}return this.style({top:A+"px",left:Y+"px","z-index":1e3}),this}}var Z="1px ";F.makeTextShadow=function(D){var W=Z,X=Z,it=Z;return W+X+it+D+", -"+W+"-"+X+it+D+", "+W+"-"+X+it+D+", -"+W+X+it+D},F.makeEditable=function(D,W){var X=W.gd,it=W.delegate,nt=C.dispatch("edit","input","cancel"),ot=it||D;if(D.style({"pointer-events":it?"none":"all"}),D.size()!==1)throw new Error("boo");function dt(){xt(),D.style({opacity:0});var H=ot.attr("class"),Y;H?Y="."+H.split(" ")[0]+"-math-group":Y="[class*=-math-group]",Y&&C.select(D.node().parentNode).select(Y).style({opacity:0})}function ht(H){var Y=H.node(),A=document.createRange();A.selectNodeContents(Y);var J=window.getSelection();J.removeAllRanges(),J.addRange(A),Y.focus()}function xt(){var H=C.select(X),Y=H.select(".svg-container"),A=Y.append("div"),J=D.node().style,at=parseFloat(J.fontSize||12),N=W.text;N===void 0&&(N=D.attr("data-unformatted")),A.classed("plugin-editable editable",!0).style({position:"absolute","font-family":J.fontFamily||"Arial","font-size":at,color:W.fill||J.fill||"black",opacity:1,"background-color":W.background||"transparent",outline:"#ffffff33 1px solid",margin:[-at/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(N).call(U(D,Y,W)).on("blur",function(){X._editing=!1,D.text(this.textContent).style({opacity:1});var M=C.select(this).attr("class"),S;M?S="."+M.split(" ")[0]+"-math-group":S="[class*=-math-group]",S&&C.select(D.node().parentNode).select(S).style({opacity:0});var R=this.textContent;C.select(this).transition().duration(0).remove(),C.select(document).on("mouseup",null),nt.edit.call(D,R)}).on("focus",function(){var M=this;X._editing=!0,C.select(document).on("mouseup",function(){if(C.event.target===M)return!1;document.activeElement===A.node()&&A.node().blur()})}).on("keyup",function(){C.event.which===27?(X._editing=!1,D.style({opacity:1}),C.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),nt.cancel.call(D,this.textContent)):(nt.input.call(D,this.textContent),C.select(this).call(U(D,Y,W)))}).on("keydown",function(){C.event.which===13&&this.blur()}).call(ht)}return W.immediate?dt():ot.on("click",dt),C.rebind(D,nt,"on")}}),Ea=Ct((F,C)=>{var r=wn(),t=Ra(),n=Mn(),l=De(),i=bn(),o=_r().isValid;function s(y,p,c){var d=p?l.nestedProperty(y,p).get()||{}:y,b=d[c||"color"];b&&b._inputArray&&(b=b._inputArray);var w=!1;if(l.isArrayOrTypedArray(b)){for(var k=0;k<b.length;k++)if(n(b[k])){w=!0;break}}return l.isPlainObject(d)&&(w||d.showscale===!0||n(d.cmin)&&n(d.cmax)||o(d.colorscale)||l.isPlainObject(d.colorbar))}var f=["showscale","autocolorscale","colorscale","reversescale","colorbar"],e=["min","max","mid","auto"];function v(y){var p=y._colorAx,c=p||y,d={},b,w,k;for(w=0;w<f.length;w++)k=f[w],d[k]=c[k];if(p)for(b="c",w=0;w<e.length;w++)k=e[w],d[k]=c["c"+k];else{var $;for(w=0;w<e.length;w++){if(k=e[w],$="c"+k,$ in c){d[k]=c[$];continue}$="z"+k,$ in c&&(d[k]=c[$])}b=$.charAt(0)}return d._sync=function(P,O){var T=e.indexOf(P)!==-1?b+P:P;c[T]=c["_"+T]=O},d}function u(y){for(var p=v(y),c=p.min,d=p.max,b=p.reversescale?h(p.colorscale):p.colorscale,w=b.length,k=new Array(w),$=new Array(w),P=0;P<w;P++){var O=b[P];k[P]=c+O[0]*(d-c),$[P]=O[1]}return{domain:k,range:$}}function h(y){for(var p=y.length,c=new Array(p),d=p-1,b=0;d>=0;d--,b++){var w=y[d];c[b]=[1-w[0],w[1]]}return c}function _(y,p){p=p||{};for(var c=y.domain,d=y.range,b=d.length,w=new Array(b),k=0;k<b;k++){var $=t(d[k]).toRgb();w[k]=[$.r,$.g,$.b,$.a]}var P=r.scale.linear().domain(c).range(w).clamp(!0),O=p.noNumericCheck,T=p.returnArray,G;return O&&T?G=P:O?G=function(I){return g(P(I))}:T?G=function(I){return n(I)?P(I):t(I).isValid()?I:i.defaultLine}:G=function(I){return n(I)?g(P(I)):t(I).isValid()?I:i.defaultLine},G.domain=P.domain,G.range=function(){return d},G}function m(y,p){return _(u(y),p)}function g(y){var p={r:y[0],g:y[1],b:y[2],a:y[3]};return t(p).toRgbString()}C.exports={hasColorscale:s,extractOpts:v,extractScale:u,flipScale:h,makeColorScaleFunc:_,makeColorScaleFuncFromTrace:m}}),Fi=Ct((F,C)=>{var r=Bo(),t=r.FORMAT_LINK,n=r.DATE_FORMAT_LINK;function l(s,f){return{valType:"string",dflt:"",editType:"none",description:(f?i:o)("hover text",s)+["By default the values are formatted using "+(f?"generic number format":"`"+s+"axis.hoverformat`")+"."].join(" ")}}function i(s,f){return["Sets the "+s+" formatting rule"+(f?"for `"+f+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+t+"."].join(" ")}function o(s,f){return i(s,f)+[" And for dates see: "+n+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}C.exports={axisHoverFormat:l,descriptionOnlyNumbers:i,descriptionWithDates:o}}),Va=Ct((F,C)=>{var r=ha(),t=Xa(),n=$a().dash,l=la().extendFlat,i=Bn().templatedArray;Qa().templateFormatStringDescription;var o=Fi().descriptionWithDates,s=oa().ONEDAY,f=pa(),e=f.HOUR_PATTERN,v=f.WEEKDAY_PATTERN,u={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},h=l({},u,{values:u.values.slice().concat(["sync"])});function _(O){return{valType:"integer",min:0,dflt:O?5:0,editType:"ticks"}}var m={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},g={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},y={valType:"data_array",editType:"ticks"},p={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function c(O){var T={valType:"number",min:0,editType:"ticks"};return O||(T.dflt=5),T}function d(O){var T={valType:"number",min:0,editType:"ticks"};return O||(T.dflt=1),T}var b={valType:"color",dflt:t.defaultLine,editType:"ticks"},w={valType:"color",dflt:t.lightLine,editType:"ticks"};function k(O){var T={valType:"number",min:0,editType:"ticks"};return O||(T.dflt=1),T}var $=l({},n,{editType:"ticks"}),P={valType:"boolean",editType:"ticks"};C.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:t.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:r({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},modebardisable:{valType:"flaglist",flags:["autoscale","zoominout"],extras:["none"],dflt:"none",editType:"modebar"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[f.idRegex.x.toString(),f.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[f.idRegex.x.toString(),f.idRegex.y.toString()],editType:"calc"},rangebreaks:i("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[v,e,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:s},editType:"calc"}),tickmode:h,nticks:_(),tick0:m,dtick:g,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:y,ticktext:{valType:"data_array",editType:"ticks"},ticks:p,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},ticklabelshift:{valType:"integer",dflt:0,editType:"ticks"},ticklabelstandoff:{valType:"integer",dflt:0,editType:"ticks"},ticklabelindex:{valType:"integer",arrayOk:!0,editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:c(),tickwidth:d(),tickcolor:b,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:l({},n,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:r({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:o("tick label")},tickformatstops:i("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:o("hover text")},unifiedhovertitle:{text:{valType:"string",dflt:"",editType:"none"},editType:"none"},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:t.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:P,gridcolor:w,gridwidth:k(),griddash:$,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:t.defaultLine,editType:"ticks"},zerolinelayer:{valType:"enumerated",values:["above traces","below traces"],dflt:"below traces",editType:"plot"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:t.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",f.idRegex.x.toString(),f.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",f.idRegex.x.toString(),f.idRegex.y.toString()],editType:"plot"},minor:{tickmode:u,nticks:_("minor"),tick0:m,dtick:g,tickvals:y,ticks:p,ticklen:c("minor"),tickwidth:d("minor"),tickcolor:b,gridcolor:w,gridwidth:k("minor"),griddash:$,showgrid:P,editType:"ticks"},minorloglabels:{valType:"enumerated",values:["small digits","complete","none"],dflt:"small digits",editType:"calc"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","geometric mean ascending","geometric mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc"}}),Ni=Ct((F,C)=>{var r=Va(),t=ha(),n=la().extendFlat,l=qa().overrideAll;C.exports=l({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:r.linecolor,outlinewidth:r.linewidth,bordercolor:r.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:r.minor.tickmode,nticks:r.nticks,tick0:r.tick0,dtick:r.dtick,tickvals:r.tickvals,ticktext:r.ticktext,ticks:n({},r.ticks,{dflt:""}),ticklabeloverflow:n({},r.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:r.ticklen,tickwidth:r.tickwidth,tickcolor:r.tickcolor,ticklabelstep:r.ticklabelstep,showticklabels:r.showticklabels,labelalias:r.labelalias,tickfont:t({}),tickangle:r.tickangle,tickformat:r.tickformat,tickformatstops:r.tickformatstops,tickprefix:r.tickprefix,showtickprefix:r.showtickprefix,ticksuffix:r.ticksuffix,showticksuffix:r.showticksuffix,separatethousands:r.separatethousands,exponentformat:r.exponentformat,minexponent:r.minexponent,showexponent:r.showexponent,title:{text:{valType:"string"},font:t({}),side:{valType:"enumerated",values:["right","top","bottom"]}}},"colorbars","from-root")}),Xr=Ct((F,C)=>{var r=Ni(),t=Fr().counter,n=Uo(),l=_r().scales;n(l);function i(o){return"`"+o+"`"}C.exports=function(o,s){o=o||"",s=s||{};var f=s.cLetter||"c";"onlyIfNumerical"in s&&s.onlyIfNumerical;var e="noScale"in s?s.noScale:o==="marker.line",v="showScaleDflt"in s?s.showScaleDflt:f==="z",u=typeof s.colorscaleDflt=="string"?l[s.colorscaleDflt]:null,h=s.editTypeOverride||"",_=o?o+".":"",m;"colorAttr"in s?(m=s.colorAttr,s.colorAttr):(m={z:"z",c:"color"}[f],""+i(_+m));var g=f+"auto",y=f+"min",p=f+"max",c=f+"mid",d={};d[y]=d[p]=void 0;var b={};b[g]=!1;var w={};return m==="color"&&(w.color={valType:"color",arrayOk:!0,editType:h||"style"},s.anim&&(w.color.anim=!0)),w[g]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:d},w[y]={valType:"number",dflt:null,editType:h||"plot",impliedEdits:b},w[p]={valType:"number",dflt:null,editType:h||"plot",impliedEdits:b},w[c]={valType:"number",dflt:null,editType:"calc",impliedEdits:d},w.colorscale={valType:"colorscale",editType:"calc",dflt:u,impliedEdits:{autocolorscale:!1}},w.autocolorscale={valType:"boolean",dflt:s.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},w.reversescale={valType:"boolean",dflt:!1,editType:"plot"},e||(w.showscale={valType:"boolean",dflt:v,editType:"calc"},w.colorbar=r),s.noColorAxis||(w.coloraxis={valType:"subplotid",regex:t("coloraxis"),dflt:null,editType:"calc"}),w}}),Xo=Ct((F,C)=>{var r=la().extendFlat,t=Xr(),n=_r().scales;C.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:n.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:n.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:n.RdBu,editType:"calc"}},coloraxis:r({_isSubplotObj:!0,editType:"calc"},t("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}}),qo=Ct((F,C)=>{var r=De();C.exports=function(t){return r.isPlainObject(t.colorbar)}}),$o=Ct(F=>{var C=Mn(),r=De(),t=oa(),n=t.ONEDAY,l=t.ONEWEEK;F.dtick=function(i,o){var s=o==="log",f=o==="date",e=o==="category",v=f?n:1;if(!i)return v;if(C(i))return i=Number(i),i<=0?v:e?Math.max(1,Math.round(i)):f?Math.max(.1,i):i;if(typeof i!="string"||!(f||s))return v;var u=i.charAt(0),h=i.substr(1);return h=C(h)?Number(h):0,h<=0||!(f&&u==="M"&&h===Math.round(h)||s&&u==="L"||s&&u==="D"&&(h===1||h===2))?v:i},F.tick0=function(i,o,s,f){if(o==="date")return r.cleanDate(i,r.dateTick0(s,f%l===0?1:0));if(!(f==="D1"||f==="D2"))return C(i)?Number(i):0}}),Qo=Ct((F,C)=>{var r=$o(),t=De().isArrayOrTypedArray,n=Ca().isTypedArraySpec,l=Ca().decodeTypedArraySpec;C.exports=function(i,o,s,f,e){e||(e={});var v=e.isMinor,u=v?i.minor||{}:i,h=v?o.minor:o,_=v?"minor.":"";function m(k){var $=u[k];return n($)&&($=l($)),$!==void 0?$:(h._template||{})[k]}var g=m("tick0"),y=m("dtick"),p=m("tickvals"),c=t(p)?"array":y?"linear":"auto",d=s(_+"tickmode",c);if(d==="auto"||d==="sync")s(_+"nticks");else if(d==="linear"){var b=h.dtick=r.dtick(y,f);h.tick0=r.tick0(g,f,o.calendar,b)}else if(f!=="multicategory"){var w=s(_+"tickvals");w===void 0?h.tickmode="auto":v||s("ticktext")}}}),Ko=Ct((F,C)=>{var r=De(),t=Va();C.exports=function(n,l,i,o){var s=o.isMinor,f=s?n.minor||{}:n,e=s?l.minor:l,v=s?t.minor:t,u=s?"minor.":"",h=r.coerce2(f,e,v,"ticklen",s?(l.ticklen||5)*.6:void 0),_=r.coerce2(f,e,v,"tickwidth",s?l.tickwidth||1:void 0),m=r.coerce2(f,e,v,"tickcolor",(s?l.tickcolor:void 0)||e.color),g=i(u+"ticks",!s&&o.outerTicks||h||_||m?"outside":"");g||(delete e.ticklen,delete e.tickwidth,delete e.tickcolor)}}),tl=Ct((F,C)=>{C.exports=function(r){var t=["showexponent","showtickprefix","showticksuffix"],n=t.filter(function(i){return r[i]!==void 0}),l=function(i){return r[i]===r[n[0]]};if(n.every(l)||n.length===1)return r[n[0]]}}),Ya=Ct((F,C)=>{var r=De(),t=Bn();C.exports=function(n,l,i){var o=i.name,s=i.inclusionAttr||"visible",f=l[o],e=r.isArrayOrTypedArray(n[o])?n[o]:[],v=l[o]=[],u=t.arrayTemplater(l,o,s),h,_;for(h=0;h<e.length;h++){var m=e[h];r.isPlainObject(m)?_=u.newItem(m):(_=u.newItem({}),_[s]=!1),_._index=h,_[s]!==!1&&i.handleItemDefaults(m,_,l,i),v.push(_)}var g=u.defaultItems();for(h=0;h<g.length;h++)_=g[h],_._index=v.length,i.handleItemDefaults({},_,l,i,{}),v.push(_);if(r.isArrayOrTypedArray(f)){var y=Math.min(f.length,v.length);for(h=0;h<y;h++)r.relinkPrivateKeys(v[h],f[h])}return v}}),el=Ct((F,C)=>{var r=De(),t=bn().contrast,n=Va(),l=tl(),i=Ya();C.exports=function(s,f,e,v,u){u||(u={});var h=e("labelalias");r.isPlainObject(h)||delete f.labelalias;var _=l(s),m=e("showticklabels");if(m){u.noTicklabelshift||e("ticklabelshift"),u.noTicklabelstandoff||e("ticklabelstandoff");var g=u.font||{},y=f.color,p=f.ticklabelposition||"",c=p.indexOf("inside")!==-1?t(u.bgColor):y&&y!==n.color.dflt?y:g.color;if(r.coerceFont(e,"tickfont",g,{overrideDflt:{color:c}}),!u.noTicklabelstep&&v!=="multicategory"&&v!=="log"&&e("ticklabelstep"),!u.noAng){var d=e("tickangle");!u.noAutotickangles&&d==="auto"&&e("autotickangles")}if(v!=="category"){var b=e("tickformat");i(s,f,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:o}),f.tickformatstops.length||delete f.tickformatstops,!u.noExp&&!b&&v!=="date"&&(e("showexponent",_),e("exponentformat"),e("minexponent"),e("separatethousands"))}!u.noMinorloglabels&&v==="log"&&e("minorloglabels")}};function o(s,f){function e(u,h){return r.coerce(s,f,n.tickformatstops,u,h)}var v=e("enabled");v&&(e("dtickrange"),e("value"))}}),nl=Ct((F,C)=>{var r=tl();C.exports=function(t,n,l,i,o){o||(o={});var s=o.tickSuffixDflt,f=r(t),e=l("tickprefix");e&&l("showtickprefix",f);var v=l("ticksuffix",s);v&&l("showticksuffix",f)}}),al=Ct((F,C)=>{var r=De(),t=Bn(),n=Qo(),l=Ko(),i=el(),o=nl(),s=Ni();C.exports=function(f,e,v){var u=t.newContainer(e,"colorbar"),h=f.colorbar||{};function _(D,W){return r.coerce(h,u,s,D,W)}var m=v.margin||{t:0,b:0,l:0,r:0},g=v.width-m.l-m.r,y=v.height-m.t-m.b,p=_("orientation"),c=p==="v",d=_("thicknessmode");_("thickness",d==="fraction"?30/(c?g:y):30);var b=_("lenmode");_("len",b==="fraction"?1:c?y:g);var w=_("yref"),k=_("xref"),$=w==="paper",P=k==="paper",O,T,G,I="left";c?(G="middle",I=P?"left":"right",O=P?1.02:1,T=.5):(G=$?"bottom":"top",I="center",O=.5,T=$?1.02:1),r.coerce(h,u,{x:{valType:"number",min:P?-2:0,max:P?3:1,dflt:O}},"x"),r.coerce(h,u,{y:{valType:"number",min:$?-2:0,max:$?3:1,dflt:T}},"y"),_("xanchor",I),_("xpad"),_("yanchor",G),_("ypad"),r.noneOrAll(h,u,["x","y"]),_("outlinecolor"),_("outlinewidth"),_("bordercolor"),_("borderwidth"),_("bgcolor");var E=r.coerce(h,u,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:c?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");_("ticklabeloverflow",E.indexOf("inside")!==-1?"hide past domain":"hide past div"),n(h,u,_,"linear");var z=v.font,j={noAutotickangles:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,outerTicks:!1,font:z};E.indexOf("inside")!==-1&&(j.bgColor="black"),o(h,u,_,"linear",j),i(h,u,_,"linear",j),l(h,u,_,"linear",j),_("title.text",v._dfltTitle.colorbar);var U=u.showticklabels?u.tickfont:z,Z=r.extendFlat({},z,{family:U.family,size:r.bigFont(U.size)});r.coerceFont(_,"title.font",Z),_("title.side",c?"top":"right")}}),Rr=Ct((F,C)=>{var r=Mn(),t=De(),n=qo(),l=al(),i=_r().isValid,o=un().traceIs;function s(f,e){var v=e.slice(0,e.length-1);return e?t.nestedProperty(f,v).get()||{}:f}C.exports=function f(e,v,u,h,_){var m=_.prefix,g=_.cLetter,y="_module"in v,p=s(e,m),c=s(v,m),d=s(v._template||{},m)||{},b=function(){return delete e.coloraxis,delete v.coloraxis,f(e,v,u,h,_)};if(y){var w=u._colorAxes||{},k=h(m+"coloraxis");if(k){var $=o(v,"contour")&&t.nestedProperty(v,"contours.coloring").get()||"heatmap",P=w[k];P?(P[2].push(b),P[0]!==$&&(P[0]=!1,t.warn(["Ignoring coloraxis:",k,"setting","as it is linked to incompatible colorscales."].join(" ")))):w[k]=[$,v,[b]];return}}var O=p[g+"min"],T=p[g+"max"],G=r(O)&&r(T)&&O<T,I=h(m+g+"auto",!G);I?h(m+g+"mid"):(h(m+g+"min"),h(m+g+"max"));var E=p.colorscale,z=d.colorscale,j;if(E!==void 0&&(j=!i(E)),z!==void 0&&(j=!i(z)),h(m+"autocolorscale",j),h(m+"colorscale"),h(m+"reversescale"),m!=="marker.line."){var U;m&&y&&(U=n(p));var Z=h(m+"showscale",U);Z&&(m&&d&&(c._template=d),l(p,c,u))}}}),cc=Ct((F,C)=>{var r=De(),t=Bn(),n=Xo(),l=Rr();C.exports=function(i,o){function s(g,y){return r.coerce(i,o,n,g,y)}s("colorscale.sequential"),s("colorscale.sequentialminus"),s("colorscale.diverging");var f=o._colorAxes,e,v;function u(g,y){return r.coerce(e,v,n.coloraxis,g,y)}for(var h in f){var _=f[h];if(_[0])e=i[h]||{},v=t.newContainer(o,h,"coloraxis"),v._name=h,l(e,v,o,u,{prefix:"",cLetter:"c"});else{for(var m=0;m<_[2].length;m++)_[2][m]();delete o._colorAxes[h]}}}}),fc=Ct((F,C)=>{var r=De(),t=Ea().hasColorscale,n=Ea().extractOpts;C.exports=function(l,i){function o(_,m){var g=_["_"+m];g!==void 0&&(_[m]=g)}function s(_,m){var g=m.container?r.nestedProperty(_,m.container).get():_;if(g)if(g.coloraxis)g._colorAx=i[g.coloraxis];else{var y=n(g),p=y.auto;(p||y.min===void 0)&&o(g,m.min),(p||y.max===void 0)&&o(g,m.max),y.autocolorscale&&o(g,"colorscale")}}for(var f=0;f<l.length;f++){var e=l[f],v=e._module.colorbar;if(v)if(Array.isArray(v))for(var u=0;u<v.length;u++)s(e,v[u]);else s(e,v);t(e,"marker.line")&&s(e,{container:"marker.line",min:"cmin",max:"cmax"})}for(var h in i._colorAxes)s(i[h],{min:"cmin",max:"cmax"})}}),zi=Ct((F,C)=>{var r=Mn(),t=De(),n=Ea().extractOpts;C.exports=function(l,i,o){var s=l._fullLayout,f=o.vals,e=o.containerStr,v=e?t.nestedProperty(i,e).get():i,u=n(v),h=u.auto!==!1,_=u.min,m=u.max,g=u.mid,y=function(){return t.aggNums(Math.min,null,f)},p=function(){return t.aggNums(Math.max,null,f)};if(_===void 0?_=y():h&&(v._colorAx&&r(_)?_=Math.min(_,y()):_=y()),m===void 0?m=p():h&&(v._colorAx&&r(m)?m=Math.max(m,p()):m=p()),h&&g!==void 0&&(m-g>g-_?_=g-(m-g):m-g<g-_&&(m=g+(g-_))),_===m&&(_-=.5,m+=.5),u._sync("min",_),u._sync("max",m),u.autocolorscale){var c;_*m<0?c=s.colorscale.diverging:_>=0?c=s.colorscale.sequential:c=s.colorscale.sequentialminus,u._sync("colorscale",c)}}}),rl=Ct((F,C)=>{var r=_r(),t=Ea();C.exports={moduleType:"component",name:"colorscale",attributes:Xr(),layoutAttributes:Xo(),supplyLayoutDefaults:cc(),handleDefaults:Rr(),crossTraceDefaults:fc(),calc:zi(),scales:r.scales,defaultScale:r.defaultScale,getScale:r.get,isValidScale:r.isValid,hasColorscale:t.hasColorscale,extractOpts:t.extractOpts,extractScale:t.extractScale,flipScale:t.flipScale,makeColorScaleFunc:t.makeColorScaleFunc,makeColorScaleFuncFromTrace:t.makeColorScaleFuncFromTrace}}),Pa=Ct((F,C)=>{var r=De(),t=Ca().isTypedArraySpec;C.exports={hasLines:function(n){return n.visible&&n.mode&&n.mode.indexOf("lines")!==-1},hasMarkers:function(n){return n.visible&&(n.mode&&n.mode.indexOf("markers")!==-1||n.type==="splom")},hasText:function(n){return n.visible&&n.mode&&n.mode.indexOf("text")!==-1},isBubble:function(n){var l=n.marker;return r.isPlainObject(l)&&(r.isArrayOrTypedArray(l.size)||t(l.size))}}}),dc=Ct((F,C)=>{var r=Mn();C.exports=function(t,n){n||(n=2);var l=t.marker,i=l.sizeref||1,o=l.sizemin||0,s=l.sizemode==="area"?function(f){return Math.sqrt(f/i)}:function(f){return f/i};return function(f){var e=s(f/n);return r(e)&&e>0?Math.max(e,o):0}}}),Ka=Ct(F=>{var C=De();F.getSubplot=function(o){return o.subplot||o.xaxis+o.yaxis||o.geo},F.isTraceInSubplots=function(o,s){if(o.type==="splom"){for(var f=o.xaxes||[],e=o.yaxes||[],v=0;v<f.length;v++)for(var u=0;u<e.length;u++)if(s.indexOf(f[v]+e[u])!==-1)return!0;return!1}return s.indexOf(F.getSubplot(o))!==-1},F.flat=function(o,s){for(var f=new Array(o.length),e=0;e<o.length;e++)f[e]=s;return f},F.p2c=function(o,s){for(var f=new Array(o.length),e=0;e<o.length;e++)f[e]=o[e].p2c(s);return f},F.getDistanceFunction=function(o,s,f,e){return o==="closest"?e||F.quadrature(s,f):o.charAt(0)==="x"?s:f},F.getClosest=function(o,s,f){if(f.index!==!1)f.index>=0&&f.index<o.length?f.distance=0:f.index=!1;else for(var e=1/0,v=o.length,u=0;u<v;u++)e=s(o[u]),e<=f.distance&&(f.index=u,f.distance=e);return f},F.inbox=function(o,s,f){return o*s<0||o===0?f:1/0},F.quadrature=function(o,s){return function(f){var e=o(f),v=s(f);return Math.sqrt(e*e+v*v)}},F.makeEventData=function(o,s,f){var e="index"in o?o.index:o.pointNumber,v={data:s._input,fullData:s,curveNumber:s.index,pointNumber:e};if(s._indexToPoints){var u=s._indexToPoints[e];u.length===1?v.pointIndex=u[0]:v.pointIndices=u}else v.pointIndex=e;return s._module.eventData?v=s._module.eventData(v,o,s,f,e):("xVal"in o?v.x=o.xVal:"x"in o&&(v.x=o.x),"yVal"in o?v.y=o.yVal:"y"in o&&(v.y=o.y),o.xa&&(v.xaxis=o.xa),o.ya&&(v.yaxis=o.ya),o.zLabelVal!==void 0&&(v.z=o.zLabelVal)),F.appendArrayPointValue(v,s,e),v},F.appendArrayPointValue=function(o,s,f){var e=s._arrayAttrs;if(e)for(var v=0;v<e.length;v++){var u=e[v],h=t(u);if(o[h]===void 0){var _=C.nestedProperty(s,u).get(),m=n(_,f);m!==void 0&&(o[h]=m)}}},F.appendArrayMultiPointValues=function(o,s,f){var e=s._arrayAttrs;if(e)for(var v=0;v<e.length;v++){var u=e[v],h=t(u);if(o[h]===void 0){for(var _=C.nestedProperty(s,u).get(),m=new Array(f.length),g=0;g<f.length;g++)m[g]=n(_,f[g]);o[h]=m}}};var r={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function t(o){return r[o]||o}function n(o,s){if(Array.isArray(s)){if(Array.isArray(o)&&Array.isArray(o[s[0]]))return o[s[0]][s[1]]}else return o[s]}var l={x:!0,y:!0},i={"x unified":!0,"y unified":!0};F.isUnifiedHover=function(o){return typeof o!="string"?!1:!!i[o]},F.isXYhover=function(o){return typeof o!="string"?!1:!!l[o]}}),il=Ct((F,C)=>{C.exports=n;var r={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},t=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function n(o){var s=[];return o.replace(t,function(f,e,v){var u=e.toLowerCase();for(v=i(v),u=="m"&&v.length>2&&(s.push([e].concat(v.splice(0,2))),u="l",e=e=="m"?"l":"L");;){if(v.length==r[u])return v.unshift(e),s.push(v);if(v.length<r[u])throw new Error("malformed path data");s.push([e].concat(v.splice(0,r[u])))}}),s}var l=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function i(o){var s=o.match(l);return s?s.map(Number):[]}}),hc=Ct((F,C)=>{var r=il(),t=function(g,y){return y?Math.round(g*(y=Math.pow(10,y)))/y:Math.round(g)},n="M0,0Z",l=Math.sqrt(2),i=Math.sqrt(3),o=Math.PI,s=Math.cos,f=Math.sin;C.exports={circle:{n:0,f:function(g,y,p){if(e(y))return n;var c=t(g,2),d="M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z";return p?m(y,p,d):d}},square:{n:1,f:function(g,y,p){if(e(y))return n;var c=t(g,2);return m(y,p,"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")}},diamond:{n:2,f:function(g,y,p){if(e(y))return n;var c=t(g*1.3,2);return m(y,p,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"Z")}},cross:{n:3,f:function(g,y,p){if(e(y))return n;var c=t(g*.4,2),d=t(g*1.2,2);return m(y,p,"M"+d+","+c+"H"+c+"V"+d+"H-"+c+"V"+c+"H-"+d+"V-"+c+"H-"+c+"V-"+d+"H"+c+"V-"+c+"H"+d+"Z")}},x:{n:4,f:function(g,y,p){if(e(y))return n;var c=t(g*.8/l,2),d="l"+c+","+c,b="l"+c+",-"+c,w="l-"+c+",-"+c,k="l-"+c+","+c;return m(y,p,"M0,"+c+d+b+w+b+w+k+w+k+d+k+d+"Z")}},"triangle-up":{n:5,f:function(g,y,p){if(e(y))return n;var c=t(g*2/i,2),d=t(g/2,2),b=t(g,2);return m(y,p,"M-"+c+","+d+"H"+c+"L0,-"+b+"Z")}},"triangle-down":{n:6,f:function(g,y,p){if(e(y))return n;var c=t(g*2/i,2),d=t(g/2,2),b=t(g,2);return m(y,p,"M-"+c+",-"+d+"H"+c+"L0,"+b+"Z")}},"triangle-left":{n:7,f:function(g,y,p){if(e(y))return n;var c=t(g*2/i,2),d=t(g/2,2),b=t(g,2);return m(y,p,"M"+d+",-"+c+"V"+c+"L-"+b+",0Z")}},"triangle-right":{n:8,f:function(g,y,p){if(e(y))return n;var c=t(g*2/i,2),d=t(g/2,2),b=t(g,2);return m(y,p,"M-"+d+",-"+c+"V"+c+"L"+b+",0Z")}},"triangle-ne":{n:9,f:function(g,y,p){if(e(y))return n;var c=t(g*.6,2),d=t(g*1.2,2);return m(y,p,"M-"+d+",-"+c+"H"+c+"V"+d+"Z")}},"triangle-se":{n:10,f:function(g,y,p){if(e(y))return n;var c=t(g*.6,2),d=t(g*1.2,2);return m(y,p,"M"+c+",-"+d+"V"+c+"H-"+d+"Z")}},"triangle-sw":{n:11,f:function(g,y,p){if(e(y))return n;var c=t(g*.6,2),d=t(g*1.2,2);return m(y,p,"M"+d+","+c+"H-"+c+"V-"+d+"Z")}},"triangle-nw":{n:12,f:function(g,y,p){if(e(y))return n;var c=t(g*.6,2),d=t(g*1.2,2);return m(y,p,"M-"+c+","+d+"V-"+c+"H"+d+"Z")}},pentagon:{n:13,f:function(g,y,p){if(e(y))return n;var c=t(g*.951,2),d=t(g*.588,2),b=t(-g,2),w=t(g*-.309,2),k=t(g*.809,2);return m(y,p,"M"+c+","+w+"L"+d+","+k+"H-"+d+"L-"+c+","+w+"L0,"+b+"Z")}},hexagon:{n:14,f:function(g,y,p){if(e(y))return n;var c=t(g,2),d=t(g/2,2),b=t(g*i/2,2);return m(y,p,"M"+b+",-"+d+"V"+d+"L0,"+c+"L-"+b+","+d+"V-"+d+"L0,-"+c+"Z")}},hexagon2:{n:15,f:function(g,y,p){if(e(y))return n;var c=t(g,2),d=t(g/2,2),b=t(g*i/2,2);return m(y,p,"M-"+d+","+b+"H"+d+"L"+c+",0L"+d+",-"+b+"H-"+d+"L-"+c+",0Z")}},octagon:{n:16,f:function(g,y,p){if(e(y))return n;var c=t(g*.924,2),d=t(g*.383,2);return m(y,p,"M-"+d+",-"+c+"H"+d+"L"+c+",-"+d+"V"+d+"L"+d+","+c+"H-"+d+"L-"+c+","+d+"V-"+d+"Z")}},star:{n:17,f:function(g,y,p){if(e(y))return n;var c=g*1.4,d=t(c*.225,2),b=t(c*.951,2),w=t(c*.363,2),k=t(c*.588,2),$=t(-c,2),P=t(c*-.309,2),O=t(c*.118,2),T=t(c*.809,2),G=t(c*.382,2);return m(y,p,"M"+d+","+P+"H"+b+"L"+w+","+O+"L"+k+","+T+"L0,"+G+"L-"+k+","+T+"L-"+w+","+O+"L-"+b+","+P+"H-"+d+"L0,"+$+"Z")}},hexagram:{n:18,f:function(g,y,p){if(e(y))return n;var c=t(g*.66,2),d=t(g*.38,2),b=t(g*.76,2);return m(y,p,"M-"+b+",0l-"+d+",-"+c+"h"+b+"l"+d+",-"+c+"l"+d+","+c+"h"+b+"l-"+d+","+c+"l"+d+","+c+"h-"+b+"l-"+d+","+c+"l-"+d+",-"+c+"h-"+b+"Z")}},"star-triangle-up":{n:19,f:function(g,y,p){if(e(y))return n;var c=t(g*i*.8,2),d=t(g*.8,2),b=t(g*1.6,2),w=t(g*4,2),k="A "+w+","+w+" 0 0 1 ";return m(y,p,"M-"+c+","+d+k+c+","+d+k+"0,-"+b+k+"-"+c+","+d+"Z")}},"star-triangle-down":{n:20,f:function(g,y,p){if(e(y))return n;var c=t(g*i*.8,2),d=t(g*.8,2),b=t(g*1.6,2),w=t(g*4,2),k="A "+w+","+w+" 0 0 1 ";return m(y,p,"M"+c+",-"+d+k+"-"+c+",-"+d+k+"0,"+b+k+c+",-"+d+"Z")}},"star-square":{n:21,f:function(g,y,p){if(e(y))return n;var c=t(g*1.1,2),d=t(g*2,2),b="A "+d+","+d+" 0 0 1 ";return m(y,p,"M-"+c+",-"+c+b+"-"+c+","+c+b+c+","+c+b+c+",-"+c+b+"-"+c+",-"+c+"Z")}},"star-diamond":{n:22,f:function(g,y,p){if(e(y))return n;var c=t(g*1.4,2),d=t(g*1.9,2),b="A "+d+","+d+" 0 0 1 ";return m(y,p,"M-"+c+",0"+b+"0,"+c+b+c+",0"+b+"0,-"+c+b+"-"+c+",0Z")}},"diamond-tall":{n:23,f:function(g,y,p){if(e(y))return n;var c=t(g*.7,2),d=t(g*1.4,2);return m(y,p,"M0,"+d+"L"+c+",0L0,-"+d+"L-"+c+",0Z")}},"diamond-wide":{n:24,f:function(g,y,p){if(e(y))return n;var c=t(g*1.4,2),d=t(g*.7,2);return m(y,p,"M0,"+d+"L"+c+",0L0,-"+d+"L-"+c+",0Z")}},hourglass:{n:25,f:function(g,y,p){if(e(y))return n;var c=t(g,2);return m(y,p,"M"+c+","+c+"H-"+c+"L"+c+",-"+c+"H-"+c+"Z")},noDot:!0},bowtie:{n:26,f:function(g,y,p){if(e(y))return n;var c=t(g,2);return m(y,p,"M"+c+","+c+"V-"+c+"L-"+c+","+c+"V-"+c+"Z")},noDot:!0},"circle-cross":{n:27,f:function(g,y,p){if(e(y))return n;var c=t(g,2);return m(y,p,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(g,y,p){if(e(y))return n;var c=t(g,2),d=t(g/l,2);return m(y,p,"M"+d+","+d+"L-"+d+",-"+d+"M"+d+",-"+d+"L-"+d+","+d+"M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(g,y,p){if(e(y))return n;var c=t(g,2);return m(y,p,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(g,y,p){if(e(y))return n;var c=t(g,2);return m(y,p,"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c+"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(g,y,p){if(e(y))return n;var c=t(g*1.3,2);return m(y,p,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"ZM0,-"+c+"V"+c+"M-"+c+",0H"+c)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(g,y,p){if(e(y))return n;var c=t(g*1.3,2),d=t(g*.65,2);return m(y,p,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"ZM-"+d+",-"+d+"L"+d+","+d+"M-"+d+","+d+"L"+d+",-"+d)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(g,y,p){if(e(y))return n;var c=t(g*1.4,2);return m(y,p,"M0,"+c+"V-"+c+"M"+c+",0H-"+c)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(g,y,p){if(e(y))return n;var c=t(g,2);return m(y,p,"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(g,y,p){if(e(y))return n;var c=t(g*1.2,2),d=t(g*.85,2);return m(y,p,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+d+","+d+"L-"+d+",-"+d+"M"+d+",-"+d+"L-"+d+","+d)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(g,y,p){if(e(y))return n;var c=t(g/2,2),d=t(g,2);return m(y,p,"M"+c+","+d+"V-"+d+"M"+(c-d)+",-"+d+"V"+d+"M"+d+","+c+"H-"+d+"M-"+d+","+(c-d)+"H"+d)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(g,y,p){if(e(y))return n;var c=t(g*1.2,2),d=t(g*1.6,2),b=t(g*.8,2);return m(y,p,"M-"+c+","+b+"L0,0M"+c+","+b+"L0,0M0,-"+d+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(g,y,p){if(e(y))return n;var c=t(g*1.2,2),d=t(g*1.6,2),b=t(g*.8,2);return m(y,p,"M-"+c+",-"+b+"L0,0M"+c+",-"+b+"L0,0M0,"+d+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(g,y,p){if(e(y))return n;var c=t(g*1.2,2),d=t(g*1.6,2),b=t(g*.8,2);return m(y,p,"M"+b+","+c+"L0,0M"+b+",-"+c+"L0,0M-"+d+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(g,y,p){if(e(y))return n;var c=t(g*1.2,2),d=t(g*1.6,2),b=t(g*.8,2);return m(y,p,"M-"+b+","+c+"L0,0M-"+b+",-"+c+"L0,0M"+d+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(g,y,p){if(e(y))return n;var c=t(g*1.4,2);return m(y,p,"M"+c+",0H-"+c)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(g,y,p){if(e(y))return n;var c=t(g*1.4,2);return m(y,p,"M0,"+c+"V-"+c)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(g,y,p){if(e(y))return n;var c=t(g,2);return m(y,p,"M"+c+",-"+c+"L-"+c+","+c)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(g,y,p){if(e(y))return n;var c=t(g,2);return m(y,p,"M"+c+","+c+"L-"+c+",-"+c)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(g,y,p){if(e(y))return n;var c=t(g,2),d=t(g*2,2);return m(y,p,"M0,0L-"+c+","+d+"H"+c+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(g,y,p){if(e(y))return n;var c=t(g,2),d=t(g*2,2);return m(y,p,"M0,0L-"+c+",-"+d+"H"+c+"Z")},noDot:!0},"arrow-left":{n:47,f:function(g,y,p){if(e(y))return n;var c=t(g*2,2),d=t(g,2);return m(y,p,"M0,0L"+c+",-"+d+"V"+d+"Z")},noDot:!0},"arrow-right":{n:48,f:function(g,y,p){if(e(y))return n;var c=t(g*2,2),d=t(g,2);return m(y,p,"M0,0L-"+c+",-"+d+"V"+d+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(g,y,p){if(e(y))return n;var c=t(g,2),d=t(g*2,2);return m(y,p,"M-"+c+",0H"+c+"M0,0L-"+c+","+d+"H"+c+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(g,y,p){if(e(y))return n;var c=t(g,2),d=t(g*2,2);return m(y,p,"M-"+c+",0H"+c+"M0,0L-"+c+",-"+d+"H"+c+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(g,y,p){if(e(y))return n;var c=t(g*2,2),d=t(g,2);return m(y,p,"M0,-"+d+"V"+d+"M0,0L"+c+",-"+d+"V"+d+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(g,y,p){if(e(y))return n;var c=t(g*2,2),d=t(g,2);return m(y,p,"M0,-"+d+"V"+d+"M0,0L-"+c+",-"+d+"V"+d+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(g,y,p){if(e(y))return n;var c=o/2.5,d=2*g*s(c),b=2*g*f(c);return m(y,p,"M0,0L"+-d+","+b+"L"+d+","+b+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(g,y,p){if(e(y))return n;var c=o/4,d=2*g*s(c),b=2*g*f(c);return m(y,p,"M0,0L"+-d+","+b+"A "+2*g+","+2*g+" 0 0 1 "+d+","+b+"Z")},backoff:.4,noDot:!0}};function e(g){return g===null}var v,u,h,_;function m(g,y,p){if((!g||g%360===0)&&!y)return p;if(h===g&&_===y&&v===p)return u;h=g,_=y,v=p;function c(j,U){var Z=s(j),D=f(j),W=U[0],X=U[1]+(y||0);return[W*Z-X*D,W*D+X*Z]}for(var d=g/180*o,b=0,w=0,k=r(p),$="",P=0;P<k.length;P++){var O=k[P],T=O[0],G=b,I=w;if(T==="M"||T==="L")b=+O[1],w=+O[2];else if(T==="m"||T==="l")b+=+O[1],w+=+O[2];else if(T==="H")b=+O[1];else if(T==="h")b+=+O[1];else if(T==="V")w=+O[1];else if(T==="v")w+=+O[1];else if(T==="A"){b=+O[1],w=+O[2];var E=c(d,[+O[6],+O[7]]);O[6]=E[0],O[7]=E[1],O[3]=+O[3]+g}(T==="H"||T==="V")&&(T="L"),(T==="h"||T==="v")&&(T="l"),(T==="m"||T==="l")&&(b-=G,w-=I);var z=c(d,[b,w]);(T==="H"||T==="V")&&(T="L"),(T==="M"||T==="L"||T==="m"||T==="l")&&(O[1]=z[0],O[2]=z[1]),O[0]=T,$+=O[0]+O.slice(1).join(",")}return u=$,$}}),zn=Ct((F,C)=>{var r=wn(),t=De(),n=t.numberFormat,l=Mn(),i=Ra(),o=un(),s=bn(),f=rl(),e=t.strTranslate,v=xa(),u=Tr(),h=ka(),_=h.LINE_SPACING,m=Ai().DESELECTDIM,g=Pa(),y=dc(),p=Ka().appendArrayPointValue,c=C.exports={};c.font=function(pt,bt){var lt=bt.variant,kt=bt.style,Nt=bt.weight,Yt=bt.color,ee=bt.size,Xt=bt.family,ae=bt.shadow,oe=bt.lineposition,ie=bt.textcase;Xt&&pt.style("font-family",Xt),ee+1&&pt.style("font-size",ee+"px"),Yt&&pt.call(s.fill,Yt),Nt&&pt.style("font-weight",Nt),kt&&pt.style("font-style",kt),lt&&pt.style("font-variant",lt),ie&&pt.style("text-transform",d(w(ie))),ae&&pt.style("text-shadow",ae==="auto"?v.makeTextShadow(s.contrast(Yt)):d(ae)),oe&&pt.style("text-decoration-line",d(k(oe)))};function d(pt){return pt==="none"?void 0:pt}var b={normal:"none",lower:"lowercase",upper:"uppercase","word caps":"capitalize"};function w(pt){return b[pt]}function k(pt){return pt.replace("under","underline").replace("over","overline").replace("through","line-through").split("+").join(" ")}c.setPosition=function(pt,bt,lt){pt.attr("x",bt).attr("y",lt)},c.setSize=function(pt,bt,lt){pt.attr("width",bt).attr("height",lt)},c.setRect=function(pt,bt,lt,kt,Nt){pt.call(c.setPosition,bt,lt).call(c.setSize,kt,Nt)},c.translatePoint=function(pt,bt,lt,kt){var Nt=lt.c2p(pt.x),Yt=kt.c2p(pt.y);if(l(Nt)&&l(Yt)&&bt.node())bt.node().nodeName==="text"?bt.attr("x",Nt).attr("y",Yt):bt.attr("transform",e(Nt,Yt));else return!1;return!0},c.translatePoints=function(pt,bt,lt){pt.each(function(kt){var Nt=r.select(this);c.translatePoint(kt,Nt,bt,lt)})},c.hideOutsideRangePoint=function(pt,bt,lt,kt,Nt,Yt){bt.attr("display",lt.isPtWithinRange(pt,Nt)&&kt.isPtWithinRange(pt,Yt)?null:"none")},c.hideOutsideRangePoints=function(pt,bt){if(bt._hasClipOnAxisFalse){var lt=bt.xaxis,kt=bt.yaxis;pt.each(function(Nt){var Yt=Nt[0].trace,ee=Yt.xcalendar,Xt=Yt.ycalendar,ae=o.traceIs(Yt,"bar-like")?".bartext":".point,.textpoint";pt.selectAll(ae).each(function(oe){c.hideOutsideRangePoint(oe,r.select(this),lt,kt,ee,Xt)})})}},c.crispRound=function(pt,bt,lt){return!bt||!l(bt)?lt||0:pt._context.staticPlot?bt:bt<1?1:Math.round(bt)},c.singleLineStyle=function(pt,bt,lt,kt,Nt){bt.style("fill","none");var Yt=(((pt||[])[0]||{}).trace||{}).line||{},ee=lt||Yt.width||0,Xt=Nt||Yt.dash||"";s.stroke(bt,kt||Yt.color),c.dashLine(bt,Xt,ee)},c.lineGroupStyle=function(pt,bt,lt,kt){pt.style("fill","none").each(function(Nt){var Yt=(((Nt||[])[0]||{}).trace||{}).line||{},ee=bt||Yt.width||0,Xt=kt||Yt.dash||"";r.select(this).call(s.stroke,lt||Yt.color).call(c.dashLine,Xt,ee)})},c.dashLine=function(pt,bt,lt){lt=+lt||0,bt=c.dashStyle(bt,lt),pt.style({"stroke-dasharray":bt,"stroke-width":lt+"px"})},c.dashStyle=function(pt,bt){bt=+bt||1;var lt=Math.max(bt,3);return pt==="solid"?pt="":pt==="dot"?pt=lt+"px,"+lt+"px":pt==="dash"?pt=3*lt+"px,"+3*lt+"px":pt==="longdash"?pt=5*lt+"px,"+5*lt+"px":pt==="dashdot"?pt=3*lt+"px,"+lt+"px,"+lt+"px,"+lt+"px":pt==="longdashdot"&&(pt=5*lt+"px,"+2*lt+"px,"+lt+"px,"+2*lt+"px"),pt};function $(pt,bt,lt,kt){var Nt=bt.fillpattern,Yt=bt.fillgradient,ee=c.getPatternAttr,Xt=Nt&&(ee(Nt.shape,0,"")||ee(Nt.path,0,""));if(Xt){var ae=ee(Nt.bgcolor,0,null),oe=ee(Nt.fgcolor,0,null),ie=Nt.fgopacity,pe=ee(Nt.size,0,8),$t=ee(Nt.solidity,0,.3),me=bt.uid;c.pattern(pt,"point",lt,me,Xt,pe,$t,void 0,Nt.fillmode,ae,oe,ie)}else if(Yt&&Yt.type!=="none"){var we=Yt.type,ve="scatterfill-"+bt.uid;if(kt&&(ve="legendfill-"+bt.uid),!kt&&(Yt.start!==void 0||Yt.stop!==void 0)){var Me,mt;we==="horizontal"?(Me={x:Yt.start,y:0},mt={x:Yt.stop,y:0}):we==="vertical"&&(Me={x:0,y:Yt.start},mt={x:0,y:Yt.stop}),Me.x=bt._xA.c2p(Me.x===void 0?bt._extremes.x.min[0].val:Me.x,!0),Me.y=bt._yA.c2p(Me.y===void 0?bt._extremes.y.min[0].val:Me.y,!0),mt.x=bt._xA.c2p(mt.x===void 0?bt._extremes.x.max[0].val:mt.x,!0),mt.y=bt._yA.c2p(mt.y===void 0?bt._extremes.y.max[0].val:mt.y,!0),pt.call(z,lt,ve,"linear",Yt.colorscale,"fill",Me,mt,!0,!1)}else we==="horizontal"&&(we=we+"reversed"),pt.call(c.gradient,lt,ve,we,Yt.colorscale,"fill")}else bt.fillcolor&&pt.call(s.fill,bt.fillcolor)}c.singleFillStyle=function(pt,bt){var lt=r.select(pt.node()),kt=lt.data(),Nt=((kt[0]||[])[0]||{}).trace||{};$(pt,Nt,bt,!1)},c.fillGroupStyle=function(pt,bt,lt){pt.style("stroke-width",0).each(function(kt){var Nt=r.select(this);kt[0].trace&&$(Nt,kt[0].trace,bt,lt)})};var P=hc();c.symbolNames=[],c.symbolFuncs=[],c.symbolBackOffs=[],c.symbolNeedLines={},c.symbolNoDot={},c.symbolNoFill={},c.symbolList=[],Object.keys(P).forEach(function(pt){var bt=P[pt],lt=bt.n;c.symbolList.push(lt,String(lt),pt,lt+100,String(lt+100),pt+"-open"),c.symbolNames[lt]=pt,c.symbolFuncs[lt]=bt.f,c.symbolBackOffs[lt]=bt.backoff||0,bt.needLine&&(c.symbolNeedLines[lt]=!0),bt.noDot?c.symbolNoDot[lt]=!0:c.symbolList.push(lt+200,String(lt+200),pt+"-dot",lt+300,String(lt+300),pt+"-open-dot"),bt.noFill&&(c.symbolNoFill[lt]=!0)});var O=c.symbolNames.length,T="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";c.symbolNumber=function(pt){if(l(pt))pt=+pt;else if(typeof pt=="string"){var bt=0;pt.indexOf("-open")>0&&(bt=100,pt=pt.replace("-open","")),pt.indexOf("-dot")>0&&(bt+=200,pt=pt.replace("-dot","")),pt=c.symbolNames.indexOf(pt),pt>=0&&(pt+=bt)}return pt%100>=O||pt>=400?0:Math.floor(Math.max(pt,0))};function G(pt,bt,lt,kt){var Nt=pt%100;return c.symbolFuncs[Nt](bt,lt,kt)+(pt>=200?T:"")}var I=n("~f"),E={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};c.gradient=function(pt,bt,lt,kt,Nt,Yt){var ee=E[kt];return z(pt,bt,lt,ee.type,Nt,Yt,ee.start,ee.stop,!1,ee.reversed)};function z(pt,bt,lt,kt,Nt,Yt,ee,Xt,ae,oe){var ie=Nt.length,pe;kt==="linear"?pe={node:"linearGradient",attrs:{x1:ee.x,y1:ee.y,x2:Xt.x,y2:Xt.y,gradientUnits:ae?"userSpaceOnUse":"objectBoundingBox"},reversed:oe}:kt==="radial"&&(pe={node:"radialGradient",reversed:oe});for(var $t=new Array(ie),me=0;me<ie;me++)pe.reversed?$t[ie-1-me]=[I((1-Nt[me][0])*100),Nt[me][1]]:$t[me]=[I(Nt[me][0]*100),Nt[me][1]];var we=bt._fullLayout,ve="g"+we._uid+"-"+lt,Me=we._defs.select(".gradients").selectAll("#"+ve).data([kt+$t.join(";")],t.identity);Me.exit().remove(),Me.enter().append(pe.node).each(function(){var mt=r.select(this);pe.attrs&&mt.attr(pe.attrs),mt.attr("id",ve);var Lt=mt.selectAll("stop").data($t);Lt.exit().remove(),Lt.enter().append("stop"),Lt.each(function(At){var Q=i(At[1]);r.select(this).attr({offset:At[0]+"%","stop-color":s.tinyRGB(Q),"stop-opacity":Q.getAlpha()})})}),pt.style(Yt,at(ve,bt)).style(Yt+"-opacity",null),pt.classed("gradient_filled",!0)}c.pattern=function(pt,bt,lt,kt,Nt,Yt,ee,Xt,ae,oe,ie,pe){var $t=bt==="legend";Xt&&(ae==="overlay"?(oe=Xt,ie=s.contrast(oe)):(oe=void 0,ie=Xt));var me=lt._fullLayout,we="p"+me._uid+"-"+kt,ve,Me,mt=function(Et,re,se,he,Se){return he+(Se-he)*(Et-re)/(se-re)},Lt,At,Q,ft,yt={},gt=i(ie),It=s.tinyRGB(gt),Mt=gt.getAlpha(),Jt=pe*Mt;switch(Nt){case"/":ve=Yt*Math.sqrt(2),Me=Yt*Math.sqrt(2),Lt="M-"+ve/4+","+Me/4+"l"+ve/2+",-"+Me/2+"M0,"+Me+"L"+ve+",0M"+ve/4*3+","+Me/4*5+"l"+ve/2+",-"+Me/2,At=ee*Yt,ft="path",yt={d:Lt,opacity:Jt,stroke:It,"stroke-width":At+"px"};break;case"\\":ve=Yt*Math.sqrt(2),Me=Yt*Math.sqrt(2),Lt="M"+ve/4*3+",-"+Me/4+"l"+ve/2+","+Me/2+"M0,0L"+ve+","+Me+"M-"+ve/4+","+Me/4*3+"l"+ve/2+","+Me/2,At=ee*Yt,ft="path",yt={d:Lt,opacity:Jt,stroke:It,"stroke-width":At+"px"};break;case"x":ve=Yt*Math.sqrt(2),Me=Yt*Math.sqrt(2),Lt="M-"+ve/4+","+Me/4+"l"+ve/2+",-"+Me/2+"M0,"+Me+"L"+ve+",0M"+ve/4*3+","+Me/4*5+"l"+ve/2+",-"+Me/2+"M"+ve/4*3+",-"+Me/4+"l"+ve/2+","+Me/2+"M0,0L"+ve+","+Me+"M-"+ve/4+","+Me/4*3+"l"+ve/2+","+Me/2,At=Yt-Yt*Math.sqrt(1-ee),ft="path",yt={d:Lt,opacity:Jt,stroke:It,"stroke-width":At+"px"};break;case"|":ve=Yt,Me=Yt,ft="path",Lt="M"+ve/2+",0L"+ve/2+","+Me,At=ee*Yt,ft="path",yt={d:Lt,opacity:Jt,stroke:It,"stroke-width":At+"px"};break;case"-":ve=Yt,Me=Yt,ft="path",Lt="M0,"+Me/2+"L"+ve+","+Me/2,At=ee*Yt,ft="path",yt={d:Lt,opacity:Jt,stroke:It,"stroke-width":At+"px"};break;case"+":ve=Yt,Me=Yt,ft="path",Lt="M"+ve/2+",0L"+ve/2+","+Me+"M0,"+Me/2+"L"+ve+","+Me/2,At=Yt-Yt*Math.sqrt(1-ee),ft="path",yt={d:Lt,opacity:Jt,stroke:It,"stroke-width":At+"px"};break;case".":ve=Yt,Me=Yt,ee<Math.PI/4?Q=Math.sqrt(ee*Yt*Yt/Math.PI):Q=mt(ee,Math.PI/4,1,Yt/2,Yt/Math.sqrt(2)),ft="circle",yt={cx:ve/2,cy:Me/2,r:Q,opacity:Jt,fill:It};break;default:ve=Yt,Me=Yt,ft="path",yt={d:Nt,opacity:Jt,fill:It};break}var qt=[Nt||"noSh",oe||"noBg",ie||"noFg",Yt,ee].join(";"),le=me._defs.select(".patterns").selectAll("#"+we).data([qt],t.identity);le.exit().remove(),le.enter().append("pattern").each(function(){var Et=r.select(this);if(Et.attr({id:we,width:ve+"px",height:Me+"px",patternUnits:"userSpaceOnUse",patternTransform:$t?"scale(0.8)":""}),oe){var re=i(oe),se=s.tinyRGB(re),he=re.getAlpha(),Se=Et.selectAll("rect").data([0]);Se.exit().remove(),Se.enter().append("rect").attr({width:ve+"px",height:Me+"px",fill:se,"fill-opacity":he})}var je=Et.selectAll(ft).data([0]);je.exit().remove(),je.enter().append(ft).attr(yt)}),pt.style("fill",at(we,lt)).style("fill-opacity",null),pt.classed("pattern_filled",!0)},c.initGradients=function(pt){var bt=pt._fullLayout,lt=t.ensureSingle(bt._defs,"g","gradients");lt.selectAll("linearGradient,radialGradient").remove(),r.select(pt).selectAll(".gradient_filled").classed("gradient_filled",!1)},c.initPatterns=function(pt){var bt=pt._fullLayout,lt=t.ensureSingle(bt._defs,"g","patterns");lt.selectAll("pattern").remove(),r.select(pt).selectAll(".pattern_filled").classed("pattern_filled",!1)},c.getPatternAttr=function(pt,bt,lt){return pt&&t.isArrayOrTypedArray(pt)?bt<pt.length?pt[bt]:lt:pt},c.pointStyle=function(pt,bt,lt,kt){if(pt.size()){var Nt=c.makePointStyleFns(bt);pt.each(function(Yt){c.singlePointStyle(Yt,r.select(this),bt,Nt,lt,kt)})}},c.singlePointStyle=function(pt,bt,lt,kt,Nt,Yt){var ee=lt.marker,Xt=ee.line;if(Yt&&Yt.i>=0&&pt.i===void 0&&(pt.i=Yt.i),bt.style("opacity",kt.selectedOpacityFn?kt.selectedOpacityFn(pt):pt.mo===void 0?ee.opacity:pt.mo),kt.ms2mrc){var ae;pt.ms==="various"||ee.size==="various"?ae=3:ae=kt.ms2mrc(pt.ms),pt.mrc=ae,kt.selectedSizeFn&&(ae=pt.mrc=kt.selectedSizeFn(pt));var oe=c.symbolNumber(pt.mx||ee.symbol)||0;pt.om=oe%200>=100;var ie=Rt(pt,lt),pe=S(pt,lt);bt.attr("d",G(oe,ae,ie,pe))}var $t=!1,me,we,ve;if(pt.so)ve=Xt.outlierwidth,we=Xt.outliercolor,me=ee.outliercolor;else{var Me=(Xt||{}).width;ve=(pt.mlw+1||Me+1||(pt.trace?(pt.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in pt?we=pt.mlcc=kt.lineScale(pt.mlc):t.isArrayOrTypedArray(Xt.color)?we=s.defaultLine:we=Xt.color,t.isArrayOrTypedArray(ee.color)&&(me=s.defaultLine,$t=!0),"mc"in pt?me=pt.mcc=kt.markerScale(pt.mc):me=ee.color||ee.colors||"rgba(0,0,0,0)",kt.selectedColorFn&&(me=kt.selectedColorFn(pt))}if(pt.om)bt.call(s.stroke,me).style({"stroke-width":(ve||1)+"px",fill:"none"});else{bt.style("stroke-width",(pt.isBlank?0:ve)+"px");var mt=ee.gradient,Lt=pt.mgt;Lt?$t=!0:Lt=mt&&mt.type,t.isArrayOrTypedArray(Lt)&&(Lt=Lt[0],E[Lt]||(Lt=0));var At=ee.pattern,Q=c.getPatternAttr,ft=At&&(Q(At.shape,pt.i,"")||Q(At.path,pt.i,""));if(Lt&&Lt!=="none"){var yt=pt.mgc;yt?$t=!0:yt=mt.color;var gt=lt.uid;$t&&(gt+="-"+pt.i),c.gradient(bt,Nt,gt,Lt,[[0,yt],[1,me]],"fill")}else if(ft){var It=!1,Mt=At.fgcolor;!Mt&&Yt&&Yt.color&&(Mt=Yt.color,It=!0);var Jt=Q(Mt,pt.i,Yt&&Yt.color||null),qt=Q(At.bgcolor,pt.i,null),le=At.fgopacity,Et=Q(At.size,pt.i,8),re=Q(At.solidity,pt.i,.3);It=It||pt.mcc||t.isArrayOrTypedArray(At.shape)||t.isArrayOrTypedArray(At.path)||t.isArrayOrTypedArray(At.bgcolor)||t.isArrayOrTypedArray(At.fgcolor)||t.isArrayOrTypedArray(At.size)||t.isArrayOrTypedArray(At.solidity);var se=lt.uid;It&&(se+="-"+pt.i),c.pattern(bt,"point",Nt,se,ft,Et,re,pt.mcc,At.fillmode,qt,Jt,le)}else t.isArrayOrTypedArray(me)?s.fill(bt,me[pt.i]):s.fill(bt,me);ve&&s.stroke(bt,we)}},c.makePointStyleFns=function(pt){var bt={},lt=pt.marker;return bt.markerScale=c.tryColorscale(lt,""),bt.lineScale=c.tryColorscale(lt,"line"),o.traceIs(pt,"symbols")&&(bt.ms2mrc=g.isBubble(pt)?y(pt):function(){return(lt.size||6)/2}),pt.selectedpoints&&t.extendFlat(bt,c.makeSelectedPointStyleFns(pt)),bt},c.makeSelectedPointStyleFns=function(pt){var bt={},lt=pt.selected||{},kt=pt.unselected||{},Nt=pt.marker||{},Yt=lt.marker||{},ee=kt.marker||{},Xt=Nt.opacity,ae=Yt.opacity,oe=ee.opacity,ie=ae!==void 0,pe=oe!==void 0;(t.isArrayOrTypedArray(Xt)||ie||pe)&&(bt.selectedOpacityFn=function(Q){var ft=Q.mo===void 0?Nt.opacity:Q.mo;return Q.selected?ie?ae:ft:pe?oe:m*ft});var $t=Nt.color,me=Yt.color,we=ee.color;(me||we)&&(bt.selectedColorFn=function(Q){var ft=Q.mcc||$t;return Q.selected?me||ft:we||ft});var ve=Nt.size,Me=Yt.size,mt=ee.size,Lt=Me!==void 0,At=mt!==void 0;return o.traceIs(pt,"symbols")&&(Lt||At)&&(bt.selectedSizeFn=function(Q){var ft=Q.mrc||ve/2;return Q.selected?Lt?Me/2:ft:At?mt/2:ft}),bt},c.makeSelectedTextStyleFns=function(pt){var bt={},lt=pt.selected||{},kt=pt.unselected||{},Nt=pt.textfont||{},Yt=lt.textfont||{},ee=kt.textfont||{},Xt=Nt.color,ae=Yt.color,oe=ee.color;return bt.selectedTextColorFn=function(ie){var pe=ie.tc||Xt;return ie.selected?ae||pe:oe||(ae?pe:s.addOpacity(pe,m))},bt},c.selectedPointStyle=function(pt,bt){if(!(!pt.size()||!bt.selectedpoints)){var lt=c.makeSelectedPointStyleFns(bt),kt=bt.marker||{},Nt=[];lt.selectedOpacityFn&&Nt.push(function(Yt,ee){Yt.style("opacity",lt.selectedOpacityFn(ee))}),lt.selectedColorFn&&Nt.push(function(Yt,ee){s.fill(Yt,lt.selectedColorFn(ee))}),lt.selectedSizeFn&&Nt.push(function(Yt,ee){var Xt=ee.mx||kt.symbol||0,ae=lt.selectedSizeFn(ee);Yt.attr("d",G(c.symbolNumber(Xt),ae,Rt(ee,bt),S(ee,bt))),ee.mrc2=ae}),Nt.length&&pt.each(function(Yt){for(var ee=r.select(this),Xt=0;Xt<Nt.length;Xt++)Nt[Xt](ee,Yt)})}},c.tryColorscale=function(pt,bt){var lt=bt?t.nestedProperty(pt,bt).get():pt;if(lt){var kt=lt.color;if((lt.colorscale||lt._colorAx)&&t.isArrayOrTypedArray(kt))return f.makeColorScaleFuncFromTrace(lt)}return t.identity};var j={start:1,end:-1,middle:0,bottom:1,top:-1};function U(pt,bt,lt,kt,Nt){var Yt=r.select(pt.node().parentNode),ee=bt.indexOf("top")!==-1?"top":bt.indexOf("bottom")!==-1?"bottom":"middle",Xt=bt.indexOf("left")!==-1?"end":bt.indexOf("right")!==-1?"start":"middle",ae=kt?kt/.8+1:0,oe=(v.lineCount(pt)-1)*_+1,ie=j[Xt]*ae,pe=lt*.75+j[ee]*ae+(j[ee]-1)*oe*lt/2;pt.attr("text-anchor",Xt),Nt||Yt.attr("transform",e(ie,pe))}function Z(pt,bt){var lt=pt.ts||bt.textfont.size;return l(lt)&&lt>0?lt:0}c.textPointStyle=function(pt,bt,lt){if(pt.size()){var kt;if(bt.selectedpoints){var Nt=c.makeSelectedTextStyleFns(bt);kt=Nt.selectedTextColorFn}var Yt=bt.texttemplate,ee=lt._fullLayout;pt.each(function(Xt){var ae=r.select(this),oe=Yt?t.extractOption(Xt,bt,"txt","texttemplate"):t.extractOption(Xt,bt,"tx","text");if(!oe&&oe!==0){ae.remove();return}if(Yt){var ie=bt._module.formatLabels,pe=ie?ie(Xt,bt,ee):{},$t={};p($t,bt,Xt.i);var me=bt._meta||{};oe=t.texttemplateString(oe,pe,ee._d3locale,$t,Xt,me)}var we=Xt.tp||bt.textposition,ve=Z(Xt,bt),Me=kt?kt(Xt):Xt.tc||bt.textfont.color;ae.call(c.font,{family:Xt.tf||bt.textfont.family,weight:Xt.tw||bt.textfont.weight,style:Xt.ty||bt.textfont.style,variant:Xt.tv||bt.textfont.variant,textcase:Xt.tC||bt.textfont.textcase,lineposition:Xt.tE||bt.textfont.lineposition,shadow:Xt.tS||bt.textfont.shadow,size:ve,color:Me}).text(oe).call(v.convertToTspans,lt).call(U,we,ve,Xt.mrc)})}},c.selectedTextStyle=function(pt,bt){if(!(!pt.size()||!bt.selectedpoints)){var lt=c.makeSelectedTextStyleFns(bt);pt.each(function(kt){var Nt=r.select(this),Yt=lt.selectedTextColorFn(kt),ee=kt.tp||bt.textposition,Xt=Z(kt,bt);s.fill(Nt,Yt);var ae=o.traceIs(bt,"bar-like");U(Nt,ee,Xt,kt.mrc2||kt.mrc,ae)})}};var D=.5;c.smoothopen=function(pt,bt){if(pt.length<3)return"M"+pt.join("L");var lt="M"+pt[0],kt=[],Nt;for(Nt=1;Nt<pt.length-1;Nt++)kt.push(dt(pt[Nt-1],pt[Nt],pt[Nt+1],bt));for(lt+="Q"+kt[0][0]+" "+pt[1],Nt=2;Nt<pt.length-1;Nt++)lt+="C"+kt[Nt-2][1]+" "+kt[Nt-1][0]+" "+pt[Nt];return lt+="Q"+kt[pt.length-3][1]+" "+pt[pt.length-1],lt},c.smoothclosed=function(pt,bt){if(pt.length<3)return"M"+pt.join("L")+"Z";var lt="M"+pt[0],kt=pt.length-1,Nt=[dt(pt[kt],pt[0],pt[1],bt)],Yt;for(Yt=1;Yt<kt;Yt++)Nt.push(dt(pt[Yt-1],pt[Yt],pt[Yt+1],bt));for(Nt.push(dt(pt[kt-1],pt[kt],pt[0],bt)),Yt=1;Yt<=kt;Yt++)lt+="C"+Nt[Yt-1][1]+" "+Nt[Yt][0]+" "+pt[Yt];return lt+="C"+Nt[kt][1]+" "+Nt[0][0]+" "+pt[0]+"Z",lt};var W,X;function it(pt,bt,lt){return lt&&(pt=H(pt)),bt?ot(pt[1]):nt(pt[0])}function nt(pt){var bt=r.round(pt,2);return W=bt,bt}function ot(pt){var bt=r.round(pt,2);return X=bt,bt}function dt(pt,bt,lt,kt){var Nt=pt[0]-bt[0],Yt=pt[1]-bt[1],ee=lt[0]-bt[0],Xt=lt[1]-bt[1],ae=Math.pow(Nt*Nt+Yt*Yt,D/2),oe=Math.pow(ee*ee+Xt*Xt,D/2),ie=(oe*oe*Nt-ae*ae*ee)*kt,pe=(oe*oe*Yt-ae*ae*Xt)*kt,$t=3*oe*(ae+oe),me=3*ae*(ae+oe);return[[nt(bt[0]+($t&&ie/$t)),ot(bt[1]+($t&&pe/$t))],[nt(bt[0]-(me&&ie/me)),ot(bt[1]-(me&&pe/me))]]}var ht={hv:function(pt,bt,lt){return"H"+nt(bt[0])+"V"+it(bt,1,lt)},vh:function(pt,bt,lt){return"V"+ot(bt[1])+"H"+it(bt,0,lt)},hvh:function(pt,bt,lt){return"H"+nt((pt[0]+bt[0])/2)+"V"+ot(bt[1])+"H"+it(bt,0,lt)},vhv:function(pt,bt,lt){return"V"+ot((pt[1]+bt[1])/2)+"H"+nt(bt[0])+"V"+it(bt,1,lt)}},xt=function(pt,bt,lt){return"L"+it(bt,0,lt)+","+it(bt,1,lt)};c.steps=function(pt){var bt=ht[pt]||xt;return function(lt){for(var kt="M"+nt(lt[0][0])+","+ot(lt[0][1]),Nt=lt.length,Yt=1;Yt<Nt;Yt++)kt+=bt(lt[Yt-1],lt[Yt],Yt===Nt-1);return kt}};function H(pt,bt){var lt=pt.backoff,kt=pt.trace,Nt=pt.d,Yt=pt.i;if(lt&&kt&&kt.marker&&kt.marker.angle%360===0&&kt.line&&kt.line.shape!=="spline"){var ee=t.isArrayOrTypedArray(lt),Xt=pt,ae=bt?bt[0]:W||0,oe=bt?bt[1]:X||0,ie=Xt[0],pe=Xt[1],$t=ie-ae,me=pe-oe,we=Math.atan2(me,$t),ve=ee?lt[Yt]:lt;if(ve==="auto"){var Me=Xt.i;kt.type==="scatter"&&Me--;var mt=Xt.marker,Lt=mt.symbol;t.isArrayOrTypedArray(Lt)&&(Lt=Lt[Me]);var At=mt.size;t.isArrayOrTypedArray(At)&&(At=At[Me]),ve=mt?c.symbolBackOffs[c.symbolNumber(Lt)]*At:0,ve+=c.getMarkerStandoff(Nt[Me],kt)||0}var Q=ie-ve*Math.cos(we),ft=pe-ve*Math.sin(we);(Q<=ie&&Q>=ae||Q>=ie&&Q<=ae)&&(ft<=pe&&ft>=oe||ft>=pe&&ft<=oe)&&(pt=[Q,ft])}return pt}c.applyBackoff=H,c.makeTester=function(){var pt=t.ensureSingleById(r.select("body"),"svg","js-plotly-tester",function(lt){lt.attr(u.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),bt=t.ensureSingle(pt,"path","js-reference-point",function(lt){lt.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});c.tester=pt,c.testref=bt},c.savedBBoxes={};var Y=0,A=1e4;c.bBox=function(pt,bt,lt){lt||(lt=J(pt));var kt;if(lt){if(kt=c.savedBBoxes[lt],kt)return t.extendFlat({},kt)}else if(pt.childNodes.length===1){var Nt=pt.childNodes[0];if(lt=J(Nt),lt){var Yt=+Nt.getAttribute("x")||0,ee=+Nt.getAttribute("y")||0,Xt=Nt.getAttribute("transform");if(!Xt){var ae=c.bBox(Nt,!1,lt);return Yt&&(ae.left+=Yt,ae.right+=Yt),ee&&(ae.top+=ee,ae.bottom+=ee),ae}if(lt+="~"+Yt+"~"+ee+"~"+Xt,kt=c.savedBBoxes[lt],kt)return t.extendFlat({},kt)}}var oe,ie;bt?oe=pt:(ie=c.tester.node(),oe=pt.cloneNode(!0),ie.appendChild(oe)),r.select(oe).attr("transform",null).call(v.positionText,0,0);var pe=oe.getBoundingClientRect(),$t=c.testref.node().getBoundingClientRect();bt||ie.removeChild(oe);var me={height:pe.height,width:pe.width,left:pe.left-$t.left,top:pe.top-$t.top,right:pe.right-$t.left,bottom:pe.bottom-$t.top};return Y>=A&&(c.savedBBoxes={},Y=0),lt&&(c.savedBBoxes[lt]=me),Y++,t.extendFlat({},me)};function J(pt){var bt=pt.getAttribute("data-unformatted");if(bt!==null)return bt+pt.getAttribute("data-math")+pt.getAttribute("text-anchor")+pt.getAttribute("style")}c.setClipUrl=function(pt,bt,lt){pt.attr("clip-path",at(bt,lt))};function at(pt,bt){if(!pt)return null;var lt=bt._context,kt=lt._exportedPlot?"":lt._baseUrl||"";return kt?"url('"+kt+"#"+pt+"')":"url(#"+pt+")"}c.getTranslate=function(pt){var bt=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,lt=pt.attr?"attr":"getAttribute",kt=pt[lt]("transform")||"",Nt=kt.replace(bt,function(Yt,ee,Xt){return[ee,Xt].join(" ")}).split(" ");return{x:+Nt[0]||0,y:+Nt[1]||0}},c.setTranslate=function(pt,bt,lt){var kt=/(\btranslate\(.*?\);?)/,Nt=pt.attr?"attr":"getAttribute",Yt=pt.attr?"attr":"setAttribute",ee=pt[Nt]("transform")||"";return bt=bt||0,lt=lt||0,ee=ee.replace(kt,"").trim(),ee+=e(bt,lt),ee=ee.trim(),pt[Yt]("transform",ee),ee},c.getScale=function(pt){var bt=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,lt=pt.attr?"attr":"getAttribute",kt=pt[lt]("transform")||"",Nt=kt.replace(bt,function(Yt,ee,Xt){return[ee,Xt].join(" ")}).split(" ");return{x:+Nt[0]||1,y:+Nt[1]||1}},c.setScale=function(pt,bt,lt){var kt=/(\bscale\(.*?\);?)/,Nt=pt.attr?"attr":"getAttribute",Yt=pt.attr?"attr":"setAttribute",ee=pt[Nt]("transform")||"";return bt=bt||1,lt=lt||1,ee=ee.replace(kt,"").trim(),ee+="scale("+bt+","+lt+")",ee=ee.trim(),pt[Yt]("transform",ee),ee};var N=/\s*sc.*/;c.setPointGroupScale=function(pt,bt,lt){if(bt=bt||1,lt=lt||1,!!pt){var kt=bt===1&&lt===1?"":"scale("+bt+","+lt+")";pt.each(function(){var Nt=(this.getAttribute("transform")||"").replace(N,"");Nt+=kt,Nt=Nt.trim(),this.setAttribute("transform",Nt)})}};var M=/translate\([^)]*\)\s*$/;c.setTextPointsScale=function(pt,bt,lt){pt&&pt.each(function(){var kt,Nt=r.select(this),Yt=Nt.select("text");if(Yt.node()){var ee=parseFloat(Yt.attr("x")||0),Xt=parseFloat(Yt.attr("y")||0),ae=(Nt.attr("transform")||"").match(M);bt===1&&lt===1?kt=[]:kt=[e(ee,Xt),"scale("+bt+","+lt+")",e(-ee,-Xt)],ae&&kt.push(ae),Nt.attr("transform",kt.join(""))}})};function S(pt,bt){var lt;return pt&&(lt=pt.mf),lt===void 0&&(lt=bt.marker&&bt.marker.standoff||0),!bt._geo&&!bt._xA?-lt:lt}c.getMarkerStandoff=S;var R=Math.atan2,V=Math.cos,rt=Math.sin;function st(pt,bt){var lt=bt[0],kt=bt[1];return[lt*V(pt)-kt*rt(pt),lt*rt(pt)+kt*V(pt)]}var ut,_t,Tt,Ft,Zt,Bt;function Rt(pt,bt){var lt=pt.ma;lt===void 0&&(lt=bt.marker.angle,(!lt||t.isArrayOrTypedArray(lt))&&(lt=0));var kt,Nt,Yt=bt.marker.angleref;if(Yt==="previous"||Yt==="north"){if(bt._geo){var ee=bt._geo.project(pt.lonlat);kt=ee[0],Nt=ee[1]}else{var Xt=bt._xA,ae=bt._yA;if(Xt&&ae)kt=Xt.c2p(pt.x),Nt=ae.c2p(pt.y);else return 90}if(bt._geo){var oe=pt.lonlat[0],ie=pt.lonlat[1],pe=bt._geo.project([oe,ie+1e-5]),$t=bt._geo.project([oe+1e-5,ie]),me=R($t[1]-Nt,$t[0]-kt),we=R(pe[1]-Nt,pe[0]-kt),ve;if(Yt==="north")ve=lt/180*Math.PI;else if(Yt==="previous"){var Me=oe/180*Math.PI,mt=ie/180*Math.PI,Lt=ut/180*Math.PI,At=_t/180*Math.PI,Q=Lt-Me,ft=V(At)*rt(Q),yt=rt(At)*V(mt)-V(At)*rt(mt)*V(Q);ve=-R(ft,yt)-Math.PI,ut=oe,_t=ie}var gt=st(me,[V(ve),0]),It=st(we,[rt(ve),0]);lt=R(gt[1]+It[1],gt[0]+It[0])/Math.PI*180,Yt==="previous"&&!(Bt===bt.uid&&pt.i===Zt+1)&&(lt=null)}if(Yt==="previous"&&!bt._geo)if(Bt===bt.uid&&pt.i===Zt+1&&l(kt)&&l(Nt)){var Mt=kt-Tt,Jt=Nt-Ft,qt=bt.line&&bt.line.shape||"",le=qt.slice(qt.length-1);le==="h"&&(Jt=0),le==="v"&&(Mt=0),lt+=R(Jt,Mt)/Math.PI*180+90}else lt=null}return Tt=kt,Ft=Nt,Zt=pt.i,Bt=bt.uid,lt}c.getMarkerAngle=Rt}),qr=Ct((F,C)=>{var r=wn(),t=Mn(),n=aa(),l=un(),i=De(),o=i.strTranslate,s=zn(),f=bn(),e=xa(),v=Ai(),u=ka().OPPOSITE_SIDE,h=/ [XY][0-9]* /,_=1.6,m=1.6;function g(y,p,c){var d=y._fullLayout,b=c.propContainer,w=c.propName,k=c.placeholder,$=c.traceIndex,P=c.avoid||{},O=c.attributes,T=c.transform,G=c.containerGroup,I=1,E=b.title,z=(E&&E.text?E.text:"").trim(),j=!1,U=E&&E.font?E.font:{},Z=U.family,D=U.size,W=U.color,X=U.weight,it=U.style,nt=U.variant,ot=U.textcase,dt=U.lineposition,ht=U.shadow,xt=c.subtitlePropName,H=!!xt,Y=c.subtitlePlaceholder,A=(b.title||{}).subtitle||{text:"",font:{}},J=A.text.trim(),at=!1,N=1,M=A.font,S=M.family,R=M.size,V=M.color,rt=M.weight,st=M.style,ut=M.variant,_t=M.textcase,Tt=M.lineposition,Ft=M.shadow,Zt;w==="title.text"?Zt="titleText":w.indexOf("axis")!==-1?Zt="axisTitleText":w.indexOf("colorbar")!==-1&&(Zt="colorbarTitleText");var Bt=y._context.edits[Zt];function Rt($t,me){return $t===void 0||me===void 0?!1:$t.replace(h," % ")===me.replace(h," % ")}z===""?I=0:Rt(z,k)&&(Bt||(z=""),I=.2,j=!0),H&&(J===""?N=0:Rt(J,Y)&&(Bt||(J=""),N=.2,at=!0)),c._meta?z=i.templateString(z,c._meta):d._meta&&(z=i.templateString(z,d._meta));var pt=z||J||Bt,bt;G||(G=i.ensureSingle(d._infolayer,"g","g-"+p),bt=d._hColorbarMoveTitle);var lt=G.selectAll("text."+p).data(pt?[0]:[]);lt.enter().append("text"),lt.text(z).attr("class",p),lt.exit().remove();var kt=null,Nt=p+"-subtitle",Yt=J||Bt;if(H&&Yt&&(kt=G.selectAll("text."+Nt).data(Yt?[0]:[]),kt.enter().append("text"),kt.text(J).attr("class",Nt),kt.exit().remove()),!pt)return G;function ee($t,me){i.syncOrAsync([Xt,ae],{title:$t,subtitle:me})}function Xt($t){var me=$t.title,we=$t.subtitle,ve;!T&&bt&&(T={}),T?(ve="",T.rotate&&(ve+="rotate("+[T.rotate,O.x,O.y]+")"),(T.offset||bt)&&(ve+=o(0,(T.offset||0)-(bt||0)))):ve=null,me.attr("transform",ve);function Me(yt){if(yt){var gt=r.select(yt.node().parentNode).select("."+Nt);if(!gt.empty()){var It=yt.node().getBBox();if(It.height){var Mt=It.y+It.height+_*R;gt.attr("y",Mt)}}}}if(me.style("opacity",I*f.opacity(W)).call(s.font,{color:f.rgb(W),size:r.round(D,2),family:Z,weight:X,style:it,variant:nt,textcase:ot,shadow:ht,lineposition:dt}).attr(O).call(e.convertToTspans,y,Me),we){var mt=G.select("."+p+"-math-group"),Lt=me.node().getBBox(),At=mt.node()?mt.node().getBBox():void 0,Q=At?At.y+At.height+_*R:Lt.y+Lt.height+m*R,ft=i.extendFlat({},O,{y:Q});we.attr("transform",ve),we.style("opacity",N*f.opacity(V)).call(s.font,{color:f.rgb(V),size:r.round(R,2),family:S,weight:rt,style:st,variant:ut,textcase:_t,shadow:Ft,lineposition:Tt}).attr(ft).call(e.convertToTspans,y)}return n.previousPromises(y)}function ae($t){var me=$t.title,we=r.select(me.node().parentNode);if(P&&P.selection&&P.side&&z){we.attr("transform",null);var ve=u[P.side],Me=P.side==="left"||P.side==="top"?-1:1,mt=t(P.pad)?P.pad:2,Lt=s.bBox(we.node()),At={t:0,b:0,l:0,r:0},Q=y._fullLayout._reservedMargin;for(var ft in Q)for(var yt in Q[ft]){var gt=Q[ft][yt];At[yt]=Math.max(At[yt],gt)}var It={left:At.l,top:At.t,right:d.width-At.r,bottom:d.height-At.b},Mt=P.maxShift||Me*(It[P.side]-Lt[P.side]),Jt=0;if(Mt<0)Jt=Mt;else{var qt=P.offsetLeft||0,le=P.offsetTop||0;Lt.left-=qt,Lt.right-=qt,Lt.top-=le,Lt.bottom-=le,P.selection.each(function(){var re=s.bBox(this);i.bBoxIntersect(Lt,re,mt)&&(Jt=Math.max(Jt,Me*(re[P.side]-Lt[ve])+mt))}),Jt=Math.min(Mt,Jt),b._titleScoot=Math.abs(Jt)}if(Jt>0||Mt<0){var Et={left:[-Jt,0],right:[Jt,0],top:[0,-Jt],bottom:[0,Jt]}[P.side];we.attr("transform",o(Et[0],Et[1]))}}}lt.call(ee,kt);function oe($t,me){$t.text(me).on("mouseover.opacity",function(){r.select(this).transition().duration(v.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){r.select(this).transition().duration(v.HIDE_PLACEHOLDER).style("opacity",0)})}if(Bt&&(z?lt.on(".opacity",null):(oe(lt,k),j=!0),lt.call(e.makeEditable,{gd:y}).on("edit",function($t){$!==void 0?l.call("_guiRestyle",y,w,$t,$):l.call("_guiRelayout",y,w,$t)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(ee)}).on("input",function($t){this.text($t||" ").call(e.positionText,O.x,O.y)}),H)){if(H&&!z){var ie=lt.node().getBBox(),pe=ie.y+ie.height+m*R;kt.attr("y",pe)}J?kt.on(".opacity",null):(oe(kt,Y),at=!0),kt.call(e.makeEditable,{gd:y}).on("edit",function($t){l.call("_guiRelayout",y,"title.subtitle.text",$t)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(ee)}).on("input",function($t){this.text($t||" ").call(e.positionText,kt.attr("x"),kt.attr("y"))})}return lt.classed("js-placeholder",j),kt&&kt.classed("js-placeholder",at),G}C.exports={draw:g,SUBTITLE_PADDING_EM:m,SUBTITLE_PADDING_MATHJAX_EM:_}}),Ri=Ct((F,C)=>{var r=wn(),t=Cr().utcFormat,n=De(),l=n.numberFormat,i=Mn(),o=n.cleanNumber,s=n.ms2DateTime,f=n.dateTime2ms,e=n.ensureNumber,v=n.isArrayOrTypedArray,u=oa(),h=u.FP_SAFE,_=u.BADNUM,m=u.LOG_CLIP,g=u.ONEWEEK,y=u.ONEDAY,p=u.ONEHOUR,c=u.ONEMIN,d=u.ONESEC,b=sa(),w=pa(),k=w.HOUR_PATTERN,$=w.WEEKDAY_PATTERN;function P(T){return Math.pow(10,T)}function O(T){return T!=null}C.exports=function(T,G){G=G||{};var I=T._id||"x",E=I.charAt(0);function z(A,J){if(A>0)return Math.log(A)/Math.LN10;if(A<=0&&J&&T.range&&T.range.length===2){var at=T.range[0],N=T.range[1];return .5*(at+N-2*m*Math.abs(at-N))}else return _}function j(A,J,at,N){if((N||{}).msUTC&&i(A))return+A;var M=f(A,at||T.calendar);if(M===_)if(i(A)){A=+A;var S=Math.floor(n.mod(A+.05,1)*10),R=Math.round(A-S/10);M=f(new Date(R))+S/10}else return _;return M}function U(A,J,at){return s(A,J,at||T.calendar)}function Z(A){return T._categories[Math.round(A)]}function D(A){if(O(A)){if(T._categoriesMap===void 0&&(T._categoriesMap={}),T._categoriesMap[A]!==void 0)return T._categoriesMap[A];T._categories.push(typeof A=="number"?String(A):A);var J=T._categories.length-1;return T._categoriesMap[A]=J,J}return _}function W(A,J){for(var at=new Array(J),N=0;N<J;N++){var M=(A[0]||[])[N],S=(A[1]||[])[N];at[N]=X([M,S])}return at}function X(A){if(T._categoriesMap)return T._categoriesMap[A]}function it(A){var J=X(A);if(J!==void 0)return J;if(i(A))return+A}function nt(A){return i(A)?+A:X(A)}function ot(A,J,at){return r.round(at+J*A,2)}function dt(A,J,at){return(A-at)/J}var ht=function(A){return i(A)?ot(A,T._m,T._b):_},xt=function(A){return dt(A,T._m,T._b)};if(T.rangebreaks){var H=E==="y";ht=function(A){if(!i(A))return _;var J=T._rangebreaks.length;if(!J)return ot(A,T._m,T._b);var at=H;T.range[0]>T.range[1]&&(at=!at);for(var N=at?-1:1,M=N*A,S=0,R=0;R<J;R++){var V=N*T._rangebreaks[R].min,rt=N*T._rangebreaks[R].max;if(M<V)break;if(M>rt)S=R+1;else{S=M<(V+rt)/2?R:R+1;break}}var st=T._B[S]||0;return isFinite(st)?ot(A,T._m2,st):0},xt=function(A){var J=T._rangebreaks.length;if(!J)return dt(A,T._m,T._b);for(var at=0,N=0;N<J&&!(A<T._rangebreaks[N].pmin);N++)A>T._rangebreaks[N].pmax&&(at=N+1);return dt(A,T._m2,T._B[at])}}T.c2l=T.type==="log"?z:e,T.l2c=T.type==="log"?P:e,T.l2p=ht,T.p2l=xt,T.c2p=T.type==="log"?function(A,J){return ht(z(A,J))}:ht,T.p2c=T.type==="log"?function(A){return P(xt(A))}:xt,["linear","-"].indexOf(T.type)!==-1?(T.d2r=T.r2d=T.d2c=T.r2c=T.d2l=T.r2l=o,T.c2d=T.c2r=T.l2d=T.l2r=e,T.d2p=T.r2p=function(A){return T.l2p(o(A))},T.p2d=T.p2r=xt,T.cleanPos=e):T.type==="log"?(T.d2r=T.d2l=function(A,J){return z(o(A),J)},T.r2d=T.r2c=function(A){return P(o(A))},T.d2c=T.r2l=o,T.c2d=T.l2r=e,T.c2r=z,T.l2d=P,T.d2p=function(A,J){return T.l2p(T.d2r(A,J))},T.p2d=function(A){return P(xt(A))},T.r2p=function(A){return T.l2p(o(A))},T.p2r=xt,T.cleanPos=e):T.type==="date"?(T.d2r=T.r2d=n.identity,T.d2c=T.r2c=T.d2l=T.r2l=j,T.c2d=T.c2r=T.l2d=T.l2r=U,T.d2p=T.r2p=function(A,J,at){return T.l2p(j(A,0,at))},T.p2d=T.p2r=function(A,J,at){return U(xt(A),J,at)},T.cleanPos=function(A){return n.cleanDate(A,_,T.calendar)}):T.type==="category"?(T.d2c=T.d2l=D,T.r2d=T.c2d=T.l2d=Z,T.d2r=T.d2l_noadd=it,T.r2c=function(A){var J=nt(A);return J!==void 0?J:T.fraction2r(.5)},T.l2r=T.c2r=e,T.r2l=nt,T.d2p=function(A){return T.l2p(T.r2c(A))},T.p2d=function(A){return Z(xt(A))},T.r2p=T.d2p,T.p2r=xt,T.cleanPos=function(A){return typeof A=="string"&&A!==""?A:e(A)}):T.type==="multicategory"&&(T.r2d=T.c2d=T.l2d=Z,T.d2r=T.d2l_noadd=it,T.r2c=function(A){var J=it(A);return J!==void 0?J:T.fraction2r(.5)},T.r2c_just_indices=X,T.l2r=T.c2r=e,T.r2l=it,T.d2p=function(A){return T.l2p(T.r2c(A))},T.p2d=function(A){return Z(xt(A))},T.r2p=T.d2p,T.p2r=xt,T.cleanPos=function(A){return Array.isArray(A)||typeof A=="string"&&A!==""?A:e(A)},T.setupMultiCategory=function(A){var J=T._traceIndices,at,N,M=T._matchGroup;if(M&&T._categories.length===0){for(var S in M)if(S!==I){var R=G[b.id2name(S)];J=J.concat(R._traceIndices)}}var V=[[0,{}],[0,{}]],rt=[];for(at=0;at<J.length;at++){var st=A[J[at]];if(E in st){var ut=st[E],_t=st._length||n.minRowLength(ut);if(v(ut[0])&&v(ut[1]))for(N=0;N<_t;N++){var Tt=ut[0][N],Ft=ut[1][N];O(Tt)&&O(Ft)&&(rt.push([Tt,Ft]),Tt in V[0][1]||(V[0][1][Tt]=V[0][0]++),Ft in V[1][1]||(V[1][1][Ft]=V[1][0]++))}}}for(rt.sort(function(Zt,Bt){var Rt=V[0][1],pt=Rt[Zt[0]]-Rt[Bt[0]];if(pt)return pt;var bt=V[1][1];return bt[Zt[1]]-bt[Bt[1]]}),at=0;at<rt.length;at++)D(rt[at])}),T.fraction2r=function(A){var J=T.r2l(T.range[0]),at=T.r2l(T.range[1]);return T.l2r(J+A*(at-J))},T.r2fraction=function(A){var J=T.r2l(T.range[0]),at=T.r2l(T.range[1]);return(T.r2l(A)-J)/(at-J)},T.limitRange=function(A){var J=T.minallowed,at=T.maxallowed;if(!(J===void 0&&at===void 0)){A||(A="range");var N=n.nestedProperty(T,A).get(),M=n.simpleMap(N,T.r2l),S=M[1]<M[0];S&&M.reverse();var R=n.simpleMap([J,at],T.r2l);if(J!==void 0&&M[0]<R[0]&&(N[S?1:0]=J),at!==void 0&&M[1]>R[1]&&(N[S?0:1]=at),N[0]===N[1]){var V=T.l2r(J),rt=T.l2r(at);if(J!==void 0){var st=V+1;at!==void 0&&(st=Math.min(st,rt)),N[S?1:0]=st}if(at!==void 0){var ut=rt+1;J!==void 0&&(ut=Math.max(ut,V)),N[S?0:1]=ut}}}},T.cleanRange=function(A,J){T._cleanRange(A,J),T.limitRange(A)},T._cleanRange=function(A,J){J||(J={}),A||(A="range");var at=n.nestedProperty(T,A).get(),N,M;if(T.type==="date"?M=n.dfltRange(T.calendar):E==="y"?M=w.DFLTRANGEY:T._name==="realaxis"?M=[0,1]:M=J.dfltRange||w.DFLTRANGEX,M=M.slice(),(T.rangemode==="tozero"||T.rangemode==="nonnegative")&&(M[0]=0),!at||at.length!==2){n.nestedProperty(T,A).set(M);return}var S=at[0]===null,R=at[1]===null;for(T.type==="date"&&!T.autorange&&(at[0]=n.cleanDate(at[0],_,T.calendar),at[1]=n.cleanDate(at[1],_,T.calendar)),N=0;N<2;N++)if(T.type==="date"){if(!n.isDateTime(at[N],T.calendar)){T[A]=M;break}if(T.r2l(at[0])===T.r2l(at[1])){var V=n.constrain(T.r2l(at[0]),n.MIN_MS+1e3,n.MAX_MS-1e3);at[0]=T.l2r(V-1e3),at[1]=T.l2r(V+1e3);break}}else{if(!i(at[N]))if(!(S||R)&&i(at[1-N]))at[N]=at[1-N]*(N?10:.1);else{T[A]=M;break}if(at[N]<-h?at[N]=-h:at[N]>h&&(at[N]=h),at[0]===at[1]){var rt=Math.max(1,Math.abs(at[0]*1e-6));at[0]-=rt,at[1]+=rt}}},T.setScale=function(A){var J=G._size;if(T.overlaying){var at=b.getFromId({_fullLayout:G},T.overlaying);T.domain=at.domain}var N=A&&T._r?"_r":"range",M=T.calendar;T.cleanRange(N);var S=T.r2l(T[N][0],M),R=T.r2l(T[N][1],M),V=E==="y";if(V?(T._offset=J.t+(1-T.domain[1])*J.h,T._length=J.h*(T.domain[1]-T.domain[0]),T._m=T._length/(S-R),T._b=-T._m*R):(T._offset=J.l+T.domain[0]*J.w,T._length=J.w*(T.domain[1]-T.domain[0]),T._m=T._length/(R-S),T._b=-T._m*S),T._rangebreaks=[],T._lBreaks=0,T._m2=0,T._B=[],T.rangebreaks){var rt,st;if(T._rangebreaks=T.locateBreaks(Math.min(S,R),Math.max(S,R)),T._rangebreaks.length){for(rt=0;rt<T._rangebreaks.length;rt++)st=T._rangebreaks[rt],T._lBreaks+=Math.abs(st.max-st.min);var ut=V;S>R&&(ut=!ut),ut&&T._rangebreaks.reverse();var _t=ut?-1:1;for(T._m2=_t*T._length/(Math.abs(R-S)-T._lBreaks),T._B.push(-T._m2*(V?R:S)),rt=0;rt<T._rangebreaks.length;rt++)st=T._rangebreaks[rt],T._B.push(T._B[T._B.length-1]-_t*T._m2*(st.max-st.min));for(rt=0;rt<T._rangebreaks.length;rt++)st=T._rangebreaks[rt],st.pmin=ht(st.min),st.pmax=ht(st.max)}}if(!isFinite(T._m)||!isFinite(T._b)||T._length<0)throw G._replotting=!1,new Error("Something went wrong with axis scaling")},T.maskBreaks=function(A){var J=T.rangebreaks||[],at,N,M,S,R;J._cachedPatterns||(J._cachedPatterns=J.map(function(Rt){return Rt.enabled&&Rt.bounds?n.simpleMap(Rt.bounds,Rt.pattern?o:T.d2c):null})),J._cachedValues||(J._cachedValues=J.map(function(Rt){return Rt.enabled&&Rt.values?n.simpleMap(Rt.values,T.d2c).sort(n.sorterAsc):null}));for(var V=0;V<J.length;V++){var rt=J[V];if(rt.enabled){if(rt.bounds){var st=rt.pattern;switch(at=J._cachedPatterns[V],N=at[0],M=at[1],st){case $:R=new Date(A),S=R.getUTCDay(),N>M&&(M+=7,S<N&&(S+=7));break;case k:R=new Date(A);var ut=R.getUTCHours(),_t=R.getUTCMinutes(),Tt=R.getUTCSeconds(),Ft=R.getUTCMilliseconds();S=ut+(_t/60+Tt/3600+Ft/36e5),N>M&&(M+=24,S<N&&(S+=24));break;case"":S=A;break}if(S>=N&&S<M)return _}else for(var Zt=J._cachedValues[V],Bt=0;Bt<Zt.length;Bt++)if(N=Zt[Bt],M=N+rt.dvalue,A>=N&&A<M)return _}}return A},T.locateBreaks=function(A,J){var at,N,M,S,R=[];if(!T.rangebreaks)return R;var V=T.rangebreaks.slice().sort(function(bt,lt){return bt.pattern===$&&lt.pattern===k?-1:lt.pattern===$&&bt.pattern===k?1:0}),rt=function(bt,lt){if(bt=n.constrain(bt,A,J),lt=n.constrain(lt,A,J),bt!==lt){for(var kt=!0,Nt=0;Nt<R.length;Nt++){var Yt=R[Nt];bt<Yt.max&&lt>=Yt.min&&(bt<Yt.min&&(Yt.min=bt),lt>Yt.max&&(Yt.max=lt),kt=!1)}kt&&R.push({min:bt,max:lt})}};for(at=0;at<V.length;at++){var st=V[at];if(st.enabled)if(st.bounds){var ut=A,_t=J;st.pattern&&(ut=Math.floor(ut)),N=n.simpleMap(st.bounds,st.pattern?o:T.r2l),M=N[0],S=N[1];var Tt=new Date(ut),Ft,Zt;switch(st.pattern){case $:Zt=g,Ft=((S<M?7:0)+(S-M))*y,ut+=M*y-(Tt.getUTCDay()*y+Tt.getUTCHours()*p+Tt.getUTCMinutes()*c+Tt.getUTCSeconds()*d+Tt.getUTCMilliseconds());break;case k:Zt=y,Ft=((S<M?24:0)+(S-M))*p,ut+=M*p-(Tt.getUTCHours()*p+Tt.getUTCMinutes()*c+Tt.getUTCSeconds()*d+Tt.getUTCMilliseconds());break;default:ut=Math.min(N[0],N[1]),_t=Math.max(N[0],N[1]),Zt=_t-ut,Ft=Zt}for(var Bt=ut;Bt<_t;Bt+=Zt)rt(Bt,Bt+Ft)}else for(var Rt=n.simpleMap(st.values,T.d2c),pt=0;pt<Rt.length;pt++)M=Rt[pt],S=M+st.dvalue,rt(M,S)}return R.sort(function(bt,lt){return bt.min-lt.min}),R},T.makeCalcdata=function(A,J,at){var N,M,S,R,V=T.type,rt=V==="date"&&A[J+"calendar"];if(J in A){if(N=A[J],R=A._length||n.minRowLength(N),n.isTypedArray(N)&&(V==="linear"||V==="log")){if(R===N.length)return N;if(N.subarray)return N.subarray(0,R)}if(V==="multicategory")return W(N,R);for(M=new Array(R),S=0;S<R;S++)M[S]=T.d2c(N[S],0,rt,at)}else{var st=J+"0"in A?T.d2c(A[J+"0"],0,rt):0,ut=A["d"+J]?Number(A["d"+J]):1;for(N=A[{x:"y",y:"x"}[J]],R=A._length||N.length,M=new Array(R),S=0;S<R;S++)M[S]=st+S*ut}if(T.rangebreaks)for(S=0;S<R;S++)M[S]=T.maskBreaks(M[S]);return M},T.isValidRange=function(A,J){return Array.isArray(A)&&A.length===2&&(J&&A[0]===null||i(T.r2l(A[0])))&&(J&&A[1]===null||i(T.r2l(A[1])))},T.getAutorangeDflt=function(A,J){var at=!T.isValidRange(A,"nullOk");return at&&J&&J.reverseDflt?at="reversed":A&&(A[0]===null&&A[1]===null?at=!0:A[0]===null&&A[1]!==null?at="min":A[0]!==null&&A[1]===null&&(at="max")),at},T.isReversed=function(){var A=T.autorange;return A==="reversed"||A==="min reversed"||A==="max reversed"},T.isPtWithinRange=function(A,J){var at=T.c2l(A[E],null,J),N=T.r2l(T.range[0]),M=T.r2l(T.range[1]);return N<M?N<=at&&at<=M:M<=at&&at<=N},T._emptyCategories=function(){T._categories=[],T._categoriesMap={}},T.clearCalc=function(){var A=T._matchGroup;if(A){var J=null,at=null;for(var N in A){var M=G[b.id2name(N)];if(M._categories){J=M._categories,at=M._categoriesMap;break}}J&&at?(T._categories=J,T._categoriesMap=at):T._emptyCategories()}else T._emptyCategories();if(T._initialCategories)for(var S=0;S<T._initialCategories.length;S++)D(T._initialCategories[S])},T.sortByInitialCategories=function(){var A=[];if(T._emptyCategories(),T._initialCategories)for(var J=0;J<T._initialCategories.length;J++)D(T._initialCategories[J]);A=A.concat(T._traceIndices);var at=T._matchGroup;for(var N in at)if(I!==N){var M=G[b.id2name(N)];M._categories=T._categories,M._categoriesMap=T._categoriesMap,A=A.concat(M._traceIndices)}return A};var Y=G._d3locale;T.type==="date"&&(T._dateFormat=Y?Y.timeFormat:t,T._extraFormat=G._extraFormat),T._separators=G.separators,T._numFormat=Y?Y.numberFormat:l,delete T._minDtick,delete T._forceTick0}}),ol=Ct((F,C)=>{var r=Mn(),t=De(),n=oa().BADNUM,l=t.isArrayOrTypedArray,i=t.isDateTime,o=t.cleanNumber,s=Math.round;C.exports=function(m,g,y){var p=m,c=y.noMultiCategory;if(l(p)&&!p.length)return"-";if(!c&&_(p))return"multicategory";if(c&&Array.isArray(p[0])){for(var d=[],b=0;b<p.length;b++)if(l(p[b]))for(var w=0;w<p[b].length;w++)d.push(p[b][w]);p=d}if(v(p,g))return"date";var k=y.autotypenumbers!=="strict";return h(p,k)?"category":e(p,k)?"linear":"-"};function f(m,g){return g?r(m):typeof m=="number"}function e(m,g){for(var y=m.length,p=0;p<y;p++)if(f(m[p],g))return!0;return!1}function v(m,g){for(var y=m.length,p=u(y),c=0,d=0,b={},w=0;w<y;w+=p){var k=s(w),$=m[k],P=String($);b[P]||(b[P]=1,i($,g)&&c++,r($)&&d++)}return c>d*2}function u(m){return Math.max(1,(m-1)/1e3)}function h(m,g){for(var y=m.length,p=u(y),c=0,d=0,b={},w=0;w<y;w+=p){var k=s(w),$=m[k],P=String($);if(!b[P]){b[P]=1;var O=typeof $;O==="boolean"?d++:(g?o($)!==n:O==="number")?c++:O==="string"&&d++}}return d>c*2}function _(m){return l(m[0])&&l(m[1])}}),$r=Ct((F,C)=>{var r=wn(),t=Mn(),n=De(),l=oa().FP_SAFE,i=un(),o=zn(),s=sa(),f=s.getFromId,e=s.isLinked;C.exports={applyAutorangeOptions:G,getAutoRange:v,makePadFn:h,doAutoRange:y,findExtremes:p,concatExtremes:g};function v(I,E){var z,j,U=[],Z=I._fullLayout,D=h(Z,E,0),W=h(Z,E,1),X=g(I,E),it=X.min,nt=X.max;if(it.length===0||nt.length===0)return n.simpleMap(E.range,E.r2l);var ot=it[0].val,dt=nt[0].val;for(z=1;z<it.length&&ot===dt;z++)ot=Math.min(ot,it[z].val);for(z=1;z<nt.length&&ot===dt;z++)dt=Math.max(dt,nt[z].val);var ht=E.autorange,xt=ht==="reversed"||ht==="min reversed"||ht==="max reversed";if(!xt&&E.range){var H=n.simpleMap(E.range,E.r2l);xt=H[1]<H[0]}E.autorange==="reversed"&&(E.autorange=!0);var Y=E.rangemode,A=Y==="tozero",J=Y==="nonnegative",at=E._length,N=at/10,M=0,S,R,V,rt,st,ut;for(z=0;z<it.length;z++)for(S=it[z],j=0;j<nt.length;j++)R=nt[j],ut=R.val-S.val-u(E,S.val,R.val),ut>0&&(st=at-D(S)-W(R),st>N?ut/st>M&&(V=S,rt=R,M=ut/st):ut/at>M&&(V={val:S.val,nopad:1},rt={val:R.val,nopad:1},M=ut/at));function _t(Rt,pt){return Math.max(Rt,W(pt))}if(ot===dt){var Tt=ot-1,Ft=ot+1;if(A)if(ot===0)U=[0,1];else{var Zt=(ot>0?nt:it).reduce(_t,0),Bt=ot/(1-Math.min(.5,Zt/at));U=ot>0?[0,Bt]:[Bt,0]}else J?U=[Math.max(0,Tt),Math.max(1,Ft)]:U=[Tt,Ft]}else A?(V.val>=0&&(V={val:0,nopad:1}),rt.val<=0&&(rt={val:0,nopad:1})):J&&(V.val-M*D(V)<0&&(V={val:0,nopad:1}),rt.val<=0&&(rt={val:1,nopad:1})),M=(rt.val-V.val-u(E,S.val,R.val))/(at-D(V)-W(rt)),U=[V.val-M*D(V),rt.val+M*W(rt)];return U=G(U,E),E.limitRange&&E.limitRange(),xt&&U.reverse(),n.simpleMap(U,E.l2r||Number)}function u(I,E,z){var j=0;if(I.rangebreaks)for(var U=I.locateBreaks(E,z),Z=0;Z<U.length;Z++){var D=U[Z];j+=D.max-D.min}return j}function h(I,E,z){var j=.05*E._length,U=E._anchorAxis||{};if((E.ticklabelposition||"").indexOf("inside")!==-1||(U.ticklabelposition||"").indexOf("inside")!==-1){var Z=E.isReversed();if(!Z){var D=n.simpleMap(E.range,E.r2l);Z=D[1]<D[0]}Z&&(z=!z)}var W=0;return e(I,E._id)||(W=m(I,E,z)),j=Math.max(W,j),E.constrain==="domain"&&E._inputDomain&&(j*=(E._inputDomain[1]-E._inputDomain[0])/(E.domain[1]-E.domain[0])),function(X){return X.nopad?0:X.pad+(X.extrapad?j:W)}}var _=3;function m(I,E,z){var j=0,U=E._id.charAt(0)==="x";for(var Z in I._plots){var D=I._plots[Z];if(!(E._id!==D.xaxis._id&&E._id!==D.yaxis._id)){var W=(U?D.yaxis:D.xaxis)||{};if((W.ticklabelposition||"").indexOf("inside")!==-1&&(!z&&(W.side==="left"||W.side==="bottom")||z&&(W.side==="top"||W.side==="right"))){if(W._vals){var X=n.deg2rad(W._tickAngles[W._id+"tick"]||0),it=Math.abs(Math.cos(X)),nt=Math.abs(Math.sin(X));if(!W._vals[0].bb){var ot=W._id+"tick",dt=W._selections[ot];dt.each(function(J){var at=r.select(this),N=at.select(".text-math-group");N.empty()&&(J.bb=o.bBox(at.node()))})}for(var ht=0;ht<W._vals.length;ht++){var xt=W._vals[ht],H=xt.bb;if(H){var Y=2*_+H.width,A=2*_+H.height;j=Math.max(j,U?Math.max(Y*it,A*nt):Math.max(A*it,Y*nt))}}}W.ticks==="inside"&&W.ticklabelposition==="inside"&&(j+=W.ticklen||0)}}}return j}function g(I,E,z){var j=E._id,U=I._fullData,Z=I._fullLayout,D=[],W=[],X,it,nt;function ot(Y,A){for(X=0;X<A.length;X++){var J=Y[A[X]],at=(J._extremes||{})[j];if(J.visible===!0&&at){for(it=0;it<at.min.length;it++)nt=at.min[it],c(D,nt.val,nt.pad,{extrapad:nt.extrapad});for(it=0;it<at.max.length;it++)nt=at.max[it],d(W,nt.val,nt.pad,{extrapad:nt.extrapad})}}}if(ot(U,E._traceIndices),ot(Z.annotations||[],E._annIndices||[]),ot(Z.shapes||[],E._shapeIndices||[]),E._matchGroup&&!z){for(var dt in E._matchGroup)if(dt!==E._id){var ht=f(I,dt),xt=g(I,ht,!0),H=E._length/ht._length;for(it=0;it<xt.min.length;it++)nt=xt.min[it],c(D,nt.val,nt.pad*H,{extrapad:nt.extrapad});for(it=0;it<xt.max.length;it++)nt=xt.max[it],d(W,nt.val,nt.pad*H,{extrapad:nt.extrapad})}}return{min:D,max:W}}function y(I,E,z){if(E.setScale(),E.autorange){E.range=z?z.slice():v(I,E),E._r=E.range.slice(),E._rl=n.simpleMap(E._r,E.r2l);var j=E._input,U={};U[E._attr+".range"]=E.range,U[E._attr+".autorange"]=E.autorange,i.call("_storeDirectGUIEdit",I.layout,I._fullLayout._preGUI,U),j.range=E.range.slice(),j.autorange=E.autorange}var Z=E._anchorAxis;if(Z&&Z.rangeslider){var D=Z.rangeslider[E._name];D&&D.rangemode==="auto"&&(D.range=v(I,E)),Z._input.rangeslider[E._name]=n.extendFlat({},D)}}function p(I,E,z){z||(z={}),I._m||I.setScale();var j=[],U=[],Z=E.length,D=z.padded||!1,W=z.tozero&&(I.type==="linear"||I.type==="-"),X=I.type==="log",it=!1,nt=z.vpadLinearized||!1,ot,dt,ht,xt,H,Y,A,J,at;function N(_t){if(Array.isArray(_t))return it=!0,function(Ft){return Math.max(Number(_t[Ft]||0),0)};var Tt=Math.max(Number(_t||0),0);return function(){return Tt}}var M=N((I._m>0?z.ppadplus:z.ppadminus)||z.ppad||0),S=N((I._m>0?z.ppadminus:z.ppadplus)||z.ppad||0),R=N(z.vpadplus||z.vpad),V=N(z.vpadminus||z.vpad);if(!it){if(J=1/0,at=-1/0,X)for(ot=0;ot<Z;ot++)dt=E[ot],dt<J&&dt>0&&(J=dt),dt>at&&dt<l&&(at=dt);else for(ot=0;ot<Z;ot++)dt=E[ot],dt<J&&dt>-l&&(J=dt),dt>at&&dt<l&&(at=dt);E=[J,at],Z=2}var rt={tozero:W,extrapad:D};function st(_t){ht=E[_t],t(ht)&&(Y=M(_t),A=S(_t),nt?(xt=I.c2l(ht)-V(_t),H=I.c2l(ht)+R(_t)):(J=ht-V(_t),at=ht+R(_t),X&&J<at/10&&(J=at/10),xt=I.c2l(J),H=I.c2l(at)),W&&(xt=Math.min(0,xt),H=Math.max(0,H)),w(xt)&&c(j,xt,A,rt),w(H)&&d(U,H,Y,rt))}var ut=Math.min(6,Z);for(ot=0;ot<ut;ot++)st(ot);for(ot=Z-1;ot>=ut;ot--)st(ot);return{min:j,max:U,opts:z}}function c(I,E,z,j){b(I,E,z,j,k)}function d(I,E,z,j){b(I,E,z,j,$)}function b(I,E,z,j,U){for(var Z=j.tozero,D=j.extrapad,W=!0,X=0;X<I.length&&W;X++){var it=I[X];if(U(it.val,E)&&it.pad>=z&&(it.extrapad||!D)){W=!1;break}else U(E,it.val)&&it.pad<=z&&(D||!it.extrapad)&&(I.splice(X,1),X--)}if(W){var nt=Z&&E===0;I.push({val:E,pad:nt?0:z,extrapad:nt?!1:D})}}function w(I){return t(I)&&Math.abs(I)<l}function k(I,E){return I<=E}function $(I,E){return I>=E}function P(I,E){var z=E.autorangeoptions;return z&&z.minallowed!==void 0&&T(E,z.minallowed,z.maxallowed)?z.minallowed:z&&z.clipmin!==void 0&&T(E,z.clipmin,z.clipmax)?Math.max(I,E.d2l(z.clipmin)):I}function O(I,E){var z=E.autorangeoptions;return z&&z.maxallowed!==void 0&&T(E,z.minallowed,z.maxallowed)?z.maxallowed:z&&z.clipmax!==void 0&&T(E,z.clipmin,z.clipmax)?Math.min(I,E.d2l(z.clipmax)):I}function T(I,E,z){return E!==void 0&&z!==void 0?(E=I.d2l(E),z=I.d2l(z),E<z):!0}function G(I,E){if(!E||!E.autorangeoptions)return I;var z=I[0],j=I[1],U=E.autorangeoptions.include;if(U!==void 0){var Z=E.d2l(z),D=E.d2l(j);n.isArrayOrTypedArray(U)||(U=[U]);for(var W=0;W<U.length;W++){var X=E.d2l(U[W]);Z>=X&&(Z=X,z=X),D<=X&&(D=X,j=X)}}return z=P(z,E),j=O(j,E),[z,j]}}),Yn=Ct((F,C)=>{var r=wn(),t=Mn(),n=aa(),l=un(),i=De(),o=i.strTranslate,s=xa(),f=qr(),e=bn(),v=zn(),u=Va(),h=$o(),_=oa(),m=_.ONEMAXYEAR,g=_.ONEAVGYEAR,y=_.ONEMINYEAR,p=_.ONEMAXQUARTER,c=_.ONEAVGQUARTER,d=_.ONEMINQUARTER,b=_.ONEMAXMONTH,w=_.ONEAVGMONTH,k=_.ONEMINMONTH,$=_.ONEWEEK,P=_.ONEDAY,O=P/2,T=_.ONEHOUR,G=_.ONEMIN,I=_.ONESEC,E=_.ONEMILLI,z=_.ONEMICROSEC,j=_.MINUS_SIGN,U=_.BADNUM,Z={K:"zeroline"},D={K:"gridline",L:"path"},W={K:"minor-gridline",L:"path"},X={K:"tick",L:"path"},it={K:"tick",L:"text"},nt={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},ot=ka(),dt=ot.MID_SHIFT,ht=ot.CAP_SHIFT,xt=ot.LINE_SPACING,H=ot.OPPOSITE_SIDE,Y=3,A=C.exports={};A.setConvert=Ri();var J=ol(),at=sa(),N=at.idSort,M=at.isLinked;A.id2name=at.id2name,A.name2id=at.name2id,A.cleanId=at.cleanId,A.list=at.list,A.listIds=at.listIds,A.getFromId=at.getFromId,A.getFromTrace=at.getFromTrace;var S=$r();A.getAutoRange=S.getAutoRange,A.findExtremes=S.findExtremes;var R=1e-4;function V(tt){var K=(tt[1]-tt[0])*R;return[tt[0]-K,tt[1]+K]}A.coerceRef=function(tt,K,Vt,jt,Dt,Pt){var Ht=jt.charAt(jt.length-1),Kt=Vt._fullLayout._subplots[Ht+"axis"],zt=jt+"ref",Ut={};return Dt||(Dt=Kt[0]||(typeof Pt=="string"?Pt:Pt[0])),Pt||(Pt=Dt),Kt=Kt.concat(Kt.map(function(ne){return ne+" domain"})),Ut[zt]={valType:"enumerated",values:Kt.concat(Pt?typeof Pt=="string"?[Pt]:Pt:[]),dflt:Dt},i.coerce(tt,K,Ut,zt)},A.getRefType=function(tt){return tt===void 0?tt:tt==="paper"?"paper":tt==="pixel"?"pixel":/( domain)$/.test(tt)?"domain":"range"},A.coercePosition=function(tt,K,Vt,jt,Dt,Pt){var Ht,Kt,zt=A.getRefType(jt);if(zt!=="range")Ht=i.ensureNumber,Kt=Vt(Dt,Pt);else{var Ut=A.getFromId(K,jt);Pt=Ut.fraction2r(Pt),Kt=Vt(Dt,Pt),Ht=Ut.cleanPos}tt[Dt]=Ht(Kt)},A.cleanPosition=function(tt,K,Vt){var jt=Vt==="paper"||Vt==="pixel"?i.ensureNumber:A.getFromId(K,Vt).cleanPos;return jt(tt)},A.redrawComponents=function(tt,K){K=K||A.listIds(tt);var Vt=tt._fullLayout;function jt(Dt,Pt,Ht,Kt){for(var zt=l.getComponentMethod(Dt,Pt),Ut={},ne=0;ne<K.length;ne++)for(var Wt=Vt[A.id2name(K[ne])],ge=Wt[Ht],ye=0;ye<ge.length;ye++){var Te=ge[ye];if(!Ut[Te]&&(zt(tt,Te),Ut[Te]=1,Kt))return}}jt("annotations","drawOne","_annIndices"),jt("shapes","drawOne","_shapeIndices"),jt("images","draw","_imgIndices",!0),jt("selections","drawOne","_selectionIndices")};var rt=A.getDataConversions=function(tt,K,Vt,jt){var Dt,Pt=Vt==="x"||Vt==="y"||Vt==="z"?Vt:jt;if(i.isArrayOrTypedArray(Pt)){if(Dt={type:J(jt,void 0,{autotypenumbers:tt._fullLayout.autotypenumbers}),_categories:[]},A.setConvert(Dt),Dt.type==="category")for(var Ht=0;Ht<jt.length;Ht++)Dt.d2c(jt[Ht])}else Dt=A.getFromTrace(tt,K,Pt);return Dt?{d2c:Dt.d2c,c2d:Dt.c2d}:Pt==="ids"?{d2c:ut,c2d:ut}:{d2c:st,c2d:st}};function st(tt){return+tt}function ut(tt){return String(tt)}A.getDataToCoordFunc=function(tt,K,Vt,jt){return rt(tt,K,Vt,jt).d2c},A.counterLetter=function(tt){var K=tt.charAt(0);if(K==="x")return"y";if(K==="y")return"x"},A.minDtick=function(tt,K,Vt,jt){["log","category","multicategory"].indexOf(tt.type)!==-1||!jt?tt._minDtick=0:tt._minDtick===void 0?(tt._minDtick=K,tt._forceTick0=Vt):tt._minDtick&&((tt._minDtick/K+1e-6)%1<2e-6&&((Vt-tt._forceTick0)/K%1+1.000001)%1<2e-6?(tt._minDtick=K,tt._forceTick0=Vt):((K/tt._minDtick+1e-6)%1>2e-6||((Vt-tt._forceTick0)/tt._minDtick%1+1.000001)%1>2e-6)&&(tt._minDtick=0))},A.saveRangeInitial=function(tt,K){for(var Vt=A.list(tt,"",!0),jt=!1,Dt=0;Dt<Vt.length;Dt++){var Pt=Vt[Dt],Ht=Pt._rangeInitial0===void 0&&Pt._rangeInitial1===void 0,Kt=Ht||Pt.range[0]!==Pt._rangeInitial0||Pt.range[1]!==Pt._rangeInitial1,zt=Pt.autorange;(Ht&&zt!==!0||K&&Kt)&&(Pt._rangeInitial0=zt==="min"||zt==="max reversed"?void 0:Pt.range[0],Pt._rangeInitial1=zt==="max"||zt==="min reversed"?void 0:Pt.range[1],Pt._autorangeInitial=zt,jt=!0)}return jt},A.saveShowSpikeInitial=function(tt,K){for(var Vt=A.list(tt,"",!0),jt=!1,Dt="on",Pt=0;Pt<Vt.length;Pt++){var Ht=Vt[Pt],Kt=Ht._showSpikeInitial===void 0,zt=Kt||Ht.showspikes!==Ht._showspikes;(Kt||K&&zt)&&(Ht._showSpikeInitial=Ht.showspikes,jt=!0),Dt==="on"&&!Ht.showspikes&&(Dt="off")}return tt._fullLayout._cartesianSpikesEnabled=Dt,jt},A.autoBin=function(tt,K,Vt,jt,Dt,Pt){var Ht=i.aggNums(Math.min,null,tt),Kt=i.aggNums(Math.max,null,tt);if(K.type==="category"||K.type==="multicategory")return{start:Ht-.5,end:Kt+.5,size:Math.max(1,Math.round(Pt)||1),_dataSpan:Kt-Ht};Dt||(Dt=K.calendar);var zt;if(K.type==="log"?zt={type:"linear",range:[Ht,Kt]}:zt={type:K.type,range:i.simpleMap([Ht,Kt],K.c2r,0,Dt),calendar:Dt},A.setConvert(zt),Pt=Pt&&h.dtick(Pt,zt.type),Pt)zt.dtick=Pt,zt.tick0=h.tick0(void 0,zt.type,Dt);else{var Ut;if(Vt)Ut=(Kt-Ht)/Vt;else{var ne=i.distinctVals(tt),Wt=Math.pow(10,Math.floor(Math.log(ne.minDiff)/Math.LN10)),ge=Wt*i.roundUp(ne.minDiff/Wt,[.9,1.9,4.9,9.9],!0);Ut=Math.max(ge,2*i.stdev(tt)/Math.pow(tt.length,jt?.25:.4)),t(Ut)||(Ut=1)}A.autoTicks(zt,Ut)}var ye=zt.dtick,Te=A.tickIncrement(A.tickFirst(zt),ye,"reverse",Dt),Ae,ze;if(typeof ye=="number")Te=_t(Te,tt,zt,Ht,Kt),ze=1+Math.floor((Kt-Te)/ye),Ae=Te+ze*ye;else for(zt.dtick.charAt(0)==="M"&&(Te=Tt(Te,tt,ye,Ht,Dt)),Ae=Te,ze=0;Ae<=Kt;)Ae=A.tickIncrement(Ae,ye,!1,Dt),ze++;return{start:K.c2r(Te,0,Dt),end:K.c2r(Ae,0,Dt),size:ye,_dataSpan:Kt-Ht}};function _t(tt,K,Vt,jt,Dt){var Pt=0,Ht=0,Kt=0,zt=0;function Ut(ye){return(1+(ye-tt)*100/Vt.dtick)%100<2}for(var ne=0;ne<K.length;ne++)K[ne]%1===0?Kt++:t(K[ne])||zt++,Ut(K[ne])&&Pt++,Ut(K[ne]+Vt.dtick/2)&&Ht++;var Wt=K.length-zt;if(Kt===Wt&&Vt.type!=="date")Vt.dtick<1?tt=jt-.5*Vt.dtick:(tt-=.5,tt+Vt.dtick<jt&&(tt+=Vt.dtick));else if(Ht<Wt*.1&&(Pt>Wt*.3||Ut(jt)||Ut(Dt))){var ge=Vt.dtick/2;tt+=tt+ge<jt?ge:-ge}return tt}function Tt(tt,K,Vt,jt,Dt){var Pt=i.findExactDates(K,Dt),Ht=.8;if(Pt.exactDays>Ht){var Kt=Number(Vt.substr(1));Pt.exactYears>Ht&&Kt%12===0?tt=A.tickIncrement(tt,"M6","reverse")+P*1.5:Pt.exactMonths>Ht?tt=A.tickIncrement(tt,"M1","reverse")+P*15.5:tt-=O;var zt=A.tickIncrement(tt,Vt);if(zt<=jt)return zt}return tt}A.prepMinorTicks=function(tt,K,Vt){if(!K.minor.dtick){delete tt.dtick;var jt=K.dtick&&t(K._tmin),Dt;if(jt){var Pt=A.tickIncrement(K._tmin,K.dtick,!0);Dt=[K._tmin,Pt*.99+K._tmin*.01]}else{var Ht=i.simpleMap(K.range,K.r2l);Dt=[Ht[0],.8*Ht[0]+.2*Ht[1]]}if(tt.range=i.simpleMap(Dt,K.l2r),tt._isMinor=!0,A.prepTicks(tt,Vt),jt){var Kt=t(K.dtick),zt=t(tt.dtick),Ut=Kt?K.dtick:+K.dtick.substring(1),ne=zt?tt.dtick:+tt.dtick.substring(1);Kt&&zt?Ft(Ut,ne)?Ut===2*$&&ne===2*P&&(tt.dtick=$):Ut===2*$&&ne===3*P?tt.dtick=$:Ut===$&&!(K._input.minor||{}).nticks?tt.dtick=P:Zt(Ut/ne,2.5)?tt.dtick=Ut/2:tt.dtick=Ut:String(K.dtick).charAt(0)==="M"?zt?tt.dtick="M1":Ft(Ut,ne)?Ut>=12&&ne===2&&(tt.dtick="M3"):tt.dtick=K.dtick:String(tt.dtick).charAt(0)==="L"?String(K.dtick).charAt(0)==="L"?Ft(Ut,ne)||(tt.dtick=Zt(Ut/ne,2.5)?K.dtick/2:K.dtick):tt.dtick="D1":tt.dtick==="D2"&&+K.dtick>1&&(tt.dtick=1)}tt.range=K.range}K.minor._tick0Init===void 0&&(tt.tick0=K.tick0)};function Ft(tt,K){return Math.abs((tt/K+.5)%1-.5)<.001}function Zt(tt,K){return Math.abs(tt/K-1)<.001}A.prepTicks=function(tt,K){var Vt=i.simpleMap(tt.range,tt.r2l,void 0,void 0,K);if(tt.tickmode==="auto"||!tt.dtick){var jt=tt.nticks,Dt;jt||(tt.type==="category"||tt.type==="multicategory"?(Dt=tt.tickfont?i.bigFont(tt.tickfont.size||12):15,jt=tt._length/Dt):(Dt=tt._id.charAt(0)==="y"?40:80,jt=i.constrain(tt._length/Dt,4,9)+1),tt._name==="radialaxis"&&(jt*=2)),tt.minor&&tt.minor.tickmode!=="array"||tt.tickmode==="array"&&(jt*=100),tt._roughDTick=Math.abs(Vt[1]-Vt[0])/jt,A.autoTicks(tt,tt._roughDTick),tt._minDtick>0&&tt.dtick<tt._minDtick*2&&(tt.dtick=tt._minDtick,tt.tick0=tt.l2r(tt._forceTick0))}tt.ticklabelmode==="period"&&Rt(tt),tt.tick0||(tt.tick0=tt.type==="date"?"2000-01-01":0),tt.type==="date"&&tt.dtick<.1&&(tt.dtick=.1),$t(tt)};function Bt(tt){return+tt.substring(1)}function Rt(tt){var K;function Vt(){return!(t(tt.dtick)||tt.dtick.charAt(0)!=="M")}var jt=Vt(),Dt=A.getTickFormat(tt);if(Dt){var Pt=tt._dtickInit!==tt.dtick;/%[fLQsSMX]/.test(Dt)||(/%[HI]/.test(Dt)?(K=T,Pt&&!jt&&tt.dtick<T&&(tt.dtick=T)):/%p/.test(Dt)?(K=O,Pt&&!jt&&tt.dtick<O&&(tt.dtick=O)):/%[Aadejuwx]/.test(Dt)?(K=P,Pt&&!jt&&tt.dtick<P&&(tt.dtick=P)):/%[UVW]/.test(Dt)?(K=$,Pt&&!jt&&tt.dtick<$&&(tt.dtick=$)):/%[Bbm]/.test(Dt)?(K=w,Pt&&(jt?Bt(tt.dtick)<1:tt.dtick<k)&&(tt.dtick="M1")):/%[q]/.test(Dt)?(K=c,Pt&&(jt?Bt(tt.dtick)<3:tt.dtick<d)&&(tt.dtick="M3")):/%[Yy]/.test(Dt)&&(K=g,Pt&&(jt?Bt(tt.dtick)<12:tt.dtick<y)&&(tt.dtick="M12")))}jt=Vt(),jt&&tt.tick0===tt._dowTick0&&(tt.tick0=tt._rawTick0),tt._definedDelta=K}function pt(tt,K,Vt){for(var jt=0;jt<tt.length;jt++){var Dt=tt[jt].value,Pt=jt,Ht=jt+1;jt<tt.length-1?(Pt=jt,Ht=jt+1):jt>0?(Pt=jt-1,Ht=jt):(Pt=jt,Ht=jt);var Kt=tt[Pt].value,zt=tt[Ht].value,Ut=Math.abs(zt-Kt),ne=Vt||Ut,Wt=0;ne>=y?Ut>=y&&Ut<=m?Wt=Ut:Wt=g:Vt===c&&ne>=d?Ut>=d&&Ut<=p?Wt=Ut:Wt=c:ne>=k?Ut>=k&&Ut<=b?Wt=Ut:Wt=w:Vt===$&&ne>=$?Wt=$:ne>=P?Wt=P:Vt===O&&ne>=O?Wt=O:Vt===T&&ne>=T&&(Wt=T);var ge;Wt>=Ut&&(Wt=Ut,ge=!0);var ye=Dt+Wt;if(K.rangebreaks&&Wt>0){for(var Te=84,Ae=0,ze=0;ze<Te;ze++){var Ee=(ze+.5)/Te;K.maskBreaks(Dt*(1-Ee)+Ee*ye)!==U&&Ae++}Wt*=Ae/Te,Wt||(tt[jt].drop=!0),ge&&Ut>$&&(Wt=Ut)}(Wt>0||jt===0)&&(tt[jt].periodX=Dt+Wt/2)}}A.calcTicks=function(tt,K){for(var Vt=tt.type,jt=tt.calendar,Dt=tt.ticklabelstep,Pt=tt.ticklabelmode==="period",Ht=tt.range[0]>tt.range[1],Kt=!tt.ticklabelindex||i.isArrayOrTypedArray(tt.ticklabelindex)?tt.ticklabelindex:[tt.ticklabelindex],zt=i.simpleMap(tt.range,tt.r2l,void 0,void 0,K),Ut=zt[1]<zt[0],ne=Math.min(zt[0],zt[1]),Wt=Math.max(zt[0],zt[1]),ge=Math.max(1e3,tt._length||0),ye=[],Te=[],Ae=[],ze=[],Ee=[],Je=tt.minor&&(tt.minor.ticks||tt.minor.showgrid),Pe=1;Pe>=(Je?0:1);Pe--){var Ke=!Pe;Pe?(tt._dtickInit=tt.dtick,tt._tick0Init=tt.tick0):(tt.minor._dtickInit=tt.minor.dtick,tt.minor._tick0Init=tt.minor.tick0);var nn=Pe?tt:i.extendFlat({},tt,tt.minor);if(Ke?A.prepMinorTicks(nn,tt,K):A.prepTicks(nn,K),nn.tickmode==="array"){Pe?(Ae=[],ye=kt(tt,!Ke)):(ze=[],Te=kt(tt,!Ke));continue}if(nn.tickmode==="sync"){Ae=[],ye=lt(tt);continue}var mn=V(zt),gn=mn[0],pn=mn[1],xn=t(nn.dtick),Sn=Vt==="log"&&!(xn||nn.dtick.charAt(0)==="L"),jn=A.tickFirst(nn,K);if(Pe){if(tt._tmin=jn,jn<gn!==Ut)break;(Vt==="category"||Vt==="multicategory")&&(pn=Ut?Math.max(-.5,pn):Math.min(tt._categories.length-.5,pn))}var ta=null,Ue=jn,Tn;if(Pe){var kn;xn?kn=tt.dtick:Vt==="date"?typeof tt.dtick=="string"&&tt.dtick.charAt(0)==="M"&&(kn=w*tt.dtick.substring(1)):kn=tt._roughDTick,Tn=Math.round((tt.r2l(Ue)-tt.r2l(tt.tick0))/kn)-1}var Gn=nn.dtick;for(nn.rangebreaks&&nn._tick0Init!==nn.tick0&&(Ue=He(Ue,tt),Ut||(Ue=A.tickIncrement(Ue,Gn,!Ut,jt))),Pe&&Pt&&(Ue=A.tickIncrement(Ue,Gn,!Ut,jt),Tn--);Ut?Ue>=pn:Ue<=pn;Ue=A.tickIncrement(Ue,Gn,Ut,jt)){if(Pe&&Tn++,nn.rangebreaks&&!Ut){if(Ue<gn)continue;if(nn.maskBreaks(Ue)===U&&He(Ue,nn)>=Wt)break}if(Ae.length>ge||Ue===ta)break;ta=Ue;var $n={value:Ue};Pe?(Sn&&Ue!==(Ue|0)&&($n.simpleLabel=!0),Dt>1&&Tn%Dt&&($n.skipLabel=!0),Ae.push($n)):($n.minor=!0,ze.push($n))}}if(!ze||ze.length<2)Kt=!1;else{var En=(ze[1].value-ze[0].value)*(Ht?-1:1);fn(En,tt.tickformat)||(Kt=!1)}if(!Kt)Ee=Ae;else{var sn=Ae.concat(ze);Pt&&Ae.length&&(sn=sn.slice(1)),sn=sn.sort(function(On,Zn){return On.value-Zn.value}).filter(function(On,Zn,Jn){return Zn===0||On.value!==Jn[Zn-1].value});var _n=sn.map(function(On,Zn){return On.minor===void 0&&!On.skipLabel?Zn:null}).filter(function(On){return On!==null});_n.forEach(function(On){Kt.map(function(Zn){var Jn=On+Zn;Jn>=0&&Jn<sn.length&&i.pushUnique(Ee,sn[Jn])})})}if(Je){var An=tt.minor.ticks==="inside"&&tt.ticks==="outside"||tt.minor.ticks==="outside"&&tt.ticks==="inside";if(!An){for(var Dn=Ae.map(function(On){return On.value}),In=[],Hn=0;Hn<ze.length;Hn++){var Rn=ze[Hn],Un=Rn.value;if(Dn.indexOf(Un)===-1){for(var ea=!1,Wn=0;!ea&&Wn<Ae.length;Wn++)1e7+Ae[Wn].value===1e7+Un&&(ea=!0);ea||In.push(Rn)}}ze=In}}Pt&&pt(Ee,tt,tt._definedDelta);var Ln;if(tt.rangebreaks){var va=tt._id.charAt(0)==="y",Qn=1;tt.tickmode==="auto"&&(Qn=tt.tickfont?tt.tickfont.size:12);var ua=NaN;for(Ln=Ae.length-1;Ln>-1;Ln--){if(Ae[Ln].drop){Ae.splice(Ln,1);continue}Ae[Ln].value=He(Ae[Ln].value,tt);var wa=tt.c2p(Ae[Ln].value);(va?ua>wa-Qn:ua<wa+Qn)?Ae.splice(Ut?Ln+1:Ln,1):ua=wa}}ln(tt)&&Math.abs(zt[1]-zt[0])===360&&Ae.pop(),tt._tmax=(Ae[Ae.length-1]||{}).value,tt._prevDateHead="",tt._inCalcTicks=!0;var ca,La=function(On){On.text="",tt._prevDateHead=ca};Ae=Ae.concat(ze);function na(On,Zn){var Jn=A.tickText(On,Zn.value,!1,Zn.simpleLabel),ga=Zn.periodX;return ga!==void 0&&(Jn.periodX=ga,(ga>Wt||ga<ne)&&(ga>Wt&&(Jn.periodX=Wt),ga<ne&&(Jn.periodX=ne),La(Jn))),Jn}var Vn;for(Ln=0;Ln<Ae.length;Ln++){var Sa=Ae[Ln].minor,er=Ae[Ln].value;Sa?(Kt&&Ee.indexOf(Ae[Ln])!==-1?Vn=na(tt,Ae[Ln]):Vn={x:er},Vn.minor=!0,Te.push(Vn)):(ca=tt._prevDateHead,Vn=na(tt,Ae[Ln]),(Ae[Ln].skipLabel||Kt&&Ee.indexOf(Ae[Ln])===-1)&&La(Vn),ye.push(Vn))}return ye=ye.concat(Te),tt._inCalcTicks=!1,Pt&&ye.length&&(ye[0].noTick=!0),ye};function bt(tt,K){return tt.rangebreaks&&(K=K.filter(function(Vt){return tt.maskBreaks(Vt.x)!==U})),K}function lt(tt){var K=tt._mainAxis,Vt=[];if(K._vals){for(var jt=0;jt<K._vals.length;jt++)if(!K._vals[jt].noTick){var Dt=K.l2p(K._vals[jt].x),Pt=tt.p2l(Dt),Ht=A.tickText(tt,Pt);K._vals[jt].minor&&(Ht.minor=!0,Ht.text=""),Vt.push(Ht)}}return Vt=bt(tt,Vt),Vt}function kt(tt,K){var Vt=i.simpleMap(tt.range,tt.r2l),jt=V(Vt),Dt=Math.min(jt[0],jt[1]),Pt=Math.max(jt[0],jt[1]),Ht=tt.type==="category"?tt.d2l_noadd:tt.d2l;tt.type==="log"&&String(tt.dtick).charAt(0)!=="L"&&(tt.dtick="L"+Math.pow(10,Math.floor(Math.min(tt.range[0],tt.range[1]))-1));for(var Kt=[],zt=0;zt<=1;zt++)if(!(K!==void 0&&(K&&zt||K===!1&&!zt))&&!(zt&&!tt.minor)){var Ut=zt?tt.minor.tickvals:tt.tickvals,ne=zt?[]:tt.ticktext;if(Ut){i.isArrayOrTypedArray(ne)||(ne=[]);for(var Wt=0;Wt<Ut.length;Wt++){var ge=Ht(Ut[Wt]);if(ge>Dt&&ge<Pt){var ye=A.tickText(tt,ge,!1,String(ne[Wt]));zt&&(ye.minor=!0,ye.text=""),Kt.push(ye)}}}}return Kt=bt(tt,Kt),Kt}var Nt=[2,5,10],Yt=[1,2,3,6,12],ee=[1,2,5,10,15,30],Xt=[1,2,3,7,14],ae=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],oe=[-.301,0,.301,.699,1],ie=[15,30,45,90,180];function pe(tt,K,Vt){return K*i.roundUp(tt/K,Vt)}A.autoTicks=function(tt,K,Vt){var jt;function Dt(Wt){return Math.pow(Wt,Math.floor(Math.log(K)/Math.LN10))}if(tt.type==="date"){tt.tick0=i.dateTick0(tt.calendar,0);var Pt=2*K;if(Pt>g)K/=g,jt=Dt(10),tt.dtick="M"+12*pe(K,jt,Nt);else if(Pt>w)K/=w,tt.dtick="M"+pe(K,1,Yt);else if(Pt>P){if(tt.dtick=pe(K,P,tt._hasDayOfWeekBreaks?[1,2,7,14]:Xt),!Vt){var Ht=A.getTickFormat(tt),Kt=tt.ticklabelmode==="period";Kt&&(tt._rawTick0=tt.tick0),/%[uVW]/.test(Ht)?tt.tick0=i.dateTick0(tt.calendar,2):tt.tick0=i.dateTick0(tt.calendar,1),Kt&&(tt._dowTick0=tt.tick0)}}else Pt>T?tt.dtick=pe(K,T,Yt):Pt>G?tt.dtick=pe(K,G,ee):Pt>I?tt.dtick=pe(K,I,ee):(jt=Dt(10),tt.dtick=pe(K,jt,Nt))}else if(tt.type==="log"){tt.tick0=0;var zt=i.simpleMap(tt.range,tt.r2l);if(tt._isMinor&&(K*=1.5),K>.7)tt.dtick=Math.ceil(K);else if(Math.abs(zt[1]-zt[0])<1){var Ut=1.5*Math.abs((zt[1]-zt[0])/K);K=Math.abs(Math.pow(10,zt[1])-Math.pow(10,zt[0]))/Ut,jt=Dt(10),tt.dtick="L"+pe(K,jt,Nt)}else tt.dtick=K>.3?"D2":"D1"}else tt.type==="category"||tt.type==="multicategory"?(tt.tick0=0,tt.dtick=Math.ceil(Math.max(K,1))):ln(tt)?(tt.tick0=0,jt=1,tt.dtick=pe(K,jt,ie)):(tt.tick0=0,jt=Dt(10),tt.dtick=pe(K,jt,Nt));if(tt.dtick===0&&(tt.dtick=1),!t(tt.dtick)&&typeof tt.dtick!="string"){var ne=tt.dtick;throw tt.dtick=1,"ax.dtick error: "+String(ne)}};function $t(tt){var K=tt.dtick;if(tt._tickexponent=0,!t(K)&&typeof K!="string"&&(K=1),(tt.type==="category"||tt.type==="multicategory")&&(tt._tickround=null),tt.type==="date"){var Vt=tt.r2l(tt.tick0),jt=tt.l2r(Vt).replace(/(^-|i)/g,""),Dt=jt.length;if(String(K).charAt(0)==="M")Dt>10||jt.substr(5)!=="01-01"?tt._tickround="d":tt._tickround=+K.substr(1)%12===0?"y":"m";else if(K>=P&&Dt<=10||K>=P*15)tt._tickround="d";else if(K>=G&&Dt<=16||K>=T)tt._tickround="M";else if(K>=I&&Dt<=19||K>=G)tt._tickround="S";else{var Pt=tt.l2r(Vt+K).replace(/^-/,"").length;tt._tickround=Math.max(Dt,Pt)-20,tt._tickround<0&&(tt._tickround=4)}}else if(t(K)||K.charAt(0)==="L"){var Ht=tt.range.map(tt.r2d||Number);t(K)||(K=Number(K.substr(1))),tt._tickround=2-Math.floor(Math.log(K)/Math.LN10+.01);var Kt=Math.max(Math.abs(Ht[0]),Math.abs(Ht[1])),zt=Math.floor(Math.log(Kt)/Math.LN10+.01),Ut=tt.minexponent===void 0?3:tt.minexponent;Math.abs(zt)>Ut&&(yt(tt.exponentformat)&&!gt(zt)?tt._tickexponent=3*Math.round((zt-1)/3):tt._tickexponent=zt)}else tt._tickround=null}A.tickIncrement=function(tt,K,Vt,jt){var Dt=Vt?-1:1;if(t(K))return i.increment(tt,Dt*K);var Pt=K.charAt(0),Ht=Dt*Number(K.substr(1));if(Pt==="M")return i.incrementMonth(tt,Ht,jt);if(Pt==="L")return Math.log(Math.pow(10,tt)+Ht)/Math.LN10;if(Pt==="D"){var Kt=K==="D2"?oe:ae,zt=tt+Dt*.01,Ut=i.roundUp(i.mod(zt,1),Kt,Vt);return Math.floor(zt)+Math.log(r.round(Math.pow(10,Ut),1))/Math.LN10}throw"unrecognized dtick "+String(K)},A.tickFirst=function(tt,K){var Vt=tt.r2l||Number,jt=i.simpleMap(tt.range,Vt,void 0,void 0,K),Dt=jt[1]<jt[0],Pt=Dt?Math.floor:Math.ceil,Ht=V(jt)[0],Kt=tt.dtick,zt=Vt(tt.tick0);if(t(Kt)){var Ut=Pt((Ht-zt)/Kt)*Kt+zt;return(tt.type==="category"||tt.type==="multicategory")&&(Ut=i.constrain(Ut,0,tt._categories.length-1)),Ut}var ne=Kt.charAt(0),Wt=Number(Kt.substr(1));if(ne==="M"){for(var ge=0,ye=zt,Te,Ae,ze;ge<10;){if(Te=A.tickIncrement(ye,Kt,Dt,tt.calendar),(Te-Ht)*(ye-Ht)<=0)return Dt?Math.min(ye,Te):Math.max(ye,Te);Ae=(Ht-(ye+Te)/2)/(Te-ye),ze=ne+(Math.abs(Math.round(Ae))||1)*Wt,ye=A.tickIncrement(ye,ze,Ae<0?!Dt:Dt,tt.calendar),ge++}return i.error("tickFirst did not converge",tt),ye}else{if(ne==="L")return Math.log(Pt((Math.pow(10,Ht)-zt)/Wt)*Wt+zt)/Math.LN10;if(ne==="D"){var Ee=Kt==="D2"?oe:ae,Je=i.roundUp(i.mod(Ht,1),Ee,Dt);return Math.floor(Ht)+Math.log(r.round(Math.pow(10,Je),1))/Math.LN10}else throw"unrecognized dtick "+String(Kt)}},A.tickText=function(tt,K,Vt,jt){var Dt=me(tt,K),Pt=tt.tickmode==="array",Ht=Vt||Pt,Kt=tt.type,zt=Kt==="category"?tt.d2l_noadd:tt.d2l,Ut,ne=function(ze){var Ee=tt.l2p(ze);return Ee>=0&&Ee<=tt._length?ze:null};if(Pt&&i.isArrayOrTypedArray(tt.ticktext)){var Wt=i.simpleMap(tt.range,tt.r2l),ge=(Math.abs(Wt[1]-Wt[0])-(tt._lBreaks||0))/1e4;for(Ut=0;Ut<tt.ticktext.length&&!(Math.abs(K-zt(tt.tickvals[Ut]))<ge);Ut++);if(Ut<tt.ticktext.length)return Dt.text=String(tt.ticktext[Ut]),Dt.xbnd=[ne(Dt.x-.5),ne(Dt.x+tt.dtick-.5)],Dt}function ye(ze){if(ze===void 0)return!0;if(Vt)return ze==="none";var Ee={first:tt._tmin,last:tt._tmax}[ze];return ze!=="all"&&K!==Ee}var Te=Vt?"never":tt.exponentformat!=="none"&&ye(tt.showexponent)?"hide":"";if(Kt==="date"?we(tt,Dt,Vt,Ht):Kt==="log"?ve(tt,Dt,Vt,Ht,Te):Kt==="category"?Me(tt,Dt):Kt==="multicategory"?mt(tt,Dt,Vt):ln(tt)?At(tt,Dt,Vt,Ht,Te):Lt(tt,Dt,Vt,Ht,Te),jt||(tt.tickprefix&&!ye(tt.showtickprefix)&&(Dt.text=tt.tickprefix+Dt.text),tt.ticksuffix&&!ye(tt.showticksuffix)&&(Dt.text+=tt.ticksuffix)),tt.labelalias&&tt.labelalias.hasOwnProperty(Dt.text)){var Ae=tt.labelalias[Dt.text];typeof Ae=="string"&&(Dt.text=Ae)}return(tt.tickson==="boundaries"||tt.showdividers)&&(Dt.xbnd=[ne(Dt.x-.5),ne(Dt.x+tt.dtick-.5)]),Dt},A.hoverLabelText=function(tt,K,Vt){Vt&&(tt=i.extendFlat({},tt,{hoverformat:Vt}));var jt=i.isArrayOrTypedArray(K)?K[0]:K,Dt=i.isArrayOrTypedArray(K)?K[1]:void 0;if(Dt!==void 0&&Dt!==jt)return A.hoverLabelText(tt,jt,Vt)+" - "+A.hoverLabelText(tt,Dt,Vt);var Pt=tt.type==="log"&&jt<=0,Ht=A.tickText(tt,tt.c2l(Pt?-jt:jt),"hover").text;return Pt?jt===0?"0":j+Ht:Ht};function me(tt,K,Vt){var jt=tt.tickfont||{};return{x:K,dx:0,dy:0,text:Vt||"",fontSize:jt.size,font:jt.family,fontWeight:jt.weight,fontStyle:jt.style,fontVariant:jt.variant,fontTextcase:jt.textcase,fontLineposition:jt.lineposition,fontShadow:jt.shadow,fontColor:jt.color}}function we(tt,K,Vt,jt){var Dt=tt._tickround,Pt=Vt&&tt.hoverformat||A.getTickFormat(tt);jt=!Pt&&jt,jt&&(t(Dt)?Dt=4:Dt={y:"m",m:"d",d:"M",M:"S",S:4}[Dt]);var Ht=i.formatDate(K.x,Pt,Dt,tt._dateFormat,tt.calendar,tt._extraFormat),Kt,zt=Ht.indexOf(`
`);if(zt!==-1&&(Kt=Ht.substr(zt+1),Ht=Ht.substr(0,zt)),jt&&(Kt!==void 0&&(Ht==="00:00:00"||Ht==="00:00")?(Ht=Kt,Kt=""):Ht.length===8&&(Ht=Ht.replace(/:00$/,""))),Kt)if(Vt)Dt==="d"?Ht+=", "+Kt:Ht=Kt+(Ht?", "+Ht:"");else if(!tt._inCalcTicks||tt._prevDateHead!==Kt)tt._prevDateHead=Kt,Ht+="<br>"+Kt;else{var Ut=an(tt),ne=tt._trueSide||tt.side;(!Ut&&ne==="top"||Ut&&ne==="bottom")&&(Ht+="<br> ")}K.text=Ht}function ve(tt,K,Vt,jt,Dt){var Pt=tt.dtick,Ht=K.x,Kt=tt.tickformat,zt=typeof Pt=="string"&&Pt.charAt(0);if(Dt==="never"&&(Dt=""),jt&&zt!=="L"&&(Pt="L3",zt="L"),Kt||zt==="L")K.text=It(Math.pow(10,Ht),tt,Dt,jt);else if(t(Pt)||zt==="D"&&(tt.minorloglabels==="complete"||i.mod(Ht+.01,1)<.1)){tt.minorloglabels==="complete"&&!(i.mod(Ht+.01,1)<.1)&&(K.fontSize*=.75);var Ut=Math.pow(10,Ht).toExponential(0),ne=Ut.split("e"),Wt=+ne[1],ge=Math.abs(Wt),ye=tt.exponentformat;ye==="power"||yt(ye)&&gt(Wt)?(K.text=ne[0],ge>0&&(K.text+="x10"),K.text==="1x10"&&(K.text="10"),Wt!==0&&Wt!==1&&(K.text+="<sup>"+(Wt>0?"":j)+ge+"</sup>"),K.fontSize*=1.25):(ye==="e"||ye==="E")&&ge>2?K.text=ne[0]+ye+(Wt>0?"+":j)+ge:(K.text=It(Math.pow(10,Ht),tt,"","fakehover"),Pt==="D1"&&tt._id.charAt(0)==="y"&&(K.dy-=K.fontSize/6))}else if(zt==="D")K.text=tt.minorloglabels==="none"?"":String(Math.round(Math.pow(10,i.mod(Ht,1)))),K.fontSize*=.75;else throw"unrecognized dtick "+String(Pt);if(tt.dtick==="D1"){var Te=String(K.text).charAt(0);(Te==="0"||Te==="1")&&(tt._id.charAt(0)==="y"?K.dx-=K.fontSize/4:(K.dy+=K.fontSize/2,K.dx+=(tt.range[1]>tt.range[0]?1:-1)*K.fontSize*(Ht<0?.5:.25)))}}function Me(tt,K){var Vt=tt._categories[Math.round(K.x)];Vt===void 0&&(Vt=""),K.text=String(Vt)}function mt(tt,K,Vt){var jt=Math.round(K.x),Dt=tt._categories[jt]||[],Pt=Dt[1]===void 0?"":String(Dt[1]),Ht=Dt[0]===void 0?"":String(Dt[0]);Vt?K.text=Ht+" - "+Pt:(K.text=Pt,K.text2=Ht)}function Lt(tt,K,Vt,jt,Dt){Dt==="never"?Dt="":tt.showexponent==="all"&&Math.abs(K.x/tt.dtick)<1e-6&&(Dt="hide"),K.text=It(K.x,tt,Dt,jt)}function At(tt,K,Vt,jt,Dt){if(tt.thetaunit==="radians"&&!Vt){var Pt=K.x/180;if(Pt===0)K.text="0";else{var Ht=Q(Pt);if(Ht[1]>=100)K.text=It(i.deg2rad(K.x),tt,Dt,jt);else{var Kt=K.x<0;Ht[1]===1?Ht[0]===1?K.text="":K.text=Ht[0]+"":K.text=["<sup>",Ht[0],"</sup>","","<sub>",Ht[1],"</sub>",""].join(""),Kt&&(K.text=j+K.text)}}}else K.text=It(K.x,tt,Dt,jt)}function Q(tt){function K(Kt,zt){return Math.abs(Kt-zt)<=1e-6}function Vt(Kt,zt){return K(zt,0)?Kt:Vt(zt,Kt%zt)}function jt(Kt){for(var zt=1;!K(Math.round(Kt*zt)/zt,Kt);)zt*=10;return zt}var Dt=jt(tt),Pt=tt*Dt,Ht=Math.abs(Vt(Pt,Dt));return[Math.round(Pt/Ht),Math.round(Dt/Ht)]}var ft=["f","p","n","","m","","k","M","G","T"];function yt(tt){return tt==="SI"||tt==="B"}function gt(tt){return tt>14||tt<-15}function It(tt,K,Vt,jt){var Dt=tt<0,Pt=K._tickround,Ht=Vt||K.exponentformat||"B",Kt=K._tickexponent,zt=A.getTickFormat(K),Ut=K.separatethousands;if(jt){var ne={exponentformat:Ht,minexponent:K.minexponent,dtick:K.showexponent==="none"?K.dtick:t(tt)&&Math.abs(tt)||1,range:K.showexponent==="none"?K.range.map(K.r2d):[0,tt||1]};$t(ne),Pt=(Number(ne._tickround)||0)+4,Kt=ne._tickexponent,K.hoverformat&&(zt=K.hoverformat)}if(zt)return K._numFormat(zt)(tt).replace(/-/g,j);var Wt=Math.pow(10,-Pt)/2;if(Ht==="none"&&(Kt=0),tt=Math.abs(tt),tt<Wt)tt="0",Dt=!1;else{if(tt+=Wt,Kt&&(tt*=Math.pow(10,-Kt),Pt+=Kt),Pt===0)tt=String(Math.floor(tt));else if(Pt<0){tt=String(Math.round(tt)),tt=tt.substr(0,tt.length+Pt);for(var ge=Pt;ge<0;ge++)tt+="0"}else{tt=String(tt);var ye=tt.indexOf(".")+1;ye&&(tt=tt.substr(0,ye+Pt).replace(/\.?0+$/,""))}tt=i.numSeparate(tt,K._separators,Ut)}if(Kt&&Ht!=="hide"){yt(Ht)&&gt(Kt)&&(Ht="power");var Te;Kt<0?Te=j+-Kt:Ht!=="power"?Te="+"+Kt:Te=String(Kt),Ht==="e"||Ht==="E"?tt+=Ht+Te:Ht==="power"?tt+="10<sup>"+Te+"</sup>":Ht==="B"&&Kt===9?tt+="B":yt(Ht)&&(tt+=ft[Kt/3+5])}return Dt?j+tt:tt}A.getTickFormat=function(tt){var K;function Vt(zt){return typeof zt!="string"?zt:Number(zt.replace("M",""))*w}function jt(zt,Ut){var ne=["L","D"];if(typeof zt==typeof Ut){if(typeof zt=="number")return zt-Ut;var Wt=ne.indexOf(zt.charAt(0)),ge=ne.indexOf(Ut.charAt(0));return Wt===ge?Number(zt.replace(/(L|D)/g,""))-Number(Ut.replace(/(L|D)/g,"")):Wt-ge}else return typeof zt=="number"?1:-1}function Dt(zt,Ut,ne){var Wt=ne||function(Te){return Te},ge=Ut[0],ye=Ut[1];return(!ge&&typeof ge!="number"||Wt(ge)<=Wt(zt))&&(!ye&&typeof ye!="number"||Wt(ye)>=Wt(zt))}function Pt(zt,Ut){var ne=Ut[0]===null,Wt=Ut[1]===null,ge=jt(zt,Ut[0])>=0,ye=jt(zt,Ut[1])<=0;return(ne||ge)&&(Wt||ye)}var Ht,Kt;if(tt.tickformatstops&&tt.tickformatstops.length>0)switch(tt.type){case"date":case"linear":{for(K=0;K<tt.tickformatstops.length;K++)if(Kt=tt.tickformatstops[K],Kt.enabled&&Dt(tt.dtick,Kt.dtickrange,Vt)){Ht=Kt;break}break}case"log":{for(K=0;K<tt.tickformatstops.length;K++)if(Kt=tt.tickformatstops[K],Kt.enabled&&Pt(tt.dtick,Kt.dtickrange)){Ht=Kt;break}break}}return Ht?Ht.value:tt.tickformat},A.getSubplots=function(tt,K){var Vt=tt._fullLayout._subplots,jt=Vt.cartesian.concat(Vt.gl2d||[]),Dt=K?A.findSubplotsWithAxis(jt,K):jt;return Dt.sort(function(Pt,Ht){var Kt=Pt.substr(1).split("y"),zt=Ht.substr(1).split("y");return Kt[0]===zt[0]?+Kt[1]-+zt[1]:+Kt[0]-+zt[0]}),Dt},A.findSubplotsWithAxis=function(tt,K){for(var Vt=new RegExp(K._id.charAt(0)==="x"?"^"+K._id+"y":K._id+"$"),jt=[],Dt=0;Dt<tt.length;Dt++){var Pt=tt[Dt];Vt.test(Pt)&&jt.push(Pt)}return jt},A.makeClipPaths=function(tt){var K=tt._fullLayout;if(!K._hasOnlyLargeSploms){var Vt={_offset:0,_length:K.width,_id:""},jt={_offset:0,_length:K.height,_id:""},Dt=A.list(tt,"x",!0),Pt=A.list(tt,"y",!0),Ht=[],Kt,zt;for(Kt=0;Kt<Dt.length;Kt++)for(Ht.push({x:Dt[Kt],y:jt}),zt=0;zt<Pt.length;zt++)Kt===0&&Ht.push({x:Vt,y:Pt[zt]}),Ht.push({x:Dt[Kt],y:Pt[zt]});var Ut=K._clips.selectAll(".axesclip").data(Ht,function(ne){return ne.x._id+ne.y._id});Ut.enter().append("clipPath").classed("axesclip",!0).attr("id",function(ne){return"clip"+K._uid+ne.x._id+ne.y._id}).append("rect"),Ut.exit().remove(),Ut.each(function(ne){r.select(this).select("rect").attr({x:ne.x._offset||0,y:ne.y._offset||0,width:ne.x._length||1,height:ne.y._length||1})})}},A.draw=function(tt,K,Vt){var jt=tt._fullLayout;K==="redraw"&&jt._paper.selectAll("g.subplot").each(function(zt){var Ut=zt[0],ne=jt._plots[Ut];if(ne){var Wt=ne.xaxis,ge=ne.yaxis;ne.xaxislayer.selectAll("."+Wt._id+"tick").remove(),ne.yaxislayer.selectAll("."+ge._id+"tick").remove(),ne.xaxislayer.selectAll("."+Wt._id+"tick2").remove(),ne.yaxislayer.selectAll("."+ge._id+"tick2").remove(),ne.xaxislayer.selectAll("."+Wt._id+"divider").remove(),ne.yaxislayer.selectAll("."+ge._id+"divider").remove(),ne.minorGridlayer&&ne.minorGridlayer.selectAll("path").remove(),ne.gridlayer&&ne.gridlayer.selectAll("path").remove(),ne.zerolinelayer&&ne.zerolinelayer.selectAll("path").remove(),ne.zerolinelayerAbove&&ne.zerolinelayerAbove.selectAll("path").remove(),jt._infolayer.select(".g-"+Wt._id+"title").remove(),jt._infolayer.select(".g-"+ge._id+"title").remove()}});var Dt=!K||K==="redraw"?A.listIds(tt):K,Pt=A.list(tt),Ht=Pt.filter(function(zt){return zt.autoshift}).map(function(zt){return zt.overlaying});Dt.map(function(zt){var Ut=A.getFromId(tt,zt);if(Ut.tickmode==="sync"&&Ut.overlaying){var ne=Dt.findIndex(function(Wt){return Wt===Ut.overlaying});ne>=0&&Dt.unshift(Dt.splice(ne,1).shift())}});var Kt={false:{left:0,right:0}};return i.syncOrAsync(Dt.map(function(zt){return function(){if(zt){var Ut=A.getFromId(tt,zt);Vt||(Vt={}),Vt.axShifts=Kt,Vt.overlayingShiftedAx=Ht;var ne=A.drawOne(tt,Ut,Vt);return Ut._shiftPusher&&vn(Ut,Ut._fullDepth||0,Kt,!0),Ut._r=Ut.range.slice(),Ut._rl=i.simpleMap(Ut._r,Ut.r2l),ne}}}))},A.drawOne=function(tt,K,Vt){Vt=Vt||{};var jt=Vt.axShifts||{},Dt=Vt.overlayingShiftedAx||[],Pt,Ht,Kt;K.setScale();var zt=tt._fullLayout,Ut=K._id,ne=Ut.charAt(0),Wt=A.counterLetter(Ut),ge=zt._plots[K._mainSubplot],ye=K.zerolinelayer==="above traces";if(!ge)return;if(K._shiftPusher=K.autoshift||Dt.indexOf(K._id)!==-1||Dt.indexOf(K.overlaying)!==-1,K._shiftPusher&K.anchor==="free"){var Te=K.linewidth/2||0;K.ticks==="inside"&&(Te+=K.ticklen),vn(K,Te,jt,!0),vn(K,K.shift||0,jt,!1)}(Vt.skipTitle!==!0||K._shift===void 0)&&(K._shift=$e(K,jt));var Ae=ge[ne+"axislayer"],ze=K._mainLinePosition,Ee=ze+=K._shift,Je=K._mainMirrorPosition,Pe=K._vals=A.calcTicks(K),Ke=[K.mirror,Ee,Je].join("_");for(Pt=0;Pt<Pe.length;Pt++)Pe[Pt].axInfo=Ke;K._selections={},K._tickAngles&&(K._prevTickAngles=K._tickAngles),K._tickAngles={},K._depth=null;var nn={};function mn(On){var Zn=Ut+(On||"tick");return nn[Zn]||(nn[Zn]=Et(K,Zn,Ee)),nn[Zn]}if(K.visible){var gn=A.makeTransTickFn(K),pn=A.makeTransTickLabelFn(K),xn,Sn,jn=K.ticks==="inside",ta=K.ticks==="outside";if(K.tickson==="boundaries"){var Ue=Jt(K,Pe);Sn=A.clipEnds(K,Ue),xn=jn?Sn:Ue}else Sn=A.clipEnds(K,Pe),xn=jn&&K.ticklabelmode!=="period"?Sn:Pe;var Tn=K._gridVals=Sn,kn=le(K,Pe);if(!zt._hasOnlyLargeSploms){var Gn=K._subplotsWith,$n={};for(Pt=0;Pt<Gn.length;Pt++){Ht=Gn[Pt],Kt=zt._plots[Ht];var En=Kt[Wt+"axis"],sn=En._mainAxis._id;if(!$n[sn]){$n[sn]=1;var _n=ne==="x"?"M0,"+En._offset+"v"+En._length:"M"+En._offset+",0h"+En._length;A.drawGrid(tt,K,{vals:Tn,counterAxis:En,layer:Kt.gridlayer.select("."+Ut),minorLayer:Kt.minorGridlayer.select("."+Ut),path:_n,transFn:gn}),A.drawZeroLine(tt,K,{counterAxis:En,layer:ye?Kt.zerolinelayerAbove:Kt.zerolinelayer,path:_n,transFn:gn})}}}var An,Dn=A.getTickSigns(K),In=A.getTickSigns(K,"minor");if(K.ticks||K.minor&&K.minor.ticks){var Hn=A.makeTickPath(K,Ee,Dn[2]),Rn=A.makeTickPath(K,Ee,In[2],{minor:!0}),Un,ea,Wn,Ln;if(K._anchorAxis&&K.mirror&&K.mirror!==!0?(Un=A.makeTickPath(K,Je,Dn[3]),ea=A.makeTickPath(K,Je,In[3],{minor:!0}),Wn=Hn+Un,Ln=Rn+ea):(Un="",ea="",Wn=Hn,Ln=Rn),K.showdividers&&ta&&K.tickson==="boundaries"){var va={};for(Pt=0;Pt<kn.length;Pt++)va[kn[Pt].x]=1;An=function(On){return va[On.x]?Un:Wn}}else An=function(On){return On.minor?Ln:Wn}}if(A.drawTicks(tt,K,{vals:xn,layer:Ae,path:An,transFn:gn}),K.mirror==="allticks"){var Qn=Object.keys(K._linepositions||{});for(Pt=0;Pt<Qn.length;Pt++){Ht=Qn[Pt],Kt=zt._plots[Ht];var ua=K._linepositions[Ht]||[],wa=ua[0],ca=ua[1],La=ua[2],na=A.makeTickPath(K,wa,La?Dn[0]:In[0],{minor:La})+A.makeTickPath(K,ca,La?Dn[1]:In[1],{minor:La});A.drawTicks(tt,K,{vals:xn,layer:Kt[ne+"axislayer"],path:na,transFn:gn})}}var Vn=[];if(Vn.push(function(){return A.drawLabels(tt,K,{vals:Pe,layer:Ae,plotinfo:Kt,transFn:pn,labelFns:A.makeLabelFns(K,Ee)})}),K.type==="multicategory"){var Sa={x:2,y:10}[ne];Vn.push(function(){var On={x:"height",y:"width"}[ne],Zn=mn()[On]+Sa+(K._tickAngles[Ut+"tick"]?K.tickfont.size*xt:0);return A.drawLabels(tt,K,{vals:qt(K,Pe),layer:Ae,cls:Ut+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:gn,labelFns:A.makeLabelFns(K,Ee+Zn*Dn[4])})}),Vn.push(function(){return K._depth=Dn[4]*(mn("tick2")[K.side]-Ee),Se(tt,K,{vals:kn,layer:Ae,path:A.makeTickPath(K,Ee,Dn[4],{len:K._depth}),transFn:gn})})}else K.title.hasOwnProperty("standoff")&&Vn.push(function(){K._depth=Dn[4]*(mn()[K.side]-Ee)});var er=l.getComponentMethod("rangeslider","isVisible")(K);return!Vt.skipTitle&&!(er&&K.side==="bottom")&&Vn.push(function(){return Ge(tt,K)}),Vn.push(function(){var On=K.side.charAt(0),Zn=H[K.side].charAt(0),Jn=A.getPxPosition(tt,K),ga=ta?K.ticklen:0,Xn,Fn,ya,Za;(K.automargin||er||K._shiftPusher)&&(K.type==="multicategory"?Xn=mn("tick2"):(Xn=mn(),ne==="x"&&On==="b"&&(K._depth=Math.max(Xn.width>0?Xn.bottom-Jn:0,ga))));var Ia=0,nr=0;if(K._shiftPusher&&(Ia=Math.max(ga,Xn.height>0?On==="l"?Jn-Xn.left:Xn.right-Jn:0),K.title.text!==zt._dfltTitle[ne]&&(nr=(K._titleStandoff||0)+(K._titleScoot||0),On==="l"&&(nr+=je(K))),K._fullDepth=Math.max(Ia,nr)),K.automargin){Fn={x:0,y:0,r:0,l:0,t:0,b:0};var rr=[0,1],Lr=typeof K._shift=="number"?K._shift:0;if(ne==="x"){if(On==="b"?Fn[On]=K._depth:(Fn[On]=K._depth=Math.max(Xn.width>0?Jn-Xn.top:0,ga),rr.reverse()),Xn.width>0){var oi=Xn.right-(K._offset+K._length);oi>0&&(Fn.xr=1,Fn.r=oi);var vr=K._offset-Xn.left;vr>0&&(Fn.xl=0,Fn.l=vr)}}else if(On==="l"?(K._depth=Math.max(Xn.height>0?Jn-Xn.left:0,ga),Fn[On]=K._depth-Lr):(K._depth=Math.max(Xn.height>0?Xn.right-Jn:0,ga),Fn[On]=K._depth+Lr,rr.reverse()),Xn.height>0){var li=Xn.bottom-(K._offset+K._length);li>0&&(Fn.yb=0,Fn.b=li);var si=K._offset-Xn.top;si>0&&(Fn.yt=1,Fn.t=si)}Fn[Wt]=K.anchor==="free"?K.position:K._anchorAxis.domain[rr[0]],K.title.text!==zt._dfltTitle[ne]&&(Fn[On]+=je(K)+(K.title.standoff||0)),K.mirror&&K.anchor!=="free"&&(ya={x:0,y:0,r:0,l:0,t:0,b:0},ya[Zn]=K.linewidth,K.mirror&&K.mirror!==!0&&(ya[Zn]+=ga),K.mirror===!0||K.mirror==="ticks"?ya[Wt]=K._anchorAxis.domain[rr[1]]:(K.mirror==="all"||K.mirror==="allticks")&&(ya[Wt]=[K._counterDomainMin,K._counterDomainMax][rr[1]]))}er&&(Za=l.getComponentMethod("rangeslider","autoMarginOpts")(tt,K)),typeof K.automargin=="string"&&(Mt(Fn,K.automargin),Mt(ya,K.automargin)),n.autoMargin(tt,Ve(K),Fn),n.autoMargin(tt,Re(K),ya),n.autoMargin(tt,Be(K),Za)}),i.syncOrAsync(Vn)}};function Mt(tt,K){if(tt){var Vt=Object.keys(nt).reduce(function(jt,Dt){return K.indexOf(Dt)!==-1&&nt[Dt].forEach(function(Pt){jt[Pt]=1}),jt},{});Object.keys(tt).forEach(function(jt){Vt[jt]||(jt.length===1?tt[jt]=0:delete tt[jt])})}}function Jt(tt,K){var Vt=[],jt,Dt=function(Pt,Ht){var Kt=Pt.xbnd[Ht];Kt!==null&&Vt.push(i.extendFlat({},Pt,{x:Kt}))};if(K.length){for(jt=0;jt<K.length;jt++)Dt(K[jt],0);Dt(K[jt-1],1)}return Vt}function qt(tt,K){for(var Vt=[],jt={},Dt=0;Dt<K.length;Dt++){var Pt=K[Dt];jt[Pt.text2]?jt[Pt.text2].push(Pt.x):jt[Pt.text2]=[Pt.x]}for(var Ht in jt)Vt.push(me(tt,i.interp(jt[Ht],.5),Ht));return Vt}function le(tt,K){var Vt=[],jt,Dt,Pt=K.length&&K[K.length-1].x<K[0].x,Ht=function(zt,Ut){var ne=zt.xbnd[Ut];ne!==null&&Vt.push(i.extendFlat({},zt,{x:ne}))};if(tt.showdividers&&K.length){for(jt=0;jt<K.length;jt++){var Kt=K[jt];Kt.text2!==Dt&&Ht(Kt,Pt?1:0),Dt=Kt.text2}Ht(K[jt-1],Pt?0:1)}return Vt}function Et(tt,K,Vt){var jt,Dt,Pt,Ht;if(tt._selections[K].size())jt=1/0,Dt=-1/0,Pt=1/0,Ht=-1/0,tt._selections[K].each(function(){var zt=Oe(this);if(zt.node().style.display!=="none"){var Ut=v.bBox(zt.node().parentNode);jt=Math.min(jt,Ut.top),Dt=Math.max(Dt,Ut.bottom),Pt=Math.min(Pt,Ut.left),Ht=Math.max(Ht,Ut.right)}});else{var Kt=A.makeLabelFns(tt,Vt);jt=Dt=Kt.yFn({dx:0,dy:0,fontSize:0}),Pt=Ht=Kt.xFn({dx:0,dy:0,fontSize:0})}return{top:jt,bottom:Dt,left:Pt,right:Ht,height:Dt-jt,width:Ht-Pt}}A.getTickSigns=function(tt,K){var Vt=tt._id.charAt(0),jt={x:"top",y:"right"}[Vt],Dt=tt.side===jt?1:-1,Pt=[-1,1,Dt,-Dt],Ht=K?(tt.minor||{}).ticks:tt.ticks;return Ht!=="inside"==(Vt==="x")&&(Pt=Pt.map(function(Kt){return-Kt})),tt.side&&Pt.push({l:-1,t:-1,r:1,b:1}[tt.side.charAt(0)]),Pt},A.makeTransTickFn=function(tt){return tt._id.charAt(0)==="x"?function(K){return o(tt._offset+tt.l2p(K.x),0)}:function(K){return o(0,tt._offset+tt.l2p(K.x))}},A.makeTransTickLabelFn=function(tt){var K=se(tt),Vt=tt.ticklabelshift||0,jt=tt.ticklabelstandoff||0,Dt=K[0],Pt=K[1],Ht=tt.range[0]>tt.range[1],Kt=tt.ticklabelposition&&tt.ticklabelposition.indexOf("inside")!==-1,zt=!Kt;if(Vt){var Ut=Ht?-1:1;Vt=Vt*Ut}if(jt){var ne=tt.side,Wt=Kt&&(ne==="top"||ne==="left")||zt&&(ne==="bottom"||ne==="right")?1:-1;jt=jt*Wt}return tt._id.charAt(0)==="x"?function(ge){return o(Dt+tt._offset+tt.l2p(re(ge))+Vt,Pt+jt)}:function(ge){return o(Pt+jt,Dt+tt._offset+tt.l2p(re(ge))+Vt)}};function re(tt){return tt.periodX!==void 0?tt.periodX:tt.x}function se(tt){var K=tt.ticklabelposition||"",Vt=tt.tickson||"",jt=function(Te){return K.indexOf(Te)!==-1},Dt=jt("top"),Pt=jt("left"),Ht=jt("right"),Kt=jt("bottom"),zt=jt("inside"),Ut=Vt!=="boundaries"&&(Kt||Pt||Dt||Ht);if(!Ut&&!zt)return[0,0];var ne=tt.side,Wt=Ut?(tt.tickwidth||0)/2:0,ge=Y,ye=tt.tickfont?tt.tickfont.size:12;return(Kt||Dt)&&(Wt+=ye*ht,ge+=(tt.linewidth||0)/2),(Pt||Ht)&&(Wt+=(tt.linewidth||0)/2,ge+=Y),zt&&ne==="top"&&(ge-=ye*(1-ht)),(Pt||Dt)&&(Wt=-Wt),(ne==="bottom"||ne==="right")&&(ge=-ge),[Ut?Wt:0,zt?ge:0]}A.makeTickPath=function(tt,K,Vt,jt){jt||(jt={});var Dt=jt.minor;if(Dt&&!tt.minor)return"";var Pt=jt.len!==void 0?jt.len:Dt?tt.minor.ticklen:tt.ticklen,Ht=tt._id.charAt(0),Kt=(tt.linewidth||1)/2;return Ht==="x"?"M0,"+(K+Kt*Vt)+"v"+Pt*Vt:"M"+(K+Kt*Vt)+",0h"+Pt*Vt},A.makeLabelFns=function(tt,K,Vt){var jt=tt.ticklabelposition||"",Dt=tt.tickson||"",Pt=function(Ue){return jt.indexOf(Ue)!==-1},Ht=Pt("top"),Kt=Pt("left"),zt=Pt("right"),Ut=Pt("bottom"),ne=Dt!=="boundaries"&&(Ut||Kt||Ht||zt),Wt=Pt("inside"),ge=jt==="inside"&&tt.ticks==="inside"||!Wt&&tt.ticks==="outside"&&Dt!=="boundaries",ye=0,Te=0,Ae=ge?tt.ticklen:0;if(Wt?Ae*=-1:ne&&(Ae=0),ge&&(ye+=Ae,Vt)){var ze=i.deg2rad(Vt);ye=Ae*Math.cos(ze)+1,Te=Ae*Math.sin(ze)}tt.showticklabels&&(ge||tt.showline)&&(ye+=.2*tt.tickfont.size),ye+=(tt.linewidth||1)/2*(Wt?-1:1);var Ee={labelStandoff:ye,labelShift:Te},Je,Pe,Ke,nn,mn=0,gn=tt.side,pn=tt._id.charAt(0),xn=tt.tickangle,Sn;if(pn==="x")Sn=!Wt&&gn==="bottom"||Wt&&gn==="top",nn=Sn?1:-1,Wt&&(nn*=-1),Je=Te*nn,Pe=K+ye*nn,Ke=Sn?1:-.2,Math.abs(xn)===90&&(Wt?Ke+=dt:xn===-90&&gn==="bottom"?Ke=ht:xn===90&&gn==="top"?Ke=dt:Ke=.5,mn=dt/2*(xn/90)),Ee.xFn=function(Ue){return Ue.dx+Je+mn*Ue.fontSize},Ee.yFn=function(Ue){return Ue.dy+Pe+Ue.fontSize*Ke},Ee.anchorFn=function(Ue,Tn){if(ne){if(Kt)return"end";if(zt)return"start"}return!t(Tn)||Tn===0||Tn===180?"middle":Tn*nn<0!==Wt?"end":"start"},Ee.heightFn=function(Ue,Tn,kn){return Tn<-60||Tn>60?-.5*kn:tt.side==="top"!==Wt?-kn:0};else if(pn==="y"){if(Sn=!Wt&&gn==="left"||Wt&&gn==="right",nn=Sn?1:-1,Wt&&(nn*=-1),Je=ye,Pe=Te*nn,Ke=0,!Wt&&Math.abs(xn)===90&&(xn===-90&&gn==="left"||xn===90&&gn==="right"?Ke=ht:Ke=.5),Wt){var jn=t(xn)?+xn:0;if(jn!==0){var ta=i.deg2rad(jn);mn=Math.abs(Math.sin(ta))*ht*nn,Ke=0}}Ee.xFn=function(Ue){return Ue.dx+K-(Je+Ue.fontSize*Ke)*nn+mn*Ue.fontSize},Ee.yFn=function(Ue){return Ue.dy+Pe+Ue.fontSize*dt},Ee.anchorFn=function(Ue,Tn){return t(Tn)&&Math.abs(Tn)===90?"middle":Sn?"end":"start"},Ee.heightFn=function(Ue,Tn,kn){return tt.side==="right"&&(Tn*=-1),Tn<-30?-kn:Tn<30?-.5*kn:0}}return Ee};function he(tt){return[tt.text,tt.x,tt.axInfo,tt.font,tt.fontSize,tt.fontColor].join("_")}A.drawTicks=function(tt,K,Vt){Vt=Vt||{};var jt=K._id+"tick",Dt=[].concat(K.minor&&K.minor.ticks?Vt.vals.filter(function(Ht){return Ht.minor&&!Ht.noTick}):[]).concat(K.ticks?Vt.vals.filter(function(Ht){return!Ht.minor&&!Ht.noTick}):[]),Pt=Vt.layer.selectAll("path."+jt).data(Dt,he);Pt.exit().remove(),Pt.enter().append("path").classed(jt,1).classed("ticks",1).classed("crisp",Vt.crisp!==!1).each(function(Ht){return e.stroke(r.select(this),Ht.minor?K.minor.tickcolor:K.tickcolor)}).style("stroke-width",function(Ht){return v.crispRound(tt,Ht.minor?K.minor.tickwidth:K.tickwidth,1)+"px"}).attr("d",Vt.path).style("display",null),on(K,[X]),Pt.attr("transform",Vt.transFn)},A.drawGrid=function(tt,K,Vt){if(Vt=Vt||{},K.tickmode!=="sync"){var jt=K._id+"grid",Dt=K.minor&&K.minor.showgrid,Pt=Dt?Vt.vals.filter(function(Ee){return Ee.minor}):[],Ht=K.showgrid?Vt.vals.filter(function(Ee){return!Ee.minor}):[],Kt=Vt.counterAxis;if(Kt&&A.shouldShowZeroLine(tt,K,Kt))for(var zt=K.tickmode==="array",Ut=0;Ut<Ht.length;Ut++){var ne=Ht[Ut].x;if(zt?!ne:Math.abs(ne)<K.dtick/100)if(Ht=Ht.slice(0,Ut).concat(Ht.slice(Ut+1)),zt)Ut--;else break}K._gw=v.crispRound(tt,K.gridwidth,1);for(var Wt=Dt?v.crispRound(tt,K.minor.gridwidth,1):0,ge=Vt.layer,ye=Vt.minorLayer,Te=1;Te>=0;Te--){var Ae=Te?ge:ye;if(Ae){var ze=Ae.selectAll("path."+jt).data(Te?Ht:Pt,he);ze.exit().remove(),ze.enter().append("path").classed(jt,1).classed("crisp",Vt.crisp!==!1),ze.attr("transform",Vt.transFn).attr("d",Vt.path).each(function(Ee){return e.stroke(r.select(this),Ee.minor?K.minor.gridcolor:K.gridcolor||"#ddd")}).style("stroke-dasharray",function(Ee){return v.dashStyle(Ee.minor?K.minor.griddash:K.griddash,Ee.minor?K.minor.gridwidth:K.gridwidth)}).style("stroke-width",function(Ee){return(Ee.minor?Wt:K._gw)+"px"}).style("display",null),typeof Vt.path=="function"&&ze.attr("d",Vt.path)}}on(K,[D,W])}},A.drawZeroLine=function(tt,K,Vt){Vt=Vt||Vt;var jt=K._id+"zl",Dt=A.shouldShowZeroLine(tt,K,Vt.counterAxis),Pt=Vt.layer.selectAll("path."+jt).data(Dt?[{x:0,id:K._id}]:[]);Pt.exit().remove(),Pt.enter().append("path").classed(jt,1).classed("zl",1).classed("crisp",Vt.crisp!==!1).each(function(){Vt.layer.selectAll("path").sort(function(Ht,Kt){return N(Ht.id,Kt.id)})}),Pt.attr("transform",Vt.transFn).attr("d",Vt.path).call(e.stroke,K.zerolinecolor||e.defaultLine).style("stroke-width",v.crispRound(tt,K.zerolinewidth,K._gw||1)+"px").style("display",null),on(K,[Z])},A.drawLabels=function(tt,K,Vt){Vt=Vt||{};var jt=tt._fullLayout,Dt=K._id,Pt=K.zerolinelayer==="above traces",Ht=Vt.cls||Dt+"tick",Kt=Vt.vals.filter(function(sn){return sn.text}),zt=Vt.labelFns,Ut=Vt.secondary?0:K.tickangle,ne=(K._prevTickAngles||{})[Ht],Wt=Vt.layer.selectAll("g."+Ht).data(K.showticklabels?Kt:[],he),ge=[];Wt.enter().append("g").classed(Ht,1).append("text").attr("text-anchor","middle").each(function(sn){var _n=r.select(this),An=tt._promises.length;_n.call(s.positionText,zt.xFn(sn),zt.yFn(sn)).call(v.font,{family:sn.font,size:sn.fontSize,color:sn.fontColor,weight:sn.fontWeight,style:sn.fontStyle,variant:sn.fontVariant,textcase:sn.fontTextcase,lineposition:sn.fontLineposition,shadow:sn.fontShadow}).text(sn.text).call(s.convertToTspans,tt),tt._promises[An]?ge.push(tt._promises.pop().then(function(){ye(_n,Ut)})):ye(_n,Ut)}),on(K,[it]),Wt.exit().remove(),Vt.repositionOnUpdate&&Wt.each(function(sn){r.select(this).select("text").call(s.positionText,zt.xFn(sn),zt.yFn(sn))});function ye(sn,_n){sn.each(function(An){var Dn=r.select(this),In=Dn.select(".text-math-group"),Hn=zt.anchorFn(An,_n),Rn=Vt.transFn.call(Dn.node(),An)+(t(_n)&&+_n!=0?" rotate("+_n+","+zt.xFn(An)+","+(zt.yFn(An)-An.fontSize/2)+")":""),Un=s.lineCount(Dn),ea=xt*An.fontSize,Wn=zt.heightFn(An,t(_n)?+_n:0,(Un-1)*ea);if(Wn&&(Rn+=o(0,Wn)),In.empty()){var Ln=Dn.select("text");Ln.attr({transform:Rn,"text-anchor":Hn}),Ln.style("display",null),K._adjustTickLabelsOverflow&&K._adjustTickLabelsOverflow()}else{var va=v.bBox(In.node()).width,Qn=va*{end:-.5,start:.5}[Hn];In.attr("transform",Rn+o(Qn,0))}})}K._adjustTickLabelsOverflow=function(){var sn=K.ticklabeloverflow;if(!(!sn||sn==="allow")){var _n=sn.indexOf("hide")!==-1,An=K._id.charAt(0)==="x",Dn=0,In=An?tt._fullLayout.width:tt._fullLayout.height;if(sn.indexOf("domain")!==-1){var Hn=i.simpleMap(K.range,K.r2l);Dn=K.l2p(Hn[0])+K._offset,In=K.l2p(Hn[1])+K._offset}var Rn=Math.min(Dn,In),Un=Math.max(Dn,In),ea=K.side,Wn=1/0,Ln=-1/0;Wt.each(function(wa){var ca=r.select(this),La=ca.select(".text-math-group");if(La.empty()){var na=v.bBox(ca.node()),Vn=0;An?(na.right>Un||na.left<Rn)&&(Vn=1):(na.bottom>Un||na.top+(K.tickangle?0:wa.fontSize/4)<Rn)&&(Vn=1);var Sa=ca.select("text");Vn?_n&&Sa.style("display","none"):Sa.node().style.display!=="none"&&(Sa.style("display",null),ea==="bottom"||ea==="right"?Wn=Math.min(Wn,An?na.top:na.left):Wn=-1/0,ea==="top"||ea==="left"?Ln=Math.max(Ln,An?na.bottom:na.right):Ln=1/0)}});for(var va in jt._plots){var Qn=jt._plots[va];if(!(K._id!==Qn.xaxis._id&&K._id!==Qn.yaxis._id)){var ua=An?Qn.yaxis:Qn.xaxis;ua&&(ua["_visibleLabelMin_"+K._id]=Wn,ua["_visibleLabelMax_"+K._id]=Ln)}}}},K._hideCounterAxisInsideTickLabels=function(sn){var _n=K._id.charAt(0)==="x",An=[];for(var Dn in jt._plots){var In=jt._plots[Dn];K._id!==In.xaxis._id&&K._id!==In.yaxis._id||An.push(_n?In.yaxis:In.xaxis)}An.forEach(function(Hn,Rn){Hn&&an(Hn)&&(sn||[Z,W,D,X,it]).forEach(function(Un){var ea=Un.K==="tick"&&Un.L==="text"&&K.ticklabelmode==="period",Wn=jt._plots[K._mainSubplot],Ln;if(Un.K===Z.K){var va=Pt?Wn.zerolinelayerAbove:Wn.zerolinelayer;Ln=va.selectAll("."+K._id+"zl")}else Un.K===W.K?Ln=Wn.minorGridlayer.selectAll("."+K._id):Un.K===D.K?Ln=Wn.gridlayer.selectAll("."+K._id):Ln=Wn[K._id.charAt(0)+"axislayer"];Ln.each(function(){var Qn=r.select(this);Un.L&&(Qn=Qn.selectAll(Un.L)),Qn.each(function(ua){var wa=K.l2p(ea?re(ua):ua.x)+K._offset,ca=r.select(this);wa<K["_visibleLabelMax_"+Hn._id]&&wa>K["_visibleLabelMin_"+Hn._id]?ca.style("display","none"):Un.K==="tick"&&!Rn&&ca.node().style.display!=="none"&&ca.style("display",null)})})})})},ye(Wt,ne+1?ne:Ut);function Te(){return ge.length&&Promise.all(ge)}var Ae=null;function ze(){if(ye(Wt,Ut),Kt.length&&K.autotickangles&&(K.type!=="log"||String(K.dtick).charAt(0)!=="D")){Ae=K.autotickangles[0];var sn=0,_n=[],An,Dn=1;Wt.each(function(Fn){sn=Math.max(sn,Fn.fontSize);var ya=K.l2p(Fn.x),Za=Oe(this),Ia=v.bBox(Za.node());Dn=Math.max(Dn,s.lineCount(Za)),_n.push({top:0,bottom:10,height:10,left:ya-Ia.width/2,right:ya+Ia.width/2+2,width:Ia.width+2})});var In=(K.tickson==="boundaries"||K.showdividers)&&!Vt.secondary,Hn=Kt.length,Rn=Math.abs((Kt[Hn-1].x-Kt[0].x)*K._m)/(Hn-1),Un=In?Rn/2:Rn,ea=In?K.ticklen:sn*1.25*Dn,Wn=Math.sqrt(Math.pow(Un,2)+Math.pow(ea,2)),Ln=Un/Wn,va=K.autotickangles.map(function(Fn){return Fn*Math.PI/180}),Qn=va.find(function(Fn){return Math.abs(Math.cos(Fn))<=Ln});Qn===void 0&&(Qn=va.reduce(function(Fn,ya){return Math.abs(Math.cos(Fn))<Math.abs(Math.cos(ya))?Fn:ya},va[0]));var ua=Qn*(180/Math.PI);if(In){var wa=2;for(K.ticks&&(wa+=K.tickwidth/2),An=0;An<_n.length;An++){var ca=Kt[An].xbnd,La=_n[An];if(ca[0]!==null&&La.left-K.l2p(ca[0])<wa||ca[1]!==null&&K.l2p(ca[1])-La.right<wa){Ae=ua;break}}}else{var na=K.ticklabelposition||"",Vn=K.tickson||"",Sa=function(Fn){return na.indexOf(Fn)!==-1},er=Sa("top"),On=Sa("left"),Zn=Sa("right"),Jn=Sa("bottom"),ga=Vn!=="boundaries"&&(Jn||On||er||Zn),Xn=ga?(K.tickwidth||0)+2*Y:0;for(An=0;An<_n.length-1;An++)if(i.bBoxIntersect(_n[An],_n[An+1],Xn)){Ae=ua;break}}Ae&&ye(Wt,Ae)}}K._selections&&(K._selections[Ht]=Wt);var Ee=[Te];K.automargin&&jt._redrawFromAutoMarginCount&&ne===90?(Ae=ne,Ee.push(function(){ye(Wt,ne)})):Ee.push(ze),K._tickAngles&&Ee.push(function(){K._tickAngles[Ht]=Ae===null?t(Ut)?Ut:0:Ae});var Je=function(){var sn=0,_n=0;return Wt.each(function(An,Dn){var In=Oe(this),Hn=In.select(".text-math-group");if(Hn.empty()){var Rn;K._vals[Dn]&&(Rn=K._vals[Dn].bb||v.bBox(In.node()),K._vals[Dn].bb=Rn),sn=Math.max(sn,Rn.width),_n=Math.max(_n,Rn.height)}}),{labelsMaxW:sn,labelsMaxH:_n}},Pe=K._anchorAxis;if(Pe&&(Pe.autorange||Pe.insiderange)&&an(K)&&!M(jt,K._id)&&(jt._insideTickLabelsUpdaterange||(jt._insideTickLabelsUpdaterange={}),Pe.autorange&&(jt._insideTickLabelsUpdaterange[Pe._name+".autorange"]=Pe.autorange,Ee.push(Je)),Pe.insiderange)){var Ke=Je(),nn=K._id.charAt(0)==="y"?Ke.labelsMaxW:Ke.labelsMaxH;nn+=2*Y,K.ticklabelposition==="inside"&&(nn+=K.ticklen||0);var mn=K.side==="right"||K.side==="top"?1:-1,gn=mn===1?1:0,pn=mn===1?0:1,xn=[];xn[pn]=Pe.range[pn];var Sn=Pe.range,jn=Pe.r2p(Sn[gn]),ta=Pe.r2p(Sn[pn]),Ue=jt._insideTickLabelsUpdaterange[Pe._name+".range"];if(Ue){var Tn=Pe.r2p(Ue[gn]),kn=Pe.r2p(Ue[pn]),Gn=mn*(K._id.charAt(0)==="y"?1:-1);Gn*jn<Gn*Tn&&(jn=Tn,xn[gn]=Sn[gn]=Ue[gn]),Gn*ta>Gn*kn&&(ta=kn,xn[pn]=Sn[pn]=Ue[pn])}var $n=Math.abs(ta-jn);$n-nn>0?($n-=nn,nn*=1+nn/$n):nn=0,K._id.charAt(0)!=="y"&&(nn=-nn),xn[gn]=Pe.p2r(Pe.r2p(Sn[gn])+mn*nn),Pe.autorange==="min"||Pe.autorange==="max reversed"?(xn[0]=null,Pe._rangeInitial0=void 0,Pe._rangeInitial1=void 0):(Pe.autorange==="max"||Pe.autorange==="min reversed")&&(xn[1]=null,Pe._rangeInitial0=void 0,Pe._rangeInitial1=void 0),jt._insideTickLabelsUpdaterange[Pe._name+".range"]=xn}var En=i.syncOrAsync(Ee);return En&&En.then&&tt._promises.push(En),En};function Se(tt,K,Vt){var jt=K._id+"divider",Dt=Vt.vals,Pt=Vt.layer.selectAll("path."+jt).data(Dt,he);Pt.exit().remove(),Pt.enter().insert("path",":first-child").classed(jt,1).classed("crisp",1).call(e.stroke,K.dividercolor).style("stroke-width",v.crispRound(tt,K.dividerwidth,1)+"px"),Pt.attr("transform",Vt.transFn).attr("d",Vt.path)}A.getPxPosition=function(tt,K){var Vt=tt._fullLayout._size,jt=K._id.charAt(0),Dt=K.side,Pt;if(K.anchor!=="free"?Pt=K._anchorAxis:jt==="x"?Pt={_offset:Vt.t+(1-(K.position||0))*Vt.h,_length:0}:jt==="y"&&(Pt={_offset:Vt.l+(K.position||0)*Vt.w+K._shift,_length:0}),Dt==="top"||Dt==="left")return Pt._offset;if(Dt==="bottom"||Dt==="right")return Pt._offset+Pt._length};function je(tt){var K=tt.title.font.size,Vt=(tt.title.text.match(s.BR_TAG_ALL)||[]).length;return tt.title.hasOwnProperty("standoff")?K*(ht+Vt*xt):Vt?K*(Vt+1)*xt:K}function Ge(tt,K){var Vt=tt._fullLayout,jt=K._id,Dt=jt.charAt(0),Pt=K.title.font.size,Ht,Kt=(K.title.text.match(s.BR_TAG_ALL)||[]).length;if(K.title.hasOwnProperty("standoff"))K.side==="bottom"||K.side==="right"?Ht=K._depth+K.title.standoff+Pt*ht:(K.side==="top"||K.side==="left")&&(Ht=K._depth+K.title.standoff+Pt*(dt+Kt*xt));else{var zt=an(K);if(K.type==="multicategory")Ht=K._depth;else{var Ut=1.5*Pt;zt&&(Ut=.5*Pt,K.ticks==="outside"&&(Ut+=K.ticklen)),Ht=10+Ut+(K.linewidth?K.linewidth-1:0)}zt||(Dt==="x"?Ht+=K.side==="top"?Pt*(K.showticklabels?1:0):Pt*(K.showticklabels?1.5:.5):Ht+=K.side==="right"?Pt*(K.showticklabels?1:.5):Pt*(K.showticklabels?.5:0))}var ne=A.getPxPosition(tt,K),Wt,ge,ye;Dt==="x"?(ge=K._offset+K._length/2,ye=K.side==="top"?ne-Ht:ne+Ht):(ye=K._offset+K._length/2,ge=K.side==="right"?ne+Ht:ne-Ht,Wt={rotate:"-90",offset:0});var Te;if(K.type!=="multicategory"){var Ae=K._selections[K._id+"tick"];if(Te={selection:Ae,side:K.side},Ae&&Ae.node()&&Ae.node().parentNode){var ze=v.getTranslate(Ae.node().parentNode);Te.offsetLeft=ze.x,Te.offsetTop=ze.y}K.title.hasOwnProperty("standoff")&&(Te.pad=0)}return K._titleStandoff=Ht,f.draw(tt,jt+"title",{propContainer:K,propName:K._name+".title.text",placeholder:Vt._dfltTitle[Dt],avoid:Te,transform:Wt,attributes:{x:ge,y:ye,"text-anchor":"middle"}})}A.shouldShowZeroLine=function(tt,K,Vt){var jt=i.simpleMap(K.range,K.r2l);return jt[0]*jt[1]<=0&&K.zeroline&&(K.type==="linear"||K.type==="-")&&!(K.rangebreaks&&K.maskBreaks(0)===U)&&(Ce(K,0)||!Ne(tt,K,Vt,jt)||Le(tt,K))},A.clipEnds=function(tt,K){return K.filter(function(Vt){return Ce(tt,Vt.x)})};function Ce(tt,K){var Vt=tt.l2p(K);return Vt>1&&Vt<tt._length-1}function Ne(tt,K,Vt,jt){var Dt=Vt._mainAxis;if(!Dt)return;var Pt=tt._fullLayout,Ht=K._id.charAt(0),Kt=A.counterLetter(K._id),zt=K._offset+(Math.abs(jt[0])<Math.abs(jt[1])==(Ht==="x")?0:K._length);function Ut(Te){if(!Te.showline||!Te.linewidth)return!1;var Ae=Math.max((Te.linewidth+K.zerolinewidth)/2,1);function ze(Pe){return typeof Pe=="number"&&Math.abs(Pe-zt)<Ae}if(ze(Te._mainLinePosition)||ze(Te._mainMirrorPosition))return!0;var Ee=Te._linepositions||{};for(var Je in Ee)if(ze(Ee[Je][0])||ze(Ee[Je][1]))return!0}var ne=Pt._plots[Vt._mainSubplot];if(!(ne.mainplotinfo||ne).overlays.length)return Ut(Vt);for(var Wt=A.list(tt,Kt),ge=0;ge<Wt.length;ge++){var ye=Wt[ge];if(ye._mainAxis===Dt&&Ut(ye))return!0}}function Le(tt,K){for(var Vt=tt._fullData,jt=K._mainSubplot,Dt=K._id.charAt(0),Pt=0;Pt<Vt.length;Pt++){var Ht=Vt[Pt];if(Ht.visible===!0&&Ht.xaxis+Ht.yaxis===jt&&(l.traceIs(Ht,"bar-like")&&Ht.orientation==={x:"h",y:"v"}[Dt]||Ht.fill&&Ht.fill.charAt(Ht.fill.length-1)===Dt))return!0}return!1}function Oe(tt){var K=r.select(tt),Vt=K.select(".text-math-group");return Vt.empty()?K.select("text"):Vt}A.allowAutoMargin=function(tt){for(var K=A.list(tt,"",!0),Vt=0;Vt<K.length;Vt++){var jt=K[Vt];jt.automargin&&(n.allowAutoMargin(tt,Ve(jt)),jt.mirror&&n.allowAutoMargin(tt,Re(jt))),l.getComponentMethod("rangeslider","isVisible")(jt)&&n.allowAutoMargin(tt,Be(jt))}};function Ve(tt){return tt._id+".automargin"}function Re(tt){return Ve(tt)+".mirror"}function Be(tt){return tt._id+".rangeslider"}A.swap=function(tt,K){for(var Vt=Fe(tt,K),jt=0;jt<Vt.length;jt++)Ye(tt,Vt[jt].x,Vt[jt].y)};function Fe(tt,K){var Vt=[],jt,Dt;for(jt=0;jt<K.length;jt++){var Pt=[],Ht=tt._fullData[K[jt]].xaxis,Kt=tt._fullData[K[jt]].yaxis;if(!(!Ht||!Kt)){for(Dt=0;Dt<Vt.length;Dt++)(Vt[Dt].x.indexOf(Ht)!==-1||Vt[Dt].y.indexOf(Kt)!==-1)&&Pt.push(Dt);if(!Pt.length){Vt.push({x:[Ht],y:[Kt]});continue}var zt=Vt[Pt[0]],Ut;if(Pt.length>1)for(Dt=1;Dt<Pt.length;Dt++)Ut=Vt[Pt[Dt]],ke(zt.x,Ut.x),ke(zt.y,Ut.y);ke(zt.x,[Ht]),ke(zt.y,[Kt])}}return Vt}function ke(tt,K){for(var Vt=0;Vt<K.length;Vt++)tt.indexOf(K[Vt])===-1&&tt.push(K[Vt])}function Ye(tt,K,Vt){var jt=[],Dt=[],Pt=tt.layout,Ht,Kt;for(Ht=0;Ht<K.length;Ht++)jt.push(A.getFromId(tt,K[Ht]));for(Ht=0;Ht<Vt.length;Ht++)Dt.push(A.getFromId(tt,Vt[Ht]));var zt=Object.keys(u),Ut=["anchor","domain","overlaying","position","side","tickangle","editType"],ne=["linear","log"];for(Ht=0;Ht<zt.length;Ht++){var Wt=zt[Ht],ge=jt[0][Wt],ye=Dt[0][Wt],Te=!0,Ae=!1,ze=!1;if(!(Wt.charAt(0)==="_"||typeof ge=="function"||Ut.indexOf(Wt)!==-1)){for(Kt=1;Kt<jt.length&&Te;Kt++){var Ee=jt[Kt][Wt];Wt==="type"&&ne.indexOf(ge)!==-1&&ne.indexOf(Ee)!==-1&&ge!==Ee?Ae=!0:Ee!==ge&&(Te=!1)}for(Kt=1;Kt<Dt.length&&Te;Kt++){var Je=Dt[Kt][Wt];Wt==="type"&&ne.indexOf(ye)!==-1&&ne.indexOf(Je)!==-1&&ye!==Je?ze=!0:Dt[Kt][Wt]!==ye&&(Te=!1)}Te&&(Ae&&(Pt[jt[0]._name].type="linear"),ze&&(Pt[Dt[0]._name].type="linear"),Qe(Pt,Wt,jt,Dt,tt._fullLayout._dfltTitle))}}for(Ht=0;Ht<tt._fullLayout.annotations.length;Ht++){var Pe=tt._fullLayout.annotations[Ht];K.indexOf(Pe.xref)!==-1&&Vt.indexOf(Pe.yref)!==-1&&i.swapAttrs(Pt.annotations[Ht],["?"])}}function Qe(tt,K,Vt,jt,Dt){var Pt=i.nestedProperty,Ht=Pt(tt[Vt[0]._name],K).get(),Kt=Pt(tt[jt[0]._name],K).get(),zt;for(K==="title"&&(Ht&&Ht.text===Dt.x&&(Ht.text=Dt.y),Kt&&Kt.text===Dt.y&&(Kt.text=Dt.x)),zt=0;zt<Vt.length;zt++)Pt(tt,Vt[zt]._name+"."+K).set(Kt);for(zt=0;zt<jt.length;zt++)Pt(tt,jt[zt]._name+"."+K).set(Ht)}function ln(tt){return tt._id==="angularaxis"}function He(tt,K){for(var Vt=K._rangebreaks.length,jt=0;jt<Vt;jt++){var Dt=K._rangebreaks[jt];if(tt>=Dt.min&&tt<Dt.max)return Dt.max}return tt}function an(tt){return(tt.ticklabelposition||"").indexOf("inside")!==-1}function on(tt,K){an(tt._anchorAxis||{})&&tt._hideCounterAxisInsideTickLabels&&tt._hideCounterAxisInsideTickLabels(K)}function vn(tt,K,Vt,jt){var Dt=tt.anchor!=="free"&&(tt.overlaying===void 0||tt.overlaying===!1)?tt._id:tt.overlaying,Pt;jt?Pt=tt.side==="right"?K:-K:Pt=K,Dt in Vt||(Vt[Dt]={}),tt.side in Vt[Dt]||(Vt[Dt][tt.side]=0),Vt[Dt][tt.side]+=Pt}function $e(tt,K){return tt.autoshift?K[tt.overlaying][tt.side]:tt.shift||0}function fn(tt,K){return/%f/.test(K)?tt>=z:/%L/.test(K)?tt>=E:/%[SX]/.test(K)?tt>=I:/%M/.test(K)?tt>=G:/%[HI]/.test(K)?tt>=T:/%p/.test(K)?tt>=O:/%[Aadejuwx]/.test(K)?tt>=P:/%[UVW]/.test(K)?tt>=$:/%[Bbm]/.test(K)?tt>=k:/%[q]/.test(K)?tt>=d:/%[Yy]/.test(K)?tt>=y:!0}}),pc=Ct((F,C)=>{C.exports=function(r,t,n){var l,i;if(n){var o=t==="reversed"||t==="min reversed"||t==="max reversed";l=n[o?1:0],i=n[o?0:1]}var s=r("autorangeoptions.minallowed",i===null?l:void 0),f=r("autorangeoptions.maxallowed",l===null?i:void 0);s===void 0&&r("autorangeoptions.clipmin"),f===void 0&&r("autorangeoptions.clipmax"),r("autorangeoptions.include")}}),ll=Ct((F,C)=>{var r=pc();C.exports=function(t,n,l,i){var o=n._template||{},s=n.type||o.type||"-";l("minallowed"),l("maxallowed");var f=l("range");if(!f){var e;!i.noInsiderange&&s!=="log"&&(e=l("insiderange"),e&&(e[0]===null||e[1]===null)&&(n.insiderange=!1,e=void 0),e&&(f=l("range",e)))}var v=n.getAutorangeDflt(f,i),u=l("autorange",v),h;f&&(f[0]===null&&f[1]===null||(f[0]===null||f[1]===null)&&(u==="reversed"||u===!0)||f[0]!==null&&(u==="min"||u==="max reversed")||f[1]!==null&&(u==="max"||u==="min reversed"))&&(f=void 0,delete n.range,n.autorange=!0,h=!0),h||(v=n.getAutorangeDflt(f,i),u=l("autorange",v)),u&&(r(l,u,f),(s==="linear"||s==="-")&&l("rangemode")),n.cleanRange()}}),vc=Ct((F,C)=>{var r={left:0,top:0};C.exports=t;function t(l,i,o){i=i||l.currentTarget||l.srcElement,Array.isArray(o)||(o=[0,0]);var s=l.clientX||0,f=l.clientY||0,e=n(i);return o[0]=s-e.left,o[1]=f-e.top,o}function n(l){return l===window||l===document||l===document.body?r:l.getBoundingClientRect()}}),sl=Ct((F,C)=>{var r=Zo();function t(){var n=!1;try{var l=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,l),window.removeEventListener("test",null,l)}catch{n=!1}return n}C.exports=r&&t()}),gc=Ct((F,C)=>{C.exports=function(r,t,n,l,i){var o=(r-n)/(l-n),s=o+t/(l-n),f=(o+s)/2;return i==="left"||i==="bottom"?o:i==="center"||i==="middle"?f:i==="right"||i==="top"?s:o<2/3-f?o:s>4/3-f?s:f}}),yc=Ct((F,C)=>{var r=De(),t=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];C.exports=function(n,l,i,o){return i==="left"?n=0:i==="center"?n=1:i==="right"?n=2:n=r.constrain(Math.floor(n*3),0,2),o==="bottom"?l=0:o==="middle"?l=1:o==="top"?l=2:l=r.constrain(Math.floor(l*3),0,2),t[l][n]}}),mc=Ct((F,C)=>{var r=Jr(),t=Ci(),n=Gr().getGraphDiv,l=Zr(),i=C.exports={};i.wrapped=function(o,s,f){o=n(o),o._fullLayout&&t.clear(o._fullLayout._uid+l.HOVERID),i.raw(o,s,f)},i.raw=function(o,s){var f=o._fullLayout,e=o._hoverdata;s||(s={}),!(s.target&&!o._dragged&&r.triggerHandler(o,"plotly_beforehover",s)===!1)&&(f._hoverlayer.selectAll("g").remove(),f._hoverlayer.selectAll("line").remove(),f._hoverlayer.selectAll("circle").remove(),o._hoverdata=void 0,s.target&&e&&o.emit("plotly_unhover",{event:s,points:e}))}}),Ua=Ct((F,C)=>{var r=vc(),t=Go(),n=sl(),l=De().removeElement,i=pa(),o=C.exports={};o.align=gc(),o.getCursor=yc();var s=mc();o.unhover=s.wrapped,o.unhoverRaw=s.raw,o.init=function(v){var u=v.gd,h=1,_=u._context.doubleClickDelay,m=v.element,g,y,p,c,d,b,w,k;u._mouseDownTime||(u._mouseDownTime=0),m.style.pointerEvents="all",m.onmousedown=O,n?(m._ontouchstart&&m.removeEventListener("touchstart",m._ontouchstart),m._ontouchstart=O,m.addEventListener("touchstart",O,{passive:!1})):m.ontouchstart=O;function $(I,E,z){return Math.abs(I)<z&&(I=0),Math.abs(E)<z&&(E=0),[I,E]}var P=v.clampFn||$;function O(I){u._dragged=!1,u._dragging=!0;var E=e(I);g=E[0],y=E[1],w=I.target,b=I,k=I.buttons===2||I.ctrlKey,typeof I.clientX>"u"&&typeof I.clientY>"u"&&(I.clientX=g,I.clientY=y),p=new Date().getTime(),p-u._mouseDownTime<_?h+=1:(h=1,u._mouseDownTime=p),v.prepFn&&v.prepFn(I,g,y),t&&!k?(d=f(),d.style.cursor=window.getComputedStyle(m).cursor):t||(d=document,c=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(m).cursor),document.addEventListener("mouseup",G),document.addEventListener("touchend",G),v.dragmode!==!1&&(I.preventDefault(),document.addEventListener("mousemove",T),document.addEventListener("touchmove",T,{passive:!1}))}function T(I){I.preventDefault();var E=e(I),z=v.minDrag||i.MINDRAG,j=P(E[0]-g,E[1]-y,z),U=j[0],Z=j[1];(U||Z)&&(u._dragged=!0,o.unhover(u,I)),u._dragged&&v.moveFn&&!k&&(u._dragdata={element:m,dx:U,dy:Z},v.moveFn(U,Z))}function G(I){if(delete u._dragdata,v.dragmode!==!1&&(I.preventDefault(),document.removeEventListener("mousemove",T),document.removeEventListener("touchmove",T)),document.removeEventListener("mouseup",G),document.removeEventListener("touchend",G),t?l(d):c&&(d.documentElement.style.cursor=c,c=null),!u._dragging){u._dragged=!1;return}if(u._dragging=!1,new Date().getTime()-u._mouseDownTime>_&&(h=Math.max(h-1,1)),u._dragged)v.doneFn&&v.doneFn();else{var E;b.target===w?E=b:(E={target:w,srcElement:w,toElement:w},Object.keys(b).concat(Object.keys(b.__proto__)).forEach(z=>{var j=b[z];!E[z]&&typeof j!="function"&&(E[z]=j)})),v.clickFn&&v.clickFn(h,E),k||w.dispatchEvent(new MouseEvent("click",I))}u._dragging=!1,u._dragged=!1}};function f(){var v=document.createElement("div");v.className="dragcover";var u=v.style;return u.position="fixed",u.left=0,u.right=0,u.top=0,u.bottom=0,u.zIndex=999999999,u.background="none",document.body.appendChild(v),v}o.coverSlip=f;function e(v){return r(v.changedTouches?v.changedTouches[0]:v,document.body)}}),dr=Ct((F,C)=>{C.exports=function(r,t){(r.attr("class")||"").split(" ").forEach(function(n){n.indexOf("cursor-")===0&&r.classed(n,!1)}),t&&r.classed("cursor-"+t,!0)}}),xc=Ct((F,C)=>{var r=dr(),t="data-savedcursor",n="!!";C.exports=function(l,i){var o=l.attr(t);if(i){if(!o){for(var s=(l.attr("class")||"").split(" "),f=0;f<s.length;f++){var e=s[f];e.indexOf("cursor-")===0&&l.attr(t,e.substr(7)).classed(e,!1)}l.attr(t)||l.attr(t,n)}r(l,i)}else o&&(l.attr(t,null),o===n?r(l):r(l,o))}}),ul=Ct((F,C)=>{var r=ha(),t=Xa();C.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:t.defaultLine,editType:"legend"},maxheight:{valType:"number",min:0,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:r({editType:"legend"}),grouptitlefont:r({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:r({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}}),Ei=Ct(F=>{F.isGrouped=function(C){return(C.traceorder||"").indexOf("grouped")!==-1},F.isVertical=function(C){return C.orientation!=="h"},F.isReversed=function(C){return(C.traceorder||"").indexOf("reversed")!==-1}}),cl=Ct((F,C)=>{var r=un(),t=De(),n=Bn(),l=Ba(),i=ul(),o=Nr(),s=Ei();function f(e,v,u,h){var _=v[e]||{},m=n.newContainer(u,e);function g(xt,H){return t.coerce(_,m,i,xt,H)}var y=t.coerceFont(g,"font",u.font);g("bgcolor",u.paper_bgcolor),g("bordercolor");var p=g("visible");if(p){for(var c,d=function(xt,H){var Y=c._input,A=c;return t.coerce(Y,A,l,xt,H)},b=u.font||{},w=t.coerceFont(g,"grouptitlefont",b,{overrideDflt:{size:Math.round(b.size*1.1)}}),k=0,$=!1,P="normal",O=(u.shapes||[]).filter(function(xt){return xt.showlegend}),T=h.concat(O).filter(function(xt){return e===(xt.legend||"legend")}),G=0;G<T.length;G++)if(c=T[G],!!c.visible){var I=c._isShape;(c.showlegend||c._dfltShowLegend&&!(c._module&&c._module.attributes&&c._module.attributes.showlegend&&c._module.attributes.showlegend.dflt===!1))&&(k++,c.showlegend&&($=!0,(!I&&r.traceIs(c,"pie-like")||c._input.showlegend===!0)&&k++),t.coerceFont(d,"legendgrouptitle.font",w)),(!I&&r.traceIs(c,"bar")&&u.barmode==="stack"||["tonextx","tonexty"].indexOf(c.fill)!==-1)&&(P=s.isGrouped({traceorder:P})?"grouped+reversed":"reversed"),c.legendgroup!==void 0&&c.legendgroup!==""&&(P=s.isReversed({traceorder:P})?"reversed+grouped":"grouped")}var E=t.coerce(v,u,o,"showlegend",$&&k>(e==="legend"?1:0));if(E===!1&&(u[e]=void 0),!(E===!1&&!_.uirevision)&&(g("uirevision",u.uirevision),E!==!1)){g("borderwidth");var z=g("orientation"),j=g("yref"),U=g("xref"),Z=z==="h",D=j==="paper",W=U==="paper",X,it,nt,ot="left";Z?(X=0,r.getComponentMethod("rangeslider","isVisible")(v.xaxis)?D?(it=1.1,nt="bottom"):(it=1,nt="top"):D?(it=-.1,nt="top"):(it=0,nt="bottom")):(it=1,nt="auto",W?X=1.02:(X=1,ot="right")),t.coerce(_,m,{x:{valType:"number",editType:"legend",min:W?-2:0,max:W?3:1,dflt:X}},"x"),t.coerce(_,m,{y:{valType:"number",editType:"legend",min:D?-2:0,max:D?3:1,dflt:it}},"y"),g("traceorder",P),s.isGrouped(u[e])&&g("tracegroupgap"),g("entrywidth"),g("entrywidthmode"),g("indentation"),g("itemsizing"),g("itemwidth"),g("itemclick"),g("itemdoubleclick"),g("groupclick"),g("xanchor",ot),g("yanchor",nt),g("maxheight"),g("valign"),t.noneOrAll(_,m,["x","y"]);var dt=g("title.text");if(dt){g("title.side",Z?"left":"top");var ht=t.extendFlat({},y,{size:t.bigFont(y.size)});t.coerceFont(g,"title.font",ht)}}}}C.exports=function(e,v,u){var h,_=u.slice(),m=v.shapes;if(m)for(h=0;h<m.length;h++){var g=m[h];if(g.showlegend){var y={_input:g._input,visible:g.visible,showlegend:g.showlegend,legend:g.legend};_.push(y)}}var p=["legend"];for(h=0;h<_.length;h++)t.pushUnique(p,_[h].legend);for(v._legends=[],h=0;h<p.length;h++){var c=p[h];f(c,e,v,_),v[c]&&v[c].visible&&(v[c]._id=c),v._legends.push(c)}}}),bc=Ct((F,C)=>{var r=un(),t=De(),n=t.pushUnique,l=!0;C.exports=function(i,o,s){var f=o._fullLayout;if(o._dragged||o._editing)return;var e=f.legend.itemclick,v=f.legend.itemdoubleclick,u=f.legend.groupclick;s===1&&e==="toggle"&&v==="toggleothers"&&l&&o.data&&o._context.showTips&&t.notifier(t._(o,"Double-click on legend to isolate one trace"),"long"),l=!1;var h;if(s===1?h=e:s===2&&(h=v),!h)return;var _=u==="togglegroup",m=f.hiddenlabels?f.hiddenlabels.slice():[],g=i.data()[0][0];if(g.groupTitle&&g.noClick)return;var y=o._fullData,p=(f.shapes||[]).filter(function(Rt){return Rt.showlegend}),c=y.concat(p),d=g.trace;d._isShape&&(d=d._fullInput);var b=d.legendgroup,w,k,$,P,O,T,G={},I=[],E=[],z=[];function j(Rt,pt){var bt=I.indexOf(Rt),lt=G.visible;return lt||(lt=G.visible=[]),I.indexOf(Rt)===-1&&(I.push(Rt),bt=I.length-1),lt[bt]=pt,bt}var U=(f.shapes||[]).map(function(Rt){return Rt._input}),Z=!1;function D(Rt,pt){U[Rt].visible=pt,Z=!0}function W(Rt,pt){if(!(g.groupTitle&&!_)){var bt=Rt._fullInput||Rt,lt=bt._isShape,kt=bt.index;kt===void 0&&(kt=bt._index);var Nt=bt.visible===!1?!1:pt;lt?D(kt,Nt):j(kt,Nt)}}var X=d.legend,it=d._fullInput,nt=it&&it._isShape;if(!nt&&r.traceIs(d,"pie-like")){var ot=g.label,dt=m.indexOf(ot);if(h==="toggle")dt===-1?m.push(ot):m.splice(dt,1);else if(h==="toggleothers"){var ht=dt!==-1,xt=[];for(w=0;w<o.calcdata.length;w++){var H=o.calcdata[w];for(k=0;k<H.length;k++){var Y=H[k],A=Y.label;X===H[0].trace.legend&&ot!==A&&(m.indexOf(A)===-1&&(ht=!0),n(m,A),xt.push(A))}}if(!ht)for(var J=0;J<xt.length;J++){var at=m.indexOf(xt[J]);at!==-1&&m.splice(at,1)}}r.call("_guiRelayout",o,"hiddenlabels",m)}else{var N=b&&b.length,M=[],S;if(N)for(w=0;w<c.length;w++)S=c[w],S.visible&&S.legendgroup===b&&M.push(w);if(h==="toggle"){var R;switch(d.visible){case!0:R="legendonly";break;case!1:R=!1;break;case"legendonly":R=!0;break}if(N)if(_)for(w=0;w<c.length;w++){var V=c[w];V.visible!==!1&&V.legendgroup===b&&W(V,R)}else W(d,R);else W(d,R)}else if(h==="toggleothers"){var rt,st,ut,_t,Tt,Ft=!0;for(w=0;w<c.length;w++)if(Tt=c[w],rt=Tt===d,ut=Tt.showlegend!==!0,!(rt||ut)&&(st=N&&Tt.legendgroup===b,!st&&Tt.legend===X&&Tt.visible===!0&&!r.traceIs(Tt,"notLegendIsolatable"))){Ft=!1;break}for(w=0;w<c.length;w++)if(Tt=c[w],!(Tt.visible===!1||Tt.legend!==X)&&!r.traceIs(Tt,"notLegendIsolatable"))switch(d.visible){case"legendonly":W(Tt,!0);break;case!0:_t=Ft?!0:"legendonly",rt=Tt===d,ut=Tt.showlegend!==!0&&!Tt.legendgroup,st=rt||N&&Tt.legendgroup===b,W(Tt,st||ut?!0:_t);break}}for(w=0;w<E.length;w++)if($=E[w],!!$){var Zt=$.constructUpdate(),Bt=Object.keys(Zt);for(k=0;k<Bt.length;k++)P=Bt[k],T=G[P]=G[P]||[],T[z[w]]=Zt[P]}for(O=Object.keys(G),w=0;w<O.length;w++)for(P=O[w],k=0;k<I.length;k++)G[P].hasOwnProperty(k)||(G[P][k]=void 0);Z?r.call("_guiUpdate",o,G,{shapes:U},I):r.call("_guiRestyle",o,G,I)}}}),fl=Ct((F,C)=>{C.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}}),_c=Ct((F,C)=>{var r=un(),t=Ei();C.exports=function(n,l,i){var o=l._inHover,s=t.isGrouped(l),f=t.isReversed(l),e={},v=[],u=!1,h={},_=0,m=0,g,y;function p(W,X,it){if(l.visible!==!1&&!(i&&W!==l._id))if(X===""||!t.isGrouped(l)){var nt="~~i"+_;v.push(nt),e[nt]=[it],_++}else v.indexOf(X)===-1?(v.push(X),u=!0,e[X]=[it]):e[X].push(it)}for(g=0;g<n.length;g++){var c=n[g],d=c[0],b=d.trace,w=b.legend,k=b.legendgroup;if(!(!o&&(!b.visible||!b.showlegend)))if(r.traceIs(b,"pie-like"))for(h[k]||(h[k]={}),y=0;y<c.length;y++){var $=c[y].label;h[k][$]||(p(w,k,{label:$,color:c[y].color,i:c[y].i,trace:b,pts:c[y].pts}),h[k][$]=!0,m=Math.max(m,($||"").length))}else p(w,k,d),m=Math.max(m,(b.name||"").length)}if(!v.length)return[];var P=!u||!s,O=[];for(g=0;g<v.length;g++){var T=e[v[g]];P?O.push(T[0]):O.push(T)}for(P&&(O=[O]),g=0;g<O.length;g++){var G=1/0;for(y=0;y<O[g].length;y++){var I=O[g][y].trace.legendrank;G>I&&(G=I)}O[g][0]._groupMinRank=G,O[g][0]._preGroupSort=g}var E=function(W,X){return W[0]._groupMinRank-X[0]._groupMinRank||W[0]._preGroupSort-X[0]._preGroupSort},z=function(W,X){return W.trace.legendrank-X.trace.legendrank||W._preSort-X._preSort};for(O.forEach(function(W,X){W[0]._preGroupSort=X}),O.sort(E),g=0;g<O.length;g++){O[g].forEach(function(W,X){W._preSort=X}),O[g].sort(z);var j=O[g][0].trace,U=null;for(y=0;y<O[g].length;y++){var Z=O[g][y].trace.legendgrouptitle;if(Z&&Z.text){U=Z,o&&(Z.font=l._groupTitleFont);break}}if(f&&O[g].reverse(),U){var D=!1;for(y=0;y<O[g].length;y++)if(r.traceIs(O[g][y].trace,"pie-like")){D=!0;break}O[g].unshift({i:-1,groupTitle:U,noClick:D,trace:{showlegend:j.showlegend,legendgroup:j.legendgroup,visible:l.groupclick==="toggleitem"?!0:j.visible}})}for(y=0;y<O[g].length;y++)O[g][y]=[O[g][y]]}return l._lgroupsLength=O.length,l._maxNameLength=m,O}}),ji=Ct(F=>{var C=De();function r(t){return t.indexOf("e")!==-1?t.replace(/[.]?0+e/,"e"):t.indexOf(".")!==-1?t.replace(/[.]?0+$/,""):t}F.formatPiePercent=function(t,n){var l=r((t*100).toPrecision(3));return C.numSeparate(l,n)+"%"},F.formatPieValue=function(t,n){var l=r(t.toPrecision(10));return C.numSeparate(l,n)},F.getFirstFilled=function(t,n){if(C.isArrayOrTypedArray(t))for(var l=0;l<n.length;l++){var i=t[n[l]];if(i||i===0||i==="")return i}},F.castOption=function(t,n){if(C.isArrayOrTypedArray(t))return F.getFirstFilled(t,n);if(t)return t},F.getRotationAngle=function(t){return(t==="auto"?0:t)*Math.PI/180}}),wc=Ct((F,C)=>{var r=zn(),t=bn();C.exports=function(n,l,i,o){var s=i.marker.pattern;s&&s.shape?r.pointStyle(n,i,o,l):t.fill(n,l.color)}}),Hi=Ct((F,C)=>{var r=bn(),t=ji().castOption,n=wc();C.exports=function(l,i,o,s){var f=o.marker.line,e=t(f.color,i.pts)||r.defaultLine,v=t(f.width,i.pts)||0;l.call(n,i,o,s).style("stroke-width",v).call(r.stroke,e)}}),dl=Ct((F,C)=>{var r=wn(),t=un(),n=De(),l=n.strTranslate,i=zn(),o=bn(),s=Ea().extractOpts,f=Pa(),e=Hi(),v=ji().castOption,u=fl(),h=12,_=5,m=2,g=10,y=5;C.exports=function(b,w,k){var $=w._fullLayout;k||(k=$.legend);var P=k.itemsizing==="constant",O=k.itemwidth,T=(O+u.itemGap*2)/2,G=l(T,0),I=function(xt,H,Y,A){var J;if(xt+1)J=xt;else if(H&&H.width>0)J=H.width;else return 0;return P?A:Math.min(J,Y)};b.each(function(xt){var H=r.select(this),Y=n.ensureSingle(H,"g","layers");Y.style("opacity",xt[0].trace.opacity);var A=k.indentation,J=k.valign,at=xt[0].lineHeight,N=xt[0].height;if(J==="middle"&&A===0||!at||!N)Y.attr("transform",null);else{var M={top:1,bottom:-1}[J],S=M*(.5*(at-N+3))||0,R=k.indentation;Y.attr("transform",l(R,S))}var V=Y.selectAll("g.legendfill").data([xt]);V.enter().append("g").classed("legendfill",!0);var rt=Y.selectAll("g.legendlines").data([xt]);rt.enter().append("g").classed("legendlines",!0);var st=Y.selectAll("g.legendsymbols").data([xt]);st.enter().append("g").classed("legendsymbols",!0),st.selectAll("g.legendpoints").data([xt]).enter().append("g").classed("legendpoints",!0)}).each(ht).each(j).each(Z).each(U).each(W).each(ot).each(nt).each(E).each(z).each(X).each(it);function E(xt){var H=c(xt),Y=H.showFill,A=H.showLine,J=H.showGradientLine,at=H.showGradientFill,N=H.anyFill,M=H.anyLine,S=xt[0],R=S.trace,V,rt,st=s(R),ut=st.colorscale,_t=st.reversescale,Tt=function(lt){if(lt.size())if(Y)i.fillGroupStyle(lt,w,!0);else{var kt="legendfill-"+R.uid;i.gradient(lt,w,kt,p(_t),ut,"fill")}},Ft=function(lt){if(lt.size()){var kt="legendline-"+R.uid;i.lineGroupStyle(lt),i.gradient(lt,w,kt,p(_t),ut,"stroke")}},Zt=f.hasMarkers(R)||!N?"M5,0":M?"M5,-2":"M5,-3",Bt=r.select(this),Rt=Bt.select(".legendfill").selectAll("path").data(Y||at?[xt]:[]);if(Rt.enter().append("path").classed("js-fill",!0),Rt.exit().remove(),Rt.attr("d",Zt+"h"+O+"v6h-"+O+"z").call(Tt),A||J){var pt=I(void 0,R.line,g,_);rt=n.minExtend(R,{line:{width:pt}}),V=[n.minExtend(S,{trace:rt})]}var bt=Bt.select(".legendlines").selectAll("path").data(A||J?[V]:[]);bt.enter().append("path").classed("js-line",!0),bt.exit().remove(),bt.attr("d",Zt+(J?"l"+O+",0.0001":"h"+O)).call(A?i.lineGroupStyle:Ft)}function z(xt){var H=c(xt),Y=H.anyFill,A=H.anyLine,J=H.showLine,at=H.showMarker,N=xt[0],M=N.trace,S=!at&&!A&&!Y&&f.hasText(M),R,V;function rt(Rt,pt,bt,lt){var kt=n.nestedProperty(M,Rt).get(),Nt=n.isArrayOrTypedArray(kt)&&pt?pt(kt):kt;if(P&&Nt&&lt!==void 0&&(Nt=lt),bt){if(Nt<bt[0])return bt[0];if(Nt>bt[1])return bt[1]}return Nt}function st(Rt){return N._distinct&&N.index&&Rt[N.index]?Rt[N.index]:Rt[0]}if(at||S||J){var ut={},_t={};if(at){ut.mc=rt("marker.color",st),ut.mx=rt("marker.symbol",st),ut.mo=rt("marker.opacity",n.mean,[.2,1]),ut.mlc=rt("marker.line.color",st),ut.mlw=rt("marker.line.width",n.mean,[0,5],m),_t.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var Tt=rt("marker.size",n.mean,[2,16],h);ut.ms=Tt,_t.marker.size=Tt}J&&(_t.line={width:rt("line.width",st,[0,10],_)}),S&&(ut.tx="Aa",ut.tp=rt("textposition",st),ut.ts=10,ut.tc=rt("textfont.color",st),ut.tf=rt("textfont.family",st),ut.tw=rt("textfont.weight",st),ut.ty=rt("textfont.style",st),ut.tv=rt("textfont.variant",st),ut.tC=rt("textfont.textcase",st),ut.tE=rt("textfont.lineposition",st),ut.tS=rt("textfont.shadow",st)),R=[n.minExtend(N,ut)],V=n.minExtend(M,_t),V.selectedpoints=null,V.texttemplate=null}var Ft=r.select(this).select("g.legendpoints"),Zt=Ft.selectAll("path.scatterpts").data(at?R:[]);Zt.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",G),Zt.exit().remove(),Zt.call(i.pointStyle,V,w),at&&(R[0].mrc=3);var Bt=Ft.selectAll("g.pointtext").data(S?R:[]);Bt.enter().append("g").classed("pointtext",!0).append("text").attr("transform",G),Bt.exit().remove(),Bt.selectAll("text").call(i.textPointStyle,V,w)}function j(xt){var H=xt[0].trace,Y=H.type==="waterfall";if(xt[0]._distinct&&Y){var A=xt[0].trace[xt[0].dir].marker;return xt[0].mc=A.color,xt[0].mlw=A.line.width,xt[0].mlc=A.line.color,D(xt,this,"waterfall")}var J=[];H.visible&&Y&&(J=xt[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var at=r.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(J);at.enter().append("path").classed("legendwaterfall",!0).attr("transform",G).style("stroke-miterlimit",1),at.exit().remove(),at.each(function(N){var M=r.select(this),S=H[N[0]].marker,R=I(void 0,S.line,y,m);M.attr("d",N[1]).style("stroke-width",R+"px").call(o.fill,S.color),R&&M.call(o.stroke,S.line.color)})}function U(xt){D(xt,this)}function Z(xt){D(xt,this,"funnel")}function D(xt,H,Y){var A=xt[0].trace,J=A.marker||{},at=J.line||{},N=J.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",M=Y?A.visible&&A.type===Y:t.traceIs(A,"bar"),S=r.select(H).select("g.legendpoints").selectAll("path.legend"+Y).data(M?[xt]:[]);S.enter().append("path").classed("legend"+Y,!0).attr("d",N).attr("transform",G),S.exit().remove(),S.each(function(R){var V=r.select(this),rt=R[0],st=I(rt.mlw,J.line,y,m);V.style("stroke-width",st+"px");var ut=rt.mcc;if(!k._inHover&&"mc"in rt){var _t=s(J),Tt=_t.mid;Tt===void 0&&(Tt=(_t.max+_t.min)/2),ut=i.tryColorscale(J,"")(Tt)}var Ft=ut||rt.mc||J.color,Zt=J.pattern,Bt=i.getPatternAttr,Rt=Zt&&(Bt(Zt.shape,0,"")||Bt(Zt.path,0,""));if(Rt){var pt=Bt(Zt.bgcolor,0,null),bt=Bt(Zt.fgcolor,0,null),lt=Zt.fgopacity,kt=d(Zt.size,8,10),Nt=d(Zt.solidity,.5,1),Yt="legend-"+A.uid;V.call(i.pattern,"legend",w,Yt,Rt,kt,Nt,ut,Zt.fillmode,pt,bt,lt)}else V.call(o.fill,Ft);st&&o.stroke(V,rt.mlc||at.color)})}function W(xt){var H=xt[0].trace,Y=r.select(this).select("g.legendpoints").selectAll("path.legendbox").data(H.visible&&t.traceIs(H,"box-violin")?[xt]:[]);Y.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",G),Y.exit().remove(),Y.each(function(){var A=r.select(this);if((H.boxpoints==="all"||H.points==="all")&&o.opacity(H.fillcolor)===0&&o.opacity((H.line||{}).color)===0){var J=n.minExtend(H,{marker:{size:P?h:n.constrain(H.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});Y.call(i.pointStyle,J,w)}else{var at=I(void 0,H.line,y,m);A.style("stroke-width",at+"px").call(o.fill,H.fillcolor),at&&o.stroke(A,H.line.color)}})}function X(xt){var H=xt[0].trace,Y=r.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(H.visible&&H.type==="candlestick"?[xt,xt]:[]);Y.enter().append("path").classed("legendcandle",!0).attr("d",function(A,J){return J?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",G).style("stroke-miterlimit",1),Y.exit().remove(),Y.each(function(A,J){var at=r.select(this),N=H[J?"increasing":"decreasing"],M=I(void 0,N.line,y,m);at.style("stroke-width",M+"px").call(o.fill,N.fillcolor),M&&o.stroke(at,N.line.color)})}function it(xt){var H=xt[0].trace,Y=r.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(H.visible&&H.type==="ohlc"?[xt,xt]:[]);Y.enter().append("path").classed("legendohlc",!0).attr("d",function(A,J){return J?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",G).style("stroke-miterlimit",1),Y.exit().remove(),Y.each(function(A,J){var at=r.select(this),N=H[J?"increasing":"decreasing"],M=I(void 0,N.line,y,m);at.style("fill","none").call(i.dashLine,N.line.dash,M),M&&o.stroke(at,N.line.color)})}function nt(xt){dt(xt,this,"pie")}function ot(xt){dt(xt,this,"funnelarea")}function dt(xt,H,Y){var A=xt[0],J=A.trace,at=Y?J.visible&&J.type===Y:t.traceIs(J,Y),N=r.select(H).select("g.legendpoints").selectAll("path.legend"+Y).data(at?[xt]:[]);if(N.enter().append("path").classed("legend"+Y,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",G),N.exit().remove(),N.size()){var M=J.marker||{},S=I(v(M.line.width,A.pts),M.line,y,m),R="pieLike",V=n.minExtend(J,{marker:{line:{width:S}}},R),rt=n.minExtend(A,{trace:V},R);e(N,rt,V,w)}}function ht(xt){var H=xt[0].trace,Y,A=[];if(H.visible)switch(H.type){case"histogram2d":case"heatmap":A=[["M-15,-2V4H15V-2Z"]],Y=!0;break;case"choropleth":case"choroplethmapbox":case"choroplethmap":A=[["M-6,-6V6H6V-6Z"]],Y=!0;break;case"densitymapbox":case"densitymap":A=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],Y="radial";break;case"cone":A=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],Y=!1;break;case"streamtube":A=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],Y=!1;break;case"surface":A=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],Y=!0;break;case"mesh3d":A=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],Y=!1;break;case"volume":A=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],Y=!0;break;case"isosurface":A=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],Y=!1;break}var J=r.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(A);J.enter().append("path").classed("legend3dandfriends",!0).attr("transform",G).style("stroke-miterlimit",1),J.exit().remove(),J.each(function(at,N){var M=r.select(this),S=s(H),R=S.colorscale,V=S.reversescale,rt=function(Tt){if(Tt.size()){var Ft="legendfill-"+H.uid;i.gradient(Tt,w,Ft,p(V,Y==="radial"),R,"fill")}},st;if(R){if(!Y){var ut=R.length;st=N===0?R[V?ut-1:0][1]:N===1?R[V?0:ut-1][1]:R[Math.floor((ut-1)/2)][1]}}else{var _t=H.vertexcolor||H.facecolor||H.color;st=n.isArrayOrTypedArray(_t)?_t[N]||_t[0]:_t}M.attr("d",at[0]),st?M.call(o.fill,st):M.call(rt)})}};function p(b,w){var k=w?"radial":"horizontal";return k+(b?"":"reversed")}function c(b){var w=b[0].trace,k=w.contours,$=f.hasLines(w),P=f.hasMarkers(w),O=w.visible&&w.fill&&w.fill!=="none",T=!1,G=!1;if(k){var I=k.coloring;I==="lines"?T=!0:$=I==="none"||I==="heatmap"||k.showlines,k.type==="constraint"?O=k._operation!=="=":(I==="fill"||I==="heatmap")&&(G=!0)}return{showMarker:P,showLine:$,showFill:O,showGradientLine:T,showGradientFill:G,anyLine:$||T,anyFill:O||G}}function d(b,w,k){return b&&n.isArrayOrTypedArray(b)?w:b>k?k:b}}),hl=Ct((F,C)=>{var r=wn(),t=De(),n=aa(),l=un(),i=Jr(),o=Ua(),s=zn(),f=bn(),e=xa(),v=bc(),u=fl(),h=ka(),_=h.LINE_SPACING,m=h.FROM_TL,g=h.FROM_BR,y=_c(),p=dl(),c=Ei(),d=1,b=/^legend[0-9]*$/;C.exports=function(X,it){if(it)k(X,it);else{var nt=X._fullLayout,ot=nt._legends,dt=nt._infolayer.selectAll('[class^="legend"]');dt.each(function(){var Y=r.select(this),A=Y.attr("class"),J=A.split(" ")[0];J.match(b)&&ot.indexOf(J)===-1&&Y.remove()});for(var ht=0;ht<ot.length;ht++){var xt=ot[ht],H=X._fullLayout[xt];k(X,H)}}};function w(X,it,nt){if(!(it.title.side!=="top center"&&it.title.side!=="top right")){var ot=it.title.font,dt=ot.size*_,ht=0,xt=X.node(),H=s.bBox(xt).width;it.title.side==="top center"?ht=.5*(it._width-2*nt-2*u.titlePad-H):it.title.side==="top right"&&(ht=it._width-2*nt-2*u.titlePad-H),e.positionText(X,nt+u.titlePad+ht,nt+dt)}}function k(X,it){var nt=it||{},ot=X._fullLayout,dt=W(nt),ht,xt,H=nt._inHover;if(H?(xt=nt.layer,ht="hover"):(xt=ot._infolayer,ht=dt),!!xt){ht+=ot._uid,X._legendMouseDownTime||(X._legendMouseDownTime=0);var Y;if(H){if(!nt.entries)return;Y=y(nt.entries,nt)}else{for(var A=(X.calcdata||[]).slice(),J=ot.shapes,at=0;at<J.length;at++){var N=J[at];if(N.showlegend){var M={_isShape:!0,_fullInput:N,index:N._index,name:N.name||N.label.text||"shape "+N._index,legend:N.legend,legendgroup:N.legendgroup,legendgrouptitle:N.legendgrouptitle,legendrank:N.legendrank,legendwidth:N.legendwidth,showlegend:N.showlegend,visible:N.visible,opacity:N.opacity,mode:N.type==="line"?"lines":"markers",line:N.line,marker:{line:N.line,color:N.fillcolor,size:12,symbol:N.type==="rect"?"square":N.type==="circle"?"circle":"hexagon2"}};A.push([{trace:M}])}}Y=ot.showlegend&&y(A,nt,ot._legends.length>1)}var S=ot.hiddenlabels||[];if(!H&&(!ot.showlegend||!Y.length))return xt.selectAll("."+dt).remove(),ot._topdefs.select("#"+ht).remove(),n.autoMargin(X,dt);var R=t.ensureSingle(xt,"g",dt,function(Bt){H||Bt.attr("pointer-events","all")}),V=t.ensureSingleById(ot._topdefs,"clipPath",ht,function(Bt){Bt.append("rect")}),rt=t.ensureSingle(R,"rect","bg",function(Bt){Bt.attr("shape-rendering","crispEdges")});rt.call(f.stroke,nt.bordercolor).call(f.fill,nt.bgcolor).style("stroke-width",nt.borderwidth+"px");var st=t.ensureSingle(R,"g","scrollbox"),ut=nt.title;nt._titleWidth=0,nt._titleHeight=0;var _t;ut.text?(_t=t.ensureSingle(st,"text",dt+"titletext"),_t.attr("text-anchor","start").call(s.font,ut.font).text(ut.text),I(_t,st,X,nt,d)):st.selectAll("."+dt+"titletext").remove();var Tt=t.ensureSingle(R,"rect","scrollbar",function(Bt){Bt.attr(u.scrollBarEnterAttrs).call(f.fill,u.scrollBarColor)}),Ft=st.selectAll("g.groups").data(Y);Ft.enter().append("g").attr("class","groups"),Ft.exit().remove();var Zt=Ft.selectAll("g.traces").data(t.identity);Zt.enter().append("g").attr("class","traces"),Zt.exit().remove(),Zt.style("opacity",function(Bt){var Rt=Bt[0].trace;return l.traceIs(Rt,"pie-like")?S.indexOf(Bt[0].label)!==-1?.5:1:Rt.visible==="legendonly"?.5:1}).each(function(){r.select(this).call(O,X,nt)}).call(p,X,nt).each(function(){H||r.select(this).call(G,X,dt)}),t.syncOrAsync([n.previousPromises,function(){return j(X,Ft,Zt,nt)},function(){var Bt=ot._size,Rt=nt.borderwidth,pt=nt.xref==="paper",bt=nt.yref==="paper";if(ut.text&&w(_t,nt,Rt),!H){var lt,kt;pt?lt=Bt.l+Bt.w*nt.x-m[Z(nt)]*nt._width:lt=ot.width*nt.x-m[Z(nt)]*nt._width,bt?kt=Bt.t+Bt.h*(1-nt.y)-m[D(nt)]*nt._effHeight:kt=ot.height*(1-nt.y)-m[D(nt)]*nt._effHeight;var Nt=U(X,dt,lt,kt);if(Nt)return;if(ot.margin.autoexpand){var Yt=lt,ee=kt;lt=pt?t.constrain(lt,0,ot.width-nt._width):Yt,kt=bt?t.constrain(kt,0,ot.height-nt._effHeight):ee,lt!==Yt&&t.log("Constrain "+dt+".x to make legend fit inside graph"),kt!==ee&&t.log("Constrain "+dt+".y to make legend fit inside graph")}s.setTranslate(R,lt,kt)}if(Tt.on(".drag",null),R.on("wheel",null),H||nt._height<=nt._maxHeight||X._context.staticPlot){var Xt=nt._effHeight;H&&(Xt=nt._height),rt.attr({width:nt._width-Rt,height:Xt-Rt,x:Rt/2,y:Rt/2}),s.setTranslate(st,0,0),V.select("rect").attr({width:nt._width-2*Rt,height:Xt-2*Rt,x:Rt,y:Rt}),s.setClipUrl(st,ht,X),s.setRect(Tt,0,0,0,0),delete nt._scrollY}else{var ae=Math.max(u.scrollBarMinHeight,nt._effHeight*nt._effHeight/nt._height),oe=nt._effHeight-ae-2*u.scrollBarMargin,ie=nt._height-nt._effHeight,pe=oe/ie,$t=Math.min(nt._scrollY||0,ie);rt.attr({width:nt._width-2*Rt+u.scrollBarWidth+u.scrollBarMargin,height:nt._effHeight-Rt,x:Rt/2,y:Rt/2}),V.select("rect").attr({width:nt._width-2*Rt+u.scrollBarWidth+u.scrollBarMargin,height:nt._effHeight-2*Rt,x:Rt,y:Rt+$t}),s.setClipUrl(st,ht,X),Q($t,ae,pe),R.on("wheel",function(){$t=t.constrain(nt._scrollY+r.event.deltaY/oe*ie,0,ie),Q($t,ae,pe),$t!==0&&$t!==ie&&r.event.preventDefault()});var me,we,ve,Me=function(Mt,Jt,qt){var le=(qt-Jt)/pe+Mt;return t.constrain(le,0,ie)},mt=function(Mt,Jt,qt){var le=(Jt-qt)/pe+Mt;return t.constrain(le,0,ie)},Lt=r.behavior.drag().on("dragstart",function(){var Mt=r.event.sourceEvent;Mt.type==="touchstart"?me=Mt.changedTouches[0].clientY:me=Mt.clientY,ve=$t}).on("drag",function(){var Mt=r.event.sourceEvent;Mt.buttons===2||Mt.ctrlKey||(Mt.type==="touchmove"?we=Mt.changedTouches[0].clientY:we=Mt.clientY,$t=Me(ve,me,we),Q($t,ae,pe))});Tt.call(Lt);var At=r.behavior.drag().on("dragstart",function(){var Mt=r.event.sourceEvent;Mt.type==="touchstart"&&(me=Mt.changedTouches[0].clientY,ve=$t)}).on("drag",function(){var Mt=r.event.sourceEvent;Mt.type==="touchmove"&&(we=Mt.changedTouches[0].clientY,$t=mt(ve,me,we),Q($t,ae,pe))});st.call(At)}function Q(Mt,Jt,qt){nt._scrollY=X._fullLayout[dt]._scrollY=Mt,s.setTranslate(st,0,-Mt),s.setRect(Tt,nt._width,u.scrollBarMargin+Mt*qt,u.scrollBarWidth,Jt),V.select("rect").attr("y",Rt+Mt)}if(X._context.edits.legendPosition){var ft,yt,gt,It;R.classed("cursor-move",!0),o.init({element:R.node(),gd:X,prepFn:function(Mt){if(Mt.target!==Tt.node()){var Jt=s.getTranslate(R);gt=Jt.x,It=Jt.y}},moveFn:function(Mt,Jt){if(gt!==void 0&&It!==void 0){var qt=gt+Mt,le=It+Jt;s.setTranslate(R,qt,le),ft=o.align(qt,nt._width,Bt.l,Bt.l+Bt.w,nt.xanchor),yt=o.align(le+nt._height,-nt._height,Bt.t+Bt.h,Bt.t,nt.yanchor)}},doneFn:function(){if(ft!==void 0&&yt!==void 0){var Mt={};Mt[dt+".x"]=ft,Mt[dt+".y"]=yt,l.call("_guiRelayout",X,Mt)}},clickFn:function(Mt,Jt){var qt=xt.selectAll("g.traces").filter(function(){var le=this.getBoundingClientRect();return Jt.clientX>=le.left&&Jt.clientX<=le.right&&Jt.clientY>=le.top&&Jt.clientY<=le.bottom});qt.size()>0&&P(X,R,qt,Mt,Jt)}})}}],X)}}function $(X,it,nt){var ot=X[0],dt=ot.width,ht=it.entrywidthmode,xt=ot.trace.legendwidth||it.entrywidth;return ht==="fraction"?it._maxWidth*xt:nt+(xt||dt)}function P(X,it,nt,ot,dt){var ht=nt.data()[0][0].trace,xt={event:dt,node:nt.node(),curveNumber:ht.index,expandedIndex:ht.index,data:X.data,layout:X.layout,frames:X._transitionData._frames,config:X._context,fullData:X._fullData,fullLayout:X._fullLayout};ht._group&&(xt.group=ht._group),l.traceIs(ht,"pie-like")&&(xt.label=nt.datum()[0].label);var H=i.triggerHandler(X,"plotly_legendclick",xt);if(ot===1){if(H===!1)return;it._clickTimeout=setTimeout(function(){X._fullLayout&&v(nt,X,ot)},X._context.doubleClickDelay)}else if(ot===2){it._clickTimeout&&clearTimeout(it._clickTimeout),X._legendMouseDownTime=0;var Y=i.triggerHandler(X,"plotly_legenddoubleclick",xt);Y!==!1&&H!==!1&&v(nt,X,ot)}}function O(X,it,nt){var ot=W(nt),dt=X.data()[0][0],ht=dt.trace,xt=l.traceIs(ht,"pie-like"),H=!nt._inHover&&it._context.edits.legendText&&!xt,Y=nt._maxNameLength,A,J;dt.groupTitle?(A=dt.groupTitle.text,J=dt.groupTitle.font):(J=nt.font,nt.entries?A=dt.text:(A=xt?dt.label:ht.name,ht._meta&&(A=t.templateString(A,ht._meta))));var at=t.ensureSingle(X,"text",ot+"text");at.attr("text-anchor","start").call(s.font,J).text(H?T(A,Y):A);var N=nt.indentation+nt.itemwidth+u.itemGap*2;e.positionText(at,N,0),H?at.call(e.makeEditable,{gd:it,text:A}).call(I,X,it,nt).on("edit",function(M){this.text(T(M,Y)).call(I,X,it,nt);var S=dt.trace._fullInput||{},R={};return R.name=M,S._isShape?l.call("_guiRelayout",it,"shapes["+ht.index+"].name",R.name):l.call("_guiRestyle",it,R,ht.index)}):I(at,X,it,nt)}function T(X,it){var nt=Math.max(4,it);if(X&&X.trim().length>=nt/2)return X;X=X||"";for(var ot=nt-X.length;ot>0;ot--)X+=" ";return X}function G(X,it,nt){var ot=it._context.doubleClickDelay,dt,ht=1,xt=t.ensureSingle(X,"rect",nt+"toggle",function(H){it._context.staticPlot||H.style("cursor","pointer").attr("pointer-events","all"),H.call(f.fill,"rgba(0,0,0,0)")});it._context.staticPlot||(xt.on("mousedown",function(){dt=new Date().getTime(),dt-it._legendMouseDownTime<ot?ht+=1:(ht=1,it._legendMouseDownTime=dt)}),xt.on("mouseup",function(){if(!(it._dragged||it._editing)){var H=it._fullLayout[nt];new Date().getTime()-it._legendMouseDownTime>ot&&(ht=Math.max(ht-1,1)),P(it,H,X,ht,r.event)}}))}function I(X,it,nt,ot,dt){ot._inHover&&X.attr("data-notex",!0),e.convertToTspans(X,nt,function(){E(it,nt,ot,dt)})}function E(X,it,nt,ot){var dt=X.data()[0][0];if(!nt._inHover&&dt&&!dt.trace.showlegend){X.remove();return}var ht=X.select("g[class*=math-group]"),xt=ht.node(),H=W(nt);nt||(nt=it._fullLayout[H]);var Y=nt.borderwidth,A;ot===d?A=nt.title.font:dt.groupTitle?A=dt.groupTitle.font:A=nt.font;var J=A.size*_,at,N;if(xt){var M=s.bBox(xt);at=M.height,N=M.width,ot===d?s.setTranslate(ht,Y,Y+at*.75):s.setTranslate(ht,0,at*.25)}else{var S="."+H+(ot===d?"title":"")+"text",R=X.select(S),V=e.lineCount(R),rt=R.node();if(at=J*V,N=rt?s.bBox(rt).width:0,ot===d)nt.title.side==="left"&&(N+=u.itemGap*2),e.positionText(R,Y+u.titlePad,Y+J);else{var st=u.itemGap*2+nt.indentation+nt.itemwidth;dt.groupTitle&&(st=u.itemGap,N-=nt.indentation+nt.itemwidth),e.positionText(R,st,-J*((V-1)/2-.3))}}ot===d?(nt._titleWidth=N,nt._titleHeight=at):(dt.lineHeight=J,dt.height=Math.max(at,16)+3,dt.width=N)}function z(X){var it=0,nt=0,ot=X.title.side;return ot&&(ot.indexOf("left")!==-1&&(it=X._titleWidth),ot.indexOf("top")!==-1&&(nt=X._titleHeight)),[it,nt]}function j(X,it,nt,ot){var dt=X._fullLayout,ht=W(ot);ot||(ot=dt[ht]);var xt=dt._size,H=c.isVertical(ot),Y=c.isGrouped(ot),A=ot.entrywidthmode==="fraction",J=ot.borderwidth,at=2*J,N=u.itemGap,M=ot.indentation+ot.itemwidth+N*2,S=2*(J+N),R=D(ot),V=ot.y<0||ot.y===0&&R==="top",rt=ot.y>1||ot.y===1&&R==="bottom",st=ot.tracegroupgap,ut={};let{orientation:_t,yref:Tt}=ot,{maxheight:Ft}=ot,Zt=V||rt||_t!=="v"||Tt!=="paper";Ft||(Ft=Zt?.5:1);let Bt=Zt?dt.height:xt.h;ot._maxHeight=Math.max(Ft>1?Ft:Ft*Bt,30);var Rt=0;ot._width=0,ot._height=0;var pt=z(ot);if(H)nt.each(function(Q){var ft=Q[0].height;s.setTranslate(this,J+pt[0],J+pt[1]+ot._height+ft/2+N),ot._height+=ft,ot._width=Math.max(ot._width,Q[0].width)}),Rt=M+ot._width,ot._width+=N+M+at,ot._height+=S,Y&&(it.each(function(Q,ft){s.setTranslate(this,0,ft*ot.tracegroupgap)}),ot._height+=(ot._lgroupsLength-1)*ot.tracegroupgap);else{var bt=Z(ot),lt=ot.x<0||ot.x===0&&bt==="right",kt=ot.x>1||ot.x===1&&bt==="left",Nt=rt||V,Yt=dt.width/2;ot._maxWidth=Math.max(lt?Nt&&bt==="left"?xt.l+xt.w:Yt:kt?Nt&&bt==="right"?xt.r+xt.w:Yt:xt.w,2*M);var ee=0,Xt=0;nt.each(function(Q){var ft=$(Q,ot,M);ee=Math.max(ee,ft),Xt+=ft}),Rt=null;var ae=0;if(Y){var oe=0,ie=0,pe=0;it.each(function(){var Q=0,ft=0;r.select(this).selectAll("g.traces").each(function(gt){var It=$(gt,ot,M),Mt=gt[0].height;s.setTranslate(this,pt[0],pt[1]+J+N+Mt/2+ft),ft+=Mt,Q=Math.max(Q,It),ut[gt[0].trace.legendgroup]=Q});var yt=Q+N;ie>0&&yt+J+ie>ot._maxWidth?(ae=Math.max(ae,ie),ie=0,pe+=oe+st,oe=ft):oe=Math.max(oe,ft),s.setTranslate(this,ie,pe),ie+=yt}),ot._width=Math.max(ae,ie)+J,ot._height=pe+oe+S}else{var $t=nt.size(),me=Xt+at+($t-1)*N<ot._maxWidth,we=0,ve=0,Me=0,mt=0;nt.each(function(Q){var ft=Q[0].height,yt=$(Q,ot,M),gt=me?yt:ee;A||(gt+=N),gt+J+ve-N>=ot._maxWidth&&(ae=Math.max(ae,mt),ve=0,Me+=we,ot._height+=we,we=0),s.setTranslate(this,pt[0]+J+ve,pt[1]+J+Me+ft/2+N),mt=ve+yt+N,ve+=gt,we=Math.max(we,ft)}),me?(ot._width=ve+at,ot._height=we+S):(ot._width=Math.max(ae,mt)+at,ot._height+=we+S)}}ot._width=Math.ceil(Math.max(ot._width+pt[0],ot._titleWidth+2*(J+u.titlePad))),ot._height=Math.ceil(Math.max(ot._height+pt[1],ot._titleHeight+2*(J+u.itemGap))),ot._effHeight=Math.min(ot._height,ot._maxHeight);var Lt=X._context.edits,At=Lt.legendText||Lt.legendPosition;nt.each(function(Q){var ft=r.select(this).select("."+ht+"toggle"),yt=Q[0].height,gt=Q[0].trace.legendgroup,It=$(Q,ot,M);Y&&gt!==""&&(It=ut[gt]);var Mt=At?M:Rt||It;!H&&!A&&(Mt+=N/2),s.setRect(ft,0,-yt/2,Mt,yt)})}function U(X,it,nt,ot){var dt=X._fullLayout,ht=dt[it],xt=Z(ht),H=D(ht),Y=ht.xref==="paper",A=ht.yref==="paper";X._fullLayout._reservedMargin[it]={};var J=ht.y<.5?"b":"t",at=ht.x<.5?"l":"r",N={r:dt.width-nt,l:nt+ht._width,b:dt.height-ot,t:ot+ht._effHeight};if(Y&&A)return n.autoMargin(X,it,{x:ht.x,y:ht.y,l:ht._width*m[xt],r:ht._width*g[xt],b:ht._effHeight*g[H],t:ht._effHeight*m[H]});Y?X._fullLayout._reservedMargin[it][J]=N[J]:A||ht.orientation==="v"?X._fullLayout._reservedMargin[it][at]=N[at]:X._fullLayout._reservedMargin[it][J]=N[J]}function Z(X){return t.isRightAnchor(X)?"right":t.isCenterAnchor(X)?"center":"left"}function D(X){return t.isBottomAnchor(X)?"bottom":t.isMiddleAnchor(X)?"middle":"top"}function W(X){return X._id||"legend"}}),pl=Ct(F=>{var C=wn(),r=Mn(),t=Ra(),n=De(),l=n.pushUnique,i=n.strTranslate,o=n.strRotate,s=Jr(),f=xa(),e=xc(),v=zn(),u=bn(),h=Ua(),_=Yn(),m=pa().zindexSeparator,g=un(),y=Ka(),p=Zr(),c=cl(),d=hl(),b=p.YANGLE,w=Math.PI*b/180,k=1/Math.sin(w),$=Math.cos(w),P=Math.sin(w),O=p.HOVERARROWSIZE,T=p.HOVERTEXTPAD,G={box:!0,ohlc:!0,violin:!0,candlestick:!0},I={scatter:!0,scattergl:!0,splom:!0};function E(M,S){return M.distance-S.distance}F.hover=function(M,S,R,V){M=n.getGraphDiv(M);var rt=S.target;n.throttle(M._fullLayout._uid+p.HOVERID,p.HOVERMINTIME,function(){z(M,S,R,V,rt)})},F.loneHover=function(M,S){var R=!0;Array.isArray(M)||(R=!1,M=[M]);var V=S.gd,rt=J(V),st=at(V),ut=M.map(function(lt){var kt=lt._x0||lt.x0||lt.x||0,Nt=lt._x1||lt.x1||lt.x||0,Yt=lt._y0||lt.y0||lt.y||0,ee=lt._y1||lt.y1||lt.y||0,Xt=lt.eventData;if(Xt){var ae=Math.min(kt,Nt),oe=Math.max(kt,Nt),ie=Math.min(Yt,ee),pe=Math.max(Yt,ee),$t=lt.trace;if(g.traceIs($t,"gl3d")){var me=V._fullLayout[$t.scene]._scene.container,we=me.offsetLeft,ve=me.offsetTop;ae+=we,oe+=we,ie+=ve,pe+=ve}Xt.bbox={x0:ae+st,x1:oe+st,y0:ie+rt,y1:pe+rt},S.inOut_bbox&&S.inOut_bbox.push(Xt.bbox)}else Xt=!1;return{color:lt.color||u.defaultLine,x0:lt.x0||lt.x||0,x1:lt.x1||lt.x||0,y0:lt.y0||lt.y||0,y1:lt.y1||lt.y||0,xLabel:lt.xLabel,yLabel:lt.yLabel,zLabel:lt.zLabel,text:lt.text,name:lt.name,idealAlign:lt.idealAlign,borderColor:lt.borderColor,fontFamily:lt.fontFamily,fontSize:lt.fontSize,fontColor:lt.fontColor,fontWeight:lt.fontWeight,fontStyle:lt.fontStyle,fontVariant:lt.fontVariant,nameLength:lt.nameLength,textAlign:lt.textAlign,trace:lt.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:lt.hovertemplate||!1,hovertemplateLabels:lt.hovertemplateLabels||!1,eventData:Xt}}),_t=!1,Tt=Z(ut,{gd:V,hovermode:"closest",rotateLabels:_t,bgColor:S.bgColor||u.background,container:C.select(S.container),outerContainer:S.outerContainer||S.container}),Ft=Tt.hoverLabels,Zt=5,Bt=0,Rt=0;Ft.sort(function(lt,kt){return lt.y0-kt.y0}).each(function(lt,kt){var Nt=lt.y0-lt.by/2;Nt-Zt<Bt?lt.offset=Bt-Nt+Zt:lt.offset=0,Bt=Nt+lt.by+lt.offset,kt===S.anchorIndex&&(Rt=lt.offset)}).each(function(lt){lt.offset-=Rt});var pt=V._fullLayout._invScaleX,bt=V._fullLayout._invScaleY;return nt(Ft,_t,pt,bt),R?Ft:Ft.node()};function z(M,S,R,V,rt){R||(R="xy"),typeof R=="string"&&(R=R.split(m)[0]);var st=Array.isArray(R)?R:[R],ut,_t=M._fullLayout,Tt=_t.hoversubplots,Ft=_t._plots||[],Zt=Ft[R],Bt=_t._has("cartesian"),Rt=S.hovermode||_t.hovermode,pt=(Rt||"").charAt(0)==="x",bt=(Rt||"").charAt(0)==="y",lt,kt;if(Bt&&(pt||bt)&&Tt==="axis"){for(var Nt=st.length,Yt=0;Yt<Nt;Yt++)if(ut=st[Yt],Ft[ut]){lt=_.getFromId(M,ut,"x"),kt=_.getFromId(M,ut,"y");var ee=(pt?lt:kt)._subplotsWith;if(ee&&ee.length)for(var Xt=0;Xt<ee.length;Xt++)l(st,ee[Xt])}}if(Zt&&Tt!=="single"){var ae=Zt.overlays.map(function(Ue){return Ue.id});st=st.concat(ae)}for(var oe=st.length,ie=new Array(oe),pe=new Array(oe),$t=!1,me=0;me<oe;me++)if(ut=st[me],Ft[ut])$t=!0,ie[me]=Ft[ut].xaxis,pe[me]=Ft[ut].yaxis;else if(_t[ut]&&_t[ut]._subplot){var we=_t[ut]._subplot;ie[me]=we.xaxis,pe[me]=we.yaxis}else{n.warn("Unrecognized subplot: "+ut);return}if(Rt&&!$t&&(Rt="closest"),["x","y","closest","x unified","y unified"].indexOf(Rt)===-1||!M.calcdata||M.querySelector(".zoombox")||M._dragging)return h.unhoverRaw(M,S);var ve=_t.hoverdistance;ve===-1&&(ve=1/0);var Me=_t.spikedistance;Me===-1&&(Me=1/0);var mt=[],Lt=[],At,Q,ft,yt,gt,It,Mt,Jt,qt,le,Et,re,se,he={hLinePoint:null,vLinePoint:null},Se=!1;if(Array.isArray(S))for(Rt="array",ft=0;ft<S.length;ft++)gt=M.calcdata[S[ft].curveNumber||0],gt&&(It=gt[0].trace,gt[0].trace.hoverinfo!=="skip"&&(Lt.push(gt),It.orientation==="h"&&(Se=!0)));else{var je=M.calcdata.slice();for(je.sort(function(Ue,Tn){var kn=Ue[0].trace.zorder||0,Gn=Tn[0].trace.zorder||0;return kn-Gn}),yt=0;yt<je.length;yt++)gt=je[yt],It=gt[0].trace,It.hoverinfo!=="skip"&&y.isTraceInSubplots(It,st)&&(Lt.push(gt),It.orientation==="h"&&(Se=!0));var Ge=!rt,Ce,Ne;if(Ge)"xpx"in S?Ce=S.xpx:Ce=ie[0]._length/2,"ypx"in S?Ne=S.ypx:Ne=pe[0]._length/2;else{if(s.triggerHandler(M,"plotly_beforehover",S)===!1)return;var Le=rt.getBoundingClientRect();Ce=S.clientX-Le.left,Ne=S.clientY-Le.top,_t._calcInverseTransform(M);var Oe=n.apply3DTransform(_t._invTransform)(Ce,Ne);if(Ce=Oe[0],Ne=Oe[1],Ce<0||Ce>ie[0]._length||Ne<0||Ne>pe[0]._length)return h.unhoverRaw(M,S)}if(S.pointerX=Ce+ie[0]._offset,S.pointerY=Ne+pe[0]._offset,"xval"in S?At=y.flat(st,S.xval):At=y.p2c(ie,Ce),"yval"in S?Q=y.flat(st,S.yval):Q=y.p2c(pe,Ne),!r(At[0])||!r(Q[0]))return n.warn("Fx.hover failed",S,M),h.unhoverRaw(M,S)}var Ve=1/0;function Re(Ue,Tn){for(yt=0;yt<Lt.length;yt++)if(gt=Lt[yt],!(!gt||!gt[0]||!gt[0].trace)&&(It=gt[0].trace,!(It.visible!==!0||It._length===0)&&["carpet","contourcarpet"].indexOf(It._module.name)===-1)){if(qt=Rt,y.isUnifiedHover(qt)&&(qt=qt.charAt(0)),It.type==="splom"?(Jt=0,Mt=st[Jt]):(Mt=y.getSubplot(It),Jt=st.indexOf(Mt)),re={cd:gt,trace:It,xa:ie[Jt],ya:pe[Jt],maxHoverDistance:ve,maxSpikeDistance:Me,index:!1,distance:Math.min(Ve,ve),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:u.defaultLine,name:It.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},_t[Mt]&&(re.subplot=_t[Mt]._subplot),_t._splomScenes&&_t._splomScenes[It.uid]&&(re.scene=_t._splomScenes[It.uid]),qt==="array"){var kn=S[yt];"pointNumber"in kn?(re.index=kn.pointNumber,qt="closest"):(qt="","xval"in kn&&(le=kn.xval,qt="x"),"yval"in kn&&(Et=kn.yval,qt=qt?"closest":"y"))}else Ue!==void 0&&Tn!==void 0?(le=Ue,Et=Tn):(le=At[Jt],Et=Q[Jt]);if(se=mt.length,ve!==0)if(It._module&&It._module.hoverPoints){var Gn=It._module.hoverPoints(re,le,Et,qt,{finiteRange:!0,hoverLayer:_t._hoverlayer,hoversubplots:Tt,gd:M});if(Gn)for(var $n,En=0;En<Gn.length;En++)$n=Gn[En],r($n.x0)&&r($n.y0)&&mt.push(ot($n,Rt))}else n.log("Unrecognized trace type in hover:",It);if(Rt==="closest"&&mt.length>se&&(mt.splice(0,se),Ve=mt[0].distance),Bt&&Me!==0&&mt.length===0){re.distance=Me,re.index=!1;var sn=It._module.hoverPoints(re,le,Et,"closest",{hoverLayer:_t._hoverlayer});if(sn&&(sn=sn.filter(function(Rn){return Rn.spikeDistance<=Me})),sn&&sn.length){var _n,An=sn.filter(function(Rn){return Rn.xa.showspikes&&Rn.xa.spikesnap!=="hovered data"});if(An.length){var Dn=An[0];r(Dn.x0)&&r(Dn.y0)&&(_n=Fe(Dn),(!he.vLinePoint||he.vLinePoint.spikeDistance>_n.spikeDistance)&&(he.vLinePoint=_n))}var In=sn.filter(function(Rn){return Rn.ya.showspikes&&Rn.ya.spikesnap!=="hovered data"});if(In.length){var Hn=In[0];r(Hn.x0)&&r(Hn.y0)&&(_n=Fe(Hn),(!he.hLinePoint||he.hLinePoint.spikeDistance>_n.spikeDistance)&&(he.hLinePoint=_n))}}}}}Re();function Be(Ue,Tn,kn){for(var Gn=null,$n=1/0,En,sn=0;sn<Ue.length;sn++)lt&&lt._id!==Ue[sn].xa._id||kt&&kt._id!==Ue[sn].ya._id||(En=Ue[sn].spikeDistance,kn&&sn===0&&(En=-1/0),En<=$n&&En<=Tn&&(Gn=Ue[sn],$n=En));return Gn}function Fe(Ue){return Ue?{xa:Ue.xa,ya:Ue.ya,x:Ue.xSpike!==void 0?Ue.xSpike:(Ue.x0+Ue.x1)/2,y:Ue.ySpike!==void 0?Ue.ySpike:(Ue.y0+Ue.y1)/2,distance:Ue.distance,spikeDistance:Ue.spikeDistance,curveNumber:Ue.trace.index,color:Ue.color,pointNumber:Ue.index}:null}var ke={fullLayout:_t,container:_t._hoverlayer,event:S};M._spikepoints;var Ye={vLinePoint:he.vLinePoint,hLinePoint:he.hLinePoint};M._spikepoints=Ye;var Qe=function(){var Ue=mt.filter(function(kn){return lt&&lt._id===kn.xa._id&&kt&&kt._id===kn.ya._id}),Tn=mt.filter(function(kn){return!(lt&&lt._id===kn.xa._id&&kt&&kt._id===kn.ya._id)});Ue.sort(E),Tn.sort(E),mt=Ue.concat(Tn),mt=Y(mt,Rt)};Qe();var ln=Rt.charAt(0),He=(ln==="x"||ln==="y")&&mt[0]&&I[mt[0].trace.type];if(Bt&&Me!==0&&mt.length!==0){var an=mt.filter(function(Ue){return Ue.ya.showspikes}),on=Be(an,Me,He);he.hLinePoint=Fe(on);var vn=mt.filter(function(Ue){return Ue.xa.showspikes}),$e=Be(vn,Me,He);he.vLinePoint=Fe($e)}if(mt.length===0){var fn=h.unhoverRaw(M,S);return Bt&&(he.hLinePoint!==null||he.vLinePoint!==null)&&xt()&&dt(M,he,ke),fn}if(Bt&&xt()&&dt(M,he,ke),y.isXYhover(qt)&&mt[0].length!==0&&mt[0].trace.type!=="splom"){var tt=mt[0];G[tt.trace.type]?mt=mt.filter(function(Ue){return Ue.trace.index===tt.trace.index}):mt=[tt];var K=mt.length,Vt=A("x",tt,_t),jt=A("y",tt,_t);Re(Vt,jt);var Dt=[],Pt={},Ht=0,Kt=function(Ue){var Tn=G[Ue.trace.type]?j(Ue):Ue.trace.index;if(!Pt[Tn])Ht++,Pt[Tn]=Ht,Dt.push(Ue);else{var kn=Pt[Tn]-1,Gn=Dt[kn];kn>0&&Math.abs(Ue.distance)<Math.abs(Gn.distance)&&(Dt[kn]=Ue)}},zt;for(zt=0;zt<K;zt++)Kt(mt[zt]);for(zt=mt.length-1;zt>K-1;zt--)Kt(mt[zt]);mt=Dt,Qe()}var Ut=M._hoverdata,ne=[],Wt=J(M),ge=at(M);for(ft=0;ft<mt.length;ft++){var ye=mt[ft],Te=y.makeEventData(ye,ye.trace,ye.cd);if(ye.hovertemplate!==!1){var Ae=!1;ye.cd[ye.index]&&ye.cd[ye.index].ht&&(Ae=ye.cd[ye.index].ht),ye.hovertemplate=Ae||ye.trace.hovertemplate||!1}if(ye.xa&&ye.ya){var ze=ye.x0+ye.xa._offset,Ee=ye.x1+ye.xa._offset,Je=ye.y0+ye.ya._offset,Pe=ye.y1+ye.ya._offset,Ke=Math.min(ze,Ee),nn=Math.max(ze,Ee),mn=Math.min(Je,Pe),gn=Math.max(Je,Pe);Te.bbox={x0:Ke+ge,x1:nn+ge,y0:mn+Wt,y1:gn+Wt}}ye.eventData=[Te],ne.push(Te)}M._hoverdata=ne;var pn=Rt==="y"&&(Lt.length>1||mt.length>1)||Rt==="closest"&&Se&&mt.length>1,xn=u.combine(_t.plot_bgcolor||u.background,_t.paper_bgcolor),Sn=Z(mt,{gd:M,hovermode:Rt,rotateLabels:pn,bgColor:xn,container:_t._hoverlayer,outerContainer:_t._paper.node(),commonLabelOpts:_t.hoverlabel,hoverdistance:_t.hoverdistance}),jn=Sn.hoverLabels;if(y.isUnifiedHover(Rt)||(W(jn,pn,_t,Sn.commonLabelBoundingBox),nt(jn,pn,_t._invScaleX,_t._invScaleY)),rt&&rt.tagName){var ta=g.getComponentMethod("annotations","hasClickToShow")(M,ne);e(C.select(rt),ta?"pointer":"")}!rt||V||!ht(M,S,Ut)||(Ut&&M.emit("plotly_unhover",{event:S,points:Ut}),M.emit("plotly_hover",{event:S,points:M._hoverdata,xaxes:ie,yaxes:pe,xvals:At,yvals:Q}))}function j(M){return[M.trace.index,M.index,M.x0,M.y0,M.name,M.attr,M.xa?M.xa._id:"",M.ya?M.ya._id:""].join(",")}var U=/<extra>([\s\S]*)<\/extra>/;function Z(M,S){var R=S.gd,V=R._fullLayout,rt=S.hovermode,st=S.rotateLabels,ut=S.bgColor,_t=S.container,Tt=S.outerContainer,Ft=S.commonLabelOpts||{};if(M.length===0)return[[]];var Zt=S.fontFamily||p.HOVERFONT,Bt=S.fontSize||p.HOVERFONTSIZE,Rt=S.fontWeight||V.font.weight,pt=S.fontStyle||V.font.style,bt=S.fontVariant||V.font.variant,lt=S.fontTextcase||V.font.textcase,kt=S.fontLineposition||V.font.lineposition,Nt=S.fontShadow||V.font.shadow,Yt=M[0],ee=Yt.xa,Xt=Yt.ya,ae=rt.charAt(0),oe=ae+"Label",ie=Yt[oe];if(ie===void 0&&ee.type==="multicategory")for(var pe=0;pe<M.length&&(ie=M[pe][oe],ie===void 0);pe++);var $t=N(R,Tt),me=$t.top,we=$t.width,ve=$t.height,Me=ie!==void 0&&Yt.distance<=S.hoverdistance&&(rt==="x"||rt==="y");if(Me){var mt=!0,Lt,At;for(Lt=0;Lt<M.length;Lt++)if(mt&&M[Lt].zLabel===void 0&&(mt=!1),At=M[Lt].hoverinfo||M[Lt].trace.hoverinfo,At){var Q=Array.isArray(At)?At:At.split("+");if(Q.indexOf("all")===-1&&Q.indexOf(rt)===-1){Me=!1;break}}mt&&(Me=!1)}var ft=_t.selectAll("g.axistext").data(Me?[0]:[]);ft.enter().append("g").classed("axistext",!0),ft.exit().remove();var yt={minX:0,maxX:0,minY:0,maxY:0};if(ft.each(function(){var K=C.select(this),Vt=n.ensureSingle(K,"path","",function(pn){pn.style({"stroke-width":"1px"})}),jt=n.ensureSingle(K,"text","",function(pn){pn.attr("data-notex",1)}),Dt=Ft.bgcolor||u.defaultLine,Pt=Ft.bordercolor||u.contrast(Dt),Ht=u.contrast(Dt),Kt=Ft.font,zt={weight:Kt.weight||Rt,style:Kt.style||pt,variant:Kt.variant||bt,textcase:Kt.textcase||lt,lineposition:Kt.lineposition||kt,shadow:Kt.shadow||Nt,family:Kt.family||Zt,size:Kt.size||Bt,color:Kt.color||Ht};Vt.style({fill:Dt,stroke:Pt}),jt.text(ie).call(v.font,zt).call(f.positionText,0,0).call(f.convertToTspans,R),K.attr("transform","");var Ut=N(R,jt.node()),ne,Wt;if(rt==="x"){var ge=ee.side==="top"?"-":"";jt.attr("text-anchor","middle").call(f.positionText,0,ee.side==="top"?me-Ut.bottom-O-T:me-Ut.top+O+T),ne=ee._offset+(Yt.x0+Yt.x1)/2,Wt=Xt._offset+(ee.side==="top"?0:Xt._length);var ye=Ut.width/2+T,Te=ne;ne<ye?Te=ye:ne>V.width-ye&&(Te=V.width-ye),Vt.attr("d","M"+(ne-Te)+",0L"+(ne-Te+O)+","+ge+O+"H"+ye+"v"+ge+(T*2+Ut.height)+"H"+-ye+"V"+ge+O+"H"+(ne-Te-O)+"Z"),ne=Te,yt.minX=ne-ye,yt.maxX=ne+ye,ee.side==="top"?(yt.minY=Wt-(T*2+Ut.height),yt.maxY=Wt-T):(yt.minY=Wt+T,yt.maxY=Wt+(T*2+Ut.height))}else{var Ae,ze,Ee;Xt.side==="right"?(Ae="start",ze=1,Ee="",ne=ee._offset+ee._length):(Ae="end",ze=-1,Ee="-",ne=ee._offset),Wt=Xt._offset+(Yt.y0+Yt.y1)/2,jt.attr("text-anchor",Ae),Vt.attr("d","M0,0L"+Ee+O+","+O+"V"+(T+Ut.height/2)+"h"+Ee+(T*2+Ut.width)+"V-"+(T+Ut.height/2)+"H"+Ee+O+"V-"+O+"Z"),yt.minY=Wt-(T+Ut.height/2),yt.maxY=Wt+(T+Ut.height/2),Xt.side==="right"?(yt.minX=ne+O,yt.maxX=ne+O+(T*2+Ut.width)):(yt.minX=ne-O-(T*2+Ut.width),yt.maxX=ne-O);var Je=Ut.height/2,Pe=me-Ut.top-Je,Ke="clip"+V._uid+"commonlabel"+Xt._id,nn;if(ne<Ut.width+2*T+O){nn="M-"+(O+T)+"-"+Je+"h-"+(Ut.width-T)+"V"+Je+"h"+(Ut.width-T)+"Z";var mn=Ut.width-ne+T;f.positionText(jt,mn,Pe),Ae==="end"&&jt.selectAll("tspan").each(function(){var pn=C.select(this),xn=v.tester.append("text").text(pn.text()).call(v.font,zt),Sn=N(R,xn.node());Math.round(Sn.width)<Math.round(Ut.width)&&pn.attr("x",mn-Sn.width),xn.remove()})}else f.positionText(jt,ze*(T+O),Pe),nn=null;var gn=V._topclips.selectAll("#"+Ke).data(nn?[0]:[]);gn.enter().append("clipPath").attr("id",Ke).append("path"),gn.exit().remove(),gn.select("path").attr("d",nn),v.setClipUrl(jt,nn?Ke:null,R)}K.attr("transform",i(ne,Wt))}),y.isUnifiedHover(rt)){_t.selectAll("g.hovertext").remove();var gt=M.filter(function(K){return K.hoverinfo!=="none"});if(gt.length===0)return[];var It=V.hoverlabel,Mt=It.font,Jt=gt[0],qt=((rt==="x unified"?Jt.xa:Jt.ya).unifiedhovertitle||{}).text,le=qt?n.hovertemplateString(qt,{},V._d3locale,rt==="x unified"?{xa:Jt.xa,x:Jt.xVal}:{ya:Jt.ya,y:Jt.yVal}):ie,Et={showlegend:!0,legend:{title:{text:le,font:Mt},font:Mt,bgcolor:It.bgcolor,bordercolor:It.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:V.legend?V.legend.traceorder:void 0,orientation:"v"}},re={font:Mt};c(Et,re,R._fullData);var se=re.legend;se.entries=[];for(var he=0;he<gt.length;he++){var Se=gt[he];if(Se.hoverinfo!=="none"){var je=D(Se,!0,rt,V,ie),Ge=je[0],Ce=je[1];Se.name=Ce,Ce!==""?Se.text=Ce+" : "+Ge:Se.text=Ge;var Ne=Se.cd[Se.index];Ne&&(Ne.mc&&(Se.mc=Ne.mc),Ne.mcc&&(Se.mc=Ne.mcc),Ne.mlc&&(Se.mlc=Ne.mlc),Ne.mlcc&&(Se.mlc=Ne.mlcc),Ne.mlw&&(Se.mlw=Ne.mlw),Ne.mrc&&(Se.mrc=Ne.mrc),Ne.dir&&(Se.dir=Ne.dir)),Se._distinct=!0,se.entries.push([Se])}}se.entries.sort(function(K,Vt){return K[0].trace.index-Vt[0].trace.index}),se.layer=_t,se._inHover=!0,se._groupTitleFont=It.grouptitlefont,d(R,se);var Le=_t.select("g.legend"),Oe=N(R,Le.node()),Ve=Oe.width+2*T,Re=Oe.height+2*T,Be=gt[0],Fe=(Be.x0+Be.x1)/2,ke=(Be.y0+Be.y1)/2,Ye=!(g.traceIs(Be.trace,"bar-like")||g.traceIs(Be.trace,"box-violin")),Qe,ln;ae==="y"?Ye?(ln=ke-T,Qe=ke+T):(ln=Math.min.apply(null,gt.map(function(K){return Math.min(K.y0,K.y1)})),Qe=Math.max.apply(null,gt.map(function(K){return Math.max(K.y0,K.y1)}))):ln=Qe=n.mean(gt.map(function(K){return(K.y0+K.y1)/2}))-Re/2;var He,an;ae==="x"?Ye?(He=Fe+T,an=Fe-T):(He=Math.max.apply(null,gt.map(function(K){return Math.max(K.x0,K.x1)})),an=Math.min.apply(null,gt.map(function(K){return Math.min(K.x0,K.x1)}))):He=an=n.mean(gt.map(function(K){return(K.x0+K.x1)/2}))-Ve/2;var on=ee._offset,vn=Xt._offset;Qe+=vn,He+=on,an+=on-Ve,ln+=vn-Re;var $e,fn;return He+Ve<we&&He>=0?$e=He:an+Ve<we&&an>=0?$e=an:on+Ve<we?$e=on:He-Fe<Fe-an+Ve?$e=we-Ve:$e=0,$e+=T,Qe+Re<ve&&Qe>=0?fn=Qe:ln+Re<ve&&ln>=0?fn=ln:vn+Re<ve?fn=vn:Qe-ke<ke-ln+Re?fn=ve-Re:fn=0,fn+=T,Le.attr("transform",i($e-1,fn-1)),Le}var tt=_t.selectAll("g.hovertext").data(M,function(K){return j(K)});return tt.enter().append("g").classed("hovertext",!0).each(function(){var K=C.select(this);K.append("rect").call(u.fill,u.addOpacity(ut,.8)),K.append("text").classed("name",!0),K.append("path").style("stroke-width","1px"),K.append("text").classed("nums",!0).call(v.font,{weight:Rt,style:pt,variant:bt,textcase:lt,lineposition:kt,shadow:Nt,family:Zt,size:Bt})}),tt.exit().remove(),tt.each(function(K){var Vt=C.select(this).attr("transform",""),jt=K.color;Array.isArray(jt)&&(jt=jt[K.eventData[0].pointNumber]);var Dt=K.bgcolor||jt,Pt=u.combine(u.opacity(Dt)?Dt:u.defaultLine,ut),Ht=u.combine(u.opacity(jt)?jt:u.defaultLine,ut),Kt=K.borderColor||u.contrast(Pt),zt=D(K,Me,rt,V,ie,Vt),Ut=zt[0],ne=zt[1],Wt=Vt.select("text.nums").call(v.font,{family:K.fontFamily||Zt,size:K.fontSize||Bt,color:K.fontColor||Kt,weight:K.fontWeight||Rt,style:K.fontStyle||pt,variant:K.fontVariant||bt,textcase:K.fontTextcase||lt,lineposition:K.fontLineposition||kt,shadow:K.fontShadow||Nt}).text(Ut).attr("data-notex",1).call(f.positionText,0,0).call(f.convertToTspans,R),ge=Vt.select("text.name"),ye=0,Te=0;if(ne&&ne!==Ut){ge.call(v.font,{family:K.fontFamily||Zt,size:K.fontSize||Bt,color:Ht,weight:K.fontWeight||Rt,style:K.fontStyle||pt,variant:K.fontVariant||bt,textcase:K.fontTextcase||lt,lineposition:K.fontLineposition||kt,shadow:K.fontShadow||Nt}).text(ne).attr("data-notex",1).call(f.positionText,0,0).call(f.convertToTspans,R);var Ae=N(R,ge.node());ye=Ae.width+2*T,Te=Ae.height+2*T}else ge.remove(),Vt.select("rect").remove();Vt.select("path").style({fill:Pt,stroke:Kt});var ze=K.xa._offset+(K.x0+K.x1)/2,Ee=K.ya._offset+(K.y0+K.y1)/2,Je=Math.abs(K.x1-K.x0),Pe=Math.abs(K.y1-K.y0),Ke=N(R,Wt.node()),nn=Ke.width/V._invScaleX,mn=Ke.height/V._invScaleY;K.ty0=(me-Ke.top)/V._invScaleY,K.bx=nn+2*T,K.by=Math.max(mn+2*T,Te),K.anchor="start",K.txwidth=nn,K.tx2width=ye,K.offset=0;var gn=(nn+O+T+ye)*V._invScaleX,pn,xn;if(st)K.pos=ze,pn=Ee+Pe/2+gn<=ve,xn=Ee-Pe/2-gn>=0,(K.idealAlign==="top"||!pn)&&xn?(Ee-=Pe/2,K.anchor="end"):pn?(Ee+=Pe/2,K.anchor="start"):K.anchor="middle",K.crossPos=Ee;else{if(K.pos=Ee,pn=ze+Je/2+gn<=we,xn=ze-Je/2-gn>=0,(K.idealAlign==="left"||!pn)&&xn)ze-=Je/2,K.anchor="end";else if(pn)ze+=Je/2,K.anchor="start";else{K.anchor="middle";var Sn=gn/2,jn=ze+Sn-we,ta=ze-Sn;jn>0&&(ze-=jn),ta<0&&(ze+=-ta)}K.crossPos=ze}Wt.attr("text-anchor",K.anchor),ye&&ge.attr("text-anchor",K.anchor),Vt.attr("transform",i(ze,Ee)+(st?o(b):""))}),{hoverLabels:tt,commonLabelBoundingBox:yt}}function D(M,S,R,V,rt,st){var ut="",_t="";M.nameOverride!==void 0&&(M.name=M.nameOverride),M.name&&(M.trace._meta&&(M.name=n.templateString(M.name,M.trace._meta)),ut=H(M.name,M.nameLength));var Tt=R.charAt(0),Ft=Tt==="x"?"y":"x";M.zLabel!==void 0?(M.xLabel!==void 0&&(_t+="x: "+M.xLabel+"<br>"),M.yLabel!==void 0&&(_t+="y: "+M.yLabel+"<br>"),M.trace.type!=="choropleth"&&M.trace.type!=="choroplethmapbox"&&M.trace.type!=="choroplethmap"&&(_t+=(_t?"z: ":"")+M.zLabel)):S&&M[Tt+"Label"]===rt?_t=M[Ft+"Label"]||"":M.xLabel===void 0?M.yLabel!==void 0&&M.trace.type!=="scattercarpet"&&(_t=M.yLabel):M.yLabel===void 0?_t=M.xLabel:_t="("+M.xLabel+", "+M.yLabel+")",(M.text||M.text===0)&&!Array.isArray(M.text)&&(_t+=(_t?"<br>":"")+M.text),M.extraText!==void 0&&(_t+=(_t?"<br>":"")+M.extraText),st&&_t===""&&!M.hovertemplate&&(ut===""&&st.remove(),_t=ut);var Zt=M.hovertemplate||!1;if(Zt){var Bt=M.hovertemplateLabels||M;M[Tt+"Label"]!==rt&&(Bt[Tt+"other"]=Bt[Tt+"Val"],Bt[Tt+"otherLabel"]=Bt[Tt+"Label"]),_t=n.hovertemplateString(Zt,Bt,V._d3locale,M.eventData[0]||{},M.trace._meta),_t=_t.replace(U,function(Rt,pt){return ut=H(pt,M.nameLength),""})}return[_t,ut]}function W(M,S,R,V){var rt=S?"xa":"ya",st=S?"ya":"xa",ut=0,_t=1,Tt=M.size(),Ft=new Array(Tt),Zt=0,Bt=V.minX,Rt=V.maxX,pt=V.minY,bt=V.maxY,lt=function(At){return At*R._invScaleX},kt=function(At){return At*R._invScaleY};M.each(function(At){var Q=At[rt],ft=At[st],yt=Q._id.charAt(0)==="x",gt=Q.range;Zt===0&&gt&&gt[0]>gt[1]!==yt&&(_t=-1);var It=0,Mt=yt?R.width:R.height;if(R.hovermode==="x"||R.hovermode==="y"){var Jt=X(At,S),qt=At.anchor,le=qt==="end"?-1:1,Et,re;if(qt==="middle")Et=At.crossPos+(yt?kt(Jt.y-At.by/2):lt(At.bx/2+At.tx2width/2)),re=Et+(yt?kt(At.by):lt(At.bx));else if(yt)Et=At.crossPos+kt(O+Jt.y)-kt(At.by/2-O),re=Et+kt(At.by);else{var se=lt(le*O+Jt.x),he=se+lt(le*At.bx);Et=At.crossPos+Math.min(se,he),re=At.crossPos+Math.max(se,he)}yt?pt!==void 0&&bt!==void 0&&Math.min(re,bt)-Math.max(Et,pt)>1&&(ft.side==="left"?(It=ft._mainLinePosition,Mt=R.width):Mt=ft._mainLinePosition):Bt!==void 0&&Rt!==void 0&&Math.min(re,Rt)-Math.max(Et,Bt)>1&&(ft.side==="top"?(It=ft._mainLinePosition,Mt=R.height):Mt=ft._mainLinePosition)}Ft[Zt++]=[{datum:At,traceIndex:At.trace.index,dp:0,pos:At.pos,posref:At.posref,size:At.by*(yt?k:1)/2,pmin:It,pmax:Mt}]}),Ft.sort(function(At,Q){return At[0].posref-Q[0].posref||_t*(Q[0].traceIndex-At[0].traceIndex)});var Nt,Yt,ee,Xt,ae,oe,ie;function pe(At){var Q=At[0],ft=At[At.length-1];if(Yt=Q.pmin-Q.pos-Q.dp+Q.size,ee=ft.pos+ft.dp+ft.size-Q.pmax,Yt>.01){for(ae=At.length-1;ae>=0;ae--)At[ae].dp+=Yt;Nt=!1}if(!(ee<.01)){if(Yt<-.01){for(ae=At.length-1;ae>=0;ae--)At[ae].dp-=ee;Nt=!1}if(Nt){var yt=0;for(Xt=0;Xt<At.length;Xt++)oe=At[Xt],oe.pos+oe.dp+oe.size>Q.pmax&&yt++;for(Xt=At.length-1;Xt>=0&&!(yt<=0);Xt--)oe=At[Xt],oe.pos>Q.pmax-1&&(oe.del=!0,yt--);for(Xt=0;Xt<At.length&&!(yt<=0);Xt++)if(oe=At[Xt],oe.pos<Q.pmin+1)for(oe.del=!0,yt--,ee=oe.size*2,ae=At.length-1;ae>=0;ae--)At[ae].dp-=ee;for(Xt=At.length-1;Xt>=0&&!(yt<=0);Xt--)oe=At[Xt],oe.pos+oe.dp+oe.size>Q.pmax&&(oe.del=!0,yt--)}}}for(;!Nt&&ut<=Tt;){for(ut++,Nt=!0,Xt=0;Xt<Ft.length-1;){var $t=Ft[Xt],me=Ft[Xt+1],we=$t[$t.length-1],ve=me[0];if(Yt=we.pos+we.dp+we.size-ve.pos-ve.dp+ve.size,Yt>.01){for(ae=me.length-1;ae>=0;ae--)me[ae].dp+=Yt;for($t.push.apply($t,me),Ft.splice(Xt+1,1),ie=0,ae=$t.length-1;ae>=0;ae--)ie+=$t[ae].dp;for(ee=ie/$t.length,ae=$t.length-1;ae>=0;ae--)$t[ae].dp-=ee;Nt=!1}else Xt++}Ft.forEach(pe)}for(Xt=Ft.length-1;Xt>=0;Xt--){var Me=Ft[Xt];for(ae=Me.length-1;ae>=0;ae--){var mt=Me[ae],Lt=mt.datum;Lt.offset=mt.dp,Lt.del=mt.del}}}function X(M,S){var R=0,V=M.offset;return S&&(V*=-P,R=M.offset*$),{x:R,y:V}}function it(M){var S={start:1,end:-1,middle:0}[M.anchor],R=S*(O+T),V=R+S*(M.txwidth+T),rt=M.anchor==="middle";return rt&&(R-=M.tx2width/2,V+=M.txwidth/2+T),{alignShift:S,textShiftX:R,text2ShiftX:V}}function nt(M,S,R,V){var rt=function(ut){return ut*R},st=function(ut){return ut*V};M.each(function(ut){var _t=C.select(this);if(ut.del)return _t.remove();var Tt=_t.select("text.nums"),Ft=ut.anchor,Zt=Ft==="end"?-1:1,Bt=it(ut),Rt=X(ut,S),pt=Rt.x,bt=Rt.y,lt=Ft==="middle",kt="hoverlabel"in ut.trace?ut.trace.hoverlabel.showarrow:!0,Nt;lt?Nt="M-"+rt(ut.bx/2+ut.tx2width/2)+","+st(bt-ut.by/2)+"h"+rt(ut.bx)+"v"+st(ut.by)+"h-"+rt(ut.bx)+"Z":kt?Nt="M0,0L"+rt(Zt*O+pt)+","+st(O+bt)+"v"+st(ut.by/2-O)+"h"+rt(Zt*ut.bx)+"v-"+st(ut.by)+"H"+rt(Zt*O+pt)+"V"+st(bt-O)+"Z":Nt="M"+rt(Zt*O+pt)+","+st(bt-ut.by/2)+"h"+rt(Zt*ut.bx)+"v"+st(ut.by)+"h"+rt(-Zt*ut.bx)+"Z",_t.select("path").attr("d",Nt);var Yt=pt+Bt.textShiftX,ee=bt+ut.ty0-ut.by/2+T,Xt=ut.textAlign||"auto";Xt!=="auto"&&(Xt==="left"&&Ft!=="start"?(Tt.attr("text-anchor","start"),Yt=lt?-ut.bx/2-ut.tx2width/2+T:-ut.bx-T):Xt==="right"&&Ft!=="end"&&(Tt.attr("text-anchor","end"),Yt=lt?ut.bx/2-ut.tx2width/2-T:ut.bx+T)),Tt.call(f.positionText,rt(Yt),st(ee)),ut.tx2width&&(_t.select("text.name").call(f.positionText,rt(Bt.text2ShiftX+Bt.alignShift*T+pt),st(bt+ut.ty0-ut.by/2+T)),_t.select("rect").call(v.setRect,rt(Bt.text2ShiftX+(Bt.alignShift-1)*ut.tx2width/2+pt),st(bt-ut.by/2-1),rt(ut.tx2width),st(ut.by+2)))})}function ot(M,S){var R=M.index,V=M.trace||{},rt=M.cd[0],st=M.cd[R]||{};function ut(Rt){return Rt||r(Rt)&&Rt===0}var _t=Array.isArray(R)?function(Rt,pt){var bt=n.castOption(rt,R,Rt);return ut(bt)?bt:n.extractOption({},V,"",pt)}:function(Rt,pt){return n.extractOption(st,V,Rt,pt)};function Tt(Rt,pt,bt){var lt=_t(pt,bt);ut(lt)&&(M[Rt]=lt)}if(Tt("hoverinfo","hi","hoverinfo"),Tt("bgcolor","hbg","hoverlabel.bgcolor"),Tt("borderColor","hbc","hoverlabel.bordercolor"),Tt("fontFamily","htf","hoverlabel.font.family"),Tt("fontSize","hts","hoverlabel.font.size"),Tt("fontColor","htc","hoverlabel.font.color"),Tt("fontWeight","htw","hoverlabel.font.weight"),Tt("fontStyle","hty","hoverlabel.font.style"),Tt("fontVariant","htv","hoverlabel.font.variant"),Tt("nameLength","hnl","hoverlabel.namelength"),Tt("textAlign","hta","hoverlabel.align"),M.posref=S==="y"||S==="closest"&&V.orientation==="h"?M.xa._offset+(M.x0+M.x1)/2:M.ya._offset+(M.y0+M.y1)/2,M.x0=n.constrain(M.x0,0,M.xa._length),M.x1=n.constrain(M.x1,0,M.xa._length),M.y0=n.constrain(M.y0,0,M.ya._length),M.y1=n.constrain(M.y1,0,M.ya._length),M.xLabelVal!==void 0&&(M.xLabel="xLabel"in M?M.xLabel:_.hoverLabelText(M.xa,M.xLabelVal,V.xhoverformat),M.xVal=M.xa.c2d(M.xLabelVal)),M.yLabelVal!==void 0&&(M.yLabel="yLabel"in M?M.yLabel:_.hoverLabelText(M.ya,M.yLabelVal,V.yhoverformat),M.yVal=M.ya.c2d(M.yLabelVal)),M.zLabelVal!==void 0&&M.zLabel===void 0&&(M.zLabel=String(M.zLabelVal)),!isNaN(M.xerr)&&!(M.xa.type==="log"&&M.xerr<=0)){var Ft=_.tickText(M.xa,M.xa.c2l(M.xerr),"hover").text;M.xerrneg!==void 0?M.xLabel+=" +"+Ft+" / -"+_.tickText(M.xa,M.xa.c2l(M.xerrneg),"hover").text:M.xLabel+="  "+Ft,S==="x"&&(M.distance+=1)}if(!isNaN(M.yerr)&&!(M.ya.type==="log"&&M.yerr<=0)){var Zt=_.tickText(M.ya,M.ya.c2l(M.yerr),"hover").text;M.yerrneg!==void 0?M.yLabel+=" +"+Zt+" / -"+_.tickText(M.ya,M.ya.c2l(M.yerrneg),"hover").text:M.yLabel+="  "+Zt,S==="y"&&(M.distance+=1)}var Bt=M.hoverinfo||M.trace.hoverinfo;return Bt&&Bt!=="all"&&(Bt=Array.isArray(Bt)?Bt:Bt.split("+"),Bt.indexOf("x")===-1&&(M.xLabel=void 0),Bt.indexOf("y")===-1&&(M.yLabel=void 0),Bt.indexOf("z")===-1&&(M.zLabel=void 0),Bt.indexOf("text")===-1&&(M.text=void 0),Bt.indexOf("name")===-1&&(M.name=void 0)),M}function dt(M,S,R){var V=R.container,rt=R.fullLayout,st=rt._size,ut=R.event,_t=!!S.hLinePoint,Tt=!!S.vLinePoint,Ft,Zt;if(V.selectAll(".spikeline").remove(),!!(Tt||_t)){var Bt=u.combine(rt.plot_bgcolor,rt.paper_bgcolor);if(_t){var Rt=S.hLinePoint,pt,bt;Ft=Rt&&Rt.xa,Zt=Rt&&Rt.ya;var lt=Zt.spikesnap;lt==="cursor"?(pt=ut.pointerX,bt=ut.pointerY):(pt=Ft._offset+Rt.x,bt=Zt._offset+Rt.y);var kt=t.readability(Rt.color,Bt)<1.5?u.contrast(Bt):Rt.color,Nt=Zt.spikemode,Yt=Zt.spikethickness,ee=Zt.spikecolor||kt,Xt=_.getPxPosition(M,Zt),ae,oe;if(Nt.indexOf("toaxis")!==-1||Nt.indexOf("across")!==-1){if(Nt.indexOf("toaxis")!==-1&&(ae=Xt,oe=pt),Nt.indexOf("across")!==-1){var ie=Zt._counterDomainMin,pe=Zt._counterDomainMax;Zt.anchor==="free"&&(ie=Math.min(ie,Zt.position),pe=Math.max(pe,Zt.position)),ae=st.l+ie*st.w,oe=st.l+pe*st.w}V.insert("line",":first-child").attr({x1:ae,x2:oe,y1:bt,y2:bt,"stroke-width":Yt,stroke:ee,"stroke-dasharray":v.dashStyle(Zt.spikedash,Yt)}).classed("spikeline",!0).classed("crisp",!0),V.insert("line",":first-child").attr({x1:ae,x2:oe,y1:bt,y2:bt,"stroke-width":Yt+2,stroke:Bt}).classed("spikeline",!0).classed("crisp",!0)}Nt.indexOf("marker")!==-1&&V.insert("circle",":first-child").attr({cx:Xt+(Zt.side!=="right"?Yt:-Yt),cy:bt,r:Yt,fill:ee}).classed("spikeline",!0)}if(Tt){var $t=S.vLinePoint,me,we;Ft=$t&&$t.xa,Zt=$t&&$t.ya;var ve=Ft.spikesnap;ve==="cursor"?(me=ut.pointerX,we=ut.pointerY):(me=Ft._offset+$t.x,we=Zt._offset+$t.y);var Me=t.readability($t.color,Bt)<1.5?u.contrast(Bt):$t.color,mt=Ft.spikemode,Lt=Ft.spikethickness,At=Ft.spikecolor||Me,Q=_.getPxPosition(M,Ft),ft,yt;if(mt.indexOf("toaxis")!==-1||mt.indexOf("across")!==-1){if(mt.indexOf("toaxis")!==-1&&(ft=Q,yt=we),mt.indexOf("across")!==-1){var gt=Ft._counterDomainMin,It=Ft._counterDomainMax;Ft.anchor==="free"&&(gt=Math.min(gt,Ft.position),It=Math.max(It,Ft.position)),ft=st.t+(1-It)*st.h,yt=st.t+(1-gt)*st.h}V.insert("line",":first-child").attr({x1:me,x2:me,y1:ft,y2:yt,"stroke-width":Lt,stroke:At,"stroke-dasharray":v.dashStyle(Ft.spikedash,Lt)}).classed("spikeline",!0).classed("crisp",!0),V.insert("line",":first-child").attr({x1:me,x2:me,y1:ft,y2:yt,"stroke-width":Lt+2,stroke:Bt}).classed("spikeline",!0).classed("crisp",!0)}mt.indexOf("marker")!==-1&&V.insert("circle",":first-child").attr({cx:me,cy:Q-(Ft.side!=="top"?Lt:-Lt),r:Lt,fill:At}).classed("spikeline",!0)}}}function ht(M,S,R){if(!R||R.length!==M._hoverdata.length)return!0;for(var V=R.length-1;V>=0;V--){var rt=R[V],st=M._hoverdata[V];if(rt.curveNumber!==st.curveNumber||String(rt.pointNumber)!==String(st.pointNumber)||String(rt.pointNumbers)!==String(st.pointNumbers)||rt.binNumber!==st.binNumber)return!0}return!1}function xt(M,S){return!0}function H(M,S){return f.plainText(M||"",{len:S,allowedTags:["br","sub","sup","b","i","em","s","u"]})}function Y(M,S){for(var R=S.charAt(0),V=[],rt=[],st=[],ut=0;ut<M.length;ut++){var _t=M[ut];g.traceIs(_t.trace,"bar-like")||g.traceIs(_t.trace,"box-violin")?st.push(_t):_t.trace[R+"period"]?rt.push(_t):V.push(_t)}return V.concat(rt).concat(st)}function A(M,S,R){var V=S[M+"a"],rt=S[M+"Val"],st=S.cd[0];if(V.type==="category"||V.type==="multicategory")rt=V._categoriesMap[rt];else if(V.type==="date"){var ut=S.trace[M+"periodalignment"];if(ut){var _t=S.cd[S.index],Tt=_t[M+"Start"];Tt===void 0&&(Tt=_t[M]);var Ft=_t[M+"End"];Ft===void 0&&(Ft=_t[M]);var Zt=Ft-Tt;ut==="end"?rt+=Zt:ut==="middle"&&(rt+=Zt/2)}rt=V.d2c(rt)}return st&&st.t&&st.t.posLetter===V._id&&(R.boxmode==="group"||R.violinmode==="group")&&(rt+=st.t.dPos),rt}function J(M){return M.offsetTop+M.clientTop}function at(M){return M.offsetLeft+M.clientLeft}function N(M,S){var R=M._fullLayout,V=S.getBoundingClientRect(),rt=V.left,st=V.top,ut=rt+V.width,_t=st+V.height,Tt=n.apply3DTransform(R._invTransform)(rt,st),Ft=n.apply3DTransform(R._invTransform)(ut,_t),Zt=Tt[0],Bt=Tt[1],Rt=Ft[0],pt=Ft[1];return{x:Zt,y:Bt,width:Rt-Zt,height:pt-Bt,top:Math.min(Bt,pt),left:Math.min(Zt,Rt),right:Math.max(Zt,Rt),bottom:Math.max(Bt,pt)}}}),Bi=Ct((F,C)=>{var r=De(),t=bn(),n=Ka().isUnifiedHover;C.exports=function(l,i,o,s){s=s||{};var f=i.legend;function e(v){s.font[v]||(s.font[v]=f?i.legend.font[v]:i.font[v])}i&&n(i.hovermode)&&(s.font||(s.font={}),e("size"),e("family"),e("color"),e("weight"),e("style"),e("variant"),f?(s.bgcolor||(s.bgcolor=t.combine(i.legend.bgcolor,i.paper_bgcolor)),s.bordercolor||(s.bordercolor=i.legend.bordercolor)):s.bgcolor||(s.bgcolor=i.paper_bgcolor)),o("hoverlabel.bgcolor",s.bgcolor),o("hoverlabel.bordercolor",s.bordercolor),o("hoverlabel.namelength",s.namelength),o("hoverlabel.showarrow",s.showarrow),r.coerceFont(o,"hoverlabel.font",s.font),o("hoverlabel.align",s.align)}}),Mc=Ct((F,C)=>{var r=De(),t=Bi(),n=Ir();C.exports=function(l,i){function o(s,f){return r.coerce(l,i,n,s,f)}t(l,i,o)}}),Tc=Ct((F,C)=>{var r=De(),t=ki(),n=Bi();C.exports=function(l,i,o,s){function f(v,u){return r.coerce(l,i,t,v,u)}var e=r.extendFlat({},s.hoverlabel);i.hovertemplate&&(e.namelength=-1),n(l,i,f,e)}}),vl=Ct((F,C)=>{var r=De(),t=Ir();C.exports=function(n,l){function i(o,s){return l[o]!==void 0?l[o]:r.coerce(n,l,t,o,s)}return i("clickmode"),i("hoversubplots"),i("hovermode")}}),kc=Ct((F,C)=>{var r=De(),t=Ir(),n=vl(),l=Bi();C.exports=function(i,o){function s(m,g){return r.coerce(i,o,t,m,g)}var f=n(i,o);f&&(s("hoverdistance"),s("spikedistance"));var e=s("dragmode");e==="select"&&s("selectdirection");var v=o._has("mapbox"),u=o._has("map"),h=o._has("geo"),_=o._basePlotModules.length;o.dragmode==="zoom"&&((v||u||h)&&_===1||(v||u)&&h&&_===2)&&(o.dragmode="pan"),l(i,o,s),r.coerceFont(s,"hoverlabel.grouptitlefont",o.hoverlabel.font)}}),Ac=Ct((F,C)=>{var r=De(),t=un();C.exports=function(l){var i=l.calcdata,o=l._fullLayout;function s(h){return function(_){return r.coerceHoverinfo({hoverinfo:_},{_module:h._module},o)}}for(var f=0;f<i.length;f++){var e=i[f],v=e[0].trace;if(!t.traceIs(v,"pie-like")){var u=t.traceIs(v,"2dMap")?n:r.fillArray;u(v.hoverinfo,e,"hi",s(v)),v.hovertemplate&&u(v.hovertemplate,e,"ht"),v.hoverlabel&&(u(v.hoverlabel.bgcolor,e,"hbg"),u(v.hoverlabel.bordercolor,e,"hbc"),u(v.hoverlabel.font.size,e,"hts"),u(v.hoverlabel.font.color,e,"htc"),u(v.hoverlabel.font.family,e,"htf"),u(v.hoverlabel.font.weight,e,"htw"),u(v.hoverlabel.font.style,e,"hty"),u(v.hoverlabel.font.variant,e,"htv"),u(v.hoverlabel.namelength,e,"hnl"),u(v.hoverlabel.align,e,"hta"),u(v.hoverlabel.showarrow,e,"htsa"))}}};function n(l,i,o,s){s=s||r.identity,Array.isArray(l)&&(i[0][o]=s(l))}}),Lc=Ct((F,C)=>{var r=un(),t=pl().hover;C.exports=function(n,l,i){var o=r.getComponentMethod("annotations","onClick")(n,n._hoverdata);i!==void 0&&t(n,l,i,!0);function s(){n.emit("plotly_click",{points:n._hoverdata,event:l})}n._hoverdata&&l&&l.target&&(o&&o.then?o.then(s):s(),l.stopImmediatePropagation&&l.stopImmediatePropagation())}}),tr=Ct((F,C)=>{var r=wn(),t=De(),n=Ua(),l=Ka(),i=Ir(),o=pl();C.exports={moduleType:"component",name:"fx",constants:Zr(),schema:{layout:i},attributes:ki(),layoutAttributes:i,supplyLayoutGlobalDefaults:Mc(),supplyDefaults:Tc(),supplyLayoutDefaults:kc(),calc:Ac(),getDistanceFunction:l.getDistanceFunction,getClosest:l.getClosest,inbox:l.inbox,quadrature:l.quadrature,appendArrayPointValue:l.appendArrayPointValue,castHoverOption:f,castHoverinfo:e,hover:o.hover,unhover:n.unhover,loneHover:o.loneHover,loneUnhover:s,click:Lc()};function s(v){var u=t.isD3Selection(v)?v:r.select(v);u.selectAll("g.hovertext").remove(),u.selectAll(".spikeline").remove()}function f(v,u,h){return t.castOption(v,u,"hoverlabel."+h)}function e(v,u,h){function _(m){return t.coerceHoverinfo({hoverinfo:m},{_module:v._module},u)}return t.castOption(v,h,"hoverinfo",_)}}),Er=Ct(F=>{F.selectMode=function(C){return C==="lasso"||C==="select"},F.drawMode=function(C){return C==="drawclosedpath"||C==="drawopenpath"||C==="drawline"||C==="drawrect"||C==="drawcircle"},F.openMode=function(C){return C==="drawline"||C==="drawopenpath"},F.rectMode=function(C){return C==="select"||C==="drawline"||C==="drawrect"||C==="drawcircle"},F.freeMode=function(C){return C==="lasso"||C==="drawclosedpath"||C==="drawopenpath"},F.selectingOrDrawing=function(C){return F.freeMode(C)||F.rectMode(C)}}),Vi=Ct((F,C)=>{C.exports=function(r){var t=r._fullLayout;t._glcanvas&&t._glcanvas.size()&&t._glcanvas.each(function(n){n.regl&&n.regl.clear({color:!0,depth:!0})})}}),Yi=Ct((F,C)=>{C.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect fill='#000' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle fill='#9EF' cx='102' cy='30' r='6'/>","  <circle fill='#BAC' cx='78' cy='30' r='6'/>","  <circle fill='#BAC' cx='78' cy='54' r='6'/>","  <circle fill='#D69' cx='54' cy='30' r='6'/>","  <circle fill='#F26' cx='30' cy='30' r='6'/>","  <circle fill='#F26' cx='30' cy='54' r='6'/>","  <path fill='#FFF' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path fill='#FFF' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path fill='#FFF' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path fill='#FFF' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}}),Ui=Ct((F,C)=>{var r=32;C.exports={CIRCLE_SIDES:r,i000:0,i090:r/4,i180:r/2,i270:r/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}}),Zi=Ct((F,C)=>{var r=De().strTranslate;function t(o,s){switch(o.type){case"log":return o.p2d(s);case"date":return o.p2r(s,0,o.calendar);default:return o.p2r(s)}}function n(o,s){switch(o.type){case"log":return o.d2p(s);case"date":return o.r2p(s,0,o.calendar);default:return o.r2p(s)}}function l(o){var s=o._id.charAt(0)==="y"?1:0;return function(f){return t(o,f[s])}}function i(o){return r(o.xaxis._offset,o.yaxis._offset)}C.exports={p2r:t,r2p:n,axValue:l,getTransform:i}}),hr=Ct(F=>{var C=il(),r=Ui(),t=r.CIRCLE_SIDES,n=r.SQRT2,l=Zi(),i=l.p2r,o=l.r2p,s=[0,3,4,5,6,1,2],f=[0,3,4,1,2];F.writePaths=function(u){var h=u.length;if(!h)return"M0,0Z";for(var _="",m=0;m<h;m++)for(var g=u[m].length,y=0;y<g;y++){var p=u[m][y][0];if(p==="Z")_+="Z";else for(var c=u[m][y].length,d=0;d<c;d++){var b=d;p==="Q"||p==="S"?b=f[d]:p==="C"&&(b=s[d]),_+=u[m][y][b],d>0&&d<c-1&&(_+=",")}}return _},F.readPaths=function(u,h,_,m){var g=C(u),y=[],p=-1,c=function(){p++,y[p]=[]},d,b=0,w=0,k,$,P=function(){k=b,$=w};P();for(var O=0;O<g.length;O++){var T=[],G,I,E,z,j=g[O][0],U=j;switch(j){case"M":c(),b=+g[O][1],w=+g[O][2],T.push([U,b,w]),P();break;case"Q":case"S":G=+g[O][1],E=+g[O][2],b=+g[O][3],w=+g[O][4],T.push([U,b,w,G,E]);break;case"C":G=+g[O][1],E=+g[O][2],I=+g[O][3],z=+g[O][4],b=+g[O][5],w=+g[O][6],T.push([U,b,w,G,E,I,z]);break;case"T":case"L":b=+g[O][1],w=+g[O][2],T.push([U,b,w]);break;case"H":U="L",b=+g[O][1],T.push([U,b,w]);break;case"V":U="L",w=+g[O][1],T.push([U,b,w]);break;case"A":U="L";var Z=+g[O][1],D=+g[O][2];+g[O][4]||(Z=-Z,D=-D);var W=b-Z,X=w;for(d=1;d<=t/2;d++){var it=2*Math.PI*d/t;T.push([U,W+Z*Math.cos(it),X+D*Math.sin(it)])}break;case"Z":(b!==k||w!==$)&&(b=k,w=$,T.push([U,b,w]));break}for(var nt=(_||{}).domain,ot=h._fullLayout._size,dt=_&&_.xsizemode==="pixel",ht=_&&_.ysizemode==="pixel",xt=m===!1,H=0;H<T.length;H++){for(d=0;d+2<7;d+=2){var Y=T[H][d+1],A=T[H][d+2];Y===void 0||A===void 0||(b=Y,w=A,_&&(_.xaxis&&_.xaxis.p2r?(xt&&(Y-=_.xaxis._offset),dt?Y=o(_.xaxis,_.xanchor)+Y:Y=i(_.xaxis,Y)):(xt&&(Y-=ot.l),nt?Y=nt.x[0]+Y/ot.w:Y=Y/ot.w),_.yaxis&&_.yaxis.p2r?(xt&&(A-=_.yaxis._offset),ht?A=o(_.yaxis,_.yanchor)-A:A=i(_.yaxis,A)):(xt&&(A-=ot.t),nt?A=nt.y[1]-A/ot.h:A=1-A/ot.h)),T[H][d+1]=Y,T[H][d+2]=A)}y[p].push(T[H].slice())}}return y};function e(u,h){return Math.abs(u-h)<=1e-6}function v(u,h){var _=h[1]-u[1],m=h[2]-u[2];return Math.sqrt(_*_+m*m)}F.pointsOnRectangle=function(u){var h=u.length;if(h!==5)return!1;for(var _=1;_<3;_++){var m=u[0][_]-u[1][_],g=u[3][_]-u[2][_];if(!e(m,g))return!1;var y=u[0][_]-u[3][_],p=u[1][_]-u[2][_];if(!e(y,p))return!1}return!e(u[0][1],u[1][1])&&!e(u[0][1],u[3][1])?!1:!!(v(u[0],u[1])*v(u[0],u[3]))},F.pointsOnEllipse=function(u){var h=u.length;if(h!==t+1)return!1;h=t;for(var _=0;_<h;_++){var m=(h*2-_)%h,g=(h/2+m)%h,y=(h/2+_)%h;if(!e(v(u[_],u[y]),v(u[m],u[g])))return!1}return!0},F.handleEllipse=function(u,h,_){if(!u)return[h,_];var m=F.ellipseOver({x0:h[0],y0:h[1],x1:_[0],y1:_[1]}),g=(m.x1+m.x0)/2,y=(m.y1+m.y0)/2,p=(m.x1-m.x0)/2,c=(m.y1-m.y0)/2;p||(p=c=c/n),c||(c=p=p/n);for(var d=[],b=0;b<t;b++){var w=b*2*Math.PI/t;d.push([g+p*Math.cos(w),y+c*Math.sin(w)])}return d},F.ellipseOver=function(u){var h=u.x0,_=u.y0,m=u.x1,g=u.y1,y=m-h,p=g-_;h-=y,_-=p;var c=(h+m)/2,d=(_+g)/2,b=n;return y*=b,p*=b,{x0:c-y,y0:d-p,x1:c+y,y1:d+p}},F.fixDatesForPaths=function(u,h,_){var m=h.type==="date",g=_.type==="date";if(!m&&!g)return u;for(var y=0;y<u.length;y++)for(var p=0;p<u[y].length;p++)for(var c=0;c+2<u[y][p].length;c+=2)m&&(u[y][p][c+1]=u[y][p][c+1].replace(" ","_")),g&&(u[y][p][c+2]=u[y][p][c+2].replace(" ","_"));return u}}),Gi=Ct((F,C)=>{var r=sa(),t=Er(),n=t.drawMode,l=t.openMode,i=Ui(),o=i.i000,s=i.i090,f=i.i180,e=i.i270,v=i.cos45,u=i.sin45,h=Zi(),_=h.p2r,m=h.r2p,g=fr(),y=g.clearOutline,p=hr(),c=p.readPaths,d=p.writePaths,b=p.ellipseOver,w=p.fixDatesForPaths;function k(P,O){if(P.length){var T=P[0][0];if(T){var G=O.gd,I=O.isActiveShape,E=O.dragmode,z=(G.layout||{}).shapes||[];if(!n(E)&&I!==void 0){var j=G._fullLayout._activeShapeIndex;if(j<z.length)switch(G._fullLayout.shapes[j].type){case"rect":E="drawrect";break;case"circle":E="drawcircle";break;case"line":E="drawline";break;case"path":var U=z[j].path||"";U[U.length-1]==="Z"?E="drawclosedpath":E="drawopenpath";break}}var Z=$(P,O,E);y(G);for(var D=O.editHelpers,W=(D||{}).modifyItem,X=[],it=0;it<z.length;it++){var nt=G._fullLayout.shapes[it];if(X[it]=nt._input,I!==void 0&&it===G._fullLayout._activeShapeIndex){var ot=Z;switch(nt.type){case"line":case"rect":case"circle":var dt=r.getFromId(G,nt.xref);nt.xref.charAt(0)==="x"&&dt.type.includes("category")?(W("x0",ot.x0-(nt.x0shift||0)),W("x1",ot.x1-(nt.x1shift||0))):(W("x0",ot.x0),W("x1",ot.x1));var ht=r.getFromId(G,nt.yref);nt.yref.charAt(0)==="y"&&ht.type.includes("category")?(W("y0",ot.y0-(nt.y0shift||0)),W("y1",ot.y1-(nt.y1shift||0))):(W("y0",ot.y0),W("y1",ot.y1));break;case"path":W("path",ot.path);break}}}return I===void 0?(X.push(Z),X):D?D.getUpdateObj():{}}}}function $(P,O,T){var G=P[0][0],I=O.gd,E=G.getAttribute("d"),z=I._fullLayout.newshape,j=O.plotinfo,U=O.isActiveShape,Z=j.xaxis,D=j.yaxis,W=!!j.domain||!j.xaxis,X=!!j.domain||!j.yaxis,it=l(T),nt=c(E,I,j,U),ot={editable:!0,visible:z.visible,name:z.name,showlegend:z.showlegend,legend:z.legend,legendwidth:z.legendwidth,legendgroup:z.legendgroup,legendgrouptitle:{text:z.legendgrouptitle.text,font:z.legendgrouptitle.font},legendrank:z.legendrank,label:z.label,xref:W?"paper":Z._id,yref:X?"paper":D._id,layer:z.layer,opacity:z.opacity,line:{color:z.line.color,width:z.line.width,dash:z.line.dash}};it||(ot.fillcolor=z.fillcolor,ot.fillrule=z.fillrule);var dt;if(nt.length===1&&(dt=nt[0]),dt&&dt.length===5&&T==="drawrect")ot.type="rect",ot.x0=dt[0][1],ot.y0=dt[0][2],ot.x1=dt[2][1],ot.y1=dt[2][2];else if(dt&&T==="drawline")ot.type="line",ot.x0=dt[0][1],ot.y0=dt[0][2],ot.x1=dt[1][1],ot.y1=dt[1][2];else if(dt&&T==="drawcircle"){ot.type="circle";var ht=dt[o][1],xt=dt[s][1],H=dt[f][1],Y=dt[e][1],A=dt[o][2],J=dt[s][2],at=dt[f][2],N=dt[e][2],M=j.xaxis&&(j.xaxis.type==="date"||j.xaxis.type==="log"),S=j.yaxis&&(j.yaxis.type==="date"||j.yaxis.type==="log");M&&(ht=m(j.xaxis,ht),xt=m(j.xaxis,xt),H=m(j.xaxis,H),Y=m(j.xaxis,Y)),S&&(A=m(j.yaxis,A),J=m(j.yaxis,J),at=m(j.yaxis,at),N=m(j.yaxis,N));var R=(xt+Y)/2,V=(A+at)/2,rt=(Y-xt+H-ht)/2,st=(N-J+at-A)/2,ut=b({x0:R,y0:V,x1:R+rt*v,y1:V+st*u});M&&(ut.x0=_(j.xaxis,ut.x0),ut.x1=_(j.xaxis,ut.x1)),S&&(ut.y0=_(j.yaxis,ut.y0),ut.y1=_(j.yaxis,ut.y1)),ot.x0=ut.x0,ot.y0=ut.y0,ot.x1=ut.x1,ot.y1=ut.y1}else ot.type="path",Z&&D&&w(nt,Z,D),ot.path=d(nt),dt=null;return ot}C.exports={newShapes:k,createShapeObj:$}}),gl=Ct((F,C)=>{var r=Er(),t=r.selectMode,n=fr(),l=n.clearOutline,i=hr(),o=i.readPaths,s=i.writePaths,f=i.fixDatesForPaths;C.exports=function(e,v){if(e.length){var u=e[0][0];if(u){var h=u.getAttribute("d"),_=v.gd,m=_._fullLayout.newselection,g=v.plotinfo,y=g.xaxis,p=g.yaxis,c=v.isActiveSelection,d=v.dragmode,b=(_.layout||{}).selections||[];if(!t(d)&&c!==void 0){var w=_._fullLayout._activeSelectionIndex;if(w<b.length)switch(_._fullLayout.selections[w].type){case"rect":d="select";break;case"path":d="lasso";break}}var k=o(h,_,g,c),$={xref:y._id,yref:p._id,opacity:m.opacity,line:{color:m.line.color,width:m.line.width,dash:m.line.dash}},P;k.length===1&&(P=k[0]),P&&P.length===5&&d==="select"?($.type="rect",$.x0=P[0][1],$.y0=P[0][2],$.x1=P[2][1],$.y1=P[2][2]):($.type="path",y&&p&&f(k,y,p),$.path=s(k),P=null),l(_);for(var O=v.editHelpers,T=(O||{}).modifyItem,G=[],I=0;I<b.length;I++){var E=_._fullLayout.selections[I];if(!E){G[I]=E;continue}if(G[I]=E._input,c!==void 0&&I===_._fullLayout._activeSelectionIndex){var z=$;switch(E.type){case"rect":T("x0",z.x0),T("x1",z.x1),T("y0",z.y0),T("y1",z.y1);break;case"path":T("path",z.path);break}}}return c===void 0?(G.push($),G):O?O.getUpdateObj():{}}}}}),Qr=Ct((F,C)=>{C.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}}),pr=Ct(F=>{var C=Qr(),r=De(),t=Yn();F.rangeToShapePosition=function(i){return i.type==="log"?i.r2d:function(o){return o}},F.shapePositionToRange=function(i){return i.type==="log"?i.d2r:function(o){return o}},F.decodeDate=function(i){return function(o){return o.replace&&(o=o.replace("_"," ")),i(o)}},F.encodeDate=function(i){return function(o){return i(o).replace(" ","_")}},F.extractPathCoords=function(i,o,s){var f=[],e=i.match(C.segmentRE);return e.forEach(function(v){var u=o[v.charAt(0)].drawn;if(u!==void 0){var h=v.substr(1).match(C.paramRE);if(!(!h||h.length<u)){var _=h[u],m=s?_:r.cleanNumber(_);f.push(m)}}}),f},F.getDataToPixel=function(i,o,s,f,e){var v=i._fullLayout._size,u;if(o)if(e==="domain")u=function(_){return o._length*(f?1-_:_)+o._offset};else{var h=F.shapePositionToRange(o);u=function(_){var m=l(o,s);return o._offset+o.r2p(h(_,!0))+m},o.type==="date"&&(u=F.decodeDate(u))}else f?u=function(_){return v.t+v.h*(1-_)}:u=function(_){return v.l+v.w*_};return u},F.getPixelToData=function(i,o,s,f){var e=i._fullLayout._size,v;if(o)if(f==="domain")v=function(h){var _=(h-o._offset)/o._length;return s?1-_:_};else{var u=F.rangeToShapePosition(o);v=function(h){return u(o.p2r(h-o._offset))}}else s?v=function(h){return 1-(h-e.t)/e.h}:v=function(h){return(h-e.l)/e.w};return v},F.roundPositionForSharpStrokeRendering=function(i,o){var s=Math.round(o%2)===1,f=Math.round(i);return s?f+.5:f},F.makeShapesOptionsAndPlotinfo=function(i,o){var s=i._fullLayout.shapes[o]||{},f=i._fullLayout._plots[s.xref+s.yref],e=!!f;return e?f._hadPlotinfo=!0:(f={},s.xref&&s.xref!=="paper"&&(f.xaxis=i._fullLayout[s.xref+"axis"]),s.yref&&s.yref!=="paper"&&(f.yaxis=i._fullLayout[s.yref+"axis"])),f.xsizemode=s.xsizemode,f.ysizemode=s.ysizemode,f.xanchor=s.xanchor,f.yanchor=s.yanchor,{options:s,plotinfo:f}},F.makeSelectionsOptionsAndPlotinfo=function(i,o){var s=i._fullLayout.selections[o]||{},f=i._fullLayout._plots[s.xref+s.yref],e=!!f;return e?f._hadPlotinfo=!0:(f={},s.xref&&(f.xaxis=i._fullLayout[s.xref+"axis"]),s.yref&&(f.yaxis=i._fullLayout[s.yref+"axis"])),{options:s,plotinfo:f}},F.getPathString=function(i,o){var s=o.type,f=t.getRefType(o.xref),e=t.getRefType(o.yref),v=t.getFromId(i,o.xref),u=t.getFromId(i,o.yref),h=i._fullLayout._size,_,m,g,y,p=l(v,o.x0shift),c=l(v,o.x1shift),d=l(u,o.y0shift),b=l(u,o.y1shift),w,k,$,P;if(v?f==="domain"?m=function(D){return v._offset+v._length*D}:(_=F.shapePositionToRange(v),m=function(D){return v._offset+v.r2p(_(D,!0))}):m=function(D){return h.l+h.w*D},u?e==="domain"?y=function(D){return u._offset+u._length*(1-D)}:(g=F.shapePositionToRange(u),y=function(D){return u._offset+u.r2p(g(D,!0))}):y=function(D){return h.t+h.h*(1-D)},s==="path")return v&&v.type==="date"&&(m=F.decodeDate(m)),u&&u.type==="date"&&(y=F.decodeDate(y)),n(o,m,y);if(o.xsizemode==="pixel"){var O=m(o.xanchor);w=O+o.x0+p,k=O+o.x1+c}else w=m(o.x0)+p,k=m(o.x1)+c;if(o.ysizemode==="pixel"){var T=y(o.yanchor);$=T-o.y0+d,P=T-o.y1+b}else $=y(o.y0)+d,P=y(o.y1)+b;if(s==="line")return"M"+w+","+$+"L"+k+","+P;if(s==="rect")return"M"+w+","+$+"H"+k+"V"+P+"H"+w+"Z";var G=(w+k)/2,I=($+P)/2,E=Math.abs(G-w),z=Math.abs(I-$),j="A"+E+","+z,U=G+E+","+I,Z=G+","+(I-z);return"M"+U+j+" 0 1,1 "+Z+j+" 0 0,1 "+U+"Z"};function n(i,o,s){var f=i.path,e=i.xsizemode,v=i.ysizemode,u=i.xanchor,h=i.yanchor;return f.replace(C.segmentRE,function(_){var m=0,g=_.charAt(0),y=C.paramIsX[g],p=C.paramIsY[g],c=C.numParams[g],d=_.substr(1).replace(C.paramRE,function(b){return y[m]?e==="pixel"?b=o(u)+Number(b):b=o(b):p[m]&&(v==="pixel"?b=s(h)-Number(b):b=s(b)),m++,m>c&&(b="X"),b});return m>c&&(d=d.replace(/[\s,]*X.*/,""),r.log("Ignoring extra params in segment "+_)),g+d})}function l(i,o){o=o||0;var s=0;return o&&i&&(i.type==="category"||i.type==="multicategory")&&(s=(i.r2p(1)-i.r2p(0))*o),s}}),yl=Ct((F,C)=>{var r=De(),t=Yn(),n=xa(),l=zn(),i=hr().readPaths,o=pr(),s=o.getPathString,f=Oi(),e=ka().FROM_TL;C.exports=function(h,_,m,g){if(g.selectAll(".shape-label").remove(),!!(m.label.text||m.label.texttemplate)){var y;if(m.label.texttemplate){var p={};if(m.type!=="path"){var c=t.getFromId(h,m.xref),d=t.getFromId(h,m.yref);for(var b in f){var w=f[b](m,c,d);w!==void 0&&(p[b]=w)}}y=r.texttemplateStringForShapes(m.label.texttemplate,{},h._fullLayout._d3locale,p)}else y=m.label.text;var k={"data-index":_},$=m.label.font,P={"data-notex":1},O=g.append("g").attr(k).classed("shape-label",!0),T=O.append("text").attr(P).classed("shape-label-text",!0).text(y),G,I,E,z;if(m.path){var j=s(h,m),U=i(j,h);G=1/0,E=1/0,I=-1/0,z=-1/0;for(var Z=0;Z<U.length;Z++)for(var D=0;D<U[Z].length;D++)for(var W=U[Z][D],X=1;X<W.length;X+=2){var it=W[X],nt=W[X+1];G=Math.min(G,it),I=Math.max(I,it),E=Math.min(E,nt),z=Math.max(z,nt)}}else{var ot=t.getFromId(h,m.xref),dt=m.x0shift,ht=m.x1shift,xt=t.getRefType(m.xref),H=t.getFromId(h,m.yref),Y=m.y0shift,A=m.y1shift,J=t.getRefType(m.yref),at=function(ut,_t){var Tt=o.getDataToPixel(h,ot,_t,!1,xt);return Tt(ut)},N=function(ut,_t){var Tt=o.getDataToPixel(h,H,_t,!0,J);return Tt(ut)};G=at(m.x0,dt),I=at(m.x1,ht),E=N(m.y0,Y),z=N(m.y1,A)}var M=m.label.textangle;M==="auto"&&(m.type==="line"?M=v(G,E,I,z):M=0),T.call(function(ut){return ut.call(l.font,$).attr({}),n.convertToTspans(ut,h),ut});var S=l.bBox(T.node()),R=u(G,E,I,z,m,M,S),V=R.textx,rt=R.texty,st=R.xanchor;T.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[st],y:rt,x:V,transform:"rotate("+M+","+V+","+rt+")"}).call(n.positionText,V,rt)}};function v(h,_,m,g){var y,p;return p=Math.abs(m-h),m>=h?y=_-g:y=g-_,-180/Math.PI*Math.atan2(y,p)}function u(h,_,m,g,y,p,c){var d=y.label.textposition,b=y.label.textangle,w=y.label.padding,k=y.type,$=Math.PI/180*p,P=Math.sin($),O=Math.cos($),T=y.label.xanchor,G=y.label.yanchor,I,E,z,j;if(k==="line"){d==="start"?(I=h,E=_):d==="end"?(I=m,E=g):(I=(h+m)/2,E=(_+g)/2),T==="auto"&&(d==="start"?b==="auto"?m>h?T="left":m<h?T="right":T="center":m>h?T="right":m<h?T="left":T="center":d==="end"?b==="auto"?m>h?T="right":m<h?T="left":T="center":m>h?T="left":m<h?T="right":T="center":T="center");var U={left:1,center:0,right:-1},Z={bottom:-1,middle:0,top:1};if(b==="auto"){var D=Z[G];z=-w*P*D,j=w*O*D}else{var W=U[T],X=Z[G];z=w*W,j=w*X}I=I+z,E=E+j}else z=w+3,d.indexOf("right")!==-1?(I=Math.max(h,m)-z,T==="auto"&&(T="right")):d.indexOf("left")!==-1?(I=Math.min(h,m)+z,T==="auto"&&(T="left")):(I=(h+m)/2,T==="auto"&&(T="center")),d.indexOf("top")!==-1?E=Math.min(_,g):d.indexOf("bottom")!==-1?E=Math.max(_,g):E=(_+g)/2,j=w,G==="bottom"?E=E-j:G==="top"&&(E=E+j);var it=e[G],nt=y.label.font.size,ot=c.height,dt=(ot*it-nt)*P,ht=-(ot*it-nt)*O;return{textx:I+dt,texty:E+ht,xanchor:T}}}),Wi=Ct((F,C)=>{var r=De(),t=r.strTranslate,n=Ua(),l=Er(),i=l.drawMode,o=l.selectMode,s=un(),f=bn(),e=Ui(),v=e.i000,u=e.i090,h=e.i180,_=e.i270,m=fr(),g=m.clearOutlineControllers,y=hr(),p=y.pointsOnRectangle,c=y.pointsOnEllipse,d=y.writePaths,b=Gi().newShapes,w=Gi().createShapeObj,k=gl(),$=yl();C.exports=function G(I,E,z,j){j||(j=0);var U=z.gd;function Z(){G(I,E,z,j++),(c(I[0])||z.hasText)&&D({redrawing:!0})}function D(Bt){var Rt={};z.isActiveShape!==void 0&&(z.isActiveShape=!1,Rt=b(E,z)),z.isActiveSelection!==void 0&&(z.isActiveSelection=!1,Rt=k(E,z),U._fullLayout._reselect=!0),Object.keys(Rt).length&&s.call((Bt||{}).redrawing?"relayout":"_guiRelayout",U,Rt)}var W=U._fullLayout,X=W._zoomlayer,it=z.dragmode,nt=i(it),ot=o(it);(nt||ot)&&(U._fullLayout._outlining=!0),g(U),E.attr("d",d(I));var dt,ht,xt,H,Y;if(!j&&(z.isActiveShape||z.isActiveSelection)){Y=P([],I);var A=X.append("g").attr("class","outline-controllers");rt(A),Zt()}if(nt&&z.hasText){var J=X.select(".label-temp"),at=w(E,z,z.dragmode);$(U,"label-temp",at,J)}function N(Bt){xt=+Bt.srcElement.getAttribute("data-i"),H=+Bt.srcElement.getAttribute("data-j"),dt[xt][H].moveFn=M}function M(Bt,Rt){if(I.length){var pt=Y[xt][H][1],bt=Y[xt][H][2],lt=I[xt],kt=lt.length;if(p(lt)){var Nt=Bt,Yt=Rt;if(z.isActiveSelection){var ee=O(lt,H);ee[1]===lt[H][1]?Yt=0:Nt=0}for(var Xt=0;Xt<kt;Xt++)if(Xt!==H){var ae=lt[Xt];ae[1]===lt[H][1]&&(ae[1]=pt+Nt),ae[2]===lt[H][2]&&(ae[2]=bt+Yt)}if(lt[H][1]=pt+Nt,lt[H][2]=bt+Yt,!p(lt))for(var oe=0;oe<kt;oe++)for(var ie=0;ie<lt[oe].length;ie++)lt[oe][ie]=Y[xt][oe][ie]}else lt[H][1]=pt+Bt,lt[H][2]=bt+Rt;Z()}}function S(){D()}function R(){if(I.length&&I[xt]&&I[xt].length){for(var Bt=[],Rt=0;Rt<I[xt].length;Rt++)Rt!==H&&Bt.push(I[xt][Rt]);Bt.length>1&&!(Bt.length===2&&Bt[1][0]==="Z")&&(H===0&&(Bt[0][0]="M"),I[xt]=Bt,Z(),D())}}function V(Bt,Rt){if(Bt===2){xt=+Rt.srcElement.getAttribute("data-i"),H=+Rt.srcElement.getAttribute("data-j");var pt=I[xt];!p(pt)&&!c(pt)&&R()}}function rt(Bt){dt=[];for(var Rt=0;Rt<I.length;Rt++){var pt=I[Rt],bt=p(pt),lt=!bt&&c(pt);dt[Rt]=[];for(var kt=pt.length,Nt=0;Nt<kt;Nt++)if(pt[Nt][0]!=="Z"&&!(lt&&Nt!==v&&Nt!==u&&Nt!==h&&Nt!==_)){var Yt=bt&&z.isActiveSelection,ee;Yt&&(ee=O(pt,Nt));var Xt=pt[Nt][1],ae=pt[Nt][2],oe=Bt.append(Yt?"rect":"circle").attr("data-i",Rt).attr("data-j",Nt).style({fill:f.background,stroke:f.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(Yt){var ie=ee[1]-Xt,pe=ee[2]-ae,$t=pe?5:Math.max(Math.min(25,Math.abs(ie)-5),5),me=ie?5:Math.max(Math.min(25,Math.abs(pe)-5),5);oe.classed(pe?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",$t).attr("height",me).attr("x",Xt-$t/2).attr("y",ae-me/2).attr("transform",t(ie/2,pe/2))}else oe.classed("cursor-grab",!0).attr("r",5).attr("cx",Xt).attr("cy",ae);dt[Rt][Nt]={element:oe.node(),gd:U,prepFn:N,doneFn:S,clickFn:V},n.init(dt[Rt][Nt])}}}function st(Bt,Rt){if(I.length)for(var pt=0;pt<I.length;pt++)for(var bt=0;bt<I[pt].length;bt++)for(var lt=0;lt+2<I[pt][bt].length;lt+=2)I[pt][bt][lt+1]=Y[pt][bt][lt+1]+Bt,I[pt][bt][lt+2]=Y[pt][bt][lt+2]+Rt}function ut(Bt,Rt){st(Bt,Rt),Z()}function _t(Bt){xt=+Bt.srcElement.getAttribute("data-i"),xt||(xt=0),ht[xt].moveFn=ut}function Tt(){D()}function Ft(Bt){Bt===2&&T(U)}function Zt(){if(ht=[],!!I.length){var Bt=0;ht[Bt]={element:E[0][0],gd:U,prepFn:_t,doneFn:Tt,clickFn:Ft},n.init(ht[Bt])}}};function P(G,I){for(var E=0;E<I.length;E++){var z=I[E];G[E]=[];for(var j=0;j<z.length;j++){G[E][j]=[];for(var U=0;U<z[j].length;U++)G[E][j][U]=z[j][U]}}return G}function O(G,I){var E=G[I][1],z=G[I][2],j=G.length,U,Z,D;return U=(I+1)%j,Z=G[U][1],D=G[U][2],Z===E&&D===z&&(U=(I+2)%j,Z=G[U][1],D=G[U][2]),[U,Z,D]}function T(G){if(o(G._fullLayout.dragmode)){g(G);var I=G._fullLayout._activeSelectionIndex,E=(G.layout||{}).selections||[];if(I<E.length){for(var z=[],j=0;j<E.length;j++)j!==I&&z.push(E[j]);delete G._fullLayout._activeSelectionIndex;var U=G._fullLayout.selections[I];G._fullLayout._deselect={xref:U.xref,yref:U.yref},s.call("_guiRelayout",G,{selections:z})}}}}),Ji=Ct((F,C)=>{var r=wn(),t=un(),n=De(),l=Yn(),i=hr().readPaths,o=Wi(),s=yl(),f=fr().clearOutlineControllers,e=bn(),v=zn(),u=Bn().arrayEditor,h=Ua(),_=dr(),m=Qr(),g=pr(),y=g.getPathString;C.exports={draw:p,drawOne:b,eraseActiveShape:T,drawLabel:s};function p(G){var I=G._fullLayout;I._shapeUpperLayer.selectAll("path").remove(),I._shapeLowerLayer.selectAll("path").remove(),I._shapeUpperLayer.selectAll("text").remove(),I._shapeLowerLayer.selectAll("text").remove();for(var E in I._plots){var z=I._plots[E].shapelayer;z&&(z.selectAll("path").remove(),z.selectAll("text").remove())}for(var j=0;j<I.shapes.length;j++)I.shapes[j].visible===!0&&b(G,j)}function c(G){return!!G._fullLayout._outlining}function d(G){return!G._context.edits.shapePosition}function b(G,I){G._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+I+'"]').remove();var E=g.makeShapesOptionsAndPlotinfo(G,I),z=E.options,j=E.plotinfo;if(!z._input||z.visible!==!0)return;if(z.layer==="above")Z(G._fullLayout._shapeUpperLayer);else if(z.xref==="paper"||z.yref==="paper")Z(G._fullLayout._shapeLowerLayer);else if(z.layer==="between")Z(j.shapelayerBetween);else if(j._hadPlotinfo){var U=j.mainplotinfo||j;Z(U.shapelayer)}else Z(G._fullLayout._shapeLowerLayer);function Z(D){var W=y(G,z),X={"data-index":I,"fill-rule":z.fillrule,d:W},it=z.opacity,nt=z.fillcolor,ot=z.line.width?z.line.color:"rgba(0,0,0,0)",dt=z.line.width,ht=z.line.dash;!dt&&z.editable===!0&&(dt=5,ht="solid");var xt=W[W.length-1]!=="Z",H=d(G)&&z.editable&&G._fullLayout._activeShapeIndex===I;H&&(nt=xt?"rgba(0,0,0,0)":G._fullLayout.activeshape.fillcolor,it=G._fullLayout.activeshape.opacity);var Y=D.append("g").classed("shape-group",!0).attr({"data-index":I}),A=Y.append("path").attr(X).style("opacity",it).call(e.stroke,ot).call(e.fill,nt).call(v.dashLine,ht,dt);w(Y,G,z),s(G,I,z,Y);var J;if((H||G._context.edits.shapePosition)&&(J=u(G.layout,"shapes",z)),H){A.style({cursor:"move"});var at={element:A.node(),plotinfo:j,gd:G,editHelpers:J,hasText:z.label.text||z.label.texttemplate,isActiveShape:!0},N=i(W,G);o(N,A,at)}else G._context.edits.shapePosition?k(G,A,z,I,D,J):z.editable===!0&&A.style("pointer-events",xt||e.opacity(nt)*it<=.5?"stroke":"all");A.node().addEventListener("click",function(){return P(G,A)})}}function w(G,I,E){var z=(E.xref+E.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");v.setClipUrl(G,z?"clip"+I._fullLayout._uid+z:null,I)}function k(G,I,E,z,j,U){var Z=10,D=10,W=E.xsizemode==="pixel",X=E.ysizemode==="pixel",it=E.type==="line",nt=E.type==="path",ot=U.modifyItem,dt,ht,xt,H,Y,A,J,at,N,M,S,R,V,rt,st,ut=r.select(I.node().parentNode),_t=l.getFromId(G,E.xref),Tt=l.getRefType(E.xref),Ft=l.getFromId(G,E.yref),Zt=l.getRefType(E.yref),Bt=E.x0shift,Rt=E.x1shift,pt=E.y0shift,bt=E.y1shift,lt=function(Q,ft){var yt=g.getDataToPixel(G,_t,ft,!1,Tt);return yt(Q)},kt=function(Q,ft){var yt=g.getDataToPixel(G,Ft,ft,!0,Zt);return yt(Q)},Nt=g.getPixelToData(G,_t,!1,Tt),Yt=g.getPixelToData(G,Ft,!0,Zt),ee=oe(),Xt={element:ee.node(),gd:G,prepFn:$t,doneFn:me,clickFn:we},ae;h.init(Xt),ee.node().onmousemove=pe;function oe(){return it?ie():I}function ie(){var Q=10,ft=Math.max(E.line.width,Q),yt=j.append("g").attr("data-index",z).attr("drag-helper",!0);yt.append("path").attr("d",I.attr("d")).style({cursor:"move","stroke-width":ft,"stroke-opacity":"0"});var gt={"fill-opacity":"0"},It=Math.max(ft/2,Q);return yt.append("circle").attr({"data-line-point":"start-point",cx:W?lt(E.xanchor)+E.x0:lt(E.x0,Bt),cy:X?kt(E.yanchor)-E.y0:kt(E.y0,pt),r:It}).style(gt).classed("cursor-grab",!0),yt.append("circle").attr({"data-line-point":"end-point",cx:W?lt(E.xanchor)+E.x1:lt(E.x1,Rt),cy:X?kt(E.yanchor)-E.y1:kt(E.y1,bt),r:It}).style(gt).classed("cursor-grab",!0),yt}function pe(Q){if(c(G)){ae=null;return}if(it)Q.target.tagName==="path"?ae="move":ae=Q.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var ft=Xt.element.getBoundingClientRect(),yt=ft.right-ft.left,gt=ft.bottom-ft.top,It=Q.clientX-ft.left,Mt=Q.clientY-ft.top,Jt=!nt&&yt>Z&&gt>D&&!Q.shiftKey?h.getCursor(It/yt,1-Mt/gt):"move";_(I,Jt),ae=Jt.split("-")[0]}}function $t(Q){c(G)||(W&&(Y=lt(E.xanchor)),X&&(A=kt(E.yanchor)),E.type==="path"?st=E.path:(dt=W?E.x0:lt(E.x0),ht=X?E.y0:kt(E.y0),xt=W?E.x1:lt(E.x1),H=X?E.y1:kt(E.y1)),dt<xt?(N=dt,V="x0",M=xt,rt="x1"):(N=xt,V="x1",M=dt,rt="x0"),!X&&ht<H||X&&ht>H?(J=ht,S="y0",at=H,R="y1"):(J=H,S="y1",at=ht,R="y0"),pe(Q),mt(j,E),At(I,E,G),Xt.moveFn=ae==="move"?ve:Me,Xt.altKey=Q.altKey)}function me(){c(G)||(_(I),Lt(j),w(I,G,E),t.call("_guiRelayout",G,U.getUpdateObj()))}function we(){c(G)||Lt(j)}function ve(Q,ft){if(E.type==="path"){var yt=function(Mt){return Mt},gt=yt,It=yt;W?ot("xanchor",E.xanchor=Nt(Y+Q)):(gt=function(Mt){return Nt(lt(Mt)+Q)},_t&&_t.type==="date"&&(gt=g.encodeDate(gt))),X?ot("yanchor",E.yanchor=Yt(A+ft)):(It=function(Mt){return Yt(kt(Mt)+ft)},Ft&&Ft.type==="date"&&(It=g.encodeDate(It))),ot("path",E.path=$(st,gt,It))}else W?ot("xanchor",E.xanchor=Nt(Y+Q)):(ot("x0",E.x0=Nt(dt+Q)),ot("x1",E.x1=Nt(xt+Q))),X?ot("yanchor",E.yanchor=Yt(A+ft)):(ot("y0",E.y0=Yt(ht+ft)),ot("y1",E.y1=Yt(H+ft)));I.attr("d",y(G,E)),mt(j,E),s(G,z,E,ut)}function Me(Q,ft){if(nt){var yt=function(Le){return Le},gt=yt,It=yt;W?ot("xanchor",E.xanchor=Nt(Y+Q)):(gt=function(Le){return Nt(lt(Le)+Q)},_t&&_t.type==="date"&&(gt=g.encodeDate(gt))),X?ot("yanchor",E.yanchor=Yt(A+ft)):(It=function(Le){return Yt(kt(Le)+ft)},Ft&&Ft.type==="date"&&(It=g.encodeDate(It))),ot("path",E.path=$(st,gt,It))}else if(it){if(ae==="resize-over-start-point"){var Mt=dt+Q,Jt=X?ht-ft:ht+ft;ot("x0",E.x0=W?Mt:Nt(Mt)),ot("y0",E.y0=X?Jt:Yt(Jt))}else if(ae==="resize-over-end-point"){var qt=xt+Q,le=X?H-ft:H+ft;ot("x1",E.x1=W?qt:Nt(qt)),ot("y1",E.y1=X?le:Yt(le))}}else{var Et=function(Le){return ae.indexOf(Le)!==-1},re=Et("n"),se=Et("s"),he=Et("w"),Se=Et("e"),je=re?J+ft:J,Ge=se?at+ft:at,Ce=he?N+Q:N,Ne=Se?M+Q:M;X&&(re&&(je=J-ft),se&&(Ge=at-ft)),(!X&&Ge-je>D||X&&je-Ge>D)&&(ot(S,E[S]=X?je:Yt(je)),ot(R,E[R]=X?Ge:Yt(Ge))),Ne-Ce>Z&&(ot(V,E[V]=W?Ce:Nt(Ce)),ot(rt,E[rt]=W?Ne:Nt(Ne)))}I.attr("d",y(G,E)),mt(j,E),s(G,z,E,ut)}function mt(Q,ft){(W||X)&&yt();function yt(){var gt=ft.type!=="path",It=Q.selectAll(".visual-cue").data([0]),Mt=1;It.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":Mt}).classed("visual-cue",!0);var Jt=lt(W?ft.xanchor:n.midRange(gt?[ft.x0,ft.x1]:g.extractPathCoords(ft.path,m.paramIsX))),qt=kt(X?ft.yanchor:n.midRange(gt?[ft.y0,ft.y1]:g.extractPathCoords(ft.path,m.paramIsY)));if(Jt=g.roundPositionForSharpStrokeRendering(Jt,Mt),qt=g.roundPositionForSharpStrokeRendering(qt,Mt),W&&X){var le="M"+(Jt-1-Mt)+","+(qt-1-Mt)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";It.attr("d",le)}else if(W){var Et="M"+(Jt-1-Mt)+","+(qt-9-Mt)+"v18 h2 v-18 Z";It.attr("d",Et)}else{var re="M"+(Jt-9-Mt)+","+(qt-1-Mt)+"h18 v2 h-18 Z";It.attr("d",re)}}}function Lt(Q){Q.selectAll(".visual-cue").remove()}function At(Q,ft,yt){var gt=ft.xref,It=ft.yref,Mt=l.getFromId(yt,gt),Jt=l.getFromId(yt,It),qt="";gt!=="paper"&&!Mt.autorange&&(qt+=gt),It!=="paper"&&!Jt.autorange&&(qt+=It),v.setClipUrl(Q,qt?"clip"+yt._fullLayout._uid+qt:null,yt)}}function $(G,I,E){return G.replace(m.segmentRE,function(z){var j=0,U=z.charAt(0),Z=m.paramIsX[U],D=m.paramIsY[U],W=m.numParams[U],X=z.substr(1).replace(m.paramRE,function(it){return j>=W||(Z[j]?it=I(it):D[j]&&(it=E(it)),j++),it});return U+X})}function P(G,I){if(d(G)){var E=I.node(),z=+E.getAttribute("data-index");if(z>=0){if(z===G._fullLayout._activeShapeIndex){O(G);return}G._fullLayout._activeShapeIndex=z,G._fullLayout._deactivateShape=O,p(G)}}}function O(G){if(d(G)){var I=G._fullLayout._activeShapeIndex;I>=0&&(f(G),delete G._fullLayout._activeShapeIndex,p(G))}}function T(G){if(d(G)){f(G);var I=G._fullLayout._activeShapeIndex,E=(G.layout||{}).shapes||[];if(I<E.length){for(var z=[],j=0;j<E.length;j++)j!==I&&z.push(E[j]);return delete G._fullLayout._activeShapeIndex,t.call("_guiRelayout",G,{shapes:z})}}}}),ml=Ct((F,C)=>{var r=un(),t=aa(),n=sa(),l=Yi(),i=Ji().eraseActiveShape,o=De(),s=o._,f=C.exports={};f.toImage={name:"toImage",title:function(k){var $=k._context.toImageButtonOptions||{},P=$.format||"png";return P==="png"?s(k,"Download plot as a PNG"):s(k,"Download plot")},icon:l.camera,click:function(k){var $=k._context.toImageButtonOptions,P={format:$.format||"png"};o.notifier(s(k,"Taking snapshot - this may take a few seconds"),"long"),["filename","width","height","scale"].forEach(function(O){O in $&&(P[O]=$[O])}),r.call("downloadImage",k,P).then(function(O){o.notifier(s(k,"Snapshot succeeded")+" - "+O,"long")}).catch(function(){o.notifier(s(k,"Sorry, there was a problem downloading your snapshot!"),"long")})}},f.sendDataToCloud={name:"sendDataToCloud",title:function(k){return s(k,"Edit in Chart Studio")},icon:l.disk,click:function(k){t.sendDataToCloud(k)}},f.editInChartStudio={name:"editInChartStudio",title:function(k){return s(k,"Edit in Chart Studio")},icon:l.pencil,click:function(k){t.sendDataToCloud(k)}},f.zoom2d={name:"zoom2d",_cat:"zoom",title:function(k){return s(k,"Zoom")},attr:"dragmode",val:"zoom",icon:l.zoombox,click:e},f.pan2d={name:"pan2d",_cat:"pan",title:function(k){return s(k,"Pan")},attr:"dragmode",val:"pan",icon:l.pan,click:e},f.select2d={name:"select2d",_cat:"select",title:function(k){return s(k,"Box Select")},attr:"dragmode",val:"select",icon:l.selectbox,click:e},f.lasso2d={name:"lasso2d",_cat:"lasso",title:function(k){return s(k,"Lasso Select")},attr:"dragmode",val:"lasso",icon:l.lasso,click:e},f.drawclosedpath={name:"drawclosedpath",title:function(k){return s(k,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:l.drawclosedpath,click:e},f.drawopenpath={name:"drawopenpath",title:function(k){return s(k,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:l.drawopenpath,click:e},f.drawline={name:"drawline",title:function(k){return s(k,"Draw line")},attr:"dragmode",val:"drawline",icon:l.drawline,click:e},f.drawrect={name:"drawrect",title:function(k){return s(k,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:l.drawrect,click:e},f.drawcircle={name:"drawcircle",title:function(k){return s(k,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:l.drawcircle,click:e},f.eraseshape={name:"eraseshape",title:function(k){return s(k,"Erase active shape")},icon:l.eraseshape,click:i},f.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(k){return s(k,"Zoom in")},attr:"zoom",val:"in",icon:l.zoom_plus,click:e},f.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(k){return s(k,"Zoom out")},attr:"zoom",val:"out",icon:l.zoom_minus,click:e},f.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(k){return s(k,"Autoscale")},attr:"zoom",val:"auto",icon:l.autoscale,click:e},f.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(k){return s(k,"Reset axes")},attr:"zoom",val:"reset",icon:l.home,click:e},f.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(k){return s(k,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:l.tooltip_basic,gravity:"ne",click:e},f.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(k){return s(k,"Compare data on hover")},attr:"hovermode",val:function(k){return k._fullLayout._isHoriz?"y":"x"},icon:l.tooltip_compare,gravity:"ne",click:e};function e(k,$){var P=$.currentTarget,O=P.getAttribute("data-attr"),T=P.getAttribute("data-val")||!0,G=k._fullLayout,I={},E=n.list(k,null,!0),z=G._cartesianSpikesEnabled,j,U;if(O==="zoom"){var Z=T==="in"?.5:2,D=(1+Z)/2,W=(1-Z)/2,X,it;for(U=0;U<E.length;U++)if(j=E[U],it=j.modebardisable==="none"||j.modebardisable.indexOf(T==="auto"||T==="reset"?"autoscale":"zoominout")===-1,it&&!j.fixedrange)if(X=j._name,T==="auto")I[X+".autorange"]=!0;else if(T==="reset")j._rangeInitial0===void 0&&j._rangeInitial1===void 0?I[X+".autorange"]=!0:j._rangeInitial0===void 0?(I[X+".autorange"]=j._autorangeInitial,I[X+".range"]=[null,j._rangeInitial1]):j._rangeInitial1===void 0?(I[X+".range"]=[j._rangeInitial0,null],I[X+".autorange"]=j._autorangeInitial):I[X+".range"]=[j._rangeInitial0,j._rangeInitial1],j._showSpikeInitial!==void 0&&(I[X+".showspikes"]=j._showSpikeInitial,z==="on"&&!j._showSpikeInitial&&(z="off"));else{var nt=[j.r2l(j.range[0]),j.r2l(j.range[1])],ot=[D*nt[0]+W*nt[1],D*nt[1]+W*nt[0]];I[X+".range[0]"]=j.l2r(ot[0]),I[X+".range[1]"]=j.l2r(ot[1])}}else O==="hovermode"&&(T==="x"||T==="y")&&(T=G._isHoriz?"y":"x",P.setAttribute("data-val",T)),I[O]=T;G._cartesianSpikesEnabled=z,r.call("_guiRelayout",k,I)}f.zoom3d={name:"zoom3d",_cat:"zoom",title:function(k){return s(k,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:l.zoombox,click:v},f.pan3d={name:"pan3d",_cat:"pan",title:function(k){return s(k,"Pan")},attr:"scene.dragmode",val:"pan",icon:l.pan,click:v},f.orbitRotation={name:"orbitRotation",title:function(k){return s(k,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:l["3d_rotate"],click:v},f.tableRotation={name:"tableRotation",title:function(k){return s(k,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:l["z-axis"],click:v};function v(k,$){for(var P=$.currentTarget,O=P.getAttribute("data-attr"),T=P.getAttribute("data-val")||!0,G=k._fullLayout._subplots.gl3d||[],I={},E=O.split("."),z=0;z<G.length;z++)I[G[z]+"."+E[1]]=T;var j=T==="pan"?T:"zoom";I.dragmode=j,r.call("_guiRelayout",k,I)}f.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(k){return s(k,"Reset camera to default")},attr:"resetDefault",icon:l.home,click:u},f.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(k){return s(k,"Reset camera to last save")},attr:"resetLastSave",icon:l.movie,click:u};function u(k,$){for(var P=$.currentTarget,O=P.getAttribute("data-attr"),T=O==="resetLastSave",G=O==="resetDefault",I=k._fullLayout,E=I._subplots.gl3d||[],z={},j=0;j<E.length;j++){var U=E[j],Z=U+".camera",D=U+".aspectratio",W=U+".aspectmode",X=I[U]._scene,it;T?(z[Z+".up"]=X.viewInitial.up,z[Z+".eye"]=X.viewInitial.eye,z[Z+".center"]=X.viewInitial.center,it=!0):G&&(z[Z+".up"]=null,z[Z+".eye"]=null,z[Z+".center"]=null,it=!0),it&&(z[D+".x"]=X.viewInitial.aspectratio.x,z[D+".y"]=X.viewInitial.aspectratio.y,z[D+".z"]=X.viewInitial.aspectratio.z,z[W]=X.viewInitial.aspectmode)}r.call("_guiRelayout",k,z)}f.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(k){return s(k,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:l.tooltip_basic,gravity:"ne",click:_};function h(k,$){var P=$.currentTarget,O=P._previousVal,T=k._fullLayout,G=T._subplots.gl3d||[],I=["xaxis","yaxis","zaxis"],E={},z={};if(O)z=O,P._previousVal=null;else{for(var j=0;j<G.length;j++){var U=G[j],Z=T[U],D=U+".hovermode";E[D]=Z.hovermode,z[D]=!1;for(var W=0;W<3;W++){var X=I[W],it=U+"."+X+".showspikes";z[it]=!1,E[it]=Z[X].showspikes}}P._previousVal=E}return z}function _(k,$){var P=h(k,$);r.call("_guiRelayout",k,P)}f.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(k){return s(k,"Zoom in")},attr:"zoom",val:"in",icon:l.zoom_plus,click:m},f.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(k){return s(k,"Zoom out")},attr:"zoom",val:"out",icon:l.zoom_minus,click:m},f.resetGeo={name:"resetGeo",_cat:"reset",title:function(k){return s(k,"Reset")},attr:"reset",val:null,icon:l.autoscale,click:m},f.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(k){return s(k,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:l.tooltip_basic,gravity:"ne",click:y};function m(k,$){for(var P=$.currentTarget,O=P.getAttribute("data-attr"),T=P.getAttribute("data-val")||!0,G=k._fullLayout,I=G._subplots.geo||[],E=0;E<I.length;E++){var z=I[E],j=G[z];if(O==="zoom"){var U=j.projection.scale,Z=T==="in"?2*U:.5*U;r.call("_guiRelayout",k,z+".projection.scale",Z)}}O==="reset"&&w(k,"geo")}f.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(k){return s(k,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:l.tooltip_basic,gravity:"ne",click:y};function g(k){var $=k._fullLayout;return $.hovermode?!1:$._has("cartesian")?$._isHoriz?"y":"x":"closest"}function y(k){var $=g(k);r.call("_guiRelayout",k,"hovermode",$)}f.resetViewSankey={name:"resetSankeyGroup",title:function(k){return s(k,"Reset view")},icon:l.home,click:function(k){for(var $={"node.groups":[],"node.x":[],"node.y":[]},P=0;P<k._fullData.length;P++){var O=k._fullData[P]._viewInitial;$["node.groups"].push(O.node.groups.slice()),$["node.x"].push(O.node.x.slice()),$["node.y"].push(O.node.y.slice())}r.call("restyle",k,$)}},f.toggleHover={name:"toggleHover",title:function(k){return s(k,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:l.tooltip_basic,gravity:"ne",click:function(k,$){var P=h(k,$);P.hovermode=g(k),r.call("_guiRelayout",k,P)}},f.resetViews={name:"resetViews",title:function(k){return s(k,"Reset views")},icon:l.home,click:function(k,$){var P=$.currentTarget;P.setAttribute("data-attr","zoom"),P.setAttribute("data-val","reset"),e(k,$),P.setAttribute("data-attr","resetLastSave"),u(k,$),w(k,"geo"),w(k,"mapbox"),w(k,"map")}},f.toggleSpikelines={name:"toggleSpikelines",title:function(k){return s(k,"Toggle Spike Lines")},icon:l.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(k){var $=k._fullLayout,P=$._cartesianSpikesEnabled;$._cartesianSpikesEnabled=P==="on"?"off":"on",r.call("_guiRelayout",k,p(k))}};function p(k){for(var $=k._fullLayout,P=$._cartesianSpikesEnabled==="on",O=n.list(k,null,!0),T={},G=0;G<O.length;G++){var I=O[G];T[I._name+".showspikes"]=P?!0:I._showSpikeInitial}return T}f.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(k){return s(k,"Reset view")},attr:"reset",icon:l.home,click:function(k){w(k,"mapbox")}},f.resetViewMap={name:"resetViewMap",_cat:"resetView",title:function(k){return s(k,"Reset view")},attr:"reset",icon:l.home,click:function(k){w(k,"map")}},f.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(k){return s(k,"Zoom in")},attr:"zoom",val:"in",icon:l.zoom_plus,click:c},f.zoomInMap={name:"zoomInMap",_cat:"zoomin",title:function(k){return s(k,"Zoom in")},attr:"zoom",val:"in",icon:l.zoom_plus,click:d},f.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(k){return s(k,"Zoom out")},attr:"zoom",val:"out",icon:l.zoom_minus,click:c},f.zoomOutMap={name:"zoomOutMap",_cat:"zoomout",title:function(k){return s(k,"Zoom out")},attr:"zoom",val:"out",icon:l.zoom_minus,click:d};function c(k,$){b(k,$,"mapbox")}function d(k,$){b(k,$,"map")}function b(k,$,P){for(var O=$.currentTarget,T=O.getAttribute("data-val"),G=k._fullLayout,I=G._subplots[P]||[],E=1.05,z={},j=0;j<I.length;j++){var U=I[j],Z=G[U].zoom,D=T==="in"?E*Z:Z/E;z[U+".zoom"]=D}r.call("_guiRelayout",k,z)}function w(k,$){for(var P=k._fullLayout,O=P._subplots[$]||[],T={},G=0;G<O.length;G++)for(var I=O[G],E=P[I]._subplot,z=E.viewInitial,j=Object.keys(z),U=0;U<j.length;U++){var Z=j[U];T[I+"."+Z]=z[Z]}r.call("_guiRelayout",k,T)}}),xl=Ct((F,C)=>{var r=ml(),t=Object.keys(r),n=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],l=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(n),i=[],o=function(s){if(l.indexOf(s._cat||s.name)===-1){var f=s.name,e=(s._cat||s.name).toLowerCase();i.indexOf(f)===-1&&i.push(f),i.indexOf(e)===-1&&i.push(e)}};t.forEach(function(s){o(r[s])}),i.sort(),C.exports={DRAW_MODES:n,backButtons:l,foreButtons:i}}),bl=Ct((F,C)=>{xl(),C.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}}),Sc=Ct((F,C)=>{var r=De(),t=bn(),n=Bn(),l=bl();C.exports=function(i,o){var s=i.modebar||{},f=n.newContainer(o,"modebar");function e(u,h){return r.coerce(s,f,l,u,h)}e("orientation"),e("bgcolor",t.addOpacity(o.paper_bgcolor,.5));var v=t.contrast(t.rgb(o.modebar.bgcolor));e("color",t.addOpacity(v,.3)),e("activecolor",t.addOpacity(v,.7)),e("uirevision",o.uirevision),e("add"),e("remove")}}),Oc=Ct((F,C)=>{var r=wn(),t=Mn(),n=De(),l=Yi(),i=wi().version,o=new DOMParser;function s(u){this.container=u.container,this.element=document.createElement("div"),this.update(u.graphInfo,u.buttons),this.container.appendChild(this.element)}var f=s.prototype;f.update=function(u,h){this.graphInfo=u;var _=this.graphInfo._context,m=this.graphInfo._fullLayout,g="modebar-"+m._uid;this.element.setAttribute("id",g),this.element.setAttribute("role","toolbar"),this._uid=g,this.element.className="modebar modebar--custom",_.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),m.modebar.orientation==="v"&&(this.element.className+=" vertical",h=h.reverse());var y=m.modebar,p="#"+g+" .modebar-group";document.querySelectorAll(p).forEach(function(k){k.style.backgroundColor=y.bgcolor});var c=!this.hasButtons(h),d=this.hasLogo!==_.displaylogo,b=this.locale!==_.locale;if(this.locale=_.locale,(c||d||b)&&(this.removeAllButtons(),this.updateButtons(h),_.watermark||_.displaylogo)){var w=this.getLogo();_.watermark&&(w.className=w.className+" watermark"),m.modebar.orientation==="v"?this.element.insertBefore(w,this.element.childNodes[0]):this.element.appendChild(w),this.hasLogo=!0}this.updateActiveButton(),n.setStyleOnHover("#"+g+" .modebar-btn",".active",".icon path","fill: "+y.activecolor,"fill: "+y.color,this.element)},f.updateButtons=function(u){var h=this;this.buttons=u,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(_){var m=h.createGroup();_.forEach(function(g){var y=g.name;if(!y)throw new Error("must provide button 'name' in button config");if(h.buttonsNames.indexOf(y)!==-1)throw new Error("button name '"+y+"' is taken");h.buttonsNames.push(y);var p=h.createButton(g);h.buttonElements.push(p),m.appendChild(p)}),h.element.appendChild(m)})},f.createGroup=function(){var u=document.createElement("div");u.className="modebar-group";var h=this.graphInfo._fullLayout.modebar;return u.style.backgroundColor=h.bgcolor,u},f.createButton=function(u){var h=this,_=document.createElement("button");_.setAttribute("type","button"),_.setAttribute("rel","tooltip"),_.className="modebar-btn";var m=u.title;m===void 0?m=u.name:typeof m=="function"&&(m=m(this.graphInfo)),(m||m===0)&&(_.setAttribute("data-title",m),_.setAttribute("aria-label",m)),u.attr!==void 0&&_.setAttribute("data-attr",u.attr);var g=u.val;g!==void 0&&(typeof g=="function"&&(g=g(this.graphInfo)),_.setAttribute("data-val",g));var y=u.click;if(typeof y!="function")throw new Error("must provide button 'click' function in button config");_.addEventListener("click",function(c){u.click(h.graphInfo,c),h.updateActiveButton(c.currentTarget)}),_.setAttribute("data-toggle",u.toggle||!1),u.toggle&&r.select(_).classed("active",!0);var p=u.icon;return typeof p=="function"?_.appendChild(p()):_.appendChild(this.createIcon(p||l.question)),_.setAttribute("data-gravity",u.gravity||"n"),_},f.createIcon=function(u){var h=t(u.height)?Number(u.height):u.ascent-u.descent,_="http://www.w3.org/2000/svg",m;if(u.path){m=document.createElementNS(_,"svg"),m.setAttribute("viewBox",[0,0,u.width,h].join(" ")),m.setAttribute("class","icon");var g=document.createElementNS(_,"path");g.setAttribute("d",u.path),u.transform?g.setAttribute("transform",u.transform):u.ascent!==void 0&&g.setAttribute("transform","matrix(1 0 0 -1 0 "+u.ascent+")"),m.appendChild(g)}if(u.svg){var y=o.parseFromString(u.svg,"application/xml");m=y.childNodes[0]}return m.setAttribute("height","1em"),m.setAttribute("width","1em"),m},f.updateActiveButton=function(u){var h=this.graphInfo._fullLayout,_=u!==void 0?u.getAttribute("data-attr"):null;this.buttonElements.forEach(function(m){var g=m.getAttribute("data-val")||!0,y=m.getAttribute("data-attr"),p=m.getAttribute("data-toggle")==="true",c=r.select(m),d=function(k,$){var P=h.modebar,O=k.querySelector(".icon path");O&&($||k.matches(":hover")?O.style.fill=P.activecolor:O.style.fill=P.color)};if(p){if(y===_){var b=!c.classed("active");c.classed("active",b),d(m,b)}}else{var w=y===null?y:n.nestedProperty(h,y).get();c.classed("active",w===g),d(m,w===g)}})},f.hasButtons=function(u){var h=this.buttons;if(!h||u.length!==h.length)return!1;for(var _=0;_<u.length;++_){if(u[_].length!==h[_].length)return!1;for(var m=0;m<u[_].length;m++)if(u[_][m].name!==h[_][m].name)return!1}return!0};function e(u){return u+" (v"+i+")"}f.getLogo=function(){var u=this.createGroup(),h=document.createElement("a");return h.href="https://plotly.com/",h.target="_blank",h.setAttribute("data-title",e(n._(this.graphInfo,"Produced with Plotly.js"))),h.className="modebar-btn plotlyjsicon modebar-btn--logo",h.appendChild(this.createIcon(l.newplotlylogo)),u.appendChild(h),u},f.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},f.destroy=function(){n.removeElement(this.container.querySelector(".modebar"))};function v(u,h){var _=u._fullLayout,m=new s({graphInfo:u,container:_._modebardiv.node(),buttons:h});return _._privateplot&&r.select(m.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),m}C.exports=v}),Dc=Ct((F,C)=>{var r=sa(),t=Pa(),n=un(),l=Ka().isUnifiedHover,i=Oc(),o=ml(),s=xl().DRAW_MODES,f=De().extendDeep;C.exports=function(g){var y=g._fullLayout,p=g._context,c=y._modeBar;if(!p.displayModeBar&&!p.watermark){c&&(c.destroy(),delete y._modeBar);return}if(!Array.isArray(p.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(p.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var d=p.modeBarButtons,b;Array.isArray(d)&&d.length?b=m(d):!p.displayModeBar&&p.watermark?b=[]:b=e(g),c?c.update(g,b):y._modeBar=i(g,b)};function e(g){var y=g._fullLayout,p=g._fullData,c=g._context;function d(M,S){if(typeof S=="string"){if(S.toLowerCase()===M.toLowerCase())return!0}else{var R=S.name,V=S._cat||S.name;if(R===M||V===M.toLowerCase())return!0}return!1}var b=y.modebar.add;typeof b=="string"&&(b=[b]);var w=y.modebar.remove;typeof w=="string"&&(w=[w]);var k=c.modeBarButtonsToAdd.concat(b.filter(function(M){for(var S=0;S<c.modeBarButtonsToRemove.length;S++)if(d(M,c.modeBarButtonsToRemove[S]))return!1;return!0})),$=c.modeBarButtonsToRemove.concat(w.filter(function(M){for(var S=0;S<c.modeBarButtonsToAdd.length;S++)if(d(M,c.modeBarButtonsToAdd[S]))return!1;return!0})),P=y._has("cartesian"),O=y._has("gl3d"),T=y._has("geo"),G=y._has("pie"),I=y._has("funnelarea"),E=y._has("ternary"),z=y._has("mapbox"),j=y._has("map"),U=y._has("polar"),Z=y._has("smith"),D=y._has("sankey"),W=v(y),X=l(y.hovermode),it=[];function nt(M){if(M.length){for(var S=[],R=0;R<M.length;R++){for(var V=M[R],rt=o[V],st=rt.name.toLowerCase(),ut=(rt._cat||rt.name).toLowerCase(),_t=!1,Tt=0;Tt<$.length;Tt++){var Ft=$[Tt].toLowerCase();if(Ft===st||Ft===ut){_t=!0;break}}_t||S.push(o[V])}it.push(S)}}var ot=["toImage"];c.showEditInChartStudio?ot.push("editInChartStudio"):c.showSendToCloud&&ot.push("sendDataToCloud"),nt(ot);var dt=[],ht=[],xt=[],H=[];(P||G||I||E)+T+O+z+j+U+Z>1?(ht=["toggleHover"],xt=["resetViews"]):T?(dt=["zoomInGeo","zoomOutGeo"],ht=["hoverClosestGeo"],xt=["resetGeo"]):O?(ht=["hoverClosest3d"],xt=["resetCameraDefault3d","resetCameraLastSave3d"]):z?(dt=["zoomInMapbox","zoomOutMapbox"],ht=["toggleHover"],xt=["resetViewMapbox"]):j?(dt=["zoomInMap","zoomOutMap"],ht=["toggleHover"],xt=["resetViewMap"]):G?ht=["hoverClosestPie"]:D?(ht=["hoverClosestCartesian","hoverCompareCartesian"],xt=["resetViewSankey"]):ht=["toggleHover"],P&&ht.push("toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"),(h(p)||X)&&(ht=[]),P&&!W&&(dt=["zoomIn2d","zoomOut2d","autoScale2d"],xt[0]!=="resetViews"&&(xt=["resetScale2d"])),O?H=["zoom3d","pan3d","orbitRotation","tableRotation"]:P&&!W||E?H=["zoom2d","pan2d"]:z||j||T?H=["pan2d"]:U&&(H=["zoom2d"]),u(p)&&H.push("select2d","lasso2d");var Y=[],A=function(M){Y.indexOf(M)===-1&&ht.indexOf(M)!==-1&&Y.push(M)};if(Array.isArray(k)){for(var J=[],at=0;at<k.length;at++){var N=k[at];typeof N=="string"?(N=N.toLowerCase(),s.indexOf(N)!==-1?(y._has("mapbox")||y._has("map")||y._has("cartesian"))&&H.push(N):N==="togglespikelines"?A("toggleSpikelines"):N==="togglehover"?A("toggleHover"):N==="hovercompare"?A("hoverCompareCartesian"):N==="hoverclosest"?(A("hoverClosestCartesian"),A("hoverClosestGeo"),A("hoverClosest3d"),A("hoverClosestPie")):N==="v1hovermode"&&(A("hoverClosestCartesian"),A("hoverCompareCartesian"),A("hoverClosestGeo"),A("hoverClosest3d"),A("hoverClosestPie"))):J.push(N)}k=J}return nt(H),nt(dt.concat(xt)),nt(Y),_(it,k)}function v(g){for(var y=r.list({_fullLayout:g},null,!0),p=0;p<y.length;p++){var c=y[p].modebardisable;if(!y[p].fixedrange&&c!=="autoscale+zoominout"&&c!=="zoominout+autoscale")return!1}return!0}function u(g){for(var y=!1,p=0;p<g.length&&!y;p++){var c=g[p];!c._module||!c._module.selectPoints||(n.traceIs(c,"scatter-like")?(t.hasMarkers(c)||t.hasText(c))&&(y=!0):n.traceIs(c,"box-violin")?(c.boxpoints==="all"||c.points==="all")&&(y=!0):y=!0)}return y}function h(g){for(var y=0;y<g.length;y++)if(!n.traceIs(g[y],"noHover"))return!1;return!0}function _(g,y){if(y.length)if(Array.isArray(y[0]))for(var p=0;p<y.length;p++)g.push(y[p]);else g.push(y);return g}function m(g){for(var y=f([],g),p=0;p<y.length;p++)for(var c=y[p],d=0;d<c.length;d++){var b=c[d];if(typeof b=="string")if(o[b]!==void 0)y[p][d]=o[b];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return y}}),_l=Ct((F,C)=>{C.exports={moduleType:"component",name:"modebar",layoutAttributes:bl(),supplyLayoutDefaults:Sc(),manage:Dc()}}),wl=Ct((F,C)=>{var r=ka().FROM_BL;C.exports=function(t,n,l){l===void 0&&(l=r[t.constraintoward||"center"]);var i=[t.r2l(t.range[0]),t.r2l(t.range[1])],o=i[0]+(i[1]-i[0])*l;t.range=t._input.range=[t.l2r(o+(i[0]-o)*n),t.l2r(o+(i[1]-o)*n)],t.setScale()}}),Kr=Ct(F=>{var C=De(),r=$r(),t=sa().id2name,n=Va(),l=wl(),i=Ri(),o=oa().ALMOST_EQUAL,s=ka().FROM_BL;F.handleDefaults=function(g,y,p){var c=p.axIds,d=p.axHasImage,b=y._axisConstraintGroups=[],w=y._axisMatchGroups=[],k,$,P,O,T,G,I,E;for(k=0;k<c.length;k++)O=t(c[k]),T=g[O],G=y[O],f(T,G,{axIds:c,layoutOut:y,hasImage:d[O]});function z(ot,dt){for(k=0;k<ot.length;k++){$=ot[k];for(P in $)y[t(P)][dt]=$}}for(z(w,"_matchGroup"),k=0;k<b.length;k++){$=b[k];for(P in $)if(G=y[t(P)],G.fixedrange){for(var j in $){var U=t(j);(g[U]||{}).fixedrange===!1&&C.warn("fixedrange was specified as false for axis "+U+" but was overridden because another axis in its constraint group has fixedrange true"),y[U].fixedrange=!0}break}}for(k=0;k<b.length;){$=b[k];for(P in $){G=y[t(P)],G._matchGroup&&Object.keys(G._matchGroup).length===Object.keys($).length&&(b.splice(k,1),k--);break}k++}z(b,"_constraintGroup");var Z=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],D=!1,W=!1;function X(){E=G[I],I==="rangebreaks"&&(W=G._hasDayOfWeekBreaks)}for(k=0;k<w.length;k++){$=w[k];for(var it=0;it<Z.length;it++){I=Z[it],E=null;var nt;for(P in $)if(O=t(P),T=g[O],G=y[O],I in G){if(!G.matches&&(nt=G,I in T)){X();break}E===null&&I in T&&X()}if(I==="range"&&E&&T.range&&T.range.length===2&&T.range[0]!==null&&T.range[1]!==null&&(D=!0),I==="autorange"&&E===null&&D&&(E=!1),E===null&&I in nt&&(E=nt[I]),E!==null)for(P in $)G=y[t(P)],G[I]=I==="range"?E.slice():E,I==="rangebreaks"&&(G._hasDayOfWeekBreaks=W,i(G,y))}}};function f(g,y,p){var c=p.axIds,d=p.layoutOut,b=p.hasImage,w=d._axisConstraintGroups,k=d._axisMatchGroups,$=y._id,P=$.charAt(0),O=((d._splomAxes||{})[P]||{})[$]||{},T=y._id,G=T.charAt(0)==="x";y._matchGroup=null,y._constraintGroup=null;function I(H,Y){return C.coerce(g,y,n,H,Y)}I("constrain",b?"domain":"range"),C.coerce(g,y,{constraintoward:{valType:"enumerated",values:G?["left","center","right"]:["bottom","middle","top"],dflt:G?"center":"middle"}},"constraintoward");var E=y.type,z,j,U=[];for(z=0;z<c.length;z++)if(j=c[z],j!==T){var Z=d[t(j)];Z.type===E&&U.push(j)}var D=v(w,T);if(D){var W=[];for(z=0;z<U.length;z++)j=U[z],D[j]||W.push(j);U=W}var X=U.length,it,nt;X&&(g.matches||O.matches)&&(it=C.coerce(g,y,{matches:{valType:"enumerated",values:U,dflt:U.indexOf(O.matches)!==-1?O.matches:void 0}},"matches"));var ot=b&&!G?y.anchor:void 0;if(X&&!it&&(g.scaleanchor||ot)&&(nt=C.coerce(g,y,{scaleanchor:{valType:"enumerated",values:U.concat([!1])}},"scaleanchor",ot)),it){y._matchGroup=u(k,T,it,1);var dt=d[t(it)],ht=e(d,y)/e(d,dt);G!==(it.charAt(0)==="x")&&(ht=(G?"x":"y")+ht),u(w,T,it,ht)}else g.matches&&c.indexOf(g.matches)!==-1&&C.warn("ignored "+y._name+'.matches: "'+g.matches+'" to avoid an infinite loop');if(nt){var xt=I("scaleratio");xt||(xt=y.scaleratio=1),u(w,T,nt,xt)}else g.scaleanchor&&c.indexOf(g.scaleanchor)!==-1&&C.warn("ignored "+y._name+'.scaleanchor: "'+g.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function e(g,y){var p=y.domain;return p||(p=g[t(y.overlaying)].domain),p[1]-p[0]}function v(g,y){for(var p=0;p<g.length;p++)if(g[p][y])return g[p];return null}function u(g,y,p,c){var d,b,w,k,$,P=v(g,y);P===null?(P={},P[y]=1,$=g.length,g.push(P)):$=g.indexOf(P);var O=Object.keys(P);for(d=0;d<g.length;d++)if(w=g[d],d!==$&&w[p]){var T=w[p];for(b=0;b<O.length;b++)k=O[b],w[k]=h(T,h(c,P[k]));g.splice($,1);return}if(c!==1)for(b=0;b<O.length;b++){var G=O[b];P[G]=h(c,P[G])}P[p]=1}function h(g,y){var p="",c="",d,b;typeof g=="string"&&(p=g.match(/^[xy]*/)[0],d=p.length,g=+g.substr(d)),typeof y=="string"&&(c=y.match(/^[xy]*/)[0],b=c.length,y=+y.substr(b));var w=g*y;return!d&&!b?w:!d||!b||p.charAt(0)===c.charAt(0)?p+c+g*y:d===b?w:(d>b?p.substr(b):c.substr(d))+w}function _(g,y){for(var p=y._size,c=p.h/p.w,d={},b=Object.keys(g),w=0;w<b.length;w++){var k=b[w],$=g[k];if(typeof $=="string"){var P=$.match(/^[xy]*/)[0],O=P.length;$=+$.substr(O);for(var T=P.charAt(0)==="y"?c:1/c,G=0;G<O;G++)$*=T}d[k]=$}return d}F.enforce=function(g){var y=g._fullLayout,p=y._axisConstraintGroups||[],c,d,b,w,k,$,P,O;for(c=0;c<p.length;c++){b=_(p[c],y);var T=Object.keys(b),G=1/0,I=0,E=1/0,z={},j={},U=!1;for(d=0;d<T.length;d++)w=T[d],j[w]=k=y[t(w)],k._inputDomain?k.domain=k._inputDomain.slice():k._inputDomain=k.domain.slice(),k._inputRange||(k._inputRange=k.range.slice()),k.setScale(),z[w]=$=Math.abs(k._m)/b[w],G=Math.min(G,$),(k.constrain==="domain"||!k._constraintShrinkable)&&(E=Math.min(E,$)),delete k._constraintShrinkable,I=Math.max(I,$),k.constrain==="domain"&&(U=!0);if(!(G>o*I&&!U)){for(d=0;d<T.length;d++)if(w=T[d],$=z[w],k=j[w],P=k.constrain,$!==E||P==="domain")if(O=$/E,P==="range")l(k,O);else{var Z=k._inputDomain,D=(k.domain[1]-k.domain[0])/(Z[1]-Z[0]),W=(k.r2l(k.range[1])-k.r2l(k.range[0]))/(k.r2l(k._inputRange[1])-k.r2l(k._inputRange[0]));if(O/=D,O*W<1){k.domain=k._input.domain=Z.slice(),l(k,O);continue}if(W<1&&(k.range=k._input.range=k._inputRange.slice(),O*=W),k.autorange){var X=k.r2l(k.range[0]),it=k.r2l(k.range[1]),nt=(X+it)/2,ot=nt,dt=nt,ht=Math.abs(it-nt),xt=nt-ht*O*1.0001,H=nt+ht*O*1.0001,Y=r.makePadFn(y,k,0),A=r.makePadFn(y,k,1);m(k,O);var J=Math.abs(k._m),at=r.concatExtremes(g,k),N=at.min,M=at.max,S,R;for(R=0;R<N.length;R++)S=N[R].val-Y(N[R])/J,S>xt&&S<ot&&(ot=S);for(R=0;R<M.length;R++)S=M[R].val+A(M[R])/J,S<H&&S>dt&&(dt=S);var V=(dt-ot)/(2*ht);O/=V,ot=k.l2r(ot),dt=k.l2r(dt),k.range=k._input.range=X<it?[ot,dt]:[dt,ot]}m(k,O)}}}},F.getAxisGroup=function(g,y){for(var p=g._axisMatchGroups,c=0;c<p.length;c++){var d=p[c];if(d[y])return"g"+c}return y},F.clean=function(g,y){if(y._inputDomain){for(var p=!1,c=y._id,d=g._fullLayout._axisConstraintGroups,b=0;b<d.length;b++)if(d[b][c]){p=!0;break}(!p||y.constrain!=="domain")&&(y._input.domain=y.domain=y._inputDomain,delete y._inputDomain)}};function m(g,y){var p=g._inputDomain,c=s[g.constraintoward],d=p[0]+(p[1]-p[0])*c;g.domain=g._input.domain=[d+(p[0]-d)/y,d+(p[1]-d)/y],g.setScale()}}),Xi=Ct(F=>{var C=wn(),r=un(),t=aa(),n=De(),l=xa(),i=Vi(),o=bn(),s=zn(),f=qr(),e=_l(),v=Yn(),u=ka(),h=Kr(),_=h.enforce,m=h.clean,g=$r().doAutoRange,y="start",p="middle",c="end",d=pa().zindexSeparator;F.layoutStyles=function(D){return n.syncOrAsync([t.doAutoMargin,w],D)};function b(D,W,X){for(var it=0;it<X.length;it++){var nt=X[it][0],ot=X[it][1];if(!(nt[0]>=D[1]||nt[1]<=D[0])&&ot[0]<W[1]&&ot[1]>W[0])return!0}return!1}function w(D){var W=D._fullLayout,X=W._size,it=X.p,nt=v.list(D,"",!0),ot,dt,ht,xt,H,Y;if(W._paperdiv.style({width:D._context.responsive&&W.autosize&&!D._context._hasZeroWidth&&!D.layout.width?"100%":W.width+"px",height:D._context.responsive&&W.autosize&&!D._context._hasZeroHeight&&!D.layout.height?"100%":W.height+"px"}).selectAll(".main-svg").call(s.setSize,W.width,W.height),D._context.setBackground(D,W.paper_bgcolor),F.drawMainTitle(D),e.manage(D),!W._has("cartesian"))return t.previousPromises(D);function A(At,Q,ft){var yt=At._lw/2;if(At._id.charAt(0)==="x"){if(Q){if(ft==="top")return Q._offset-it-yt}else return X.t+X.h*(1-(At.position||0))+yt%1;return Q._offset+Q._length+it+yt}if(Q){if(ft==="right")return Q._offset+Q._length+it+yt}else return X.l+X.w*(At.position||0)+yt%1;return Q._offset-it-yt}for(ot=0;ot<nt.length;ot++){xt=nt[ot];var J=xt._anchorAxis;xt._linepositions={},xt._lw=s.crispRound(D,xt.linewidth,1),xt._mainLinePosition=A(xt,J,xt.side),xt._mainMirrorPosition=xt.mirror&&J?A(xt,J,u.OPPOSITE_SIDE[xt.side]):null}var at=[],N=[],M=[],S=o.opacity(W.paper_bgcolor)===1&&o.opacity(W.plot_bgcolor)===1&&W.paper_bgcolor===W.plot_bgcolor;for(dt in W._plots)if(ht=W._plots[dt],ht.mainplot)ht.bg&&ht.bg.remove(),ht.bg=void 0;else{var R=ht.xaxis.domain,V=ht.yaxis.domain,rt=ht.plotgroup;if(b(R,V,M)&&dt.indexOf(d)===-1){var st=rt.node(),ut=ht.bg=n.ensureSingle(rt,"rect","bg");st.insertBefore(ut.node(),st.childNodes[0]),N.push(dt)}else rt.select("rect.bg").remove(),M.push([R,V]),S||(at.push(dt),N.push(dt))}var _t=W._bgLayer.selectAll(".bg").data(at);for(_t.enter().append("rect").classed("bg",!0),_t.exit().remove(),_t.each(function(At){W._plots[At].bg=C.select(this)}),ot=0;ot<N.length;ot++)ht=W._plots[N[ot]],H=ht.xaxis,Y=ht.yaxis,ht.bg&&H._offset!==void 0&&Y._offset!==void 0&&ht.bg.call(s.setRect,H._offset-it,Y._offset-it,H._length+2*it,Y._length+2*it).call(o.fill,W.plot_bgcolor).style("stroke-width",0);if(!W._hasOnlyLargeSploms)for(dt in W._plots){ht=W._plots[dt],H=ht.xaxis,Y=ht.yaxis;var Tt=ht.clipId="clip"+W._uid+dt+"plot",Ft=n.ensureSingleById(W._clips,"clipPath",Tt,function(At){At.classed("plotclip",!0).append("rect")});ht.clipRect=Ft.select("rect").attr({width:H._length,height:Y._length}),s.setTranslate(ht.plot,H._offset,Y._offset);var Zt,Bt;ht._hasClipOnAxisFalse?(Zt=null,Bt=Tt):(Zt=Tt,Bt=null),s.setClipUrl(ht.plot,Zt,D),ht.layerClipId=Bt}var Rt,pt,bt,lt,kt,Nt,Yt,ee,Xt,ae,oe,ie,pe;function $t(At){return"M"+Rt+","+At+"H"+pt}function me(At){return"M"+H._offset+","+At+"h"+H._length}function we(At){return"M"+At+","+ee+"V"+Yt}function ve(At){return Y._shift!==void 0&&(At+=Y._shift),"M"+At+","+Y._offset+"v"+Y._length}function Me(At,Q,ft){if(!At.showline||dt!==At._mainSubplot)return"";if(!At._anchorAxis)return ft(At._mainLinePosition);var yt=Q(At._mainLinePosition);return At.mirror&&(yt+=Q(At._mainMirrorPosition)),yt}for(dt in W._plots){ht=W._plots[dt],H=ht.xaxis,Y=ht.yaxis;var mt="M0,0";k(H,dt)&&(kt=P(H,"left",Y,nt),Rt=H._offset-(kt?it+kt:0),Nt=P(H,"right",Y,nt),pt=H._offset+H._length+(Nt?it+Nt:0),bt=A(H,Y,"bottom"),lt=A(H,Y,"top"),pe=!H._anchorAxis||dt!==H._mainSubplot,pe&&(H.mirror==="allticks"||H.mirror==="all")&&(H._linepositions[dt]=[bt,lt]),mt=Me(H,$t,me),pe&&H.showline&&(H.mirror==="all"||H.mirror==="allticks")&&(mt+=$t(bt)+$t(lt)),ht.xlines.style("stroke-width",H._lw+"px").call(o.stroke,H.showline?H.linecolor:"rgba(0,0,0,0)")),ht.xlines.attr("d",mt);var Lt="M0,0";k(Y,dt)&&(oe=P(Y,"bottom",H,nt),Yt=Y._offset+Y._length+(oe?it:0),ie=P(Y,"top",H,nt),ee=Y._offset-(ie?it:0),Xt=A(Y,H,"left"),ae=A(Y,H,"right"),pe=!Y._anchorAxis||dt!==Y._mainSubplot,pe&&(Y.mirror==="allticks"||Y.mirror==="all")&&(Y._linepositions[dt]=[Xt,ae]),Lt=Me(Y,we,ve),pe&&Y.showline&&(Y.mirror==="all"||Y.mirror==="allticks")&&(Lt+=we(Xt)+we(ae)),ht.ylines.style("stroke-width",Y._lw+"px").call(o.stroke,Y.showline?Y.linecolor:"rgba(0,0,0,0)")),ht.ylines.attr("d",Lt)}return v.makeClipPaths(D),t.previousPromises(D)}function k(D,W){return(D.ticks||D.showline)&&(W===D._mainSubplot||D.mirror==="all"||D.mirror==="allticks")}function $(D,W,X){if(!X.showline||!X._lw)return!1;if(X.mirror==="all"||X.mirror==="allticks")return!0;var it=X._anchorAxis;if(!it)return!1;var nt=u.FROM_BL[W];return X.side===W?it.domain[nt]===D.domain[nt]:X.mirror&&it.domain[1-nt]===D.domain[1-nt]}function P(D,W,X,it){if($(D,W,X))return X._lw;for(var nt=0;nt<it.length;nt++){var ot=it[nt];if(ot._mainAxis===X._mainAxis&&$(D,W,ot))return ot._lw}return 0}F.drawMainTitle=function(D){var W=D._fullLayout.title,X=D._fullLayout,it=U(X),nt=Z(X),ot=z(X,nt),dt=E(X,it);if(f.draw(D,"gtitle",{propContainer:X,propName:"title.text",subtitlePropName:"title.subtitle.text",placeholder:X._dfltTitle.plot,subtitlePlaceholder:X._dfltTitle.subtitle,attributes:{x:dt,y:ot,"text-anchor":it,dy:nt}}),W.text&&W.automargin){var ht=C.selectAll(".gtitle"),xt=s.bBox(C.selectAll(".g-gtitle").node()).height,H=G(D,W,xt);if(H>0){I(D,ot,H,xt),ht.attr({x:dt,y:ot,"text-anchor":it,dy:j(W.yanchor)}).call(l.positionText,dt,ot);var Y=(W.text.match(l.BR_TAG_ALL)||[]).length;if(Y){var A=u.LINE_SPACING*Y+u.MID_SHIFT;W.y===0&&(A=-A),ht.selectAll(".line").each(function(){var S=+this.getAttribute("dy").slice(0,-2)-A+"em";this.setAttribute("dy",S)})}var J=C.selectAll(".gtitle-subtitle");if(J.node()){var at=ht.node().getBBox(),N=at.y+at.height,M=N+f.SUBTITLE_PADDING_EM*W.subtitle.font.size;J.attr({x:dt,y:M,"text-anchor":it,dy:j(W.yanchor)}).call(l.positionText,dt,M)}}}};function O(D,W,X,it,nt){var ot=W.yref==="paper"?D._fullLayout._size.h:D._fullLayout.height,dt=n.isTopAnchor(W)?it:it-nt,ht=X==="b"?ot-dt:dt;return n.isTopAnchor(W)&&X==="t"||n.isBottomAnchor(W)&&X==="b"?!1:ht<nt}function T(D,W,X,it,nt){var ot=0;return X==="middle"&&(ot+=nt/2),D==="t"?(X==="top"&&(ot+=nt),ot+=it-W*it):(X==="bottom"&&(ot+=nt),ot+=W*it),ot}function G(D,W,X){var it=W.y,nt=W.yanchor,ot=it>.5?"t":"b",dt=D._fullLayout.margin[ot],ht=0;return W.yref==="paper"?ht=X+W.pad.t+W.pad.b:W.yref==="container"&&(ht=T(ot,it,nt,D._fullLayout.height,X)+W.pad.t+W.pad.b),ht>dt?ht:0}function I(D,W,X,it){var nt="title.automargin",ot=D._fullLayout.title,dt=ot.y>.5?"t":"b",ht={x:ot.x,y:ot.y,t:0,b:0},xt={};ot.yref==="paper"&&O(D,ot,dt,W,it)?ht[dt]=X:ot.yref==="container"&&(xt[dt]=X,D._fullLayout._reservedMargin[nt]=xt),t.allowAutoMargin(D,nt),t.autoMargin(D,nt,ht)}function E(D,W){var X=D.title,it=D._size,nt=0;switch(W===y?nt=X.pad.l:W===c&&(nt=-X.pad.r),X.xref){case"paper":return it.l+it.w*X.x+nt;case"container":default:return D.width*X.x+nt}}function z(D,W){var X=D.title,it=D._size,nt=0;if(W==="0em"||!W?nt=-X.pad.b:W===u.CAP_SHIFT+"em"&&(nt=X.pad.t),X.y==="auto")return it.t/2;switch(X.yref){case"paper":return it.t+it.h-it.h*X.y+nt;case"container":default:return D.height-D.height*X.y+nt}}function j(D){return D==="top"?u.CAP_SHIFT+.3+"em":D==="bottom"?"-0.3em":u.MID_SHIFT+"em"}function U(D){var W=D.title,X=p;return n.isRightAnchor(W)?X=c:n.isLeftAnchor(W)&&(X=y),X}function Z(D){var W=D.title,X="0em";return n.isTopAnchor(W)?X=u.CAP_SHIFT+"em":n.isMiddleAnchor(W)&&(X=u.MID_SHIFT+"em"),X}F.doTraceStyle=function(D){var W=D.calcdata,X=[],it;for(it=0;it<W.length;it++){var nt=W[it],ot=nt[0]||{},dt=ot.trace||{},ht=dt._module||{},xt=ht.arraysToCalcdata;xt&&xt(nt,dt);var H=ht.editStyle;H&&X.push({fn:H,cd0:ot})}if(X.length){for(it=0;it<X.length;it++){var Y=X[it];Y.fn(D,Y.cd0)}i(D),F.redrawReglTraces(D)}return t.style(D),r.getComponentMethod("legend","draw")(D),t.previousPromises(D)},F.doColorBars=function(D){return r.getComponentMethod("colorbar","draw")(D),t.previousPromises(D)},F.layoutReplot=function(D){var W=D.layout;return D.layout=void 0,r.call("_doPlot",D,"",W)},F.doLegend=function(D){return r.getComponentMethod("legend","draw")(D),t.previousPromises(D)},F.doTicksRelayout=function(D){return v.draw(D,"redraw"),D._fullLayout._hasOnlyLargeSploms&&(r.subplotsRegistry.splom.updateGrid(D),i(D),F.redrawReglTraces(D)),F.drawMainTitle(D),t.previousPromises(D)},F.doModeBar=function(D){var W=D._fullLayout;e.manage(D);for(var X=0;X<W._basePlotModules.length;X++){var it=W._basePlotModules[X].updateFx;it&&it(D)}return t.previousPromises(D)},F.doCamera=function(D){for(var W=D._fullLayout,X=W._subplots.gl3d,it=0;it<X.length;it++){var nt=W[X[it]],ot=nt._scene;ot.setViewport(nt)}},F.drawData=function(D){var W=D._fullLayout;i(D);for(var X=W._basePlotModules,it=0;it<X.length;it++)X[it].plot(D);return F.redrawReglTraces(D),t.style(D),r.getComponentMethod("selections","draw")(D),r.getComponentMethod("shapes","draw")(D),r.getComponentMethod("annotations","draw")(D),r.getComponentMethod("images","draw")(D),W._replotting=!1,t.previousPromises(D)},F.redrawReglTraces=function(D){var W=D._fullLayout;if(W._has("regl")){var X=D._fullData,it=[],nt=[],ot,dt;for(W._hasOnlyLargeSploms&&W._splomGrid.draw(),ot=0;ot<X.length;ot++){var ht=X[ot];ht.visible===!0&&ht._length!==0&&(ht.type==="splom"?W._splomScenes[ht.uid].draw():ht.type==="scattergl"?n.pushUnique(it,ht.xaxis+ht.yaxis):ht.type==="scatterpolargl"&&n.pushUnique(nt,ht.subplot))}for(ot=0;ot<it.length;ot++)dt=W._plots[it[ot]],dt._scene&&dt._scene.draw();for(ot=0;ot<nt.length;ot++)dt=W[nt[ot]]._subplot,dt._scene&&dt._scene.draw()}},F.doAutoRangeAndConstraints=function(D){for(var W=v.list(D,"",!0),X,it={},nt=0;nt<W.length;nt++)if(X=W[nt],!it[X._id]){it[X._id]=1,m(D,X),g(D,X);var ot=X._matchGroup;if(ot)for(var dt in ot){var ht=v.getFromId(D,dt);g(D,ht,X.range),it[dt]=1}}_(D)},F.finalDraw=function(D){r.getComponentMethod("rangeslider","draw")(D),r.getComponentMethod("rangeselector","draw")(D)},F.drawMarginPushers=function(D){r.getComponentMethod("legend","draw")(D),r.getComponentMethod("rangeselector","draw")(D),r.getComponentMethod("sliders","draw")(D),r.getComponentMethod("updatemenus","draw")(D),r.getComponentMethod("colorbar","draw")(D)}}),Ml=Ct((F,C)=>{var r=hr().readPaths,t=Wi(),n=fr().clearOutlineControllers,l=bn(),i=zn(),o=Bn().arrayEditor,s=pr(),f=s.getPathString;C.exports={draw:e,drawOne:u,activateLastSelection:m};function e(y){var p=y._fullLayout;n(y),p._selectionLayer.selectAll("path").remove();for(var c in p._plots){var d=p._plots[c].selectionLayer;d&&d.selectAll("path").remove()}for(var b=0;b<p.selections.length;b++)u(y,b)}function v(y){return y._context.editSelection}function u(y,p){y._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+p+'"]').remove();var c=s.makeSelectionsOptionsAndPlotinfo(y,p),d=c.options,b=c.plotinfo;if(!d._input)return;w(y._fullLayout._selectionLayer);function w(k){var $=f(y,d),P={"data-index":p,"fill-rule":"evenodd",d:$},O=d.opacity,T="rgba(0,0,0,0)",G=d.line.color||l.contrast(y._fullLayout.plot_bgcolor),I=d.line.width,E=d.line.dash;I||(I=5,E="solid");var z=v(y)&&y._fullLayout._activeSelectionIndex===p;z&&(T=y._fullLayout.activeselection.fillcolor,O=y._fullLayout.activeselection.opacity);for(var j=[],U=1;U>=0;U--){var Z=k.append("path").attr(P).style("opacity",U?.1:O).call(l.stroke,G).call(l.fill,T).call(i.dashLine,U?"solid":E,U?4+I:I);if(h(Z,y,d),z){var D=o(y.layout,"selections",d);Z.style({cursor:"move"});var W={element:Z.node(),plotinfo:b,gd:y,editHelpers:D,isActiveSelection:!0},X=r($,y);t(X,Z,W)}else Z.style("pointer-events",U?"all":"none");j[U]=Z}var it=j[0],nt=j[1];nt.node().addEventListener("click",function(){return _(y,it)})}}function h(y,p,c){var d=c.xref+c.yref;i.setClipUrl(y,"clip"+p._fullLayout._uid+d,p)}function _(y,p){if(v(y)){var c=p.node(),d=+c.getAttribute("data-index");if(d>=0){if(d===y._fullLayout._activeSelectionIndex){g(y);return}y._fullLayout._activeSelectionIndex=d,y._fullLayout._deactivateSelection=g,e(y)}}}function m(y){if(v(y)){var p=y._fullLayout.selections.length-1;y._fullLayout._activeSelectionIndex=p,y._fullLayout._deactivateSelection=g,e(y)}}function g(y){if(v(y)){var p=y._fullLayout._activeSelectionIndex;p>=0&&(n(y),delete y._fullLayout._activeSelectionIndex,e(y))}}}),Cc=Ct((F,C)=>{function r(){var t,n=0,l=!1;function i(o,s){return t.list.push({type:o,data:s?JSON.parse(JSON.stringify(s)):void 0}),t}return t={list:[],segmentId:function(){return n++},checkIntersection:function(o,s){return i("check",{seg1:o,seg2:s})},segmentChop:function(o,s){return i("div_seg",{seg:o,pt:s}),i("chop",{seg:o,pt:s})},statusRemove:function(o){return i("pop_seg",{seg:o})},segmentUpdate:function(o){return i("seg_update",{seg:o})},segmentNew:function(o,s){return i("new_seg",{seg:o,primary:s})},segmentRemove:function(o){return i("rem_seg",{seg:o})},tempStatus:function(o,s,f){return i("temp_status",{seg:o,above:s,below:f})},rewind:function(o){return i("rewind",{seg:o})},status:function(o,s,f){return i("status",{seg:o,above:s,below:f})},vert:function(o){return o===l?t:(l=o,i("vert",{x:o}))},log:function(o){return typeof o!="string"&&(o=JSON.stringify(o,!1,"  ")),i("log",{txt:o})},reset:function(){return i("reset")},selected:function(o){return i("selected",{segs:o})},chainStart:function(o){return i("chain_start",{seg:o})},chainRemoveHead:function(o,s){return i("chain_rem_head",{index:o,pt:s})},chainRemoveTail:function(o,s){return i("chain_rem_tail",{index:o,pt:s})},chainNew:function(o,s){return i("chain_new",{pt1:o,pt2:s})},chainMatch:function(o){return i("chain_match",{index:o})},chainClose:function(o){return i("chain_close",{index:o})},chainAddHead:function(o,s){return i("chain_add_head",{index:o,pt:s})},chainAddTail:function(o,s){return i("chain_add_tail",{index:o,pt:s})},chainConnect:function(o,s){return i("chain_con",{index1:o,index2:s})},chainReverse:function(o){return i("chain_rev",{index:o})},chainJoin:function(o,s){return i("chain_join",{index1:o,index2:s})},done:function(){return i("done")}},t}C.exports=r}),Pc=Ct((F,C)=>{function r(t){typeof t!="number"&&(t=1e-10);var n={epsilon:function(l){return typeof l=="number"&&(t=l),t},pointAboveOrOnLine:function(l,i,o){var s=i[0],f=i[1],e=o[0],v=o[1],u=l[0],h=l[1];return(e-s)*(h-f)-(v-f)*(u-s)>=-t},pointBetween:function(l,i,o){var s=l[1]-i[1],f=o[0]-i[0],e=l[0]-i[0],v=o[1]-i[1],u=e*f+s*v;if(u<t)return!1;var h=f*f+v*v;return!(u-h>-t)},pointsSameX:function(l,i){return Math.abs(l[0]-i[0])<t},pointsSameY:function(l,i){return Math.abs(l[1]-i[1])<t},pointsSame:function(l,i){return n.pointsSameX(l,i)&&n.pointsSameY(l,i)},pointsCompare:function(l,i){return n.pointsSameX(l,i)?n.pointsSameY(l,i)?0:l[1]<i[1]?-1:1:l[0]<i[0]?-1:1},pointsCollinear:function(l,i,o){var s=l[0]-i[0],f=l[1]-i[1],e=i[0]-o[0],v=i[1]-o[1];return Math.abs(s*v-e*f)<t},linesIntersect:function(l,i,o,s){var f=i[0]-l[0],e=i[1]-l[1],v=s[0]-o[0],u=s[1]-o[1],h=f*u-e*v;if(Math.abs(h)<t)return!1;var _=l[0]-o[0],m=l[1]-o[1],g=(v*m-u*_)/h,y=(f*m-e*_)/h,p={alongA:0,alongB:0,pt:[l[0]+g*f,l[1]+g*e]};return g<=-t?p.alongA=-2:g<t?p.alongA=-1:g-1<=-t?p.alongA=0:g-1<t?p.alongA=1:p.alongA=2,y<=-t?p.alongB=-2:y<t?p.alongB=-1:y-1<=-t?p.alongB=0:y-1<t?p.alongB=1:p.alongB=2,p},pointInsideRegion:function(l,i){for(var o=l[0],s=l[1],f=i[i.length-1][0],e=i[i.length-1][1],v=!1,u=0;u<i.length;u++){var h=i[u][0],_=i[u][1];_-s>t!=e-s>t&&(f-h)*(s-_)/(e-_)+h-o>t&&(v=!v),f=h,e=_}return v}};return n}C.exports=r}),Ic=Ct((F,C)=>{var r={create:function(){var t={root:{root:!0,next:null},exists:function(n){return!(n===null||n===t.root)},isEmpty:function(){return t.root.next===null},getHead:function(){return t.root.next},insertBefore:function(n,l){for(var i=t.root,o=t.root.next;o!==null;){if(l(o)){n.prev=o.prev,n.next=o,o.prev.next=n,o.prev=n;return}i=o,o=o.next}i.next=n,n.prev=i,n.next=null},findTransition:function(n){for(var l=t.root,i=t.root.next;i!==null&&!n(i);)l=i,i=i.next;return{before:l===t.root?null:l,after:i,insert:function(o){return o.prev=l,o.next=i,l.next=o,i!==null&&(i.prev=o),o}}}};return t},node:function(t){return t.prev=null,t.next=null,t.remove=function(){t.prev.next=t.next,t.next&&(t.next.prev=t.prev),t.prev=null,t.next=null},t}};C.exports=r}),Fc=Ct((F,C)=>{var r=Ic();function t(n,l,i){function o(p,c){return{id:i?i.segmentId():-1,start:p,end:c,myFill:{above:null,below:null},otherFill:null}}function s(p,c,d){return{id:i?i.segmentId():-1,start:p,end:c,myFill:{above:d.myFill.above,below:d.myFill.below},otherFill:null}}var f=r.create();function e(p,c,d,b,w,k){var $=l.pointsCompare(c,w);return $!==0?$:l.pointsSame(d,k)?0:p!==b?p?1:-1:l.pointAboveOrOnLine(d,b?w:k,b?k:w)?1:-1}function v(p,c){f.insertBefore(p,function(d){var b=e(p.isStart,p.pt,c,d.isStart,d.pt,d.other.pt);return b<0})}function u(p,c){var d=r.node({isStart:!0,pt:p.start,seg:p,primary:c,other:null,status:null});return v(d,p.end),d}function h(p,c,d){var b=r.node({isStart:!1,pt:c.end,seg:c,primary:d,other:p,status:null});p.other=b,v(b,p.pt)}function _(p,c){var d=u(p,c);return h(d,p,c),d}function m(p,c){i&&i.segmentChop(p.seg,c),p.other.remove(),p.seg.end=c,p.other.pt=c,v(p.other,p.pt)}function g(p,c){var d=s(c,p.seg.end,p.seg);return m(p,c),_(d,p.primary)}function y(p,c){var d=r.create();function b(Z,D){var W=Z.seg.start,X=Z.seg.end,it=D.seg.start,nt=D.seg.end;return l.pointsCollinear(W,it,nt)?l.pointsCollinear(X,it,nt)||l.pointAboveOrOnLine(X,it,nt)?1:-1:l.pointAboveOrOnLine(W,it,nt)?1:-1}function w(Z){return d.findTransition(function(D){var W=b(Z,D.ev);return W>0})}function k(Z,D){var W=Z.seg,X=D.seg,it=W.start,nt=W.end,ot=X.start,dt=X.end;i&&i.checkIntersection(W,X);var ht=l.linesIntersect(it,nt,ot,dt);if(ht===!1){if(!l.pointsCollinear(it,nt,ot)||l.pointsSame(it,dt)||l.pointsSame(nt,ot))return!1;var xt=l.pointsSame(it,ot),H=l.pointsSame(nt,dt);if(xt&&H)return D;var Y=!xt&&l.pointBetween(it,ot,dt),A=!H&&l.pointBetween(nt,ot,dt);if(xt)return A?g(D,nt):g(Z,dt),D;Y&&(H||(A?g(D,nt):g(Z,dt)),g(D,it))}else ht.alongA===0&&(ht.alongB===-1?g(Z,ot):ht.alongB===0?g(Z,ht.pt):ht.alongB===1&&g(Z,dt)),ht.alongB===0&&(ht.alongA===-1?g(D,it):ht.alongA===0?g(D,ht.pt):ht.alongA===1&&g(D,nt));return!1}for(var $=[];!f.isEmpty();){var P=f.getHead();if(i&&i.vert(P.pt[0]),P.isStart){let Z=function(){if(T){var D=k(P,T);if(D)return D}return G?k(P,G):!1};i&&i.segmentNew(P.seg,P.primary);var O=w(P),T=O.before?O.before.ev:null,G=O.after?O.after.ev:null;i&&i.tempStatus(P.seg,T?T.seg:!1,G?G.seg:!1);var I=Z();if(I){if(n){var E;P.seg.myFill.below===null?E=!0:E=P.seg.myFill.above!==P.seg.myFill.below,E&&(I.seg.myFill.above=!I.seg.myFill.above)}else I.seg.otherFill=P.seg.myFill;i&&i.segmentUpdate(I.seg),P.other.remove(),P.remove()}if(f.getHead()!==P){i&&i.rewind(P.seg);continue}if(n){var E;P.seg.myFill.below===null?E=!0:E=P.seg.myFill.above!==P.seg.myFill.below,G?P.seg.myFill.below=G.seg.myFill.above:P.seg.myFill.below=p,E?P.seg.myFill.above=!P.seg.myFill.below:P.seg.myFill.above=P.seg.myFill.below}else if(P.seg.otherFill===null){var z;G?P.primary===G.primary?z=G.seg.otherFill.above:z=G.seg.myFill.above:z=P.primary?c:p,P.seg.otherFill={above:z,below:z}}i&&i.status(P.seg,T?T.seg:!1,G?G.seg:!1),P.other.status=O.insert(r.node({ev:P}))}else{var j=P.status;if(j===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(d.exists(j.prev)&&d.exists(j.next)&&k(j.prev.ev,j.next.ev),i&&i.statusRemove(j.ev.seg),j.remove(),!P.primary){var U=P.seg.myFill;P.seg.myFill=P.seg.otherFill,P.seg.otherFill=U}$.push(P.seg)}f.getHead().remove()}return i&&i.done(),$}return n?{addRegion:function(p){for(var c,d=p[p.length-1],b=0;b<p.length;b++){c=d,d=p[b];var w=l.pointsCompare(c,d);w!==0&&_(o(w<0?c:d,w<0?d:c),!0)}},calculate:function(p){return y(p,!1)}}:{calculate:function(p,c,d,b){return p.forEach(function(w){_(s(w.start,w.end,w),!0)}),d.forEach(function(w){_(s(w.start,w.end,w),!1)}),y(c,b)}}}C.exports=t}),Nc=Ct((F,C)=>{function r(t,n,l){var i=[],o=[];return t.forEach(function(s){var f=s.start,e=s.end;if(n.pointsSame(f,e)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}l&&l.chainStart(s);var v={index:0,matches_head:!1,matches_pt1:!1},u={index:0,matches_head:!1,matches_pt1:!1},h=v;function _(z,j,U){return h.index=z,h.matches_head=j,h.matches_pt1=U,h===v?(h=u,!1):(h=null,!0)}for(var m=0;m<i.length;m++){var g=i[m],y=g[0];g[1];var p=g[g.length-1];if(g[g.length-2],n.pointsSame(y,f)){if(_(m,!0,!0))break}else if(n.pointsSame(y,e)){if(_(m,!0,!1))break}else if(n.pointsSame(p,f)){if(_(m,!1,!0))break}else if(n.pointsSame(p,e)&&_(m,!1,!1))break}if(h===v){i.push([f,e]),l&&l.chainNew(f,e);return}if(h===u){l&&l.chainMatch(v.index);var c=v.index,d=v.matches_pt1?e:f,b=v.matches_head,g=i[c],w=b?g[0]:g[g.length-1],k=b?g[1]:g[g.length-2],$=b?g[g.length-1]:g[0],P=b?g[g.length-2]:g[1];if(n.pointsCollinear(k,w,d)&&(b?(l&&l.chainRemoveHead(v.index,d),g.shift()):(l&&l.chainRemoveTail(v.index,d),g.pop()),w=k),n.pointsSame($,d)){i.splice(c,1),n.pointsCollinear(P,$,w)&&(b?(l&&l.chainRemoveTail(v.index,w),g.pop()):(l&&l.chainRemoveHead(v.index,w),g.shift())),l&&l.chainClose(v.index),o.push(g);return}b?(l&&l.chainAddHead(v.index,d),g.unshift(d)):(l&&l.chainAddTail(v.index,d),g.push(d));return}function O(z){l&&l.chainReverse(z),i[z].reverse()}function T(z,j){var U=i[z],Z=i[j],D=U[U.length-1],W=U[U.length-2],X=Z[0],it=Z[1];n.pointsCollinear(W,D,X)&&(l&&l.chainRemoveTail(z,D),U.pop(),D=W),n.pointsCollinear(D,X,it)&&(l&&l.chainRemoveHead(j,X),Z.shift()),l&&l.chainJoin(z,j),i[z]=U.concat(Z),i.splice(j,1)}var G=v.index,I=u.index;l&&l.chainConnect(G,I);var E=i[G].length<i[I].length;v.matches_head?u.matches_head?E?(O(G),T(G,I)):(O(I),T(I,G)):T(I,G):u.matches_head?T(G,I):E?(O(G),T(I,G)):(O(I),T(G,I))}),o}C.exports=r}),zc=Ct((F,C)=>{function r(n,l,i){var o=[];return n.forEach(function(s){var f=(s.myFill.above?8:0)+(s.myFill.below?4:0)+(s.otherFill&&s.otherFill.above?2:0)+(s.otherFill&&s.otherFill.below?1:0);l[f]!==0&&o.push({id:i?i.segmentId():-1,start:s.start,end:s.end,myFill:{above:l[f]===1,below:l[f]===2},otherFill:null})}),i&&i.selected(o),o}var t={union:function(n,l){return r(n,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],l)},intersect:function(n,l){return r(n,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],l)},difference:function(n,l){return r(n,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],l)},differenceRev:function(n,l){return r(n,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],l)},xor:function(n,l){return r(n,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],l)}};C.exports=t}),Rc=Ct((F,C)=>{var r={toPolygon:function(t,n){function l(s){if(s.length<=0)return t.segments({inverted:!1,regions:[]});function f(u){var h=u.slice(0,u.length-1);return t.segments({inverted:!1,regions:[h]})}for(var e=f(s[0]),v=1;v<s.length;v++)e=t.selectDifference(t.combine(e,f(s[v])));return e}if(n.type==="Polygon")return t.polygon(l(n.coordinates));if(n.type==="MultiPolygon"){for(var i=t.segments({inverted:!1,regions:[]}),o=0;o<n.coordinates.length;o++)i=t.selectUnion(t.combine(i,l(n.coordinates[o])));return t.polygon(i)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(t,n,l){l=t.polygon(t.segments(l));function i(g,y){return n.pointInsideRegion([(g[0][0]+g[1][0])*.5,(g[0][1]+g[1][1])*.5],y)}function o(g){return{region:g,children:[]}}var s=o(null);function f(g,y){for(var p=0;p<g.children.length;p++){var c=g.children[p];if(i(y,c.region)){f(c,y);return}}for(var d=o(y),p=0;p<g.children.length;p++){var c=g.children[p];i(c.region,y)&&(d.children.push(c),g.children.splice(p,1),p--)}g.children.push(d)}for(var e=0;e<l.regions.length;e++){var v=l.regions[e];v.length<3||f(s,v)}function u(g,y){for(var p=0,c=g[g.length-1][0],d=g[g.length-1][1],b=[],w=0;w<g.length;w++){var k=g[w][0],$=g[w][1];b.push([k,$]),p+=$*c-k*d,c=k,d=$}var P=p<0;return P!==y&&b.reverse(),b.push([b[0][0],b[0][1]]),b}var h=[];function _(g){var y=[u(g.region,!1)];h.push(y);for(var p=0;p<g.children.length;p++)y.push(m(g.children[p]))}function m(g){for(var y=0;y<g.children.length;y++)_(g.children[y]);return u(g.region,!0)}for(var e=0;e<s.children.length;e++)_(s.children[e]);return h.length<=0?{type:"Polygon",coordinates:[]}:h.length==1?{type:"Polygon",coordinates:h[0]}:{type:"MultiPolygon",coordinates:h}}};C.exports=r}),Ec=Ct((F,C)=>{var r=Cc(),t=Pc(),n=Fc(),l=Nc(),i=zc(),o=Rc(),s=!1,f=t(),e;e={buildLog:function(u){return u===!0?s=r():u===!1&&(s=!1),s===!1?!1:s.list},epsilon:function(u){return f.epsilon(u)},segments:function(u){var h=n(!0,f,s);return u.regions.forEach(h.addRegion),{segments:h.calculate(u.inverted),inverted:u.inverted}},combine:function(u,h){var _=n(!1,f,s);return{combined:_.calculate(u.segments,u.inverted,h.segments,h.inverted),inverted1:u.inverted,inverted2:h.inverted}},selectUnion:function(u){return{segments:i.union(u.combined,s),inverted:u.inverted1||u.inverted2}},selectIntersect:function(u){return{segments:i.intersect(u.combined,s),inverted:u.inverted1&&u.inverted2}},selectDifference:function(u){return{segments:i.difference(u.combined,s),inverted:u.inverted1&&!u.inverted2}},selectDifferenceRev:function(u){return{segments:i.differenceRev(u.combined,s),inverted:!u.inverted1&&u.inverted2}},selectXor:function(u){return{segments:i.xor(u.combined,s),inverted:u.inverted1!==u.inverted2}},polygon:function(u){return{regions:l(u.segments,f,s),inverted:u.inverted}},polygonFromGeoJSON:function(u){return o.toPolygon(e,u)},polygonToGeoJSON:function(u){return o.fromPolygon(e,f,u)},union:function(u,h){return v(u,h,e.selectUnion)},intersect:function(u,h){return v(u,h,e.selectIntersect)},difference:function(u,h){return v(u,h,e.selectDifference)},differenceRev:function(u,h){return v(u,h,e.selectDifferenceRev)},xor:function(u,h){return v(u,h,e.selectXor)}};function v(u,h,_){var m=e.segments(u),g=e.segments(h),y=e.combine(m,g),p=_(y);return e.polygon(p)}typeof window=="object"&&(window.PolyBool=e),C.exports=e}),jc=Ct((F,C)=>{C.exports=function(r,t,n,l){var i=r[0],o=r[1],s=!1;n===void 0&&(n=0),l===void 0&&(l=t.length);for(var f=l-n,e=0,v=f-1;e<f;v=e++){var u=t[e+n][0],h=t[e+n][1],_=t[v+n][0],m=t[v+n][1],g=h>o!=m>o&&i<(_-u)*(o-h)/(m-h)+u;g&&(s=!s)}return s}}),Tl=Ct((F,C)=>{var r=Si().dot,t=oa().BADNUM,n=C.exports={};n.tester=function(l){var i=l.slice(),o=i[0][0],s=o,f=i[0][1],e=f,v;for((i[i.length-1][0]!==i[0][0]||i[i.length-1][1]!==i[0][1])&&i.push(i[0]),v=1;v<i.length;v++)o=Math.min(o,i[v][0]),s=Math.max(s,i[v][0]),f=Math.min(f,i[v][1]),e=Math.max(e,i[v][1]);var u=!1,h;i.length===5&&(i[0][0]===i[1][0]?i[2][0]===i[3][0]&&i[0][1]===i[3][1]&&i[1][1]===i[2][1]&&(u=!0,h=function(p){return p[0]===i[0][0]}):i[0][1]===i[1][1]&&i[2][1]===i[3][1]&&i[0][0]===i[3][0]&&i[1][0]===i[2][0]&&(u=!0,h=function(p){return p[1]===i[0][1]}));function _(p,c){var d=p[0],b=p[1];return!(d===t||d<o||d>s||b===t||b<f||b>e||c&&h(p))}function m(p,c){var d=p[0],b=p[1];if(d===t||d<o||d>s||b===t||b<f||b>e)return!1;var w=i.length,k=i[0][0],$=i[0][1],P=0,O,T,G,I,E;for(O=1;O<w;O++)if(T=k,G=$,k=i[O][0],$=i[O][1],I=Math.min(T,k),!(d<I||d>Math.max(T,k)||b>Math.max(G,$)))if(b<Math.min(G,$))d!==I&&P++;else{if(k===T?E=b:E=G+(d-T)*($-G)/(k-T),b===E)return!(O===1&&c);b<=E&&d!==I&&P++}return P%2===1}var g=!0,y=i[0];for(v=1;v<i.length;v++)if(y[0]!==i[v][0]||y[1]!==i[v][1]){g=!1;break}return{xmin:o,xmax:s,ymin:f,ymax:e,pts:i,contains:u?_:m,isRect:u,degenerate:g}},n.isSegmentBent=function(l,i,o,s){var f=l[i],e=[l[o][0]-f[0],l[o][1]-f[1]],v=r(e,e),u=Math.sqrt(v),h=[-e[1]/u,e[0]/u],_,m,g;for(_=i+1;_<o;_++)if(m=[l[_][0]-f[0],l[_][1]-f[1]],g=r(m,e),g<0||g>v||Math.abs(r(m,h))>s)return!0;return!1},n.filter=function(l,i){var o=[l[0]],s=0,f=0;function e(u){l.push(u);var h=o.length,_=s;o.splice(f+1);for(var m=_+1;m<l.length;m++)(m===l.length-1||n.isSegmentBent(l,_,m+1,i))&&(o.push(l[m]),o.length<h-2&&(s=m,f=o.length-1),_=m)}if(l.length>1){var v=l.pop();e(v)}return{addPt:e,raw:l,filtered:o}}}),Hc=Ct((F,C)=>{C.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}}),Bc=Ct((F,C)=>{var r=Ec(),t=jc(),n=un(),l=zn().dashStyle,i=bn(),o=tr(),s=Ka().makeEventData,f=Er(),e=f.freeMode,v=f.rectMode,u=f.drawMode,h=f.openMode,_=f.selectMode,m=pr(),g=Qr(),y=Wi(),p=fr().clearOutline,c=hr(),d=c.handleEllipse,b=c.readPaths,w=Gi().newShapes,k=gl(),$=Ml().activateLastSelection,P=De(),O=P.sorterAsc,T=Tl(),G=Ci(),I=sa().getFromId,E=Vi(),z=Xi().redrawReglTraces,j=Hc(),U=j.MINSELECT,Z=T.filter,D=T.tester,W=Zi(),X=W.p2r,it=W.axValue,nt=W.getTransform;function ot(mt){return mt.subplot!==void 0}function dt(mt,Lt,At,Q,ft){var yt=!ot(Q),gt=e(ft),It=v(ft),Mt=h(ft),Jt=u(ft),qt=_(ft),le=ft==="drawline",Et=ft==="drawcircle",re=le||Et,se=Q.gd,he=se._fullLayout,Se=qt&&he.newselection.mode==="immediate"&&yt,je=he._zoomlayer,Ge=Q.element.getBoundingClientRect(),Ce=Q.plotinfo,Ne=nt(Ce),Le=Lt-Ge.left,Oe=At-Ge.top;he._calcInverseTransform(se);var Ve=P.apply3DTransform(he._invTransform)(Le,Oe);Le=Ve[0],Oe=Ve[1];var Re=he._invScaleX,Be=he._invScaleY,Fe=Le,ke=Oe,Ye="M"+Le+","+Oe,Qe=Q.xaxes[0],ln=Q.yaxes[0],He=Qe._length,an=ln._length,on=mt.altKey&&!(u(ft)&&Mt),vn,$e,fn,tt,K,Vt,jt;J(mt,se,Q),gt&&(vn=Z([[Le,Oe]],j.BENDPX));var Dt=je.selectAll("path.select-outline-"+Ce.id).data([1]),Pt=Jt?he.newshape:he.newselection;Jt&&(Q.hasText=Pt.label.text||Pt.label.texttemplate);var Ht=Jt&&!Mt?Pt.fillcolor:"rgba(0,0,0,0)",Kt=Pt.line.color||(yt?i.contrast(se._fullLayout.plot_bgcolor):"#7f7f7f");Dt.enter().append("path").attr("class","select-outline select-outline-"+Ce.id).style({opacity:Jt?Pt.opacity/2:1,"stroke-dasharray":l(Pt.line.dash,Pt.line.width),"stroke-width":Pt.line.width+"px","shape-rendering":"crispEdges"}).call(i.stroke,Kt).call(i.fill,Ht).attr("fill-rule","evenodd").classed("cursor-move",!!Jt).attr("transform",Ne).attr("d",Ye+"Z");var zt=je.append("path").attr("class","zoombox-corners").style({fill:i.background,stroke:i.defaultLine,"stroke-width":1}).attr("transform",Ne).attr("d","M0,0Z");if(Jt&&Q.hasText){var Ut=je.select(".label-temp");Ut.empty()&&(Ut=je.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var ne=he._uid+j.SELECTID,Wt=[],ge=R(se,Q.xaxes,Q.yaxes,Q.subplot);Se&&!mt.shiftKey&&(Q._clearSubplotSelections=function(){if(yt){var Te=Qe._id,Ae=ln._id;Yt(se,Te,Ae,ge);for(var ze=(se.layout||{}).selections||[],Ee=[],Je=!1,Pe=0;Pe<ze.length;Pe++){var Ke=he.selections[Pe];!Ke||Ke.xref!==Te||Ke.yref!==Ae?Ee.push(ze[Pe]):Je=!0}Je&&(se._fullLayout._noEmitSelectedAtStart=!0,n.call("_guiRelayout",se,{selections:Ee}))}});var ye=me(Q);Q.moveFn=function(Te,Ae){Q._clearSubplotSelections&&(Q._clearSubplotSelections(),Q._clearSubplotSelections=void 0),Fe=Math.max(0,Math.min(He,Re*Te+Le)),ke=Math.max(0,Math.min(an,Be*Ae+Oe));var ze=Math.abs(Fe-Le),Ee=Math.abs(ke-Oe);if(It){var Je,Pe,Ke;if(qt){var nn=he.selectdirection;switch(nn==="any"?Ee<Math.min(ze*.6,U)?Je="h":ze<Math.min(Ee*.6,U)?Je="v":Je="d":Je=nn,Je){case"h":Pe=Et?an/2:0,Ke=an;break;case"v":Pe=Et?He/2:0,Ke=He;break}}if(Jt)switch(he.newshape.drawdirection){case"vertical":Je="h",Pe=Et?an/2:0,Ke=an;break;case"horizontal":Je="v",Pe=Et?He/2:0,Ke=He;break;case"ortho":ze<Ee?(Je="h",Pe=Oe,Ke=ke):(Je="v",Pe=Le,Ke=Fe);break;default:Je="d"}Je==="h"?(tt=re?d(Et,[Fe,Pe],[Fe,Ke]):[[Le,Pe],[Le,Ke],[Fe,Ke],[Fe,Pe]],tt.xmin=re?Fe:Math.min(Le,Fe),tt.xmax=re?Fe:Math.max(Le,Fe),tt.ymin=Math.min(Pe,Ke),tt.ymax=Math.max(Pe,Ke),zt.attr("d","M"+tt.xmin+","+(Oe-U)+"h-4v"+2*U+"h4ZM"+(tt.xmax-1)+","+(Oe-U)+"h4v"+2*U+"h-4Z")):Je==="v"?(tt=re?d(Et,[Pe,ke],[Ke,ke]):[[Pe,Oe],[Pe,ke],[Ke,ke],[Ke,Oe]],tt.xmin=Math.min(Pe,Ke),tt.xmax=Math.max(Pe,Ke),tt.ymin=re?ke:Math.min(Oe,ke),tt.ymax=re?ke:Math.max(Oe,ke),zt.attr("d","M"+(Le-U)+","+tt.ymin+"v-4h"+2*U+"v4ZM"+(Le-U)+","+(tt.ymax-1)+"v4h"+2*U+"v-4Z")):Je==="d"&&(tt=re?d(Et,[Le,Oe],[Fe,ke]):[[Le,Oe],[Le,ke],[Fe,ke],[Fe,Oe]],tt.xmin=Math.min(Le,Fe),tt.xmax=Math.max(Le,Fe),tt.ymin=Math.min(Oe,ke),tt.ymax=Math.max(Oe,ke),zt.attr("d","M0,0Z"))}else gt&&(vn.addPt([Fe,ke]),tt=vn.filtered);if(Q.selectionDefs&&Q.selectionDefs.length?(fn=Bt(Q.mergedPolygons,tt,on),tt.subtract=on,$e=A(Q.selectionDefs.concat([tt]))):(fn=[tt],$e=D(tt)),y(pt(fn,Mt),Dt,Q),qt){var mn=lt(se,!1),gn=mn.eventData?mn.eventData.points.slice():[];mn=lt(se,!1,$e,ge,Q),$e=mn.selectionTesters,jt=mn.eventData;var pn;vn?pn=vn.filtered:pn=ie(fn),G.throttle(ne,j.SELECTDELAY,function(){Wt=bt($e,ge);for(var xn=Wt.slice(),Sn=0;Sn<gn.length;Sn++){for(var jn=gn[Sn],ta=!1,Ue=0;Ue<xn.length;Ue++)if(xn[Ue].curveNumber===jn.curveNumber&&xn[Ue].pointNumber===jn.pointNumber){ta=!0;break}ta||xn.push(jn)}xn.length&&(jt||(jt={}),jt.points=xn),ye(jt,pn),we(se,jt)})}},Q.clickFn=function(Te,Ae){if(zt.remove(),se._fullLayout._activeShapeIndex>=0){se._fullLayout._deactivateShape(se);return}if(!Jt){var ze=he.clickmode;G.done(ne).then(function(){if(G.clear(ne),Te===2){for(Dt.remove(),K=0;K<ge.length;K++)Vt=ge[K],Vt._module.selectPoints(Vt,!1);if(Ft(se,ge),M(Q),Me(se),ge.length){var Ee=ge[0].xaxis,Je=ge[0].yaxis;if(Ee&&Je){for(var Pe=[],Ke=se._fullLayout.selections,nn=0;nn<Ke.length;nn++){var mn=Ke[nn];mn&&(mn.xref!==Ee._id||mn.yref!==Je._id)&&Pe.push(mn)}Pe.length<Ke.length&&(se._fullLayout._noEmitSelectedAtStart=!0,n.call("_guiRelayout",se,{selections:Pe}))}}}else ze.indexOf("select")>-1&&ht(Ae,se,Q.xaxes,Q.yaxes,Q.subplot,Q,Dt),ze==="event"&&ve(se,void 0);o.click(se,Ae,Ce.id)}).catch(P.error)}},Q.doneFn=function(){zt.remove(),G.done(ne).then(function(){G.clear(ne),!Se&&tt&&Q.selectionDefs&&(tt.subtract=on,Q.selectionDefs.push(tt),Q.mergedPolygons.length=0,[].push.apply(Q.mergedPolygons,fn)),(Se||Jt)&&M(Q,Se),Q.doneFnCompleted&&Q.doneFnCompleted(Wt),qt&&ve(se,jt)}).catch(P.error)}}function ht(mt,Lt,At,Q,ft,yt,gt){var It=Lt._hoverdata,Mt=Lt._fullLayout,Jt=Mt.clickmode,qt=Jt.indexOf("event")>-1,le=[],Et,re,se,he,Se,je,Ge,Ce,Ne,Le;if(rt(It)){J(mt,Lt,yt),Et=R(Lt,At,Q,ft);var Oe=st(It,Et),Ve=Oe.pointNumbers.length>0;if(Ve?_t(Et,Oe):Tt(Et)&&(Ge=ut(Oe))){for(gt&&gt.remove(),Le=0;Le<Et.length;Le++)re=Et[Le],re._module.selectPoints(re,!1);Ft(Lt,Et),M(yt),qt&&Me(Lt)}else{Ce=mt.shiftKey&&(Ge!==void 0?Ge:ut(Oe)),se=xt(Oe.pointNumber,Oe.searchInfo,Ce);var Re=yt.selectionDefs.concat([se]);for(he=A(Re),Le=0;Le<Et.length;Le++)if(Se=Et[Le]._module.selectPoints(Et[Le],he),je=Rt(Se,Et[Le]),le.length)for(var Be=0;Be<je.length;Be++)le.push(je[Be]);else le=je;if(Ne={points:le},Ft(Lt,Et,Ne),se&&yt&&yt.selectionDefs.push(se),gt){var Fe=yt.mergedPolygons,ke=h(yt.dragmode);y(pt(Fe,ke),gt,yt)}qt&&ve(Lt,Ne)}}}function xt(mt,Lt,At){return{pointNumber:mt,searchInfo:Lt,subtract:!!At}}function H(mt){return"pointNumber"in mt&&"searchInfo"in mt}function Y(mt){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(Lt,At,Q,ft){var yt=mt.searchInfo.cd[0].trace.index,gt=ft.cd[0].trace.index;return gt===yt&&Q===mt.pointNumber},isRect:!1,degenerate:!1,subtract:!!mt.subtract}}function A(mt){if(!mt.length)return;for(var Lt=[],At=H(mt[0])?0:mt[0][0][0],Q=At,ft=H(mt[0])?0:mt[0][0][1],yt=ft,gt=0;gt<mt.length;gt++)if(H(mt[gt]))Lt.push(Y(mt[gt]));else{var It=D(mt[gt]);It.subtract=!!mt[gt].subtract,Lt.push(It),At=Math.min(At,It.xmin),Q=Math.max(Q,It.xmax),ft=Math.min(ft,It.ymin),yt=Math.max(yt,It.ymax)}function Mt(Jt,qt,le,Et){for(var re=!1,se=0;se<Lt.length;se++)Lt[se].contains(Jt,qt,le,Et)&&(re=!Lt[se].subtract);return re}return{xmin:At,xmax:Q,ymin:ft,ymax:yt,pts:[],contains:Mt,isRect:!1,degenerate:!1}}function J(mt,Lt,At){var Q=Lt._fullLayout,ft=At.plotinfo,yt=At.dragmode,gt=Q._lastSelectedSubplot&&Q._lastSelectedSubplot===ft.id,It=(mt.shiftKey||mt.altKey)&&!(u(yt)&&h(yt));gt&&It&&ft.selection&&ft.selection.selectionDefs&&!At.selectionDefs?(At.selectionDefs=ft.selection.selectionDefs,At.mergedPolygons=ft.selection.mergedPolygons):(!It||!ft.selection)&&M(At),gt||(p(Lt),Q._lastSelectedSubplot=ft.id)}function at(mt){return mt._fullLayout._activeShapeIndex>=0}function N(mt){return mt._fullLayout._activeSelectionIndex>=0}function M(mt,Lt){var At=mt.dragmode,Q=mt.plotinfo,ft=mt.gd;at(ft)&&ft._fullLayout._deactivateShape(ft),N(ft)&&ft._fullLayout._deactivateSelection(ft);var yt=ft._fullLayout,gt=yt._zoomlayer,It=u(At),Mt=_(At);if(It||Mt){var Jt=gt.selectAll(".select-outline-"+Q.id);if(Jt&&ft._fullLayout._outlining){var qt;It&&(qt=w(Jt,mt)),qt&&n.call("_guiRelayout",ft,{shapes:qt});var le;Mt&&!ot(mt)&&(le=k(Jt,mt)),le&&(ft._fullLayout._noEmitSelectedAtStart=!0,n.call("_guiRelayout",ft,{selections:le}).then(function(){Lt&&$(ft)})),ft._fullLayout._outlining=!1}}Q.selection={},Q.selection.selectionDefs=mt.selectionDefs=[],Q.selection.mergedPolygons=mt.mergedPolygons=[]}function S(mt){return mt._id}function R(mt,Lt,At,Q){if(!mt.calcdata)return[];var ft=[],yt=Lt.map(S),gt=At.map(S),It,Mt,Jt;for(Jt=0;Jt<mt.calcdata.length;Jt++)if(It=mt.calcdata[Jt],Mt=It[0].trace,!(Mt.visible!==!0||!Mt._module||!Mt._module.selectPoints))if(ot({subplot:Q})&&(Mt.subplot===Q||Mt.geo===Q))ft.push(V(Mt._module,It,Lt[0],At[0]));else if(Mt.type==="splom"){if(Mt._xaxes[yt[0]]&&Mt._yaxes[gt[0]]){var qt=V(Mt._module,It,Lt[0],At[0]);qt.scene=mt._fullLayout._splomScenes[Mt.uid],ft.push(qt)}}else if(Mt.type==="sankey"){var le=V(Mt._module,It,Lt[0],At[0]);ft.push(le)}else{if(yt.indexOf(Mt.xaxis)===-1&&(!Mt._xA||!Mt._xA.overlaying)||gt.indexOf(Mt.yaxis)===-1&&(!Mt._yA||!Mt._yA.overlaying))continue;ft.push(V(Mt._module,It,I(mt,Mt.xaxis),I(mt,Mt.yaxis)))}return ft}function V(mt,Lt,At,Q){return{_module:mt,cd:Lt,xaxis:At,yaxis:Q}}function rt(mt){return mt&&Array.isArray(mt)&&mt[0].hoverOnBox!==!0}function st(mt,Lt){var At=mt[0],Q=-1,ft=[],yt,gt;for(gt=0;gt<Lt.length;gt++)if(yt=Lt[gt],At.fullData.index===yt.cd[0].trace.index){if(At.hoverOnBox===!0)break;At.pointNumber!==void 0?Q=At.pointNumber:At.binNumber!==void 0&&(Q=At.binNumber,ft=At.pointNumbers);break}return{pointNumber:Q,pointNumbers:ft,searchInfo:yt}}function ut(mt){var Lt=mt.searchInfo.cd[0].trace,At=mt.pointNumber,Q=mt.pointNumbers,ft=Q.length>0,yt=ft?Q[0]:At;return Lt.selectedpoints?Lt.selectedpoints.indexOf(yt)>-1:!1}function _t(mt,Lt){var At=[],Q,ft,yt,gt;for(gt=0;gt<mt.length;gt++)Q=mt[gt],Q.cd[0].trace.selectedpoints&&Q.cd[0].trace.selectedpoints.length>0&&At.push(Q);if(At.length===1&&(yt=At[0]===Lt.searchInfo,yt&&(ft=Lt.searchInfo.cd[0].trace,ft.selectedpoints.length===Lt.pointNumbers.length))){for(gt=0;gt<Lt.pointNumbers.length;gt++)if(ft.selectedpoints.indexOf(Lt.pointNumbers[gt])<0)return!1;return!0}return!1}function Tt(mt){var Lt=0,At,Q,ft;for(ft=0;ft<mt.length;ft++)if(At=mt[ft],Q=At.cd[0].trace,Q.selectedpoints&&(Q.selectedpoints.length>1||(Lt+=Q.selectedpoints.length,Lt>1)))return!1;return Lt===1}function Ft(mt,Lt,At){var Q;for(Q=0;Q<Lt.length;Q++){var ft=Lt[Q].cd[0].trace._fullInput,yt=mt._fullLayout._tracePreGUI[ft.uid]||{};yt.selectedpoints===void 0&&(yt.selectedpoints=ft._input.selectedpoints||null)}var gt;if(At){var It=At.points||[];for(Q=0;Q<Lt.length;Q++)gt=Lt[Q].cd[0].trace,gt._input.selectedpoints=gt._fullInput.selectedpoints=[],gt._fullInput!==gt&&(gt.selectedpoints=[]);for(var Mt=0;Mt<It.length;Mt++){var Jt=It[Mt],qt=Jt.data,le=Jt.fullData,Et=Jt.pointIndex,re=Jt.pointIndices;re?([].push.apply(qt.selectedpoints,re),gt._fullInput!==gt&&[].push.apply(le.selectedpoints,re)):(qt.selectedpoints.push(Et),gt._fullInput!==gt&&le.selectedpoints.push(Et))}}else for(Q=0;Q<Lt.length;Q++)gt=Lt[Q].cd[0].trace,delete gt.selectedpoints,delete gt._input.selectedpoints,gt._fullInput!==gt&&delete gt._fullInput.selectedpoints;Zt(mt,Lt)}function Zt(mt,Lt){for(var At=!1,Q=0;Q<Lt.length;Q++){var ft=Lt[Q],yt=ft.cd;n.traceIs(yt[0].trace,"regl")&&(At=!0);var gt=ft._module,It=gt.styleOnSelect||gt.style;It&&(It(mt,yt,yt[0].node3),yt[0].nodeRangePlot3&&It(mt,yt,yt[0].nodeRangePlot3))}At&&(E(mt),z(mt))}function Bt(mt,Lt,At){for(var Q=At?r.difference:r.union,ft=Q({regions:mt},{regions:[Lt]}),yt=ft.regions.reverse(),gt=0;gt<yt.length;gt++){var It=yt[gt];It.subtract=ae(It,yt.slice(0,gt))}return yt}function Rt(mt,Lt){if(Array.isArray(mt))for(var At=Lt.cd,Q=Lt.cd[0].trace,ft=0;ft<mt.length;ft++)mt[ft]=s(mt[ft],Q,At);return mt}function pt(mt,Lt){for(var At=[],Q=0;Q<mt.length;Q++){At[Q]=[];for(var ft=0;ft<mt[Q].length;ft++){At[Q][ft]=[],At[Q][ft][0]=ft?"L":"M";for(var yt=0;yt<mt[Q][ft].length;yt++)At[Q][ft].push(mt[Q][ft][yt])}Lt||At[Q].push(["Z",At[Q][0][1],At[Q][0][2]])}return At}function bt(mt,Lt){for(var At=[],Q,ft=[],yt,gt=0;gt<Lt.length;gt++){var It=Lt[gt];yt=It._module.selectPoints(It,mt),ft.push(yt),Q=Rt(yt,It),At=At.concat(Q)}return At}function lt(mt,Lt,At,Q,ft){var yt=!!Q,gt,It,Mt;ft&&(gt=ft.plotinfo,It=ft.xaxes[0]._id,Mt=ft.yaxes[0]._id);var Jt=[],qt=[],le=Xt(mt),Et=mt._fullLayout;if(gt){var re=Et._zoomlayer,se=Et.dragmode,he=u(se),Se=_(se);if(he||Se){var je=I(mt,It,"x"),Ge=I(mt,Mt,"y");if(je&&Ge){var Ce=re.selectAll(".select-outline-"+gt.id);if(Ce&&mt._fullLayout._outlining&&Ce.length){for(var Ne=Ce[0][0],Le=Ne.getAttribute("d"),Oe=b(Le,mt,gt),Ve=[],Re=0;Re<Oe.length;Re++){for(var Be=Oe[Re],Fe=[],ke=0;ke<Be.length;ke++)Fe.push([oe(je,Be[ke][1]),oe(Ge,Be[ke][2])]);Fe.xref=It,Fe.yref=Mt,Fe.subtract=ae(Fe,Ve),Ve.push(Fe)}le=le.concat(Ve)}}}}var Ye=It&&Mt?[It+Mt]:Et._subplots.cartesian;kt(mt);for(var Qe={},ln=0;ln<Ye.length;ln++){var He=Ye[ln],an=He.indexOf("y"),on=He.slice(0,an),vn=He.slice(an),$e=It&&Mt?At:void 0;if($e=ee(le,on,vn,$e),$e){var fn=Q;if(!yt){var tt=I(mt,on,"x"),K=I(mt,vn,"y");fn=R(mt,[tt],[K],He);for(var Vt=0;Vt<fn.length;Vt++){var jt=fn[Vt],Dt=jt.cd[0],Pt=Dt.trace;if(jt._module.name==="scattergl"&&!Dt.t.xpx){var Ht=Pt.x,Kt=Pt.y,zt=Pt._length;Dt.t.xpx=[],Dt.t.ypx=[];for(var Ut=0;Ut<zt;Ut++)Dt.t.xpx[Ut]=tt.c2p(Ht[Ut]),Dt.t.ypx[Ut]=K.c2p(Kt[Ut])}jt._module.name==="splom"&&(Qe[Pt.uid]||(Qe[Pt.uid]=!0))}}var ne=bt($e,fn);Jt=Jt.concat(ne),qt=qt.concat(fn)}}var Wt={points:Jt};Ft(mt,qt,Wt);var ge=Et.clickmode,ye=ge.indexOf("event")>-1&&Lt;if(!gt&&Lt){var Te=Xt(mt,!0);if(Te.length){var Ae=Te[0].xref,ze=Te[0].yref;if(Ae&&ze){var Ee=ie(Te),Je=$t([I(mt,Ae,"x"),I(mt,ze,"y")]);Je(Wt,Ee)}}mt._fullLayout._noEmitSelectedAtStart?mt._fullLayout._noEmitSelectedAtStart=!1:ye&&ve(mt,Wt),Et._reselect=!1}if(!gt&&Et._deselect){var Pe=Et._deselect;It=Pe.xref,Mt=Pe.yref,Nt(It,Mt,qt)||Yt(mt,It,Mt,Q),ye&&(Wt.points.length?ve(mt,Wt):Me(mt)),Et._deselect=!1}return{eventData:Wt,selectionTesters:At}}function kt(mt){var Lt=mt.calcdata;if(Lt)for(var At=0;At<Lt.length;At++){var Q=Lt[At][0],ft=Q.trace,yt=mt._fullLayout._splomScenes;if(yt){var gt=yt[ft.uid];gt&&(gt.selectBatch=[])}}}function Nt(mt,Lt,At){for(var Q=0;Q<At.length;Q++){var ft=At[Q];if(ft.xaxis&&ft.xaxis._id===mt&&ft.yaxis&&ft.yaxis._id===Lt)return!0}return!1}function Yt(mt,Lt,At,Q){Q=R(mt,[I(mt,Lt,"x")],[I(mt,At,"y")],Lt+At);for(var ft=0;ft<Q.length;ft++){var yt=Q[ft];yt._module.selectPoints(yt,!1)}Ft(mt,Q)}function ee(mt,Lt,At,Q){for(var ft,yt=0;yt<mt.length;yt++){var gt=mt[yt];if(!(Lt!==gt.xref||At!==gt.yref))if(ft){var It=!!gt.subtract;ft=Bt(ft,gt,It),Q=A(ft)}else ft=[gt],Q=D(gt)}return Q}function Xt(mt,Lt){for(var At=[],Q=mt._fullLayout,ft=Q.selections,yt=ft.length,gt=0;gt<yt;gt++)if(!(Lt&&gt!==Q._activeSelectionIndex)){var It=ft[gt];if(It){var Mt=It.xref,Jt=It.yref,qt=I(mt,Mt,"x"),le=I(mt,Jt,"y"),Et,re,se,he,Se;if(It.type==="rect"){Se=[];var je=oe(qt,It.x0),Ge=oe(qt,It.x1),Ce=oe(le,It.y0),Ne=oe(le,It.y1);Se=[[je,Ce],[je,Ne],[Ge,Ne],[Ge,Ce]],Et=Math.min(je,Ge),re=Math.max(je,Ge),se=Math.min(Ce,Ne),he=Math.max(Ce,Ne),Se.xmin=Et,Se.xmax=re,Se.ymin=se,Se.ymax=he,Se.xref=Mt,Se.yref=Jt,Se.subtract=!1,Se.isRect=!0,At.push(Se)}else if(It.type==="path")for(var Le=It.path.split("Z"),Oe=[],Ve=0;Ve<Le.length;Ve++){var Re=Le[Ve];if(Re){Re+="Z";var Be=m.extractPathCoords(Re,g.paramIsX,"raw"),Fe=m.extractPathCoords(Re,g.paramIsY,"raw");Et=1/0,re=-1/0,se=1/0,he=-1/0,Se=[];for(var ke=0;ke<Be.length;ke++){var Ye=oe(qt,Be[ke]),Qe=oe(le,Fe[ke]);Se.push([Ye,Qe]),Et=Math.min(Ye,Et),re=Math.max(Ye,re),se=Math.min(Qe,se),he=Math.max(Qe,he)}Se.xmin=Et,Se.xmax=re,Se.ymin=se,Se.ymax=he,Se.xref=Mt,Se.yref=Jt,Se.subtract=ae(Se,Oe),Oe.push(Se),At.push(Se)}}}}return At}function ae(mt,Lt){for(var At=!1,Q=0;Q<Lt.length;Q++)for(var ft=Lt[Q],yt=0;yt<mt.length;yt++)if(t(mt[yt],ft)){At=!At;break}return At}function oe(mt,Lt){return mt.type==="date"&&(Lt=Lt.replace("_"," ")),mt.type==="log"?mt.c2p(Lt):mt.r2p(Lt,null,mt.calendar)}function ie(mt){for(var Lt=mt.length,At=[],Q=0;Q<Lt;Q++){var ft=mt[Q];At=At.concat(ft),At=At.concat([ft[0]])}return pe(At)}function pe(mt){return mt.isRect=mt.length===5&&mt[0][0]===mt[4][0]&&mt[0][1]===mt[4][1]&&mt[0][0]===mt[1][0]&&mt[2][0]===mt[3][0]&&mt[0][1]===mt[3][1]&&mt[1][1]===mt[2][1]||mt[0][1]===mt[1][1]&&mt[2][1]===mt[3][1]&&mt[0][0]===mt[3][0]&&mt[1][0]===mt[2][0],mt.isRect&&(mt.xmin=Math.min(mt[0][0],mt[2][0]),mt.xmax=Math.max(mt[0][0],mt[2][0]),mt.ymin=Math.min(mt[0][1],mt[2][1]),mt.ymax=Math.max(mt[0][1],mt[2][1])),mt}function $t(mt){return function(Lt,At){for(var Q,ft,yt=0;yt<mt.length;yt++){var gt=mt[yt],It=gt._id,Mt=It.charAt(0);if(At.isRect){Q||(Q={});var Jt=At[Mt+"min"],qt=At[Mt+"max"];Jt!==void 0&&qt!==void 0&&(Q[It]=[X(gt,Jt),X(gt,qt)].sort(O))}else ft||(ft={}),ft[It]=At.map(it(gt))}Q&&(Lt.range=Q),ft&&(Lt.lassoPoints=ft)}}function me(mt){var Lt=mt.plotinfo;return Lt.fillRangeItems||$t(mt.xaxes.concat(mt.yaxes))}function we(mt,Lt){mt.emit("plotly_selecting",Lt)}function ve(mt,Lt){Lt&&(Lt.selections=(mt.layout||{}).selections||[]),mt.emit("plotly_selected",Lt)}function Me(mt){mt.emit("plotly_deselect",null)}C.exports={reselect:lt,prepSelect:dt,clearOutline:p,clearSelectionsCache:M,selectOnClick:ht}}),kl=Ct((F,C)=>{C.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]}),ti=Ct((F,C)=>{C.exports={axisRefDescription:function(r,t,n){return["If set to a",r,"axis id (e.g. *"+r+"* or","*"+r+"2*), the `"+r+"` position refers to a",r,"coordinate. If set to *paper*, the `"+r+"`","position refers to the distance from the",t,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",t,"("+n+"). If set to a",r,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",t,"of the domain of that axis: e.g.,","*"+r+"2 domain* refers to the domain of the second",r," axis and a",r,"position of 0.5 refers to the","point between the",t,"and the",n,"of the domain of the","second",r,"axis."].join(" ")}}}),jr=Ct((F,C)=>{var r=kl(),t=ha(),n=pa(),l=Bn().templatedArray;ti(),C.exports=l("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:t({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:r.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:r.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",n.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",n.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",n.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",n.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:t({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc"})}),qi=Ct((F,C)=>{C.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}}),Vc=Ct((F,C)=>{C.exports=function(r){return{valType:"color",editType:"style",anim:!0}}}),kr=Ct((F,C)=>{var r=Fi().axisHoverFormat,t=Qa().texttemplateAttrs,n=Qa().hovertemplateAttrs,l=Xr(),i=ha(),o=$a().dash,s=$a().pattern,f=zn(),e=qi(),v=la().extendFlat,u=Vc();function h(g){return{valType:"any",dflt:0,editType:"calc"}}function _(g){return{valType:"any",editType:"calc"}}function m(g){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}C.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:h(),yperiod:h(),xperiod0:_(),yperiod0:_(),xperiodalignment:m(),yperiodalignment:m(),xhoverformat:r("x"),yhoverformat:r("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:t({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:n({},{keys:e.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:v({},o,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:u(!0),fillgradient:v({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:s,marker:v({symbol:{valType:"enumerated",values:f.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:v({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},l("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},l("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:i({editType:"calc",colorEditType:"style",arrayOk:!0}),zorder:{valType:"integer",dflt:0,editType:"plot"}}}),Al=Ct((F,C)=>{var r=jr(),t=kr().line,n=$a().dash,l=la().extendFlat,i=qa().overrideAll,o=Bn().templatedArray;ti(),C.exports=i(o("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:l({},r.xref,{}),yref:l({},r.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:t.color,width:l({},t.width,{min:1,dflt:1}),dash:l({},n,{dflt:"dot"})}}),"arraydraw","from-root")}),Yc=Ct((F,C)=>{var r=De(),t=Yn(),n=Ya(),l=Al(),i=pr();C.exports=function(s,f){n(s,f,{name:"selections",handleItemDefaults:o});for(var e=f.selections,v=0;v<e.length;v++){var u=e[v];u&&u.path===void 0&&(u.x0===void 0||u.x1===void 0||u.y0===void 0||u.y1===void 0)&&(f.selections[v]=null)}};function o(s,f,e){function v(E,z){return r.coerce(s,f,l,E,z)}var u=v("path"),h=u?"path":"rect",_=v("type",h),m=_!=="path";m&&delete f.path,v("opacity"),v("line.color"),v("line.width"),v("line.dash");for(var g=["x","y"],y=0;y<2;y++){var p=g[y],c={_fullLayout:e},d,b,w,k=t.coerceRef(s,f,c,p);if(d=t.getFromId(c,k),d._selectionIndices.push(f._index),w=i.rangeToShapePosition(d),b=i.shapePositionToRange(d),m){var $=p+"0",P=p+"1",O=s[$],T=s[P];s[$]=b(s[$],!0),s[P]=b(s[P],!0),t.coercePosition(f,c,v,k,$),t.coercePosition(f,c,v,k,P);var G=f[$],I=f[P];G!==void 0&&I!==void 0&&(f[$]=w(G),f[P]=w(I),s[$]=O,s[P]=T)}}m&&r.noneOrAll(s,f,["x0","x1","y0","y1"])}}),Uc=Ct((F,C)=>{C.exports=function(r,t,n){n("newselection.mode");var l=n("newselection.line.width");l&&(n("newselection.line.color"),n("newselection.line.dash")),n("activeselection.fillcolor"),n("activeselection.opacity")}}),ei=Ct((F,C)=>{var r=un(),t=De(),n=sa();C.exports=function(l){return function(i,o){var s=i[l];if(Array.isArray(s))for(var f=r.subplotsRegistry.cartesian,e=f.idRegex,v=o._subplots,u=v.xaxis,h=v.yaxis,_=v.cartesian,m=o._has("cartesian"),g=0;g<s.length;g++){var y=s[g];if(t.isPlainObject(y)){var p=n.cleanId(y.xref,"x",!1),c=n.cleanId(y.yref,"y",!1),d=e.x.test(p),b=e.y.test(c);if(d||b){m||t.pushUnique(o._basePlotModules,f);var w=!1;d&&u.indexOf(p)===-1&&(u.push(p),w=!0),b&&h.indexOf(c)===-1&&(h.push(c),w=!0),w&&d&&b&&_.push(p+c)}}}}}}),Hr=Ct((F,C)=>{var r=Ml(),t=Bc();C.exports={moduleType:"component",name:"selections",layoutAttributes:Al(),supplyLayoutDefaults:Yc(),supplyDrawNewSelectionDefaults:Uc(),includeBasePlot:ei()("selections"),draw:r.draw,drawOne:r.drawOne,reselect:t.reselect,prepSelect:t.prepSelect,clearOutline:t.clearOutline,clearSelectionsCache:t.clearSelectionsCache,selectOnClick:t.selectOnClick}}),Zc=Ct((F,C)=>{var r=wn(),t=De(),n=t.numberFormat,l=Ra(),i=sl(),o=un(),s=t.strTranslate,f=xa(),e=bn(),v=zn(),u=tr(),h=Yn(),_=dr(),m=Ua(),g=Er(),y=g.selectingOrDrawing,p=g.freeMode,c=ka().FROM_TL,d=Vi(),b=Xi().redrawReglTraces,w=aa(),k=sa().getFromId,$=Hr().prepSelect,P=Hr().clearOutline,O=Hr().selectOnClick,T=wl(),G=pa(),I=G.MINDRAG,E=G.MINZOOM,z=!0;function j(V,rt,st,ut,_t,Tt,Ft,Zt){var Bt=V._fullLayout._zoomlayer,Rt=Ft+Zt==="nsew",pt=(Ft+Zt).length===1,bt,lt,kt,Nt,Yt,ee,Xt,ae,oe,ie,pe,$t,me,we,ve,Me,mt,Lt,At,Q,ft,yt,gt;st+=rt.yaxis._shift;function It(){if(bt=rt.xaxis,lt=rt.yaxis,oe=bt._length,ie=lt._length,Xt=bt._offset,ae=lt._offset,kt={},kt[bt._id]=bt,Nt={},Nt[lt._id]=lt,Ft&&Zt)for(var Dt=rt.overlays,Pt=0;Pt<Dt.length;Pt++){var Ht=Dt[Pt].xaxis;kt[Ht._id]=Ht;var Kt=Dt[Pt].yaxis;Nt[Kt._id]=Kt}Yt=R(kt),ee=R(Nt),me=D(Yt,Zt),we=D(ee,Ft),ve=!we&&!me,$t=M(V,V._fullLayout._axisMatchGroups,kt,Nt),pe=M(V,V._fullLayout._axisConstraintGroups,kt,Nt,$t);var zt=pe.isSubplotConstrained||$t.isSubplotConstrained;Me=Zt||zt,mt=Ft||zt;var Ut=V._fullLayout;Lt=Ut._has("scattergl"),At=Ut._has("splom"),Q=Ut._has("svg")}It();var Mt=ot(we+me,V._fullLayout.dragmode,Rt),Jt=Z(rt,Ft+Zt+"drag",Mt,st,ut,_t,Tt);if(ve&&!Rt)return Jt.onmousedown=null,Jt.style.pointerEvents="none",Jt;var qt={element:Jt,gd:V,plotinfo:rt};qt.prepFn=function(Dt,Pt,Ht){var Kt=qt.dragmode,zt=V._fullLayout.dragmode;zt!==Kt&&(qt.dragmode=zt),It(),yt=V._fullLayout._invScaleX,gt=V._fullLayout._invScaleY,ve||(Rt?Dt.shiftKey?zt==="pan"?zt="zoom":y(zt)||(zt="pan"):Dt.ctrlKey&&(zt="pan"):zt="pan"),p(zt)?qt.minDrag=1:qt.minDrag=void 0,y(zt)?(qt.xaxes=Yt,qt.yaxes=ee,$(Dt,Pt,Ht,qt,zt)):(qt.clickFn=Et,y(Kt)&&le(),ve||(zt==="zoom"?(qt.moveFn=Re,qt.doneFn=Fe,qt.minDrag=1,Ve(Dt,Pt,Ht)):zt==="pan"&&(qt.moveFn=an,qt.doneFn=fn))),V._fullLayout._redrag=function(){var Ut=V._dragdata;if(Ut&&Ut.element===Jt){var ne=V._fullLayout.dragmode;y(ne)||(It(),tt([0,0,oe,ie]),qt.moveFn(Ut.dx,Ut.dy))}}};function le(){qt.plotinfo.selection=!1,P(V)}function Et(Dt,Pt){var Ht=qt.gd;if(Ht._fullLayout._activeShapeIndex>=0){Ht._fullLayout._deactivateShape(Ht);return}var Kt=Ht._fullLayout.clickmode;if(Y(Ht),Dt===2&&!pt&&$e(),Rt)Kt.indexOf("select")>-1&&O(Pt,Ht,Yt,ee,rt.id,qt),Kt.indexOf("event")>-1&&u.click(Ht,Pt,rt.id);else if(Dt===1&&pt){var zt=Ft?lt:bt,Ut=Ft==="s"||Zt==="w"?0:1,ne=zt._name+".range["+Ut+"]",Wt=W(zt,Ut),ge="left",ye="middle";if(zt.fixedrange)return;Ft?(ye=Ft==="n"?"top":"bottom",zt.side==="right"&&(ge="right")):Zt==="e"&&(ge="right"),Ht._context.showAxisRangeEntryBoxes&&r.select(Jt).call(f.makeEditable,{gd:Ht,immediate:!0,background:Ht._fullLayout.paper_bgcolor,text:String(Wt),fill:zt.tickfont?zt.tickfont.color:"#444",horizontalAlign:ge,verticalAlign:ye}).on("edit",function(Te){var Ae=zt.d2r(Te);Ae!==void 0&&o.call("_guiRelayout",Ht,ne,Ae)})}}m.init(qt);var re,se,he,Se,je,Ge,Ce,Ne,Le,Oe;function Ve(Dt,Pt,Ht){var Kt=Jt.getBoundingClientRect();re=Pt-Kt.left,se=Ht-Kt.top,V._fullLayout._calcInverseTransform(V);var zt=t.apply3DTransform(V._fullLayout._invTransform)(re,se);re=zt[0],se=zt[1],he={l:re,r:re,w:0,t:se,b:se,h:0},Se=V._hmpixcount?V._hmlumcount/V._hmpixcount:l(V._fullLayout.plot_bgcolor).getLuminance(),je="M0,0H"+oe+"V"+ie+"H0V0",Ge=!1,Ce="xy",Oe=!1,Ne=dt(Bt,Se,Xt,ae,je),Le=ht(Bt,Xt,ae)}function Re(Dt,Pt){if(V._transitioningWithDuration)return!1;var Ht=Math.max(0,Math.min(oe,yt*Dt+re)),Kt=Math.max(0,Math.min(ie,gt*Pt+se)),zt=Math.abs(Ht-re),Ut=Math.abs(Kt-se);he.l=Math.min(re,Ht),he.r=Math.max(re,Ht),he.t=Math.min(se,Kt),he.b=Math.max(se,Kt);function ne(){Ce="",he.r=he.l,he.t=he.b,Le.attr("d","M0,0Z")}if(pe.isSubplotConstrained)zt>E||Ut>E?(Ce="xy",zt/oe>Ut/ie?(Ut=zt*ie/oe,se>Kt?he.t=se-Ut:he.b=se+Ut):(zt=Ut*oe/ie,re>Ht?he.l=re-zt:he.r=re+zt),Le.attr("d",N(he))):ne();else if($t.isSubplotConstrained)if(zt>E||Ut>E){Ce="xy";var Wt=Math.min(he.l/oe,(ie-he.b)/ie),ge=Math.max(he.r/oe,(ie-he.t)/ie);he.l=Wt*oe,he.r=ge*oe,he.b=(1-Wt)*ie,he.t=(1-ge)*ie,Le.attr("d",N(he))}else ne();else!we||Ut<Math.min(Math.max(zt*.6,I),E)?zt<I||!me?ne():(he.t=0,he.b=ie,Ce="x",Le.attr("d",J(he,se))):!me||zt<Math.min(Ut*.6,E)?(he.l=0,he.r=oe,Ce="y",Le.attr("d",at(he,re))):(Ce="xy",Le.attr("d",N(he)));he.w=he.r-he.l,he.h=he.b-he.t,Ce&&(Oe=!0),V._dragged=Oe,xt(Ne,Le,he,je,Ge,Se),Be(),V.emit("plotly_relayouting",ft),Ge=!0}function Be(){ft={},(Ce==="xy"||Ce==="x")&&(X(Yt,he.l/oe,he.r/oe,ft,pe.xaxes),on("x",ft)),(Ce==="xy"||Ce==="y")&&(X(ee,(ie-he.b)/ie,(ie-he.t)/ie,ft,pe.yaxes),on("y",ft))}function Fe(){Be(),Y(V),fn(),A(V)}var ke=[0,0,oe,ie],Ye=null,Qe=G.REDRAWDELAY,ln=rt.mainplot?V._fullLayout._plots[rt.mainplot]:rt;function He(Dt){if(!V._context._scrollZoom.cartesian&&!V._fullLayout._enablescrollzoom)return;if(le(),V._transitioningWithDuration){Dt.preventDefault(),Dt.stopPropagation();return}It(),clearTimeout(Ye);var Pt=-Dt.deltaY;if(isFinite(Pt)||(Pt=Dt.wheelDelta/10),!isFinite(Pt)){t.log("Did not find wheel motion attributes: ",Dt);return}var Ht=Math.exp(-Math.min(Math.max(Pt,-20),20)/200),Kt=ln.draglayer.select(".nsewdrag").node().getBoundingClientRect(),zt=(Dt.clientX-Kt.left)/Kt.width,Ut=(Kt.bottom-Dt.clientY)/Kt.height,ne;function Wt(ge,ye,Te){if(ge.fixedrange)return;var Ae=t.simpleMap(ge.range,ge.r2l),ze=Ae[0]+(Ae[1]-Ae[0])*ye;function Ee(Je){return ge.l2r(ze+(Je-ze)*Te)}ge.range=Ae.map(Ee)}if(Me){for(Zt||(zt=.5),ne=0;ne<Yt.length;ne++)Wt(Yt[ne],zt,Ht);on("x"),ke[2]*=Ht,ke[0]+=ke[2]*zt*(1/Ht-1)}if(mt){for(Ft||(Ut=.5),ne=0;ne<ee.length;ne++)Wt(ee[ne],Ut,Ht);on("y"),ke[3]*=Ht,ke[1]+=ke[3]*(1-Ut)*(1/Ht-1)}tt(ke),vn(),V.emit("plotly_relayouting",ft),Ye=setTimeout(function(){V._fullLayout&&(ke=[0,0,oe,ie],fn())},Qe),Dt.preventDefault()}Ft.length*Zt.length!==1&&S(Jt,He);function an(Dt,Pt){if(Dt=Dt*yt,Pt=Pt*gt,V._transitioningWithDuration)return;if(V._fullLayout._replotting=!0,me==="ew"||we==="ns"){var Ht=me?-Dt:0,Kt=we?-Pt:0;if($t.isSubplotConstrained){if(me&&we){var zt=(Dt/oe-Pt/ie)/2;Dt=zt*oe,Pt=-zt*ie,Ht=-Dt,Kt=-Pt}we?Ht=-Kt*oe/ie:Kt=-Ht*ie/oe}me&&(it(Yt,Dt),on("x")),we&&(it(ee,Pt),on("y")),tt([Ht,Kt,oe,ie]),vn(),V.emit("plotly_relayouting",ft);return}function Ut(Ee,Je,Pe){for(var Ke=1-Je,nn,mn,gn=0;gn<Ee.length;gn++){var pn=Ee[gn];if(!pn.fixedrange){nn=pn,mn=pn._rl[Ke]+(pn._rl[Je]-pn._rl[Ke])/nt(Pe/pn._length);var xn=pn.l2r(mn);xn!==!1&&xn!==void 0&&(pn.range[Je]=xn)}}return nn._length*(nn._rl[Je]-mn)/(nn._rl[Je]-nn._rl[Ke])}var ne=me==="w"==(we==="n")?1:-1;if(me&&we&&(pe.isSubplotConstrained||$t.isSubplotConstrained)){var Wt=(Dt/oe+ne*Pt/ie)/2;Dt=Wt*oe,Pt=ne*Wt*ie}var ge,ye;if(me==="w"?Dt=Ut(Yt,0,Dt):me==="e"?Dt=Ut(Yt,1,-Dt):me||(Dt=0),we==="n"?Pt=Ut(ee,1,Pt):we==="s"?Pt=Ut(ee,0,-Pt):we||(Pt=0),ge=me==="w"?Dt:0,ye=we==="n"?Pt:0,pe.isSubplotConstrained&&!$t.isSubplotConstrained||$t.isSubplotConstrained&&me&&we&&ne>0){var Te;if($t.isSubplotConstrained||!me&&we.length===1){for(Te=0;Te<Yt.length;Te++)Yt[Te].range=Yt[Te]._r.slice(),T(Yt[Te],1-Pt/ie);Dt=Pt*oe/ie,ge=Dt/2}if($t.isSubplotConstrained||!we&&me.length===1){for(Te=0;Te<ee.length;Te++)ee[Te].range=ee[Te]._r.slice(),T(ee[Te],1-Dt/oe);Pt=Dt*ie/oe,ye=Pt/2}}(!$t.isSubplotConstrained||!we)&&on("x"),(!$t.isSubplotConstrained||!me)&&on("y");var Ae=oe-Dt,ze=ie-Pt;$t.isSubplotConstrained&&!(me&&we)&&(me?(ye=ge?0:Dt*ie/oe,ze=Ae*ie/oe):(ge=ye?0:Pt*oe/ie,Ae=ze*oe/ie)),tt([ge,ye,Ae,ze]),vn(),V.emit("plotly_relayouting",ft)}function on(Dt,Pt){for(var Ht=$t.isSubplotConstrained?{x:ee,y:Yt}[Dt]:$t[Dt+"axes"],Kt=$t.isSubplotConstrained?{x:Yt,y:ee}[Dt]:[],zt=0;zt<Ht.length;zt++){var Ut=Ht[zt],ne=Ut._id,Wt=$t.xLinks[ne]||$t.yLinks[ne],ge=Kt[0]||kt[Wt]||Nt[Wt];ge&&(Pt?(Pt[Ut._name+".range[0]"]=Pt[ge._name+".range[0]"],Pt[Ut._name+".range[1]"]=Pt[ge._name+".range[1]"]):Ut.range=ge.range.slice())}}function vn(){var Dt=[],Pt;function Ht(ne){for(Pt=0;Pt<ne.length;Pt++)ne[Pt].fixedrange||Dt.push(ne[Pt]._id)}function Kt(ne,Wt){for(Pt=0;Pt<ne.length;Pt++){var ge=ne[Pt],ye=ge[Wt];!ge.fixedrange&&ye.tickmode==="sync"&&Dt.push(ye._id)}}for(Me&&(Ht(Yt),Ht(pe.xaxes),Ht($t.xaxes),Kt(rt.overlays,"xaxis")),mt&&(Ht(ee),Ht(pe.yaxes),Ht($t.yaxes),Kt(rt.overlays,"yaxis")),ft={},Pt=0;Pt<Dt.length;Pt++){var zt=Dt[Pt],Ut=k(V,zt);h.drawOne(V,Ut,{skipTitle:!0}),ft[Ut._name+".range[0]"]=Ut.range[0],ft[Ut._name+".range[1]"]=Ut.range[1]}h.redrawComponents(V,Dt)}function $e(){if(!V._transitioningWithDuration){var Dt=V._context.doubleClick,Pt=[];me&&(Pt=Pt.concat(Yt)),we&&(Pt=Pt.concat(ee)),$t.xaxes&&(Pt=Pt.concat($t.xaxes)),$t.yaxes&&(Pt=Pt.concat($t.yaxes));var Ht={},Kt,zt;if(Dt==="reset+autosize")for(Dt="autosize",zt=0;zt<Pt.length;zt++){Kt=Pt[zt];var Ut=Kt._rangeInitial0,ne=Kt._rangeInitial1,Wt=Ut!==void 0||ne!==void 0;if(Wt&&(Ut!==void 0&&Ut!==Kt.range[0]||ne!==void 0&&ne!==Kt.range[1])||!Wt&&Kt.autorange!==!0){Dt="reset";break}}if(Dt==="autosize")for(zt=0;zt<Pt.length;zt++)Kt=Pt[zt],Kt.fixedrange||(Ht[Kt._name+".autorange"]=!0);else if(Dt==="reset"){for((me||pe.isSubplotConstrained)&&(Pt=Pt.concat(pe.xaxes)),we&&!pe.isSubplotConstrained&&(Pt=Pt.concat(pe.yaxes)),pe.isSubplotConstrained&&(me?we||(Pt=Pt.concat(ee)):Pt=Pt.concat(Yt)),zt=0;zt<Pt.length;zt++)if(Kt=Pt[zt],!Kt.fixedrange){var ge=Kt._name,ye=Kt._autorangeInitial;Kt._rangeInitial0===void 0&&Kt._rangeInitial1===void 0?Ht[ge+".autorange"]=!0:Kt._rangeInitial0===void 0?(Ht[ge+".autorange"]=ye,Ht[ge+".range"]=[null,Kt._rangeInitial1]):Kt._rangeInitial1===void 0?(Ht[ge+".range"]=[Kt._rangeInitial0,null],Ht[ge+".autorange"]=ye):Ht[ge+".range"]=[Kt._rangeInitial0,Kt._rangeInitial1]}}V.emit("plotly_doubleclick",null),o.call("_guiRelayout",V,Ht)}}function fn(){tt([0,0,oe,ie]),t.syncOrAsync([w.previousPromises,function(){V._fullLayout._replotting=!1,o.call("_guiRelayout",V,ft)}],V)}function tt(Dt){var Pt=V._fullLayout,Ht=Pt._plots,Kt=Pt._subplots.cartesian,zt,Ut,ne,Wt;if(At&&o.subplotsRegistry.splom.drag(V),Lt){for(zt=0;zt<Kt.length;zt++)if(Ut=Ht[Kt[zt]],ne=Ut.xaxis,Wt=Ut.yaxis,Ut._scene){ne.limitRange&&ne.limitRange(),Wt.limitRange&&Wt.limitRange();var ge=t.simpleMap(ne.range,ne.r2l),ye=t.simpleMap(Wt.range,Wt.r2l);Ut._scene.update({range:[ge[0],ye[0],ge[1],ye[1]]})}}if((At||Lt)&&(d(V),b(V)),Q){var Te=Dt[2]/bt._length,Ae=Dt[3]/lt._length;for(zt=0;zt<Kt.length;zt++){Ut=Ht[Kt[zt]],ne=Ut.xaxis,Wt=Ut.yaxis;var ze=(Me||$t.isSubplotConstrained)&&!ne.fixedrange&&kt[ne._id],Ee=(mt||$t.isSubplotConstrained)&&!Wt.fixedrange&&Nt[Wt._id],Je,Pe,Ke,nn;if(ze?(Je=Te,Ke=Zt||$t.isSubplotConstrained?Dt[0]:jt(ne,Je)):$t.xaHash[ne._id]?(Je=Te,Ke=Dt[0]*ne._length/bt._length):$t.yaHash[ne._id]?(Je=Ae,Ke=we==="ns"?-Dt[1]*ne._length/lt._length:jt(ne,Je,{n:"top",s:"bottom"}[we])):(Je=K(ne,Te,Ae),Ke=Vt(ne,Je)),Je>1&&(ne.maxallowed!==void 0&&Me===(ne.range[0]<ne.range[1]?"e":"w")||ne.minallowed!==void 0&&Me===(ne.range[0]<ne.range[1]?"w":"e"))&&(Je=1,Ke=0),Ee?(Pe=Ae,nn=Ft||$t.isSubplotConstrained?Dt[1]:jt(Wt,Pe)):$t.yaHash[Wt._id]?(Pe=Ae,nn=Dt[1]*Wt._length/lt._length):$t.xaHash[Wt._id]?(Pe=Te,nn=me==="ew"?-Dt[0]*Wt._length/bt._length:jt(Wt,Pe,{e:"right",w:"left"}[me])):(Pe=K(Wt,Te,Ae),nn=Vt(Wt,Pe)),Pe>1&&(Wt.maxallowed!==void 0&&mt===(Wt.range[0]<Wt.range[1]?"n":"s")||Wt.minallowed!==void 0&&mt===(Wt.range[0]<Wt.range[1]?"s":"n"))&&(Pe=1,nn=0),!(!Je&&!Pe)){Je||(Je=1),Pe||(Pe=1);var mn=ne._offset-Ke/Je,gn=Wt._offset-nn/Pe;Ut.clipRect.call(v.setTranslate,Ke,nn).call(v.setScale,Je,Pe),Ut.plot.call(v.setTranslate,mn,gn).call(v.setScale,1/Je,1/Pe),(Je!==Ut.xScaleFactor||Pe!==Ut.yScaleFactor)&&(v.setPointGroupScale(Ut.zoomScalePts,Je,Pe),v.setTextPointsScale(Ut.zoomScaleTxt,Je,Pe)),v.hideOutsideRangePoints(Ut.clipOnAxisFalseTraces,Ut),Ut.xScaleFactor=Je,Ut.yScaleFactor=Pe}}}}function K(Dt,Pt,Ht){return Dt.fixedrange?0:Me&&pe.xaHash[Dt._id]?Pt:mt&&(pe.isSubplotConstrained?pe.xaHash:pe.yaHash)[Dt._id]?Ht:0}function Vt(Dt,Pt){return Pt?(Dt.range=Dt._r.slice(),T(Dt,Pt),jt(Dt,Pt)):0}function jt(Dt,Pt,Ht){return Dt._length*(1-Pt)*c[Ht||Dt.constraintoward||"middle"]}return Jt}function U(V,rt,st,ut){var _t=t.ensureSingle(V.draglayer,rt,st,function(Tt){Tt.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",V.id)});return _t.call(_,ut),_t.node()}function Z(V,rt,st,ut,_t,Tt,Ft){var Zt=U(V,"rect",rt,st);return r.select(Zt).call(v.setRect,ut,_t,Tt,Ft),Zt}function D(V,rt){for(var st=0;st<V.length;st++)if(!V[st].fixedrange)return rt;return""}function W(V,rt){var st=V.range[rt],ut=Math.abs(st-V.range[1-rt]),_t;return V.type==="date"?st:V.type==="log"?(_t=Math.ceil(Math.max(0,-Math.log(ut)/Math.LN10))+3,n("."+_t+"g")(Math.pow(10,st))):(_t=Math.floor(Math.log(Math.abs(st))/Math.LN10)-Math.floor(Math.log(ut)/Math.LN10)+4,n("."+String(_t)+"g")(st))}function X(V,rt,st,ut,_t){for(var Tt=0;Tt<V.length;Tt++){var Ft=V[Tt];if(!Ft.fixedrange)if(Ft.rangebreaks){var Zt=Ft._id.charAt(0)==="y",Bt=Zt?1-rt:rt,Rt=Zt?1-st:st;ut[Ft._name+".range[0]"]=Ft.l2r(Ft.p2l(Bt*Ft._length)),ut[Ft._name+".range[1]"]=Ft.l2r(Ft.p2l(Rt*Ft._length))}else{var pt=Ft._rl[0],bt=Ft._rl[1]-pt;ut[Ft._name+".range[0]"]=Ft.l2r(pt+bt*rt),ut[Ft._name+".range[1]"]=Ft.l2r(pt+bt*st)}}if(_t&&_t.length){var lt=(rt+(1-st))/2;X(_t,lt,1-lt,ut,[])}}function it(V,rt){for(var st=0;st<V.length;st++){var ut=V[st];if(!ut.fixedrange){if(ut.rangebreaks){var _t=0,Tt=ut._length,Ft=ut.p2l(_t+rt)-ut.p2l(_t),Zt=ut.p2l(Tt+rt)-ut.p2l(Tt),Bt=(Ft+Zt)/2;ut.range=[ut.l2r(ut._rl[0]-Bt),ut.l2r(ut._rl[1]-Bt)]}else ut.range=[ut.l2r(ut._rl[0]-rt/ut._m),ut.l2r(ut._rl[1]-rt/ut._m)];ut.limitRange&&ut.limitRange()}}}function nt(V){return 1-(V>=0?Math.min(V,.9):1/(1/Math.max(V,-.3)+3.222))}function ot(V,rt,st){return V?V==="nsew"?st?"":rt==="pan"?"move":"crosshair":V.toLowerCase()+"-resize":"pointer"}function dt(V,rt,st,ut,_t){return V.append("path").attr("class","zoombox").style({fill:rt>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",s(st,ut)).attr("d",_t+"Z")}function ht(V,rt,st){return V.append("path").attr("class","zoombox-corners").style({fill:e.background,stroke:e.defaultLine,"stroke-width":1,opacity:0}).attr("transform",s(rt,st)).attr("d","M0,0Z")}function xt(V,rt,st,ut,_t,Tt){V.attr("d",ut+"M"+st.l+","+st.t+"v"+st.h+"h"+st.w+"v-"+st.h+"h-"+st.w+"Z"),H(V,rt,_t,Tt)}function H(V,rt,st,ut){st||(V.transition().style("fill",ut>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),rt.transition().style("opacity",1).duration(200))}function Y(V){r.select(V).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function A(V){z&&V.data&&V._context.showTips&&(t.notifier(t._(V,"Double-click to zoom back out"),"long"),z=!1)}function J(V,rt){return"M"+(V.l-.5)+","+(rt-E-.5)+"h-3v"+(2*E+1)+"h3ZM"+(V.r+.5)+","+(rt-E-.5)+"h3v"+(2*E+1)+"h-3Z"}function at(V,rt){return"M"+(rt-E-.5)+","+(V.t-.5)+"v-3h"+(2*E+1)+"v3ZM"+(rt-E-.5)+","+(V.b+.5)+"v3h"+(2*E+1)+"v-3Z"}function N(V){var rt=Math.floor(Math.min(V.b-V.t,V.r-V.l,E)/2);return"M"+(V.l-3.5)+","+(V.t-.5+rt)+"h3v"+-rt+"h"+rt+"v-3h-"+(rt+3)+"ZM"+(V.r+3.5)+","+(V.t-.5+rt)+"h-3v"+-rt+"h"+-rt+"v-3h"+(rt+3)+"ZM"+(V.r+3.5)+","+(V.b+.5-rt)+"h-3v"+rt+"h"+-rt+"v3h"+(rt+3)+"ZM"+(V.l-3.5)+","+(V.b+.5-rt)+"h3v"+rt+"h"+rt+"v3h-"+(rt+3)+"Z"}function M(V,rt,st,ut,_t){for(var Tt=!1,Ft={},Zt={},Bt,Rt,pt,bt,lt=(_t||{}).xaHash,kt=(_t||{}).yaHash,Nt=0;Nt<rt.length;Nt++){var Yt=rt[Nt];for(Bt in st)if(Yt[Bt]){for(pt in Yt)!(_t&&(lt[pt]||kt[pt]))&&!(pt.charAt(0)==="x"?st:ut)[pt]&&(Ft[pt]=Bt);for(Rt in ut)!(_t&&(lt[Rt]||kt[Rt]))&&Yt[Rt]&&(Tt=!0)}for(Rt in ut)if(Yt[Rt])for(bt in Yt)!(_t&&(lt[bt]||kt[bt]))&&!(bt.charAt(0)==="x"?st:ut)[bt]&&(Zt[bt]=Rt)}Tt&&(t.extendFlat(Ft,Zt),Zt={});var ee={},Xt=[];for(pt in Ft){var ae=k(V,pt);Xt.push(ae),ee[ae._id]=ae}var oe={},ie=[];for(bt in Zt){var pe=k(V,bt);ie.push(pe),oe[pe._id]=pe}return{xaHash:ee,yaHash:oe,xaxes:Xt,yaxes:ie,xLinks:Ft,yLinks:Zt,isSubplotConstrained:Tt}}function S(V,rt){if(!i)V.onwheel!==void 0?V.onwheel=rt:V.onmousewheel!==void 0?V.onmousewheel=rt:V.isAddedWheelEvent||(V.isAddedWheelEvent=!0,V.addEventListener("wheel",rt,{passive:!1}));else{var st=V.onwheel!==void 0?"wheel":"mousewheel";V._onwheel&&V.removeEventListener(st,V._onwheel),V._onwheel=rt,V.addEventListener(st,rt,{passive:!1})}}function R(V){var rt=[];for(var st in V)rt.push(V[st]);return rt}C.exports={makeDragBox:j,makeDragger:U,makeRectDragger:Z,makeZoombox:dt,makeCorners:ht,updateZoombox:xt,xyCorners:N,transitionZoombox:H,removeZoombox:Y,showDoubleClickNotifier:A,attachWheelEventHandler:S}}),Ll=Ct(F=>{var C=wn(),r=tr(),t=Ua(),n=dr(),l=Zc().makeDragBox,i=pa().DRAGGERSIZE;F.initInteractions=function(o){var s=o._fullLayout;if(o._context.staticPlot){C.select(o).selectAll(".drag").remove();return}if(!(!s._has("cartesian")&&!s._has("splom"))){var f=Object.keys(s._plots||{}).sort(function(v,u){if((s._plots[v].mainplot&&!0)===(s._plots[u].mainplot&&!0)){var h=v.split("y"),_=u.split("y");return h[0]===_[0]?Number(h[1]||1)-Number(_[1]||1):Number(h[0]||1)-Number(_[0]||1)}return s._plots[v].mainplot?1:-1});f.forEach(function(v){var u=s._plots[v],h=u.xaxis,_=u.yaxis;if(!u.mainplot){var m=l(o,u,h._offset,_._offset,h._length,_._length,"ns","ew");m.onmousemove=function(p){o._fullLayout._rehover=function(){o._fullLayout._hoversubplot===v&&o._fullLayout._plots[v]&&r.hover(o,p,v)},r.hover(o,p,v),o._fullLayout._lasthover=m,o._fullLayout._hoversubplot=v},m.onmouseout=function(p){o._dragging||(o._fullLayout._hoversubplot=null,t.unhover(o,p))},o._context.showAxisDragHandles&&(l(o,u,h._offset-i,_._offset-i,i,i,"n","w"),l(o,u,h._offset+h._length,_._offset-i,i,i,"n","e"),l(o,u,h._offset-i,_._offset+_._length,i,i,"s","w"),l(o,u,h._offset+h._length,_._offset+_._length,i,i,"s","e"))}if(o._context.showAxisDragHandles){if(v===h._mainSubplot){var g=h._mainLinePosition;h.side==="top"&&(g-=i),l(o,u,h._offset+h._length*.1,g,h._length*.8,i,"","ew"),l(o,u,h._offset,g,h._length*.1,i,"","w"),l(o,u,h._offset+h._length*.9,g,h._length*.1,i,"","e")}if(v===_._mainSubplot){var y=_._mainLinePosition;_.side!=="right"&&(y-=i),l(o,u,y,_._offset+_._length*.1,i,_._length*.8,"ns",""),l(o,u,y,_._offset+_._length*.9,i,_._length*.1,"s",""),l(o,u,y,_._offset,i,_._length*.1,"n","")}}});var e=s._hoverlayer.node();e.onmousemove=function(v){v.target=o._fullLayout._lasthover,r.hover(o,v,s._hoversubplot)},e.onclick=function(v){v.target=o._fullLayout._lasthover,r.click(o,v)},e.onmousedown=function(v){o._fullLayout._lasthover.onmousedown(v)},F.updateFx(o)}},F.updateFx=function(o){var s=o._fullLayout,f=s.dragmode==="pan"?"move":"crosshair";n(s._draggers,f)}}),Gc=Ct((F,C)=>{var r=un();C.exports=function(t){for(var n=r.layoutArrayContainers,l=r.layoutArrayRegexes,i=t.split("[")[0],o,s,f=0;f<l.length;f++)if(s=t.match(l[f]),s&&s.index===0){o=s[0];break}if(o||(o=n[n.indexOf(i)]),!o)return!1;var e=t.substr(o.length);return e?(s=e.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),s?{array:o,index:Number(s[1]),property:s[3]||""}:!1):{array:o,index:"",property:""}}}),Wc=Ct(F=>{var C=cr(),r=Li(),t=Mr(),n=Yo().sorterAsc,l=un();F.containerArrayMatch=Gc();var i=F.isAddVal=function(s){return s==="add"||C(s)},o=F.isRemoveVal=function(s){return s===null||s==="remove"};F.applyContainerArrayChanges=function(s,f,e,v,u){var h=f.astr,_=l.getComponentMethod(h,"supplyLayoutDefaults"),m=l.getComponentMethod(h,"draw"),g=l.getComponentMethod(h,"drawOne"),y=v.replot||v.recalc||_===r||m===r,p=s.layout,c=s._fullLayout;if(e[""]){Object.keys(e).length>1&&t.warn("Full array edits are incompatible with other edits",h);var d=e[""][""];if(o(d))f.set(null);else if(Array.isArray(d))f.set(d);else return t.warn("Unrecognized full array edit value",h,d),!0;return y?!1:(_(p,c),m(s),!0)}var b=Object.keys(e).map(Number).sort(n),w=f.get(),k=w||[],$=u(c,h).get(),P=[],O=-1,T=k.length,G,I,E,z,j,U,Z,D;for(G=0;G<b.length;G++){if(E=b[G],z=e[E],j=Object.keys(z),U=z[""],Z=i(U),E<0||E>k.length-(Z?0:1)){t.warn("index out of range",h,E);continue}if(U!==void 0)j.length>1&&t.warn("Insertion & removal are incompatible with edits to the same index.",h,E),o(U)?P.push(E):Z?(U==="add"&&(U={}),k.splice(E,0,U),$&&$.splice(E,0,{})):t.warn("Unrecognized full object edit value",h,E,U),O===-1&&(O=E);else for(I=0;I<j.length;I++)D=h+"["+E+"].",u(k[E],j[I],D).set(z[j[I]])}for(G=P.length-1;G>=0;G--)k.splice(P[G],1),$&&$.splice(P[G],1);if(k.length?w||f.set(k):f.set(null),y)return!1;if(_(p,c),g!==r){var W;if(O===-1)W=b;else{for(T=Math.max(k.length,T),W=[],G=0;G<b.length&&(E=b[G],!(E>=O));G++)W.push(E);for(G=O;G<T;G++)W.push(G)}for(G=0;G<W.length;G++)g(s,W[G])}else m(s);return!0}}),Jc=Ct(F=>{var C=Mn();jo();var r=un(),t=De(),n=aa(),l=sa(),i=bn(),o=l.cleanId,s=l.getFromTrace,f=r.traceIs;F.clearPromiseQueue=function(p){Array.isArray(p._promises)&&p._promises.length>0&&t.log("Clearing previous rejected promises from queue."),p._promises=[]},F.cleanLayout=function(p){var c;p||(p={}),p.xaxis1&&(p.xaxis||(p.xaxis=p.xaxis1),delete p.xaxis1),p.yaxis1&&(p.yaxis||(p.yaxis=p.yaxis1),delete p.yaxis1),p.scene1&&(p.scene||(p.scene=p.scene1),delete p.scene1);var d=(n.subplotsRegistry.cartesian||{}).attrRegex;(n.subplotsRegistry.polar||{}).attrRegex,(n.subplotsRegistry.ternary||{}).attrRegex,(n.subplotsRegistry.gl3d||{}).attrRegex;var b=Object.keys(p);for(c=0;c<b.length;c++){var w=b[c];if(d&&d.test(w)){var k=p[w];k.anchor&&k.anchor!=="free"&&(k.anchor=o(k.anchor)),k.overlaying&&(k.overlaying=o(k.overlaying)),k.type||(k.isdate?k.type="date":k.islog?k.type="log":k.isdate===!1&&k.islog===!1&&(k.type="linear")),(k.autorange==="withzero"||k.autorange==="tozero")&&(k.autorange=!0,k.rangemode="tozero"),k.insiderange&&delete k.range,delete k.islog,delete k.isdate,delete k.categories,_(k,"domain")&&delete k.domain}}var $=Array.isArray(p.annotations)?p.annotations.length:0;for(c=0;c<$;c++){var P=p.annotations[c];t.isPlainObject(P)&&(e(P,"xref"),e(P,"yref"))}var O=Array.isArray(p.shapes)?p.shapes.length:0;for(c=0;c<O;c++){var T=p.shapes[c];t.isPlainObject(T)&&(e(T,"xref"),e(T,"yref"))}var G=Array.isArray(p.images)?p.images.length:0;for(c=0;c<G;c++){var I=p.images[c];t.isPlainObject(I)&&(e(I,"xref"),e(I,"yref"))}var E=p.legend;return E&&(E.x>3?(E.x=1.02,E.xanchor="left"):E.x<-2&&(E.x=-.02,E.xanchor="right"),E.y>3?(E.y=1.02,E.yanchor="bottom"):E.y<-2&&(E.y=-.02,E.yanchor="top")),p.dragmode==="rotate"&&(p.dragmode="orbit"),i.clean(p),p.template&&p.template.layout&&F.cleanLayout(p.template.layout),p};function e(p,c){var d=p[c],b=c.charAt(0);d&&d!=="paper"&&(p[c]=o(d,b,!0))}F.cleanData=function(p){for(var c=0;c<p.length;c++){var d=p[c],b;if(d.type==="histogramy"&&"xbins"in d&&!("ybins"in d)&&(d.ybins=d.xbins,delete d.xbins),d.type==="histogramy"&&F.swapXYData(d),(d.type==="histogramx"||d.type==="histogramy")&&(d.type="histogram"),"scl"in d&&!("colorscale"in d)&&(d.colorscale=d.scl,delete d.scl),"reversescl"in d&&!("reversescale"in d)&&(d.reversescale=d.reversescl,delete d.reversescl),d.xaxis&&(d.xaxis=o(d.xaxis,"x")),d.yaxis&&(d.yaxis=o(d.yaxis,"y")),f(d,"gl3d")&&d.scene&&(d.scene=n.subplotsRegistry.gl3d.cleanId(d.scene)),!f(d,"pie-like")&&!f(d,"bar-like"))if(Array.isArray(d.textposition))for(b=0;b<d.textposition.length;b++)d.textposition[b]=h(d.textposition[b]);else d.textposition&&(d.textposition=h(d.textposition));var w=r.getModule(d);if(w&&w.colorbar){var k=w.colorbar.container,$=k?d[k]:d;$&&$.colorscale&&($.colorscale==="YIGnBu"&&($.colorscale="YlGnBu"),$.colorscale==="YIOrRd"&&($.colorscale="YlOrRd"))}if(d.type==="surface"&&t.isPlainObject(d.contours)){var P=["x","y","z"];for(b=0;b<P.length;b++){var O=d.contours[P[b]];t.isPlainObject(O)&&(O.highlightColor&&(O.highlightcolor=O.highlightColor,delete O.highlightColor),O.highlightWidth&&(O.highlightwidth=O.highlightWidth,delete O.highlightWidth))}}if(d.type==="candlestick"||d.type==="ohlc"){var T=(d.increasing||{}).showlegend!==!1,G=(d.decreasing||{}).showlegend!==!1,I=v(d.increasing),E=v(d.decreasing);if(I!==!1&&E!==!1){var z=u(I,E,T,G);z&&(d.name=z)}else(I||E)&&!d.name&&(d.name=I||E)}_(d,"line")&&delete d.line,"marker"in d&&(_(d.marker,"line")&&delete d.marker.line,_(d,"marker")&&delete d.marker),i.clean(d),d.autobinx&&(delete d.autobinx,delete d.xbins),d.autobiny&&(delete d.autobiny,delete d.ybins)}};function v(p){if(!t.isPlainObject(p))return!1;var c=p.name;return delete p.name,delete p.showlegend,(typeof c=="string"||typeof c=="number")&&String(c)}function u(p,c,d,b){if(d&&!b)return p;if(b&&!d||!p.trim())return c;if(!c.trim())return p;var w=Math.min(p.length,c.length),k;for(k=0;k<w&&p.charAt(k)===c.charAt(k);k++);var $=p.substr(0,k);return $.trim()}function h(p){var c="middle",d="center";return typeof p=="string"&&(p.indexOf("top")!==-1?c="top":p.indexOf("bottom")!==-1&&(c="bottom"),p.indexOf("left")!==-1?d="left":p.indexOf("right")!==-1&&(d="right")),c+" "+d}function _(p,c){return c in p&&typeof p[c]=="object"&&Object.keys(p[c]).length===0}F.swapXYData=function(p){var c;if(t.swapAttrs(p,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(p.z)&&Array.isArray(p.z[0])&&(p.transpose?delete p.transpose:p.transpose=!0),p.error_x&&p.error_y){var d=p.error_y,b="copy_ystyle"in d?d.copy_ystyle:!(d.color||d.thickness||d.width);t.swapAttrs(p,["error_?.copy_ystyle"]),b&&t.swapAttrs(p,["error_?.color","error_?.thickness","error_?.width"])}if(typeof p.hoverinfo=="string"){var w=p.hoverinfo.split("+");for(c=0;c<w.length;c++)w[c]==="x"?w[c]="y":w[c]==="y"&&(w[c]="x");p.hoverinfo=w.join("+")}},F.coerceTraceIndices=function(p,c){if(C(c))return[c];if(!Array.isArray(c)||!c.length)return p.data.map(function(w,k){return k});if(Array.isArray(c)){for(var d=[],b=0;b<c.length;b++)t.isIndex(c[b],p.data.length)?d.push(c[b]):t.warn("trace index (",c[b],") is not a number or is out of bounds");return d}return c},F.manageArrayContainers=function(p,c,d){var b=p.obj,w=p.parts,k=w.length,$=w[k-1],P=C($);if(P&&c===null){var O=w.slice(0,k-1).join("."),T=t.nestedProperty(b,O).get();T.splice($,1)}else P&&p.get()===void 0&&p.get()===void 0&&(d[p.astr]=null),p.set(c)};var m=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function g(p){var c=p.search(m);if(c>0)return p.substr(0,c)}F.hasParent=function(p,c){for(var d=g(c);d;){if(d in p)return!0;d=g(d)}return!1};var y=["x","y","z"];F.clearAxisTypes=function(p,c,d){for(var b=0;b<c.length;b++)for(var w=p._fullData[b],k=0;k<3;k++){var $=s(p,w,y[k]);if($&&$.type!=="log"){var P=$._name,O=$._id.substr(1);if(O.substr(0,5)==="scene"){if(d[O]!==void 0)continue;P=O+"."+P}var T=P+".type";d[P]===void 0&&d[T]===void 0&&t.nestedProperty(p.layout,T).set(null)}}}}),Sl=Ct(F=>{var C=wn(),r=Mn(),t=Go(),n=De(),l=n.nestedProperty,i=Jr(),o=sc(),s=un(),f=zr(),e=aa(),v=Yn(),u=ll(),h=Va(),_=zn(),m=bn(),g=Ll().initInteractions,y=Tr(),p=Hr().clearOutline,c=wr().dfltConfig,d=Wc(),b=Jc(),w=Xi(),k=qa(),$=pa().AX_NAME_PATTERN,P=0,O=5;function T(Q,ft,yt,gt){var It;if(Q=n.getGraphDiv(Q),i.init(Q),n.isPlainObject(ft)){var Mt=ft;ft=Mt.data,yt=Mt.layout,gt=Mt.config,It=Mt.frames}var Jt=i.triggerHandler(Q,"plotly_beforeplot",[ft,yt,gt]);if(Jt===!1)return Promise.reject();!ft&&!yt&&!n.isPlotDiv(Q)&&n.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",Q);function qt(){if(It)return F.addFrames(Q,It)}j(Q,gt),yt||(yt={}),C.select(Q).classed("js-plotly-plot",!0),_.makeTester(),Array.isArray(Q._promises)||(Q._promises=[]);var le=(Q.data||[]).length===0&&Array.isArray(ft);Array.isArray(ft)&&(b.cleanData(ft),le?Q.data=ft:Q.data.push.apply(Q.data,ft),Q.empty=!1),(!Q.layout||le)&&(Q.layout=b.cleanLayout(yt)),e.supplyDefaults(Q);var Et=Q._fullLayout,re=Et._has("cartesian");Et._replotting=!0,(le||Et._shouldCreateBgLayer)&&(At(Q),Et._shouldCreateBgLayer&&delete Et._shouldCreateBgLayer),_.initGradients(Q),_.initPatterns(Q),le&&v.saveShowSpikeInitial(Q);var se=!Q.calcdata||Q.calcdata.length!==(Q._fullData||[]).length;se&&e.doCalcdata(Q);for(var he=0;he<Q.calcdata.length;he++)Q.calcdata[he][0].trace=Q._fullData[he];Q._context.responsive?Q._responsiveChartHandler||(Q._responsiveChartHandler=function(){n.isHidden(Q)||e.resize(Q)},window.addEventListener("resize",Q._responsiveChartHandler)):n.clearResponsive(Q);var Se=n.extendFlat({},Et._size),je=0;function Ge(){for(var Fe=Et._basePlotModules,ke=0;ke<Fe.length;ke++)Fe[ke].drawFramework&&Fe[ke].drawFramework(Q);!Et._glcanvas&&Et._has("gl")&&(Et._glcanvas=Et._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(He){return He.key}),Et._glcanvas.enter().append("canvas").attr("class",function(He){return"gl-canvas gl-canvas-"+He.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Ye=Q._context.plotGlPixelRatio;if(Et._glcanvas){Et._glcanvas.attr("width",Et.width*Ye).attr("height",Et.height*Ye).style("width",Et.width+"px").style("height",Et.height+"px");var Qe=Et._glcanvas.data()[0].regl;if(Qe&&(Math.floor(Et.width*Ye)!==Qe._gl.drawingBufferWidth||Math.floor(Et.height*Ye)!==Qe._gl.drawingBufferHeight)){var ln="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(je)n.error(ln);else return n.log(ln+" Clearing graph and plotting again."),e.cleanPlot([],{},Q._fullData,Et),e.supplyDefaults(Q),Et=Q._fullLayout,e.doCalcdata(Q),je++,Ge()}}return Et.modebar.orientation==="h"?Et._modebardiv.style("height",null).style("width","100%"):Et._modebardiv.style("width",null).style("height",Et.height+"px"),e.previousPromises(Q)}function Ce(){if(e.clearAutoMarginIds(Q),w.drawMarginPushers(Q),v.allowAutoMargin(Q),Q._fullLayout.title.text&&Q._fullLayout.title.automargin&&e.allowAutoMargin(Q,"title.automargin"),Et._has("pie"))for(var Fe=Q._fullData,ke=0;ke<Fe.length;ke++){var Ye=Fe[ke];Ye.type==="pie"&&Ye.automargin&&e.allowAutoMargin(Q,"pie."+Ye.uid+".automargin")}return e.doAutoMargin(Q),e.previousPromises(Q)}function Ne(){if(e.didMarginChange(Se,Et._size))return n.syncOrAsync([Ce,w.layoutStyles],Q)}function Le(){if(!se){Oe();return}return n.syncOrAsync([s.getComponentMethod("shapes","calcAutorange"),s.getComponentMethod("annotations","calcAutorange"),Oe],Q)}function Oe(){Q._transitioning||(w.doAutoRangeAndConstraints(Q),le&&v.saveRangeInitial(Q),s.getComponentMethod("rangeslider","calcAutorange")(Q))}function Ve(){return v.draw(Q,le?"":"redraw")}var Re=[e.previousPromises,qt,Ge,Ce,Ne];re&&Re.push(Le),Re.push(w.layoutStyles),re&&Re.push(Ve,function(Fe){var ke=Fe._fullLayout._insideTickLabelsUpdaterange;if(ke)return Fe._fullLayout._insideTickLabelsUpdaterange=void 0,rt(Fe,ke).then(function(){v.saveRangeInitial(Fe,!0)})}),Re.push(w.drawData,w.finalDraw,g,e.addLinks,e.rehover,e.redrag,e.reselect,e.doAutoMargin,e.previousPromises);var Be=n.syncOrAsync(Re,Q);return(!Be||!Be.then)&&(Be=Promise.resolve()),Be.then(function(){return G(Q),Q})}function G(Q){var ft=Q._fullLayout;ft._redrawFromAutoMarginCount?ft._redrawFromAutoMarginCount--:Q.emit("plotly_afterplot")}function I(Q){return n.extendFlat(c,Q)}function E(Q,ft){try{Q._fullLayout._paper.style("background",ft)}catch(yt){n.error(yt)}}function z(Q,ft){var yt=m.combine(ft,"white");E(Q,yt)}function j(Q,ft){if(!Q._context){Q._context=n.extendDeep({},c);var yt=C.select("base");Q._context._baseUrl=yt.size()&&yt.attr("href")?window.location.href.split("#")[0]:""}var gt=Q._context,It,Mt,Jt;if(ft){for(Mt=Object.keys(ft),It=0;It<Mt.length;It++)Jt=Mt[It],!(Jt==="editable"||Jt==="edits")&&Jt in gt&&(Jt==="setBackground"&&ft[Jt]==="opaque"?gt[Jt]=z:gt[Jt]=ft[Jt]);var qt=ft.editable;if(qt!==void 0)for(gt.editable=qt,Mt=Object.keys(gt.edits),It=0;It<Mt.length;It++)gt.edits[Mt[It]]=qt;if(ft.edits)for(Mt=Object.keys(ft.edits),It=0;It<Mt.length;It++)Jt=Mt[It],Jt in gt.edits&&(gt.edits[Jt]=ft.edits[Jt]);gt._exportedPlot=ft._exportedPlot}gt.staticPlot&&(gt.editable=!1,gt.edits={},gt.autosizable=!1,gt.scrollZoom=!1,gt.doubleClick=!1,gt.showTips=!1,gt.showLink=!1,gt.displayModeBar=!1),gt.displayModeBar==="hover"&&!t&&(gt.displayModeBar=!0),(gt.setBackground==="transparent"||typeof gt.setBackground!="function")&&(gt.setBackground=E),gt._hasZeroHeight=gt._hasZeroHeight||Q.clientHeight===0,gt._hasZeroWidth=gt._hasZeroWidth||Q.clientWidth===0;var le=gt.scrollZoom,Et=gt._scrollZoom={};if(le===!0)Et.cartesian=1,Et.gl3d=1,Et.geo=1,Et.mapbox=1,Et.map=1;else if(typeof le=="string"){var re=le.split("+");for(It=0;It<re.length;It++)Et[re[It]]=1}else le!==!1&&(Et.gl3d=1,Et.geo=1,Et.mapbox=1,Et.map=1)}function U(Q){if(Q=n.getGraphDiv(Q),!n.isPlotDiv(Q))throw new Error("This element is not a Plotly plot: "+Q);return b.cleanData(Q.data),b.cleanLayout(Q.layout),Q.calcdata=void 0,F._doPlot(Q).then(function(){return Q.emit("plotly_redraw"),Q})}function Z(Q,ft,yt,gt){return Q=n.getGraphDiv(Q),e.cleanPlot([],{},Q._fullData||[],Q._fullLayout||{}),e.purge(Q),F._doPlot(Q,ft,yt,gt)}function D(Q,ft){var yt=ft+1,gt=[],It,Mt;for(It=0;It<Q.length;It++)Mt=Q[It],Mt<0?gt.push(yt+Mt):gt.push(Mt);return gt}function W(Q,ft,yt){var gt,It;for(gt=0;gt<ft.length;gt++){if(It=ft[gt],It!==parseInt(It,10))throw new Error("all values in "+yt+" must be integers");if(It>=Q.data.length||It<-Q.data.length)throw new Error(yt+" must be valid indices for gd.data.");if(ft.indexOf(It,gt+1)>-1||It>=0&&ft.indexOf(-Q.data.length+It)>-1||It<0&&ft.indexOf(Q.data.length+It)>-1)throw new Error("each index in "+yt+" must be unique.")}}function X(Q,ft,yt){if(!Array.isArray(Q.data))throw new Error("gd.data must be an array.");if(typeof ft>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(ft)||(ft=[ft]),W(Q,ft,"currentIndices"),typeof yt<"u"&&!Array.isArray(yt)&&(yt=[yt]),typeof yt<"u"&&W(Q,yt,"newIndices"),typeof yt<"u"&&ft.length!==yt.length)throw new Error("current and new indices must be of equal length.")}function it(Q,ft,yt){var gt,It;if(!Array.isArray(Q.data))throw new Error("gd.data must be an array.");if(typeof ft>"u")throw new Error("traces must be defined.");for(Array.isArray(ft)||(ft=[ft]),gt=0;gt<ft.length;gt++)if(It=ft[gt],typeof It!="object"||Array.isArray(It)||It===null)throw new Error("all values in traces array must be non-array objects");if(typeof yt<"u"&&!Array.isArray(yt)&&(yt=[yt]),typeof yt<"u"&&yt.length!==ft.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function nt(Q,ft,yt,gt){var It=n.isPlainObject(gt);if(!Array.isArray(Q.data))throw new Error("gd.data must be an array");if(!n.isPlainObject(ft))throw new Error("update must be a key:value object");if(typeof yt>"u")throw new Error("indices must be an integer or array of integers");W(Q,yt,"indices");for(var Mt in ft){if(!Array.isArray(ft[Mt])||ft[Mt].length!==yt.length)throw new Error("attribute "+Mt+" must be an array of length equal to indices array length");if(It&&(!(Mt in gt)||!Array.isArray(gt[Mt])||gt[Mt].length!==ft[Mt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function ot(Q,ft,yt,gt){var It=n.isPlainObject(gt),Mt=[],Jt,qt,le,Et,re;Array.isArray(yt)||(yt=[yt]),yt=D(yt,Q.data.length-1);for(var se in ft)for(var he=0;he<yt.length;he++){if(Jt=Q.data[yt[he]],le=l(Jt,se),qt=le.get(),Et=ft[se][he],!n.isArrayOrTypedArray(Et))throw new Error("attribute: "+se+" index: "+he+" must be an array");if(!n.isArrayOrTypedArray(qt))throw new Error("cannot extend missing or non-array attribute: "+se);if(qt.constructor!==Et.constructor)throw new Error("cannot extend array with an array of a different type: "+se);re=It?gt[se][he]:gt,r(re)||(re=-1),Mt.push({prop:le,target:qt,insert:Et,maxp:Math.floor(re)})}return Mt}function dt(Q,ft,yt,gt,It){nt(Q,ft,yt,gt);for(var Mt=ot(Q,ft,yt,gt),Jt={},qt={},le=0;le<Mt.length;le++){var Et=Mt[le].prop,re=Mt[le].maxp,se=It(Mt[le].target,Mt[le].insert,re);Et.set(se[0]),Array.isArray(Jt[Et.astr])||(Jt[Et.astr]=[]),Jt[Et.astr].push(se[1]),Array.isArray(qt[Et.astr])||(qt[Et.astr]=[]),qt[Et.astr].push(Mt[le].target.length)}return{update:Jt,maxPoints:qt}}function ht(Q,ft){var yt=new Q.constructor(Q.length+ft.length);return yt.set(Q),yt.set(ft,Q.length),yt}function xt(Q,ft,yt,gt){Q=n.getGraphDiv(Q);function It(le,Et,re){var se,he;if(n.isTypedArray(le))if(re<0){var Se=new le.constructor(0),je=ht(le,Et);re<0?(se=je,he=Se):(se=Se,he=je)}else if(se=new le.constructor(re),he=new le.constructor(le.length+Et.length-re),re===Et.length)se.set(Et),he.set(le);else if(re<Et.length){var Ge=Et.length-re;se.set(Et.subarray(Ge)),he.set(le),he.set(Et.subarray(0,Ge),le.length)}else{var Ce=re-Et.length,Ne=le.length-Ce;se.set(le.subarray(Ne)),se.set(Et,Ce),he.set(le.subarray(0,Ne))}else se=le.concat(Et),he=re>=0&&re<se.length?se.splice(0,se.length-re):[];return[se,he]}var Mt=dt(Q,ft,yt,gt,It),Jt=F.redraw(Q),qt=[Q,Mt.update,yt,Mt.maxPoints];return o.add(Q,F.prependTraces,qt,xt,arguments),Jt}function H(Q,ft,yt,gt){Q=n.getGraphDiv(Q);function It(le,Et,re){var se,he;if(n.isTypedArray(le))if(re<=0){var Se=new le.constructor(0),je=ht(Et,le);re<0?(se=je,he=Se):(se=Se,he=je)}else if(se=new le.constructor(re),he=new le.constructor(le.length+Et.length-re),re===Et.length)se.set(Et),he.set(le);else if(re<Et.length){var Ge=Et.length-re;se.set(Et.subarray(0,Ge)),he.set(Et.subarray(Ge)),he.set(le,Ge)}else{var Ce=re-Et.length;se.set(Et),se.set(le.subarray(0,Ce),Et.length),he.set(le.subarray(Ce))}else se=Et.concat(le),he=re>=0&&re<se.length?se.splice(re,se.length):[];return[se,he]}var Mt=dt(Q,ft,yt,gt,It),Jt=F.redraw(Q),qt=[Q,Mt.update,yt,Mt.maxPoints];return o.add(Q,F.extendTraces,qt,H,arguments),Jt}function Y(Q,ft,yt){Q=n.getGraphDiv(Q);var gt=[],It=F.deleteTraces,Mt=Y,Jt=[Q,gt],qt=[Q,ft],le,Et;for(it(Q,ft,yt),Array.isArray(ft)||(ft=[ft]),ft=ft.map(function(re){return n.extendFlat({},re)}),b.cleanData(ft),le=0;le<ft.length;le++)Q.data.push(ft[le]);for(le=0;le<ft.length;le++)gt.push(-ft.length+le);if(typeof yt>"u")return Et=F.redraw(Q),o.add(Q,It,Jt,Mt,qt),Et;Array.isArray(yt)||(yt=[yt]);try{X(Q,gt,yt)}catch(re){throw Q.data.splice(Q.data.length-ft.length,ft.length),re}return o.startSequence(Q),o.add(Q,It,Jt,Mt,qt),Et=F.moveTraces(Q,gt,yt),o.stopSequence(Q),Et}function A(Q,ft){Q=n.getGraphDiv(Q);var yt=[],gt=F.addTraces,It=A,Mt=[Q,yt,ft],Jt=[Q,ft],qt,le;if(typeof ft>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(ft)||(ft=[ft]),W(Q,ft,"indices"),ft=D(ft,Q.data.length-1),ft.sort(n.sorterDes),qt=0;qt<ft.length;qt+=1)le=Q.data.splice(ft[qt],1)[0],yt.push(le);var Et=F.redraw(Q);return o.add(Q,gt,Mt,It,Jt),Et}function J(Q,ft,yt){Q=n.getGraphDiv(Q);var gt=[],It=[],Mt=J,Jt=J,qt=[Q,yt,ft],le=[Q,ft,yt],Et;if(X(Q,ft,yt),ft=Array.isArray(ft)?ft:[ft],typeof yt>"u")for(yt=[],Et=0;Et<ft.length;Et++)yt.push(-ft.length+Et);for(yt=Array.isArray(yt)?yt:[yt],ft=D(ft,Q.data.length-1),yt=D(yt,Q.data.length-1),Et=0;Et<Q.data.length;Et++)ft.indexOf(Et)===-1&&gt.push(Q.data[Et]);for(Et=0;Et<ft.length;Et++)It.push({newIndex:yt[Et],trace:Q.data[ft[Et]]});for(It.sort(function(se,he){return se.newIndex-he.newIndex}),Et=0;Et<It.length;Et+=1)gt.splice(It[Et].newIndex,0,It[Et].trace);Q.data=gt;var re=F.redraw(Q);return o.add(Q,Mt,qt,Jt,le),re}function at(Q,ft,yt,gt){Q=n.getGraphDiv(Q),b.clearPromiseQueue(Q);var It={};if(typeof ft=="string")It[ft]=yt;else if(n.isPlainObject(ft))It=n.extendFlat({},ft),gt===void 0&&(gt=yt);else return n.warn("Restyle fail.",ft,yt,gt),Promise.reject();Object.keys(It).length&&(Q.changed=!0);var Mt=b.coerceTraceIndices(Q,gt),Jt=V(Q,It,Mt),qt=Jt.flags;qt.calc&&(Q.calcdata=void 0),qt.clearAxisTypes&&b.clearAxisTypes(Q,Mt,{});var le=[];qt.fullReplot?le.push(F._doPlot):(le.push(e.previousPromises),e.supplyDefaults(Q),qt.markerSize&&(e.doCalcdata(Q),ut(le)),qt.style&&le.push(w.doTraceStyle),qt.colorbars&&le.push(w.doColorBars),le.push(G)),le.push(e.rehover,e.redrag,e.reselect),o.add(Q,at,[Q,Jt.undoit,Jt.traces],at,[Q,Jt.redoit,Jt.traces]);var Et=n.syncOrAsync(le,Q);return(!Et||!Et.then)&&(Et=Promise.resolve()),Et.then(function(){return Q.emit("plotly_restyle",Jt.eventData),Q})}function N(Q){return Q===void 0?null:Q}function M(Q,ft){return ft?function(yt,gt,It){var Mt=l(yt,gt),Jt=Mt.set;return Mt.set=function(qt){var le=(It||"")+gt;S(le,Mt.get(),qt,Q),Jt(qt)},Mt}:l}function S(Q,ft,yt,gt){if(Array.isArray(ft)||Array.isArray(yt))for(var It=Array.isArray(ft)?ft:[],Mt=Array.isArray(yt)?yt:[],Jt=Math.max(It.length,Mt.length),qt=0;qt<Jt;qt++)S(Q+"["+qt+"]",It[qt],Mt[qt],gt);else if(n.isPlainObject(ft)||n.isPlainObject(yt)){var le=n.isPlainObject(ft)?ft:{},Et=n.isPlainObject(yt)?yt:{},re=n.extendFlat({},le,Et);for(var se in re)S(Q+"."+se,le[se],Et[se],gt)}else gt[Q]===void 0&&(gt[Q]=N(ft))}function R(Q,ft,yt){for(var gt in yt){var It=l(Q,gt);S(gt,It.get(),yt[gt],ft)}}function V(Q,ft,yt){var gt=Q._fullLayout,It=Q._fullData,Mt=Q.data,Jt=gt._guiEditing,qt=M(gt._preGUI,Jt),le=n.extendDeepAll({},ft),Et,re=k.traceFlags(),se={},he={},Se;function je(){return yt.map(function(){})}function Ge(Te){var Ae=v.id2name(Te);Se.indexOf(Ae)===-1&&Se.push(Ae)}function Ce(Te){return"LAYOUT"+Te+".autorange"}function Ne(Te){return"LAYOUT"+Te+".range"}function Le(Te){for(var Ae=Te;Ae<It.length;Ae++)if(It[Ae]._input===Mt[Te])return It[Ae]}function Oe(Te,Ae,ze){if(Array.isArray(Te)){Te.forEach(function(Ke){Oe(Ke,Ae,ze)});return}if(!(Te in ft||b.hasParent(ft,Te))){var Ee;if(Te.substr(0,6)==="LAYOUT")Ee=qt(Q.layout,Te.replace("LAYOUT",""));else{var Je=yt[ze],Pe=gt._tracePreGUI[Le(Je)._fullInput.uid];Ee=M(Pe,Jt)(Mt[Je],Te)}Te in he||(he[Te]=je()),he[Te][ze]===void 0&&(he[Te][ze]=N(Ee.get())),Ae!==void 0&&Ee.set(Ae)}}function Ve(Te){return function(Ae){return It[Ae][Te]}}function Re(Te){return function(Ae,ze){return Ae===!1?It[yt[ze]][Te]:null}}for(var Be in ft){if(b.hasParent(ft,Be))throw new Error("cannot set "+Be+" and a parent attribute simultaneously");var Fe=ft[Be],ke,Ye,Qe,ln,He,an;if((Be==="autobinx"||Be==="autobiny")&&(Be=Be.charAt(Be.length-1)+"bins",Array.isArray(Fe)?Fe=Fe.map(Re(Be)):Fe===!1?Fe=yt.map(Ve(Be)):Fe=null),se[Be]=Fe,Be.substr(0,6)==="LAYOUT"){Qe=qt(Q.layout,Be.replace("LAYOUT","")),he[Be]=[N(Qe.get())],Qe.set(Array.isArray(Fe)?Fe[0]:Fe),re.calc=!0;continue}for(he[Be]=je(),Et=0;Et<yt.length;Et++){ke=Mt[yt[Et]],Ye=Le(yt[Et]);var on=gt._tracePreGUI[Ye._fullInput.uid];if(Qe=M(on,Jt)(ke,Be),ln=Qe.get(),He=Array.isArray(Fe)?Fe[Et%Fe.length]:Fe,He!==void 0){var vn=Qe.parts[Qe.parts.length-1],$e=Be.substr(0,Be.length-vn.length-1),fn=$e?$e+".":"",tt=$e?l(Ye,$e).get():Ye;if(an=f.getTraceValObject(Ye,Qe.parts),an&&an.impliedEdits&&He!==null)for(var K in an.impliedEdits)Oe(n.relativeAttr(Be,K),an.impliedEdits[K],Et);else if((vn==="thicknessmode"||vn==="lenmode")&&ln!==He&&(He==="fraction"||He==="pixels")&&tt){var Vt=gt._size,jt=tt.orient,Dt=jt==="top"||jt==="bottom";if(vn==="thicknessmode"){var Pt=Dt?Vt.h:Vt.w;Oe(fn+"thickness",tt.thickness*(He==="fraction"?1/Pt:Pt),Et)}else{var Ht=Dt?Vt.w:Vt.h;Oe(fn+"len",tt.len*(He==="fraction"?1/Ht:Ht),Et)}}else if(Be==="type"&&(He==="pie"!=(ln==="pie")||He==="funnelarea"!=(ln==="funnelarea"))){var Kt="x",zt="y";(He==="bar"||ln==="bar")&&ke.orientation==="h"&&(Kt="y",zt="x"),n.swapAttrs(ke,["?","?src"],"labels",Kt),n.swapAttrs(ke,["d?","?0"],"label",Kt),n.swapAttrs(ke,["?","?src"],"values",zt),ln==="pie"||ln==="funnelarea"?(l(ke,"marker.color").set(l(ke,"marker.colors").get()),gt._pielayer.selectAll("g.trace").remove()):s.traceIs(ke,"cartesian")&&l(ke,"marker.colors").set(l(ke,"marker.color").get())}he[Be][Et]=N(ln);var Ut=["swapxy","swapxyaxes","orientation","orientationaxes"];if(Ut.indexOf(Be)!==-1){if(Be==="orientation"){Qe.set(He);var ne=ke.x&&!ke.y?"h":"v";if((Qe.get()||ne)===Ye.orientation)continue}else Be==="orientationaxes"&&(ke.orientation={v:"h",h:"v"}[Ye.orientation]);b.swapXYData(ke),re.calc=re.clearAxisTypes=!0}else e.dataArrayContainers.indexOf(Qe.parts[0])!==-1?(b.manageArrayContainers(Qe,He,he),re.calc=!0):(an?an.arrayOk&&!s.traceIs(Ye,"regl")&&(n.isArrayOrTypedArray(He)||n.isArrayOrTypedArray(ln))?re.calc=!0:k.update(re,an):re.calc=!0,Qe.set(He))}}if(["swapxyaxes","orientationaxes"].indexOf(Be)!==-1&&v.swap(Q,yt),Be==="orientationaxes"){var Wt=l(Q.layout,"hovermode"),ge=Wt.get();ge==="x"?Wt.set("y"):ge==="y"?Wt.set("x"):ge==="x unified"?Wt.set("y unified"):ge==="y unified"&&Wt.set("x unified")}if(["orientation","type"].indexOf(Be)!==-1){for(Se=[],Et=0;Et<yt.length;Et++){var ye=Mt[yt[Et]];s.traceIs(ye,"cartesian")&&(Ge(ye.xaxis||"x"),Ge(ye.yaxis||"y"))}Oe(Se.map(Ce),!0,0),Oe(Se.map(Ne),[0,1],0)}}return(re.calc||re.plot)&&(re.fullReplot=!0),{flags:re,undoit:he,redoit:se,traces:yt,eventData:n.extendDeepNoArrays([],[le,yt])}}function rt(Q,ft,yt){Q=n.getGraphDiv(Q),b.clearPromiseQueue(Q);var gt={};if(typeof ft=="string")gt[ft]=yt;else if(n.isPlainObject(ft))gt=n.extendFlat({},ft);else return n.warn("Relayout fail.",ft,yt),Promise.reject();Object.keys(gt).length&&(Q.changed=!0);var It=Zt(Q,gt),Mt=It.flags;Mt.calc&&(Q.calcdata=void 0);var Jt=[e.previousPromises];Mt.layoutReplot?Jt.push(w.layoutReplot):Object.keys(gt).length&&(st(Q,Mt,It)||e.supplyDefaults(Q),Mt.legend&&Jt.push(w.doLegend),Mt.layoutstyle&&Jt.push(w.layoutStyles),Mt.axrange&&ut(Jt,It.rangesAltered),Mt.ticks&&Jt.push(w.doTicksRelayout),Mt.modebar&&Jt.push(w.doModeBar),Mt.camera&&Jt.push(w.doCamera),Mt.colorbars&&Jt.push(w.doColorBars),Jt.push(G)),Jt.push(e.rehover,e.redrag,e.reselect),o.add(Q,rt,[Q,It.undoit],rt,[Q,It.redoit]);var qt=n.syncOrAsync(Jt,Q);return(!qt||!qt.then)&&(qt=Promise.resolve(Q)),qt.then(function(){return Q.emit("plotly_relayout",It.eventData),Q})}function st(Q,ft,yt){var gt=Q._fullLayout;if(!ft.axrange)return!1;for(var It in ft)if(It!=="axrange"&&ft[It])return!1;var Mt,Jt,qt=function(Se,je){return n.coerce(Mt,Jt,h,Se,je)},le={};for(var Et in yt.rangesAltered){var re=v.id2name(Et);if(Mt=Q.layout[re],Jt=gt[re],u(Mt,Jt,qt,le),Jt._matchGroup){for(var se in Jt._matchGroup)if(se!==Et){var he=gt[v.id2name(se)];he.autorange=Jt.autorange,he.range=Jt.range.slice(),he._input.range=Jt.range.slice()}}}return!0}function ut(Q,ft){var yt=ft?function(gt){var It=[],Mt=!0;for(var Jt in ft){var qt=v.getFromId(gt,Jt);if(It.push(Jt),(qt.ticklabelposition||"").indexOf("inside")!==-1&&qt._anchorAxis&&It.push(qt._anchorAxis._id),qt._matchGroup)for(var le in qt._matchGroup)ft[le]||It.push(le)}return v.draw(gt,It,{skipTitle:Mt})}:function(gt){return v.draw(gt,"redraw")};Q.push(p,w.doAutoRangeAndConstraints,yt,w.drawData,w.finalDraw)}var _t=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Tt=/^[xyz]axis[0-9]*\.autorange$/,Ft=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Zt(Q,ft){var yt=Q.layout,gt=Q._fullLayout,It=gt._guiEditing,Mt=M(gt._preGUI,It),Jt=Object.keys(ft),qt=v.list(Q),le=n.extendDeepAll({},ft),Et={},re,se,he;for(Jt=Object.keys(ft),se=0;se<Jt.length;se++)if(Jt[se].indexOf("allaxes")===0){for(he=0;he<qt.length;he++){var Se=qt[he]._id.substr(1),je=Se.indexOf("scene")!==-1?Se+".":"",Ge=Jt[se].replace("allaxes",je+qt[he]._name);ft[Ge]||(ft[Ge]=ft[Jt[se]])}delete ft[Jt[se]]}var Ce=k.layoutFlags(),Ne={},Le={};function Oe(Pe,Ke){if(Array.isArray(Pe)){Pe.forEach(function(mn){Oe(mn,Ke)});return}if(!(Pe in ft||b.hasParent(ft,Pe))){var nn=Mt(yt,Pe);Pe in Le||(Le[Pe]=N(nn.get())),Ke!==void 0&&nn.set(Ke)}}var Ve={},Re;function Be(Pe){var Ke=v.name2id(Pe.split(".")[0]);return Ve[Ke]=1,Ke}for(var Fe in ft){if(b.hasParent(ft,Fe))throw new Error("cannot set "+Fe+" and a parent attribute simultaneously");for(var ke=Mt(yt,Fe),Ye=ft[Fe],Qe=ke.parts.length,ln=Qe-1;ln>0&&typeof ke.parts[ln]!="string";)ln--;var He=ke.parts[ln],an=ke.parts[ln-1]+"."+He,on=ke.parts.slice(0,ln).join("."),vn=l(Q.layout,on).get(),$e=l(gt,on).get(),fn=ke.get();if(Ye!==void 0){Ne[Fe]=Ye,Le[Fe]=He==="reverse"?Ye:N(fn);var tt=f.getLayoutValObject(gt,ke.parts);if(tt&&tt.impliedEdits&&Ye!==null)for(var K in tt.impliedEdits)Oe(n.relativeAttr(Fe,K),tt.impliedEdits[K]);if(["width","height"].indexOf(Fe)!==-1)if(Ye){Oe("autosize",null);var Vt=Fe==="height"?"width":"height";Oe(Vt,gt[Vt])}else gt[Fe]=Q._initialAutoSize[Fe];else if(Fe==="autosize")Oe("width",Ye?null:gt.width),Oe("height",Ye?null:gt.height);else if(an.match(_t))Be(an),l(gt,on+"._inputRange").set(null);else if(an.match(Tt)){Be(an),l(gt,on+"._inputRange").set(null);var jt=l(gt,on).get();jt._inputDomain&&(jt._input.domain=jt._inputDomain.slice())}else an.match(Ft)&&l(gt,on+"._inputDomain").set(null);if(He==="type"){Re=vn;var Dt=$e.type==="linear"&&Ye==="log",Pt=$e.type==="log"&&Ye==="linear";if(Dt||Pt){if(!Re||!Re.range)Oe(on+".autorange",!0);else if($e.autorange)Dt&&(Re.range=Re.range[1]>Re.range[0]?[1,2]:[2,1]);else{var Ht=Re.range[0],Kt=Re.range[1];Dt?(Ht<=0&&Kt<=0&&Oe(on+".autorange",!0),Ht<=0?Ht=Kt/1e6:Kt<=0&&(Kt=Ht/1e6),Oe(on+".range[0]",Math.log(Ht)/Math.LN10),Oe(on+".range[1]",Math.log(Kt)/Math.LN10)):(Oe(on+".range[0]",Math.pow(10,Ht)),Oe(on+".range[1]",Math.pow(10,Kt)))}Array.isArray(gt._subplots.polar)&&gt._subplots.polar.length&&gt[ke.parts[0]]&&ke.parts[1]==="radialaxis"&&delete gt[ke.parts[0]]._subplot.viewInitial["radialaxis.range"],s.getComponentMethod("annotations","convertCoords")(Q,$e,Ye,Oe),s.getComponentMethod("images","convertCoords")(Q,$e,Ye,Oe)}else Oe(on+".autorange",!0),Oe(on+".range",null);l(gt,on+"._inputRange").set(null)}else if(He.match($)){var zt=l(gt,Fe).get(),Ut=(Ye||{}).type;(!Ut||Ut==="-")&&(Ut="linear"),s.getComponentMethod("annotations","convertCoords")(Q,zt,Ut,Oe),s.getComponentMethod("images","convertCoords")(Q,zt,Ut,Oe)}var ne=d.containerArrayMatch(Fe);if(ne){re=ne.array,se=ne.index;var Wt=ne.property,ge=tt||{editType:"calc"};se!==""&&Wt===""&&(d.isAddVal(Ye)?Le[Fe]=null:d.isRemoveVal(Ye)?Le[Fe]=(l(yt,re).get()||[])[se]:n.warn("unrecognized full object value",ft)),k.update(Ce,ge),Et[re]||(Et[re]={});var ye=Et[re][se];ye||(ye=Et[re][se]={}),ye[Wt]=Ye,delete ft[Fe]}else He==="reverse"?(vn.range?vn.range.reverse():(Oe(on+".autorange",!0),vn.range=[1,0]),$e.autorange?Ce.calc=!0:Ce.plot=!0):(Fe==="dragmode"&&(Ye===!1&&fn!==!1||Ye!==!1&&fn===!1)||gt._has("scatter-like")&&gt._has("regl")&&Fe==="dragmode"&&(Ye==="lasso"||Ye==="select")&&!(fn==="lasso"||fn==="select")?Ce.plot=!0:tt?k.update(Ce,tt):Ce.calc=!0,ke.set(Ye))}}for(re in Et){var Te=d.applyContainerArrayChanges(Q,Mt(yt,re),Et[re],Ce,Mt);Te||(Ce.plot=!0)}for(var Ae in Ve){Re=v.getFromId(Q,Ae);var ze=Re&&Re._constraintGroup;if(ze){Ce.calc=!0;for(var Ee in ze)Ve[Ee]||(v.getFromId(Q,Ee)._constraintShrinkable=!0)}}(Bt(Q)||ft.height||ft.width)&&(Ce.plot=!0);var Je=gt.shapes;for(se=0;se<Je.length;se++)if(Je[se].showlegend){Ce.calc=!0;break}return(Ce.plot||Ce.calc)&&(Ce.layoutReplot=!0),{flags:Ce,rangesAltered:Ve,undoit:Le,redoit:Ne,eventData:le}}function Bt(Q){var ft=Q._fullLayout,yt=ft.width,gt=ft.height;return Q.layout.autosize&&e.plotAutoSize(Q,Q.layout,ft),ft.width!==yt||ft.height!==gt}function Rt(Q,ft,yt,gt){Q=n.getGraphDiv(Q),b.clearPromiseQueue(Q),n.isPlainObject(ft)||(ft={}),n.isPlainObject(yt)||(yt={}),Object.keys(ft).length&&(Q.changed=!0),Object.keys(yt).length&&(Q.changed=!0);var It=b.coerceTraceIndices(Q,gt),Mt=V(Q,n.extendFlat({},ft),It),Jt=Mt.flags,qt=Zt(Q,n.extendFlat({},yt)),le=qt.flags;(Jt.calc||le.calc)&&(Q.calcdata=void 0),Jt.clearAxisTypes&&b.clearAxisTypes(Q,It,yt);var Et=[];le.layoutReplot?Et.push(w.layoutReplot):Jt.fullReplot?Et.push(F._doPlot):(Et.push(e.previousPromises),st(Q,le,qt)||e.supplyDefaults(Q),Jt.style&&Et.push(w.doTraceStyle),(Jt.colorbars||le.colorbars)&&Et.push(w.doColorBars),le.legend&&Et.push(w.doLegend),le.layoutstyle&&Et.push(w.layoutStyles),le.axrange&&ut(Et,qt.rangesAltered),le.ticks&&Et.push(w.doTicksRelayout),le.modebar&&Et.push(w.doModeBar),le.camera&&Et.push(w.doCamera),Et.push(G)),Et.push(e.rehover,e.redrag,e.reselect),o.add(Q,Rt,[Q,Mt.undoit,qt.undoit,Mt.traces],Rt,[Q,Mt.redoit,qt.redoit,Mt.traces]);var re=n.syncOrAsync(Et,Q);return(!re||!re.then)&&(re=Promise.resolve(Q)),re.then(function(){return Q.emit("plotly_update",{data:Mt.eventData,layout:qt.eventData}),Q})}function pt(Q){return function(ft){ft._fullLayout._guiEditing=!0;var yt=Q.apply(null,arguments);return ft._fullLayout._guiEditing=!1,yt}}var bt=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^(map\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],lt=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function kt(Q,ft){for(var yt=0;yt<ft.length;yt++){var gt=ft[yt],It=Q.match(gt.pattern);if(It){var Mt=It[1]||"";return{head:Mt,tail:Q.substr(Mt.length+1),attr:gt.attr}}}}function Nt(Q,ft){var yt=l(ft,Q).get();if(yt!==void 0)return yt;var gt=Q.split(".");for(gt.pop();gt.length>1;)if(gt.pop(),yt=l(ft,gt.join(".")+".uirevision").get(),yt!==void 0)return yt;return ft.uirevision}function Yt(Q,ft){for(var yt=0;yt<ft.length;yt++)if(ft[yt]._fullInput.uid===Q)return yt;return-1}function ee(Q,ft,yt){for(var gt=0;gt<ft.length;gt++)if(ft[gt].uid===Q)return gt;return!ft[yt]||ft[yt].uid?-1:yt}function Xt(Q,ft){var yt=n.isPlainObject(Q),gt=Array.isArray(Q);return yt||gt?(yt&&n.isPlainObject(ft)||gt&&Array.isArray(ft))&&JSON.stringify(Q)===JSON.stringify(ft):Q===ft}function ae(Q,ft,yt,gt){var It=gt._preGUI,Mt,Jt,qt,le,Et,re,se,he,Se,je,Ge=[],Ce={},Ne={};for(Mt in It){if(Et=kt(Mt,bt),Et){if(Se=Et.head,je=Et.tail,Jt=Et.attr||Se+".uirevision",qt=l(gt,Jt).get(),le=qt&&Nt(Jt,ft),le&&le===qt){if(re=It[Mt],re===null&&(re=void 0),se=l(ft,Mt),he=se.get(),Xt(he,re)){he===void 0&&je==="autorange"&&Ge.push(Se),se.set(N(l(gt,Mt).get()));continue}else if(je==="autorange"||je.substr(0,6)==="range["){var Le=It[Se+".range[0]"],Oe=It[Se+".range[1]"],Ve=It[Se+".autorange"];if(Ve||Ve===null&&Le===null&&Oe===null){if(!(Se in Ce)){var Re=l(ft,Se).get();Ce[Se]=Re&&(Re.autorange||Re.autorange!==!1&&(!Re.range||Re.range.length!==2))}if(Ce[Se]){se.set(N(l(gt,Mt).get()));continue}}}}}else n.warn("unrecognized GUI edit: "+Mt);delete It[Mt],Et&&Et.tail.substr(0,6)==="range["&&(Ne[Et.head]=1)}for(var Be=0;Be<Ge.length;Be++){var Fe=Ge[Be];if(Ne[Fe]){var ke=l(ft,Fe).get();ke&&delete ke.autorange}}var Ye=gt._tracePreGUI;for(var Qe in Ye){var ln=Ye[Qe],He=null,an;for(Mt in ln){if(!He){var on=Yt(Qe,yt);if(on<0){delete Ye[Qe];break}var vn=yt[on];an=vn._fullInput;var $e=ee(Qe,Q,an.index);if($e<0){delete Ye[Qe];break}He=Q[$e]}if(Et=kt(Mt,lt),Et){if(Et.attr?(qt=l(gt,Et.attr).get(),le=qt&&Nt(Et.attr,ft)):(qt=an.uirevision,le=He.uirevision,le===void 0&&(le=ft.uirevision)),le&&le===qt&&(re=ln[Mt],re===null&&(re=void 0),se=l(He,Mt),he=se.get(),Xt(he,re))){se.set(N(l(an,Mt).get()));continue}}else n.warn("unrecognized GUI edit: "+Mt+" in trace uid "+Qe);delete ln[Mt]}}}function oe(Q,ft,yt,gt){var It,Mt;function Jt(){return F.addFrames(Q,It)}Q=n.getGraphDiv(Q),b.clearPromiseQueue(Q);var qt=Q._fullData,le=Q._fullLayout;if(!n.isPlotDiv(Q)||!qt||!le)Mt=F.newPlot(Q,ft,yt,gt);else{if(n.isPlainObject(ft)){var Et=ft;ft=Et.data,yt=Et.layout,gt=Et.config,It=Et.frames}var re=!1;if(gt){var se=n.extendDeep({},Q._context);Q._context=void 0,j(Q,gt),re=me(se,Q._context)}Q.data=ft||[],b.cleanData(Q.data),Q.layout=yt||{},b.cleanLayout(Q.layout),ae(Q.data,Q.layout,qt,le),e.supplyDefaults(Q,{skipUpdateCalc:!0});var he=Q._fullData,Se=Q._fullLayout,je=Se.datarevision===void 0,Ge=Se.transition,Ce=pe(Q,le,Se,je,Ge),Ne=Ce.newDataRevision,Le=ie(Q,qt,he,je,Ge,Ne);if(Bt(Q)&&(Ce.layoutReplot=!0),Le.calc||Ce.calc){Q.calcdata=void 0;for(var Oe=Object.getOwnPropertyNames(Se),Ve=0;Ve<Oe.length;Ve++){var Re=Oe[Ve],Be=Re.substring(0,5);if(Be==="xaxis"||Be==="yaxis"){var Fe=Se[Re]._emptyCategories;Fe&&Fe()}}}else e.supplyDefaultsUpdateCalc(Q.calcdata,he);var ke=[];if(It&&(Q._transitionData={},e.createTransitionData(Q),ke.push(Jt)),Se.transition&&!re&&(Le.anim||Ce.anim))Ce.ticks&&ke.push(w.doTicksRelayout),e.doCalcdata(Q),w.doAutoRangeAndConstraints(Q),ke.push(function(){return e.transitionFromReact(Q,Le,Ce,le)});else if(Le.fullReplot||Ce.layoutReplot||re)Q._fullLayout._skipDefaults=!0,ke.push(F._doPlot);else{for(var Ye in Ce.arrays){var Qe=Ce.arrays[Ye];if(Qe.length){var ln=s.getComponentMethod(Ye,"drawOne");if(ln!==n.noop)for(var He=0;He<Qe.length;He++)ln(Q,Qe[He]);else{var an=s.getComponentMethod(Ye,"draw");if(an===n.noop)throw new Error("cannot draw components: "+Ye);an(Q)}}}ke.push(e.previousPromises),Le.style&&ke.push(w.doTraceStyle),(Le.colorbars||Ce.colorbars)&&ke.push(w.doColorBars),Ce.legend&&ke.push(w.doLegend),Ce.layoutstyle&&ke.push(w.layoutStyles),Ce.axrange&&ut(ke),Ce.ticks&&ke.push(w.doTicksRelayout),Ce.modebar&&ke.push(w.doModeBar),Ce.camera&&ke.push(w.doCamera),ke.push(G)}ke.push(e.rehover,e.redrag,e.reselect),Mt=n.syncOrAsync(ke,Q),(!Mt||!Mt.then)&&(Mt=Promise.resolve(Q))}return Mt.then(function(){return Q.emit("plotly_react",{data:ft,layout:yt}),Q})}function ie(Q,ft,yt,gt,It,Mt){var Jt=ft.length===yt.length;if(!It&&!Jt)return{fullReplot:!0,calc:!0};var qt=k.traceFlags();qt.arrays={},qt.nChanges=0,qt.nChangesAnim=0;var le,Et;function re(Se){var je=f.getTraceValObject(Et,Se);return!Et._module.animatable&&je.anim&&(je.anim=!1),je}var se={getValObject:re,flags:qt,immutable:gt,transition:It,newDataRevision:Mt,gd:Q},he={};for(le=0;le<ft.length;le++)if(yt[le]){if(Et=yt[le]._fullInput,he[Et.uid])continue;he[Et.uid]=1,$t(ft[le]._fullInput,Et,[],se)}return(qt.calc||qt.plot)&&(qt.fullReplot=!0),It&&qt.nChanges&&qt.nChangesAnim&&(qt.anim=qt.nChanges===qt.nChangesAnim&&Jt?"all":"some"),qt}function pe(Q,ft,yt,gt,It){var Mt=k.layoutFlags();Mt.arrays={},Mt.rangesAltered={},Mt.nChanges=0,Mt.nChangesAnim=0;function Jt(he){return f.getLayoutValObject(yt,he)}for(var qt in yt)if(!(!qt.startsWith("xaxis")&&!qt.startsWith("yaxis"))&&ft[qt]){var le=yt[qt].domain,Et=ft[qt].domain,re=ft[qt]._inputDomain;ft[qt]._inputDomain&&(le[0]===re[0]&&le[1]===re[1]?yt[qt].domain=ft[qt].domain:(le[0]!==Et[0]||le[1]!==Et[1])&&(yt[qt]._inputDomain=null))}var se={getValObject:Jt,flags:Mt,immutable:gt,transition:It,gd:Q};return $t(ft,yt,[],se),(Mt.plot||Mt.calc)&&(Mt.layoutReplot=!0),It&&Mt.nChanges&&Mt.nChangesAnim&&(Mt.anim=Mt.nChanges===Mt.nChangesAnim?"all":"some"),Mt}function $t(Q,ft,yt,gt){var It,Mt,Jt,qt=gt.getValObject,le=gt.flags,Et=gt.immutable,re=gt.inArray,se=gt.arrayIndex;function he(){var on=It.editType;if(re&&on.indexOf("arraydraw")!==-1){n.pushUnique(le.arrays[re],se);return}k.update(le,It),on!=="none"&&le.nChanges++,gt.transition&&It.anim&&le.nChangesAnim++,(_t.test(Jt)||Tt.test(Jt))&&(le.rangesAltered[yt[0]]=1),Mt==="datarevision"&&(le.newDataRevision=1)}function Se(on){return on.valType==="data_array"||on.arrayOk}for(Mt in Q){if(le.calc&&!gt.transition)return;var je=Q[Mt],Ge=ft[Mt],Ce=yt.concat(Mt);if(Jt=Ce.join("."),!(Mt.charAt(0)==="_"||typeof je=="function"||je===Ge)){if((Mt==="tick0"||Mt==="dtick")&&yt[0]!=="geo"){var Ne=ft.tickmode;if(Ne==="auto"||Ne==="array"||!Ne)continue}if(!(Mt==="range"&&ft.autorange)&&!((Mt==="zmin"||Mt==="zmax")&&ft.type==="contourcarpet")&&(It=qt(Ce),!!It&&!(It._compareAsJSON&&JSON.stringify(je)===JSON.stringify(Ge)))){var Le=It.valType,Oe,Ve=Se(It),Re=Array.isArray(je),Be=Array.isArray(Ge);if(Re&&Be){var Fe="_input_"+Mt,ke=Q[Fe],Ye=ft[Fe];if(Array.isArray(ke)&&ke===Ye)continue}if(Ge===void 0)Ve&&Re?le.calc=!0:he();else if(It._isLinkedToArray){var Qe=[],ln=!1;re||(le.arrays[Mt]=Qe);var He=Math.min(je.length,Ge.length),an=Math.max(je.length,Ge.length);if(He!==an)if(It.editType==="arraydraw")ln=!0;else{he();continue}for(Oe=0;Oe<He;Oe++)$t(je[Oe],Ge[Oe],Ce.concat(Oe),n.extendFlat({inArray:Mt,arrayIndex:Oe},gt));if(ln)for(Oe=He;Oe<an;Oe++)Qe.push(Oe)}else!Le&&n.isPlainObject(je)?$t(je,Ge,Ce,gt):Ve?Re&&Be?(Et&&(le.calc=!0),(Et||gt.newDataRevision)&&he()):Re!==Be?le.calc=!0:he():Re&&Be?(je.length!==Ge.length||String(je)!==String(Ge))&&he():he()}}}for(Mt in ft)if(!(Mt in Q||Mt.charAt(0)==="_"||typeof ft[Mt]=="function"))if(It=qt(yt.concat(Mt)),Se(It)&&Array.isArray(ft[Mt])){le.calc=!0;return}else he()}function me(Q,ft){var yt;for(yt in Q)if(yt.charAt(0)!=="_"){var gt=Q[yt],It=ft[yt];if(gt!==It)if(n.isPlainObject(gt)&&n.isPlainObject(It)){if(me(gt,It))return!0}else if(Array.isArray(gt)&&Array.isArray(It)){if(gt.length!==It.length)return!0;for(var Mt=0;Mt<gt.length;Mt++)if(gt[Mt]!==It[Mt])if(n.isPlainObject(gt[Mt])&&n.isPlainObject(It[Mt])){if(me(gt[Mt],It[Mt]))return!0}else return!0}else return!0}}function we(Q,ft,yt){if(Q=n.getGraphDiv(Q),!n.isPlotDiv(Q))throw new Error("This element is not a Plotly plot: "+Q+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var gt=Q._transitionData;gt._frameQueue||(gt._frameQueue=[]),yt=e.supplyAnimationDefaults(yt);var It=yt.transition,Mt=yt.frame;gt._frameWaitingCnt===void 0&&(gt._frameWaitingCnt=0);function Jt(Et){return Array.isArray(It)?Et>=It.length?It[0]:It[Et]:It}function qt(Et){return Array.isArray(Mt)?Et>=Mt.length?Mt[0]:Mt[Et]:Mt}function le(Et,re){var se=0;return function(){if(Et&&++se===re)return Et()}}return new Promise(function(Et,re){function se(){if(gt._frameQueue.length!==0){for(;gt._frameQueue.length;){var He=gt._frameQueue.pop();He.onInterrupt&&He.onInterrupt()}Q.emit("plotly_animationinterrupted",[])}}function he(He){if(He.length!==0){for(var an=0;an<He.length;an++){var on;He[an].type==="byname"?on=e.computeFrame(Q,He[an].name):on=He[an].data;var vn=qt(an),$e=Jt(an);$e.duration=Math.min($e.duration,vn.duration);var fn={frame:on,name:He[an].name,frameOpts:vn,transitionOpts:$e};an===He.length-1&&(fn.onComplete=le(Et,2),fn.onInterrupt=re),gt._frameQueue.push(fn)}yt.mode==="immediate"&&(gt._lastFrameAt=-1/0),gt._animationRaf||Ge()}}function Se(){Q.emit("plotly_animated"),window.cancelAnimationFrame(gt._animationRaf),gt._animationRaf=null}function je(){gt._currentFrame&&gt._currentFrame.onComplete&&gt._currentFrame.onComplete();var He=gt._currentFrame=gt._frameQueue.shift();if(He){var an=He.name?He.name.toString():null;Q._fullLayout._currentFrame=an,gt._lastFrameAt=Date.now(),gt._timeToNext=He.frameOpts.duration,e.transition(Q,He.frame.data,He.frame.layout,b.coerceTraceIndices(Q,He.frame.traces),He.frameOpts,He.transitionOpts).then(function(){He.onComplete&&He.onComplete()}),Q.emit("plotly_animatingframe",{name:an,frame:He.frame,animation:{frame:He.frameOpts,transition:He.transitionOpts}})}else Se()}function Ge(){Q.emit("plotly_animating"),gt._lastFrameAt=-1/0,gt._timeToNext=0,gt._runningTransitions=0,gt._currentFrame=null;var He=function(){gt._animationRaf=window.requestAnimationFrame(He),Date.now()-gt._lastFrameAt>gt._timeToNext&&je()};He()}var Ce=0;function Ne(He){return Array.isArray(It)?Ce>=It.length?He.transitionOpts=It[Ce]:He.transitionOpts=It[0]:He.transitionOpts=It,Ce++,He}var Le,Oe,Ve=[],Re=ft==null,Be=Array.isArray(ft),Fe=!Re&&!Be&&n.isPlainObject(ft);if(Fe)Ve.push({type:"object",data:Ne(n.extendFlat({},ft))});else if(Re||["string","number"].indexOf(typeof ft)!==-1)for(Le=0;Le<gt._frames.length;Le++)Oe=gt._frames[Le],Oe&&(Re||String(Oe.group)===String(ft))&&Ve.push({type:"byname",name:String(Oe.name),data:Ne({name:Oe.name})});else if(Be)for(Le=0;Le<ft.length;Le++){var ke=ft[Le];["number","string"].indexOf(typeof ke)!==-1?(ke=String(ke),Ve.push({type:"byname",name:ke,data:Ne({name:ke})})):n.isPlainObject(ke)&&Ve.push({type:"object",data:Ne(n.extendFlat({},ke))})}for(Le=0;Le<Ve.length;Le++)if(Oe=Ve[Le],Oe.type==="byname"&&!gt._frameHash[Oe.data.name]){n.warn('animate failure: frame not found: "'+Oe.data.name+'"'),re();return}["next","immediate"].indexOf(yt.mode)!==-1&&se(),yt.direction==="reverse"&&Ve.reverse();var Ye=Q._fullLayout._currentFrame;if(Ye&&yt.fromcurrent){var Qe=-1;for(Le=0;Le<Ve.length;Le++)if(Oe=Ve[Le],Oe.type==="byname"&&Oe.name===Ye){Qe=Le;break}if(Qe>0&&Qe<Ve.length-1){var ln=[];for(Le=0;Le<Ve.length;Le++)Oe=Ve[Le],(Ve[Le].type!=="byname"||Le>Qe)&&ln.push(Oe);Ve=ln}}Ve.length>0?he(Ve):(Q.emit("plotly_animated"),Et())})}function ve(Q,ft,yt){if(Q=n.getGraphDiv(Q),ft==null)return Promise.resolve();if(!n.isPlotDiv(Q))throw new Error("This element is not a Plotly plot: "+Q+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var gt,It,Mt,Jt,qt=Q._transitionData._frames,le=Q._transitionData._frameHash;if(!Array.isArray(ft))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+ft);var Et=qt.length+ft.length*2,re=[],se={};for(gt=ft.length-1;gt>=0;gt--)if(n.isPlainObject(ft[gt])){var he=ft[gt].name,Se=(le[he]||se[he]||{}).name,je=ft[gt].name,Ge=le[Se]||se[Se];Se&&je&&typeof je=="number"&&Ge&&P<O&&(P++,n.warn('addFrames: overwriting frame "'+(le[Se]||se[Se]).name+'" with a frame whose name of type "number" also equates to "'+Se+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),P===O&&n.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),se[he]={name:he},re.push({frame:e.supplyFrameDefaults(ft[gt]),index:yt&&yt[gt]!==void 0&&yt[gt]!==null?yt[gt]:Et+gt})}re.sort(function(Fe,ke){return Fe.index>ke.index?-1:Fe.index<ke.index?1:0});var Ce=[],Ne=[],Le=qt.length;for(gt=re.length-1;gt>=0;gt--){if(It=re[gt].frame,typeof It.name=="number"&&n.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!It.name)for(;le[It.name="frame "+Q._transitionData._counter++];);if(le[It.name]){for(Mt=0;Mt<qt.length&&(qt[Mt]||{}).name!==It.name;Mt++);Ce.push({type:"replace",index:Mt,value:It}),Ne.unshift({type:"replace",index:Mt,value:qt[Mt]})}else Jt=Math.max(0,Math.min(re[gt].index,Le)),Ce.push({type:"insert",index:Jt,value:It}),Ne.unshift({type:"delete",index:Jt}),Le++}var Oe=e.modifyFrames,Ve=e.modifyFrames,Re=[Q,Ne],Be=[Q,Ce];return o&&o.add(Q,Oe,Re,Ve,Be),e.modifyFrames(Q,Ce)}function Me(Q,ft){if(Q=n.getGraphDiv(Q),!n.isPlotDiv(Q))throw new Error("This element is not a Plotly plot: "+Q);var yt,gt,It=Q._transitionData._frames,Mt=[],Jt=[];if(!ft)for(ft=[],yt=0;yt<It.length;yt++)ft.push(yt);for(ft=ft.slice(),ft.sort(),yt=ft.length-1;yt>=0;yt--)gt=ft[yt],Mt.push({type:"delete",index:gt}),Jt.unshift({type:"insert",index:gt,value:It[gt]});var qt=e.modifyFrames,le=e.modifyFrames,Et=[Q,Jt],re=[Q,Mt];return o&&o.add(Q,qt,Et,le,re),e.modifyFrames(Q,Mt)}function mt(Q){Q=n.getGraphDiv(Q);var ft=Q._fullLayout||{},yt=Q._fullData||[];return e.cleanPlot([],{},yt,ft),e.purge(Q),i.purge(Q),ft._container&&ft._container.remove(),delete Q._context,Q}function Lt(Q){var ft=Q._fullLayout,yt=Q.getBoundingClientRect();if(!n.equalDomRects(yt,ft._lastBBox)){var gt=ft._invTransform=n.inverseTransformMatrix(n.getFullTransformMatrix(Q));ft._invScaleX=Math.sqrt(gt[0][0]*gt[0][0]+gt[0][1]*gt[0][1]+gt[0][2]*gt[0][2]),ft._invScaleY=Math.sqrt(gt[1][0]*gt[1][0]+gt[1][1]*gt[1][1]+gt[1][2]*gt[1][2]),ft._lastBBox=yt}}function At(Q){var ft=C.select(Q),yt=Q._fullLayout;if(yt._calcInverseTransform=Lt,yt._calcInverseTransform(Q),yt._container=ft.selectAll(".plot-container").data([0]),yt._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0).style({width:"100%",height:"100%"}),yt._paperdiv=yt._container.selectAll(".svg-container").data([0]),yt._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),yt._glcontainer=yt._paperdiv.selectAll(".gl-container").data([{}]),yt._glcontainer.enter().append("div").classed("gl-container",!0),yt._paperdiv.selectAll(".main-svg").remove(),yt._paperdiv.select(".modebar-container").remove(),yt._paper=yt._paperdiv.insert("svg",":first-child").classed("main-svg",!0),yt._toppaper=yt._paperdiv.append("svg").classed("main-svg",!0),yt._modebardiv=yt._paperdiv.append("div"),delete yt._modeBar,yt._hoverpaper=yt._paperdiv.append("svg").classed("main-svg",!0),!yt._uid){var gt={};C.selectAll("defs").each(function(){this.id&&(gt[this.id.split("-")[1]]=1)}),yt._uid=n.randstr(gt)}yt._paperdiv.selectAll(".main-svg").attr(y.svgAttrs),yt._defs=yt._paper.append("defs").attr("id","defs-"+yt._uid),yt._clips=yt._defs.append("g").classed("clips",!0),yt._topdefs=yt._toppaper.append("defs").attr("id","topdefs-"+yt._uid),yt._topclips=yt._topdefs.append("g").classed("clips",!0),yt._bgLayer=yt._paper.append("g").classed("bglayer",!0),yt._draggers=yt._paper.append("g").classed("draglayer",!0);var It=yt._paper.append("g").classed("layer-below",!0);yt._imageLowerLayer=It.append("g").classed("imagelayer",!0),yt._shapeLowerLayer=It.append("g").classed("shapelayer",!0),yt._cartesianlayer=yt._paper.append("g").classed("cartesianlayer",!0),yt._polarlayer=yt._paper.append("g").classed("polarlayer",!0),yt._smithlayer=yt._paper.append("g").classed("smithlayer",!0),yt._ternarylayer=yt._paper.append("g").classed("ternarylayer",!0),yt._geolayer=yt._paper.append("g").classed("geolayer",!0),yt._funnelarealayer=yt._paper.append("g").classed("funnelarealayer",!0),yt._pielayer=yt._paper.append("g").classed("pielayer",!0),yt._iciclelayer=yt._paper.append("g").classed("iciclelayer",!0),yt._treemaplayer=yt._paper.append("g").classed("treemaplayer",!0),yt._sunburstlayer=yt._paper.append("g").classed("sunburstlayer",!0),yt._indicatorlayer=yt._toppaper.append("g").classed("indicatorlayer",!0),yt._glimages=yt._paper.append("g").classed("glimages",!0);var Mt=yt._toppaper.append("g").classed("layer-above",!0);yt._imageUpperLayer=Mt.append("g").classed("imagelayer",!0),yt._shapeUpperLayer=Mt.append("g").classed("shapelayer",!0),yt._selectionLayer=yt._toppaper.append("g").classed("selectionlayer",!0),yt._infolayer=yt._toppaper.append("g").classed("infolayer",!0),yt._menulayer=yt._toppaper.append("g").classed("menulayer",!0),yt._zoomlayer=yt._toppaper.append("g").classed("zoomlayer",!0),yt._hoverlayer=yt._hoverpaper.append("g").classed("hoverlayer",!0),yt._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),Q.emit("plotly_framework")}F.animate=we,F.addFrames=ve,F.deleteFrames=Me,F.addTraces=Y,F.deleteTraces=A,F.extendTraces=xt,F.moveTraces=J,F.prependTraces=H,F.newPlot=Z,F._doPlot=T,F.purge=mt,F.react=oe,F.redraw=U,F.relayout=rt,F.restyle=at,F.setPlotConfig=I,F.update=Rt,F._guiRelayout=pt(rt),F._guiRestyle=pt(at),F._guiUpdate=pt(Rt),F._storeDirectGUIEdit=R}),Ar=Ct(F=>{var C=un();F.getDelay=function(n){return n._has&&(n._has("gl3d")||n._has("mapbox")||n._has("map"))?500:0},F.getRedrawFunc=function(n){return function(){C.getComponentMethod("colorbar","draw")(n)}},F.encodeSVG=function(n){return"data:image/svg+xml,"+encodeURIComponent(n)},F.encodeJSON=function(n){return"data:application/json,"+encodeURIComponent(n)};var r=window.URL||window.webkitURL;F.createObjectURL=function(n){return r.createObjectURL(n)},F.revokeObjectURL=function(n){return r.revokeObjectURL(n)},F.createBlob=function(n,l){if(l==="svg")return new window.Blob([n],{type:"image/svg+xml;charset=utf-8"});if(l==="full-json")return new window.Blob([n],{type:"application/json;charset=utf-8"});var i=t(window.atob(n));return new window.Blob([i],{type:"image/"+l})},F.octetStream=function(n){document.location.href="data:application/octet-stream"+n};function t(n){for(var l=n.length,i=new ArrayBuffer(l),o=new Uint8Array(i),s=0;s<l;s++)o[s]=n.charCodeAt(s);return i}F.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/}),$i=Ct((F,C)=>{var r=wn();De();var t=zn(),n=bn();Tr();var l=/"/g,i="TOBESTRIPPED",o=new RegExp('("'+i+")|("+i+'")',"g");function s(e){var v=r.select("body").append("div").style({display:"none"}).html(""),u=e.replace(/(&[^;]*;)/gi,function(h){return h==="&lt;"?"&#60;":h==="&rt;"?"&#62;":h.indexOf("<")!==-1||h.indexOf(">")!==-1?"":v.html(h).text()});return v.remove(),u}function f(e){return e.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}C.exports=function(e,v,u){var h=e._fullLayout,_=h._paper,m=h._toppaper,g=h.width,y=h.height,p;_.insert("rect",":first-child").call(t.setRect,0,0,g,y).call(n.fill,h.paper_bgcolor);var c=h._basePlotModules||[];for(p=0;p<c.length;p++){var d=c[p];d.toSVG&&d.toSVG(e)}if(m){var b=m.node().childNodes,w=Array.prototype.slice.call(b);for(p=0;p<w.length;p++){var k=w[p];k.childNodes.length&&_.node().appendChild(k)}}h._draggers&&h._draggers.remove(),_.node().style.background="",_.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var P=r.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){P.remove();return}else P.style({visibility:null,display:null});var O=this.style.fontFamily;O&&O.indexOf('"')!==-1&&P.style("font-family",O.replace(l,i));var T=this.style.fontWeight;T&&(T==="normal"||T==="400")&&P.style("font-weight",void 0);var G=this.style.fontStyle;G&&G==="normal"&&P.style("font-style",void 0);var I=this.style.fontVariant;I&&I==="normal"&&P.style("font-variant",void 0)}),_.selectAll(".gradient_filled,.pattern_filled").each(function(){var P=r.select(this),O=this.style.fill;O&&O.indexOf("url(")!==-1&&P.style("fill",O.replace(l,i));var T=this.style.stroke;T&&T.indexOf("url(")!==-1&&P.style("stroke",T.replace(l,i))}),(v==="pdf"||v==="eps")&&_.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),v==="svg"&&u&&(_.attr("width",u*g),_.attr("height",u*y),_.attr("viewBox","0 0 "+g+" "+y));var $=new window.XMLSerializer().serializeToString(_.node());return $=s($),$=f($),$=$.replace(o,"'"),$}}),Qi=Ct((F,C)=>{var r=De(),t=Pi().EventEmitter,n=Ar();function l(i){var o=i.emitter||new t,s=new Promise(function(f,e){var v=window.Image,u=i.svg,h=i.format||"png",_=i.canvas,m=i.scale||1,g=i.width||300,y=i.height||150,p=m*g,c=m*y,d=_.getContext("2d",{willReadFrequently:!0}),b=new v,w,k;h==="svg"||r.isSafari()?k=n.encodeSVG(u):(w=n.createBlob(u,"svg"),k=n.createObjectURL(w)),_.width=p,_.height=c,b.onload=function(){var $;switch(w=null,n.revokeObjectURL(k),h!=="svg"&&d.drawImage(b,0,0,p,c),h){case"jpeg":$=_.toDataURL("image/jpeg");break;case"png":$=_.toDataURL("image/png");break;case"webp":$=_.toDataURL("image/webp");break;case"svg":$=k;break;default:var P="Image format is not jpeg, png, svg or webp.";if(e(new Error(P)),!i.promise)return o.emit("error",P)}f($),i.promise||o.emit("success",$)},b.onerror=function($){if(w=null,n.revokeObjectURL(k),e($),!i.promise)return o.emit("error",$)},b.src=k});return i.promise?s:o}C.exports=l}),Ol=Ct((F,C)=>{var r=Mn(),t=Sl(),n=aa(),l=De(),i=Ar(),o=$i(),s=Qi(),f=wi().version,e={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function v(u,h){h=h||{};var _,m,g,y;l.isPlainObject(u)?(_=u.data||[],m=u.layout||{},g=u.config||{},y={}):(u=l.getGraphDiv(u),_=l.extendDeep([],u.data),m=l.extendDeep({},u.layout),g=u._context,y=u._fullLayout||{});function p(Z){return!(Z in h)||l.validate(h[Z],e[Z])}if(!p("width")&&h.width!==null||!p("height")&&h.height!==null)throw new Error("Height and width should be pixel values.");if(!p("format"))throw new Error("Export format is not "+l.join2(e.format.values,", "," or ")+".");var c={};function d(Z,D){return l.coerce(h,c,e,Z,D)}var b=d("format"),w=d("width"),k=d("height"),$=d("scale"),P=d("setBackground"),O=d("imageDataOnly"),T=document.createElement("div");T.style.position="absolute",T.style.left="-5000px",document.body.appendChild(T);var G=l.extendFlat({},m);w?G.width=w:h.width===null&&r(y.width)&&(G.width=y.width),k?G.height=k:h.height===null&&r(y.height)&&(G.height=y.height);var I=l.extendFlat({},g,{_exportedPlot:!0,staticPlot:!0,setBackground:P}),E=i.getRedrawFunc(T);function z(){return new Promise(function(Z){setTimeout(Z,i.getDelay(T._fullLayout))})}function j(){return new Promise(function(Z,D){var W=o(T,b,$),X=T._fullLayout.width,it=T._fullLayout.height;function nt(){t.purge(T),document.body.removeChild(T)}if(b==="full-json"){var ot=n.graphJson(T,!1,"keepdata","object",!0,!0);return ot.version=f,ot=JSON.stringify(ot),nt(),Z(O?ot:i.encodeJSON(ot))}if(nt(),b==="svg")return Z(O?W:i.encodeSVG(W));var dt=document.createElement("canvas");dt.id=l.randstr(),s({format:b,width:X,height:it,scale:$,canvas:dt,svg:W,promise:!0}).then(Z).catch(D)})}function U(Z){return O?Z.replace(i.IMAGE_URL_PREFIX,""):Z}return new Promise(function(Z,D){t.newPlot(T,_,G,I).then(E).then(z).then(j).then(function(W){Z(U(W))}).catch(function(W){D(W)})})}C.exports=v}),Xc=Ct((F,C)=>{var r=De(),t=aa(),n=zr(),l=wr().dfltConfig,i=r.isPlainObject,o=Array.isArray,s=r.isArrayOrTypedArray;C.exports=function(c,d){c===void 0&&(c=[]),d===void 0&&(d={});var b=n.get(),w=[],k={_context:r.extendFlat({},l)},$,P;o(c)?(k.data=r.extendDeep([],c),$=c):(k.data=[],$=[],w.push(h("array","data"))),i(d)?(k.layout=r.extendDeep({},d),P=d):(k.layout={},P={},arguments.length>1&&w.push(h("object","layout"))),t.supplyDefaults(k);for(var O=k._fullData,T=$.length,G=0;G<T;G++){var I=$[G],E=["data",G];if(!i(I)){w.push(h("object",E));continue}var z=O[G],j=z.type,U=b.traces[j].attributes;U.type={valType:"enumerated",values:[j]},z.visible===!1&&I.visible!==!1&&w.push(h("invisible",E)),f(I,z,U,w,E)}var Z=k._fullLayout,D=e(b,O);return f(P,Z,D,w,"layout"),w.length===0?void 0:w};function f(c,d,b,w,k,$){$=$||[];for(var P=Object.keys(c),O=0;O<P.length;O++){var T=P[O],G=$.slice();G.push(T);var I=c[T],E=d[T],z=m(b,T),j=(z||{}).valType,U=j==="info_array",Z=j==="colorscale",D=(z||{}).items;if(!_(b,T))w.push(h("schema",k,G));else if(i(I)&&i(E)&&j!=="any")f(I,E,z,w,k,G);else if(U&&o(I)){I.length>E.length&&w.push(h("unused",k,G.concat(E.length)));var W=E.length,X=Array.isArray(D);X&&(W=Math.min(W,D.length));var it,nt,ot,dt,ht;if(z.dimensions===2)for(nt=0;nt<W;nt++)if(o(I[nt])){I[nt].length>E[nt].length&&w.push(h("unused",k,G.concat(nt,E[nt].length)));var xt=E[nt].length;for(it=0;it<(X?Math.min(xt,D[nt].length):xt);it++)ot=X?D[nt][it]:D,dt=I[nt][it],ht=E[nt][it],r.validate(dt,ot)?ht!==dt&&ht!==+dt&&w.push(h("dynamic",k,G.concat(nt,it),dt,ht)):w.push(h("value",k,G.concat(nt,it),dt))}else w.push(h("array",k,G.concat(nt),I[nt]));else for(nt=0;nt<W;nt++)ot=X?D[nt]:D,dt=I[nt],ht=E[nt],r.validate(dt,ot)?ht!==dt&&ht!==+dt&&w.push(h("dynamic",k,G.concat(nt),dt,ht)):w.push(h("value",k,G.concat(nt),dt))}else if(z.items&&!U&&o(I)){var H=D[Object.keys(D)[0]],Y=[],A,J;for(A=0;A<E.length;A++){var at=E[A]._index||A;if(J=G.slice(),J.push(at),i(I[at])&&i(E[A])){Y.push(at);var N=I[at],M=E[A];i(N)&&N.visible!==!1&&M.visible===!1?w.push(h("invisible",k,J)):f(N,M,H,w,k,J)}}for(A=0;A<I.length;A++)J=G.slice(),J.push(A),i(I[A])?Y.indexOf(A)===-1&&w.push(h("unused",k,J)):w.push(h("object",k,J,I[A]))}else!i(I)&&i(E)?w.push(h("object",k,G,I)):!s(I)&&s(E)&&!U&&!Z?w.push(h("array",k,G,I)):T in d?r.validate(I,z)?z.valType==="enumerated"&&(z.coerceNumber&&I!==+E||!s(I)&&I!==E||String(I)!==String(E))&&w.push(h("dynamic",k,G,I,E)):w.push(h("value",k,G,I)):w.push(h("unused",k,G,I))}return w}function e(c,d){for(var b=c.layout.layoutAttributes,w=0;w<d.length;w++){var k=d[w],$=c.traces[k.type],P=$.layoutAttributes;P&&(k.subplot?r.extendFlat(b[$.attributes.subplot.dflt],P):r.extendFlat(b,P))}return b}var v={object:function(c,d){var b;return c==="layout"&&d===""?b="The layout argument":c[0]==="data"&&d===""?b="Trace "+c[1]+" in the data argument":b=u(c)+"key "+d,b+" must be linked to an object container"},array:function(c,d){var b;return c==="data"?b="The data argument":b=u(c)+"key "+d,b+" must be linked to an array container"},schema:function(c,d){return u(c)+"key "+d+" is not part of the schema"},unused:function(c,d,b){var w=i(b)?"container":"key";return u(c)+w+" "+d+" did not get coerced"},dynamic:function(c,d,b,w){return[u(c)+"key",d,"(set to '"+b+"')","got reset to","'"+w+"'","during defaults."].join(" ")},invisible:function(c,d){return(d?u(c)+"item "+d:"Trace "+c[1])+" got defaulted to be not visible"},value:function(c,d,b){return[u(c)+"key "+d,"is set to an invalid value ("+b+")"].join(" ")}};function u(c){return o(c)?"In data trace "+c[1]+", ":"In "+c+", "}function h(c,d,b,w,k){b=b||"";var $,P;o(d)?($=d[0],P=d[1]):($=d,P=null);var O=p(b),T=v[c](d,O,w,k);return r.log(T),{code:c,container:$,trace:P,path:b,astr:O,msg:T}}function _(c,d){var b=y(d),w=b.keyMinusId,k=b.id;return w in c&&c[w]._isSubplotObj&&k?!0:d in c}function m(c,d){if(d in c)return c[d];var b=y(d);return c[b.keyMinusId]}var g=r.counterRegex("([a-z]+)");function y(c){var d=c.match(g);return{keyMinusId:d&&d[1],id:d&&d[2]}}function p(c){if(!o(c))return String(c);for(var d="",b=0;b<c.length;b++){var w=c[b];typeof w=="number"?d=d.substr(0,d.length-1)+"["+w+"]":d+=w,b<c.length-1&&(d+=".")}return d}}),qc=Ct((F,C)=>{var r=De(),t=Ar();function n(l,i,o){var s=document.createElement("a"),f="download"in s,e=new Promise(function(v,u){var h,_;if(f)return h=t.createBlob(l,o),_=t.createObjectURL(h),s.href=_,s.download=i,document.body.appendChild(s),s.click(),document.body.removeChild(s),t.revokeObjectURL(_),h=null,v(i);if(r.isSafari()){var m=o==="svg"?",":";base64,";return t.octetStream(m+encodeURIComponent(l)),v(i)}u(new Error("download error"))});return e}C.exports=n}),Dl=Ct((F,C)=>{var r=De(),t=Ol(),n=qc();Ar();function l(i,o){var s;return r.isPlainObject(i)||(s=r.getGraphDiv(i)),o=o||{},o.format=o.format||"png",o.width=o.width||null,o.height=o.height||null,o.imageDataOnly=!0,new Promise(function(f,e){s&&s._snapshotInProgress&&e(new Error("Snapshotting already in progress.")),s&&(s._snapshotInProgress=!0);var v=t(i,o),u=o.filename||i.fn||"newplot";u+="."+o.format.replace("-","."),v.then(function(h){return s&&(s._snapshotInProgress=!1),n(h,u,o.format)}).then(function(h){f(h)}).catch(function(h){s&&(s._snapshotInProgress=!1),e(h)})})}C.exports=l}),$c=Ct(F=>{var C=De(),r=C.isPlainObject,t=zr(),n=aa(),l=Ba(),i=Bn(),o=wr().dfltConfig;F.makeTemplate=function(g){g=C.isPlainObject(g)?g:C.getGraphDiv(g),g=C.extendDeep({_context:o},{data:g.data,layout:g.layout}),n.supplyDefaults(g);var y=g.data||[],p=g.layout||{};p._basePlotModules=g._fullLayout._basePlotModules,p._modules=g._fullLayout._modules;var c={data:{},layout:{}};y.forEach(function(I){var E={};e(I,E,u.bind(null,I));var z=C.coerce(I,{},l,"type"),j=c.data[z];j||(j=c.data[z]=[]),j.push(E)}),e(p,c.layout,v.bind(null,p)),delete c.layout.template;var d=p.template;if(r(d)){var b=d.layout,w,k,$,P,O,T;r(b)&&s(b,c.layout);var G=d.data;if(r(G)){for(k in c.data)if($=G[k],Array.isArray($)){for(O=c.data[k],T=O.length,P=$.length,w=0;w<T;w++)s($[w%P],O[w]);for(w=T;w<P;w++)O.push(C.extendDeep({},$[w]))}for(k in G)k in c.data||(c.data[k]=C.extendDeep([],G[k]))}}return c};function s(g,y){g=C.extendDeep({},g);var p=Object.keys(g).sort(),c,d;function b(O,T,G){if(r(T)&&r(O))s(O,T);else if(Array.isArray(T)&&Array.isArray(O)){var I=i.arrayTemplater({_template:g},G);for(d=0;d<T.length;d++){var E=T[d],z=I.newItem(E)._template;z&&s(z,E)}var j=I.defaultItems();for(d=0;d<j.length;d++)T.push(j[d]._template);for(d=0;d<T.length;d++)delete T[d].templateitemname}}for(c=0;c<p.length;c++){var w=p[c],k=g[w];if(w in y?b(k,y[w],w):y[w]=k,f(w)===w)for(var $ in y){var P=f($);$!==P&&P===w&&!($ in g)&&b(k,y[$],w)}}}function f(g){return g.replace(/[0-9]+$/,"")}function e(g,y,p,c,d){var b=d&&p(d);for(var w in g){var k=g[w],$=h(g,w,c),P=h(g,w,d),O=p(P);if(!O){var T=f(w);T!==w&&(P=h(g,T,d),O=p(P))}if(!(b&&b===O)&&!(!O||O._noTemplating||O.valType==="data_array"||O.arrayOk&&Array.isArray(k)))if(!O.valType&&r(k))e(k,y,p,$,P);else if(O._isLinkedToArray&&Array.isArray(k))for(var G=!1,I=0,E={},z=0;z<k.length;z++){var j=k[z];if(r(j)){var U=j.name;if(U)E[U]||(e(j,y,p,h(k,I,$),h(k,I,P)),I++,E[U]=1);else if(!G){var Z=i.arrayDefaultKey(w),D=h(g,Z,c),W=h(k,I,$);e(j,y,p,W,h(k,I,P));var X=C.nestedProperty(y,W),it=C.nestedProperty(y,D);it.set(X.get()),X.set(null),G=!0}}}else{var nt=C.nestedProperty(y,$);nt.set(k)}}}function v(g,y){return t.getLayoutValObject(g,C.nestedProperty({},y).parts)}function u(g,y){return t.getTraceValObject(g,C.nestedProperty({},y).parts)}function h(g,y,p){var c;return p?Array.isArray(g)?c=p+"["+y+"]":c=p+"."+y:c=y,c}F.validateTemplate=function(g,y){var p=C.extendDeep({},{_context:o,data:g.data,layout:g.layout}),c=p.layout||{};r(y)||(y=c.template||{});var d=y.layout,b=y.data,w=[];p.layout=c,p.layout.template=y,n.supplyDefaults(p);var k=p._fullLayout,$=p._fullData,P={};function O(D,W){for(var X in D)if(X.charAt(0)!=="_"&&r(D[X])){var it=f(X),nt=[],ot;for(ot=0;ot<W.length;ot++)nt.push(h(D,X,W[ot])),it!==X&&nt.push(h(D,it,W[ot]));for(ot=0;ot<nt.length;ot++)P[nt[ot]]=1;O(D[X],nt)}}function T(D,W){for(var X in D)if(X.indexOf("defaults")===-1&&r(D[X])){var it=h(D,X,W);P[it]?T(D[X],it):w.push({code:"unused",path:it})}}if(r(d)?(O(k,["layout"]),T(d,"layout")):w.push({code:"layout"}),!r(b))w.push({code:"data"});else{for(var G={},I,E=0;E<$.length;E++){var z=$[E];I=z.type,G[I]=(G[I]||0)+1,z._fullInput._template||w.push({code:"missing",index:z.index,traceType:I})}for(I in b){var j=b[I].length,U=G[I]||0;j>U?w.push({code:"unused",traceType:I,templateCount:j,dataCount:U}):U>j&&w.push({code:"reused",traceType:I,templateCount:j,dataCount:U})}}function Z(D,W){for(var X in D)if(X.charAt(0)!=="_"){var it=D[X],nt=h(D,X,W);r(it)?(Array.isArray(D)&&it._template===!1&&it.templateitemname&&w.push({code:"missing",path:nt,templateitemname:it.templateitemname}),Z(it,nt)):Array.isArray(it)&&_(it)&&Z(it,nt)}}if(Z({data:$,layout:k},""),w.length)return w.map(m)};function _(g){for(var y=0;y<g.length;y++)if(r(g[y]))return!0}function m(g){var y;switch(g.code){case"data":y="The template has no key data.";break;case"layout":y="The template has no key layout.";break;case"missing":g.path?y="There are no templates for item "+g.path+" with name "+g.templateitemname:y="There are no templates for trace "+g.index+", of type "+g.traceType+".";break;case"unused":g.path?y="The template item at "+g.path+" was not used in constructing the plot.":g.dataCount?y="Some of the templates of type "+g.traceType+" were not used. The template has "+g.templateCount+" traces, the data only has "+g.dataCount+" of this type.":y="The template has "+g.templateCount+" traces of type "+g.traceType+" but there are none in the data.";break;case"reused":y="Some of the templates of type "+g.traceType+" were used more than once. The template has "+g.templateCount+" traces, the data has "+g.dataCount+" of this type.";break}return g.msg=y,g}}),Qc=Ct(F=>{var C=Sl();F._doPlot=C._doPlot,F.newPlot=C.newPlot,F.restyle=C.restyle,F.relayout=C.relayout,F.redraw=C.redraw,F.update=C.update,F._guiRestyle=C._guiRestyle,F._guiRelayout=C._guiRelayout,F._guiUpdate=C._guiUpdate,F._storeDirectGUIEdit=C._storeDirectGUIEdit,F.react=C.react,F.extendTraces=C.extendTraces,F.prependTraces=C.prependTraces,F.addTraces=C.addTraces,F.deleteTraces=C.deleteTraces,F.moveTraces=C.moveTraces,F.purge=C.purge,F.addFrames=C.addFrames,F.deleteFrames=C.deleteFrames,F.animate=C.animate,F.setPlotConfig=C.setPlotConfig;var r=Gr().getGraphDiv,t=Ji().eraseActiveShape;F.deleteActiveShape=function(l){return t(r(l))},F.toImage=Ol(),F.validate=Xc(),F.downloadImage=Dl();var n=$c();F.makeTemplate=n.makeTemplate,F.validateTemplate=n.validateTemplate}),Cl=Ct((F,C)=>{var r=De(),t=un();C.exports=function(n,l,i,o){var s=o("x"),f=o("y"),e,v=t.getComponentMethod("calendars","handleTraceDefaults");if(v(n,l,["x","y"],i),s){var u=r.minRowLength(s);f?e=Math.min(u,r.minRowLength(f)):(e=u,o("y0"),o("dy"))}else{if(!f)return 0;e=r.minRowLength(f),o("x0"),o("dx")}return l._length=e,e}}),Pl=Ct((F,C)=>{var r=De().dateTick0,t=oa(),n=t.ONEWEEK;function l(i,o){return i%n===0?r(o,1):r(o,0)}C.exports=function(i,o,s,f,e){if(e||(e={x:!0,y:!0}),e.x){var v=f("xperiod");v&&(f("xperiod0",l(v,o.xcalendar)),f("xperiodalignment"))}if(e.y){var u=f("yperiod");u&&(f("yperiod0",l(u,o.ycalendar)),f("yperiodalignment"))}}}),Kc=Ct((F,C)=>{var r=["orientation","groupnorm","stackgaps"];C.exports=function(t,n,l,i){var o=l._scatterStackOpts,s=i("stackgroup");if(s){var f=n.xaxis+n.yaxis,e=o[f];e||(e=o[f]={});var v=e[s],u=!1;v?v.traces.push(n):(v=e[s]={traceIndices:[],traces:[n]},u=!0);for(var h={orientation:n.x&&!n.y?"h":"v"},_=0;_<r.length;_++){var m=r[_],g=m+"Found";if(!v[g]){var y=t[m]!==void 0,p=m==="orientation";if((y||u)&&(v[m]=i(m,h[m]),p&&(v.fillDflt=v[m]==="h"?"tonextx":"tonexty"),y&&(v[g]=!0,!u&&(delete v.traces[0][m],p))))for(var c=0;c<v.traces.length-1;c++){var d=v.traces[c];d._input.fill!==d.fill&&(d.fill=v.fillDflt)}}}return v}}}),tf=Ct((F,C)=>{var r=bn(),t=Ea().hasColorscale,n=Rr(),l=Pa();C.exports=function(i,o,s,f,e,v){var u=l.isBubble(i),h=(i.line||{}).color,_;if(v=v||{},h&&(s=h),e("marker.symbol"),e("marker.opacity",u?.7:1),e("marker.size"),v.noAngle||(e("marker.angle"),v.noAngleRef||e("marker.angleref"),v.noStandOff||e("marker.standoff")),e("marker.color",s),t(i,"marker")&&n(i,o,f,e,{prefix:"marker.",cLetter:"c"}),v.noSelect||(e("selected.marker.color"),e("unselected.marker.color"),e("selected.marker.size"),e("unselected.marker.size")),v.noLine||(h&&!Array.isArray(h)&&o.marker.color!==h?_=h:u?_=r.background:_=r.defaultLine,e("marker.line.color",_),t(i,"marker.line")&&n(i,o,f,e,{prefix:"marker.line.",cLetter:"c"}),e("marker.line.width",u?1:0)),u&&(e("marker.sizeref"),e("marker.sizemin"),e("marker.sizemode")),v.gradient){var m=e("marker.gradient.type");m!=="none"&&e("marker.gradient.color")}}}),ef=Ct((F,C)=>{var r=De().isArrayOrTypedArray,t=Ea().hasColorscale,n=Rr();C.exports=function(l,i,o,s,f,e){e||(e={});var v=(l.marker||{}).color;if(v&&v._inputArray&&(v=v._inputArray),f("line.color",o),t(l,"line"))n(l,i,s,f,{prefix:"line.",cLetter:"c"});else{var u=(r(v)?!1:v)||o;f("line.color",u)}f("line.width"),e.noDash||f("line.dash"),e.backoff&&f("line.backoff")}}),nf=Ct((F,C)=>{C.exports=function(r,t,n){var l=n("line.shape");l==="spline"&&n("line.smoothing")}}),af=Ct((F,C)=>{var r=De();C.exports=function(t,n,l,i,o){o=o||{},i("textposition"),r.coerceFont(i,"textfont",o.font||l.font,o),o.noSelect||(i("selected.textfont.color"),i("unselected.textfont.color"))}}),rf=Ct((F,C)=>{var r=bn(),t=De().isArrayOrTypedArray;function n(l){for(var i=r.interpolate(l[0][1],l[1][1],.5),o=2;o<l.length;o++){var s=r.interpolate(l[o-1][1],l[o][1],.5);i=r.interpolate(i,s,l[o-1][0]/l[o][0])}return i}C.exports=function(l,i,o,s,f){f||(f={});var e=!1;if(i.marker){var v=i.marker.color,u=(i.marker.line||{}).color;v&&!t(v)?e=v:u&&!t(u)&&(e=u)}var h;if(f.moduleHasFillgradient){var _=s("fillgradient.type");if(_!=="none"){s("fillgradient.start"),s("fillgradient.stop");var m=s("fillgradient.colorscale");m&&(h=n(m))}}s("fillcolor",r.addOpacity((i.line||{}).color||e||h||o,.5))}}),of=Ct((F,C)=>{var r=De(),t=un(),n=kr(),l=qi(),i=Pa(),o=Cl(),s=Pl(),f=Kc(),e=tf(),v=ef(),u=nf(),h=af(),_=rf(),m=De().coercePattern;C.exports=function(g,y,p,c){function d(G,I){return r.coerce(g,y,n,G,I)}var b=o(g,y,c,d);if(b||(y.visible=!1),!!y.visible){s(g,y,c,d),d("xhoverformat"),d("yhoverformat"),d("zorder");var w=f(g,y,c,d);c.scattermode==="group"&&y.orientation===void 0&&d("orientation","v");var k=!w&&b<l.PTS_LINESONLY?"lines+markers":"lines";d("text"),d("hovertext"),d("mode",k),i.hasMarkers(y)&&e(g,y,p,c,d,{gradient:!0}),i.hasLines(y)&&(v(g,y,p,c,d,{backoff:!0}),u(g,y,d),d("connectgaps"),d("line.simplify")),i.hasText(y)&&(d("texttemplate"),h(g,y,c,d));var $=[];(i.hasMarkers(y)||i.hasText(y))&&(d("cliponaxis"),d("marker.maxdisplayed"),$.push("points")),d("fill",w?w.fillDflt:"none"),y.fill!=="none"&&(_(g,y,p,d,{moduleHasFillgradient:!0}),i.hasLines(y)||u(g,y,d),m(d,"fillpattern",y.fillcolor,!1));var P=(y.line||{}).color,O=(y.marker||{}).color;(y.fill==="tonext"||y.fill==="toself")&&$.push("fills"),d("hoveron",$.join("+")||"points"),y.hoveron!=="fills"&&d("hovertemplate");var T=t.getComponentMethod("errorbars","supplyDefaults");T(g,y,P||O||p,{axis:"y"}),T(g,y,P||O||p,{axis:"x",inherit:"y"}),r.coerceSelectionMarkerOpacity(y,d)}}}),Il=Ct((F,C)=>{var r=Kr().getAxisGroup;C.exports=function(t,n,l,i,o){var s=n.orientation,f=n[{v:"x",h:"y"}[s]+"axis"],e=r(l,f)+s,v=l._alignmentOpts||{},u=i("alignmentgroup"),h=v[e];h||(h=v[e]={});var _=h[u];_?_.traces.push(n):_=h[u]={traces:[n],alignmentIndex:Object.keys(h).length,offsetGroups:{}};var m=i("offsetgroup")||"",g=_.offsetGroups,y=g[m];n._offsetIndex=0,(o!=="group"||m)&&(y||(y=g[m]={offsetIndex:Object.keys(g).length}),n._offsetIndex=y.offsetIndex)}}),lf=Ct((F,C)=>{var r=De(),t=Il(),n=kr();C.exports=function(l,i){var o,s,f,e=i.scattermode;function v(g){return r.coerce(s._input,s,n,g)}if(i.scattermode==="group")for(f=0;f<l.length;f++)s=l[f],s.type==="scatter"&&(o=s._input,t(o,s,i,v,e));for(f=0;f<l.length;f++){var u=l[f];if(u.type==="scatter"){var h=u.fill;if(!(h==="none"||h==="toself")&&(u.opacity=void 0,h==="tonexty"||h==="tonextx"))for(var _=f-1;_>=0;_--){var m=l[_];if(m.type==="scatter"&&m.xaxis===u.xaxis&&m.yaxis===u.yaxis){m.opacity=void 0;break}}}}}}),sf=Ct((F,C)=>{var r=De(),t=Ii();C.exports=function(n,l){function i(s,f){return r.coerce(n,l,t,s,f)}var o=l.barmode==="group";l.scattermode==="group"&&i("scattergap",o?l.bargap:.2)}}),Fl=Ct((F,C)=>{var r=Mn(),t=De(),n=t.dateTime2ms,l=t.incrementMonth,i=oa(),o=i.ONEAVGMONTH;C.exports=function(s,f,e,v){if(f.type!=="date")return{vals:v};var u=s[e+"periodalignment"];if(!u)return{vals:v};var h=s[e+"period"],_;if(r(h)){if(h=+h,h<=0)return{vals:v}}else if(typeof h=="string"&&h.charAt(0)==="M"){var m=+h.substring(1);if(m>0&&Math.round(m)===m)_=m;else return{vals:v}}for(var g=f.calendar,y=u==="start",p=u==="end",c=s[e+"period0"],d=n(c,g)||0,b=[],w=[],k=[],$=v.length,P=0;P<$;P++){var O=v[P],T,G,I;if(_){for(T=Math.round((O-d)/(_*o)),I=l(d,_*T,g);I>O;)I=l(I,-_,g);for(;I<=O;)I=l(I,_,g);G=l(I,-_,g)}else{for(T=Math.round((O-d)/h),I=d+T*h;I>O;)I-=h;for(;I<=O;)I+=h;G=I-h}b[P]=y?G:p?I:(G+I)/2,w[P]=G,k[P]=I}return{vals:b,starts:w,ends:k}}}),uf=Ct((F,C)=>{var r=Ea().hasColorscale,t=zi(),n=Pa();C.exports=function(l,i){n.hasLines(i)&&r(i,"line")&&t(l,i,{vals:i.line.color,containerStr:"line",cLetter:"c"}),n.hasMarkers(i)&&(r(i,"marker")&&t(l,i,{vals:i.marker.color,containerStr:"marker",cLetter:"c"}),r(i,"marker.line")&&t(l,i,{vals:i.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}}),Nl=Ct((F,C)=>{var r=De();C.exports=function(t,n){for(var l=0;l<t.length;l++)t[l].i=l;r.mergeArray(n.text,t,"tx"),r.mergeArray(n.texttemplate,t,"txt"),r.mergeArray(n.hovertext,t,"htx"),r.mergeArray(n.customdata,t,"data"),r.mergeArray(n.textposition,t,"tp"),n.textfont&&(r.mergeArrayCastPositive(n.textfont.size,t,"ts"),r.mergeArray(n.textfont.color,t,"tc"),r.mergeArray(n.textfont.family,t,"tf"),r.mergeArray(n.textfont.weight,t,"tw"),r.mergeArray(n.textfont.style,t,"ty"),r.mergeArray(n.textfont.variant,t,"tv"),r.mergeArray(n.textfont.textcase,t,"tC"),r.mergeArray(n.textfont.lineposition,t,"tE"),r.mergeArray(n.textfont.shadow,t,"tS"));var i=n.marker;if(i){r.mergeArrayCastPositive(i.size,t,"ms"),r.mergeArrayCastPositive(i.opacity,t,"mo"),r.mergeArray(i.symbol,t,"mx"),r.mergeArray(i.angle,t,"ma"),r.mergeArray(i.standoff,t,"mf"),r.mergeArray(i.color,t,"mc");var o=i.line;i.line&&(r.mergeArray(o.color,t,"mlc"),r.mergeArrayCastPositive(o.width,t,"mlw"));var s=i.gradient;s&&s.type!=="none"&&(r.mergeArray(s.type,t,"mgt"),r.mergeArray(s.color,t,"mgc"))}}}),zl=Ct((F,C)=>{var r=De();C.exports=function(t,n){r.isArrayOrTypedArray(n.selectedpoints)&&r.tagSelected(t,n)}}),Rl=Ct((F,C)=>{var r=Mn(),t=De(),n=Yn(),l=Fl(),i=oa().BADNUM,o=Pa(),s=uf(),f=Nl(),e=zl();function v(y,p){var c=y._fullLayout,d=p._xA=n.getFromId(y,p.xaxis||"x","x"),b=p._yA=n.getFromId(y,p.yaxis||"y","y"),w=d.makeCalcdata(p,"x"),k=b.makeCalcdata(p,"y"),$=l(p,d,"x",w),P=l(p,b,"y",k),O=$.vals,T=P.vals,G=p._length,I=new Array(G),E=p.ids,z=g(p,c,d,b),j=!1,U,Z,D,W,X,it;_(c,p);var nt="x",ot="y",dt;if(z)t.pushUnique(z.traceIndices,p.index),U=z.orientation==="v",U?(ot="s",dt="x"):(nt="s",dt="y"),X=z.stackgaps==="interpolate";else{var ht=h(p,G);u(y,p,d,b,O,T,ht)}var xt=!!p.xperiodalignment,H=!!p.yperiodalignment;for(Z=0;Z<G;Z++){var Y=I[Z]={},A=r(O[Z]),J=r(T[Z]);A&&J?(Y[nt]=O[Z],Y[ot]=T[Z],xt&&(Y.orig_x=w[Z],Y.xEnd=$.ends[Z],Y.xStart=$.starts[Z]),H&&(Y.orig_y=k[Z],Y.yEnd=P.ends[Z],Y.yStart=P.starts[Z])):z&&(U?A:J)?(Y[dt]=U?O[Z]:T[Z],Y.gap=!0,X?(Y.s=i,j=!0):Y.s=0):Y[nt]=Y[ot]=i,E&&(Y.id=String(E[Z]))}if(f(I,p),s(y,p),e(I,p),z){for(Z=0;Z<I.length;)I[Z][dt]===i?I.splice(Z,1):Z++;if(t.sort(I,function(S,R){return S[dt]-R[dt]||S.i-R.i}),j){for(Z=0;Z<I.length-1&&I[Z].gap;)Z++;for(it=I[Z].s,it||(it=I[Z].s=0),D=0;D<Z;D++)I[D].s=it;for(W=I.length-1;W>Z&&I[W].gap;)W--;for(it=I[W].s,D=I.length-1;D>W;D--)I[D].s=it;for(;Z<W;)if(Z++,I[Z].gap){for(D=Z+1;I[D].gap;)D++;for(var at=I[Z-1][dt],N=I[Z-1].s,M=(I[D].s-N)/(I[D][dt]-at);Z<D;)I[Z].s=N+(I[Z][dt]-at)*M,Z++}}}return I}function u(y,p,c,d,b,w,k){var $=p._length,P=y._fullLayout,O=c._id,T=d._id,G=P._firstScatter[m(p)]===p.uid,I=(g(p,P,c,d)||{}).orientation,E=p.fill;c._minDtick=0,d._minDtick=0;var z={padded:!0},j={padded:!0};k&&(z.ppad=j.ppad=k);var U=$<2||b[0]!==b[$-1]||w[0]!==w[$-1];U&&(E==="tozerox"||E==="tonextx"&&(G||I==="h"))?z.tozero=!0:!(p.error_y||{}).visible&&(E==="tonexty"||E==="tozeroy"||!o.hasMarkers(p)&&!o.hasText(p))&&(z.padded=!1,z.ppad=0),U&&(E==="tozeroy"||E==="tonexty"&&(G||I==="v"))?j.tozero=!0:(E==="tonextx"||E==="tozerox")&&(j.padded=!1),O&&(p._extremes[O]=n.findExtremes(c,b,z)),T&&(p._extremes[T]=n.findExtremes(d,w,j))}function h(y,p){if(o.hasMarkers(y)){var c=y.marker,d=1.6*(y.marker.sizeref||1),b;if(y.marker.sizemode==="area"?b=function(O){return Math.max(Math.sqrt((O||0)/d),3)}:b=function(O){return Math.max((O||0)/d,3)},t.isArrayOrTypedArray(c.size)){var w={type:"linear"};n.setConvert(w);for(var k=w.makeCalcdata(y.marker,"size"),$=new Array(p),P=0;P<p;P++)$[P]=b(k[P]);return $}else return b(c.size)}}function _(y,p){var c=m(p),d=y._firstScatter;d[c]||(d[c]=p.uid)}function m(y){var p=y.stackgroup;return y.xaxis+y.yaxis+y.type+(p?"-"+p:"")}function g(y,p,c,d){var b=y.stackgroup;if(b){var w=p._scatterStackOpts[c._id+d._id][b],k=w.orientation==="v"?d:c;if(k.type==="linear"||k.type==="log")return w}}C.exports={calc:v,calcMarkerSize:h,calcAxisExpansion:u,setFirstScatter:_,getStackOpts:g}}),cf=Ct((F,C)=>{C.exports=t;var r=De().distinctVals;function t(n,l){this.traces=n,this.sepNegVal=l.sepNegVal,this.overlapNoMerge=l.overlapNoMerge;for(var i=1/0,o=l.posAxis._id.charAt(0),s=[],f=0;f<n.length;f++){for(var e=n[f],v=0;v<e.length;v++){var u=e[v],h=u.p;h===void 0&&(h=u[o]),h!==void 0&&s.push(h)}e[0]&&e[0].width1&&(i=Math.min(e[0].width1,i))}this.positions=s;var _=r(s);this.distinctPositions=_.vals,_.vals.length===1&&i!==1/0?this.minDiff=i:this.minDiff=Math.min(_.minDiff,i);var m=(l.posAxis||{}).type;(m==="category"||m==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}t.prototype.put=function(n,l,i){var o=this.getLabel(n,l,i),s=this.bins[o]||0;return this.bins[o]=s+i,s},t.prototype.get=function(n,l,i){var o=this.getLabel(n,l,i);return this.bins[o]||0},t.prototype.getLabel=function(n,l,i){var o=i<0&&this.sepNegVal?"v":"^",s=this.overlapNoMerge?n:Math.round(n/this.binWidth);return o+s+"g"+l}}),El=Ct((F,C)=>{var r=Mn(),t=De().isArrayOrTypedArray,n=oa().BADNUM,l=un(),i=Yn(),o=Kr().getAxisGroup,s=cf();function f(I,E){for(var z=E.xaxis,j=E.yaxis,U=I._fullLayout,Z=I._fullData,D=I.calcdata,W=[],X=[],it=0;it<Z.length;it++){var nt=Z[it];if(nt.visible===!0&&l.traceIs(nt,"bar")&&nt.xaxis===z._id&&nt.yaxis===j._id&&(nt.orientation==="h"?W.push(D[it]):X.push(D[it]),nt._computePh))for(var ot=I.calcdata[it],dt=0;dt<ot.length;dt++)typeof ot[dt].ph0=="function"&&(ot[dt].ph0=ot[dt].ph0()),typeof ot[dt].ph1=="function"&&(ot[dt].ph1=ot[dt].ph1())}var ht={xCat:z.type==="category"||z.type==="multicategory",yCat:j.type==="category"||j.type==="multicategory",mode:U.barmode,norm:U.barnorm,gap:U.bargap,groupgap:U.bargroupgap};e(I,z,j,X,ht),e(I,j,z,W,ht)}function e(I,E,z,j,U){if(j.length){var Z,D,W,X,it;switch(h(z,j),U.mode){case"overlay":_(I,E,z,j,U);break;case"group":for(Z=[],D=[],W=0;W<j.length;W++)X=j[W],it=X[0].trace,it.offset===void 0?D.push(X):Z.push(X);D.length&&m(I,E,z,D,U),Z.length&&_(I,E,z,Z,U);break;case"stack":case"relative":for(Z=[],D=[],W=0;W<j.length;W++)X=j[W],it=X[0].trace,it.base===void 0?D.push(X):Z.push(X);u(D),D.length&&g(I,E,z,D,U),Z.length&&_(I,E,z,Z,U);break}v(j),T(j,E)}}function v(I){var E,z,j,U,Z,D,W;for(E=0;E<I.length;E++)z=I[E],j=z[0].trace,U=z[0].t,U.cornerradiusvalue===void 0&&(Z=j.marker?j.marker.cornerradius:void 0,Z!==void 0&&(D=r(Z)?+Z:+Z.slice(0,-1),W=r(Z)?"px":"%",U.cornerradiusvalue=D,U.cornerradiusform=W))}function u(I){if(!(I.length<2)){var E,z,j,U,Z,D,W;for(E=0;E<I.length&&(z=I[E],j=z[0].trace,Z=j.marker?j.marker.cornerradius:void 0,Z===void 0);E++);if(Z!==void 0)for(D=r(Z)?+Z:+Z.slice(0,-1),W=r(Z)?"px":"%",E=0;E<I.length;E++)z=I[E],U=z[0].t,U.cornerradiusvalue=D,U.cornerradiusform=W}}function h(I,E){var z,j;for(z=0;z<E.length;z++){var U=E[z],Z=U[0].trace,D=Z.type==="funnel"?Z._base:Z.base,W,X=Z.orientation==="h"?Z.xcalendar:Z.ycalendar,it=I.type==="category"||I.type==="multicategory"?function(){return null}:I.d2c;if(t(D)){for(j=0;j<Math.min(D.length,U.length);j++)W=it(D[j],0,X),r(W)?(U[j].b=+W,U[j].hasB=1):U[j].b=0;for(;j<U.length;j++)U[j].b=0}else{W=it(D,0,X);var nt=r(W);for(W=nt?W:0,j=0;j<U.length;j++)U[j].b=W,nt&&(U[j].hasB=1)}}}function _(I,E,z,j,U){for(var Z=0;Z<j.length;Z++){var D=j[Z],W=new s([D],{posAxis:E,sepNegVal:!1,overlapNoMerge:!U.norm});y(I,E,W,U),U.norm?(k(W),P(z,W,U)):b(z,W)}}function m(I,E,z,j,U){var Z=new s(j,{posAxis:E,sepNegVal:!1,overlapNoMerge:!U.norm});y(I,E,Z,U),$(Z,E),U.norm?(k(Z),P(z,Z,U)):b(z,Z)}function g(I,E,z,j,U){var Z=new s(j,{posAxis:E,sepNegVal:U.mode==="relative",overlapNoMerge:!(U.norm||U.mode==="stack"||U.mode==="relative")});y(I,E,Z,U),w(z,Z,U);for(var D=0;D<j.length;D++)for(var W=j[D],X=W[0].t.offsetindex,it=0;it<W.length;it++){var nt=W[it];if(nt.s!==n){var ot=nt.b+nt.s===Z.get(nt.p,X,nt.s);ot&&(nt._outmost=!0)}}U.norm&&P(z,Z,U)}function y(I,E,z,j){var U=I._fullLayout,Z=z.positions,D=z.distinctPositions,W=z.minDiff,X=z.traces,it=X.length,nt=Z.length!==D.length,ot=W*(1-j.gap),dt,ht,xt,H;if(E._id==="angularaxis")dt=ot,ht=dt*(1-(j.groupgap||0)),xt=-ht/2;else{var Y=o(U,E._id)+X[0][0].trace.orientation;H=U._alignmentOpts[Y]||{}}for(var A=0;A<it;A++){var J=X[A],at=J[0].trace;if(E._id!=="angularaxis"){var N=H[at.alignmentgroup]||{},M=Object.keys(N.offsetGroups||{}).length;M?dt=ot/M:dt=nt?ot/it:ot,ht=dt*(1-(j.groupgap||0)),M?xt=((2*at._offsetIndex+1-M)*dt-ht)/2:xt=nt?((2*A+1-it)*dt-ht)/2:-ht/2}var S=J[0].t;S.barwidth=ht,S.offsetindex=at._offsetIndex||0,S.poffset=xt,S.bargroupwidth=ot,S.bardelta=W}z.binWidth=X[0][0].t.barwidth/100,p(z),c(E,z),E._id==="angularaxis"?d(E,z):d(E,z,nt)}function p(I){var E=I.traces,z,j;for(z=0;z<E.length;z++){var U=E[z],Z=U[0],D=Z.trace,W=Z.t,X=D._offset||D.offset,it=W.poffset,nt;if(t(X)){for(nt=Array.prototype.slice.call(X,0,U.length),j=0;j<nt.length;j++)r(nt[j])||(nt[j]=it);for(j=nt.length;j<U.length;j++)nt.push(it);W.poffset=nt}else X!==void 0&&(W.poffset=X);var ot=D._width||D.width,dt=W.barwidth;if(t(ot)){var ht=Array.prototype.slice.call(ot,0,U.length);for(j=0;j<ht.length;j++)r(ht[j])||(ht[j]=dt);for(j=ht.length;j<U.length;j++)ht.push(dt);if(W.barwidth=ht,X===void 0){for(nt=[],j=0;j<U.length;j++)nt.push(it+(dt-ht[j])/2);W.poffset=nt}}else ot!==void 0&&(W.barwidth=ot,X===void 0&&(W.poffset=it+(dt-ot)/2))}}function c(I,E){for(var z=E.traces,j=G(I),U=0;U<z.length;U++)for(var Z=z[U],D=Z[0].t,W=D.poffset,X=t(W),it=D.barwidth,nt=t(it),ot=0;ot<Z.length;ot++){var dt=Z[ot],ht=dt.w=nt?it[ot]:it;dt.p===void 0&&(dt.p=dt[j],dt["orig_"+j]=dt[j]);var xt=(X?W[ot]:W)+ht/2;dt[j]=dt.p+xt}}function d(I,E,z){var j=E.traces,U=E.minDiff,Z=U/2;i.minDtick(I,E.minDiff,E.distinctPositions[0],z);for(var D=0;D<j.length;D++){var W=j[D],X=W[0],it=X.trace,nt=[],ot,dt,ht,xt;for(xt=0;xt<W.length;xt++)ot=W[xt],dt=ot.p-Z,ht=ot.p+Z,nt.push(dt,ht);if(it.width||it.offset){var H=X.t,Y=H.poffset,A=H.barwidth,J=t(Y),at=t(A);for(xt=0;xt<W.length;xt++){ot=W[xt];var N=J?Y[xt]:Y,M=at?A[xt]:A;dt=ot.p+N,ht=dt+M,nt.push(dt,ht)}}it._extremes[I._id]=i.findExtremes(I,nt,{padded:!1})}}function b(I,E){for(var z=E.traces,j=G(I),U=0;U<z.length;U++){for(var Z=z[U],D=Z[0].trace,W=D.type==="scatter",X=D.orientation==="v",it=[],nt=!1,ot=0;ot<Z.length;ot++){var dt=Z[ot],ht=W?0:dt.b,xt=W?X?dt.y:dt.x:ht+dt.s;dt[j]=xt,it.push(xt),dt.hasB&&it.push(ht),(!dt.hasB||!dt.b)&&(nt=!0)}D._extremes[I._id]=i.findExtremes(I,it,{tozero:nt,padded:!0})}}function w(I,E,z){var j=G(I),U=E.traces,Z,D,W,X,it,nt,ot;for(X=0;X<U.length;X++)if(Z=U[X],D=Z[0].trace,D.type==="funnel")for(ot=Z[0].t.offsetindex,it=0;it<Z.length;it++)nt=Z[it],nt.s!==n&&E.put(nt.p,ot,-.5*nt.s);for(X=0;X<U.length;X++){Z=U[X],D=Z[0].trace,W=D.type==="funnel",ot=D.type==="barpolar"?0:Z[0].t.offsetindex;var dt=[];for(it=0;it<Z.length;it++)if(nt=Z[it],nt.s!==n){var ht;W?ht=nt.s:ht=nt.s+nt.b;var xt=E.put(nt.p,ot,ht),H=xt+ht;nt.b=xt,nt[j]=H,z.norm||(dt.push(H),nt.hasB&&dt.push(xt))}z.norm||(D._extremes[I._id]=i.findExtremes(I,dt,{tozero:!0,padded:!0}))}}function k(I){for(var E=I.traces,z=0;z<E.length;z++)for(var j=E[z],U=j[0].t.offsetindex,Z=0;Z<j.length;Z++){var D=j[Z];D.s!==n&&I.put(D.p,U,D.b+D.s)}}function $(I,E){for(var z=I.traces,j=0;j<z.length;j++){var U=z[j],Z=U[0].trace,D=U[0].t.offsetindex;if(Z.base===void 0)for(var W=new s([U],{posAxis:E,sepNegVal:!0,overlapNoMerge:!0}),X=0;X<U.length;X++){var it=U[X];if(it.p!==n){var nt=W.put(it.p,D,it.b+it.s);nt&&(it.b=nt)}}}}function P(I,E,z){var j=E.traces,U=G(I),Z=z.norm==="fraction"?1:100,D=Z/1e9,W=I.l2c(I.c2l(0)),X=z.mode==="stack"?Z:W;function it(S){return r(I.c2l(S))&&(S<W-D||S>X+D||!r(W))}for(var nt=0;nt<j.length;nt++){for(var ot=j[nt],dt=ot[0].t.offsetindex,ht=ot[0].trace,xt=[],H=!1,Y=!1,A=0;A<ot.length;A++){var J=ot[A];if(J.s!==n){var at=Math.abs(Z/E.get(J.p,dt,J.s));J.b*=at,J.s*=at;var N=J.b,M=N+J.s;J[U]=M,xt.push(M),Y=Y||it(M),J.hasB&&(xt.push(N),Y=Y||it(N)),(!J.hasB||!J.b)&&(H=!0)}}ht._extremes[I._id]=i.findExtremes(I,xt,{tozero:H,padded:Y})}}function O(I,E,z,j){for(var U=G(j),Z=0;Z<I.length;Z++)for(var D=I[Z],W=0;W<D.length;W++){var X=D[W],it=X[U];X._sMin=E[it],X._sMax=z[it]}}function T(I,E){var z=G(E),j={},U,Z,D,W=1/0,X=-1/0;for(U=0;U<I.length;U++)for(D=I[U],Z=0;Z<D.length;Z++){var it=D[Z].p;r(it)&&(W=Math.min(W,it),X=Math.max(X,it))}var nt=1e4/(X-W),ot=j.round=function(V){return String(Math.round(nt*(V-W)))},dt={},ht={},xt=I.some(function(V){var rt=V[0].trace;return"marker"in rt&&rt.marker.cornerradius});for(U=0;U<I.length;U++){D=I[U],D[0].t.extents=j;var H=D[0].t.poffset,Y=t(H);for(Z=0;Z<D.length;Z++){var A=D[Z],J=A[z]-A.w/2;if(r(J)){var at=A[z]+A.w/2,N=ot(A.p);j[N]?j[N]=[Math.min(J,j[N][0]),Math.max(at,j[N][1])]:j[N]=[J,at]}if(A.p0=A.p+(Y?H[Z]:H),A.p1=A.p0+A.w,A.s0=A.b,A.s1=A.s0+A.s,xt){var M=Math.min(A.s0,A.s1)||0,S=Math.max(A.s0,A.s1)||0,R=A[z];dt[R]=R in dt?Math.min(dt[R],M):M,ht[R]=R in ht?Math.max(ht[R],S):S}}}xt&&O(I,dt,ht,E)}function G(I){return I._id.charAt(0)}C.exports={crossTraceCalc:f,setGroupPositions:e}}),ff=Ct((F,C)=>{var r=Rl(),t=El().setGroupPositions;function n(o,s){for(var f=s.xaxis,e=s.yaxis,v=o._fullLayout,u=o._fullData,h=o.calcdata,_=[],m=[],g=0;g<u.length;g++){var y=u[g];y.visible===!0&&y.type==="scatter"&&y.xaxis===f._id&&y.yaxis===e._id&&(y.orientation==="h"?_.push(h[g]):y.orientation==="v"&&m.push(h[g]))}var p={mode:v.scattermode,gap:v.scattergap};t(o,f,e,m,p),t(o,e,f,_,p)}C.exports=function(o,s){o._fullLayout.scattermode==="group"&&n(o,s);var f=s.xaxis,e=s.yaxis,v=f._id+e._id,u=o._fullLayout._scatterStackOpts[v];if(u){var h=o.calcdata,_,m,g,y,p,c,d,b,w,k,$,P,O,T,G;for(var I in u){k=u[I];var E=k.traceIndices;if(E.length){for($=k.stackgaps==="interpolate",P=k.groupnorm,k.orientation==="v"?(O="x",T="y"):(O="y",T="x"),G=new Array(E.length),_=0;_<G.length;_++)G[_]=!1;c=h[E[0]];var z=new Array(c.length);for(_=0;_<c.length;_++)z[_]=c[_][O];for(_=1;_<E.length;_++){for(p=h[E[_]],m=g=0;m<p.length;m++){for(d=p[m][O];d>z[g]&&g<z.length;g++)l(p,m,z[g],_,G,$,O),m++;if(d!==z[g]){for(y=0;y<_;y++)l(h[E[y]],g,d,y,G,$,O);z.splice(g,0,d)}g++}for(;g<z.length;g++)l(p,m,z[g],_,G,$,O),m++}var j=z.length;for(m=0;m<c.length;m++){for(b=c[m][T]=c[m].s,_=1;_<E.length;_++)p=h[E[_]],p[0].trace._rawLength=p[0].trace._length,p[0].trace._length=j,b+=p[m].s,p[m][T]=b;if(P)for(w=(P==="fraction"?b:b/100)||1,_=0;_<E.length;_++){var U=h[E[_]][m];U[T]/=w,U.sNorm=U.s/w}}for(_=0;_<E.length;_++){p=h[E[_]];var Z=p[0].trace,D=r.calcMarkerSize(Z,Z._rawLength),W=Array.isArray(D);if(D&&G[_]||W){var X=D;for(D=new Array(j),m=0;m<j;m++)D[m]=p[m].gap?0:W?X[p[m].i]:X}var it=new Array(j),nt=new Array(j);for(m=0;m<j;m++)it[m]=p[m].x,nt[m]=p[m].y;r.calcAxisExpansion(o,Z,f,e,it,nt,D),p[0].t.orientation=k.orientation}}}}};function l(o,s,f,e,v,u,h){v[e]=!0;var _={i:null,gap:!0,s:0};if(_[h]=f,o.splice(s,0,_),s&&f===o[s-1][h]){var m=o[s-1];_.s=m.s,_.i=m.i,_.gap=m.gap}else u&&(_.s=i(o,s,f,h));s||(o[0].t=o[1].t,o[0].trace=o[1].trace,delete o[1].t,delete o[1].trace)}function i(o,s,f,e){var v=o[s-1],u=o[s+1];return u?v?v.s+(u.s-v.s)*(f-v[e])/(u[e]-v[e]):u.s:v.s}}),df=Ct((F,C)=>{var r=zn(),t=oa(),n=t.BADNUM,l=t.LOG_CLIP,i=l+.5,o=l-.5,s=De(),f=s.segmentsIntersect,e=s.constrain,v=qi();C.exports=function(u,h){var _=h.trace||{},m=h.xaxis,g=h.yaxis,y=m.type==="log",p=g.type==="log",c=m._length,d=g._length,b=h.backoff,w=_.marker,k=h.connectGaps,$=h.baseTolerance,P=h.shape,O=P==="linear",T=_.fill&&_.fill!=="none",G=[],I=v.minTolerance,E=u.length,z=new Array(E),j=0,U,Z,D,W,X,it,nt,ot,dt,ht,xt,H,Y,A,J,at;function N(Mt){var Jt=u[Mt];if(!Jt)return!1;var qt=h.linearized?m.l2p(Jt.x):m.c2p(Jt.x),le=h.linearized?g.l2p(Jt.y):g.c2p(Jt.y);if(qt===n){if(y&&(qt=m.c2p(Jt.x,!0)),qt===n)return!1;p&&le===n&&(qt*=Math.abs(m._m*d*(m._m>0?i:o)/(g._m*c*(g._m>0?i:o)))),qt*=1e3}if(le===n){if(p&&(le=g.c2p(Jt.y,!0)),le===n)return!1;le*=1e3}return[qt,le]}function M(Mt,Jt,qt,le){var Et=qt-Mt,re=le-Jt,se=.5-Mt,he=.5-Jt,Se=Et*Et+re*re,je=Et*se+re*he;if(je>0&&je<Se){var Ge=se*re-he*Et;if(Ge*Ge<Se)return!0}}var S,R;function V(Mt,Jt){var qt=Mt[0]/c,le=Mt[1]/d,Et=Math.max(0,-qt,qt-1,-le,le-1);return Et&&S!==void 0&&M(qt,le,S,R)&&(Et=0),Et&&Jt&&M(qt,le,Jt[0]/c,Jt[1]/d)&&(Et=0),(1+v.toleranceGrowth*Et)*$}function rt(Mt,Jt){var qt=Mt[0]-Jt[0],le=Mt[1]-Jt[1];return Math.sqrt(qt*qt+le*le)}var st=v.maxScreensAway,ut=-c*st,_t=c*(1+st),Tt=-d*st,Ft=d*(1+st),Zt=[[ut,Tt,_t,Tt],[_t,Tt,_t,Ft],[_t,Ft,ut,Ft],[ut,Ft,ut,Tt]],Bt,Rt,pt,bt,lt,kt;function Nt(Mt,Jt){for(var qt=[],le=0,Et=0;Et<4;Et++){var re=Zt[Et],se=f(Mt[0],Mt[1],Jt[0],Jt[1],re[0],re[1],re[2],re[3]);se&&(!le||Math.abs(se.x-qt[0][0])>1||Math.abs(se.y-qt[0][1])>1)&&(se=[se.x,se.y],le&&rt(se,Mt)<rt(qt[0],Mt)?qt.unshift(se):qt.push(se),le++)}return qt}function Yt(Mt){if(Mt[0]<ut||Mt[0]>_t||Mt[1]<Tt||Mt[1]>Ft)return[e(Mt[0],ut,_t),e(Mt[1],Tt,Ft)]}function ee(Mt,Jt){if(Mt[0]===Jt[0]&&(Mt[0]===ut||Mt[0]===_t)||Mt[1]===Jt[1]&&(Mt[1]===Tt||Mt[1]===Ft))return!0}function Xt(Mt,Jt){var qt=[],le=Yt(Mt),Et=Yt(Jt);return le&&Et&&ee(le,Et)||(le&&qt.push(le),Et&&qt.push(Et)),qt}function ae(Mt,Jt,qt){return function(le,Et){var re=Yt(le),se=Yt(Et),he=[];if(re&&se&&ee(re,se))return he;re&&he.push(re),se&&he.push(se);var Se=2*s.constrain((le[Mt]+Et[Mt])/2,Jt,qt)-((re||le)[Mt]+(se||Et)[Mt]);if(Se){var je;re&&se?je=Se>0==re[Mt]>se[Mt]?re:se:je=re||se,je[Mt]+=Se}return he}}var oe;P==="linear"||P==="spline"?oe=Nt:P==="hv"||P==="vh"?oe=Xt:P==="hvh"?oe=ae(0,ut,_t):P==="vhv"&&(oe=ae(1,Tt,Ft));function ie(Mt,Jt){var qt=Jt[0]-Mt[0],le=(Jt[1]-Mt[1])/qt,Et=(Mt[1]*Jt[0]-Jt[1]*Mt[0])/qt;return Et>0?[le>0?ut:_t,Ft]:[le>0?_t:ut,Tt]}function pe(Mt){var Jt=Mt[0],qt=Mt[1],le=Jt===z[j-1][0],Et=qt===z[j-1][1];if(!(le&&Et))if(j>1){var re=Jt===z[j-2][0],se=qt===z[j-2][1];le&&(Jt===ut||Jt===_t)&&re?se?j--:z[j-1]=Mt:Et&&(qt===Tt||qt===Ft)&&se?re?j--:z[j-1]=Mt:z[j++]=Mt}else z[j++]=Mt}function $t(Mt){z[j-1][0]!==Mt[0]&&z[j-1][1]!==Mt[1]&&pe([pt,bt]),pe(Mt),lt=null,pt=bt=0}var me=s.isArrayOrTypedArray(w);function we(Mt){if(Mt&&b&&(Mt.i=U,Mt.d=u,Mt.trace=_,Mt.marker=me?w[Mt.i]:w,Mt.backoff=b),S=Mt[0]/c,R=Mt[1]/d,Bt=Mt[0]<ut?ut:Mt[0]>_t?_t:0,Rt=Mt[1]<Tt?Tt:Mt[1]>Ft?Ft:0,Bt||Rt){if(!j)z[j++]=[Bt||Mt[0],Rt||Mt[1]];else if(lt){var Jt=oe(lt,Mt);Jt.length>1&&($t(Jt[0]),z[j++]=Jt[1])}else kt=oe(z[j-1],Mt)[0],z[j++]=kt;var qt=z[j-1];Bt&&Rt&&(qt[0]!==Bt||qt[1]!==Rt)?(lt&&(pt!==Bt&&bt!==Rt?pe(pt&&bt?ie(lt,Mt):[pt||Bt,bt||Rt]):pt&&bt&&pe([pt,bt])),pe([Bt,Rt])):pt-Bt&&bt-Rt&&pe([Bt||pt,Rt||bt]),lt=Mt,pt=Bt,bt=Rt}else lt&&$t(oe(lt,Mt)[0]),z[j++]=Mt}for(U=0;U<E;U++)if(Z=N(U),!!Z){for(j=0,lt=null,we(Z),U++;U<E;U++){if(W=N(U),!W){if(k)continue;break}if(!O||!h.simplify){we(W);continue}var ve=N(U+1);if(ht=rt(W,Z),!(!(T&&(j===0||j===E-1))&&ht<V(W,ve)*I)){for(ot=[(W[0]-Z[0])/ht,(W[1]-Z[1])/ht],X=Z,xt=ht,H=A=J=0,nt=!1,D=W,U++;U<u.length;U++){if(it=ve,ve=N(U+1),!it){if(k)continue;break}if(dt=[it[0]-Z[0],it[1]-Z[1]],at=dt[0]*ot[1]-dt[1]*ot[0],A=Math.min(A,at),J=Math.max(J,at),J-A>V(it,ve))break;D=it,Y=dt[0]*ot[0]+dt[1]*ot[1],Y>xt?(xt=Y,W=it,nt=!1):Y<H&&(H=Y,X=it,nt=!0)}if(nt?(we(W),D!==X&&we(X)):(X!==Z&&we(X),D!==W&&we(W)),we(D),U>=u.length||!it)break;we(it),Z=it}}lt&&pe([pt||lt[0],bt||lt[1]]),G.push(z.slice(0,j))}var Me=P.slice(P.length-1);if(b&&Me!=="h"&&Me!=="v"){for(var mt=!1,Lt=-1,At=[],Q=0;Q<G.length;Q++)for(var ft=0;ft<G[Q].length-1;ft++){var yt=G[Q][ft],gt=G[Q][ft+1],It=r.applyBackoff(gt,yt);(It[0]!==gt[0]||It[1]!==gt[1])&&(mt=!0),At[Lt+1]||(Lt++,At[Lt]=[yt,[It[0],It[1]]])}return mt?At:G}return G}}),hf=Ct((F,C)=>{var r={tonextx:1,tonexty:1,tonext:1};C.exports=function(t,n,l){var i,o,s,f,e,v={},u=!1,h=-1,_=0,m=-1;for(o=0;o<l.length;o++)i=l[o][0].trace,s=i.stackgroup||"",s?s in v?e=v[s]:(e=v[s]=_,_++):i.fill in r&&m>=0?e=m:(e=m=_,_++),e<h&&(u=!0),i._groupIndex=h=e;var g=l.slice();u&&g.sort(function(p,c){var d=p[0].trace,b=c[0].trace;return d._groupIndex-b._groupIndex||d.index-b.index});var y={};for(o=0;o<g.length;o++)i=g[o][0].trace,s=i.stackgroup||"",i.visible===!0?(i._nexttrace=null,i.fill in r&&(f=y[s],i._prevtrace=f||null,f&&(f._nexttrace=i)),i._ownfill=i.fill&&(i.fill.substr(0,6)==="tozero"||i.fill==="toself"||i.fill.substr(0,2)==="to"&&!i._prevtrace),y[s]=i):i._prevtrace=i._nexttrace=i._ownfill=null;return g}}),pf=Ct((F,C)=>{var r=wn(),t=un(),n=De(),l=n.ensureSingle,i=n.identity,o=zn(),s=Pa(),f=df(),e=hf(),v=Tl().tester;C.exports=function(m,g,y,p,c,d){var b,w,k=!c,$=!!c&&c.duration>0,P=e(m,g,y);if(b=p.selectAll("g.trace").data(P,function(T){return T[0].trace.uid}),b.enter().append("g").attr("class",function(T){return"trace scatter trace"+T[0].trace.uid}).style("stroke-miterlimit",2),b.order(),u(m,b,g),$){d&&(w=d());var O=r.transition().duration(c.duration).ease(c.easing).each("end",function(){w&&w()}).each("interrupt",function(){w&&w()});O.each(function(){p.selectAll("g.trace").each(function(T,G){h(m,G,g,T,P,this,c)})})}else b.each(function(T,G){h(m,G,g,T,P,this,c)});k&&b.exit().remove(),p.selectAll("path:not([d])").remove()};function u(m,g,y){g.each(function(p){var c=l(r.select(this),"g","fills");o.setClipUrl(c,y.layerClipId,m);var d=p[0].trace,b=[];d._ownfill&&b.push("_ownFill"),d._nexttrace&&b.push("_nextFill");var w=c.selectAll("g").data(b,i);w.enter().append("g"),w.exit().each(function(k){d[k]=null}).remove(),w.order().each(function(k){d[k]=l(r.select(this),"path","js-fill")})})}function h(m,g,y,p,c,d,b){var w=m._context.staticPlot,k;_(m,g,y,p,c);var $=!!b&&b.duration>0;function P($t){return $?$t.transition():$t}var O=y.xaxis,T=y.yaxis,G=p[0].trace,I=G.line,E=r.select(d),z=l(E,"g","errorbars"),j=l(E,"g","lines"),U=l(E,"g","points"),Z=l(E,"g","text");if(t.getComponentMethod("errorbars","plot")(m,z,y,b),G.visible!==!0)return;P(E).style("opacity",G.opacity);var D,W,X=G.fill.charAt(G.fill.length-1);X!=="x"&&X!=="y"&&(X="");var it,nt;X==="y"?(it=1,nt=T.c2p(0,!0)):X==="x"&&(it=0,nt=O.c2p(0,!0)),p[0][y.isRangePlot?"nodeRangePlot3":"node3"]=E;var ot="",dt=[],ht=G._prevtrace,xt=null,H=null;ht&&(ot=ht._prevRevpath||"",W=ht._nextFill,dt=ht._ownPolygons,xt=ht._fillsegments,H=ht._fillElement);var Y,A,J="",at="",N,M,S,R,V,rt,st=[];G._polygons=[];var ut=[],_t=[],Tt=n.noop;if(D=G._ownFill,s.hasLines(G)||G.fill!=="none"){W&&W.datum(p),["hv","vh","hvh","vhv"].indexOf(I.shape)!==-1?(N=o.steps(I.shape),M=o.steps(I.shape.split("").reverse().join(""))):I.shape==="spline"?N=M=function($t){var me=$t[$t.length-1];return $t.length>1&&$t[0][0]===me[0]&&$t[0][1]===me[1]?o.smoothclosed($t.slice(1),I.smoothing):o.smoothopen($t,I.smoothing)}:N=M=function($t){return"M"+$t.join("L")},S=function($t){return M($t.reverse())},_t=f(p,{xaxis:O,yaxis:T,trace:G,connectGaps:G.connectgaps,baseTolerance:Math.max(I.width||1,3)/4,shape:I.shape,backoff:I.backoff,simplify:I.simplify,fill:G.fill}),ut=new Array(_t.length);var Ft=0;for(k=0;k<_t.length;k++){var Zt,Bt=_t[k];!Zt||!X?(Zt=Bt.slice(),ut[Ft]=Zt,Ft++):Zt.push.apply(Zt,Bt)}G._fillElement=null,G._fillExclusionElement=H,G._fillsegments=ut.slice(0,Ft),ut=G._fillsegments,_t.length&&(R=_t[0][0].slice(),V=_t[_t.length-1],rt=V[V.length-1].slice()),Tt=function($t){return function(me){if(Y=N(me),A=S(me),J?X?(J+="L"+Y.substr(1),at=A+("L"+at.substr(1))):(J+="Z"+Y,at=A+"Z"+at):(J=Y,at=A),s.hasLines(G)){var we=r.select(this);if(we.datum(p),$t)P(we.style("opacity",0).attr("d",Y).call(o.lineGroupStyle)).style("opacity",1);else{var ve=P(we);ve.attr("d",Y),o.singleLineStyle(p,ve)}}}}}var Rt=j.selectAll(".js-line").data(_t);P(Rt.exit()).style("opacity",0).remove(),Rt.each(Tt(!1)),Rt.enter().append("path").classed("js-line",!0).style("vector-effect",w?"none":"non-scaling-stroke").call(o.lineGroupStyle).each(Tt(!0)),o.setClipUrl(Rt,y.layerClipId,m);function pt($t){P($t).attr("d","M0,0Z")}var bt=function(){var $t=new Array(ut.length);for(k=0;k<ut.length;k++)$t[k]=v(ut[k]);return $t},lt=function($t){var me,we;if(!$t||$t.length===0)for(me=new Array(ut.length),we=0;we<ut.length;we++){var ve=ut[we][0].slice(),Me=ut[we][ut[we].length-1].slice();ve[it]=Me[it]=nt;var mt=[Me,ve],Lt=mt.concat(ut[we]);me[we]=v(Lt)}else{for(me=new Array($t.length-1+ut.length),we=0;we<$t.length-1;we++)me[we]=v($t[we]);var At=$t[$t.length-1].slice();for(At.reverse(),we=0;we<ut.length;we++)me[$t.length-1+we]=v(ut[we].concat(At))}return me};_t.length?(D?(D.datum(p),R&&rt&&(X?(R[it]=rt[it]=nt,P(D).attr("d","M"+rt+"L"+R+"L"+J.substr(1)).call(o.singleFillStyle,m),st=lt(null)):(P(D).attr("d",J+"Z").call(o.singleFillStyle,m),st=bt())),G._polygons=st,G._fillElement=D):W&&(G.fill.substr(0,6)==="tonext"&&J&&ot?(G.fill==="tonext"?(P(W).attr("d",J+"Z"+ot+"Z").call(o.singleFillStyle,m),st=bt(),G._polygons=st.concat(dt)):(P(W).attr("d",J+"L"+ot.substr(1)+"Z").call(o.singleFillStyle,m),st=lt(xt),G._polygons=st),G._fillElement=W):pt(W)),G._prevRevpath=at):(D?pt(D):W&&pt(W),G._prevRevpath=null),G._ownPolygons=st;function kt($t){return $t.filter(function(me){return!me.gap&&me.vis})}function Nt($t){return $t.filter(function(me){return me.vis})}function Yt($t){return $t.filter(function(me){return!me.gap})}function ee($t){return $t.id}function Xt($t){if($t.ids)return ee}function ae(){return!1}function oe($t,me,we){var ve,Me,mt,Lt=we[0].trace,At=s.hasMarkers(Lt),Q=s.hasText(Lt),ft=Xt(Lt),yt=ae,gt=ae;if(At||Q){var It=i,Mt=Lt.stackgroup,Jt=Mt&&m._fullLayout._scatterStackOpts[O._id+T._id][Mt].stackgaps==="infer zero";Lt.marker.maxdisplayed||Lt._needsCull?It=Jt?Nt:kt:Mt&&!Jt&&(It=Yt),At&&(yt=It),Q&&(gt=It)}Me=$t.selectAll("path.point"),ve=Me.data(yt,ft);var qt=ve.enter().append("path").classed("point",!0);$&&qt.call(o.pointStyle,Lt,m).call(o.translatePoints,O,T).style("opacity",0).transition().style("opacity",1),ve.order();var le;At&&(le=o.makePointStyleFns(Lt)),ve.each(function(Et){var re=r.select(this),se=P(re);mt=o.translatePoint(Et,se,O,T),mt?(o.singlePointStyle(Et,se,Lt,le,m),y.layerClipId&&o.hideOutsideRangePoint(Et,se,O,T,Lt.xcalendar,Lt.ycalendar),Lt.customdata&&re.classed("plotly-customdata",Et.data!==null&&Et.data!==void 0)):se.remove()}),$?ve.exit().transition().style("opacity",0).remove():ve.exit().remove(),Me=me.selectAll("g"),ve=Me.data(gt,ft),ve.enter().append("g").classed("textpoint",!0).append("text"),ve.order(),ve.each(function(Et){var re=r.select(this),se=P(re.select("text"));mt=o.translatePoint(Et,se,O,T),mt?y.layerClipId&&o.hideOutsideRangePoint(Et,re,O,T,Lt.xcalendar,Lt.ycalendar):re.remove()}),ve.selectAll("text").call(o.textPointStyle,Lt,m).each(function(Et){var re=O.c2p(Et.x),se=T.c2p(Et.y);r.select(this).selectAll("tspan.line").each(function(){P(r.select(this)).attr({x:re,y:se})})}),ve.exit().remove()}U.datum(p),Z.datum(p),oe(U,Z,p);var ie=G.cliponaxis===!1,pe=ie?null:y.layerClipId;o.setClipUrl(U,pe,m),o.setClipUrl(Z,pe,m)}function _(m,g,y,p,c){var d=y.xaxis,b=y.yaxis,w=r.extent(n.simpleMap(d.range,d.r2c)),k=r.extent(n.simpleMap(b.range,b.r2c)),$=p[0].trace;if(s.hasMarkers($)){var P=$.marker.maxdisplayed;if(P!==0){var O=p.filter(function(E){return E.x>=w[0]&&E.x<=w[1]&&E.y>=k[0]&&E.y<=k[1]}),T=Math.ceil(O.length/P),G=0;c.forEach(function(E,z){var j=E[0].trace;s.hasMarkers(j)&&j.marker.maxdisplayed>0&&z<g&&G++});var I=Math.round(G*T/3+Math.floor(G/3)*T/7.1);p.forEach(function(E){delete E.vis}),O.forEach(function(E,z){Math.round((z+I)%T)===0&&(E.vis=!0)})}}}}),jl=Ct((F,C)=>{C.exports={container:"marker",min:"cmin",max:"cmax"}}),vf=Ct((F,C)=>{var r=Yn();C.exports=function(t,n,l){var i={},o={_fullLayout:l},s=r.getFromTrace(o,n,"x"),f=r.getFromTrace(o,n,"y"),e=t.orig_x;e===void 0&&(e=t.x);var v=t.orig_y;return v===void 0&&(v=t.y),i.xLabel=r.tickText(s,s.c2l(e),!0).text,i.yLabel=r.tickText(f,f.c2l(v),!0).text,i}}),Hl=Ct((F,C)=>{var r=wn(),t=zn(),n=un();function l(f){var e=r.select(f).selectAll("g.trace.scatter");e.style("opacity",function(v){return v[0].trace.opacity}),e.selectAll("g.points").each(function(v){var u=r.select(this),h=v.trace||v[0].trace;i(u,h,f)}),e.selectAll("g.text").each(function(v){var u=r.select(this),h=v.trace||v[0].trace;o(u,h,f)}),e.selectAll("g.trace path.js-line").call(t.lineGroupStyle),e.selectAll("g.trace path.js-fill").call(t.fillGroupStyle,f,!1),n.getComponentMethod("errorbars","style")(e)}function i(f,e,v){t.pointStyle(f.selectAll("path.point"),e,v)}function o(f,e,v){t.textPointStyle(f.selectAll("text"),e,v)}function s(f,e,v){var u=e[0].trace;u.selectedpoints?(t.selectedPointStyle(v.selectAll("path.point"),u),t.selectedTextStyle(v.selectAll("text"),u)):(i(v,u,f),o(v,u,f))}C.exports={style:l,stylePoints:i,styleText:o,styleOnSelect:s}}),gf=Ct((F,C)=>{var r=bn(),t=Pa();C.exports=function(n,l){var i,o;if(n.mode==="lines")return i=n.line.color,i&&r.opacity(i)?i:n.fillcolor;if(n.mode==="none")return n.fill?n.fillcolor:"";var s=l.mcc||(n.marker||{}).color,f=l.mlcc||((n.marker||{}).line||{}).color;return o=s&&r.opacity(s)?s:f&&r.opacity(f)&&(l.mlw||((n.marker||{}).line||{}).width)?f:"",o?r.opacity(o)<.3?r.addOpacity(o,.3):o:(i=(n.line||{}).color,i&&r.opacity(i)&&t.hasLines(n)&&n.line.width?i:n.fillcolor)}}),yf=Ct((F,C)=>{var r=De(),t=tr(),n=un(),l=gf(),i=bn(),o=r.fillText;C.exports=function(s,f,e,v){var u=s.cd,h=u[0].trace,_=s.xa,m=s.ya,g=_.c2p(f),y=m.c2p(e),p=[g,y],c=h.hoveron||"",d=h.mode.indexOf("markers")!==-1?3:.5,b=!!h.xperiodalignment,w=!!h.yperiodalignment;if(c.indexOf("points")!==-1){var k=function(ot){if(b){var dt=_.c2p(ot.xStart),ht=_.c2p(ot.xEnd);return g>=Math.min(dt,ht)&&g<=Math.max(dt,ht)?0:1/0}var xt=Math.max(3,ot.mrc||0),H=1-1/xt,Y=Math.abs(_.c2p(ot.x)-g);return Y<xt?H*Y/xt:Y-xt+H},$=function(ot){if(w){var dt=m.c2p(ot.yStart),ht=m.c2p(ot.yEnd);return y>=Math.min(dt,ht)&&y<=Math.max(dt,ht)?0:1/0}var xt=Math.max(3,ot.mrc||0),H=1-1/xt,Y=Math.abs(m.c2p(ot.y)-y);return Y<xt?H*Y/xt:Y-xt+H},P=function(ot){var dt=Math.max(d,ot.mrc||0),ht=_.c2p(ot.x)-g,xt=m.c2p(ot.y)-y;return Math.max(Math.sqrt(ht*ht+xt*xt)-dt,1-d/dt)},O=t.getDistanceFunction(v,k,$,P);if(t.getClosest(u,O,s),s.index!==!1){var T=u[s.index],G=_.c2p(T.x,!0),I=m.c2p(T.y,!0),E=T.mrc||1;s.index=T.i;var z=u[0].t.orientation,j=z&&(T.sNorm||T.s),U=z==="h"?j:T.orig_x!==void 0?T.orig_x:T.x,Z=z==="v"?j:T.orig_y!==void 0?T.orig_y:T.y;return r.extendFlat(s,{color:l(h,T),x0:G-E,x1:G+E,xLabelVal:U,y0:I-E,y1:I+E,yLabelVal:Z,spikeDistance:P(T),hovertemplate:h.hovertemplate}),o(T,h,s),n.getComponentMethod("errorbars","hoverInfo")(T,h,s),[s]}}function D(ot){if(!ot)return!1;var dt=ot.node();try{var ht=new DOMPoint(p[0],p[1]);return dt.isPointInFill(ht)}catch{var xt=dt.ownerSVGElement.createSVGPoint();return xt.x=p[0],xt.y=p[1],dt.isPointInFill(xt)}}function W(ot){var dt,ht=[],xt=1/0,H=-1/0,Y=1/0,A=-1/0,J;for(dt=0;dt<ot.length;dt++){var at=ot[dt];at.contains(p)&&(ht.push(at),Y=Math.min(Y,at.ymin),A=Math.max(A,at.ymax))}if(ht.length===0)return null;Y=Math.max(Y,0),A=Math.min(A,m._length),J=(Y+A)/2;var N,M,S,R,V,rt,st;for(dt=0;dt<ht.length;dt++)for(M=ht[dt].pts,N=1;N<M.length;N++)rt=M[N-1][1],st=M[N][1],rt>J!=st>=J&&(R=M[N-1][0],V=M[N][0],st-rt&&(S=R+(V-R)*(J-rt)/(st-rt),xt=Math.min(xt,S),H=Math.max(H,S)));return xt=Math.max(xt,0),H=Math.min(H,_._length),{x0:xt,x1:H,y0:J,y1:J}}if(c.indexOf("fills")!==-1&&h._fillElement){var X=D(h._fillElement)&&!D(h._fillExclusionElement);if(X){var it=W(h._polygons);it===null&&(it={x0:p[0],x1:p[0],y0:p[1],y1:p[1]});var nt=i.defaultLine;return i.opacity(h.fillcolor)?nt=h.fillcolor:i.opacity((h.line||{}).color)&&(nt=h.line.color),r.extendFlat(s,{distance:s.maxHoverDistance,x0:it.x0,x1:it.x1,y0:it.y0,y1:it.y1,color:nt,hovertemplate:!1}),delete s.index,h.text&&!r.isArrayOrTypedArray(h.text)?s.text=String(h.text):s.text=h.name,[s]}}}}),mf=Ct((F,C)=>{var r=Pa();C.exports=function(t,n){var l=t.cd,i=t.xaxis,o=t.yaxis,s=[],f=l[0].trace,e,v,u,h,_=!r.hasMarkers(f)&&!r.hasText(f);if(_)return[];if(n===!1)for(e=0;e<l.length;e++)l[e].selected=0;else for(e=0;e<l.length;e++)v=l[e],u=i.c2p(v.x),h=o.c2p(v.y),v.i!==null&&n.contains([u,h],!1,e,t)?(s.push({pointNumber:v.i,x:i.c2d(v.x),y:o.c2d(v.y)}),v.selected=1):v.selected=0;return s}}),xf=Ct((F,C)=>{C.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}}),bf=Ct((F,C)=>{var r=un().traceIs,t=ol();C.exports=function(s,f,e,v){e("autotypenumbers",v.autotypenumbersDflt);var u=e("type",(v.splomStash||{}).type);u==="-"&&(n(f,v.data),f.type==="-"?f.type="linear":s.type=f.type)};function n(s,f){if(s.type==="-"){var e=s._id,v=e.charAt(0),u;e.indexOf("scene")!==-1&&(e=v);var h=l(f,e,v);if(h){if(h.type==="histogram"&&v==={v:"y",h:"x"}[h.orientation||"v"]){s.type="linear";return}var _=v+"calendar",m=h[_],g={noMultiCategory:!r(h,"cartesian")||r(h,"noMultiCategory")};if(h.type==="box"&&h._hasPreCompStats&&v==={h:"x",v:"y"}[h.orientation||"v"]&&(g.noMultiCategory=!0),g.autotypenumbers=s.autotypenumbers,o(h,v)){var y=i(h),p=[];for(u=0;u<f.length;u++){var c=f[u];!r(c,"box-violin")||(c[v+"axis"]||v)!==e||(c[y]!==void 0?p.push(c[y][0]):c.name!==void 0?p.push(c.name):p.push("text"),c[_]!==m&&(m=void 0))}s.type=t(p,m,g)}else if(h.type==="splom"){var d=h.dimensions,b=d[h._axesDim[e]];b.visible&&(s.type=t(b.values,m,g))}else s.type=t(h[v]||[h[v+"0"]],m,g)}}}function l(s,f,e){for(var v=0;v<s.length;v++){var u=s[v];if(u.type==="splom"&&u._length>0&&(u["_"+e+"axes"]||{})[f]||(u[e+"axis"]||e)===f&&(o(u,e)||(u[e]||[]).length||u[e+"0"]))return u}}function i(s){return{v:"x",h:"y"}[s.orientation||"v"]}function o(s,f){var e=i(s),v=r(s,"box-violin"),u=r(s._fullInput||{},"candlestick");return v&&!u&&f===e&&s[e]===void 0&&s[e+"0"]===void 0}}),_f=Ct((F,C)=>{var r=Ca().isTypedArraySpec;function t(n,l){var i=l.dataAttr||n._id.charAt(0),o={},s,f,e;if(l.axData)s=l.axData;else for(s=[],f=0;f<l.data.length;f++){var v=l.data[f];v[i+"axis"]===n._id&&s.push(v)}for(f=0;f<s.length;f++){var u=s[f][i];for(e=0;e<u.length;e++){var h=u[e];h!=null&&(o[h]=1)}}return Object.keys(o)}C.exports=function(n,l,i,o){if(l.type==="category"){var s=n.categoryarray,f=Array.isArray(s)&&s.length>0||r(s),e;f&&(e="array");var v=i("categoryorder",e),u;v==="array"&&(u=i("categoryarray")),!f&&v==="array"&&(v=l.categoryorder="trace"),v==="trace"?l._initialCategories=[]:v==="array"?l._initialCategories=u.slice():(u=t(l,o).sort(),v==="category ascending"?l._initialCategories=u:v==="category descending"&&(l._initialCategories=u.reverse()))}}}),wf=Ct((F,C)=>{var r=Ra().mix,t=Xa(),n=De();C.exports=function(l,i,o,s){s=s||{};var f=s.dfltColor;function e(T,G){return n.coerce2(l,i,s.attributes,T,G)}var v=e("linecolor",f),u=e("linewidth"),h=o("showline",s.showLine||!!v||!!u);h||(delete i.linecolor,delete i.linewidth);var _=r(f,s.bgColor,s.blend||t.lightFraction).toRgbString(),m=e("gridcolor",_),g=e("gridwidth"),y=e("griddash"),p=o("showgrid",s.showGrid||!!m||!!g||!!y);if(p||(delete i.gridcolor,delete i.gridwidth,delete i.griddash),s.hasMinor){var c=r(i.gridcolor,s.bgColor,67).toRgbString(),d=e("minor.gridcolor",c),b=e("minor.gridwidth",i.gridwidth||1),w=e("minor.griddash",i.griddash||"solid"),k=o("minor.showgrid",!!d||!!b||!!w);k||(delete i.minor.gridcolor,delete i.minor.gridwidth,delete i.minor.griddash)}if(!s.noZeroLine){e("zerolinelayer");var $=e("zerolinecolor",f),P=e("zerolinewidth"),O=o("zeroline",s.showGrid||!!$||!!P);O||(delete i.zerolinelayer,delete i.zerolinecolor,delete i.zerolinewidth)}}}),Bl=Ct((F,C)=>{var r=Mn(),t=un(),n=De(),l=Bn(),i=Ya(),o=Va(),s=Qo(),f=Ko(),e=el(),v=nl(),u=_f(),h=wf(),_=ll(),m=Ri(),g=pa().WEEKDAY_PATTERN,y=pa().HOUR_PATTERN;C.exports=function(b,w,k,$,P){var O=$.letter,T=$.font||{},G=$.splomStash||{},I=k("visible",!$.visibleDflt),E=w._template||{},z=w.type||E.type||"-",j;if(z==="date"){var U=t.getComponentMethod("calendars","handleDefaults");U(b,w,"calendar",$.calendar),$.noTicklabelmode||(j=k("ticklabelmode"))}!$.noTicklabelindex&&(z==="date"||z==="linear")&&k("ticklabelindex");var Z="";(!$.noTicklabelposition||z==="multicategory")&&(Z=n.coerce(b,w,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:j==="period"?["outside","inside"]:O==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),$.noTicklabeloverflow||k("ticklabeloverflow",Z.indexOf("inside")!==-1?"hide past domain":z==="category"||z==="multicategory"?"allow":"hide past div"),m(w,P),_(b,w,k,$),u(b,w,k,$),$.noHover||(z!=="category"&&k("hoverformat"),$.noUnifiedhovertitle||k("unifiedhovertitle.text"));var D=k("color"),W=D!==o.color.dflt?D:T.color,X=G.label||P._dfltTitle[O];if(v(b,w,k,z,$),!I)return w;k("title.text",X),n.coerceFont(k,"title.font",T,{overrideDflt:{size:n.bigFont(T.size),color:W}}),s(b,w,k,z);var it=$.hasMinor;if(it&&(l.newContainer(w,"minor"),s(b,w,k,z,{isMinor:!0})),e(b,w,k,z,$),f(b,w,k,$),it){var nt=$.isMinor;$.isMinor=!0,f(b,w,k,$),$.isMinor=nt}h(b,w,k,{dfltColor:D,bgColor:$.bgColor,showGrid:$.showGrid,hasMinor:it,attributes:o}),it&&!w.minor.ticks&&!w.minor.showgrid&&delete w.minor,(w.showline||w.ticks)&&k("mirror");var ot=z==="multicategory";if(!$.noTickson&&(z==="category"||ot)&&(w.ticks||w.showgrid)&&(ot?(k("tickson","boundaries"),delete w.ticklabelposition):k("tickson")),ot){var dt=k("showdividers");dt&&(k("dividercolor"),k("dividerwidth"))}if(z==="date")if(i(b,w,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:p}),!w.rangebreaks.length)delete w.rangebreaks;else{for(var ht=0;ht<w.rangebreaks.length;ht++)if(w.rangebreaks[ht].pattern===g){w._hasDayOfWeekBreaks=!0;break}if(m(w,P),P._has("scattergl")||P._has("splom"))for(var xt=0;xt<$.data.length;xt++){var H=$.data[xt];(H.type==="scattergl"||H.type==="splom")&&(H.visible=!1,n.warn(H.type+" traces do not work on axes with rangebreaks. Setting trace "+H.index+" to `visible: false`."))}}return w};function p(b,w,k){function $(U,Z){return n.coerce(b,w,o.rangebreaks,U,Z)}var P=$("enabled");if(P){var O=$("bounds");if(O&&O.length>=2){var T="",G,I;if(O.length===2){for(G=0;G<2;G++)if(I=d(O[G]),I){T=g;break}}var E=$("pattern",T);if(E===g)for(G=0;G<2;G++)I=d(O[G]),I&&(w.bounds[G]=O[G]=I-1);if(E)for(G=0;G<2;G++)switch(I=O[G],E){case g:if(!r(I)){w.enabled=!1;return}if(I=+I,I!==Math.floor(I)||I<0||I>=7){w.enabled=!1;return}w.bounds[G]=O[G]=I;break;case y:if(!r(I)){w.enabled=!1;return}if(I=+I,I<0||I>24){w.enabled=!1;return}w.bounds[G]=O[G]=I;break}if(k.autorange===!1){var z=k.range;if(z[0]<z[1]){if(O[0]<z[0]&&O[1]>z[1]){w.enabled=!1;return}}else if(O[0]>z[0]&&O[1]<z[1]){w.enabled=!1;return}}}else{var j=$("values");if(j&&j.length)$("dvalue");else{w.enabled=!1;return}}}}var c={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function d(b){if(typeof b=="string")return c[b.substr(0,3).toLowerCase()]}}),Vl=Ct((F,C)=>{var r=Mn(),t=De();C.exports=function(n,l,i,o){var s=o.counterAxes||[],f=o.overlayableAxes||[],e=o.letter,v=o.grid,u=o.overlayingDomain,h,_,m,g,y,p;v&&(_=v._domains[e][v._axisMap[l._id]],h=v._anchors[l._id],_&&(m=v[e+"side"].split(" ")[0],g=v.domain[e][m==="right"||m==="top"?1:0])),_=_||[0,1],h=h||(r(n.position)?"free":s[0]||"free"),m=m||(e==="x"?"bottom":"left"),g=g||0,y=0,p=!1;var c=t.coerce(n,l,{anchor:{valType:"enumerated",values:["free"].concat(s),dflt:h}},"anchor"),d=t.coerce(n,l,{side:{valType:"enumerated",values:e==="x"?["bottom","top"]:["left","right"],dflt:m}},"side");if(c==="free"){if(e==="y"){var b=i("autoshift");b&&(g=d==="left"?u[0]:u[1],p=l.automargin?l.automargin:!0,y=d==="left"?-3:3),i("shift",y)}i("position",g)}i("automargin",p);var w=!1;if(f.length&&(w=t.coerce(n,l,{overlaying:{valType:"enumerated",values:[!1].concat(f),dflt:!1}},"overlaying")),!w){var k=i("domain",_);k[0]>k[1]-1/4096&&(l.domain=_),t.noneOrAll(n.domain,l.domain,_),l.tickmode==="sync"&&(l.tickmode="auto")}return i("layer"),l}}),Mf=Ct((F,C)=>{var r=De(),t=bn(),n=Ka().isUnifiedHover,l=vl(),i=Bn(),o=Nr(),s=Va(),f=bf(),e=Bl(),v=Kr(),u=Vl(),h=sa(),_=h.id2name,m=h.name2id,g=pa().AX_ID_PATTERN,y=un(),p=y.traceIs,c=y.getComponentMethod;function d(b,w,k){Array.isArray(b[w])?b[w].push(k):b[w]=[k]}C.exports=function(b,w,k){var $=w.autotypenumbers,P={},O={},T={},G={},I={},E={},z={},j={},U={},Z={},D,W;for(D=0;D<k.length;D++){var X=k[D];if(p(X,"cartesian")){var it;if(X.xaxis)it=_(X.xaxis),d(P,it,X);else if(X.xaxes)for(W=0;W<X.xaxes.length;W++)d(P,_(X.xaxes[W]),X);var nt;if(X.yaxis)nt=_(X.yaxis),d(P,nt,X);else if(X.yaxes)for(W=0;W<X.yaxes.length;W++)d(P,_(X.yaxes[W]),X);if(X.type==="funnel"?X.orientation==="h"?(it&&(O[it]=!0),nt&&(z[nt]=!0)):nt&&(T[nt]=!0):X.type==="image"?(nt&&(j[nt]=!0),it&&(j[it]=!0)):(nt&&(I[nt]=!0,E[nt]=!0),(!p(X,"carpet")||X.type==="carpet"&&!X._cheater)&&it&&(G[it]=!0)),X.type==="carpet"&&X._cheater&&it&&(O[it]=!0),p(X,"2dMap")&&(U[it]=!0,U[nt]=!0),p(X,"oriented")){var ot=X.orientation==="h"?nt:it;Z[ot]=!0}}}var dt=w._subplots,ht=dt.xaxis,xt=dt.yaxis,H=r.simpleMap(ht,_),Y=r.simpleMap(xt,_),A=H.concat(Y),J=t.background;ht.length&&xt.length&&(J=r.coerce(b,w,o,"plot_bgcolor"));var at=t.combine(J,w.paper_bgcolor),N,M,S,R,V;function rt(){var ft=P[N]||[];V._traceIndices=ft.map(function(yt){return yt.index}),V._annIndices=[],V._shapeIndices=[],V._selectionIndices=[],V._imgIndices=[],V._subplotsWith=[],V._counterAxes=[],V._name=V._attr=N,V._id=M}function st(ft,yt){return r.coerce(R,V,s,ft,yt)}function ut(ft,yt){return r.coerce2(R,V,s,ft,yt)}function _t(ft){return ft==="x"?xt:ht}function Tt(ft,yt){for(var gt=ft==="x"?H:Y,It=[],Mt=0;Mt<gt.length;Mt++){var Jt=gt[Mt];Jt!==yt&&!(b[Jt]||{}).overlaying&&It.push(m(Jt))}return It}var Ft={x:_t("x"),y:_t("y")},Zt=Ft.x.concat(Ft.y),Bt={},Rt=[];function pt(){var ft=R.matches;g.test(ft)&&Zt.indexOf(ft)===-1&&(Bt[ft]=R.type,Rt=Object.keys(Bt))}var bt=l(b,w),lt=n(bt);for(D=0;D<A.length;D++){N=A[D],M=m(N),S=N.charAt(0),r.isPlainObject(b[N])||(b[N]={}),R=b[N],V=i.newContainer(w,N,S+"axis"),rt();var kt=S==="x"&&!G[N]&&O[N]||S==="y"&&!I[N]&&T[N],Nt=S==="y"&&(!E[N]&&z[N]||j[N]),Yt={hasMinor:!0,letter:S,font:w.font,outerTicks:U[N],showGrid:!Z[N],data:P[N]||[],bgColor:at,calendar:w.calendar,automargin:!0,visibleDflt:kt,reverseDflt:Nt,autotypenumbersDflt:$,splomStash:((w._splomAxes||{})[S]||{})[M],noAutotickangles:S==="y"};st("uirevision",w.uirevision),f(R,V,st,Yt),e(R,V,st,Yt,w);var ee=lt&&S===bt.charAt(0),Xt=ut("spikecolor",lt?V.color:void 0),ae=ut("spikethickness",lt?1.5:void 0),oe=ut("spikedash",lt?"dot":void 0),ie=ut("spikemode",lt?"across":void 0),pe=ut("spikesnap"),$t=st("showspikes",!!ee||!!Xt||!!ae||!!oe||!!ie||!!pe);$t||(delete V.spikecolor,delete V.spikethickness,delete V.spikedash,delete V.spikemode,delete V.spikesnap);var me=_(R.overlaying),we=[0,1];if(w[me]!==void 0){var ve=_(w[me].anchor);w[ve]!==void 0&&(we=w[ve].domain)}u(R,V,st,{letter:S,counterAxes:Ft[S],overlayableAxes:Tt(S,N),grid:w.grid,overlayingDomain:we}),st("title.standoff"),pt(),V._input=R}for(D=0;D<Rt.length;){M=Rt[D++],N=_(M),S=N.charAt(0),r.isPlainObject(b[N])||(b[N]={}),R=b[N],V=i.newContainer(w,N,S+"axis"),rt();var Me={letter:S,font:w.font,outerTicks:U[N],showGrid:!Z[N],data:[],bgColor:at,calendar:w.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:$,splomStash:((w._splomAxes||{})[S]||{})[M]};st("uirevision",w.uirevision),V.type=Bt[M]||"linear",e(R,V,st,Me,w),u(R,V,st,{letter:S,counterAxes:Ft[S],overlayableAxes:Tt(S,N),grid:w.grid}),st("fixedrange"),st("modebardisable"),pt(),V._input=R}var mt=c("rangeslider","handleDefaults"),Lt=c("rangeselector","handleDefaults");for(D=0;D<H.length;D++)N=H[D],R=b[N],V=w[N],mt(b,w,N),V.type==="date"&&Lt(R,V,w,Y,V.calendar),st("fixedrange"),st("modebardisable");for(D=0;D<Y.length;D++){N=Y[D],R=b[N],V=w[N];var At=w[_(V.anchor)],Q=c("rangeslider","isVisible")(At);st("fixedrange",Q),st("modebardisable")}v.handleDefaults(b,w,{axIds:Zt.concat(Rt).sort(h.idSort),axHasImage:j})}}),Tf=Ct((F,C)=>{var r=wn(),t=un(),n=De(),l=zn(),i=Yn();C.exports=function(o,s,f,e){var v=o._fullLayout;if(s.length===0){i.redrawComponents(o);return}function u(w){var k=w.xaxis,$=w.yaxis;v._defs.select("#"+w.clipId+"> rect").call(l.setTranslate,0,0).call(l.setScale,1,1),w.plot.call(l.setTranslate,k._offset,$._offset).call(l.setScale,1,1);var P=w.plot.selectAll(".scatterlayer .trace");P.selectAll(".point").call(l.setPointGroupScale,1,1),P.selectAll(".textpoint").call(l.setTextPointsScale,1,1),P.call(l.hideOutsideRangePoints,w)}function h(w,k){var $=w.plotinfo,P=$.xaxis,O=$.yaxis,T=P._length,G=O._length,I=!!w.xr1,E=!!w.yr1,z=[];if(I){var j=n.simpleMap(w.xr0,P.r2l),U=n.simpleMap(w.xr1,P.r2l),Z=j[1]-j[0],D=U[1]-U[0];z[0]=(j[0]*(1-k)+k*U[0]-j[0])/(j[1]-j[0])*T,z[2]=T*(1-k+k*D/Z),P.range[0]=P.l2r(j[0]*(1-k)+k*U[0]),P.range[1]=P.l2r(j[1]*(1-k)+k*U[1])}else z[0]=0,z[2]=T;if(E){var W=n.simpleMap(w.yr0,O.r2l),X=n.simpleMap(w.yr1,O.r2l),it=W[1]-W[0],nt=X[1]-X[0];z[1]=(W[1]*(1-k)+k*X[1]-W[1])/(W[0]-W[1])*G,z[3]=G*(1-k+k*nt/it),O.range[0]=P.l2r(W[0]*(1-k)+k*X[0]),O.range[1]=O.l2r(W[1]*(1-k)+k*X[1])}else z[1]=0,z[3]=G;i.drawOne(o,P,{skipTitle:!0}),i.drawOne(o,O,{skipTitle:!0}),i.redrawComponents(o,[P._id,O._id]);var ot=I?T/z[2]:1,dt=E?G/z[3]:1,ht=I?z[0]:0,xt=E?z[1]:0,H=I?z[0]/z[2]*T:0,Y=E?z[1]/z[3]*G:0,A=P._offset-H,J=O._offset-Y;$.clipRect.call(l.setTranslate,ht,xt).call(l.setScale,1/ot,1/dt),$.plot.call(l.setTranslate,A,J).call(l.setScale,ot,dt),l.setPointGroupScale($.zoomScalePts,1/ot,1/dt),l.setTextPointsScale($.zoomScaleTxt,1/ot,1/dt)}var _;e&&(_=e());function m(){for(var w={},k=0;k<s.length;k++){var $=s[k],P=$.plotinfo.xaxis,O=$.plotinfo.yaxis;$.xr1&&(w[P._name+".range"]=$.xr1.slice()),$.yr1&&(w[O._name+".range"]=$.yr1.slice())}return _&&_(),t.call("relayout",o,w).then(function(){for(var T=0;T<s.length;T++)u(s[T].plotinfo)})}function g(){for(var w={},k=0;k<s.length;k++){var $=s[k],P=$.plotinfo.xaxis,O=$.plotinfo.yaxis;$.xr0&&(w[P._name+".range"]=$.xr0.slice()),$.yr0&&(w[O._name+".range"]=$.yr0.slice())}return t.call("relayout",o,w).then(function(){for(var T=0;T<s.length;T++)u(s[T].plotinfo)})}var y,p,c,d=r.ease(f.easing);o._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(c),c=null,g()});function b(){p=Date.now();for(var w=Math.min(1,(p-y)/f.duration),k=d(w),$=0;$<s.length;$++)h(s[$],k);p-y>f.duration?(m(),c=window.cancelAnimationFrame(b)):c=window.requestAnimationFrame(b)}return y=Date.now(),c=window.requestAnimationFrame(b),Promise.resolve()}}),Ki=Ct(F=>{var C=wn(),r=un(),t=De(),n=aa(),l=zn(),i=Jo().getModuleCalcData,o=sa(),s=pa(),f=Tr(),e=t.ensureSingle;function v(p,c,d){return t.ensureSingle(p,c,d,function(b){b.datum(d)})}var u=s.zindexSeparator;F.name="cartesian",F.attr=["xaxis","yaxis"],F.idRoot=["x","y"],F.idRegex=s.idRegex,F.attrRegex=s.attrRegex,F.attributes=xf(),F.layoutAttributes=Va(),F.supplyLayoutDefaults=Mf(),F.transitionAxes=Tf(),F.finalizeSubplots=function(p,c){var d=c._subplots,b=d.xaxis,w=d.yaxis,k=d.cartesian,$=k,P={},O={},T,G,I;for(T=0;T<$.length;T++){var E=$[T].split("y");P[E[0]]=1,O["y"+E[1]]=1}for(T=0;T<b.length;T++)G=b[T],P[G]||(I=(p[o.id2name(G)]||{}).anchor,s.idRegex.y.test(I)||(I="y"),k.push(G+I),$.push(G+I),O[I]||(O[I]=1,t.pushUnique(w,I)));for(T=0;T<w.length;T++)I=w[T],O[I]||(G=(p[o.id2name(I)]||{}).anchor,s.idRegex.x.test(G)||(G="x"),k.push(G+I),$.push(G+I),P[G]||(P[G]=1,t.pushUnique(b,G)));if(!$.length){G="",I="";for(var z in p)if(s.attrRegex.test(z)){var j=z.charAt(0);j==="x"?(!G||+z.substr(5)<+G.substr(5))&&(G=z):(!I||+z.substr(5)<+I.substr(5))&&(I=z)}G=G?o.name2id(G):"x",I=I?o.name2id(I):"y",b.push(G),w.push(I),k.push(G+I)}},F.plot=function(p,c,d,b){var w=p._fullLayout,k=w._subplots.cartesian,$=p.calcdata,P;if(!Array.isArray(c))for(c=[],P=0;P<$.length;P++)c.push(P);for(var O=w._zindices,T=0;T<O.length;T++){var G=O[T];for(P=0;P<k.length;P++){var I=k[P],E=w._plots[I];if(T>0){var z=E.id;if(z.indexOf(u)!==-1)continue;z+=u+(T+1),E=t.extendFlat({},E,{id:z,plot:w._cartesianlayer.selectAll(".subplot").select("."+z)})}for(var j=[],U,Z=0;Z<$.length;Z++){var D=$[Z],W=D[0].trace;G===(W.zorder||0)&&W.xaxis+W.yaxis===I&&((c.indexOf(W.index)!==-1||W.carpet)&&(U&&U[0].trace.xaxis+U[0].trace.yaxis===I&&["tonextx","tonexty","tonext"].indexOf(W.fill)!==-1&&j.indexOf(U)===-1&&j.push(U),j.push(D)),U=D)}h(p,E,j,d,b)}}};function h(p,c,d,b,w){for(var k=s.traceLayerClasses,$=p._fullLayout,P=$._zindices,O=$._modules,T,G,I,E=[],z=[],j=0;j<P.length;j++)for(var U=P[j],Z=0;Z<O.length;Z++){T=O[Z];var D=T.name,W=r.modules[D].categories;if(W.svg){var X=T.layerName||D+"layer",it=X+(j?Number(j)+1:""),nt=T.plot;G=i(d,nt,U),I=G[0],d=G[1],I.length&&E.push({i:k.indexOf(X),zindex:j,className:it,plotMethod:nt,cdModule:I}),W.zoomScale&&z.push("."+it)}}E.sort(function(ht,xt){return(ht.zindex||0)-(xt.zindex||0)||ht.i-xt.i});var ot=c.plot.selectAll("g.mlayer").data(E,function(ht){return ht.className});if(ot.enter().append("g").attr("class",function(ht){return ht.className}).classed("mlayer",!0).classed("rangeplot",c.isRangePlot),ot.exit().remove(),ot.order(),ot.each(function(ht){var xt=C.select(this),H=ht.className;ht.plotMethod(p,c,ht.cdModule,xt,b,w),s.clipOnAxisFalseQuery.indexOf("."+H)===-1&&l.setClipUrl(xt,c.layerClipId,p)}),$._has("scattergl")&&(T=r.getModule("scattergl"),I=i(d,T)[0],T.plot(p,c,I)),!p._context.staticPlot&&(c._hasClipOnAxisFalse&&(c.clipOnAxisFalseTraces=c.plot.selectAll(s.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),z.length)){var dt=c.plot.selectAll(z.join(",")).selectAll(".trace");c.zoomScalePts=dt.selectAll("path.point"),c.zoomScaleTxt=dt.selectAll(".textpoint")}}F.clean=function(p,c,d,b){var w=b._plots||{},k=c._plots||{},$=b._subplots||{},P,O,T;if(b._hasOnlyLargeSploms&&!c._hasOnlyLargeSploms)for(T in w)P=w[T],P.plotgroup&&P.plotgroup.remove();var G=b._has&&b._has("gl"),I=c._has&&c._has("gl");if(G&&!I)for(T in w)P=w[T],P._scene&&P._scene.destroy();if($.xaxis&&$.yaxis){var E=o.listIds({_fullLayout:b});for(O=0;O<E.length;O++){var z=E[O];c[o.id2name(z)]||b._infolayer.selectAll(".g-"+z+"title").remove()}}var j=b._has&&b._has("cartesian"),U=c._has&&c._has("cartesian");if(j&&!U)g(b._cartesianlayer.selectAll(".subplot"),b),b._defs.selectAll(".axesclip").remove(),delete b._axisConstraintGroups,delete b._axisMatchGroups;else if($.cartesian)for(O=0;O<$.cartesian.length;O++){var Z=$.cartesian[O];if(Z.indexOf(u)===-1&&!k[Z]){var D="."+Z+",."+Z+"-x,."+Z+"-y";b._cartesianlayer.selectAll(D).remove(),y(Z,b)}}},F.drawFramework=function(p){var c=p._fullLayout,d=p.calcdata,b,w={};for(b=0;b<d.length;b++){var k=d[b][0],$=k.trace,P=$.zorder||0;w[P]||(w[P]=[]),w[P].push(k)}var O=Object.keys(w).map(Number).sort(t.sorterAsc);O.length||(O=[0]),c._zindices=O;var T=_(p),G=T.length,I=[];for(b=0;b<G;b++)I[b]=T[b].slice();for(var E=1;E<O.length;E++){var z=[];for(b=0;b<G;b++)z[b]=T[b].slice(),z[b][0]+=u+(E+1);I=I.concat(z)}var j=c._cartesianlayer.selectAll(".subplot").data(I,String);j.enter().append("g").attr("class",function(U){return"subplot "+U[0]}),j.order(),j.exit().call(g,c),j.each(function(U){var Z=U[0],D=Z.indexOf(u),W=D!==-1,X=W?Z.slice(0,D):Z,it=c._plots[Z];it||(it=t.extendFlat({},c._plots[X]),it&&(it.id=Z,c._plots[Z]=it,c._subplots.cartesian.push(Z))),it&&(it.plotgroup=C.select(this),m(p,it),W||(it.draglayer=e(c._draggers,"g",Z)))})},F.rangePlot=function(p,c,d){m(p,c),h(p,c,d),n.style(p)};function _(p){var c=p._fullLayout,d=c._zindices.length,b=c._subplots.cartesian,w=b.length,k,$,P,O,T,G,I=[],E=[];for(k=0;k<w;k++){P=b[k],O=c._plots[P],T=O.xaxis,G=O.yaxis;var z=T._mainAxis,j=G._mainAxis,U=z._id+j._id,Z=c._plots[U];O.overlays=[],U!==P&&Z?(O.mainplot=U,O.mainplotinfo=Z,E.push(P)):(O.mainplot=void 0,O.mainplotinfo=void 0,I.push(P))}for(k=0;k<E.length;k++)P=E[k],O=c._plots[P],O.mainplotinfo.overlays.push(O);var D=I.concat(E),W=[];for(k=0;k<w;k++){P=D[k],O=c._plots[P],T=O.xaxis,G=O.yaxis;for(var X=[],it=1;it<=d;it++){var nt="";for(it>1&&(nt+=u+it),X.push(P+nt),$=0;$<O.overlays.length;$++)X.push(O.overlays[$].id+nt)}X=X.concat([T.layer,G.layer,T.overlaying||"",G.overlaying||""]),W.push(X)}return W}function m(p,c){var d=p._fullLayout,b=c.plotgroup,w=c.id,k=w.indexOf(u),$=k!==-1,P=s.layerValue2layerClass[c.xaxis.layer],O=s.layerValue2layerClass[c.yaxis.layer],T=d._hasOnlyLargeSploms,G=d._zindices.length>1,I=c.mainplotinfo;if(!c.mainplot||G)if(T)c.xlines=e(b,"path","xlines-above"),c.ylines=e(b,"path","ylines-above"),c.xaxislayer=e(b,"g","xaxislayer-above"),c.yaxislayer=e(b,"g","yaxislayer-above");else{if(!$){var E=e(b,"g","layer-subplot");c.shapelayer=e(E,"g","shapelayer"),c.imagelayer=e(E,"g","imagelayer"),I&&G?(c.minorGridlayer=I.minorGridlayer,c.gridlayer=I.gridlayer,c.zerolinelayer=I.zerolinelayer):(c.minorGridlayer=e(b,"g","minor-gridlayer"),c.gridlayer=e(b,"g","gridlayer"),c.zerolinelayer=e(b,"g","zerolinelayer"));var z=e(b,"g","layer-between");c.shapelayerBetween=e(z,"g","shapelayer"),c.imagelayerBetween=e(z,"g","imagelayer"),e(b,"path","xlines-below"),e(b,"path","ylines-below"),c.overlinesBelow=e(b,"g","overlines-below"),e(b,"g","xaxislayer-below"),e(b,"g","yaxislayer-below"),c.overaxesBelow=e(b,"g","overaxes-below")}c.overplot=e(b,"g","overplot"),c.plot=e(c.overplot,"g",w),I&&G?c.zerolinelayerAbove=I.zerolinelayerAbove:c.zerolinelayerAbove=e(b,"g","zerolinelayer-above"),$||(c.xlines=e(b,"path","xlines-above"),c.ylines=e(b,"path","ylines-above"),c.overlinesAbove=e(b,"g","overlines-above"),e(b,"g","xaxislayer-above"),e(b,"g","yaxislayer-above"),c.overaxesAbove=e(b,"g","overaxes-above"),c.xlines=b.select(".xlines-"+P),c.ylines=b.select(".ylines-"+O),c.xaxislayer=b.select(".xaxislayer-"+P),c.yaxislayer=b.select(".yaxislayer-"+O))}else{var j=I.plotgroup,U=w+"-x",Z=w+"-y";c.minorGridlayer=I.minorGridlayer,c.gridlayer=I.gridlayer,c.zerolinelayer=I.zerolinelayer,c.zerolinelayerAbove=I.zerolinelayerAbove,e(I.overlinesBelow,"path",U),e(I.overlinesBelow,"path",Z),e(I.overaxesBelow,"g",U),e(I.overaxesBelow,"g",Z),c.plot=e(I.overplot,"g",w),e(I.overlinesAbove,"path",U),e(I.overlinesAbove,"path",Z),e(I.overaxesAbove,"g",U),e(I.overaxesAbove,"g",Z),c.xlines=j.select(".overlines-"+P).select("."+U),c.ylines=j.select(".overlines-"+O).select("."+Z),c.xaxislayer=j.select(".overaxes-"+P).select("."+U),c.yaxislayer=j.select(".overaxes-"+O).select("."+Z)}$||(T||(v(c.minorGridlayer,"g",c.xaxis._id),v(c.minorGridlayer,"g",c.yaxis._id),c.minorGridlayer.selectAll("g").map(function(D){return D[0]}).sort(o.idSort),v(c.gridlayer,"g",c.xaxis._id),v(c.gridlayer,"g",c.yaxis._id),c.gridlayer.selectAll("g").map(function(D){return D[0]}).sort(o.idSort)),c.xlines.style("fill","none").classed("crisp",!0),c.ylines.style("fill","none").classed("crisp",!0))}function g(p,c){if(p){var d={};p.each(function(O){var T=O[0],G=C.select(this);G.remove(),y(T,c),d[T]=!0});for(var b in c._plots)for(var w=c._plots[b],k=w.overlays||[],$=0;$<k.length;$++){var P=k[$];d[P.id]&&P.plot.selectAll(".trace").remove()}}}function y(p,c){c._draggers.selectAll("g."+p).remove(),c._defs.select("#clip"+c._uid+p+"plot").remove()}F.toSVG=function(p){var c=p._fullLayout._glimages,d=C.select(p).selectAll(".svg-container"),b=d.filter(function(k,$){return $===d.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function w(){var k=this,$=k.toDataURL("image/png"),P=c.append("svg:image");P.attr({xmlns:f.svg,"xlink:href":$,preserveAspectRatio:"none",x:0,y:0,width:k.style.width,height:k.style.height})}b.each(w)},F.updateFx=Ll().updateFx}),kf=Ct((F,C)=>{var r=Pa();C.exports={hasLines:r.hasLines,hasMarkers:r.hasMarkers,hasText:r.hasText,isBubble:r.isBubble,attributes:kr(),layoutAttributes:Ii(),supplyDefaults:of(),crossTraceDefaults:lf(),supplyLayoutDefaults:sf(),calc:Rl().calc,crossTraceCalc:ff(),arraysToCalcdata:Nl(),plot:pf(),colorbar:jl(),formatLabels:vf(),style:Hl().style,styleOnSelect:Hl().styleOnSelect,hoverPoints:yf(),selectPoints:mf(),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:Ki(),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}}),Af=Ct((F,C)=>{var r=wn(),t=bn(),n=kl(),l=De(),i=l.strScale,o=l.strRotate,s=l.strTranslate;C.exports=function(f,e,v){var u=f.node(),h=n[v.arrowhead||0],_=n[v.startarrowhead||0],m=(v.arrowwidth||1)*(v.arrowsize||1),g=(v.arrowwidth||1)*(v.startarrowsize||1),y=e.indexOf("start")>=0,p=e.indexOf("end")>=0,c=h.backoff*m+v.standoff,d=_.backoff*g+v.startstandoff,b,w,k,$;if(u.nodeName==="line"){b={x:+f.attr("x1"),y:+f.attr("y1")},w={x:+f.attr("x2"),y:+f.attr("y2")};var P=b.x-w.x,O=b.y-w.y;if(k=Math.atan2(O,P),$=k+Math.PI,c&&d&&c+d>Math.sqrt(P*P+O*O)){it();return}if(c){if(c*c>P*P+O*O){it();return}var T=c*Math.cos(k),G=c*Math.sin(k);w.x+=T,w.y+=G,f.attr({x2:w.x,y2:w.y})}if(d){if(d*d>P*P+O*O){it();return}var I=d*Math.cos(k),E=d*Math.sin(k);b.x-=I,b.y-=E,f.attr({x1:b.x,y1:b.y})}}else if(u.nodeName==="path"){var z=u.getTotalLength(),j="";if(z<c+d){it();return}var U=u.getPointAtLength(0),Z=u.getPointAtLength(.1);k=Math.atan2(U.y-Z.y,U.x-Z.x),b=u.getPointAtLength(Math.min(d,z)),j="0px,"+d+"px,";var D=u.getPointAtLength(z),W=u.getPointAtLength(z-.1);$=Math.atan2(D.y-W.y,D.x-W.x),w=u.getPointAtLength(Math.max(0,z-c));var X=j?d+c:c;j+=z-X+"px,"+z+"px",f.style("stroke-dasharray",j)}function it(){f.style("stroke-dasharray","0px,100px")}function nt(ot,dt,ht,xt){ot.path&&(ot.noRotate&&(ht=0),r.select(u.parentNode).append("path").attr({class:f.attr("class"),d:ot.path,transform:s(dt.x,dt.y)+o(ht*180/Math.PI)+i(xt)}).style({fill:t.rgb(v.arrowcolor),"stroke-width":0}))}y&&nt(_,b,k,g),p&&nt(h,w,$,m)}}),to=Ct((F,C)=>{var r=wn(),t=un(),n=aa(),l=De(),i=l.strTranslate,o=Yn(),s=bn(),f=zn(),e=tr(),v=xa(),u=dr(),h=Ua(),_=Bn().arrayEditor,m=Af();C.exports={draw:g,drawOne:y,drawRaw:c};function g(d){var b=d._fullLayout;b._infolayer.selectAll(".annotation").remove();for(var w=0;w<b.annotations.length;w++)b.annotations[w].visible&&y(d,w);return n.previousPromises(d)}function y(d,b){var w=d._fullLayout,k=w.annotations[b]||{},$=o.getFromId(d,k.xref),P=o.getFromId(d,k.yref);$&&$.setScale(),P&&P.setScale(),c(d,k,b,!1,$,P)}function p(d,b,w,k,$){var P=$[w],O=$[w+"ref"],T=w.indexOf("y")!==-1,G=o.getRefType(O)==="domain",I=T?k.h:k.w;return d?G?P+(T?-b:b)/d._length:d.p2r(d.r2p(P)+b):P+(T?-b:b)/I}function c(d,b,w,k,$,P){var O=d._fullLayout,T=d._fullLayout._size,G=d._context.edits,I,E;k?(I="annotation-"+k,E=k+".annotations"):(I="annotation",E="annotations");var z=_(d.layout,E,b),j=z.modifyBase,U=z.modifyItem,Z=z.getUpdateObj;O._infolayer.selectAll("."+I+'[data-index="'+w+'"]').remove();var D="clip"+O._uid+"_ann"+w;if(!b._input||b.visible===!1){r.selectAll("#"+D).remove();return}var W={x:{},y:{}},X=+b.textangle||0,it=O._infolayer.append("g").classed(I,!0).attr("data-index",String(w)).style("opacity",b.opacity),nt=it.append("g").classed("annotation-text-g",!0),ot=G[b.showarrow?"annotationTail":"annotationPosition"],dt=b.captureevents||G.annotationText||ot;function ht(st){var ut={index:w,annotation:b._input,fullAnnotation:b,event:st};return k&&(ut.subplotId=k),ut}var xt=nt.append("g").style("pointer-events",dt?"all":null).call(u,"pointer").on("click",function(){d._dragging=!1,d.emit("plotly_clickannotation",ht(r.event))});b.hovertext&&xt.on("mouseover",function(){var st=b.hoverlabel,ut=st.font,_t=this.getBoundingClientRect(),Tt=d.getBoundingClientRect();e.loneHover({x0:_t.left-Tt.left,x1:_t.right-Tt.left,y:(_t.top+_t.bottom)/2-Tt.top,text:b.hovertext,color:st.bgcolor,borderColor:st.bordercolor,fontFamily:ut.family,fontSize:ut.size,fontColor:ut.color,fontWeight:ut.weight,fontStyle:ut.style,fontVariant:ut.variant,fontShadow:ut.fontShadow,fontLineposition:ut.fontLineposition,fontTextcase:ut.fontTextcase},{container:O._hoverlayer.node(),outerContainer:O._paper.node(),gd:d})}).on("mouseout",function(){e.loneUnhover(O._hoverlayer.node())});var H=b.borderwidth,Y=b.borderpad,A=H+Y,J=xt.append("rect").attr("class","bg").style("stroke-width",H+"px").call(s.stroke,b.bordercolor).call(s.fill,b.bgcolor),at=b.width||b.height,N=O._topclips.selectAll("#"+D).data(at?[0]:[]);N.enter().append("clipPath").classed("annclip",!0).attr("id",D).append("rect"),N.exit().remove();var M=b.font,S=O._meta?l.templateString(b.text,O._meta):b.text,R=xt.append("text").classed("annotation-text",!0).text(S);function V(st){return st.call(f.font,M).attr({"text-anchor":{left:"start",right:"end"}[b.align]||"middle"}),v.convertToTspans(st,d,rt),st}function rt(){var st=R.selectAll("a");if(st.size()===1&&st.text()===R.text()){var ut=xt.insert("a",":first-child").attr({"xlink:xlink:href":st.attr("xlink:href"),"xlink:xlink:show":st.attr("xlink:show")}).style({cursor:"pointer"});ut.node().appendChild(J.node())}var _t=xt.select(".annotation-text-math-group"),Tt=!_t.empty(),Ft=f.bBox((Tt?_t:R).node()),Zt=Ft.width,Bt=Ft.height,Rt=b.width||Zt,pt=b.height||Bt,bt=Math.round(Rt+2*A),lt=Math.round(pt+2*A);function kt(Ne,Le){return Le==="auto"&&(Ne<1/3?Le="left":Ne>2/3?Le="right":Le="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[Le]}for(var Nt=!1,Yt=["x","y"],ee=0;ee<Yt.length;ee++){var Xt=Yt[ee],ae=b[Xt+"ref"]||Xt,oe=b["a"+Xt+"ref"],ie={x:$,y:P}[Xt],pe=(X+(Xt==="x"?0:-90))*Math.PI/180,$t=bt*Math.cos(pe),me=lt*Math.sin(pe),we=Math.abs($t)+Math.abs(me),ve=b[Xt+"anchor"],Me=b[Xt+"shift"]*(Xt==="x"?1:-1),mt=W[Xt],Lt,At,Q,ft,yt,gt=o.getRefType(ae);if(ie&&gt!=="domain"){var It=ie.r2fraction(b[Xt]);(It<0||It>1)&&(oe===ae?(It=ie.r2fraction(b["a"+Xt]),(It<0||It>1)&&(Nt=!0)):Nt=!0),Lt=ie._offset+ie.r2p(b[Xt]),ft=.5}else{var Mt=gt==="domain";Xt==="x"?(Q=b[Xt],Lt=Mt?ie._offset+ie._length*Q:Lt=T.l+T.w*Q):(Q=1-b[Xt],Lt=Mt?ie._offset+ie._length*Q:Lt=T.t+T.h*Q),ft=b.showarrow?.5:Q}if(b.showarrow){mt.head=Lt;var Jt=b["a"+Xt];if(yt=$t*kt(.5,b.xanchor)-me*kt(.5,b.yanchor),oe===ae){var qt=o.getRefType(oe);qt==="domain"?(Xt==="y"&&(Jt=1-Jt),mt.tail=ie._offset+ie._length*Jt):qt==="paper"?Xt==="y"?(Jt=1-Jt,mt.tail=T.t+T.h*Jt):mt.tail=T.l+T.w*Jt:mt.tail=ie._offset+ie.r2p(Jt),At=yt}else mt.tail=Lt+Jt,At=yt+Jt;mt.text=mt.tail+yt;var le=O[Xt==="x"?"width":"height"];if(ae==="paper"&&(mt.head=l.constrain(mt.head,1,le-1)),oe==="pixel"){var Et=-Math.max(mt.tail-3,mt.text),re=Math.min(mt.tail+3,mt.text)-le;Et>0?(mt.tail+=Et,mt.text+=Et):re>0&&(mt.tail-=re,mt.text-=re)}mt.tail+=Me,mt.head+=Me}else yt=we*kt(ft,ve),At=yt,mt.text=Lt+yt;mt.text+=Me,yt+=Me,At+=Me,b["_"+Xt+"padplus"]=we/2+At,b["_"+Xt+"padminus"]=we/2-At,b["_"+Xt+"size"]=we,b["_"+Xt+"shift"]=yt}if(Nt){xt.remove();return}var se=0,he=0;if(b.align!=="left"&&(se=(Rt-Zt)*(b.align==="center"?.5:1)),b.valign!=="top"&&(he=(pt-Bt)*(b.valign==="middle"?.5:1)),Tt)_t.select("svg").attr({x:A+se-1,y:A+he}).call(f.setClipUrl,at?D:null,d);else{var Se=A+he-Ft.top,je=A+se-Ft.left;R.call(v.positionText,je,Se).call(f.setClipUrl,at?D:null,d)}N.select("rect").call(f.setRect,A,A,Rt,pt),J.call(f.setRect,H/2,H/2,bt-H,lt-H),xt.call(f.setTranslate,Math.round(W.x.text-bt/2),Math.round(W.y.text-lt/2)),nt.attr({transform:"rotate("+X+","+W.x.text+","+W.y.text+")"});var Ge=function(Ne,Le){it.selectAll(".annotation-arrow-g").remove();var Oe=W.x.head,Ve=W.y.head,Re=W.x.tail+Ne,Be=W.y.tail+Le,Fe=W.x.text+Ne,ke=W.y.text+Le,Ye=l.rotationXYMatrix(X,Fe,ke),Qe=l.apply2DTransform(Ye),ln=l.apply2DTransform2(Ye),He=+J.attr("width"),an=+J.attr("height"),on=Fe-.5*He,vn=on+He,$e=ke-.5*an,fn=$e+an,tt=[[on,$e,on,fn],[on,fn,vn,fn],[vn,fn,vn,$e],[vn,$e,on,$e]].map(ln);if(!tt.reduce(function(ge,ye){return ge^!!l.segmentsIntersect(Oe,Ve,Oe+1e6,Ve+1e6,ye[0],ye[1],ye[2],ye[3])},!1)){tt.forEach(function(ge){var ye=l.segmentsIntersect(Re,Be,Oe,Ve,ge[0],ge[1],ge[2],ge[3]);ye&&(Re=ye.x,Be=ye.y)});var K=b.arrowwidth,Vt=b.arrowcolor,jt=b.arrowside,Dt=it.append("g").style({opacity:s.opacity(Vt)}).classed("annotation-arrow-g",!0),Pt=Dt.append("path").attr("d","M"+Re+","+Be+"L"+Oe+","+Ve).style("stroke-width",K+"px").call(s.stroke,s.rgb(Vt));if(m(Pt,jt,b),G.annotationPosition&&Pt.node().parentNode&&!k){var Ht=Oe,Kt=Ve;if(b.standoff){var zt=Math.sqrt(Math.pow(Oe-Re,2)+Math.pow(Ve-Be,2));Ht+=b.standoff*(Re-Oe)/zt,Kt+=b.standoff*(Be-Ve)/zt}var Ut=Dt.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(Re-Ht)+","+(Be-Kt),transform:i(Ht,Kt)}).style("stroke-width",K+6+"px").call(s.stroke,"rgba(0,0,0,0)").call(s.fill,"rgba(0,0,0,0)"),ne,Wt;h.init({element:Ut.node(),gd:d,prepFn:function(){var ge=f.getTranslate(xt);ne=ge.x,Wt=ge.y,$&&$.autorange&&j($._name+".autorange",!0),P&&P.autorange&&j(P._name+".autorange",!0)},moveFn:function(ge,ye){var Te=Qe(ne,Wt),Ae=Te[0]+ge,ze=Te[1]+ye;xt.call(f.setTranslate,Ae,ze),U("x",p($,ge,"x",T,b)),U("y",p(P,ye,"y",T,b)),b.axref===b.xref&&U("ax",p($,ge,"ax",T,b)),b.ayref===b.yref&&U("ay",p(P,ye,"ay",T,b)),Dt.attr("transform",i(ge,ye)),nt.attr({transform:"rotate("+X+","+Ae+","+ze+")"})},doneFn:function(){t.call("_guiRelayout",d,Z());var ge=document.querySelector(".js-notes-box-panel");ge&&ge.redraw(ge.selectedObj)}})}}};if(b.showarrow&&Ge(0,0),ot){var Ce;h.init({element:xt.node(),gd:d,prepFn:function(){Ce=nt.attr("transform")},moveFn:function(Ne,Le){var Oe="pointer";if(b.showarrow)b.axref===b.xref?U("ax",p($,Ne,"ax",T,b)):U("ax",b.ax+Ne),b.ayref===b.yref?U("ay",p(P,Le,"ay",T.w,b)):U("ay",b.ay+Le),Ge(Ne,Le);else{if(k)return;var Ve,Re;if($)Ve=p($,Ne,"x",T,b);else{var Be=b._xsize/T.w,Fe=b.x+(b._xshift-b.xshift)/T.w-Be/2;Ve=h.align(Fe+Ne/T.w,Be,0,1,b.xanchor)}if(P)Re=p(P,Le,"y",T,b);else{var ke=b._ysize/T.h,Ye=b.y-(b._yshift+b.yshift)/T.h-ke/2;Re=h.align(Ye-Le/T.h,ke,0,1,b.yanchor)}U("x",Ve),U("y",Re),(!$||!P)&&(Oe=h.getCursor($?.5:Ve,P?.5:Re,b.xanchor,b.yanchor))}nt.attr({transform:i(Ne,Le)+Ce}),u(xt,Oe)},clickFn:function(Ne,Le){b.captureevents&&d.emit("plotly_clickannotation",ht(Le))},doneFn:function(){u(xt),t.call("_guiRelayout",d,Z());var Ne=document.querySelector(".js-notes-box-panel");Ne&&Ne.redraw(Ne.selectedObj)}})}}G.annotationText?R.call(v.makeEditable,{delegate:xt,gd:d}).call(V).on("edit",function(st){b.text=st,this.call(V),U("text",st),$&&$.autorange&&j($._name+".autorange",!0),P&&P.autorange&&j(P._name+".autorange",!0),t.call("_guiRelayout",d,Z())}):R.call(V)}}),Lf=Ct((F,C)=>{var r=De(),t=un(),n=Bn().arrayEditor;C.exports={hasClickToShow:l,onClick:i};function l(f,e){var v=o(f,e);return v.on.length>0||v.explicitOff.length>0}function i(f,e){var v=o(f,e),u=v.on,h=v.off.concat(v.explicitOff),_={},m=f._fullLayout.annotations,g,y;if(u.length||h.length){for(g=0;g<u.length;g++)y=n(f.layout,"annotations",m[u[g]]),y.modifyItem("visible",!0),r.extendFlat(_,y.getUpdateObj());for(g=0;g<h.length;g++)y=n(f.layout,"annotations",m[h[g]]),y.modifyItem("visible",!1),r.extendFlat(_,y.getUpdateObj());return t.call("update",f,{},_)}}function o(f,e){var v=f._fullLayout.annotations,u=[],h=[],_=[],m=(e||[]).length,g,y,p,c,d,b,w,k;for(g=0;g<v.length;g++)if(p=v[g],c=p.clicktoshow,c){for(y=0;y<m;y++)if(d=e[y],b=d.xaxis,w=d.yaxis,b._id===p.xref&&w._id===p.yref&&b.d2r(d.x)===s(p._xclick,b)&&w.d2r(d.y)===s(p._yclick,w)){p.visible?c==="onout"?k=h:k=_:k=u,k.push(g);break}y===m&&p.visible&&c==="onout"&&h.push(g)}return{on:u,off:h,explicitOff:_}}function s(f,e){return e.type==="log"?e.l2r(f):e.d2r(f)}}),Yl=Ct((F,C)=>{var r=De(),t=bn();C.exports=function(n,l,i,o){o("opacity");var s=o("bgcolor"),f=o("bordercolor"),e=t.opacity(f);o("borderpad");var v=o("borderwidth"),u=o("showarrow");o("text",u?" ":i._dfltTitle.annotation),o("textangle"),r.coerceFont(o,"font",i.font),o("width"),o("align");var h=o("height");if(h&&o("valign"),u){var _=o("arrowside"),m,g;_.indexOf("end")!==-1&&(m=o("arrowhead"),g=o("arrowsize")),_.indexOf("start")!==-1&&(o("startarrowhead",m),o("startarrowsize",g)),o("arrowcolor",e?l.bordercolor:t.defaultLine),o("arrowwidth",(e&&v||1)*2),o("standoff"),o("startstandoff")}var y=o("hovertext"),p=i.hoverlabel||{};if(y){var c=o("hoverlabel.bgcolor",p.bgcolor||(t.opacity(s)?t.rgb(s):t.defaultLine)),d=o("hoverlabel.bordercolor",p.bordercolor||t.contrast(c)),b=r.extendFlat({},p.font);b.color||(b.color=d),r.coerceFont(o,"hoverlabel.font",b)}o("captureevents",!!y)}}),Sf=Ct((F,C)=>{var r=De(),t=Yn(),n=Ya(),l=Yl(),i=jr();C.exports=function(s,f){n(s,f,{name:"annotations",handleItemDefaults:o})};function o(s,f,e){function v(T,G){return r.coerce(s,f,i,T,G)}var u=v("visible"),h=v("clicktoshow");if(u||h){l(s,f,e,v);for(var _=f.showarrow,m=["x","y"],g=[-10,-30],y={_fullLayout:e},p=0;p<2;p++){var c=m[p],d=t.coerceRef(s,f,y,c,"","paper");if(d!=="paper"){var b=t.getFromId(y,d);b._annIndices.push(f._index)}if(t.coercePosition(f,y,v,d,c,.5),_){var w="a"+c,k=t.coerceRef(s,f,y,w,"pixel",["pixel","paper"]);k!=="pixel"&&k!==d&&(k=f[w]="pixel");var $=k==="pixel"?g[p]:.4;t.coercePosition(f,y,v,k,w,$)}v(c+"anchor"),v(c+"shift")}if(r.noneOrAll(s,f,["x","y"]),_&&r.noneOrAll(s,f,["ax","ay"]),h){var P=v("xclick"),O=v("yclick");f._xclick=P===void 0?f.x:t.cleanPosition(P,y,f.xref),f._yclick=O===void 0?f.y:t.cleanPosition(O,y,f.yref)}}}}),Of=Ct((F,C)=>{var r=De(),t=Yn(),n=to().draw;C.exports=function(o){var s=o._fullLayout,f=r.filterVisible(s.annotations);if(f.length&&o._fullData.length)return r.syncOrAsync([n,l],o)};function l(o){var s=o._fullLayout;r.filterVisible(s.annotations).forEach(function(f){var e=t.getFromId(o,f.xref),v=t.getFromId(o,f.yref),u=t.getRefType(f.xref),h=t.getRefType(f.yref);f._extremes={},u==="range"&&i(f,e),h==="range"&&i(f,v)})}function i(o,s){var f=s._id,e=f.charAt(0),v=o[e],u=o["a"+e],h=o[e+"ref"],_=o["a"+e+"ref"],m=o["_"+e+"padplus"],g=o["_"+e+"padminus"],y={x:1,y:-1}[e]*o[e+"shift"],p=3*o.arrowsize*o.arrowwidth||0,c=p+y,d=p-y,b=3*o.startarrowsize*o.arrowwidth||0,w=b+y,k=b-y,$;if(_===h){var P=t.findExtremes(s,[s.r2c(v)],{ppadplus:c,ppadminus:d}),O=t.findExtremes(s,[s.r2c(u)],{ppadplus:Math.max(m,w),ppadminus:Math.max(g,k)});$={min:[P.min[0],O.min[0]],max:[P.max[0],O.max[0]]}}else w=u?w+u:w,k=u?k-u:k,$=t.findExtremes(s,[s.r2c(v)],{ppadplus:Math.max(m,c,w),ppadminus:Math.max(g,d,k)});o._extremes[f]=$}}),Df=Ct((F,C)=>{var r=Mn(),t=Ti();C.exports=function(n,l,i,o){l=l||{};var s=i==="log"&&l.type==="linear",f=i==="linear"&&l.type==="log";if(!(s||f))return;var e=n._fullLayout.annotations,v=l._id.charAt(0),u,h;function _(g){var y=u[g],p=null;s?p=t(y,l.range):p=Math.pow(10,y),r(p)||(p=null),o(h+g,p)}for(var m=0;m<e.length;m++)u=e[m],h="annotations["+m+"].",u[v+"ref"]===l._id&&_(v),u["a"+v+"ref"]===l._id&&_("a"+v)}}),Cf=Ct((F,C)=>{var r=to(),t=Lf();C.exports={moduleType:"component",name:"annotations",layoutAttributes:jr(),supplyLayoutDefaults:Sf(),includeBasePlot:ei()("annotations"),calcAutorange:Of(),draw:r.draw,drawOne:r.drawOne,drawRaw:r.drawRaw,hasClickToShow:t.hasClickToShow,onClick:t.onClick,convertCoords:Df()}}),eo=Ct((F,C)=>{var r=jr(),t=qa().overrideAll,n=Bn().templatedArray;C.exports=t(n("annotation",{visible:r.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:r.xanchor,xshift:r.xshift,yanchor:r.yanchor,yshift:r.yshift,text:r.text,textangle:r.textangle,font:r.font,width:r.width,height:r.height,opacity:r.opacity,align:r.align,valign:r.valign,bgcolor:r.bgcolor,bordercolor:r.bordercolor,borderpad:r.borderpad,borderwidth:r.borderwidth,showarrow:r.showarrow,arrowcolor:r.arrowcolor,arrowhead:r.arrowhead,startarrowhead:r.startarrowhead,arrowside:r.arrowside,arrowsize:r.arrowsize,startarrowsize:r.startarrowsize,arrowwidth:r.arrowwidth,standoff:r.standoff,startstandoff:r.startstandoff,hovertext:r.hovertext,hoverlabel:r.hoverlabel,captureevents:r.captureevents}),"calc","from-root")}),Pf=Ct((F,C)=>{var r=De(),t=Yn(),n=Ya(),l=Yl(),i=eo();C.exports=function(s,f,e){n(s,f,{name:"annotations",handleItemDefaults:o,fullLayout:e.fullLayout})};function o(s,f,e,v){function u(m,g){return r.coerce(s,f,i,m,g)}function h(m){var g=m+"axis",y={_fullLayout:{}};return y._fullLayout[g]=e[g],t.coercePosition(f,y,u,m,m,.5)}var _=u("visible");_&&(l(s,f,v.fullLayout,u),h("x"),h("y"),h("z"),r.noneOrAll(s,f,["x","y","z"]),f.xref="x",f.yref="y",f.zref="z",u("xanchor"),u("yanchor"),u("xshift"),u("yshift"),f.showarrow&&(f.axref="pixel",f.ayref="pixel",u("ax",-10),u("ay",-30),r.noneOrAll(s,f,["ax","ay"])))}}),If=Ct((F,C)=>{var r=De(),t=Yn();C.exports=function(l){for(var i=l.fullSceneLayout,o=i.annotations,s=0;s<o.length;s++)n(o[s],l);l.fullLayout._infolayer.selectAll(".annotation-"+l.id).remove()};function n(l,i){var o=i.fullSceneLayout,s=o.domain,f=i.fullLayout._size,e={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};l._xa={},r.extendFlat(l._xa,e),t.setConvert(l._xa),l._xa._offset=f.l+s.x[0]*f.w,l._xa.l2p=function(){return .5*(1+l._pdata[0]/l._pdata[3])*f.w*(s.x[1]-s.x[0])},l._ya={},r.extendFlat(l._ya,e),t.setConvert(l._ya),l._ya._offset=f.t+(1-s.y[1])*f.h,l._ya.l2p=function(){return .5*(1-l._pdata[1]/l._pdata[3])*f.h*(s.y[1]-s.y[0])}}}),Ff=Ct((F,C)=>{function r(n,l){var i=[0,0,0,0],o,s;for(o=0;o<4;++o)for(s=0;s<4;++s)i[s]+=n[4*o+s]*l[o];return i}function t(n,l){var i=r(n.projection,r(n.view,r(n.model,[l[0],l[1],l[2],1])));return i}C.exports=t}),Nf=Ct((F,C)=>{var r=to().drawRaw,t=Ff(),n=["x","y","z"];C.exports=function(l){for(var i=l.fullSceneLayout,o=l.dataScale,s=i.annotations,f=0;f<s.length;f++){for(var e=s[f],v=!1,u=0;u<3;u++){var h=n[u],_=e[h],m=i[h+"axis"],g=m.r2fraction(_);if(g<0||g>1){v=!0;break}}v?l.fullLayout._infolayer.select(".annotation-"+l.id+'[data-index="'+f+'"]').remove():(e._pdata=t(l.glplot.cameraParams,[i.xaxis.r2l(e.x)*o[0],i.yaxis.r2l(e.y)*o[1],i.zaxis.r2l(e.z)*o[2]]),r(l.graphDiv,e,f,l.id,e._xa,e._ya))}}}),zf=Ct((F,C)=>{var r=un(),t=De();C.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:eo()}}},layoutAttributes:eo(),handleDefaults:Pf(),includeBasePlot:n,convert:If(),draw:Nf()};function n(l,i){var o=r.subplotsRegistry.gl3d;if(o)for(var s=o.attrRegex,f=Object.keys(l),e=0;e<f.length;e++){var v=f[e];s.test(v)&&(l[v].annotations||[]).length&&(t.pushUnique(i._basePlotModules,o),t.pushUnique(i._subplots.gl3d,v))}}}),Ul=Ct((F,C)=>{var r=jr(),t=ha(),n=kr().line,l=$a().dash,i=la().extendFlat,o=Bn().templatedArray;ti();var s=Ba(),f=Qa().shapeTexttemplateAttrs,e=Oi();C.exports=o("shape",{visible:i({},s.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:i({},s.legend,{editType:"calc+arraydraw"}),legendgroup:i({},s.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:i({},s.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:t({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:i({},s.legendrank,{editType:"calc+arraydraw"}),legendwidth:i({},s.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above",editType:"arraydraw"},xref:i({},r.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},x0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},x1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},yref:i({},r.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},y0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},y1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:i({},n.color,{editType:"arraydraw"}),width:i({},n.width,{editType:"calc+arraydraw"}),dash:i({},l,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:f({},{keys:Object.keys(e)}),font:t({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})}),Rf=Ct((F,C)=>{var r=De(),t=Yn(),n=Ya(),l=Ul(),i=pr();C.exports=function(f,e){n(f,e,{name:"shapes",handleItemDefaults:s})};function o(f,e){return f?"bottom":e.indexOf("top")!==-1?"top":e.indexOf("bottom")!==-1?"bottom":"middle"}function s(f,e,v){function u(H,Y){return r.coerce(f,e,l,H,Y)}e._isShape=!0;var h=u("visible");if(h){var _=u("showlegend");_&&(u("legend"),u("legendwidth"),u("legendgroup"),u("legendgrouptitle.text"),r.coerceFont(u,"legendgrouptitle.font"),u("legendrank"));var m=u("path"),g=m?"path":"rect",y=u("type",g),p=y!=="path";p&&delete e.path,u("editable"),u("layer"),u("opacity"),u("fillcolor"),u("fillrule");var c=u("line.width");c&&(u("line.color"),u("line.dash"));for(var d=u("xsizemode"),b=u("ysizemode"),w=["x","y"],k=0;k<2;k++){var $=w[k],P=$+"anchor",O=$==="x"?d:b,T={_fullLayout:v},G,I,E,z=t.coerceRef(f,e,T,$,void 0,"paper"),j=t.getRefType(z);if(j==="range"?(G=t.getFromId(T,z),G._shapeIndices.push(e._index),E=i.rangeToShapePosition(G),I=i.shapePositionToRange(G),(G.type==="category"||G.type==="multicategory")&&(u($+"0shift"),u($+"1shift"))):I=E=r.identity,p){var U=.25,Z=.75,D=$+"0",W=$+"1",X=f[D],it=f[W];f[D]=I(f[D],!0),f[W]=I(f[W],!0),O==="pixel"?(u(D,0),u(W,10)):(t.coercePosition(e,T,u,z,D,U),t.coercePosition(e,T,u,z,W,Z)),e[D]=E(e[D]),e[W]=E(e[W]),f[D]=X,f[W]=it}if(O==="pixel"){var nt=f[P];f[P]=I(f[P],!0),t.coercePosition(e,T,u,z,P,.25),e[P]=E(e[P]),f[P]=nt}}p&&r.noneOrAll(f,e,["x0","x1","y0","y1"]);var ot=y==="line",dt,ht;if(p&&(dt=u("label.texttemplate")),dt||(ht=u("label.text")),ht||dt){u("label.textangle");var xt=u("label.textposition",ot?"middle":"middle center");u("label.xanchor"),u("label.yanchor",o(ot,xt)),u("label.padding"),r.coerceFont(u,"label.font",v.font)}}}}),Ef=Ct((F,C)=>{var r=bn(),t=De();function n(l,i){return l?"bottom":i.indexOf("top")!==-1?"top":i.indexOf("bottom")!==-1?"bottom":"middle"}C.exports=function(l,i,o){o("newshape.visible"),o("newshape.name"),o("newshape.showlegend"),o("newshape.legend"),o("newshape.legendwidth"),o("newshape.legendgroup"),o("newshape.legendgrouptitle.text"),t.coerceFont(o,"newshape.legendgrouptitle.font"),o("newshape.legendrank"),o("newshape.drawdirection"),o("newshape.layer"),o("newshape.fillcolor"),o("newshape.fillrule"),o("newshape.opacity");var s=o("newshape.line.width");if(s){var f=(l||{}).plot_bgcolor||"#FFF";o("newshape.line.color",r.contrast(f)),o("newshape.line.dash")}var e=l.dragmode==="drawline",v=o("newshape.label.text"),u=o("newshape.label.texttemplate");if(v||u){o("newshape.label.textangle");var h=o("newshape.label.textposition",e?"middle":"middle center");o("newshape.label.xanchor"),o("newshape.label.yanchor",n(e,h)),o("newshape.label.padding"),t.coerceFont(o,"newshape.label.font",i.font)}o("activeshape.fillcolor"),o("activeshape.opacity")}}),jf=Ct((F,C)=>{var r=De(),t=Yn(),n=Qr(),l=pr();C.exports=function(e){var v=e._fullLayout,u=r.filterVisible(v.shapes);if(!(!u.length||!e._fullData.length))for(var h=0;h<u.length;h++){var _=u[h];_._extremes={};var m,g,y=t.getRefType(_.xref),p=t.getRefType(_.yref);_.xref!=="paper"&&y!=="domain"&&(m=t.getFromId(e,_.xref),g=f(m,_,n.paramIsX),g&&(_._extremes[m._id]=t.findExtremes(m,g,i(_)))),_.yref!=="paper"&&p!=="domain"&&(m=t.getFromId(e,_.yref),g=f(m,_,n.paramIsY),g&&(_._extremes[m._id]=t.findExtremes(m,g,o(_))))}};function i(e){return s(e.line.width,e.xsizemode,e.x0,e.x1,e.path,!1)}function o(e){return s(e.line.width,e.ysizemode,e.y0,e.y1,e.path,!0)}function s(e,v,u,h,_,m){var g=e/2,y=m;if(v==="pixel"){var p=_?l.extractPathCoords(_,m?n.paramIsY:n.paramIsX):[u,h],c=r.aggNums(Math.max,null,p),d=r.aggNums(Math.min,null,p),b=d<0?Math.abs(d)+g:g,w=c>0?c+g:g;return{ppad:g,ppadplus:y?b:w,ppadminus:y?w:b}}else return{ppad:g}}function f(e,v,u){var h=e._id.charAt(0)==="x"?"x":"y",_=e.type==="category"||e.type==="multicategory",m,g,y=0,p=0,c=_?e.r2c:e.d2c,d=v[h+"sizemode"]==="scaled";if(d?(m=v[h+"0"],g=v[h+"1"],_&&(y=v[h+"0shift"],p=v[h+"1shift"])):(m=v[h+"anchor"],g=v[h+"anchor"]),m!==void 0)return[c(m)+y,c(g)+p];if(v.path){var b=1/0,w=-1/0,k=v.path.match(n.segmentRE),$,P,O,T,G;for(e.type==="date"&&(c=l.decodeDate(c)),$=0;$<k.length;$++)P=k[$],O=u[P.charAt(0)].drawn,O!==void 0&&(T=k[$].substr(1).match(n.paramRE),!(!T||T.length<O)&&(G=c(T[O]),G<b&&(b=G),G>w&&(w=G)));if(w>=b)return[b,w]}}}),Hf=Ct((F,C)=>{var r=Ji();C.exports={moduleType:"component",name:"shapes",layoutAttributes:Ul(),supplyLayoutDefaults:Rf(),supplyDrawNewShapeDefaults:Ef(),includeBasePlot:ei()("shapes"),calcAutorange:jf(),draw:r.draw,drawOne:r.drawOne}}),Zl=Ct((F,C)=>{var r=pa(),t=Bn().templatedArray;ti(),C.exports=t("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",r.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",r.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})}),Bf=Ct((F,C)=>{var r=De(),t=Yn(),n=Ya(),l=Zl(),i="images";C.exports=function(s,f){var e={name:i,handleItemDefaults:o};n(s,f,e)};function o(s,f,e){function v(d,b){return r.coerce(s,f,l,d,b)}var u=v("source"),h=v("visible",!!u);if(!h)return f;v("layer"),v("xanchor"),v("yanchor"),v("sizex"),v("sizey"),v("sizing"),v("opacity");for(var _={_fullLayout:e},m=["x","y"],g=0;g<2;g++){var y=m[g],p=t.coerceRef(s,f,_,y,"paper",void 0);if(p!=="paper"){var c=t.getFromId(_,p);c._imgIndices.push(f._index)}t.coercePosition(f,_,v,p,y,0)}return f}}),Vf=Ct((F,C)=>{var r=wn(),t=zn(),n=Yn(),l=sa(),i=Tr();C.exports=function(o){var s=o._fullLayout,f=[],e={},v=[],u,h;for(h=0;h<s.images.length;h++){var _=s.images[h];if(_.visible)if(_.layer==="below"&&_.xref!=="paper"&&_.yref!=="paper"){u=l.ref2id(_.xref)+l.ref2id(_.yref);var m=s._plots[u];if(!m){v.push(_);continue}m.mainplot&&(u=m.mainplot.id),e[u]||(e[u]=[]),e[u].push(_)}else _.layer==="above"?f.push(_):v.push(_)}var g={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function y(O){var T=r.select(this);if(this._imgSrc!==O.source)if(T.attr("xmlns",i.svg),!o._context.staticPlot||O.source&&O.source.slice(0,5)==="data:")T.attr("xlink:href",O.source),this._imgSrc=O.source;else{var G=new Promise((function(I){var E=new Image;this.img=E,E.setAttribute("crossOrigin","anonymous"),E.onerror=z,E.onload=function(){var j=document.createElement("canvas");j.width=this.width,j.height=this.height;var U=j.getContext("2d",{willReadFrequently:!0});U.drawImage(this,0,0);var Z=j.toDataURL("image/png");T.attr("xlink:href",Z),I()},T.on("error",z),E.src=O.source,this._imgSrc=O.source;function z(){T.remove(),I()}}).bind(this));o._promises.push(G)}}function p(O){var T=r.select(this),G=n.getFromId(o,O.xref),I=n.getFromId(o,O.yref),E=n.getRefType(O.xref)==="domain",z=n.getRefType(O.yref)==="domain",j=s._size,U,Z;G!==void 0?U=typeof O.xref=="string"&&E?G._length*O.sizex:Math.abs(G.l2p(O.sizex)-G.l2p(0)):U=O.sizex*j.w,I!==void 0?Z=typeof O.yref=="string"&&z?I._length*O.sizey:Math.abs(I.l2p(O.sizey)-I.l2p(0)):Z=O.sizey*j.h;var D=U*g.x[O.xanchor].offset,W=Z*g.y[O.yanchor].offset,X=g.x[O.xanchor].sizing+g.y[O.yanchor].sizing,it,nt;switch(G!==void 0?it=typeof O.xref=="string"&&E?G._length*O.x+G._offset:G.r2p(O.x)+G._offset:it=O.x*j.w+j.l,it+=D,I!==void 0?nt=typeof O.yref=="string"&&z?I._length*(1-O.y)+I._offset:I.r2p(O.y)+I._offset:nt=j.h-O.y*j.h+j.t,nt+=W,O.sizing){case"fill":X+=" slice";break;case"stretch":X="none";break}T.attr({x:it,y:nt,width:U,height:Z,preserveAspectRatio:X,opacity:O.opacity});var ot=G&&n.getRefType(O.xref)!=="domain"?G._id:"",dt=I&&n.getRefType(O.yref)!=="domain"?I._id:"",ht=ot+dt;t.setClipUrl(T,ht?"clip"+s._uid+ht:null,o)}function c(O){return[O.xref,O.x,O.sizex,O.yref,O.y,O.sizey].join("_")}function d(O,T){return O._index-T._index}var b=s._imageLowerLayer.selectAll("image").data(v,c),w=s._imageUpperLayer.selectAll("image").data(f,c);b.enter().append("image"),w.enter().append("image"),b.exit().remove(),w.exit().remove(),b.each(function(O){y.bind(this)(O),p.bind(this)(O)}),w.each(function(O){y.bind(this)(O),p.bind(this)(O)}),b.sort(d),w.sort(d);var k=Object.keys(s._plots);for(h=0;h<k.length;h++){u=k[h];var $=s._plots[u];if($.imagelayer){var P=$.imagelayer.selectAll("image").data(e[u]||[],c);P.enter().append("image"),P.exit().remove(),P.each(function(O){y.bind(this)(O),p.bind(this)(O)}),P.sort(d)}}}}),Yf=Ct((F,C)=>{var r=Mn(),t=Ti();C.exports=function(n,l,i,o){l=l||{};var s=i==="log"&&l.type==="linear",f=i==="linear"&&l.type==="log";if(s||f){for(var e=n._fullLayout.images,v=l._id.charAt(0),u,h,_=0;_<e.length;_++)if(u=e[_],h="images["+_+"].",u[v+"ref"]===l._id){var m=u[v],g=u["size"+v],y=null,p=null;if(s){y=t(m,l.range);var c=g/Math.pow(10,y)/2;p=2*Math.log(c+Math.sqrt(1+c*c))/Math.LN10}else y=Math.pow(10,m),p=y*(Math.pow(10,g/2)-Math.pow(10,-g/2));r(y)?r(p)||(p=null):(y=null,p=null),o(h+v,y),o(h+"size"+v,p)}}}}),Uf=Ct((F,C)=>{C.exports={moduleType:"component",name:"images",layoutAttributes:Zl(),supplyLayoutDefaults:Bf(),includeBasePlot:ei()("images"),draw:Vf(),convertCoords:Yf()}}),no=Ct((F,C)=>{C.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"",right:"",up:"",down:""}}}),Gl=Ct((F,C)=>{var r=ha(),t=Xa(),n=la().extendFlat,l=qa().overrideAll,i=Di(),o=Bn().templatedArray,s=o("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});C.exports=l(o("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:s,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:n(i({editType:"arraydraw"}),{}),font:r({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:t.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")}),Zf=Ct((F,C)=>{var r=De(),t=Ya(),n=Gl(),l=no(),i=l.name,o=n.buttons;C.exports=function(e,v){var u={name:i,handleItemDefaults:s};t(e,v,u)};function s(e,v,u){function h(g,y){return r.coerce(e,v,n,g,y)}var _=t(e,v,{name:"buttons",handleItemDefaults:f}),m=h("visible",_.length>0);m&&(h("active"),h("direction"),h("type"),h("showactive"),h("x"),h("y"),r.noneOrAll(e,v,["x","y"]),h("xanchor"),h("yanchor"),h("pad.t"),h("pad.r"),h("pad.b"),h("pad.l"),r.coerceFont(h,"font",u.font),h("bgcolor",u.paper_bgcolor),h("bordercolor"),h("borderwidth"))}function f(e,v){function u(_,m){return r.coerce(e,v,o,_,m)}var h=u("visible",e.method==="skip"||Array.isArray(e.args));h&&(u("method"),u("args"),u("args2"),u("label"),u("execute"))}}),Gf=Ct((F,C)=>{C.exports=i;var r=wn(),t=bn(),n=zn(),l=De();function i(o,s,f){this.gd=o,this.container=s,this.id=f,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}i.barWidth=2,i.barLength=20,i.barRadius=2,i.barPad=1,i.barColor="#808BA4",i.prototype.enable=function(o,s,f){var e=this.gd._fullLayout,v=e.width,u=e.height;this.position=o;var h=this.position.l,_=this.position.w,m=this.position.t,g=this.position.h,y=this.position.direction,p=y==="down",c=y==="left",d=y==="right",b=y==="up",w=_,k=g,$,P,O,T;!p&&!c&&!d&&!b&&(this.position.direction="down",p=!0);var G=p||b;G?($=h,P=$+w,p?(O=m,T=Math.min(O+k,u),k=T-O):(T=m+k,O=Math.max(T-k,0),k=T-O)):(O=m,T=O+k,c?(P=h+w,$=Math.max(P-w,0),w=P-$):($=h,P=Math.min($+w,v),w=P-$)),this._box={l:$,t:O,w,h:k};var I=_>w,E=i.barLength+2*i.barPad,z=i.barWidth+2*i.barPad,j=h,U=m+g;U+z>u&&(U=u-z);var Z=this.container.selectAll("rect.scrollbar-horizontal").data(I?[0]:[]);Z.exit().on(".drag",null).remove(),Z.enter().append("rect").classed("scrollbar-horizontal",!0).call(t.fill,i.barColor),I?(this.hbar=Z.attr({rx:i.barRadius,ry:i.barRadius,x:j,y:U,width:E,height:z}),this._hbarXMin=j+E/2,this._hbarTranslateMax=w-E):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var D=g>k,W=i.barWidth+2*i.barPad,X=i.barLength+2*i.barPad,it=h+_,nt=m;it+W>v&&(it=v-W);var ot=this.container.selectAll("rect.scrollbar-vertical").data(D?[0]:[]);ot.exit().on(".drag",null).remove(),ot.enter().append("rect").classed("scrollbar-vertical",!0).call(t.fill,i.barColor),D?(this.vbar=ot.attr({rx:i.barRadius,ry:i.barRadius,x:it,y:nt,width:W,height:X}),this._vbarYMin=nt+X/2,this._vbarTranslateMax=k-X):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var dt=this.id,ht=$-.5,xt=D?P+W+.5:P+.5,H=O-.5,Y=I?T+z+.5:T+.5,A=e._topdefs.selectAll("#"+dt).data(I||D?[0]:[]);if(A.exit().remove(),A.enter().append("clipPath").attr("id",dt).append("rect"),I||D?(this._clipRect=A.select("rect").attr({x:Math.floor(ht),y:Math.floor(H),width:Math.ceil(xt)-Math.floor(ht),height:Math.ceil(Y)-Math.floor(H)}),this.container.call(n.setClipUrl,dt,this.gd),this.bg.attr({x:h,y:m,width:_,height:g})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(n.setClipUrl,null),delete this._clipRect),I||D){var J=r.behavior.drag().on("dragstart",function(){r.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(J);var at=r.behavior.drag().on("dragstart",function(){r.event.sourceEvent.preventDefault(),r.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));I&&this.hbar.on(".drag",null).call(at),D&&this.vbar.on(".drag",null).call(at)}this.setTranslate(s,f)},i.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(n.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},i.prototype._onBoxDrag=function(){var o=this.translateX,s=this.translateY;this.hbar&&(o-=r.event.dx),this.vbar&&(s-=r.event.dy),this.setTranslate(o,s)},i.prototype._onBoxWheel=function(){var o=this.translateX,s=this.translateY;this.hbar&&(o+=r.event.deltaY),this.vbar&&(s+=r.event.deltaY),this.setTranslate(o,s)},i.prototype._onBarDrag=function(){var o=this.translateX,s=this.translateY;if(this.hbar){var f=o+this._hbarXMin,e=f+this._hbarTranslateMax,v=l.constrain(r.event.x,f,e),u=(v-f)/(e-f),h=this.position.w-this._box.w;o=u*h}if(this.vbar){var _=s+this._vbarYMin,m=_+this._vbarTranslateMax,g=l.constrain(r.event.y,_,m),y=(g-_)/(m-_),p=this.position.h-this._box.h;s=y*p}this.setTranslate(o,s)},i.prototype.setTranslate=function(o,s){var f=this.position.w-this._box.w,e=this.position.h-this._box.h;if(o=l.constrain(o||0,0,f),s=l.constrain(s||0,0,e),this.translateX=o,this.translateY=s,this.container.call(n.setTranslate,this._box.l-this.position.l-o,this._box.t-this.position.t-s),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+o-.5),y:Math.floor(this.position.t+s-.5)}),this.hbar){var v=o/f;this.hbar.call(n.setTranslate,o+v*this._hbarTranslateMax,s)}if(this.vbar){var u=s/e;this.vbar.call(n.setTranslate,o,s+u*this._vbarTranslateMax)}}}),Wf=Ct((F,C)=>{var r=wn(),t=aa(),n=bn(),l=zn(),i=De(),o=xa(),s=Bn().arrayEditor,f=ka().LINE_SPACING,e=no(),v=Gf();C.exports=function(E){var z=E._fullLayout,j=i.filterVisible(z[e.name]);function U(dt){t.autoMargin(E,T(dt))}var Z=z._menulayer.selectAll("g."+e.containerClassName).data(j.length>0?[0]:[]);if(Z.enter().append("g").classed(e.containerClassName,!0).style("cursor","pointer"),Z.exit().each(function(){r.select(this).selectAll("g."+e.headerGroupClassName).each(U)}).remove(),j.length!==0){var D=Z.selectAll("g."+e.headerGroupClassName).data(j,u);D.enter().append("g").classed(e.headerGroupClassName,!0);for(var W=i.ensureSingle(Z,"g",e.dropdownButtonGroupClassName,function(dt){dt.style("pointer-events","all")}),X=0;X<j.length;X++){var it=j[X];O(E,it)}var nt="updatemenus"+z._uid,ot=new v(E,W,nt);D.enter().size()&&(W.node().parentNode.appendChild(W.node()),W.call(I)),D.exit().each(function(dt){W.call(I),U(dt)}).remove(),D.each(function(dt){var ht=r.select(this),xt=dt.type==="dropdown"?W:null;t.manageCommandObserver(E,dt,dt.buttons,function(H){m(E,dt,dt.buttons[H.index],ht,xt,ot,H.index,!0)}),dt.type==="dropdown"?(g(E,ht,W,ot,dt),_(W,dt)&&y(E,ht,W,ot,dt)):y(E,ht,null,null,dt)})}};function u(E){return E._index}function h(E){return+E.attr(e.menuIndexAttrName)==-1}function _(E,z){return+E.attr(e.menuIndexAttrName)===z._index}function m(E,z,j,U,Z,D,W,X){z.active=W,s(E.layout,e.name,z).applyUpdate("active",W),z.type==="buttons"?y(E,U,null,null,z):z.type==="dropdown"&&(Z.attr(e.menuIndexAttrName,"-1"),g(E,U,Z,D,z),X||y(E,U,Z,D,z))}function g(E,z,j,U,Z){var D=i.ensureSingle(z,"g",e.headerClassName,function(ht){ht.style("pointer-events","all")}),W=Z._dims,X=Z.active,it=Z.buttons[X]||e.blankHeaderOpts,nt={y:Z.pad.t,yPad:0,x:Z.pad.l,xPad:0,index:0},ot={width:W.headerWidth,height:W.headerHeight};D.call(d,Z,it,E).call(G,Z,nt,ot);var dt=i.ensureSingle(z,"text",e.headerArrowClassName,function(ht){ht.attr("text-anchor","end").call(l.font,Z.font).text(e.arrowSymbol[Z.direction])});dt.attr({x:W.headerWidth-e.arrowOffsetX+Z.pad.l,y:W.headerHeight/2+e.textOffsetY+Z.pad.t}),D.on("click",function(){j.call(I,String(_(j,Z)?-1:Z._index)),y(E,z,j,U,Z)}),D.on("mouseover",function(){D.call($)}),D.on("mouseout",function(){D.call(P,Z)}),l.setTranslate(z,W.lx,W.ly)}function y(E,z,j,U,Z){j||(j=z,j.attr("pointer-events","all"));var D=!h(j)||Z.type==="buttons"?Z.buttons:[],W=Z.type==="dropdown"?e.dropdownButtonClassName:e.buttonClassName,X=j.selectAll("g."+W).data(i.filterVisible(D)),it=X.enter().append("g").classed(W,!0),nt=X.exit();Z.type==="dropdown"?(it.attr("opacity","0").transition().attr("opacity","1"),nt.transition().attr("opacity","0").remove()):nt.remove();var ot=0,dt=0,ht=Z._dims,xt=["up","down"].indexOf(Z.direction)!==-1;Z.type==="dropdown"&&(xt?dt=ht.headerHeight+e.gapButtonHeader:ot=ht.headerWidth+e.gapButtonHeader),Z.type==="dropdown"&&Z.direction==="up"&&(dt=-e.gapButtonHeader+e.gapButton-ht.openHeight),Z.type==="dropdown"&&Z.direction==="left"&&(ot=-e.gapButtonHeader+e.gapButton-ht.openWidth);var H={x:ht.lx+ot+Z.pad.l,y:ht.ly+dt+Z.pad.t,yPad:e.gapButton,xPad:e.gapButton,index:0},Y={l:H.x+Z.borderwidth,t:H.y+Z.borderwidth};X.each(function(A,J){var at=r.select(this);at.call(d,Z,A,E).call(G,Z,H),at.on("click",function(){r.event.defaultPrevented||(A.execute&&(A.args2&&Z.active===J?(m(E,Z,A,z,j,U,-1),t.executeAPICommand(E,A.method,A.args2)):(m(E,Z,A,z,j,U,J),t.executeAPICommand(E,A.method,A.args))),E.emit("plotly_buttonclicked",{menu:Z,button:A,active:Z.active}))}),at.on("mouseover",function(){at.call($)}),at.on("mouseout",function(){at.call(P,Z),X.call(k,Z)})}),X.call(k,Z),xt?(Y.w=Math.max(ht.openWidth,ht.headerWidth),Y.h=H.y-Y.t):(Y.w=H.x-Y.l,Y.h=Math.max(ht.openHeight,ht.headerHeight)),Y.direction=Z.direction,U&&(X.size()?p(E,z,j,U,Z,Y):c(U))}function p(E,z,j,U,Z,D){var W=Z.direction,X=W==="up"||W==="down",it=Z._dims,nt=Z.active,ot,dt,ht;if(X)for(dt=0,ht=0;ht<nt;ht++)dt+=it.heights[ht]+e.gapButton;else for(ot=0,ht=0;ht<nt;ht++)ot+=it.widths[ht]+e.gapButton;U.enable(D,ot,dt),U.hbar&&U.hbar.attr("opacity","0").transition().attr("opacity","1"),U.vbar&&U.vbar.attr("opacity","0").transition().attr("opacity","1")}function c(E){var z=!!E.hbar,j=!!E.vbar;z&&E.hbar.transition().attr("opacity","0").each("end",function(){z=!1,j||E.disable()}),j&&E.vbar.transition().attr("opacity","0").each("end",function(){j=!1,z||E.disable()})}function d(E,z,j,U){E.call(b,z).call(w,z,j,U)}function b(E,z){var j=i.ensureSingle(E,"rect",e.itemRectClassName,function(U){U.attr({rx:e.rx,ry:e.ry,"shape-rendering":"crispEdges"})});j.call(n.stroke,z.bordercolor).call(n.fill,z.bgcolor).style("stroke-width",z.borderwidth+"px")}function w(E,z,j,U){var Z=i.ensureSingle(E,"text",e.itemTextClassName,function(X){X.attr({"text-anchor":"start","data-notex":1})}),D=j.label,W=U._fullLayout._meta;W&&(D=i.templateString(D,W)),Z.call(l.font,z.font).text(D).call(o.convertToTspans,U)}function k(E,z){var j=z.active;E.each(function(U,Z){var D=r.select(this);Z===j&&z.showactive&&D.select("rect."+e.itemRectClassName).call(n.fill,e.activeColor)})}function $(E){E.select("rect."+e.itemRectClassName).call(n.fill,e.hoverColor)}function P(E,z){E.select("rect."+e.itemRectClassName).call(n.fill,z.bgcolor)}function O(E,z){var j=z._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},U=l.tester.selectAll("g."+e.dropdownButtonClassName).data(i.filterVisible(z.buttons));U.enter().append("g").classed(e.dropdownButtonClassName,!0);var Z=["up","down"].indexOf(z.direction)!==-1;U.each(function(ot,dt){var ht=r.select(this);ht.call(d,z,ot,E);var xt=ht.select("."+e.itemTextClassName),H=xt.node()&&l.bBox(xt.node()).width,Y=Math.max(H+e.textPadX,e.minWidth),A=z.font.size*f,J=o.lineCount(xt),at=Math.max(A*J,e.minHeight)+e.textOffsetY;at=Math.ceil(at),Y=Math.ceil(Y),j.widths[dt]=Y,j.heights[dt]=at,j.height1=Math.max(j.height1,at),j.width1=Math.max(j.width1,Y),Z?(j.totalWidth=Math.max(j.totalWidth,Y),j.openWidth=j.totalWidth,j.totalHeight+=at+e.gapButton,j.openHeight+=at+e.gapButton):(j.totalWidth+=Y+e.gapButton,j.openWidth+=Y+e.gapButton,j.totalHeight=Math.max(j.totalHeight,at),j.openHeight=j.totalHeight)}),Z?j.totalHeight-=e.gapButton:j.totalWidth-=e.gapButton,j.headerWidth=j.width1+e.arrowPadX,j.headerHeight=j.height1,z.type==="dropdown"&&(Z?(j.width1+=e.arrowPadX,j.totalHeight=j.height1):j.totalWidth=j.width1,j.totalWidth+=e.arrowPadX),U.remove();var D=j.totalWidth+z.pad.l+z.pad.r,W=j.totalHeight+z.pad.t+z.pad.b,X=E._fullLayout._size;j.lx=X.l+X.w*z.x,j.ly=X.t+X.h*(1-z.y);var it="left";i.isRightAnchor(z)&&(j.lx-=D,it="right"),i.isCenterAnchor(z)&&(j.lx-=D/2,it="center");var nt="top";i.isBottomAnchor(z)&&(j.ly-=W,nt="bottom"),i.isMiddleAnchor(z)&&(j.ly-=W/2,nt="middle"),j.totalWidth=Math.ceil(j.totalWidth),j.totalHeight=Math.ceil(j.totalHeight),j.lx=Math.round(j.lx),j.ly=Math.round(j.ly),t.autoMargin(E,T(z),{x:z.x,y:z.y,l:D*({right:1,center:.5}[it]||0),r:D*({left:1,center:.5}[it]||0),b:W*({top:1,middle:.5}[nt]||0),t:W*({bottom:1,middle:.5}[nt]||0)})}function T(E){return e.autoMarginIdRoot+E._index}function G(E,z,j,U){U=U||{};var Z=E.select("."+e.itemRectClassName),D=E.select("."+e.itemTextClassName),W=z.borderwidth,X=j.index,it=z._dims;l.setTranslate(E,W+j.x,W+j.y);var nt=["up","down"].indexOf(z.direction)!==-1,ot=U.height||(nt?it.heights[X]:it.height1);Z.attr({x:0,y:0,width:U.width||(nt?it.width1:it.widths[X]),height:ot});var dt=z.font.size*f,ht=o.lineCount(D),xt=(ht-1)*dt/2;o.positionText(D,e.textOffsetX,ot/2-xt+e.textOffsetY),nt?j.y+=it.heights[X]+j.yPad:j.x+=it.widths[X]+j.xPad,j.index++}function I(E,z){E.attr(e.menuIndexAttrName,z||"-1").selectAll("g."+e.dropdownButtonClassName).remove()}}),Jf=Ct((F,C)=>{var r=no();C.exports={moduleType:"component",name:r.name,layoutAttributes:Gl(),supplyLayoutDefaults:Zf(),draw:Wf()}}),ni=Ct((F,C)=>{C.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}}),Wl=Ct((F,C)=>{var r=ha(),t=Di(),n=la().extendDeepAll,l=qa().overrideAll,i=Wr(),o=Bn().templatedArray,s=ni(),f=o("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});C.exports=l(o("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:f,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:n(t({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:i.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:r({})},font:r({}),activebgcolor:{valType:"color",dflt:s.gripBgActiveColor},bgcolor:{valType:"color",dflt:s.railBgColor},bordercolor:{valType:"color",dflt:s.railBorderColor},borderwidth:{valType:"number",min:0,dflt:s.railBorderWidth},ticklen:{valType:"number",min:0,dflt:s.tickLength},tickcolor:{valType:"color",dflt:s.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:s.minorTickLength}}),"arraydraw","from-root")}),Xf=Ct((F,C)=>{var r=De(),t=Ya(),n=Wl(),l=ni(),i=l.name,o=n.steps;C.exports=function(e,v){t(e,v,{name:i,handleItemDefaults:s})};function s(e,v,u){function h(b,w){return r.coerce(e,v,n,b,w)}for(var _=t(e,v,{name:"steps",handleItemDefaults:f}),m=0,g=0;g<_.length;g++)_[g].visible&&m++;var y;if(m<2?y=v.visible=!1:y=h("visible"),!!y){v._stepCount=m;var p=v._visibleSteps=r.filterVisible(_),c=h("active");(_[c]||{}).visible||(v.active=p[0]._index),h("x"),h("y"),r.noneOrAll(e,v,["x","y"]),h("xanchor"),h("yanchor"),h("len"),h("lenmode"),h("pad.t"),h("pad.r"),h("pad.b"),h("pad.l"),r.coerceFont(h,"font",u.font);var d=h("currentvalue.visible");d&&(h("currentvalue.xanchor"),h("currentvalue.prefix"),h("currentvalue.suffix"),h("currentvalue.offset"),r.coerceFont(h,"currentvalue.font",v.font)),h("transition.duration"),h("transition.easing"),h("bgcolor"),h("activebgcolor"),h("bordercolor"),h("borderwidth"),h("ticklen"),h("tickwidth"),h("tickcolor"),h("minorticklen")}}function f(e,v){function u(m,g){return r.coerce(e,v,o,m,g)}var h;if(e.method!=="skip"&&!Array.isArray(e.args)?h=v.visible=!1:h=u("visible"),h){u("method"),u("args");var _=u("label","step-"+v._index);u("value",_),u("execute")}}}),qf=Ct((F,C)=>{var r=wn(),t=aa(),n=bn(),l=zn(),i=De(),o=i.strTranslate,s=xa(),f=Bn().arrayEditor,e=ni(),v=ka(),u=v.LINE_SPACING,h=v.FROM_TL,_=v.FROM_BR;C.exports=function(Z){var D=Z._context.staticPlot,W=Z._fullLayout,X=g(W,Z),it=W._infolayer.selectAll("g."+e.containerClassName).data(X.length>0?[0]:[]);it.enter().append("g").classed(e.containerClassName,!0).style("cursor",D?null:"ew-resize");function nt(xt){xt._commandObserver&&(xt._commandObserver.remove(),delete xt._commandObserver),t.autoMargin(Z,m(xt))}if(it.exit().each(function(){r.select(this).selectAll("g."+e.groupClassName).each(nt)}).remove(),X.length!==0){var ot=it.selectAll("g."+e.groupClassName).data(X,y);ot.enter().append("g").classed(e.groupClassName,!0),ot.exit().each(nt).remove();for(var dt=0;dt<X.length;dt++){var ht=X[dt];p(Z,ht)}ot.each(function(xt){var H=r.select(this);G(xt),t.manageCommandObserver(Z,xt,xt._visibleSteps,function(Y){var A=H.data()[0];A.active!==Y.index&&(A._dragging||P(Z,H,A,Y.index,!1,!0))}),c(Z,r.select(this),xt)})}};function m(Z){return e.autoMarginIdRoot+Z._index}function g(Z,D){for(var W=Z[e.name],X=[],it=0;it<W.length;it++){var nt=W[it];nt.visible&&(nt._gd=D,X.push(nt))}return X}function y(Z){return Z._index}function p(Z,D){var W=l.tester.selectAll("g."+e.labelGroupClass).data(D._visibleSteps);W.enter().append("g").classed(e.labelGroupClass,!0);var X=0,it=0;W.each(function(at){var N=r.select(this),M=w(N,{step:at},D),S=M.node();if(S){var R=l.bBox(S);it=Math.max(it,R.height),X=Math.max(X,R.width)}}),W.remove();var nt=D._dims={};nt.inputAreaWidth=Math.max(e.railWidth,e.gripHeight);var ot=Z._fullLayout._size;nt.lx=ot.l+ot.w*D.x,nt.ly=ot.t+ot.h*(1-D.y),D.lenmode==="fraction"?nt.outerLength=Math.round(ot.w*D.len):nt.outerLength=D.len,nt.inputAreaStart=0,nt.inputAreaLength=Math.round(nt.outerLength-D.pad.l-D.pad.r);var dt=nt.inputAreaLength-2*e.stepInset,ht=dt/(D._stepCount-1),xt=X+e.labelPadding;if(nt.labelStride=Math.max(1,Math.ceil(xt/ht)),nt.labelHeight=it,nt.currentValueMaxWidth=0,nt.currentValueHeight=0,nt.currentValueTotalHeight=0,nt.currentValueMaxLines=1,D.currentvalue.visible){var H=l.tester.append("g");W.each(function(at){var N=d(H,D,at.label),M=N.node()&&l.bBox(N.node())||{width:0,height:0},S=s.lineCount(N);nt.currentValueMaxWidth=Math.max(nt.currentValueMaxWidth,Math.ceil(M.width)),nt.currentValueHeight=Math.max(nt.currentValueHeight,Math.ceil(M.height)),nt.currentValueMaxLines=Math.max(nt.currentValueMaxLines,S)}),nt.currentValueTotalHeight=nt.currentValueHeight+D.currentvalue.offset,H.remove()}nt.height=nt.currentValueTotalHeight+e.tickOffset+D.ticklen+e.labelOffset+nt.labelHeight+D.pad.t+D.pad.b;var Y="left";i.isRightAnchor(D)&&(nt.lx-=nt.outerLength,Y="right"),i.isCenterAnchor(D)&&(nt.lx-=nt.outerLength/2,Y="center");var A="top";i.isBottomAnchor(D)&&(nt.ly-=nt.height,A="bottom"),i.isMiddleAnchor(D)&&(nt.ly-=nt.height/2,A="middle"),nt.outerLength=Math.ceil(nt.outerLength),nt.height=Math.ceil(nt.height),nt.lx=Math.round(nt.lx),nt.ly=Math.round(nt.ly);var J={y:D.y,b:nt.height*_[A],t:nt.height*h[A]};D.lenmode==="fraction"?(J.l=0,J.xl=D.x-D.len*h[Y],J.r=0,J.xr=D.x+D.len*_[Y]):(J.x=D.x,J.l=nt.outerLength*h[Y],J.r=nt.outerLength*_[Y]),t.autoMargin(Z,m(D),J)}function c(Z,D,W){(W.steps[W.active]||{}).visible||(W.active=W._visibleSteps[0]._index),D.call(d,W).call(U,W).call(k,W).call(T,W).call(j,Z,W).call(b,Z,W);var X=W._dims;l.setTranslate(D,X.lx+W.pad.l,X.ly+W.pad.t),D.call(I,W,!1),D.call(d,W)}function d(Z,D,W){if(D.currentvalue.visible){var X=D._dims,it,nt;switch(D.currentvalue.xanchor){case"right":it=X.inputAreaLength-e.currentValueInset-X.currentValueMaxWidth,nt="left";break;case"center":it=X.inputAreaLength*.5,nt="middle";break;default:it=e.currentValueInset,nt="left"}var ot=i.ensureSingle(Z,"text",e.labelClass,function(A){A.attr({"text-anchor":nt,"data-notex":1})}),dt=D.currentvalue.prefix?D.currentvalue.prefix:"";if(typeof W=="string")dt+=W;else{var ht=D.steps[D.active].label,xt=D._gd._fullLayout._meta;xt&&(ht=i.templateString(ht,xt)),dt+=ht}D.currentvalue.suffix&&(dt+=D.currentvalue.suffix),ot.call(l.font,D.currentvalue.font).text(dt).call(s.convertToTspans,D._gd);var H=s.lineCount(ot),Y=(X.currentValueMaxLines+1-H)*D.currentvalue.font.size*u;return s.positionText(ot,it,Y),ot}}function b(Z,D,W){var X=i.ensureSingle(Z,"rect",e.gripRectClass,function(it){it.call(O,D,Z,W).style("pointer-events","all")});X.attr({width:e.gripWidth,height:e.gripHeight,rx:e.gripRadius,ry:e.gripRadius}).call(n.stroke,W.bordercolor).call(n.fill,W.bgcolor).style("stroke-width",W.borderwidth+"px")}function w(Z,D,W){var X=i.ensureSingle(Z,"text",e.labelClass,function(ot){ot.attr({"text-anchor":"middle","data-notex":1})}),it=D.step.label,nt=W._gd._fullLayout._meta;return nt&&(it=i.templateString(it,nt)),X.call(l.font,W.font).text(it).call(s.convertToTspans,W._gd),X}function k(Z,D){var W=i.ensureSingle(Z,"g",e.labelsClass),X=D._dims,it=W.selectAll("g."+e.labelGroupClass).data(X.labelSteps);it.enter().append("g").classed(e.labelGroupClass,!0),it.exit().remove(),it.each(function(nt){var ot=r.select(this);ot.call(w,nt,D),l.setTranslate(ot,E(D,nt.fraction),e.tickOffset+D.ticklen+D.font.size*u+e.labelOffset+X.currentValueTotalHeight)})}function $(Z,D,W,X,it){var nt=Math.round(X*(W._stepCount-1)),ot=W._visibleSteps[nt]._index;ot!==W.active&&P(Z,D,W,ot,!0,it)}function P(Z,D,W,X,it,nt){var ot=W.active;W.active=X,f(Z.layout,e.name,W).applyUpdate("active",X);var dt=W.steps[W.active];D.call(I,W,nt),D.call(d,W),Z.emit("plotly_sliderchange",{slider:W,step:W.steps[W.active],interaction:it,previousActive:ot}),dt&&dt.method&&it&&(D._nextMethod?(D._nextMethod.step=dt,D._nextMethod.doCallback=it,D._nextMethod.doTransition=nt):(D._nextMethod={step:dt,doCallback:it,doTransition:nt},D._nextMethodRaf=window.requestAnimationFrame(function(){var ht=D._nextMethod.step;ht.method&&(ht.execute&&t.executeAPICommand(Z,ht.method,ht.args),D._nextMethod=null,D._nextMethodRaf=null)})))}function O(Z,D,W){if(D._context.staticPlot)return;var X=W.node(),it=r.select(D);function nt(){return W.data()[0]}function ot(){var dt=nt();D.emit("plotly_sliderstart",{slider:dt});var ht=W.select("."+e.gripRectClass);r.event.stopPropagation(),r.event.preventDefault(),ht.call(n.fill,dt.activebgcolor);var xt=z(dt,r.mouse(X)[0]);$(D,W,dt,xt,!0),dt._dragging=!0;function H(){var A=nt(),J=z(A,r.mouse(X)[0]);$(D,W,A,J,!1)}it.on("mousemove",H),it.on("touchmove",H);function Y(){var A=nt();A._dragging=!1,ht.call(n.fill,A.bgcolor),it.on("mouseup",null),it.on("mousemove",null),it.on("touchend",null),it.on("touchmove",null),D.emit("plotly_sliderend",{slider:A,step:A.steps[A.active]})}it.on("mouseup",Y),it.on("touchend",Y)}Z.on("mousedown",ot),Z.on("touchstart",ot)}function T(Z,D){var W=Z.selectAll("rect."+e.tickRectClass).data(D._visibleSteps),X=D._dims;W.enter().append("rect").classed(e.tickRectClass,!0),W.exit().remove(),W.attr({width:D.tickwidth+"px","shape-rendering":"crispEdges"}),W.each(function(it,nt){var ot=nt%X.labelStride===0,dt=r.select(this);dt.attr({height:ot?D.ticklen:D.minorticklen}).call(n.fill,D.tickcolor),l.setTranslate(dt,E(D,nt/(D._stepCount-1))-.5*D.tickwidth,(ot?e.tickOffset:e.minorTickOffset)+X.currentValueTotalHeight)})}function G(Z){var D=Z._dims;D.labelSteps=[];for(var W=Z._stepCount,X=0;X<W;X+=D.labelStride)D.labelSteps.push({fraction:X/(W-1),step:Z._visibleSteps[X]})}function I(Z,D,W){for(var X=Z.select("rect."+e.gripRectClass),it=0,nt=0;nt<D._stepCount;nt++)if(D._visibleSteps[nt]._index===D.active){it=nt;break}var ot=E(D,it/(D._stepCount-1));if(!D._invokingCommand){var dt=X;W&&D.transition.duration>0&&(dt=dt.transition().duration(D.transition.duration).ease(D.transition.easing)),dt.attr("transform",o(ot-e.gripWidth*.5,D._dims.currentValueTotalHeight))}}function E(Z,D){var W=Z._dims;return W.inputAreaStart+e.stepInset+(W.inputAreaLength-2*e.stepInset)*Math.min(1,Math.max(0,D))}function z(Z,D){var W=Z._dims;return Math.min(1,Math.max(0,(D-e.stepInset-W.inputAreaStart)/(W.inputAreaLength-2*e.stepInset-2*W.inputAreaStart)))}function j(Z,D,W){var X=W._dims,it=i.ensureSingle(Z,"rect",e.railTouchRectClass,function(nt){nt.call(O,D,Z,W).style("pointer-events","all")});it.attr({width:X.inputAreaLength,height:Math.max(X.inputAreaWidth,e.tickOffset+W.ticklen+X.labelHeight)}).call(n.fill,W.bgcolor).attr("opacity",0),l.setTranslate(it,0,X.currentValueTotalHeight)}function U(Z,D){var W=D._dims,X=W.inputAreaLength-e.railInset*2,it=i.ensureSingle(Z,"rect",e.railRectClass);it.attr({width:X,height:e.railWidth,rx:e.railRadius,ry:e.railRadius,"shape-rendering":"crispEdges"}).call(n.stroke,D.bordercolor).call(n.fill,D.bgcolor).style("stroke-width",D.borderwidth+"px"),l.setTranslate(it,e.railInset,(W.inputAreaWidth-e.railWidth)*.5+W.currentValueTotalHeight)}}),$f=Ct((F,C)=>{var r=ni();C.exports={moduleType:"component",name:r.name,layoutAttributes:Wl(),supplyLayoutDefaults:Xf(),draw:qf()}}),ao=Ct((F,C)=>{var r=Xa();C.exports={bgcolor:{valType:"color",dflt:r.background,editType:"plot"},bordercolor:{valType:"color",dflt:r.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}}),Jl=Ct((F,C)=>{C.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}}),ro=Ct((F,C)=>{C.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}}),Qf=Ct(F=>{var C=sa(),r=xa(),t=ro(),n=ka().LINE_SPACING,l=t.name;function i(o){var s=o&&o[l];return s&&s.visible}F.isVisible=i,F.makeData=function(o){for(var s=C.list({_fullLayout:o},"x",!0),f=o.margin,e=[],v=0;v<s.length;v++){var u=s[v];if(i(u)){e.push(u);var h=u[l];h._id=l+u._id,h._height=(o.height-f.b-f.t)*h.thickness,h._offsetShift=Math.floor(h.borderwidth/2)}}o._rangeSliderData=e},F.autoMarginOpts=function(o,s){var f=o._fullLayout,e=s[l],v=s._id.charAt(0),u=0,h=0;if(s.side==="bottom"&&(u=s._depth,s.title.text!==f._dfltTitle[v])){h=1.5*s.title.font.size+10+e._offsetShift;var _=(s.title.text.match(r.BR_TAG_ALL)||[]).length;h+=_*s.title.font.size*n}return{x:0,y:s._counterDomainMin,l:0,r:0,t:0,b:e._height+u+Math.max(f.margin.b,h),pad:t.extraPad+e._offsetShift*2}}}),Kf=Ct((F,C)=>{var r=De(),t=Bn(),n=sa(),l=ao(),i=Jl();C.exports=function(o,s,f){var e=o[f],v=s[f];if(!(e.rangeslider||s._requestRangeslider[v._id]))return;r.isPlainObject(e.rangeslider)||(e.rangeslider={});var u=e.rangeslider,h=t.newContainer(v,"rangeslider");function _(T,G){return r.coerce(u,h,l,T,G)}var m,g;function y(T,G){return r.coerce(m,g,i,T,G)}var p=_("visible");if(p){_("bgcolor",s.plot_bgcolor),_("bordercolor"),_("borderwidth"),_("thickness"),_("autorange",!v.isValidRange(u.range)),_("range");var c=s._subplots;if(c)for(var d=c.cartesian.filter(function(T){return T.substr(0,T.indexOf("y"))===n.name2id(f)}).map(function(T){return T.substr(T.indexOf("y"),T.length)}),b=r.simpleMap(d,n.id2name),w=0;w<b.length;w++){var k=b[w];m=u[k]||{},g=t.newContainer(h,k,"yaxis");var $=s[k],P;m.range&&$.isValidRange(m.range)&&(P="fixed");var O=y("rangemode",P);O!=="match"&&y("range",$.range.slice())}h._input=u}}}),td=Ct((F,C)=>{var r=sa().list,t=$r().getAutoRange,n=ro();C.exports=function(l){for(var i=r(l,"x",!0),o=0;o<i.length;o++){var s=i[o],f=s[n.name];f&&f.visible&&f.autorange&&(f._input.autorange=!0,f._input.range=f.range=t(l,s))}}}),ed=Ct((F,C)=>{var r=wn(),t=un(),n=aa(),l=De(),i=l.strTranslate,o=zn(),s=bn(),f=qr(),e=Ki(),v=sa(),u=Ua(),h=dr(),_=ro();C.exports=function(O){for(var T=O._fullLayout,G=T._rangeSliderData,I=0;I<G.length;I++){var E=G[I][_.name];E._clipId=E._id+"-"+T._uid}function z(U){return U._name}var j=T._infolayer.selectAll("g."+_.containerClassName).data(G,z);j.exit().each(function(U){var Z=U[_.name];T._topdefs.select("#"+Z._clipId).remove()}).remove(),G.length!==0&&(j.enter().append("g").classed(_.containerClassName,!0).attr("pointer-events","all"),j.each(function(U){var Z=r.select(this),D=U[_.name],W=T[v.id2name(U.anchor)],X=D[v.id2name(U.anchor)];if(D.range){var it=l.simpleMap(D.range,U.r2l),nt=l.simpleMap(U.range,U.r2l),ot;nt[0]<nt[1]?ot=[Math.min(it[0],nt[0]),Math.max(it[1],nt[1])]:ot=[Math.max(it[0],nt[0]),Math.min(it[1],nt[1])],D.range=D._input.range=l.simpleMap(ot,U.l2r)}U.cleanRange("rangeslider.range");var dt=T._size,ht=U.domain;D._width=dt.w*(ht[1]-ht[0]);var xt=Math.round(dt.l+dt.w*ht[0]),H=Math.round(dt.t+dt.h*(1-U._counterDomainMin)+(U.side==="bottom"?U._depth:0)+D._offsetShift+_.extraPad);Z.attr("transform",i(xt,H)),D._rl=l.simpleMap(D.range,U.r2l);var Y=D._rl[0],A=D._rl[1],J=A-Y;if(D.p2d=function(_t){return _t/D._width*J+Y},D.d2p=function(_t){return(_t-Y)/J*D._width},U.rangebreaks){var at=U.locateBreaks(Y,A);if(at.length){var N,M,S=0;for(N=0;N<at.length;N++)M=at[N],S+=M.max-M.min;var R=D._width/(A-Y-S),V=[-R*Y];for(N=0;N<at.length;N++)M=at[N],V.push(V[V.length-1]-R*(M.max-M.min));for(D.d2p=function(_t){for(var Tt=V[0],Ft=0;Ft<at.length;Ft++){var Zt=at[Ft];if(_t>=Zt.max)Tt=V[Ft+1];else if(_t<Zt.min)break}return Tt+R*_t},N=0;N<at.length;N++)M=at[N],M.pmin=D.d2p(M.min),M.pmax=D.d2p(M.max);D.p2d=function(_t){for(var Tt=V[0],Ft=0;Ft<at.length;Ft++){var Zt=at[Ft];if(_t>=Zt.pmax)Tt=V[Ft+1];else if(_t<Zt.pmin)break}return(_t-Tt)/R}}}if(X.rangemode!=="match"){var rt=W.r2l(X.range[0]),st=W.r2l(X.range[1]),ut=st-rt;D.d2pOppAxis=function(_t){return(_t-rt)/ut*D._height}}Z.call(c,O,U,D).call(d,O,U,D).call(b,O,U,D).call(k,O,U,D,X).call($,O,U,D).call(P,O,U,D),g(Z,O,U,D),p(Z,O,U,D,W,X),U.side==="bottom"&&f.draw(O,U._id+"title",{propContainer:U,propName:U._name+".title",placeholder:T._dfltTitle.x,attributes:{x:U._offset+U._length/2,y:H+D._height+D._offsetShift+10+1.5*U.title.font.size,"text-anchor":"middle"}})}))};function m(O){return typeof O.clientX=="number"?O.clientX:O.touches&&O.touches.length>0?O.touches[0].clientX:0}function g(O,T,G,I){if(T._context.staticPlot)return;var E=O.select("rect."+_.slideBoxClassName).node(),z=O.select("rect."+_.grabAreaMinClassName).node(),j=O.select("rect."+_.grabAreaMaxClassName).node();function U(){var Z=r.event,D=Z.target,W=m(Z),X=W-O.node().getBoundingClientRect().left,it=I.d2p(G._rl[0]),nt=I.d2p(G._rl[1]),ot=u.coverSlip();this.addEventListener("touchmove",dt),this.addEventListener("touchend",ht),ot.addEventListener("mousemove",dt),ot.addEventListener("mouseup",ht);function dt(xt){var H=m(xt),Y=+H-W,A,J,at;switch(D){case E:if(at="ew-resize",it+Y>G._length||nt+Y<0)return;A=it+Y,J=nt+Y;break;case z:if(at="col-resize",it+Y>G._length)return;A=it+Y,J=nt;break;case j:if(at="col-resize",nt+Y<0)return;A=it,J=nt+Y;break;default:at="ew-resize",A=X,J=X+Y;break}if(J<A){var N=J;J=A,A=N}I._pixelMin=A,I._pixelMax=J,h(r.select(ot),at),y(O,T,G,I)}function ht(){ot.removeEventListener("mousemove",dt),ot.removeEventListener("mouseup",ht),this.removeEventListener("touchmove",dt),this.removeEventListener("touchend",ht),l.removeElement(ot)}}O.on("mousedown",U),O.on("touchstart",U)}function y(O,T,G,I){function E(U){return G.l2r(l.constrain(U,I._rl[0],I._rl[1]))}var z=E(I.p2d(I._pixelMin)),j=E(I.p2d(I._pixelMax));window.requestAnimationFrame(function(){t.call("_guiRelayout",T,G._name+".range",[z,j])})}function p(O,T,G,I,E,z){var j=_.handleWidth/2;function U(xt){return l.constrain(xt,0,I._width)}function Z(xt){return l.constrain(xt,0,I._height)}function D(xt){return l.constrain(xt,-j,I._width+j)}var W=U(I.d2p(G._rl[0])),X=U(I.d2p(G._rl[1]));if(O.select("rect."+_.slideBoxClassName).attr("x",W).attr("width",X-W),O.select("rect."+_.maskMinClassName).attr("width",W),O.select("rect."+_.maskMaxClassName).attr("x",X).attr("width",I._width-X),z.rangemode!=="match"){var it=I._height-Z(I.d2pOppAxis(E._rl[1])),nt=I._height-Z(I.d2pOppAxis(E._rl[0]));O.select("rect."+_.maskMinOppAxisClassName).attr("x",W).attr("height",it).attr("width",X-W),O.select("rect."+_.maskMaxOppAxisClassName).attr("x",W).attr("y",nt).attr("height",I._height-nt).attr("width",X-W),O.select("rect."+_.slideBoxClassName).attr("y",it).attr("height",nt-it)}var ot=.5,dt=Math.round(D(W-j))-ot,ht=Math.round(D(X-j))+ot;O.select("g."+_.grabberMinClassName).attr("transform",i(dt,ot)),O.select("g."+_.grabberMaxClassName).attr("transform",i(ht,ot))}function c(O,T,G,I){var E=l.ensureSingle(O,"rect",_.bgClassName,function(Z){Z.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),z=I.borderwidth%2===0?I.borderwidth:I.borderwidth-1,j=-I._offsetShift,U=o.crispRound(T,I.borderwidth);E.attr({width:I._width+z,height:I._height+z,transform:i(j,j),"stroke-width":U}).call(s.stroke,I.bordercolor).call(s.fill,I.bgcolor)}function d(O,T,G,I){var E=T._fullLayout,z=l.ensureSingleById(E._topdefs,"clipPath",I._clipId,function(j){j.append("rect").attr({x:0,y:0})});z.select("rect").attr({width:I._width,height:I._height})}function b(O,T,G,I){var E=T.calcdata,z=O.selectAll("g."+_.rangePlotClassName).data(G._subplotsWith,l.identity);z.enter().append("g").attr("class",function(U){return _.rangePlotClassName+" "+U}).call(o.setClipUrl,I._clipId,T),z.order(),z.exit().remove();var j;z.each(function(U,Z){var D=r.select(this),W=Z===0,X=v.getFromId(T,U,"y"),it=X._name,nt=I[it],ot={data:[],layout:{xaxis:{type:G.type,domain:[0,1],range:I.range.slice(),calendar:G.calendar},width:I._width,height:I._height,margin:{t:0,b:0,l:0,r:0}},_context:T._context};G.rangebreaks&&(ot.layout.xaxis.rangebreaks=G.rangebreaks),ot.layout[it]={type:X.type,domain:[0,1],range:nt.rangemode!=="match"?nt.range.slice():X.range.slice(),calendar:X.calendar},X.rangebreaks&&(ot.layout[it].rangebreaks=X.rangebreaks),n.supplyDefaults(ot);var dt=ot._fullLayout.xaxis,ht=ot._fullLayout[it];dt.clearCalc(),dt.setScale(),ht.clearCalc(),ht.setScale();var xt={id:U,plotgroup:D,xaxis:dt,yaxis:ht,isRangePlot:!0};W?j=xt:(xt.mainplot="xy",xt.mainplotinfo=j),e.rangePlot(T,xt,w(E,U))})}function w(O,T){for(var G=[],I=0;I<O.length;I++){var E=O[I],z=E[0].trace;z.xaxis+z.yaxis===T&&G.push(E)}return G}function k(O,T,G,I,E){var z=l.ensureSingle(O,"rect",_.maskMinClassName,function(D){D.attr({x:0,y:0,"shape-rendering":"crispEdges"})});z.attr("height",I._height).call(s.fill,_.maskColor);var j=l.ensureSingle(O,"rect",_.maskMaxClassName,function(D){D.attr({y:0,"shape-rendering":"crispEdges"})});if(j.attr("height",I._height).call(s.fill,_.maskColor),E.rangemode!=="match"){var U=l.ensureSingle(O,"rect",_.maskMinOppAxisClassName,function(D){D.attr({y:0,"shape-rendering":"crispEdges"})});U.attr("width",I._width).call(s.fill,_.maskOppAxisColor);var Z=l.ensureSingle(O,"rect",_.maskMaxOppAxisClassName,function(D){D.attr({y:0,"shape-rendering":"crispEdges"})});Z.attr("width",I._width).style("border-top",_.maskOppBorder).call(s.fill,_.maskOppAxisColor)}}function $(O,T,G,I){if(!T._context.staticPlot){var E=l.ensureSingle(O,"rect",_.slideBoxClassName,function(z){z.attr({y:0,cursor:_.slideBoxCursor,"shape-rendering":"crispEdges"})});E.attr({height:I._height,fill:_.slideBoxFill})}}function P(O,T,G,I){var E=l.ensureSingle(O,"g",_.grabberMinClassName),z=l.ensureSingle(O,"g",_.grabberMaxClassName),j={x:0,width:_.handleWidth,rx:_.handleRadius,fill:s.background,stroke:s.defaultLine,"stroke-width":_.handleStrokeWidth,"shape-rendering":"crispEdges"},U={y:Math.round(I._height/4),height:Math.round(I._height/2)},Z=l.ensureSingle(E,"rect",_.handleMinClassName,function(nt){nt.attr(j)});Z.attr(U);var D=l.ensureSingle(z,"rect",_.handleMaxClassName,function(nt){nt.attr(j)});D.attr(U);var W={width:_.grabAreaWidth,x:0,y:0,fill:_.grabAreaFill,cursor:T._context.staticPlot?void 0:_.grabAreaCursor},X=l.ensureSingle(E,"rect",_.grabAreaMinClassName,function(nt){nt.attr(W)});X.attr("height",I._height);var it=l.ensureSingle(z,"rect",_.grabAreaMaxClassName,function(nt){nt.attr(W)});it.attr("height",I._height)}}),nd=Ct((F,C)=>{var r=De(),t=ao(),n=Jl(),l=Qf();C.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:r.extendFlat({},t,{yaxis:n})}}},layoutAttributes:ao(),handleDefaults:Kf(),calcAutorange:td(),draw:ed(),isVisible:l.isVisible,makeData:l.makeData,autoMarginOpts:l.autoMarginOpts}}),io=Ct((F,C)=>{var r=ha(),t=Xa(),n=Bn().templatedArray,l=n("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});C.exports={visible:{valType:"boolean",editType:"plot"},buttons:l,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:r({editType:"plot"}),bgcolor:{valType:"color",dflt:t.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:t.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}}),Xl=Ct((F,C)=>{C.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}}),ad=Ct((F,C)=>{var r=De(),t=bn(),n=Bn(),l=Ya(),i=io(),o=Xl();C.exports=function(e,v,u,h,_){var m=e.rangeselector||{},g=n.newContainer(v,"rangeselector");function y(w,k){return r.coerce(m,g,i,w,k)}var p=l(m,g,{name:"buttons",handleItemDefaults:s,calendar:_}),c=y("visible",p.length>0);if(c){var d=f(v,u,h);y("x",d[0]),y("y",d[1]),r.noneOrAll(e,v,["x","y"]),y("xanchor"),y("yanchor"),r.coerceFont(y,"font",u.font);var b=y("bgcolor");y("activecolor",t.contrast(b,o.lightAmount,o.darkAmount)),y("bordercolor"),y("borderwidth")}};function s(e,v,u,h){var _=h.calendar;function m(p,c){return r.coerce(e,v,i.buttons,p,c)}var g=m("visible");if(g){var y=m("step");y!=="all"&&(_&&_!=="gregorian"&&(y==="month"||y==="year")?v.stepmode="backward":m("stepmode"),m("count")),m("label")}}function f(e,v,u){for(var h=u.filter(function(y){return v[y].anchor===e._id}),_=0,m=0;m<h.length;m++){var g=v[h[m]].domain;g&&(_=Math.max(g[1],_))}return[e.domain[0],_+o.yPad]}}),rd=Ct((F,C)=>{var r=Io(),t=De().titleCase;C.exports=function(l,i){var o=l._name,s={};if(i.step==="all")s[o+".autorange"]=!0;else{var f=n(l,i);s[o+".range[0]"]=f[0],s[o+".range[1]"]=f[1]}return s};function n(l,i){var o=l.range,s=new Date(l.r2l(o[1])),f=i.step,e=r["utc"+t(f)],v=i.count,u;switch(i.stepmode){case"backward":u=l.l2r(+e.offset(s,-v));break;case"todate":var h=e.offset(s,-v);u=l.l2r(+e.ceil(h));break}var _=o[1];return[u,_]}}),id=Ct((F,C)=>{var r=wn(),t=un(),n=aa(),l=bn(),i=zn(),o=De(),s=o.strTranslate,f=xa(),e=sa(),v=ka(),u=v.LINE_SPACING,h=v.FROM_TL,_=v.FROM_BR,m=Xl(),g=rd();C.exports=function(P){var O=P._fullLayout,T=O._infolayer.selectAll(".rangeselector").data(y(P),p);T.enter().append("g").classed("rangeselector",!0),T.exit().remove(),T.style({cursor:"pointer","pointer-events":"all"}),T.each(function(G){var I=r.select(this),E=G,z=E.rangeselector,j=I.selectAll("g.button").data(o.filterVisible(z.buttons));j.enter().append("g").classed("button",!0),j.exit().remove(),j.each(function(U){var Z=r.select(this),D=g(E,U);U._isActive=c(E,U,D),Z.call(d,z,U),Z.call(w,z,U,P),Z.on("click",function(){P._dragged||t.call("_guiRelayout",P,D)}),Z.on("mouseover",function(){U._isHovered=!0,Z.call(d,z,U)}),Z.on("mouseout",function(){U._isHovered=!1,Z.call(d,z,U)})}),$(P,j,z,E._name,I)})};function y(P){for(var O=e.list(P,"x",!0),T=[],G=0;G<O.length;G++){var I=O[G];I.rangeselector&&I.rangeselector.visible&&T.push(I)}return T}function p(P){return P._id}function c(P,O,T){if(O.step==="all")return P.autorange===!0;var G=Object.keys(T);return P.range[0]===T[G[0]]&&P.range[1]===T[G[1]]}function d(P,O,T){var G=o.ensureSingle(P,"rect","selector-rect",function(I){I.attr("shape-rendering","crispEdges")});G.attr({rx:m.rx,ry:m.ry}),G.call(l.stroke,O.bordercolor).call(l.fill,b(O,T)).style("stroke-width",O.borderwidth+"px")}function b(P,O){return O._isActive||O._isHovered?P.activecolor:P.bgcolor}function w(P,O,T,G){function I(z){f.convertToTspans(z,G)}var E=o.ensureSingle(P,"text","selector-text",function(z){z.attr("text-anchor","middle")});E.call(i.font,O.font).text(k(T,G._fullLayout._meta)).call(I)}function k(P,O){return P.label?O?o.templateString(P.label,O):P.label:P.step==="all"?"all":P.count+P.step.charAt(0)}function $(P,O,T,G,I){var E=0,z=0,j=T.borderwidth;O.each(function(){var it=r.select(this),nt=it.select(".selector-text"),ot=T.font.size*u,dt=Math.max(ot*f.lineCount(nt),16)+3;z=Math.max(z,dt)}),O.each(function(){var it=r.select(this),nt=it.select(".selector-rect"),ot=it.select(".selector-text"),dt=ot.node()&&i.bBox(ot.node()).width,ht=T.font.size*u,xt=f.lineCount(ot),H=Math.max(dt+10,m.minButtonWidth);it.attr("transform",s(j+E,j)),nt.attr({x:0,y:0,width:H,height:z}),f.positionText(ot,H/2,z/2-(xt-1)*ht/2+3),E+=H+5});var U=P._fullLayout._size,Z=U.l+U.w*T.x,D=U.t+U.h*(1-T.y),W="left";o.isRightAnchor(T)&&(Z-=E,W="right"),o.isCenterAnchor(T)&&(Z-=E/2,W="center");var X="top";o.isBottomAnchor(T)&&(D-=z,X="bottom"),o.isMiddleAnchor(T)&&(D-=z/2,X="middle"),E=Math.ceil(E),z=Math.ceil(z),Z=Math.round(Z),D=Math.round(D),n.autoMargin(P,G+"-range-selector",{x:T.x,y:T.y,l:E*h[W],r:E*_[W],b:z*_[X],t:z*h[X]}),I.attr("transform",s(Z,D))}}),od=Ct((F,C)=>{C.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:io()}}},layoutAttributes:io(),handleDefaults:ad(),draw:id()}}),oo=Ct(F=>{var C=la().extendFlat;F.attributes=function(r,t){r=r||{},t=t||{};var n={valType:"info_array",editType:r.editType,items:[{valType:"number",min:0,max:1,editType:r.editType},{valType:"number",min:0,max:1,editType:r.editType}],dflt:[0,1]};r.name&&r.name+"",r.trace,t.description&&""+t.description;var l={x:C({},n,{}),y:C({},n,{}),editType:r.editType};return r.noGridCell||(l.row={valType:"integer",min:0,dflt:0,editType:r.editType},l.column={valType:"integer",min:0,dflt:0,editType:r.editType}),l},F.defaults=function(r,t,n,l){var i=l&&l.x||[0,1],o=l&&l.y||[0,1],s=t.grid;if(s){var f=n("domain.column");f!==void 0&&(f<s.columns?i=s._domains.x[f]:delete r.domain.column);var e=n("domain.row");e!==void 0&&(e<s.rows?o=s._domains.y[e]:delete r.domain.row)}var v=n("domain.x",i),u=n("domain.y",o);v[0]<v[1]||(r.domain.x=i.slice()),u[0]<u[1]||(r.domain.y=o.slice())}}),ld=Ct((F,C)=>{var r=De(),t=Fr().counter,n=oo().attributes,l=pa().idRegex,i=Bn(),o={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[t("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[l.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[l.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:n({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function s(h,_,m){var g=_[m+"axes"],y=Object.keys((h._splomAxes||{})[m]||{});if(Array.isArray(g))return g;if(y.length)return y}function f(h,_){var m=h.grid||{},g=s(_,m,"x"),y=s(_,m,"y");if(!h.grid&&!g&&!y)return;var p=Array.isArray(m.subplots)&&Array.isArray(m.subplots[0]),c=Array.isArray(g),d=Array.isArray(y),b=c&&g!==m.xaxes&&d&&y!==m.yaxes,w,k;p?(w=m.subplots.length,k=m.subplots[0].length):(d&&(w=y.length),c&&(k=g.length));var $=i.newContainer(_,"grid");function P(D,W){return r.coerce(m,$,o,D,W)}var O=P("rows",w),T=P("columns",k);if(!(O*T>1)){delete _.grid;return}if(!p&&!c&&!d){var G=P("pattern")==="independent";G&&(p=!0)}$._hasSubplotGrid=p;var I=P("roworder"),E=I==="top to bottom",z=p?.2:.1,j=p?.3:.1,U,Z;b&&_._splomGridDflt&&(U=_._splomGridDflt.xside,Z=_._splomGridDflt.yside),$._domains={x:e("x",P,z,U,T),y:e("y",P,j,Z,O,E)}}function e(h,_,m,g,y,p){var c=_(h+"gap",m),d=_("domain."+h);_(h+"side",g);for(var b=new Array(y),w=d[0],k=(d[1]-w)/(y-c),$=k*(1-c),P=0;P<y;P++){var O=w+k*P;b[p?y-1-P:P]=[O,O+$]}return b}function v(h,_){var m=_.grid;if(!(!m||!m._domains)){var g=h.grid||{},y=_._subplots,p=m._hasSubplotGrid,c=m.rows,d=m.columns,b=m.pattern==="independent",w,k,$,P,O,T,G,I=m._axisMap={};if(p){var E=g.subplots||[];T=m.subplots=new Array(c);var z=1;for(w=0;w<c;w++){var j=T[w]=new Array(d),U=E[w]||[];for(k=0;k<d;k++)if(b?(O=z===1?"xy":"x"+z+"y"+z,z++):O=U[k],j[k]="",y.cartesian.indexOf(O)!==-1){if(G=O.indexOf("y"),$=O.slice(0,G),P=O.slice(G),I[$]!==void 0&&I[$]!==k||I[P]!==void 0&&I[P]!==w)continue;j[k]=O,I[$]=k,I[P]=w}}}else{var Z=s(_,g,"x"),D=s(_,g,"y");m.xaxes=u(Z,y.xaxis,d,I,"x"),m.yaxes=u(D,y.yaxis,c,I,"y")}var W=m._anchors={},X=m.roworder==="top to bottom";for(var it in I){var nt=it.charAt(0),ot=m[nt+"side"],dt,ht,xt;if(ot.length<8)W[it]="free";else if(nt==="x"){if(ot.charAt(0)==="t"===X?(dt=0,ht=1,xt=c):(dt=c-1,ht=-1,xt=-1),p){var H=I[it];for(w=dt;w!==xt;w+=ht)if(O=T[w][H],!!O&&(G=O.indexOf("y"),O.slice(0,G)===it)){W[it]=O.slice(G);break}}else for(w=dt;w!==xt;w+=ht)if(P=m.yaxes[w],y.cartesian.indexOf(it+P)!==-1){W[it]=P;break}}else if(ot.charAt(0)==="l"?(dt=0,ht=1,xt=d):(dt=d-1,ht=-1,xt=-1),p){var Y=I[it];for(w=dt;w!==xt;w+=ht)if(O=T[Y][w],!!O&&(G=O.indexOf("y"),O.slice(G)===it)){W[it]=O.slice(0,G);break}}else for(w=dt;w!==xt;w+=ht)if($=m.xaxes[w],y.cartesian.indexOf($+it)!==-1){W[it]=$;break}}}}function u(h,_,m,g,y){var p=new Array(m),c;function d(b,w){_.indexOf(w)!==-1&&g[w]===void 0?(p[b]=w,g[w]=b):p[b]=""}if(Array.isArray(h))for(c=0;c<m;c++)d(c,h[c]);else for(d(0,y),c=1;c<m;c++)d(c,y+(c+1));return p}C.exports={moduleType:"component",name:"grid",schema:{layout:{grid:o}},layoutAttributes:o,sizeDefaults:f,contentDefaults:v}}),ql=Ct((F,C)=>{C.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc"}}),sd=Ct((F,C)=>{var r=Mn(),t=un(),n=De(),l=Bn(),i=ql();C.exports=function(o,s,f,e){var v="error_"+e.axis,u=l.newContainer(s,v),h=o[v]||{};function _(b,w){return n.coerce(h,u,i,b,w)}var m=h.array!==void 0||h.value!==void 0||h.type==="sqrt",g=_("visible",m);if(g!==!1){var y=_("type","array"in h?"data":"percent"),p=!0;y!=="sqrt"&&(p=_("symmetric",!((y==="data"?"arrayminus":"valueminus")in h))),y==="data"?(_("array"),_("traceref"),p||(_("arrayminus"),_("tracerefminus"))):(y==="percent"||y==="constant")&&(_("value"),p||_("valueminus"));var c="copy_"+e.inherit+"style";if(e.inherit){var d=s["error_"+e.inherit];(d||{}).visible&&_(c,!(h.color||r(h.thickness)||r(h.width)))}(!e.inherit||!u[c])&&(_("color",f),_("thickness"),_("width",t.traceIs(s,"gl3d")?0:4))}}}),$l=Ct((F,C)=>{C.exports=function(t){var n=t.type,l=t.symmetric;if(n==="data"){var i=t.array||[];if(l)return function(e,v){var u=+i[v];return[u,u]};var o=t.arrayminus||[];return function(e,v){var u=+i[v],h=+o[v];return!isNaN(u)||!isNaN(h)?[h||0,u||0]:[NaN,NaN]}}else{var s=r(n,t.value),f=r(n,t.valueminus);return l||t.valueminus===void 0?function(e){var v=s(e);return[v,v]}:function(e){return[f(e),s(e)]}}};function r(t,n){if(t==="percent")return function(l){return Math.abs(l*n/100)};if(t==="constant")return function(){return Math.abs(n)};if(t==="sqrt")return function(l){return Math.sqrt(Math.abs(l))}}}),ud=Ct((F,C)=>{var r=Mn(),t=un(),n=Yn(),l=De(),i=$l();C.exports=function(s){for(var f=s.calcdata,e=0;e<f.length;e++){var v=f[e],u=v[0].trace;if(u.visible===!0&&t.traceIs(u,"errorBarsOK")){var h=n.getFromId(s,u.xaxis),_=n.getFromId(s,u.yaxis);o(v,u,h,"x"),o(v,u,_,"y")}}};function o(s,f,e,v){var u=f["error_"+v]||{},h=u.visible&&["linear","log"].indexOf(e.type)!==-1,_=[];if(h){for(var m=i(u),g=0;g<s.length;g++){var y=s[g],p=y.i;if(p===void 0)p=g;else if(p===null)continue;var c=y[v];if(r(e.c2l(c))){var d=m(c,p);if(r(d[0])&&r(d[1])){var b=y[v+"s"]=c-d[0],w=y[v+"h"]=c+d[1];_.push(b,w)}}}var k=e._id,$=f._extremes[k],P=n.findExtremes(e,_,l.extendFlat({tozero:$.opts.tozero},{padded:!0}));$.min=$.min.concat(P.min),$.max=$.max.concat(P.max)}}}),cd=Ct((F,C)=>{var r=wn(),t=Mn(),n=zn(),l=Pa();C.exports=function(o,s,f,e){var v,u=f.xaxis,h=f.yaxis,_=e&&e.duration>0,m=o._context.staticPlot;s.each(function(g){var y=g[0].trace,p=y.error_x||{},c=y.error_y||{},d;y.ids&&(d=function($){return $.id});var b=l.hasMarkers(y)&&y.marker.maxdisplayed>0;!c.visible&&!p.visible&&(g=[]);var w=r.select(this).selectAll("g.errorbar").data(g,d);if(w.exit().remove(),!!g.length){p.visible||w.selectAll("path.xerror").remove(),c.visible||w.selectAll("path.yerror").remove(),w.style("opacity",1);var k=w.enter().append("g").classed("errorbar",!0);_&&k.style("opacity",0).transition().duration(e.duration).style("opacity",1),n.setClipUrl(w,f.layerClipId,o),w.each(function($){var P=r.select(this),O=i($,u,h);if(!(b&&!$.vis)){var T,G=P.select("path.yerror");if(c.visible&&t(O.x)&&t(O.yh)&&t(O.ys)){var I=c.width;T="M"+(O.x-I)+","+O.yh+"h"+2*I+"m-"+I+",0V"+O.ys,O.noYS||(T+="m-"+I+",0h"+2*I),v=!G.size(),v?G=P.append("path").style("vector-effect",m?"none":"non-scaling-stroke").classed("yerror",!0):_&&(G=G.transition().duration(e.duration).ease(e.easing)),G.attr("d",T)}else G.remove();var E=P.select("path.xerror");if(p.visible&&t(O.y)&&t(O.xh)&&t(O.xs)){var z=(p.copy_ystyle?c:p).width;T="M"+O.xh+","+(O.y-z)+"v"+2*z+"m0,-"+z+"H"+O.xs,O.noXS||(T+="m0,-"+z+"v"+2*z),v=!E.size(),v?E=P.append("path").style("vector-effect",m?"none":"non-scaling-stroke").classed("xerror",!0):_&&(E=E.transition().duration(e.duration).ease(e.easing)),E.attr("d",T)}else E.remove()}})}})};function i(o,s,f){var e={x:s.c2p(o.x),y:f.c2p(o.y)};return o.yh!==void 0&&(e.yh=f.c2p(o.yh),e.ys=f.c2p(o.ys),t(e.ys)||(e.noYS=!0,e.ys=f.c2p(o.ys,!0))),o.xh!==void 0&&(e.xh=s.c2p(o.xh),e.xs=s.c2p(o.xs),t(e.xs)||(e.noXS=!0,e.xs=s.c2p(o.xs,!0))),e}}),fd=Ct((F,C)=>{var r=wn(),t=bn();C.exports=function(n){n.each(function(l){var i=l[0].trace,o=i.error_y||{},s=i.error_x||{},f=r.select(this);f.selectAll("path.yerror").style("stroke-width",o.thickness+"px").call(t.stroke,o.color),s.copy_ystyle&&(s=o),f.selectAll("path.xerror").style("stroke-width",s.thickness+"px").call(t.stroke,s.color)})}}),dd=Ct((F,C)=>{var r=De(),t=qa().overrideAll,n=ql(),l={error_x:r.extendFlat({},n),error_y:r.extendFlat({},n)};delete l.error_x.copy_zstyle,delete l.error_y.copy_zstyle,delete l.error_y.copy_ystyle;var i={error_x:r.extendFlat({},n),error_y:r.extendFlat({},n),error_z:r.extendFlat({},n)};delete i.error_x.copy_ystyle,delete i.error_y.copy_ystyle,delete i.error_z.copy_ystyle,delete i.error_z.copy_zstyle,C.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:l,bar:l,histogram:l,scatter3d:t(i,"calc","nested"),scattergl:t(l,"calc","nested")}},supplyDefaults:sd(),calc:ud(),makeComputeError:$l(),plot:cd(),style:fd(),hoverInfo:o};function o(s,f,e){(f.error_y||{}).visible&&(e.yerr=s.yh-s.y,f.error_y.symmetric||(e.yerrneg=s.y-s.ys)),(f.error_x||{}).visible&&(e.xerr=s.xh-s.x,f.error_x.symmetric||(e.xerrneg=s.x-s.xs))}}),hd=Ct((F,C)=>{C.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}}),pd=Ct((F,C)=>{var r=wn(),t=Ra(),n=aa(),l=un(),i=Yn(),o=Ua(),s=De(),f=s.strTranslate,e=la().extendFlat,v=dr(),u=zn(),h=bn(),_=qr(),m=xa(),g=Ea().flipScale,y=Bl(),p=Vl(),c=Va(),d=ka(),b=d.LINE_SPACING,w=d.FROM_TL,k=d.FROM_BR,$=hd().cn;function P(z){var j=z._fullLayout,U=j._infolayer.selectAll("g."+$.colorbar).data(O(z),function(Z){return Z._id});U.enter().append("g").attr("class",function(Z){return Z._id}).classed($.colorbar,!0),U.each(function(Z){var D=r.select(this);s.ensureSingle(D,"rect",$.cbbg),s.ensureSingle(D,"g",$.cbfills),s.ensureSingle(D,"g",$.cblines),s.ensureSingle(D,"g",$.cbaxis,function(X){X.classed($.crisp,!0)}),s.ensureSingle(D,"g",$.cbtitleunshift,function(X){X.append("g").classed($.cbtitle,!0)}),s.ensureSingle(D,"rect",$.cboutline);var W=T(D,Z,z);W&&W.then&&(z._promises||[]).push(W),z._context.edits.colorbarPosition&&G(D,Z,z)}),U.exit().each(function(Z){n.autoMargin(z,Z._id)}).remove(),U.order()}function O(z){var j=z._fullLayout,U=z.calcdata,Z=[],D,W,X,it;function nt(M){return e(M,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function ot(){typeof it.calc=="function"?it.calc(z,X,D):(D._fillgradient=W.reversescale?g(W.colorscale):W.colorscale,D._zrange=[W[it.min],W[it.max]])}for(var dt=0;dt<U.length;dt++){var ht=U[dt];if(X=ht[0].trace,!!X._module){var xt=X._module.colorbar;if(X.visible===!0&&xt)for(var H=Array.isArray(xt),Y=H?xt:[xt],A=0;A<Y.length;A++){it=Y[A];var J=it.container;W=J?X[J]:X,W&&W.showscale&&(D=nt(W.colorbar),D._id="cb"+X.uid+(H&&J?"-"+J:""),D._traceIndex=X.index,D._propPrefix=(J?J+".":"")+"colorbar.",D._meta=X._meta,ot(),Z.push(D))}}}for(var at in j._colorAxes)if(W=j[at],W.showscale){var N=j._colorAxes[at];D=nt(W.colorbar),D._id="cb"+at,D._propPrefix=at+".colorbar.",D._meta=j._meta,it={min:"cmin",max:"cmax"},N[0]!=="heatmap"&&(X=N[1],it.calc=X._module.colorbar.calc),ot(),Z.push(D)}return Z}function T(z,j,U){var Z=j.orientation==="v",D=j.len,W=j.lenmode,X=j.thickness,it=j.thicknessmode,nt=j.outlinewidth,ot=j.borderwidth,dt=j.bgcolor,ht=j.xanchor,xt=j.yanchor,H=j.xpad,Y=j.ypad,A=j.x,J=Z?j.y:1-j.y,at=j.yref==="paper",N=j.xref==="paper",M=U._fullLayout,S=M._size,R=j._fillcolor,V=j._line,rt=j.title,st=rt.side,ut=j._zrange||r.extent((typeof R=="function"?R:V.color).domain()),_t=typeof V.color=="function"?V.color:function(){return V.color},Tt=typeof R=="function"?R:function(){return R},Ft=j._levels,Zt=I(U,j,ut),Bt=Zt.fill,Rt=Zt.line,pt=Math.round(X*(it==="fraction"?Z?S.w:S.h:1)),bt=pt/(Z?S.w:S.h),lt=Math.round(D*(W==="fraction"?Z?S.h:S.w:1)),kt=lt/(Z?S.h:S.w),Nt=N?S.w:U._fullLayout.width,Yt=at?S.h:U._fullLayout.height,ee=Math.round(Z?A*Nt+H:J*Yt+Y),Xt={center:.5,right:1}[ht]||0,ae={top:1,middle:.5}[xt]||0,oe=Z?A-Xt*bt:J-ae*bt,ie=Z?J-ae*kt:A-Xt*kt,pe=Math.round(Z?Yt*(1-ie):Nt*ie);j._lenFrac=kt,j._thickFrac=bt,j._uFrac=oe,j._vFrac=ie;var $t=j._axis=E(U,j,ut);$t.position=bt+(Z?A+H/S.w:J+Y/S.h);var me=["top","bottom"].indexOf(st)!==-1;if(Z&&me&&($t.title.side=st,$t.titlex=A+H/S.w,$t.titley=ie+(rt.side==="top"?kt-Y/S.h:Y/S.h)),!Z&&!me&&($t.title.side=st,$t.titley=J+Y/S.h,$t.titlex=ie+H/S.w),V.color&&j.tickmode==="auto"){$t.tickmode="linear",$t.tick0=Ft.start;var we=Ft.size,ve=s.constrain(lt/50,4,15)+1,Me=(ut[1]-ut[0])/((j.nticks||ve)*we);if(Me>1){var mt=Math.pow(10,Math.floor(Math.log(Me)/Math.LN10));we*=mt*s.roundUp(Me/mt,[2,5,10]),(Math.abs(Ft.start)/Ft.size+1e-6)%1<2e-6&&($t.tick0=0)}$t.dtick=we}$t.domain=Z?[ie+Y/S.h,ie+kt-Y/S.h]:[ie+H/S.w,ie+kt-H/S.w],$t.setScale(),z.attr("transform",f(Math.round(S.l),Math.round(S.t)));var Lt=z.select("."+$.cbtitleunshift).attr("transform",f(-Math.round(S.l),-Math.round(S.t))),At=$t.ticklabelposition,Q=$t.title.font.size,ft=z.select("."+$.cbaxis),yt,gt=0,It=0;function Mt(re,se){var he={propContainer:$t,propName:j._propPrefix+"title",traceIndex:j._traceIndex,_meta:j._meta,placeholder:M._dfltTitle.colorbar,containerGroup:z.select("."+$.cbtitle)},Se=re.charAt(0)==="h"?re.substr(1):"h"+re;z.selectAll("."+Se+",."+Se+"-math-group").remove(),_.draw(U,re,e(he,se||{}))}function Jt(){if(Z&&me||!Z&&!me){var re,se;st==="top"&&(re=H+S.l+Nt*A,se=Y+S.t+Yt*(1-ie-kt)+3+Q*.75),st==="bottom"&&(re=H+S.l+Nt*A,se=Y+S.t+Yt*(1-ie)-3-Q*.25),st==="right"&&(se=Y+S.t+Yt*J+3+Q*.75,re=H+S.l+Nt*ie),Mt($t._id+"title",{attributes:{x:re,y:se,"text-anchor":Z?"start":"middle"}})}}function qt(){if(Z&&!me||!Z&&me){var re=$t.position||0,se=$t._offset+$t._length/2,he,Se;if(st==="right")Se=se,he=S.l+Nt*re+10+Q*($t.showticklabels?1:.5);else if(he=se,st==="bottom"&&(Se=S.t+Yt*re+10+(At.indexOf("inside")===-1?$t.tickfont.size:0)+($t.ticks!=="intside"&&j.ticklen||0)),st==="top"){var je=rt.text.split("<br>").length;Se=S.t+Yt*re+10-pt-b*Q*je}Mt((Z?"h":"v")+$t._id+"title",{avoid:{selection:r.select(U).selectAll("g."+$t._id+"tick"),side:st,offsetTop:Z?0:S.t,offsetLeft:Z?S.l:0,maxShift:Z?M.width:M.height},attributes:{x:he,y:Se,"text-anchor":"middle"},transform:{rotate:Z?-90:0,offset:0}})}}function le(){if(!Z&&!me||Z&&me){var re=z.select("."+$.cbtitle),se=re.select("text"),he=[-nt/2,nt/2],Se=re.select(".h"+$t._id+"title-math-group").node(),je=15.6;se.node()&&(je=parseInt(se.node().style.fontSize,10)*b);var Ge;if(Se?(Ge=u.bBox(Se),It=Ge.width,gt=Ge.height,gt>je&&(he[1]-=(gt-je)/2)):se.node()&&!se.classed($.jsPlaceholder)&&(Ge=u.bBox(se.node()),It=Ge.width,gt=Ge.height),Z){if(gt){if(gt+=5,st==="top")$t.domain[1]-=gt/S.h,he[1]*=-1;else{$t.domain[0]+=gt/S.h;var Ce=m.lineCount(se);he[1]+=(1-Ce)*je}re.attr("transform",f(he[0],he[1])),$t.setScale()}}else It&&(st==="right"&&($t.domain[0]+=(It+Q/2)/S.w),re.attr("transform",f(he[0],he[1])),$t.setScale())}z.selectAll("."+$.cbfills+",."+$.cblines).attr("transform",Z?f(0,Math.round(S.h*(1-$t.domain[1]))):f(Math.round(S.w*$t.domain[0]),0)),ft.attr("transform",Z?f(0,Math.round(-S.t)):f(Math.round(-S.l),0));var Ne=z.select("."+$.cbfills).selectAll("rect."+$.cbfill).attr("style","").data(Bt);Ne.enter().append("rect").classed($.cbfill,!0).attr("style",""),Ne.exit().remove();var Le=ut.map($t.c2p).map(Math.round).sort(function(Fe,ke){return Fe-ke});Ne.each(function(Fe,ke){var Ye=[ke===0?ut[0]:(Bt[ke]+Bt[ke-1])/2,ke===Bt.length-1?ut[1]:(Bt[ke]+Bt[ke+1])/2].map($t.c2p).map(Math.round);Z&&(Ye[1]=s.constrain(Ye[1]+(Ye[1]>Ye[0])?1:-1,Le[0],Le[1]));var Qe=r.select(this).attr(Z?"x":"y",ee).attr(Z?"y":"x",r.min(Ye)).attr(Z?"width":"height",Math.max(pt,2)).attr(Z?"height":"width",Math.max(r.max(Ye)-r.min(Ye),2));if(j._fillgradient)u.gradient(Qe,U,j._id,Z?"vertical":"horizontalreversed",j._fillgradient,"fill");else{var ln=Tt(Fe).replace("e-","");Qe.attr("fill",t(ln).toHexString())}});var Oe=z.select("."+$.cblines).selectAll("path."+$.cbline).data(V.color&&V.width?Rt:[]);Oe.enter().append("path").classed($.cbline,!0),Oe.exit().remove(),Oe.each(function(Fe){var ke=ee,Ye=Math.round($t.c2p(Fe))+V.width/2%1;r.select(this).attr("d","M"+(Z?ke+","+Ye:Ye+","+ke)+(Z?"h":"v")+pt).call(u.lineGroupStyle,V.width,_t(Fe),V.dash)}),ft.selectAll("g."+$t._id+"tick,path").remove();var Ve=ee+pt+(nt||0)/2-(j.ticks==="outside"?1:0),Re=i.calcTicks($t),Be=i.getTickSigns($t)[2];return i.drawTicks(U,$t,{vals:$t.ticks==="inside"?i.clipEnds($t,Re):Re,layer:ft,path:i.makeTickPath($t,Ve,Be),transFn:i.makeTransTickFn($t)}),i.drawLabels(U,$t,{vals:Re,layer:ft,transFn:i.makeTransTickLabelFn($t),labelFns:i.makeLabelFns($t,Ve)})}function Et(){var re,se=pt+nt/2;At.indexOf("inside")===-1&&(re=u.bBox(ft.node()),se+=Z?re.width:re.height),yt=Lt.select("text");var he=0,Se=Z&&st==="top",je=!Z&&st==="right",Ge=0;if(yt.node()&&!yt.classed($.jsPlaceholder)){var Ce,Ne=Lt.select(".h"+$t._id+"title-math-group").node();Ne&&(Z&&me||!Z&&!me)?(re=u.bBox(Ne),he=re.width,Ce=re.height):(re=u.bBox(Lt.node()),he=re.right-S.l-(Z?ee:pe),Ce=re.bottom-S.t-(Z?pe:ee),!Z&&st==="top"&&(se+=re.height,Ge=re.height)),je&&(yt.attr("transform",f(he/2+Q/2,0)),he*=2),se=Math.max(se,Z?he:Ce)}var Le=(Z?H:Y)*2+se+ot+nt/2,Oe=0;!Z&&rt.text&&xt==="bottom"&&J<=0&&(Oe=Le/2,Le+=Oe,Ge+=Oe),M._hColorbarMoveTitle=Oe,M._hColorbarMoveCBTitle=Ge;var Ve=ot+nt,Re=(Z?ee:pe)-Ve/2-(Z?H:0),Be=(Z?pe:ee)-(Z?lt:Y+Ge-Oe);z.select("."+$.cbbg).attr("x",Re).attr("y",Be).attr(Z?"width":"height",Math.max(Le-Oe,2)).attr(Z?"height":"width",Math.max(lt+Ve,2)).call(h.fill,dt).call(h.stroke,j.bordercolor).style("stroke-width",ot);var Fe=je?Math.max(he-10,0):0;z.selectAll("."+$.cboutline).attr("x",(Z?ee:pe+H)+Fe).attr("y",(Z?pe+Y-lt:ee)+(Se?gt:0)).attr(Z?"width":"height",Math.max(pt,2)).attr(Z?"height":"width",Math.max(lt-(Z?2*Y+gt:2*H+Fe),2)).call(h.stroke,j.outlinecolor).style({fill:"none","stroke-width":nt});var ke=Z?Xt*Le:0,Ye=Z?0:(1-ae)*Le-Ge;if(ke=N?S.l-ke:-ke,Ye=at?S.t-Ye:-Ye,z.attr("transform",f(ke,Ye)),!Z&&(ot||t(dt).getAlpha()&&!t.equals(M.paper_bgcolor,dt))){var Qe=ft.selectAll("text"),ln=Qe[0].length,He=z.select("."+$.cbbg).node(),an=u.bBox(He),on=u.getTranslate(z),vn=2;Qe.each(function(Kt,zt){var Ut=0,ne=ln-1;if(zt===Ut||zt===ne){var Wt=u.bBox(this),ge=u.getTranslate(this),ye;if(zt===ne){var Te=Wt.right+ge.x,Ae=an.right+on.x+pe-ot-vn+A;ye=Ae-Te,ye>0&&(ye=0)}else if(zt===Ut){var ze=Wt.left+ge.x,Ee=an.left+on.x+pe+ot+vn;ye=Ee-ze,ye<0&&(ye=0)}ye&&(ln<3?this.setAttribute("transform","translate("+ye+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var $e={},fn=w[ht],tt=k[ht],K=w[xt],Vt=k[xt],jt=Le-pt;Z?(W==="pixels"?($e.y=J,$e.t=lt*K,$e.b=lt*Vt):($e.t=$e.b=0,$e.yt=J+D*K,$e.yb=J-D*Vt),it==="pixels"?($e.x=A,$e.l=Le*fn,$e.r=Le*tt):($e.l=jt*fn,$e.r=jt*tt,$e.xl=A-X*fn,$e.xr=A+X*tt)):(W==="pixels"?($e.x=A,$e.l=lt*fn,$e.r=lt*tt):($e.l=$e.r=0,$e.xl=A+D*fn,$e.xr=A-D*tt),it==="pixels"?($e.y=1-J,$e.t=Le*K,$e.b=Le*Vt):($e.t=jt*K,$e.b=jt*Vt,$e.yt=J-X*K,$e.yb=J+X*Vt));var Dt=j.y<.5?"b":"t",Pt=j.x<.5?"l":"r";U._fullLayout._reservedMargin[j._id]={};var Ht={r:M.width-Re-ke,l:Re+$e.r,b:M.height-Be-Ye,t:Be+$e.b};N&&at?n.autoMargin(U,j._id,$e):N?U._fullLayout._reservedMargin[j._id][Dt]=Ht[Dt]:at||Z?U._fullLayout._reservedMargin[j._id][Pt]=Ht[Pt]:U._fullLayout._reservedMargin[j._id][Dt]=Ht[Dt]}return s.syncOrAsync([n.previousPromises,Jt,le,qt,n.previousPromises,Et],U)}function G(z,j,U){var Z=j.orientation==="v",D=U._fullLayout,W=D._size,X,it,nt;o.init({element:z.node(),gd:U,prepFn:function(){X=z.attr("transform"),v(z)},moveFn:function(ot,dt){z.attr("transform",X+f(ot,dt)),it=o.align((Z?j._uFrac:j._vFrac)+ot/W.w,Z?j._thickFrac:j._lenFrac,0,1,j.xanchor),nt=o.align((Z?j._vFrac:1-j._uFrac)-dt/W.h,Z?j._lenFrac:j._thickFrac,0,1,j.yanchor);var ht=o.getCursor(it,nt,j.xanchor,j.yanchor);v(z,ht)},doneFn:function(){if(v(z),it!==void 0&&nt!==void 0){var ot={};ot[j._propPrefix+"x"]=it,ot[j._propPrefix+"y"]=nt,j._traceIndex!==void 0?l.call("_guiRestyle",U,ot,j._traceIndex):l.call("_guiRelayout",U,ot)}}})}function I(z,j,U){var Z=j._levels,D=[],W=[],X,it,nt=Z.end+Z.size/100,ot=Z.size,dt=1.001*U[0]-.001*U[1],ht=1.001*U[1]-.001*U[0];for(it=0;it<1e5&&(X=Z.start+it*ot,!(ot>0?X>=nt:X<=nt));it++)X>dt&&X<ht&&D.push(X);if(j._fillgradient)W=[0];else if(typeof j._fillcolor=="function"){var xt=j._filllevels;if(xt)for(nt=xt.end+xt.size/100,ot=xt.size,it=0;it<1e5&&(X=xt.start+it*ot,!(ot>0?X>=nt:X<=nt));it++)X>U[0]&&X<U[1]&&W.push(X);else W=D.map(function(H){return H-Z.size/2}),W.push(W[W.length-1]+Z.size)}else j._fillcolor&&typeof j._fillcolor=="string"&&(W=[0]);return Z.size<0&&(D.reverse(),W.reverse()),{line:D,fill:W}}function E(z,j,U){var Z=z._fullLayout,D=j.orientation==="v",W={type:"linear",range:U,tickmode:j.tickmode,nticks:j.nticks,tick0:j.tick0,dtick:j.dtick,tickvals:j.tickvals,ticktext:j.ticktext,ticks:j.ticks,ticklen:j.ticklen,tickwidth:j.tickwidth,tickcolor:j.tickcolor,showticklabels:j.showticklabels,labelalias:j.labelalias,ticklabelposition:j.ticklabelposition,ticklabeloverflow:j.ticklabeloverflow,ticklabelstep:j.ticklabelstep,tickfont:j.tickfont,tickangle:j.tickangle,tickformat:j.tickformat,exponentformat:j.exponentformat,minexponent:j.minexponent,separatethousands:j.separatethousands,showexponent:j.showexponent,showtickprefix:j.showtickprefix,tickprefix:j.tickprefix,showticksuffix:j.showticksuffix,ticksuffix:j.ticksuffix,title:j.title,showline:!0,anchor:"free",side:D?"right":"bottom",position:1},X=D?"y":"x",it={type:"linear",_id:X+j._id},nt={letter:X,font:Z.font,noAutotickangles:X==="y",noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:Z.calendar};function ot(dt,ht){return s.coerce(W,it,c,dt,ht)}return y(W,it,ot,nt,Z),p(W,it,ot,nt),it}C.exports={draw:P}}),vd=Ct((F,C)=>{C.exports={moduleType:"component",name:"colorbar",attributes:Ni(),supplyDefaults:al(),draw:pd().draw,hasColorbar:qo()}}),gd=Ct((F,C)=>{C.exports={moduleType:"component",name:"legend",layoutAttributes:ul(),supplyLayoutDefaults:cl(),draw:hl(),style:dl()}}),yd=Ct((F,C)=>{C.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}}),md=Ct((F,C)=>{C.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}}),Ql=Ct((F,C)=>{var r=un(),t=De(),n=t.extendFlat,l=t.extendDeep;function i(s){var f;switch(s){case"themes__thumb":f={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":f={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:f={}}return f}function o(s){var f=["xaxis","yaxis","zaxis"];return f.indexOf(s.slice(0,5))>-1}C.exports=function(s,f){var e,v=s.data,u=s.layout,h=l([],v),_=l({},u,i(f.tileClass)),m=s._context||{};if(f.width&&(_.width=f.width),f.height&&(_.height=f.height),f.tileClass==="thumbnail"||f.tileClass==="themes__thumb"){_.annotations=[];var g=Object.keys(_);for(e=0;e<g.length;e++)o(g[e])&&(_[g[e]].title={text:""});for(e=0;e<h.length;e++){var y=h[e];y.showscale=!1,y.marker&&(y.marker.showscale=!1),r.traceIs(y,"pie-like")&&(y.textposition="none")}}if(Array.isArray(f.annotations))for(e=0;e<f.annotations.length;e++)_.annotations.push(f.annotations[e]);var p=Object.keys(_).filter(function(k){return k.match(/^scene\d*$/)});if(p.length){var c={};for(f.tileClass==="thumbnail"&&(c={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),e=0;e<p.length;e++){var d=_[p[e]];d.xaxis||(d.xaxis={}),d.yaxis||(d.yaxis={}),d.zaxis||(d.zaxis={}),n(d.xaxis,c),n(d.yaxis,c),n(d.zaxis,c),d._scene=null}}var b=document.createElement("div");f.tileClass&&(b.className=f.tileClass);var w={gd:b,td:b,layout:_,data:h,config:{staticPlot:f.staticPlot===void 0?!0:f.staticPlot,plotGlPixelRatio:f.plotGlPixelRatio===void 0?2:f.plotGlPixelRatio,displaylogo:f.displaylogo||!1,showLink:f.showLink||!1,showTips:f.showTips||!1,mapboxAccessToken:m.mapboxAccessToken}};return f.setBackground!=="transparent"&&(w.config.setBackground=f.setBackground||"opaque"),w.gd.defaultLayout=i(f.tileClass),w}}),xd=Ct((F,C)=>{var r=Pi().EventEmitter,t=un(),n=De(),l=Ar(),i=Ql(),o=$i(),s=Qi();function f(e,v){var u=new r,h=i(e,{format:"png"}),_=h.gd;_.style.position="absolute",_.style.left="-5000px",document.body.appendChild(_);function m(){var y=l.getDelay(_._fullLayout);setTimeout(function(){var p=o(_),c=document.createElement("canvas");c.id=n.randstr(),u=s({format:v.format,width:_._fullLayout.width,height:_._fullLayout.height,canvas:c,emitter:u,svg:p}),u.clean=function(){_&&document.body.removeChild(_)}},y)}var g=l.getRedrawFunc(_);return t.call("_doPlot",_,h.data,h.layout,h.config).then(g).then(m).catch(function(y){u.emit("error",y)}),u}C.exports=f}),bd=Ct((F,C)=>{var r=Ar(),t={getDelay:r.getDelay,getRedrawFunc:r.getRedrawFunc,clone:Ql(),toSVG:$i(),svgToImg:Qi(),toImage:xd(),downloadImage:Dl()};C.exports=t}),_d=Ct(F=>{F.version=wi().version,uu(),lc();var C=un(),r=F.register=C.register,t=Qc(),n=Object.keys(t);for(i=0;i<n.length;i++)l=n[i],l.charAt(0)!=="_"&&(F[l]=t[l]),r({moduleType:"apiMethod",name:l,fn:t[l]});var l,i;r(kf()),r([Cf(),zf(),Hr(),Hf(),Uf(),Jf(),$f(),nd(),od(),ld(),dd(),rl(),vd(),gd(),tr(),_l()]),r([yd(),md()]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(r(window.PlotlyLocales),delete window.PlotlyLocales),F.Icons=Yi();var o=tr(),s=aa();F.Plots={resize:s.resize,graphJson:s.graphJson,sendDataToCloud:s.sendDataToCloud},F.Fx={hover:o.hover,unhover:o.unhover,loneHover:o.loneHover,loneUnhover:o.loneUnhover},F.Snapshot=bd(),F.PlotSchema=zr()}),wd=Ct((F,C)=>{C.exports=_d()}),lo=Ct((F,C)=>{C.exports={TEXTPAD:3,eventDataKeys:["value","label"]}}),ai=Ct((F,C)=>{var r=kr(),t=Fi().axisHoverFormat,n=Qa().hovertemplateAttrs,l=Qa().texttemplateAttrs,i=Xr(),o=ha(),s=lo(),f=$a().pattern,e=la().extendFlat,v=o({editType:"calc",arrayOk:!0,colorEditType:"style"}),u=r.marker,h=u.line,_=e({},h.width,{dflt:0}),m=e({width:_,editType:"calc"},i("marker.line")),g=e({line:m,editType:"calc"},i("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:f,cornerradius:{valType:"any",editType:"calc"}});C.exports={x:r.x,x0:r.x0,dx:r.dx,y:r.y,y0:r.y0,dy:r.dy,xperiod:r.xperiod,yperiod:r.yperiod,xperiod0:r.xperiod0,yperiod0:r.yperiod0,xperiodalignment:r.xperiodalignment,yperiodalignment:r.yperiodalignment,xhoverformat:t("x"),yhoverformat:t("y"),text:r.text,texttemplate:l({editType:"plot"},{keys:s.eventDataKeys}),hovertext:r.hovertext,hovertemplate:n({},{keys:s.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:e({},v,{}),insidetextfont:e({},v,{}),outsidetextfont:e({},v,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:e({},r.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:g,offsetgroup:r.offsetgroup,alignmentgroup:r.alignmentgroup,selected:{marker:{opacity:r.selected.marker.opacity,color:r.selected.marker.color,editType:"style"},textfont:r.selected.textfont,editType:"style"},unselected:{marker:{opacity:r.unselected.marker.opacity,color:r.unselected.marker.color,editType:"style"},textfont:r.unselected.textfont,editType:"style"},zorder:r.zorder}}),Kl=Ct((F,C)=>{C.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},barcornerradius:{valType:"any",editType:"calc"}}}),Md=Ct((F,C)=>{var r=bn(),t=Ea().hasColorscale,n=Rr(),l=De().coercePattern;C.exports=function(i,o,s,f,e){var v=s("marker.color",f),u=t(i,"marker");u&&n(i,o,e,s,{prefix:"marker.",cLetter:"c"}),s("marker.line.color",r.defaultLine),t(i,"marker.line")&&n(i,o,e,s,{prefix:"marker.line.",cLetter:"c"}),s("marker.line.width"),s("marker.opacity"),l(s,"marker.pattern",v,u),s("selected.marker.color"),s("unselected.marker.color")}}),ri=Ct((F,C)=>{var r=Mn(),t=De(),n=bn(),l=un(),i=Cl(),o=Pl(),s=Md(),f=Il(),e=ai(),v=t.coerceFont;function u(g,y,p,c){function d(P,O){return t.coerce(g,y,e,P,O)}var b=i(g,y,c,d);if(!b){y.visible=!1;return}o(g,y,c,d),d("xhoverformat"),d("yhoverformat"),d("zorder"),d("orientation",y.x&&!y.y?"h":"v"),d("base"),d("offset"),d("width"),d("text"),d("hovertext"),d("hovertemplate");var w=d("textposition");m(g,y,c,d,w,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),s(g,y,d,p,c);var k=(y.marker.line||{}).color,$=l.getComponentMethod("errorbars","supplyDefaults");$(g,y,k||n.defaultLine,{axis:"y"}),$(g,y,k||n.defaultLine,{axis:"x",inherit:"y"}),t.coerceSelectionMarkerOpacity(y,d)}function h(g,y){var p,c;function d(k,$){return t.coerce(c._input,c,e,k,$)}for(var b=0;b<g.length;b++)if(c=g[b],c.type==="bar"){p=c._input;var w=d("marker.cornerradius",y.barcornerradius);c.marker&&(c.marker.cornerradius=_(w)),f(p,c,y,d,y.barmode)}}function _(g){if(r(g)){if(g=+g,g>=0)return g}else if(typeof g=="string"&&(g=g.trim(),g.slice(-1)==="%"&&r(g.slice(0,-1))&&(g=+g.slice(0,-1),g>=0)))return g+"%"}function m(g,y,p,c,d,b){b=b||{};var w=b.moduleHasSelected!==!1,k=b.moduleHasUnselected!==!1,$=b.moduleHasConstrain!==!1,P=b.moduleHasCliponaxis!==!1,O=b.moduleHasTextangle!==!1,T=b.moduleHasInsideanchor!==!1,G=!!b.hasPathbar,I=Array.isArray(d)||d==="auto",E=I||d==="inside",z=I||d==="outside";if(E||z){var j=v(c,"textfont",p.font),U=t.extendFlat({},j),Z=g.textfont&&g.textfont.color,D=!Z;if(D&&delete U.color,v(c,"insidetextfont",U),G){var W=t.extendFlat({},j);D&&delete W.color,v(c,"pathbar.textfont",W)}z&&v(c,"outsidetextfont",j),w&&c("selected.textfont.color"),k&&c("unselected.textfont.color"),$&&c("constraintext"),P&&c("cliponaxis"),O&&c("textangle"),c("texttemplate")}E&&T&&c("insidetextanchor")}C.exports={supplyDefaults:u,crossTraceDefaults:h,handleText:m,validateCornerradius:_}}),Td=Ct((F,C)=>{var r=un(),t=Yn(),n=De(),l=Kl(),i=ri().validateCornerradius;C.exports=function(o,s,f){function e(w,k){return n.coerce(o,s,l,w,k)}for(var v=!1,u=!1,h=!1,_={},m=e("barmode"),g=m==="group",y=0;y<f.length;y++){var p=f[y];if(r.traceIs(p,"bar")&&p.visible)v=!0;else continue;var c=p.xaxis+p.yaxis;if(g?(_[c]&&(h=!0),_[c]=!0):(c+=p._input.offsetgroup,_.length>0&&!_[c]&&(h=!0),_[c]=!0),p.visible&&p.type==="histogram"){var d=t.getFromId({_fullLayout:s},p[p.orientation==="v"?"xaxis":"yaxis"]);d.type!=="category"&&(u=!0)}}if(!v){delete s.barmode;return}m!=="overlay"&&e("barnorm"),e("bargap",u&&!h?0:.2),e("bargroupgap");var b=e("barcornerradius");s.barcornerradius=i(b)}}),ts=Ct((F,C)=>{var r=De();C.exports=function(t,n){for(var l=0;l<t.length;l++)t[l].i=l;r.mergeArray(n.text,t,"tx"),r.mergeArray(n.hovertext,t,"htx");var i=n.marker;if(i){r.mergeArray(i.opacity,t,"mo",!0),r.mergeArray(i.color,t,"mc");var o=i.line;o&&(r.mergeArray(o.color,t,"mlc"),r.mergeArrayCastPositive(o.width,t,"mlw"))}}}),kd=Ct((F,C)=>{var r=Yn(),t=Fl(),n=Ea().hasColorscale,l=zi(),i=ts(),o=zl();C.exports=function(s,f){var e=r.getFromId(s,f.xaxis||"x"),v=r.getFromId(s,f.yaxis||"y"),u,h,_,m,g,y,p={msUTC:!!(f.base||f.base===0)};f.orientation==="h"?(u=e.makeCalcdata(f,"x",p),_=v.makeCalcdata(f,"y"),m=t(f,v,"y",_),g=!!f.yperiodalignment,y="y"):(u=v.makeCalcdata(f,"y",p),_=e.makeCalcdata(f,"x"),m=t(f,e,"x",_),g=!!f.xperiodalignment,y="x"),h=m.vals;for(var c=Math.min(h.length,u.length),d=new Array(c),b=0;b<c;b++)d[b]={p:h[b],s:u[b]},g&&(d[b].orig_p=_[b],d[b][y+"End"]=m.ends[b],d[b][y+"Start"]=m.starts[b]),f.ids&&(d[b].id=String(f.ids[b]));return n(f,"marker")&&l(s,f,{vals:f.marker.color,containerStr:"marker",cLetter:"c"}),n(f,"marker.line")&&l(s,f,{vals:f.marker.line.color,containerStr:"marker.line",cLetter:"c"}),i(d,f),o(d,f),d}}),ii=Ct((F,C)=>{var r=wn(),t=De();function n(s,f,e){var v=s._fullLayout,u=v["_"+e+"Text_minsize"];if(u){var h=v.uniformtext.mode==="hide",_;switch(e){case"funnelarea":case"pie":case"sunburst":_="g.slice";break;case"treemap":case"icicle":_="g.slice, g.pathbar";break;default:_="g.points > g.point"}f.selectAll(_).each(function(m){var g=m.transform;if(g){g.scale=h&&g.hide?0:u/g.fontSize;var y=r.select(this).select("text");t.setTransormAndDisplay(y,g)}})}}function l(s,f,e){if(e.uniformtext.mode){var v=o(s),u=e.uniformtext.minsize,h=f.scale*f.fontSize;f.hide=h<u,e[v]=e[v]||1/0,f.hide||(e[v]=Math.min(e[v],Math.max(h,u)))}}function i(s,f){var e=o(s);f[e]=void 0}function o(s){return"_"+s+"Text_minsize"}C.exports={recordMinTextSize:l,clearMinTextSize:i,resizeText:n}}),so=Ct(F=>{var C=Mn(),r=Ra(),t=De().isArrayOrTypedArray;F.coerceString=function(n,l,i){if(typeof l=="string"){if(l||!n.noBlank)return l}else if((typeof l=="number"||l===!0)&&!n.strict)return String(l);return i!==void 0?i:n.dflt},F.coerceNumber=function(n,l,i){if(C(l)){l=+l;var o=n.min,s=n.max,f=o!==void 0&&l<o||s!==void 0&&l>s;if(!f)return l}return i!==void 0?i:n.dflt},F.coerceColor=function(n,l,i){return r(l).isValid()?l:i!==void 0?i:n.dflt},F.coerceEnumerated=function(n,l,i){return n.coerceNumber&&(l=+l),n.values.indexOf(l)!==-1?l:i!==void 0?i:n.dflt},F.getValue=function(n,l){var i;return t(n)?l<n.length&&(i=n[l]):i=n,i},F.getLineWidth=function(n,l){var i=0<l.mlw?l.mlw:t(n.marker.line.width)?0:n.marker.line.width;return i}}),uo=Ct((F,C)=>{var r=wn(),t=bn(),n=zn(),l=De(),i=un(),o=ii().resizeText,s=ai(),f=s.textfont,e=s.insidetextfont,v=s.outsidetextfont,u=so();function h(P){var O=r.select(P).selectAll('g[class^="barlayer"]').selectAll("g.trace");o(P,O,"bar");var T=O.size(),G=P._fullLayout;O.style("opacity",function(I){return I[0].trace.opacity}).each(function(I){(G.barmode==="stack"&&T>1||G.bargap===0&&G.bargroupgap===0&&!I[0].trace.marker.line.width)&&r.select(this).attr("shape-rendering","crispEdges")}),O.selectAll("g.points").each(function(I){var E=r.select(this),z=I[0].trace;_(E,z,P)}),i.getComponentMethod("errorbars","style")(O)}function _(P,O,T){n.pointStyle(P.selectAll("path"),O,T),m(P,O,T)}function m(P,O,T){P.selectAll("text").each(function(G){var I=r.select(this),E=l.ensureUniformFontSize(T,c(I,G,O,T));n.font(I,E)})}function g(P,O,T){var G=O[0].trace;G.selectedpoints?y(T,G,P):(_(T,G,P),i.getComponentMethod("errorbars","style")(T))}function y(P,O,T){n.selectedPointStyle(P.selectAll("path"),O),p(P.selectAll("text"),O,T)}function p(P,O,T){P.each(function(G){var I=r.select(this),E;if(G.selected){E=l.ensureUniformFontSize(T,c(I,G,O,T));var z=O.selected.textfont&&O.selected.textfont.color;z&&(E.color=z),n.font(I,E)}else n.selectedTextStyle(I,O)})}function c(P,O,T,G){var I=G._fullLayout.font,E=T.textfont;if(P.classed("bartext-inside")){var z=$(O,T);E=b(T,O.i,I,z)}else P.classed("bartext-outside")&&(E=w(T,O.i,I));return E}function d(P,O,T){return k(f,P.textfont,O,T)}function b(P,O,T,G){var I=d(P,O,T),E=P._input.textfont===void 0||P._input.textfont.color===void 0||Array.isArray(P.textfont.color)&&P.textfont.color[O]===void 0;return E&&(I={color:t.contrast(G),family:I.family,size:I.size,weight:I.weight,style:I.style,variant:I.variant,textcase:I.textcase,lineposition:I.lineposition,shadow:I.shadow}),k(e,P.insidetextfont,O,I)}function w(P,O,T){var G=d(P,O,T);return k(v,P.outsidetextfont,O,G)}function k(P,O,T,G){O=O||{};var I=u.getValue(O.family,T),E=u.getValue(O.size,T),z=u.getValue(O.color,T),j=u.getValue(O.weight,T),U=u.getValue(O.style,T),Z=u.getValue(O.variant,T),D=u.getValue(O.textcase,T),W=u.getValue(O.lineposition,T),X=u.getValue(O.shadow,T);return{family:u.coerceString(P.family,I,G.family),size:u.coerceNumber(P.size,E,G.size),color:u.coerceColor(P.color,z,G.color),weight:u.coerceString(P.weight,j,G.weight),style:u.coerceString(P.style,U,G.style),variant:u.coerceString(P.variant,Z,G.variant),textcase:u.coerceString(P.variant,D,G.textcase),lineposition:u.coerceString(P.variant,W,G.lineposition),shadow:u.coerceString(P.variant,X,G.shadow)}}function $(P,O){return O.type==="waterfall"?O[P.dir].marker.color:P.mcc||P.mc||O.marker.color}C.exports={style:h,styleTextPoints:m,styleOnSelect:g,getInsideTextFont:b,getOutsideTextFont:w,getBarColor:$,resizeText:o}}),Ad=Ct((F,C)=>{var r=wn(),t=Mn(),n=De(),l=xa(),i=bn(),o=zn(),s=un(),f=Yn().tickText,e=ii(),v=e.recordMinTextSize,u=e.clearMinTextSize,h=uo(),_=so(),m=lo(),g=ai(),y=g.text,p=g.textposition,c=Ka().appendArrayPointValue,d=m.TEXTPAD;function b(ot){return ot.id}function w(ot){if(ot.ids)return b}function k(ot){return(ot>0)-(ot<0)}function $(ot,dt){return ot<dt?1:-1}function P(ot,dt,ht,xt){var H=[],Y=[],A=xt?dt:ht,J=xt?ht:dt;return H[0]=A.c2p(ot.s0,!0),Y[0]=J.c2p(ot.p0,!0),H[1]=A.c2p(ot.s1,!0),Y[1]=J.c2p(ot.p1,!0),xt?[H,Y]:[Y,H]}function O(ot,dt,ht,xt){if(!dt.uniformtext.mode&&T(ht)){var H;return xt&&(H=xt()),ot.transition().duration(ht.duration).ease(ht.easing).each("end",function(){H&&H()}).each("interrupt",function(){H&&H()})}else return ot}function T(ot){return ot&&ot.duration>0}function G(ot,dt,ht,xt,H,Y){var A=dt.xaxis,J=dt.yaxis,at=ot._fullLayout,N=ot._context.staticPlot;H||(H={mode:at.barmode,norm:at.barmode,gap:at.bargap,groupgap:at.bargroupgap},u("bar",at));var M=n.makeTraceGroups(xt,ht,"trace bars").each(function(S){var R=r.select(this),V=S[0].trace,rt=S[0].t,st=V.type==="waterfall",ut=V.type==="funnel",_t=V.type==="histogram",Tt=V.type==="bar",Ft=Tt||ut,Zt=0;st&&V.connector.visible&&V.connector.mode==="between"&&(Zt=V.connector.line.width/2);var Bt=V.orientation==="h",Rt=T(H),pt=n.ensureSingle(R,"g","points"),bt=w(V),lt=pt.selectAll("g.point").data(n.identity,bt);lt.enter().append("g").classed("point",!0),lt.exit().remove(),lt.each(function(Nt,Yt){var ee=r.select(this),Xt=P(Nt,A,J,Bt),ae=Xt[0][0],oe=Xt[0][1],ie=Xt[1][0],pe=Xt[1][1],$t=(Bt?oe-ae:pe-ie)===0;$t&&Ft&&_.getLineWidth(V,Nt)&&($t=!1),$t||($t=!t(ae)||!t(oe)||!t(ie)||!t(pe)),Nt.isBlank=$t,$t&&(Bt?oe=ae:pe=ie),Zt&&!$t&&(Bt?(ae-=$(ae,oe)*Zt,oe+=$(ae,oe)*Zt):(ie-=$(ie,pe)*Zt,pe+=$(ie,pe)*Zt));var me,we;if(V.type==="waterfall"){if(!$t){var ve=V[Nt.dir].marker;me=ve.line.width,we=ve.color}}else me=_.getLineWidth(V,Nt),we=Nt.mc||V.marker.color;function Me(Ve){var Re=r.round(me/2%1,2);return H.gap===0&&H.groupgap===0?r.round(Math.round(Ve)-Re,2):Ve}function mt(Ve,Re,Be){return Be&&Ve===Re?Ve:Math.abs(Ve-Re)>=2?Me(Ve):Ve>Re?Math.ceil(Ve):Math.floor(Ve)}var Lt=i.opacity(we),At=Lt<1||me>.01?Me:mt;ot._context.staticPlot||(ae=At(ae,oe,Bt),oe=At(oe,ae,Bt),ie=At(ie,pe,!Bt),pe=At(pe,ie,!Bt));var Q=Bt?A.c2p:J.c2p,ft;Nt.s0>0?ft=Nt._sMax:Nt.s0<0?ft=Nt._sMin:ft=Nt.s1>0?Nt._sMax:Nt._sMin;function yt(Ve,Re){if(!Ve)return 0;var Be=Math.abs(Bt?pe-ie:oe-ae),Fe=Math.abs(Bt?oe-ae:pe-ie),ke=At(Math.abs(Q(ft,!0)-Q(0,!0))),Ye=Nt.hasB?Math.min(Be/2,Fe/2):Math.min(Be/2,ke),Qe;if(Re==="%"){var ln=Math.min(50,Ve);Qe=Be*(ln/100)}else Qe=Ve;return At(Math.max(Math.min(Qe,Ye),0))}var gt=Tt||_t?yt(rt.cornerradiusvalue,rt.cornerradiusform):0,It,Mt,Jt="M"+ae+","+ie+"V"+pe+"H"+oe+"V"+ie+"Z",qt=0;if(gt&&Nt.s){var le=k(Nt.s0)===0||k(Nt.s)===k(Nt.s0)?Nt.s1:Nt.s0;if(qt=At(Nt.hasB?0:Math.abs(Q(ft,!0)-Q(le,!0))),qt<gt){var Et=$(ae,oe),re=$(ie,pe),se=Et===-re?1:0;if(Bt)if(Nt.hasB)It="M"+(ae+gt*Et)+","+ie+"A "+gt+","+gt+" 0 0 "+se+" "+ae+","+(ie+gt*re)+"V"+(pe-gt*re)+"A "+gt+","+gt+" 0 0 "+se+" "+(ae+gt*Et)+","+pe+"H"+(oe-gt*Et)+"A "+gt+","+gt+" 0 0 "+se+" "+oe+","+(pe-gt*re)+"V"+(ie+gt*re)+"A "+gt+","+gt+" 0 0 "+se+" "+(oe-gt*Et)+","+ie+"Z";else{Mt=Math.abs(oe-ae)+qt;var he=Mt<gt?gt-Math.sqrt(Mt*(2*gt-Mt)):0,Se=qt>0?Math.sqrt(qt*(2*gt-qt)):0,je=Et>0?Math.max:Math.min;It="M"+ae+","+ie+"V"+(pe-he*re)+"H"+je(oe-(gt-qt)*Et,ae)+"A "+gt+","+gt+" 0 0 "+se+" "+oe+","+(pe-gt*re-Se)+"V"+(ie+gt*re+Se)+"A "+gt+","+gt+" 0 0 "+se+" "+je(oe-(gt-qt)*Et,ae)+","+(ie+he*re)+"Z"}else if(Nt.hasB)It="M"+(ae+gt*Et)+","+ie+"A "+gt+","+gt+" 0 0 "+se+" "+ae+","+(ie+gt*re)+"V"+(pe-gt*re)+"A "+gt+","+gt+" 0 0 "+se+" "+(ae+gt*Et)+","+pe+"H"+(oe-gt*Et)+"A "+gt+","+gt+" 0 0 "+se+" "+oe+","+(pe-gt*re)+"V"+(ie+gt*re)+"A "+gt+","+gt+" 0 0 "+se+" "+(oe-gt*Et)+","+ie+"Z";else{Mt=Math.abs(pe-ie)+qt;var Ge=Mt<gt?gt-Math.sqrt(Mt*(2*gt-Mt)):0,Ce=qt>0?Math.sqrt(qt*(2*gt-qt)):0,Ne=re>0?Math.max:Math.min;It="M"+(ae+Ge*Et)+","+ie+"V"+Ne(pe-(gt-qt)*re,ie)+"A "+gt+","+gt+" 0 0 "+se+" "+(ae+gt*Et-Ce)+","+pe+"H"+(oe-gt*Et+Ce)+"A "+gt+","+gt+" 0 0 "+se+" "+(oe-Ge*Et)+","+Ne(pe-(gt-qt)*re,ie)+"V"+ie+"Z"}}else It=Jt}else It=Jt;var Le=O(n.ensureSingle(ee,"path"),at,H,Y);if(Le.style("vector-effect",N?"none":"non-scaling-stroke").attr("d",isNaN((oe-ae)*(pe-ie))||$t&&ot._context.staticPlot?"M0,0Z":It).call(o.setClipUrl,dt.layerClipId,ot),!at.uniformtext.mode&&Rt){var Oe=o.makePointStyleFns(V);o.singlePointStyle(Nt,Le,V,Oe,ot)}I(ot,dt,ee,S,Yt,ae,oe,ie,pe,gt,qt,H,Y),dt.layerClipId&&o.hideOutsideRangePoint(Nt,ee.select("text"),A,J,V.xcalendar,V.ycalendar)});var kt=V.cliponaxis===!1;o.setClipUrl(R,kt?null:dt.layerClipId,ot)});s.getComponentMethod("errorbars","plot")(ot,M,dt,H)}function I(ot,dt,ht,xt,H,Y,A,J,at,N,M,S,R){var V=dt.xaxis,rt=dt.yaxis,st=ot._fullLayout,ut;function _t(Mt,Jt,qt){var le=n.ensureSingle(Mt,"text").text(Jt).attr({class:"bartext bartext-"+ut,"text-anchor":"middle","data-notex":1}).call(o.font,qt).call(l.convertToTspans,ot);return le}var Tt=xt[0].trace,Ft=Tt.orientation==="h",Zt=W(st,xt,H,V,rt);ut=X(Tt,H);var Bt=S.mode==="stack"||S.mode==="relative",Rt=xt[H],pt=!Bt||Rt._outmost,bt=Rt.hasB,lt=N&&N-M>d;if(!Zt||ut==="none"||(Rt.isBlank||Y===A||J===at)&&(ut==="auto"||ut==="inside")){ht.select("text").remove();return}var kt=st.font,Nt=h.getBarColor(xt[H],Tt),Yt=h.getInsideTextFont(Tt,H,kt,Nt),ee=h.getOutsideTextFont(Tt,H,kt),Xt=Tt.insidetextanchor||"end",ae=ht.datum();Ft?V.type==="log"&&ae.s0<=0&&(V.range[0]<V.range[1]?Y=0:Y=V._length):rt.type==="log"&&ae.s0<=0&&(rt.range[0]<rt.range[1]?J=rt._length:J=0);var oe=Math.abs(A-Y),ie=Math.abs(at-J),pe=oe-2*d,$t=ie-2*d,me,we,ve,Me,mt;if(ut==="outside"&&!pt&&!Rt.hasB&&(ut="inside"),ut==="auto")if(pt){ut="inside",mt=n.ensureUniformFontSize(ot,Yt),me=_t(ht,Zt,mt),we=o.bBox(me.node()),ve=we.width,Me=we.height;var Lt=ve>0&&Me>0,At;lt?bt?At=E(pe-2*N,$t,ve,Me,Ft)||E(pe,$t-2*N,ve,Me,Ft):Ft?At=E(pe-(N-M),$t,ve,Me,Ft)||E(pe,$t-2*(N-M),ve,Me,Ft):At=E(pe,$t-(N-M),ve,Me,Ft)||E(pe-2*(N-M),$t,ve,Me,Ft):At=E(pe,$t,ve,Me,Ft),Lt&&At?ut="inside":(ut="outside",me.remove(),me=null)}else ut="inside";if(!me){mt=n.ensureUniformFontSize(ot,ut==="outside"?ee:Yt),me=_t(ht,Zt,mt);var Q=me.attr("transform");if(me.attr("transform",""),we=o.bBox(me.node()),ve=we.width,Me=we.height,me.attr("transform",Q),ve<=0||Me<=0){me.remove();return}}var ft=Tt.textangle,yt,gt;ut==="outside"?(gt=Tt.constraintext==="both"||Tt.constraintext==="outside",yt=D(Y,A,J,at,we,{isHorizontal:Ft,constrained:gt,angle:ft})):(gt=Tt.constraintext==="both"||Tt.constraintext==="inside",yt=U(Y,A,J,at,we,{isHorizontal:Ft,constrained:gt,angle:ft,anchor:Xt,hasB:bt,r:N,overhead:M})),yt.fontSize=mt.size,v(Tt.type==="histogram"?"bar":Tt.type,yt,st),Rt.transform=yt;var It=O(me,st,S,R);n.setTransormAndDisplay(It,yt)}function E(ot,dt,ht,xt,H){if(ot<0||dt<0)return!1;var Y=ht<=ot&&xt<=dt,A=ht<=dt&&xt<=ot,J=H?ot>=ht*(dt/xt):dt>=xt*(ot/ht);return Y||A||J}function z(ot){return ot==="auto"?0:ot}function j(ot,dt){var ht=Math.PI/180*dt,xt=Math.abs(Math.sin(ht)),H=Math.abs(Math.cos(ht));return{x:ot.width*H+ot.height*xt,y:ot.width*xt+ot.height*H}}function U(ot,dt,ht,xt,H,Y){var A=!!Y.isHorizontal,J=!!Y.constrained,at=Y.angle||0,N=Y.anchor,M=N==="end",S=N==="start",R=Y.leftToRight||0,V=(R+1)/2,rt=1-V,st=Y.hasB,ut=Y.r,_t=Y.overhead,Tt=H.width,Ft=H.height,Zt=Math.abs(dt-ot),Bt=Math.abs(xt-ht),Rt=Zt>2*d&&Bt>2*d?d:0;Zt-=2*Rt,Bt-=2*Rt;var pt=z(at);at==="auto"&&!(Tt<=Zt&&Ft<=Bt)&&(Tt>Zt||Ft>Bt)&&(!(Tt>Bt||Ft>Zt)||Tt<Ft!=Zt<Bt)&&(pt+=90);var bt=j(H,pt),lt,kt;if(ut&&ut-_t>d){var Nt=Z(ot,dt,ht,xt,bt,ut,_t,A,st);lt=Nt.scale,kt=Nt.pad}else lt=1,J&&(lt=Math.min(1,Zt/bt.x,Bt/bt.y)),kt=0;var Yt=H.left*rt+H.right*V,ee=(H.top+H.bottom)/2,Xt=(ot+d)*rt+(dt-d)*V,ae=(ht+xt)/2,oe=0,ie=0;if(S||M){var pe=(A?bt.x:bt.y)/2;ut&&(M||st)&&(Rt+=kt);var $t=A?$(ot,dt):$(ht,xt);A?S?(Xt=ot+$t*Rt,oe=-$t*pe):(Xt=dt-$t*Rt,oe=$t*pe):S?(ae=ht+$t*Rt,ie=-$t*pe):(ae=xt-$t*Rt,ie=$t*pe)}return{textX:Yt,textY:ee,targetX:Xt,targetY:ae,anchorX:oe,anchorY:ie,scale:lt,rotate:pt}}function Z(ot,dt,ht,xt,H,Y,A,J,at){var N=Math.max(0,Math.abs(dt-ot)-2*d),M=Math.max(0,Math.abs(xt-ht)-2*d),S=Y-d,R=A?S-Math.sqrt(S*S-(S-A)*(S-A)):S,V=at?S*2:J?S-A:2*R,rt=at?S*2:J?2*R:S-A,st,ut,_t,Tt,Ft;return H.y/H.x>=M/(N-V)?Tt=M/H.y:H.y/H.x<=(M-rt)/N?Tt=N/H.x:!at&&J?(st=H.x*H.x+H.y*H.y/4,ut=-2*H.x*(N-S)-H.y*(M/2-S),_t=(N-S)*(N-S)+(M/2-S)*(M/2-S)-S*S,Tt=(-ut+Math.sqrt(ut*ut-4*st*_t))/(2*st)):at?(st=(H.x*H.x+H.y*H.y)/4,ut=-H.x*(N/2-S)-H.y*(M/2-S),_t=(N/2-S)*(N/2-S)+(M/2-S)*(M/2-S)-S*S,Tt=(-ut+Math.sqrt(ut*ut-4*st*_t))/(2*st)):(st=H.x*H.x/4+H.y*H.y,ut=-H.x*(N/2-S)-2*H.y*(M-S),_t=(N/2-S)*(N/2-S)+(M-S)*(M-S)-S*S,Tt=(-ut+Math.sqrt(ut*ut-4*st*_t))/(2*st)),Tt=Math.min(1,Tt),J?Ft=Math.max(0,S-Math.sqrt(Math.max(0,S*S-(S-(M-H.y*Tt)/2)*(S-(M-H.y*Tt)/2)))-A):Ft=Math.max(0,S-Math.sqrt(Math.max(0,S*S-(S-(N-H.x*Tt)/2)*(S-(N-H.x*Tt)/2)))-A),{scale:Tt,pad:Ft}}function D(ot,dt,ht,xt,H,Y){var A=!!Y.isHorizontal,J=!!Y.constrained,at=Y.angle||0,N=H.width,M=H.height,S=Math.abs(dt-ot),R=Math.abs(xt-ht),V;A?V=R>2*d?d:0:V=S>2*d?d:0;var rt=1;J&&(rt=A?Math.min(1,R/M):Math.min(1,S/N));var st=z(at),ut=j(H,st),_t=(A?ut.x:ut.y)/2,Tt=(H.left+H.right)/2,Ft=(H.top+H.bottom)/2,Zt=(ot+dt)/2,Bt=(ht+xt)/2,Rt=0,pt=0,bt=A?$(dt,ot):$(ht,xt);return A?(Zt=dt-bt*V,Rt=bt*_t):(Bt=xt+bt*V,pt=-bt*_t),{textX:Tt,textY:Ft,targetX:Zt,targetY:Bt,anchorX:Rt,anchorY:pt,scale:rt,rotate:st}}function W(ot,dt,ht,xt,H){var Y=dt[0].trace,A=Y.texttemplate,J;return A?J=it(ot,dt,ht,xt,H):Y.textinfo?J=nt(dt,ht,xt,H):J=_.getValue(Y.text,ht),_.coerceString(y,J)}function X(ot,dt){var ht=_.getValue(ot.textposition,dt);return _.coerceEnumerated(p,ht)}function it(ot,dt,ht,xt,H){var Y=dt[0].trace,A=n.castOption(Y,ht,"texttemplate");if(!A)return"";var J=Y.type==="histogram",at=Y.type==="waterfall",N=Y.type==="funnel",M=Y.orientation==="h",S,R,V,rt;M?(S="y",R=H,V="x",rt=xt):(S="x",R=xt,V="y",rt=H);function st(Rt){return f(R,R.c2l(Rt),!0).text}function ut(Rt){return f(rt,rt.c2l(Rt),!0).text}var _t=dt[ht],Tt={};Tt.label=_t.p,Tt.labelLabel=Tt[S+"Label"]=st(_t.p);var Ft=n.castOption(Y,_t.i,"text");(Ft===0||Ft)&&(Tt.text=Ft),Tt.value=_t.s,Tt.valueLabel=Tt[V+"Label"]=ut(_t.s);var Zt={};c(Zt,Y,_t.i),(J||Zt.x===void 0)&&(Zt.x=M?Tt.value:Tt.label),(J||Zt.y===void 0)&&(Zt.y=M?Tt.label:Tt.value),(J||Zt.xLabel===void 0)&&(Zt.xLabel=M?Tt.valueLabel:Tt.labelLabel),(J||Zt.yLabel===void 0)&&(Zt.yLabel=M?Tt.labelLabel:Tt.valueLabel),at&&(Tt.delta=+_t.rawS||_t.s,Tt.deltaLabel=ut(Tt.delta),Tt.final=_t.v,Tt.finalLabel=ut(Tt.final),Tt.initial=Tt.final-Tt.delta,Tt.initialLabel=ut(Tt.initial)),N&&(Tt.value=_t.s,Tt.valueLabel=ut(Tt.value),Tt.percentInitial=_t.begR,Tt.percentInitialLabel=n.formatPercent(_t.begR),Tt.percentPrevious=_t.difR,Tt.percentPreviousLabel=n.formatPercent(_t.difR),Tt.percentTotal=_t.sumR,Tt.percenTotalLabel=n.formatPercent(_t.sumR));var Bt=n.castOption(Y,_t.i,"customdata");return Bt&&(Tt.customdata=Bt),n.texttemplateString(A,Tt,ot._d3locale,Zt,Tt,Y._meta||{})}function nt(ot,dt,ht,xt){var H=ot[0].trace,Y=H.orientation==="h",A=H.type==="waterfall",J=H.type==="funnel";function at(Bt){var Rt=Y?xt:ht;return f(Rt,Bt,!0).text}function N(Bt){var Rt=Y?ht:xt;return f(Rt,+Bt,!0).text}var M=H.textinfo,S=ot[dt],R=M.split("+"),V=[],rt,st=function(Bt){return R.indexOf(Bt)!==-1};if(st("label")&&V.push(at(ot[dt].p)),st("text")&&(rt=n.castOption(H,S.i,"text"),(rt===0||rt)&&V.push(rt)),A){var ut=+S.rawS||S.s,_t=S.v,Tt=_t-ut;st("initial")&&V.push(N(Tt)),st("delta")&&V.push(N(ut)),st("final")&&V.push(N(_t))}if(J){st("value")&&V.push(N(S.s));var Ft=0;st("percent initial")&&Ft++,st("percent previous")&&Ft++,st("percent total")&&Ft++;var Zt=Ft>1;st("percent initial")&&(rt=n.formatPercent(S.begR),Zt&&(rt+=" of initial"),V.push(rt)),st("percent previous")&&(rt=n.formatPercent(S.difR),Zt&&(rt+=" of previous"),V.push(rt)),st("percent total")&&(rt=n.formatPercent(S.sumR),Zt&&(rt+=" of total"),V.push(rt))}return V.join("<br>")}C.exports={plot:G,toMoveInsideBar:U}}),Ld=Ct((F,C)=>{var r=tr(),t=un(),n=bn(),l=De().fillText,i=so().getLineWidth,o=Yn().hoverLabelText,s=oa().BADNUM;function f(u,h,_,m,g){var y=e(u,h,_,m,g);if(y){var p=y.cd,c=p[0].trace,d=p[y.index];return y.color=v(c,d),t.getComponentMethod("errorbars","hoverInfo")(d,c,y),[y]}}function e(u,h,_,m,g){var y=u.cd,p=y[0].trace,c=y[0].t,d=m==="closest",b=p.type==="waterfall",w=u.maxHoverDistance,k=u.maxSpikeDistance,$,P,O,T,G,I,E;p.orientation==="h"?($=_,P=h,O="y",T="x",G=xt,I=ot):($=h,P=_,O="x",T="y",I=xt,G=ot);var z=p[O+"period"],j=d||z;function U(rt){return D(rt,-1)}function Z(rt){return D(rt,1)}function D(rt,st){var ut=rt.w;return rt[O]+st*ut/2}function W(rt){return rt[O+"End"]-rt[O+"Start"]}var X=d?U:z?function(rt){return rt.p-W(rt)/2}:function(rt){return Math.min(U(rt),rt.p-c.bardelta/2)},it=d?Z:z?function(rt){return rt.p+W(rt)/2}:function(rt){return Math.max(Z(rt),rt.p+c.bardelta/2)};function nt(rt,st,ut){return g.finiteRange&&(ut=0),r.inbox(rt-$,st-$,ut+Math.min(1,Math.abs(st-rt)/E)-1)}function ot(rt){return nt(X(rt),it(rt),w)}function dt(rt){return nt(U(rt),Z(rt),k)}function ht(rt){var st=rt[T];if(b){var ut=Math.abs(rt.rawS)||0;P>0?st+=ut:P<0&&(st-=ut)}return st}function xt(rt){var st=P,ut=rt.b,_t=ht(rt);return r.inbox(ut-st,_t-st,w+(_t-st)/(_t-ut)-1)}function H(rt){var st=P,ut=rt.b,_t=ht(rt);return r.inbox(ut-st,_t-st,k+(_t-st)/(_t-ut)-1)}var Y=u[O+"a"],A=u[T+"a"];E=Math.abs(Y.r2c(Y.range[1])-Y.r2c(Y.range[0]));function J(rt){return(G(rt)+I(rt))/2}var at=r.getDistanceFunction(m,G,I,J);if(r.getClosest(y,at,u),u.index!==!1&&y[u.index].p!==s){j||(X=function(rt){return Math.min(U(rt),rt.p-c.bargroupwidth/2)},it=function(rt){return Math.max(Z(rt),rt.p+c.bargroupwidth/2)});var N=u.index,M=y[N],S=p.base?M.b+M.s:M.s;u[T+"0"]=u[T+"1"]=A.c2p(M[T],!0),u[T+"LabelVal"]=S;var R=c.extents[c.extents.round(M.p)];u[O+"0"]=Y.c2p(d?X(M):R[0],!0),u[O+"1"]=Y.c2p(d?it(M):R[1],!0);var V=M.orig_p!==void 0;return u[O+"LabelVal"]=V?M.orig_p:M.p,u.labelLabel=o(Y,u[O+"LabelVal"],p[O+"hoverformat"]),u.valueLabel=o(A,u[T+"LabelVal"],p[T+"hoverformat"]),u.baseLabel=o(A,M.b,p[T+"hoverformat"]),u.spikeDistance=(H(M)+dt(M))/2,u[O+"Spike"]=Y.c2p(M.p,!0),l(M,p,u),u.hovertemplate=p.hovertemplate,u}}function v(u,h){var _=h.mcc||u.marker.color,m=h.mlcc||u.marker.line.color,g=i(u,h);if(n.opacity(_))return _;if(n.opacity(m)&&g)return m}C.exports={hoverPoints:f,hoverOnBars:e,getTraceColor:v}}),Sd=Ct((F,C)=>{C.exports=function(r,t,n){return r.x="xVal"in t?t.xVal:t.x,r.y="yVal"in t?t.yVal:t.y,t.xa&&(r.xaxis=t.xa),t.ya&&(r.yaxis=t.ya),n.orientation==="h"?(r.label=r.y,r.value=r.x):(r.label=r.x,r.value=r.y),r}}),Od=Ct((F,C)=>{C.exports=function(t,n){var l=t.cd,i=t.xaxis,o=t.yaxis,s=l[0].trace,f=s.type==="funnel",e=s.orientation==="h",v=[],u;if(n===!1)for(u=0;u<l.length;u++)l[u].selected=0;else for(u=0;u<l.length;u++){var h=l[u],_="ct"in h?h.ct:r(h,i,o,e,f);n.contains(_,!1,u,t)?(v.push({pointNumber:u,x:i.c2d(h.x),y:o.c2d(h.y)}),h.selected=1):h.selected=0}return v};function r(t,n,l,i,o){var s=n.c2p(i?t.s0:t.p0,!0),f=n.c2p(i?t.s1:t.p1,!0),e=l.c2p(i?t.p0:t.s0,!0),v=l.c2p(i?t.p1:t.s1,!0);return o?[(s+f)/2,(e+v)/2]:i?[f,(e+v)/2]:[(s+f)/2,v]}}),Dd=Ct((F,C)=>{C.exports={attributes:ai(),layoutAttributes:Kl(),supplyDefaults:ri().supplyDefaults,crossTraceDefaults:ri().crossTraceDefaults,supplyLayoutDefaults:Td(),calc:kd(),crossTraceCalc:El().crossTraceCalc,colorbar:jl(),arraysToCalcdata:ts(),plot:Ad().plot,style:uo().style,styleOnSelect:uo().styleOnSelect,hoverPoints:Ld().hoverPoints,eventData:Sd(),selectPoints:Od(),moduleType:"trace",name:"bar",basePlotModule:Ki(),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}}),Cd=Ct((F,C)=>{C.exports=Dd()}),es=Ct((F,C)=>{var r=Ba(),t=oo().attributes,n=ha(),l=Xa(),i=Qa().hovertemplateAttrs,o=Qa().texttemplateAttrs,s=la().extendFlat,f=$a().pattern,e=n({editType:"plot",arrayOk:!0,colorEditType:"plot"});C.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:l.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:f,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:s({},r.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:i({},{keys:["label","color","value","percent","text"]}),texttemplate:o({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:s({},e,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:s({},e,{}),outsidetextfont:s({},e,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:s({},e,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:t({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"}}}),Pd=Ct((F,C)=>{var r=Mn(),t=De(),n=es(),l=oo().defaults,i=ri().handleText,o=De().coercePattern;function s(v,u){var h=t.isArrayOrTypedArray(v),_=t.isArrayOrTypedArray(u),m=Math.min(h?v.length:1/0,_?u.length:1/0);if(isFinite(m)||(m=0),m&&_){for(var g,y=0;y<m;y++){var p=u[y];if(r(p)&&p>0){g=!0;break}}g||(m=0)}return{hasLabels:h,hasValues:_,len:m}}function f(v,u,h,_,m){var g=_("marker.line.width");g&&_("marker.line.color",m?void 0:h.paper_bgcolor);var y=_("marker.colors");o(_,"marker.pattern",y),v.marker&&!u.marker.pattern.fgcolor&&(u.marker.pattern.fgcolor=v.marker.colors),u.marker.pattern.bgcolor||(u.marker.pattern.bgcolor=h.paper_bgcolor)}function e(v,u,h,_){function m(I,E){return t.coerce(v,u,n,I,E)}var g=m("labels"),y=m("values"),p=s(g,y),c=p.len;if(u._hasLabels=p.hasLabels,u._hasValues=p.hasValues,!u._hasLabels&&u._hasValues&&(m("label0"),m("dlabel")),!c){u.visible=!1;return}u._length=c,f(v,u,_,m,!0),m("scalegroup");var d=m("text"),b=m("texttemplate"),w;if(b||(w=m("textinfo",t.isArrayOrTypedArray(d)?"text+percent":"percent")),m("hovertext"),m("hovertemplate"),b||w&&w!=="none"){var k=m("textposition");i(v,u,_,m,k,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var $=Array.isArray(k)||k==="auto",P=$||k==="outside";P&&m("automargin"),(k==="inside"||k==="auto"||Array.isArray(k))&&m("insidetextorientation")}else w==="none"&&m("textposition","none");l(u,_,m);var O=m("hole"),T=m("title.text");if(T){var G=m("title.position",O?"middle center":"top center");!O&&G==="middle center"&&(u.title.position="top center"),t.coerceFont(m,"title.font",_.font)}m("sort"),m("direction"),m("rotation"),m("pull")}C.exports={handleLabelsAndValues:s,handleMarkerDefaults:f,supplyDefaults:e}}),ns=Ct((F,C)=>{C.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}}),Id=Ct((F,C)=>{var r=De(),t=ns();C.exports=function(n,l){function i(o,s){return r.coerce(n,l,t,o,s)}i("hiddenlabels"),i("piecolorway",l.colorway),i("extendpiecolors")}}),as=Ct((F,C)=>{var r=Mn(),t=Ra(),n=bn(),l={};function i(e,v){var u=[],h=e._fullLayout,_=h.hiddenlabels||[],m=v.labels,g=v.marker.colors||[],y=v.values,p=v._length,c=v._hasValues&&p,d,b;if(v.dlabel)for(m=new Array(p),d=0;d<p;d++)m[d]=String(v.label0+d*v.dlabel);var w={},k=o(h["_"+v.type+"colormap"]),$=0,P=!1;for(d=0;d<p;d++){var O,T,G;if(c){if(O=y[d],!r(O))continue;O=+O}else O=1;T=m[d],(T===void 0||T==="")&&(T=d),T=String(T);var I=w[T];I===void 0?(w[T]=u.length,G=_.indexOf(T)!==-1,G||($+=O),u.push({v:O,label:T,color:k(g[d],T),i:d,pts:[d],hidden:G})):(P=!0,b=u[I],b.v+=O,b.pts.push(d),b.hidden||($+=O),b.color===!1&&g[d]&&(b.color=k(g[d],T)))}u=u.filter(function(z){return z.v>=0});var E=v.type==="funnelarea"?P:v.sort;return E&&u.sort(function(z,j){return j.v-z.v}),u[0]&&(u[0].vTotal=$),u}function o(e){return function(v,u){return!v||(v=t(v),!v.isValid())?!1:(v=n.addOpacity(v,v.getAlpha()),e[u]||(e[u]=v),v)}}function s(e,v){var u=(v||{}).type;u||(u="pie");var h=e._fullLayout,_=e.calcdata,m=h[u+"colorway"],g=h["_"+u+"colormap"];h["extend"+u+"colors"]&&(m=f(m,l));for(var y=0,p=0;p<_.length;p++){var c=_[p],d=c[0].trace.type;if(d===u)for(var b=0;b<c.length;b++){var w=c[b];w.color===!1&&(g[w.label]?w.color=g[w.label]:(g[w.label]=w.color=m[y%m.length],y++))}}}function f(e,v){var u,h=JSON.stringify(e),_=v[h];if(!_){for(_=e.slice(),u=0;u<e.length;u++)_.push(t(e[u]).lighten(20).toHexString());for(u=0;u<e.length;u++)_.push(t(e[u]).darken(20).toHexString());v[h]=_}return _}C.exports={calc:i,crossTraceCalc:s,makePullColorFn:o,generateExtendedColors:f}}),Fd=Ct((F,C)=>{var r=Ka().appendArrayMultiPointValues;C.exports=function(t,n){var l={curveNumber:n.index,pointNumbers:t.pts,data:n._input,fullData:n,label:t.label,color:t.color,value:t.v,percent:t.percent,text:t.text,bbox:t.bbox,v:t.v};return t.pts.length===1&&(l.pointNumber=l.i=t.pts[0]),r(l,n,t.pts),n.type==="funnelarea"&&(delete l.v,delete l.i),l}}),Nd=Ct((F,C)=>{var r=wn(),t=aa(),n=tr(),l=bn(),i=zn(),o=De(),s=o.strScale,f=o.strTranslate,e=xa(),v=ii(),u=v.recordMinTextSize,h=v.clearMinTextSize,_=lo().TEXTPAD,m=ji(),g=Fd(),y=De().isValidTextValue;function p(Y,A){var J=Y._context.staticPlot,at=Y._fullLayout,N=at._size;h("pie",at),k(A,Y),nt(A,N);var M=o.makeTraceGroups(at._pielayer,A,"trace").each(function(S){var R=r.select(this),V=S[0],rt=V.trace;dt(S),R.attr("stroke-linejoin","round"),R.each(function(){var st=r.select(this).selectAll("g.slice").data(S);st.enter().append("g").classed("slice",!0),st.exit().remove();var ut=[[[],[]],[[],[]]],_t=!1;st.each(function(lt,kt){if(lt.hidden){r.select(this).selectAll("path,g").remove();return}lt.pointNumber=lt.i,lt.curveNumber=rt.index,ut[lt.pxmid[1]<0?0:1][lt.pxmid[0]<0?0:1].push(lt);var Nt=V.cx,Yt=V.cy,ee=r.select(this),Xt=ee.selectAll("path.surface").data([lt]);if(Xt.enter().append("path").classed("surface",!0).style({"pointer-events":J?"none":"all"}),ee.call(d,Y,S),rt.pull){var ae=+m.castOption(rt.pull,lt.pts)||0;ae>0&&(Nt+=ae*lt.pxmid[0],Yt+=ae*lt.pxmid[1])}lt.cxFinal=Nt,lt.cyFinal=Yt;function oe(Me,mt,Lt,At){var Q=At*(mt[0]-Me[0]),ft=At*(mt[1]-Me[1]);return"a"+At*V.r+","+At*V.r+" 0 "+lt.largeArc+(Lt?" 1 ":" 0 ")+Q+","+ft}var ie=rt.hole;if(lt.v===V.vTotal){var pe="M"+(Nt+lt.px0[0])+","+(Yt+lt.px0[1])+oe(lt.px0,lt.pxmid,!0,1)+oe(lt.pxmid,lt.px0,!0,1)+"Z";ie?Xt.attr("d","M"+(Nt+ie*lt.px0[0])+","+(Yt+ie*lt.px0[1])+oe(lt.px0,lt.pxmid,!1,ie)+oe(lt.pxmid,lt.px0,!1,ie)+"Z"+pe):Xt.attr("d",pe)}else{var $t=oe(lt.px0,lt.px1,!0,1);if(ie){var me=1-ie;Xt.attr("d","M"+(Nt+ie*lt.px1[0])+","+(Yt+ie*lt.px1[1])+oe(lt.px1,lt.px0,!1,ie)+"l"+me*lt.px0[0]+","+me*lt.px0[1]+$t+"Z")}else Xt.attr("d","M"+Nt+","+Yt+"l"+lt.px0[0]+","+lt.px0[1]+$t+"Z")}xt(Y,lt,V);var we=m.castOption(rt.textposition,lt.pts),ve=ee.selectAll("g.slicetext").data(lt.text&&we!=="none"?[0]:[]);ve.enter().append("g").classed("slicetext",!0),ve.exit().remove(),ve.each(function(){var Me=o.ensureSingle(r.select(this),"text","",function(It){It.attr("data-notex",1)}),mt=o.ensureUniformFontSize(Y,we==="outside"?b(rt,lt,at.font):w(rt,lt,at.font));Me.text(lt.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(i.font,mt).call(e.convertToTspans,Y);var Lt=i.bBox(Me.node()),At;if(we==="outside")At=j(Lt,lt);else if(At=$(Lt,lt,V),we==="auto"&&At.scale<1){var Q=o.ensureUniformFontSize(Y,rt.outsidetextfont);Me.call(i.font,Q),Lt=i.bBox(Me.node()),At=j(Lt,lt)}var ft=At.textPosAngle,yt=ft===void 0?lt.pxmid:ht(V.r,ft);if(At.targetX=Nt+yt[0]*At.rCenter+(At.x||0),At.targetY=Yt+yt[1]*At.rCenter+(At.y||0),H(At,Lt),At.outside){var gt=At.targetY;lt.yLabelMin=gt-Lt.height/2,lt.yLabelMid=gt,lt.yLabelMax=gt+Lt.height/2,lt.labelExtraX=0,lt.labelExtraY=0,_t=!0}At.fontSize=mt.size,u(rt.type,At,at),S[kt].transform=At,o.setTransormAndDisplay(Me,At)})});var Tt=r.select(this).selectAll("g.titletext").data(rt.title.text?[0]:[]);if(Tt.enter().append("g").classed("titletext",!0),Tt.exit().remove(),Tt.each(function(){var lt=o.ensureSingle(r.select(this),"text","",function(Yt){Yt.attr("data-notex",1)}),kt=rt.title.text;rt._meta&&(kt=o.templateString(kt,rt._meta)),lt.text(kt).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(i.font,rt.title.font).call(e.convertToTspans,Y);var Nt;rt.title.position==="middle center"?Nt=U(V):Nt=Z(V,N),lt.attr("transform",f(Nt.x,Nt.y)+s(Math.min(1,Nt.scale))+f(Nt.tx,Nt.ty))}),_t&&it(ut,rt),c(st,rt),_t&&rt.automargin){var Ft=i.bBox(R.node()),Zt=rt.domain,Bt=N.w*(Zt.x[1]-Zt.x[0]),Rt=N.h*(Zt.y[1]-Zt.y[0]),pt=(.5*Bt-V.r)/N.w,bt=(.5*Rt-V.r)/N.h;t.autoMargin(Y,"pie."+rt.uid+".automargin",{xl:Zt.x[0]-pt,xr:Zt.x[1]+pt,yb:Zt.y[0]-bt,yt:Zt.y[1]+bt,l:Math.max(V.cx-V.r-Ft.left,0),r:Math.max(Ft.right-(V.cx+V.r),0),b:Math.max(Ft.bottom-(V.cy+V.r),0),t:Math.max(V.cy-V.r-Ft.top,0),pad:5})}})});setTimeout(function(){M.selectAll("tspan").each(function(){var S=r.select(this);S.attr("dy")&&S.attr("dy",S.attr("dy"))})},0)}function c(Y,A){Y.each(function(J){var at=r.select(this);if(!J.labelExtraX&&!J.labelExtraY){at.select("path.textline").remove();return}var N=at.select("g.slicetext text");J.transform.targetX+=J.labelExtraX,J.transform.targetY+=J.labelExtraY,o.setTransormAndDisplay(N,J.transform);var M=J.cxFinal+J.pxmid[0],S=J.cyFinal+J.pxmid[1],R="M"+M+","+S,V=(J.yLabelMax-J.yLabelMin)*(J.pxmid[0]<0?-1:1)/4;if(J.labelExtraX){var rt=J.labelExtraX*J.pxmid[1]/J.pxmid[0],st=J.yLabelMid+J.labelExtraY-(J.cyFinal+J.pxmid[1]);Math.abs(rt)>Math.abs(st)?R+="l"+st*J.pxmid[0]/J.pxmid[1]+","+st+"H"+(M+J.labelExtraX+V):R+="l"+J.labelExtraX+","+rt+"v"+(st-rt)+"h"+V}else R+="V"+(J.yLabelMid+J.labelExtraY)+"h"+V;o.ensureSingle(at,"path","textline").call(l.stroke,A.outsidetextfont.color).attr({"stroke-width":Math.min(2,A.outsidetextfont.size/8),d:R,fill:"none"})})}function d(Y,A,J){var at=J[0],N=at.cx,M=at.cy,S=at.trace,R=S.type==="funnelarea";"_hasHoverLabel"in S||(S._hasHoverLabel=!1),"_hasHoverEvent"in S||(S._hasHoverEvent=!1),Y.on("mouseover",function(V){var rt=A._fullLayout,st=A._fullData[S.index];if(!(A._dragging||rt.hovermode===!1)){var ut=st.hoverinfo;if(Array.isArray(ut)&&(ut=n.castHoverinfo({hoverinfo:[m.castOption(ut,V.pts)],_module:S._module},rt,0)),ut==="all"&&(ut="label+text+value+percent+name"),st.hovertemplate||ut!=="none"&&ut!=="skip"&&ut){var _t=V.rInscribed||0,Tt=N+V.pxmid[0]*(1-_t),Ft=M+V.pxmid[1]*(1-_t),Zt=rt.separators,Bt=[];if(ut&&ut.indexOf("label")!==-1&&Bt.push(V.label),V.text=m.castOption(st.hovertext||st.text,V.pts),ut&&ut.indexOf("text")!==-1){var Rt=V.text;o.isValidTextValue(Rt)&&Bt.push(Rt)}V.value=V.v,V.valueLabel=m.formatPieValue(V.v,Zt),ut&&ut.indexOf("value")!==-1&&Bt.push(V.valueLabel),V.percent=V.v/at.vTotal,V.percentLabel=m.formatPiePercent(V.percent,Zt),ut&&ut.indexOf("percent")!==-1&&Bt.push(V.percentLabel);var pt=st.hoverlabel,bt=pt.font,lt=[];n.loneHover({trace:S,x0:Tt-_t*at.r,x1:Tt+_t*at.r,y:Ft,_x0:R?N+V.TL[0]:Tt-_t*at.r,_x1:R?N+V.TR[0]:Tt+_t*at.r,_y0:R?M+V.TL[1]:Ft-_t*at.r,_y1:R?M+V.BL[1]:Ft+_t*at.r,text:Bt.join("<br>"),name:st.hovertemplate||ut.indexOf("name")!==-1?st.name:void 0,idealAlign:V.pxmid[0]<0?"left":"right",color:m.castOption(pt.bgcolor,V.pts)||V.color,borderColor:m.castOption(pt.bordercolor,V.pts),fontFamily:m.castOption(bt.family,V.pts),fontSize:m.castOption(bt.size,V.pts),fontColor:m.castOption(bt.color,V.pts),nameLength:m.castOption(pt.namelength,V.pts),textAlign:m.castOption(pt.align,V.pts),hovertemplate:m.castOption(st.hovertemplate,V.pts),hovertemplateLabels:V,eventData:[g(V,st)]},{container:rt._hoverlayer.node(),outerContainer:rt._paper.node(),gd:A,inOut_bbox:lt}),V.bbox=lt[0],S._hasHoverLabel=!0}S._hasHoverEvent=!0,A.emit("plotly_hover",{points:[g(V,st)],event:r.event})}}),Y.on("mouseout",function(V){var rt=A._fullLayout,st=A._fullData[S.index],ut=r.select(this).datum();S._hasHoverEvent&&(V.originalEvent=r.event,A.emit("plotly_unhover",{points:[g(ut,st)],event:r.event}),S._hasHoverEvent=!1),S._hasHoverLabel&&(n.loneUnhover(rt._hoverlayer.node()),S._hasHoverLabel=!1)}),Y.on("click",function(V){var rt=A._fullLayout,st=A._fullData[S.index];A._dragging||rt.hovermode===!1||(A._hoverdata=[g(V,st)],n.click(A,r.event))})}function b(Y,A,J){var at=m.castOption(Y.outsidetextfont.color,A.pts)||m.castOption(Y.textfont.color,A.pts)||J.color,N=m.castOption(Y.outsidetextfont.family,A.pts)||m.castOption(Y.textfont.family,A.pts)||J.family,M=m.castOption(Y.outsidetextfont.size,A.pts)||m.castOption(Y.textfont.size,A.pts)||J.size,S=m.castOption(Y.outsidetextfont.weight,A.pts)||m.castOption(Y.textfont.weight,A.pts)||J.weight,R=m.castOption(Y.outsidetextfont.style,A.pts)||m.castOption(Y.textfont.style,A.pts)||J.style,V=m.castOption(Y.outsidetextfont.variant,A.pts)||m.castOption(Y.textfont.variant,A.pts)||J.variant,rt=m.castOption(Y.outsidetextfont.textcase,A.pts)||m.castOption(Y.textfont.textcase,A.pts)||J.textcase,st=m.castOption(Y.outsidetextfont.lineposition,A.pts)||m.castOption(Y.textfont.lineposition,A.pts)||J.lineposition,ut=m.castOption(Y.outsidetextfont.shadow,A.pts)||m.castOption(Y.textfont.shadow,A.pts)||J.shadow;return{color:at,family:N,size:M,weight:S,style:R,variant:V,textcase:rt,lineposition:st,shadow:ut}}function w(Y,A,J){var at=m.castOption(Y.insidetextfont.color,A.pts);!at&&Y._input.textfont&&(at=m.castOption(Y._input.textfont.color,A.pts));var N=m.castOption(Y.insidetextfont.family,A.pts)||m.castOption(Y.textfont.family,A.pts)||J.family,M=m.castOption(Y.insidetextfont.size,A.pts)||m.castOption(Y.textfont.size,A.pts)||J.size,S=m.castOption(Y.insidetextfont.weight,A.pts)||m.castOption(Y.textfont.weight,A.pts)||J.weight,R=m.castOption(Y.insidetextfont.style,A.pts)||m.castOption(Y.textfont.style,A.pts)||J.style,V=m.castOption(Y.insidetextfont.variant,A.pts)||m.castOption(Y.textfont.variant,A.pts)||J.variant,rt=m.castOption(Y.insidetextfont.textcase,A.pts)||m.castOption(Y.textfont.textcase,A.pts)||J.textcase,st=m.castOption(Y.insidetextfont.lineposition,A.pts)||m.castOption(Y.textfont.lineposition,A.pts)||J.lineposition,ut=m.castOption(Y.insidetextfont.shadow,A.pts)||m.castOption(Y.textfont.shadow,A.pts)||J.shadow;return{color:at||l.contrast(A.color),family:N,size:M,weight:S,style:R,variant:V,textcase:rt,lineposition:st,shadow:ut}}function k(Y,A){for(var J,at,N=0;N<Y.length;N++)if(J=Y[N][0],at=J.trace,at.title.text){var M=at.title.text;at._meta&&(M=o.templateString(M,at._meta));var S=i.tester.append("text").attr("data-notex",1).text(M).call(i.font,at.title.font).call(e.convertToTspans,A),R=i.bBox(S.node(),!0);J.titleBox={width:R.width,height:R.height},S.remove()}}function $(Y,A,J){var at=J.r||A.rpx1,N=A.rInscribed,M=A.startangle===A.stopangle;if(M)return{rCenter:1-N,scale:0,rotate:0,textPosAngle:0};var S=A.ring,R=S===1&&Math.abs(A.startangle-A.stopangle)===Math.PI*2,V=A.halfangle,rt=A.midangle,st=J.trace.insidetextorientation,ut=st==="horizontal",_t=st==="tangential",Tt=st==="radial",Ft=st==="auto",Zt=[],Bt;if(!Ft){var Rt=function(ee,Xt){if(P(A,ee)){var ae=Math.abs(ee-A.startangle),oe=Math.abs(ee-A.stopangle),ie=ae<oe?ae:oe;Xt==="tan"?Bt=T(Y,at,S,ie,0):Bt=O(Y,at,S,ie,Math.PI/2),Bt.textPosAngle=ee,Zt.push(Bt)}},pt;if(ut||_t){for(pt=4;pt>=-4;pt-=2)Rt(Math.PI*pt,"tan");for(pt=4;pt>=-4;pt-=2)Rt(Math.PI*(pt+1),"tan")}if(ut||Tt){for(pt=4;pt>=-4;pt-=2)Rt(Math.PI*(pt+1.5),"rad");for(pt=4;pt>=-4;pt-=2)Rt(Math.PI*(pt+.5),"rad")}}if(R||Ft||ut){var bt=Math.sqrt(Y.width*Y.width+Y.height*Y.height);if(Bt={scale:N*at*2/bt,rCenter:1-N,rotate:0},Bt.textPosAngle=(A.startangle+A.stopangle)/2,Bt.scale>=1)return Bt;Zt.push(Bt)}(Ft||Tt)&&(Bt=O(Y,at,S,V,rt),Bt.textPosAngle=(A.startangle+A.stopangle)/2,Zt.push(Bt)),(Ft||_t)&&(Bt=T(Y,at,S,V,rt),Bt.textPosAngle=(A.startangle+A.stopangle)/2,Zt.push(Bt));for(var lt=0,kt=0,Nt=0;Nt<Zt.length;Nt++){var Yt=Zt[Nt].scale;if(kt<Yt&&(kt=Yt,lt=Nt),!Ft&&kt>=1)break}return Zt[lt]}function P(Y,A){var J=Y.startangle,at=Y.stopangle;return J>A&&A>at||J<A&&A<at}function O(Y,A,J,at,N){A=Math.max(0,A-2*_);var M=Y.width/Y.height,S=E(M,at,A,J);return{scale:S*2/Y.height,rCenter:G(M,S/A),rotate:I(N)}}function T(Y,A,J,at,N){A=Math.max(0,A-2*_);var M=Y.height/Y.width,S=E(M,at,A,J);return{scale:S*2/Y.width,rCenter:G(M,S/A),rotate:I(N+Math.PI/2)}}function G(Y,A){return Math.cos(A)-Y*A}function I(Y){return(180/Math.PI*Y+720)%180-90}function E(Y,A,J,at){var N=Y+1/(2*Math.tan(A));return J*Math.min(1/(Math.sqrt(N*N+.5)+N),at/(Math.sqrt(Y*Y+at/2)+Y))}function z(Y,A){return Y.v===A.vTotal&&!A.trace.hole?1:Math.min(1/(1+1/Math.sin(Y.halfangle)),Y.ring/2)}function j(Y,A){var J=A.pxmid[0],at=A.pxmid[1],N=Y.width/2,M=Y.height/2;return J<0&&(N*=-1),at<0&&(M*=-1),{scale:1,rCenter:1,rotate:0,x:N+Math.abs(M)*(N>0?1:-1)/2,y:M/(1+J*J/(at*at)),outside:!0}}function U(Y){var A=Math.sqrt(Y.titleBox.width*Y.titleBox.width+Y.titleBox.height*Y.titleBox.height);return{x:Y.cx,y:Y.cy,scale:Y.trace.hole*Y.r*2/A,tx:0,ty:-Y.titleBox.height/2+Y.trace.title.font.size}}function Z(Y,A){var J=1,at=1,N,M=Y.trace,S={x:Y.cx,y:Y.cy},R={tx:0,ty:0};R.ty+=M.title.font.size,N=X(M),M.title.position.indexOf("top")!==-1?(S.y-=(1+N)*Y.r,R.ty-=Y.titleBox.height):M.title.position.indexOf("bottom")!==-1&&(S.y+=(1+N)*Y.r);var V=D(Y.r,Y.trace.aspectratio),rt=A.w*(M.domain.x[1]-M.domain.x[0])/2;return M.title.position.indexOf("left")!==-1?(rt=rt+V,S.x-=(1+N)*V,R.tx+=Y.titleBox.width/2):M.title.position.indexOf("center")!==-1?rt*=2:M.title.position.indexOf("right")!==-1&&(rt=rt+V,S.x+=(1+N)*V,R.tx-=Y.titleBox.width/2),J=rt/Y.titleBox.width,at=W(Y,A)/Y.titleBox.height,{x:S.x,y:S.y,scale:Math.min(J,at),tx:R.tx,ty:R.ty}}function D(Y,A){return Y/(A===void 0?1:A)}function W(Y,A){var J=Y.trace,at=A.h*(J.domain.y[1]-J.domain.y[0]);return Math.min(Y.titleBox.height,at/2)}function X(Y){var A=Y.pull;if(!A)return 0;var J;if(o.isArrayOrTypedArray(A))for(A=0,J=0;J<Y.pull.length;J++)Y.pull[J]>A&&(A=Y.pull[J]);return A}function it(Y,A){var J,at,N,M,S,R,V,rt,st,ut,_t,Tt,Ft;function Zt(bt,lt){return bt.pxmid[1]-lt.pxmid[1]}function Bt(bt,lt){return lt.pxmid[1]-bt.pxmid[1]}function Rt(bt,lt){lt||(lt={});var kt=lt.labelExtraY+(at?lt.yLabelMax:lt.yLabelMin),Nt=at?bt.yLabelMin:bt.yLabelMax,Yt=at?bt.yLabelMax:bt.yLabelMin,ee=bt.cyFinal+S(bt.px0[1],bt.px1[1]),Xt=kt-Nt,ae,oe,ie,pe,$t,me;if(Xt*V>0&&(bt.labelExtraY=Xt),!!o.isArrayOrTypedArray(A.pull))for(oe=0;oe<ut.length;oe++)ie=ut[oe],!(ie===bt||(m.castOption(A.pull,bt.pts)||0)>=(m.castOption(A.pull,ie.pts)||0))&&((bt.pxmid[1]-ie.pxmid[1])*V>0?(pe=ie.cyFinal+S(ie.px0[1],ie.px1[1]),Xt=pe-Nt-bt.labelExtraY,Xt*V>0&&(bt.labelExtraY+=Xt)):(Yt+bt.labelExtraY-ee)*V>0&&(ae=3*R*Math.abs(oe-ut.indexOf(bt)),$t=ie.cxFinal+M(ie.px0[0],ie.px1[0]),me=$t+ae-(bt.cxFinal+bt.pxmid[0])-bt.labelExtraX,me*R>0&&(bt.labelExtraX+=me)))}for(at=0;at<2;at++)for(N=at?Zt:Bt,S=at?Math.max:Math.min,V=at?1:-1,J=0;J<2;J++){for(M=J?Math.max:Math.min,R=J?1:-1,rt=Y[at][J],rt.sort(N),st=Y[1-at][J],ut=st.concat(rt),Tt=[],_t=0;_t<rt.length;_t++)rt[_t].yLabelMid!==void 0&&Tt.push(rt[_t]);for(Ft=!1,_t=0;at&&_t<st.length;_t++)if(st[_t].yLabelMid!==void 0){Ft=st[_t];break}for(_t=0;_t<Tt.length;_t++){var pt=_t&&Tt[_t-1];Ft&&!_t&&(pt=Ft),Rt(Tt[_t],pt)}}}function nt(Y,A){for(var J=[],at=0;at<Y.length;at++){var N=Y[at][0],M=N.trace,S=M.domain,R=A.w*(S.x[1]-S.x[0]),V=A.h*(S.y[1]-S.y[0]);M.title.text&&M.title.position!=="middle center"&&(V-=W(N,A));var rt=R/2,st=V/2;M.type==="funnelarea"&&!M.scalegroup&&(st/=M.aspectratio),N.r=Math.min(rt,st)/(1+X(M)),N.cx=A.l+A.w*(M.domain.x[1]+M.domain.x[0])/2,N.cy=A.t+A.h*(1-M.domain.y[0])-V/2,M.title.text&&M.title.position.indexOf("bottom")!==-1&&(N.cy-=W(N,A)),M.scalegroup&&J.indexOf(M.scalegroup)===-1&&J.push(M.scalegroup)}ot(Y,J)}function ot(Y,A){for(var J,at,N,M=0;M<A.length;M++){var S=1/0,R=A[M];for(at=0;at<Y.length;at++)if(J=Y[at][0],N=J.trace,N.scalegroup===R){var V;if(N.type==="pie")V=J.r*J.r;else if(N.type==="funnelarea"){var rt,st;N.aspectratio>1?(rt=J.r,st=rt/N.aspectratio):(st=J.r,rt=st*N.aspectratio),rt*=(1+N.baseratio)/2,V=rt*st}S=Math.min(S,V/J.vTotal)}for(at=0;at<Y.length;at++)if(J=Y[at][0],N=J.trace,N.scalegroup===R){var ut=S*J.vTotal;N.type==="funnelarea"&&(ut/=(1+N.baseratio)/2,ut/=N.aspectratio),J.r=Math.sqrt(ut)}}}function dt(Y){var A=Y[0],J=A.r,at=A.trace,N=m.getRotationAngle(at.rotation),M=2*Math.PI/A.vTotal,S="px0",R="px1",V,rt,st;if(at.direction==="counterclockwise"){for(V=0;V<Y.length&&Y[V].hidden;V++);if(V===Y.length)return;N+=M*Y[V].v,M*=-1,S="px1",R="px0"}for(st=ht(J,N),V=0;V<Y.length;V++)rt=Y[V],!rt.hidden&&(rt[S]=st,rt.startangle=N,N+=M*rt.v/2,rt.pxmid=ht(J,N),rt.midangle=N,N+=M*rt.v/2,st=ht(J,N),rt.stopangle=N,rt[R]=st,rt.largeArc=rt.v>A.vTotal/2?1:0,rt.halfangle=Math.PI*Math.min(rt.v/A.vTotal,.5),rt.ring=1-at.hole,rt.rInscribed=z(rt,A))}function ht(Y,A){return[Y*Math.sin(A),-Y*Math.cos(A)]}function xt(Y,A,J){var at=Y._fullLayout,N=J.trace,M=N.texttemplate,S=N.textinfo;if(!M&&S&&S!=="none"){var R=S.split("+"),V=function(lt){return R.indexOf(lt)!==-1},rt=V("label"),st=V("text"),ut=V("value"),_t=V("percent"),Tt=at.separators,Ft;if(Ft=rt?[A.label]:[],st){var Zt=m.getFirstFilled(N.text,A.pts);y(Zt)&&Ft.push(Zt)}ut&&Ft.push(m.formatPieValue(A.v,Tt)),_t&&Ft.push(m.formatPiePercent(A.v/J.vTotal,Tt)),A.text=Ft.join("<br>")}function Bt(lt){return{label:lt.label,value:lt.v,valueLabel:m.formatPieValue(lt.v,at.separators),percent:lt.v/J.vTotal,percentLabel:m.formatPiePercent(lt.v/J.vTotal,at.separators),color:lt.color,text:lt.text,customdata:o.castOption(N,lt.i,"customdata")}}if(M){var Rt=o.castOption(N,A.i,"texttemplate");if(!Rt)A.text="";else{var pt=Bt(A),bt=m.getFirstFilled(N.text,A.pts);(y(bt)||bt==="")&&(pt.text=bt),A.text=o.texttemplateString(Rt,pt,Y._fullLayout._d3locale,pt,N._meta||{})}}}function H(Y,A){var J=Y.rotate*Math.PI/180,at=Math.cos(J),N=Math.sin(J),M=(A.left+A.right)/2,S=(A.top+A.bottom)/2;Y.textX=M*at-S*N,Y.textY=M*N+S*at,Y.noCenter=!0}C.exports={plot:p,formatSliceLabel:xt,transformInsideText:$,determineInsideTextFont:w,positionTitleOutside:Z,prerenderTitles:k,layoutAreas:nt,attachFxHandlers:d,computeTransform:H}}),zd=Ct((F,C)=>{var r=wn(),t=Hi(),n=ii().resizeText;C.exports=function(l){var i=l._fullLayout._pielayer.selectAll(".trace");n(l,i,"pie"),i.each(function(o){var s=o[0],f=s.trace,e=r.select(this);e.style({opacity:f.opacity}),e.selectAll("path.surface").each(function(v){r.select(this).call(t,v,f,l)})})}}),Rd=Ct(F=>{var C=aa();F.name="pie",F.plot=function(r,t,n,l){C.plotBasePlot(F.name,r,t,n,l)},F.clean=function(r,t,n,l){C.cleanBasePlot(F.name,r,t,n,l)}}),Ed=Ct((F,C)=>{C.exports={attributes:es(),supplyDefaults:Pd().supplyDefaults,supplyLayoutDefaults:Id(),layoutAttributes:ns(),calc:as().calc,crossTraceCalc:as().crossTraceCalc,plot:Nd().plot,style:zd(),styleOne:Hi(),moduleType:"trace",name:"pie",basePlotModule:Rd(),categories:["pie-like","pie","showLegend"],meta:{}}}),jd=Ct((F,C)=>{C.exports=Ed()}),ba=Ct((F,C)=>{var r=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function l(o){if(o==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(o)}function i(){try{if(!Object.assign)return!1;var o=new String("abc");if(o[5]="de",Object.getOwnPropertyNames(o)[0]==="5")return!1;for(var s={},f=0;f<10;f++)s["_"+String.fromCharCode(f)]=f;var e=Object.getOwnPropertyNames(s).map(function(u){return s[u]});if(e.join("")!=="0123456789")return!1;var v={};return"abcdefghijklmnopqrst".split("").forEach(function(u){v[u]=u}),Object.keys(Object.assign({},v)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}C.exports=i()?Object.assign:function(o,s){for(var f,e=l(o),v,u=1;u<arguments.length;u++){f=Object(arguments[u]);for(var h in f)t.call(f,h)&&(e[h]=f[h]);if(r){v=r(f);for(var _=0;_<v.length;_++)n.call(f,v[_])&&(e[v[_]]=f[v[_]])}}return e}}),_a=Ct((F,C)=>{var r=ba();function t(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}r(t.prototype,{instance:function(f,e){f=(f||"gregorian").toLowerCase(),e=e||"";var v=this._localCals[f+"-"+e];if(!v&&this.calendars[f]&&(v=new this.calendars[f](e),this._localCals[f+"-"+e]=v),!v)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,f);return v},newDate:function(f,e,v,u,h){return u=(f!=null&&f.year?f.calendar():typeof u=="string"?this.instance(u,h):u)||this.instance(),u.newDate(f,e,v)},substituteDigits:function(f){return function(e){return(e+"").replace(/[0-9]/g,function(v){return f[v]})}},substituteChineseDigits:function(f,e){return function(v){for(var u="",h=0;v>0;){var _=v%10;u=(_===0?"":f[_]+e[h])+u,h++,v=Math.floor(v/10)}return u.indexOf(f[1]+e[1])===0&&(u=u.substr(1)),u||f[0]}}});function n(f,e,v,u){if(this._calendar=f,this._year=e,this._month=v,this._day=u,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(s.local.invalidDate||s.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function l(f,e){return f=""+f,"000000".substring(0,e-f.length)+f}r(n.prototype,{newDate:function(f,e,v){return this._calendar.newDate(f??this,e,v)},year:function(f){return arguments.length===0?this._year:this.set(f,"y")},month:function(f){return arguments.length===0?this._month:this.set(f,"m")},day:function(f){return arguments.length===0?this._day:this.set(f,"d")},date:function(f,e,v){if(!this._calendar.isValid(f,e,v))throw(s.local.invalidDate||s.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=f,this._month=e,this._day=v,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(f,e){return this._calendar.add(this,f,e)},set:function(f,e){return this._calendar.set(this,f,e)},compareTo:function(f){if(this._calendar.name!==f._calendar.name)throw(s.local.differentCalendars||s.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,f._calendar.local.name);var e=this._year!==f._year?this._year-f._year:this._month!==f._month?this.monthOfYear()-f.monthOfYear():this._day-f._day;return e===0?0:e<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(f){return this._calendar.fromJD(f)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(f){return this._calendar.fromJSDate(f)},toString:function(){return(this.year()<0?"-":"")+l(Math.abs(this.year()),4)+"-"+l(this.month(),2)+"-"+l(this.day(),2)}});function i(){this.shortYearCutoff="+10"}r(i.prototype,{_validateLevel:0,newDate:function(f,e,v){return f==null?this.today():(f.year&&(this._validate(f,e,v,s.local.invalidDate||s.regionalOptions[""].invalidDate),v=f.day(),e=f.month(),f=f.year()),new n(this,f,e,v))},today:function(){return this.fromJSDate(new Date)},epoch:function(f){var e=this._validate(f,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return e.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(f){var e=this._validate(f,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return(e.year()<0?"-":"")+l(Math.abs(e.year()),4)},monthsInYear:function(f){return this._validate(f,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear),12},monthOfYear:function(f,e){var v=this._validate(f,e,this.minDay,s.local.invalidMonth||s.regionalOptions[""].invalidMonth);return(v.month()+this.monthsInYear(v)-this.firstMonth)%this.monthsInYear(v)+this.minMonth},fromMonthOfYear:function(f,e){var v=(e+this.firstMonth-2*this.minMonth)%this.monthsInYear(f)+this.minMonth;return this._validate(f,v,this.minDay,s.local.invalidMonth||s.regionalOptions[""].invalidMonth),v},daysInYear:function(f){var e=this._validate(f,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return this.leapYear(e)?366:365},dayOfYear:function(f,e,v){var u=this._validate(f,e,v,s.local.invalidDate||s.regionalOptions[""].invalidDate);return u.toJD()-this.newDate(u.year(),this.fromMonthOfYear(u.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(f,e,v){var u=this._validate(f,e,v,s.local.invalidDate||s.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(u))+2)%this.daysInWeek()},extraInfo:function(f,e,v){return this._validate(f,e,v,s.local.invalidDate||s.regionalOptions[""].invalidDate),{}},add:function(f,e,v){return this._validate(f,this.minMonth,this.minDay,s.local.invalidDate||s.regionalOptions[""].invalidDate),this._correctAdd(f,this._add(f,e,v),e,v)},_add:function(f,e,v){if(this._validateLevel++,v==="d"||v==="w"){var u=f.toJD()+e*(v==="w"?this.daysInWeek():1),h=f.calendar().fromJD(u);return this._validateLevel--,[h.year(),h.month(),h.day()]}try{var _=f.year()+(v==="y"?e:0),m=f.monthOfYear()+(v==="m"?e:0),h=f.day(),g=function(c){for(;m<c.minMonth;)_--,m+=c.monthsInYear(_);for(var d=c.monthsInYear(_);m>d-1+c.minMonth;)_++,m-=d,d=c.monthsInYear(_)};v==="y"?(f.month()!==this.fromMonthOfYear(_,m)&&(m=this.newDate(_,f.month(),this.minDay).monthOfYear()),m=Math.min(m,this.monthsInYear(_)),h=Math.min(h,this.daysInMonth(_,this.fromMonthOfYear(_,m)))):v==="m"&&(g(this),h=Math.min(h,this.daysInMonth(_,this.fromMonthOfYear(_,m))));var y=[_,this.fromMonthOfYear(_,m),h];return this._validateLevel--,y}catch(p){throw this._validateLevel--,p}},_correctAdd:function(f,e,v,u){if(!this.hasYearZero&&(u==="y"||u==="m")&&(e[0]===0||f.year()>0!=e[0]>0)){var h={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[u],_=v<0?-1:1;e=this._add(f,v*h[0]+_*h[1],h[2])}return f.date(e[0],e[1],e[2])},set:function(f,e,v){this._validate(f,this.minMonth,this.minDay,s.local.invalidDate||s.regionalOptions[""].invalidDate);var u=v==="y"?e:f.year(),h=v==="m"?e:f.month(),_=v==="d"?e:f.day();return(v==="y"||v==="m")&&(_=Math.min(_,this.daysInMonth(u,h))),f.date(u,h,_)},isValid:function(f,e,v){this._validateLevel++;var u=this.hasYearZero||f!==0;if(u){var h=this.newDate(f,e,this.minDay);u=e>=this.minMonth&&e-this.minMonth<this.monthsInYear(h)&&v>=this.minDay&&v-this.minDay<this.daysInMonth(h)}return this._validateLevel--,u},toJSDate:function(f,e,v){var u=this._validate(f,e,v,s.local.invalidDate||s.regionalOptions[""].invalidDate);return s.instance().fromJD(this.toJD(u)).toJSDate()},fromJSDate:function(f){return this.fromJD(s.instance().fromJSDate(f).toJD())},_validate:function(f,e,v,u){if(f.year){if(this._validateLevel===0&&this.name!==f.calendar().name)throw(s.local.differentCalendars||s.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,f.calendar().local.name);return f}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(f,e,v))throw u.replace(/\{0\}/,this.local.name);var h=this.newDate(f,e,v);return this._validateLevel--,h}catch(_){throw this._validateLevel--,_}}});function o(f){this.local=this.regionalOptions[f]||this.regionalOptions[""]}o.prototype=new i,r(o.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var e=this._validate(v,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear),v=e.year()+(e.year()<0?1:0);return v%4===0&&(v%100!==0||v%400===0)},weekOfYear:function(f,e,v){var u=this.newDate(f,e,v);return u.add(4-(u.dayOfWeek()||7),"d"),Math.floor((u.dayOfYear()-1)/7)+1},daysInMonth:function(f,e){var v=this._validate(f,e,this.minDay,s.local.invalidMonth||s.regionalOptions[""].invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===2&&this.leapYear(v.year())?1:0)},weekDay:function(f,e,v){return(this.dayOfWeek(f,e,v)||7)<6},toJD:function(f,e,v){var u=this._validate(f,e,v,s.local.invalidDate||s.regionalOptions[""].invalidDate);f=u.year(),e=u.month(),v=u.day(),f<0&&f++,e<3&&(e+=12,f--);var h=Math.floor(f/100),_=2-h+Math.floor(h/4);return Math.floor(365.25*(f+4716))+Math.floor(30.6001*(e+1))+v+_-1524.5},fromJD:function(f){var e=Math.floor(f+.5),v=Math.floor((e-186721625e-2)/36524.25);v=e+1+v-Math.floor(v/4);var u=v+1524,h=Math.floor((u-122.1)/365.25),_=Math.floor(365.25*h),m=Math.floor((u-_)/30.6001),g=u-_-Math.floor(m*30.6001),y=m-(m>13.5?13:1),p=h-(y>2.5?4716:4715);return p<=0&&p--,this.newDate(p,y,g)},toJSDate:function(f,e,v){var u=this._validate(f,e,v,s.local.invalidDate||s.regionalOptions[""].invalidDate),h=new Date(u.year(),u.month()-1,u.day());return h.setHours(0),h.setMinutes(0),h.setSeconds(0),h.setMilliseconds(0),h.setHours(h.getHours()>12?h.getHours()+2:0),h},fromJSDate:function(f){return this.newDate(f.getFullYear(),f.getMonth()+1,f.getDate())}});var s=C.exports=new t;s.cdate=n,s.baseCalendar=i,s.calendars.gregorian=o}),Hd=Ct(()=>{var F=ba(),C=_a();F(C.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),C.local=C.regionalOptions[""],F(C.cdate.prototype,{formatDate:function(r,t){return typeof r!="string"&&(t=r,r=""),this._calendar.formatDate(r||"",this,t)}}),F(C.baseCalendar.prototype,{UNIX_EPOCH:C.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:1440*60,TICKS_EPOCH:C.instance().jdEpoch,TICKS_PER_DAY:1440*60*1e7,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(r,t,n){if(typeof r!="string"&&(n=t,t=r,r=""),!t)return"";if(t.calendar()!==this)throw C.local.invalidFormat||C.regionalOptions[""].invalidFormat;r=r||this.local.dateFormat,n=n||{};for(var l=n.dayNamesShort||this.local.dayNamesShort,i=n.dayNames||this.local.dayNames,o=n.monthNumbers||this.local.monthNumbers,s=n.monthNamesShort||this.local.monthNamesShort,f=n.monthNames||this.local.monthNames,e=n.calculateWeek||this.local.calculateWeek,v=function(w,k){for(var $=1;b+$<r.length&&r.charAt(b+$)===w;)$++;return b+=$-1,Math.floor($/(k||1))>1},u=function(w,k,$,P){var O=""+k;if(v(w,P))for(;O.length<$;)O="0"+O;return O},h=function(w,k,$,P){return v(w)?P[k]:$[k]},_=this,m=function(w){return typeof o=="function"?o.call(_,w,v("m")):p(u("m",w.month(),2))},g=function(w,k){return k?typeof f=="function"?f.call(_,w):f[w.month()-_.minMonth]:typeof s=="function"?s.call(_,w):s[w.month()-_.minMonth]},y=this.local.digits,p=function(w){return n.localNumbers&&y?y(w):w},c="",d=!1,b=0;b<r.length;b++)if(d)r.charAt(b)==="'"&&!v("'")?d=!1:c+=r.charAt(b);else switch(r.charAt(b)){case"d":c+=p(u("d",t.day(),2));break;case"D":c+=h("D",t.dayOfWeek(),l,i);break;case"o":c+=u("o",t.dayOfYear(),3);break;case"w":c+=u("w",t.weekOfYear(),2);break;case"m":c+=m(t);break;case"M":c+=g(t,v("M"));break;case"y":c+=v("y",2)?t.year():(t.year()%100<10?"0":"")+t.year()%100;break;case"Y":v("Y",2),c+=t.formatYear();break;case"J":c+=t.toJD();break;case"@":c+=(t.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":c+=(t.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":v("'")?c+="'":d=!0;break;default:c+=r.charAt(b)}return c},parseDate:function(r,t,n){if(t==null)throw C.local.invalidArguments||C.regionalOptions[""].invalidArguments;if(t=typeof t=="object"?t.toString():t+"",t==="")return null;r=r||this.local.dateFormat,n=n||{};var l=n.shortYearCutoff||this.shortYearCutoff;l=typeof l!="string"?l:this.today().year()%100+parseInt(l,10);for(var i=n.dayNamesShort||this.local.dayNamesShort,o=n.dayNames||this.local.dayNames,s=n.parseMonth||this.local.parseMonth,f=n.monthNumbers||this.local.monthNumbers,e=n.monthNamesShort||this.local.monthNamesShort,v=n.monthNames||this.local.monthNames,u=-1,h=-1,_=-1,m=-1,g=-1,y=!1,p=!1,c=function(E,z){for(var j=1;T+j<r.length&&r.charAt(T+j)===E;)j++;return T+=j-1,Math.floor(j/(z||1))>1},d=function(E,z){var j=c(E,z),U=[2,3,j?4:2,j?4:2,10,11,20]["oyYJ@!".indexOf(E)+1],Z=new RegExp("^-?\\d{1,"+U+"}"),D=t.substring(O).match(Z);if(!D)throw(C.local.missingNumberAt||C.regionalOptions[""].missingNumberAt).replace(/\{0\}/,O);return O+=D[0].length,parseInt(D[0],10)},b=this,w=function(){if(typeof f=="function"){c("m");var E=f.call(b,t.substring(O));return O+=E.length,E}return d("m")},k=function(E,z,j,U){for(var Z=c(E,U)?j:z,D=0;D<Z.length;D++)if(t.substr(O,Z[D].length).toLowerCase()===Z[D].toLowerCase())return O+=Z[D].length,D+b.minMonth;throw(C.local.unknownNameAt||C.regionalOptions[""].unknownNameAt).replace(/\{0\}/,O)},$=function(){if(typeof v=="function"){var E=c("M")?v.call(b,t.substring(O)):e.call(b,t.substring(O));return O+=E.length,E}return k("M",e,v)},P=function(){if(t.charAt(O)!==r.charAt(T))throw(C.local.unexpectedLiteralAt||C.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,O);O++},O=0,T=0;T<r.length;T++)if(p)r.charAt(T)==="'"&&!c("'")?p=!1:P();else switch(r.charAt(T)){case"d":m=d("d");break;case"D":k("D",i,o);break;case"o":g=d("o");break;case"w":d("w");break;case"m":_=w();break;case"M":_=$();break;case"y":var G=T;y=!c("y",2),T=G,h=d("y",2);break;case"Y":h=d("Y",2);break;case"J":u=d("J")+.5,t.charAt(O)==="."&&(O++,d("J"));break;case"@":u=d("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":u=d("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":O=t.length;break;case"'":c("'")?P():p=!0;break;default:P()}if(O<t.length)throw C.local.unexpectedText||C.regionalOptions[""].unexpectedText;if(h===-1?h=this.today().year():h<100&&y&&(h+=l===-1?1900:this.today().year()-this.today().year()%100-(h<=l?0:100)),typeof _=="string"&&(_=s.call(this,h,_)),g>-1){_=1,m=g;for(var I=this.daysInMonth(h,_);m>I;I=this.daysInMonth(h,_))_++,m-=I}return u>-1?this.fromJD(u):this.newDate(h,_,m)},determineDate:function(r,t,n,l,i){n&&typeof n!="object"&&(i=l,l=n,n=null),typeof l!="string"&&(i=l,l="");var o=this,s=function(f){try{return o.parseDate(l,f,i)}catch{}f=f.toLowerCase();for(var e=(f.match(/^c/)&&n?n.newDate():null)||o.today(),v=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,u=v.exec(f);u;)e.add(parseInt(u[1],10),u[2]||"d"),u=v.exec(f);return e};return t=t?t.newDate():null,r=r==null?t:typeof r=="string"?s(r):typeof r=="number"?isNaN(r)||r===1/0||r===-1/0?t:o.today().add(r,"d"):o.newDate(r),r}})}),Bd=Ct(()=>{var F=_a(),C=ba(),r=F.instance();function t(u){this.local=this.regionalOptions[u||""]||this.regionalOptions[""]}t.prototype=new F.baseCalendar,C(t.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(u,h){if(typeof u=="string"){var _=u.match(l);return _?_[0]:""}var m=this._validateYear(u),g=u.month(),y=""+this.toChineseMonth(m,g);return h&&y.length<2&&(y="0"+y),this.isIntercalaryMonth(m,g)&&(y+="i"),y},monthNames:function(u){if(typeof u=="string"){var h=u.match(i);return h?h[0]:""}var _=this._validateYear(u),m=u.month(),g=this.toChineseMonth(_,m),y=["","","","","","","","","","","",""][g-1];return this.isIntercalaryMonth(_,m)&&(y=""+y),y},monthNamesShort:function(u){if(typeof u=="string"){var h=u.match(o);return h?h[0]:""}var _=this._validateYear(u),m=u.month(),g=this.toChineseMonth(_,m),y=["","","","","","","","","","","",""][g-1];return this.isIntercalaryMonth(_,m)&&(y=""+y),y},parseMonth:function(u,h){u=this._validateYear(u);var _=parseInt(h),m;if(isNaN(_))h[0]===""&&(m=!0,h=h.substring(1)),h[h.length-1]===""&&(h=h.substring(0,h.length-1)),_=1+["","","","","","","","","","","",""].indexOf(h);else{var g=h[h.length-1];m=g==="i"||g==="I"}var y=this.toMonthIndex(u,_,m);return y},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(u,h){if(u.year&&(u=u.year()),typeof u!="number"||u<1888||u>2111)throw h.replace(/\{0\}/,this.local.name);return u},toMonthIndex:function(u,h,_){var m=this.intercalaryMonth(u),g=_&&h!==m;if(g||h<1||h>12)throw F.local.invalidMonth.replace(/\{0\}/,this.local.name);var y;return m?!_&&h<=m?y=h-1:y=h:y=h-1,y},toChineseMonth:function(u,h){u.year&&(u=u.year(),h=u.month());var _=this.intercalaryMonth(u),m=_?12:11;if(h<0||h>m)throw F.local.invalidMonth.replace(/\{0\}/,this.local.name);var g;return _?h<_?g=h+1:g=h:g=h+1,g},intercalaryMonth:function(u){u=this._validateYear(u);var h=s[u-s[0]],_=h>>13;return _},isIntercalaryMonth:function(u,h){u.year&&(u=u.year(),h=u.month());var _=this.intercalaryMonth(u);return!!_&&_===h},leapYear:function(u){return this.intercalaryMonth(u)!==0},weekOfYear:function(u,h,_){var m=this._validateYear(u,F.local.invalidyear),g=f[m-f[0]],y=g>>9&4095,p=g>>5&15,c=g&31,d;d=r.newDate(y,p,c),d.add(4-(d.dayOfWeek()||7),"d");var b=this.toJD(u,h,_)-d.toJD();return 1+Math.floor(b/7)},monthsInYear:function(u){return this.leapYear(u)?13:12},daysInMonth:function(u,h){u.year&&(h=u.month(),u=u.year()),u=this._validateYear(u);var _=s[u-s[0]],m=_>>13,g=m?12:11;if(h>g)throw F.local.invalidMonth.replace(/\{0\}/,this.local.name);var y=_&1<<12-h?30:29;return y},weekDay:function(u,h,_){return(this.dayOfWeek(u,h,_)||7)<6},toJD:function(u,h,_){var m=this._validate(u,y,_,F.local.invalidDate);u=this._validateYear(m.year()),h=m.month(),_=m.day();var g=this.isIntercalaryMonth(u,h),y=this.toChineseMonth(u,h),p=v(u,y,_,g);return r.toJD(p.year,p.month,p.day)},fromJD:function(u){var h=r.fromJD(u),_=e(h.year(),h.month(),h.day()),m=this.toMonthIndex(_.year,_.month,_.isIntercalary);return this.newDate(_.year,m,_.day)},fromString:function(u){var h=u.match(n),_=this._validateYear(+h[1]),m=+h[2],g=!!h[3],y=this.toMonthIndex(_,m,g),p=+h[4];return this.newDate(_,y,p)},add:function(u,h,_){var m=u.year(),g=u.month(),y=this.isIntercalaryMonth(m,g),p=this.toChineseMonth(m,g),c=Object.getPrototypeOf(t.prototype).add.call(this,u,h,_);if(_==="y"){var d=c.year(),b=c.month(),w=this.isIntercalaryMonth(d,p),k=y&&w?this.toMonthIndex(d,p,!0):this.toMonthIndex(d,p,!1);k!==b&&c.month(k)}return c}});var n=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,l=/^\d?\d[iI]?/m,i=/^??[]?/m,o=/^??[]?/m;F.calendars.chinese=t;var s=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],f=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function e(u,h,_,m){var g,y;if(typeof u=="object")g=u,y=h||{};else{var p=typeof u=="number"&&u>=1888&&u<=2111;if(!p)throw new Error("Solar year outside range 1888-2111");var c=typeof h=="number"&&h>=1&&h<=12;if(!c)throw new Error("Solar month outside range 1 - 12");var d=typeof _=="number"&&_>=1&&_<=31;if(!d)throw new Error("Solar day outside range 1 - 31");g={year:u,month:h,day:_},y={}}var b=f[g.year-f[0]],w=g.year<<9|g.month<<5|g.day;y.year=w>=b?g.year:g.year-1,b=f[y.year-f[0]];var k=b>>9&4095,$=b>>5&15,P=b&31,O,T=new Date(k,$-1,P),G=new Date(g.year,g.month-1,g.day);O=Math.round((G-T)/(24*3600*1e3));var I=s[y.year-s[0]],E;for(E=0;E<13;E++){var z=I&1<<12-E?30:29;if(O<z)break;O-=z}var j=I>>13;return!j||E<j?(y.isIntercalary=!1,y.month=1+E):E===j?(y.isIntercalary=!0,y.month=E):(y.isIntercalary=!1,y.month=E),y.day=1+O,y}function v(u,h,_,m,g){var y,p;if(typeof u=="object")p=u,y=h||{};else{var c=typeof u=="number"&&u>=1888&&u<=2111;if(!c)throw new Error("Lunar year outside range 1888-2111");var d=typeof h=="number"&&h>=1&&h<=12;if(!d)throw new Error("Lunar month outside range 1 - 12");var b=typeof _=="number"&&_>=1&&_<=30;if(!b)throw new Error("Lunar day outside range 1 - 30");var w;typeof m=="object"?(w=!1,y=m):(w=!!m,y={}),p={year:u,month:h,day:_,isIntercalary:w}}var k;k=p.day-1;var $=s[p.year-s[0]],P=$>>13,O;P&&(p.month>P||p.isIntercalary)?O=p.month:O=p.month-1;for(var T=0;T<O;T++){var G=$&1<<12-T?30:29;k+=G}var I=f[p.year-f[0]],E=I>>9&4095,z=I>>5&15,j=I&31,U=new Date(E,z-1,j+k);return y.year=U.getFullYear(),y.month=1+U.getMonth(),y.day=U.getDate(),y}}),Vd=Ct(()=>{var F=_a(),C=ba();function r(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}r.prototype=new F.baseCalendar,C(r.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(l){var n=this._validate(l,this.minMonth,this.minDay,F.local.invalidYear),l=n.year()+(n.year()<0?1:0);return l%4===3||l%4===-1},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,F.local.invalidYear||F.regionalOptions[""].invalidYear),13},weekOfYear:function(t,n,l){var i=this.newDate(t,n,l);return i.add(-i.dayOfWeek(),"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInMonth:function(t,n){var l=this._validate(t,n,this.minDay,F.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(l.month()===13&&this.leapYear(l.year())?1:0)},weekDay:function(t,n,l){return(this.dayOfWeek(t,n,l)||7)<6},toJD:function(t,n,l){var i=this._validate(t,n,l,F.local.invalidDate);return t=i.year(),t<0&&t++,i.day()+(i.month()-1)*30+(t-1)*365+Math.floor(t/4)+this.jdEpoch-1},fromJD:function(t){var n=Math.floor(t)+.5-this.jdEpoch,l=Math.floor((n-Math.floor((n+366)/1461))/365)+1;l<=0&&l--,n=Math.floor(t)+.5-this.newDate(l,1,1).toJD();var i=Math.floor(n/30)+1,o=n-(i-1)*30+1;return this.newDate(l,i,o)}}),F.calendars.coptic=r}),Yd=Ct(()=>{var F=_a(),C=ba();function r(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}r.prototype=new F.baseCalendar,C(r.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(n){return this._validate(n,this.minMonth,this.minDay,F.local.invalidYear),!1},monthsInYear:function(n){return this._validate(n,this.minMonth,this.minDay,F.local.invalidYear),13},daysInYear:function(n){return this._validate(n,this.minMonth,this.minDay,F.local.invalidYear),400},weekOfYear:function(n,l,i){var o=this.newDate(n,l,i);return o.add(-o.dayOfWeek(),"d"),Math.floor((o.dayOfYear()-1)/8)+1},daysInMonth:function(n,l){var i=this._validate(n,l,this.minDay,F.local.invalidMonth);return this.daysPerMonth[i.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(n,l,i){var o=this._validate(n,l,i,F.local.invalidDate);return(o.day()+1)%8},weekDay:function(n,l,i){var o=this.dayOfWeek(n,l,i);return o>=2&&o<=6},extraInfo:function(n,l,i){var o=this._validate(n,l,i,F.local.invalidDate);return{century:t[Math.floor((o.year()-1)/100)+1]||""}},toJD:function(n,l,i){var o=this._validate(n,l,i,F.local.invalidDate);return n=o.year()+(o.year()<0?1:0),l=o.month(),i=o.day(),i+(l>1?16:0)+(l>2?(l-2)*32:0)+(n-1)*400+this.jdEpoch-1},fromJD:function(n){n=Math.floor(n+.5)-Math.floor(this.jdEpoch)-1;var l=Math.floor(n/400)+1;n-=(l-1)*400,n+=n>15?16:0;var i=Math.floor(n/32)+1,o=n-(i-1)*32+1;return this.newDate(l<=0?l-1:l,i,o)}});var t={20:"Fruitbat",21:"Anchovy"};F.calendars.discworld=r}),Ud=Ct(()=>{var F=_a(),C=ba();function r(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}r.prototype=new F.baseCalendar,C(r.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(l){var n=this._validate(l,this.minMonth,this.minDay,F.local.invalidYear),l=n.year()+(n.year()<0?1:0);return l%4===3||l%4===-1},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,F.local.invalidYear||F.regionalOptions[""].invalidYear),13},weekOfYear:function(t,n,l){var i=this.newDate(t,n,l);return i.add(-i.dayOfWeek(),"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInMonth:function(t,n){var l=this._validate(t,n,this.minDay,F.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(l.month()===13&&this.leapYear(l.year())?1:0)},weekDay:function(t,n,l){return(this.dayOfWeek(t,n,l)||7)<6},toJD:function(t,n,l){var i=this._validate(t,n,l,F.local.invalidDate);return t=i.year(),t<0&&t++,i.day()+(i.month()-1)*30+(t-1)*365+Math.floor(t/4)+this.jdEpoch-1},fromJD:function(t){var n=Math.floor(t)+.5-this.jdEpoch,l=Math.floor((n-Math.floor((n+366)/1461))/365)+1;l<=0&&l--,n=Math.floor(t)+.5-this.newDate(l,1,1).toJD();var i=Math.floor(n/30)+1,o=n-(i-1)*30+1;return this.newDate(l,i,o)}}),F.calendars.ethiopian=r}),Zd=Ct(()=>{var F=_a(),C=ba();function r(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}r.prototype=new F.baseCalendar,C(r.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(n){var l=this._validate(n,this.minMonth,this.minDay,F.local.invalidYear);return this._leapYear(l.year())},_leapYear:function(n){return n=n<0?n+1:n,t(n*7+1,19)<7},monthsInYear:function(n){return this._validate(n,this.minMonth,this.minDay,F.local.invalidYear),this._leapYear(n.year?n.year():n)?13:12},weekOfYear:function(n,l,i){var o=this.newDate(n,l,i);return o.add(-o.dayOfWeek(),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInYear:function(n){var l=this._validate(n,this.minMonth,this.minDay,F.local.invalidYear);return n=l.year(),this.toJD(n===-1?1:n+1,7,1)-this.toJD(n,7,1)},daysInMonth:function(n,l){return n.year&&(l=n.month(),n=n.year()),this._validate(n,l,this.minDay,F.local.invalidMonth),l===12&&this.leapYear(n)||l===8&&t(this.daysInYear(n),10)===5?30:l===9&&t(this.daysInYear(n),10)===3?29:this.daysPerMonth[l-1]},weekDay:function(n,l,i){return this.dayOfWeek(n,l,i)!==6},extraInfo:function(n,l,i){var o=this._validate(n,l,i,F.local.invalidDate);return{yearType:(this.leapYear(o)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(o)%10-3]}},toJD:function(n,l,i){var o=this._validate(n,l,i,F.local.invalidDate);n=o.year(),l=o.month(),i=o.day();var s=n<=0?n+1:n,f=this.jdEpoch+this._delay1(s)+this._delay2(s)+i+1;if(l<7){for(var e=7;e<=this.monthsInYear(n);e++)f+=this.daysInMonth(n,e);for(var e=1;e<l;e++)f+=this.daysInMonth(n,e)}else for(var e=7;e<l;e++)f+=this.daysInMonth(n,e);return f},_delay1:function(n){var l=Math.floor((235*n-234)/19),i=12084+13753*l,o=l*29+Math.floor(i/25920);return t(3*(o+1),7)<3&&o++,o},_delay2:function(n){var l=this._delay1(n-1),i=this._delay1(n),o=this._delay1(n+1);return o-i===356?2:i-l===382?1:0},fromJD:function(n){n=Math.floor(n)+.5;for(var l=Math.floor((n-this.jdEpoch)*98496/35975351)-1;n>=this.toJD(l===-1?1:l+1,7,1);)l++;for(var i=n<this.toJD(l,1,1)?7:1;n>this.toJD(l,i,this.daysInMonth(l,i));)i++;var o=n-this.toJD(l,i,1)+1;return this.newDate(l,i,o)}});function t(n,l){return n-l*Math.floor(n/l)}F.calendars.hebrew=r}),Gd=Ct(()=>{var F=_a(),C=ba();function r(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}r.prototype=new F.baseCalendar,C(r.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khams","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(t){var n=this._validate(t,this.minMonth,this.minDay,F.local.invalidYear);return(n.year()*11+14)%30<11},weekOfYear:function(t,n,l){var i=this.newDate(t,n,l);return i.add(-i.dayOfWeek(),"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInYear:function(t){return this.leapYear(t)?355:354},daysInMonth:function(t,n){var l=this._validate(t,n,this.minDay,F.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(l.month()===12&&this.leapYear(l.year())?1:0)},weekDay:function(t,n,l){return this.dayOfWeek(t,n,l)!==5},toJD:function(t,n,l){var i=this._validate(t,n,l,F.local.invalidDate);return t=i.year(),n=i.month(),l=i.day(),t=t<=0?t+1:t,l+Math.ceil(29.5*(n-1))+(t-1)*354+Math.floor((3+11*t)/30)+this.jdEpoch-1},fromJD:function(t){t=Math.floor(t)+.5;var n=Math.floor((30*(t-this.jdEpoch)+10646)/10631);n=n<=0?n-1:n;var l=Math.min(12,Math.ceil((t-29-this.toJD(n,1,1))/29.5)+1),i=t-this.toJD(n,l,1)+1;return this.newDate(n,l,i)}}),F.calendars.islamic=r}),Wd=Ct(()=>{var F=_a(),C=ba();function r(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}r.prototype=new F.baseCalendar,C(r.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(l){var n=this._validate(l,this.minMonth,this.minDay,F.local.invalidYear),l=n.year()<0?n.year()+1:n.year();return l%4===0},weekOfYear:function(t,n,l){var i=this.newDate(t,n,l);return i.add(4-(i.dayOfWeek()||7),"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInMonth:function(t,n){var l=this._validate(t,n,this.minDay,F.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(l.month()===2&&this.leapYear(l.year())?1:0)},weekDay:function(t,n,l){return(this.dayOfWeek(t,n,l)||7)<6},toJD:function(t,n,l){var i=this._validate(t,n,l,F.local.invalidDate);return t=i.year(),n=i.month(),l=i.day(),t<0&&t++,n<=2&&(t--,n+=12),Math.floor(365.25*(t+4716))+Math.floor(30.6001*(n+1))+l-1524.5},fromJD:function(t){var n=Math.floor(t+.5),l=n+1524,i=Math.floor((l-122.1)/365.25),o=Math.floor(365.25*i),s=Math.floor((l-o)/30.6001),f=s-Math.floor(s<14?1:13),e=i-Math.floor(f>2?4716:4715),v=l-o-Math.floor(30.6001*s);return e<=0&&e--,this.newDate(e,f,v)}}),F.calendars.julian=r}),Jd=Ct(()=>{var F=_a(),C=ba();function r(l){this.local=this.regionalOptions[l||""]||this.regionalOptions[""]}r.prototype=new F.baseCalendar,C(r.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(l){return this._validate(l,this.minMonth,this.minDay,F.local.invalidYear),!1},formatYear:function(l){var i=this._validate(l,this.minMonth,this.minDay,F.local.invalidYear);l=i.year();var o=Math.floor(l/400);l=l%400,l+=l<0?400:0;var s=Math.floor(l/20);return o+"."+s+"."+l%20},forYear:function(l){if(l=l.split("."),l.length<3)throw"Invalid Mayan year";for(var i=0,o=0;o<l.length;o++){var s=parseInt(l[o],10);if(Math.abs(s)>19||o>0&&s<0)throw"Invalid Mayan year";i=i*20+s}return i},monthsInYear:function(l){return this._validate(l,this.minMonth,this.minDay,F.local.invalidYear),18},weekOfYear:function(l,i,o){return this._validate(l,i,o,F.local.invalidDate),0},daysInYear:function(l){return this._validate(l,this.minMonth,this.minDay,F.local.invalidYear),360},daysInMonth:function(l,i){return this._validate(l,i,this.minDay,F.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(l,i,o){var s=this._validate(l,i,o,F.local.invalidDate);return s.day()},weekDay:function(l,i,o){return this._validate(l,i,o,F.local.invalidDate),!0},extraInfo:function(l,i,o){var s=this._validate(l,i,o,F.local.invalidDate),f=s.toJD(),e=this._toHaab(f),v=this._toTzolkin(f);return{haabMonthName:this.local.haabMonths[e[0]-1],haabMonth:e[0],haabDay:e[1],tzolkinDayName:this.local.tzolkinMonths[v[0]-1],tzolkinDay:v[0],tzolkinTrecena:v[1]}},_toHaab:function(l){l-=this.jdEpoch;var i=t(l+8+340,365);return[Math.floor(i/20)+1,t(i,20)]},_toTzolkin:function(l){return l-=this.jdEpoch,[n(l+20,20),n(l+4,13)]},toJD:function(l,i,o){var s=this._validate(l,i,o,F.local.invalidDate);return s.day()+s.month()*20+s.year()*360+this.jdEpoch},fromJD:function(l){l=Math.floor(l)+.5-this.jdEpoch;var i=Math.floor(l/360);l=l%360,l+=l<0?360:0;var o=Math.floor(l/20),s=l%20;return this.newDate(i,o,s)}});function t(l,i){return l-i*Math.floor(l/i)}function n(l,i){return t(l-1,i)+1}F.calendars.mayan=r}),Xd=Ct(()=>{var F=_a(),C=ba();function r(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}r.prototype=new F.baseCalendar;var t=F.instance("gregorian");C(r.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(n){var l=this._validate(n,this.minMonth,this.minDay,F.local.invalidYear||F.regionalOptions[""].invalidYear);return t.leapYear(l.year()+(l.year()<1?1:0)+1469)},weekOfYear:function(n,l,i){var o=this.newDate(n,l,i);return o.add(1-(o.dayOfWeek()||7),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInMonth:function(n,l){var i=this._validate(n,l,this.minDay,F.local.invalidMonth);return this.daysPerMonth[i.month()-1]+(i.month()===12&&this.leapYear(i.year())?1:0)},weekDay:function(n,l,i){return(this.dayOfWeek(n,l,i)||7)<6},toJD:function(s,l,i){var o=this._validate(s,l,i,F.local.invalidMonth),s=o.year();s<0&&s++;for(var f=o.day(),e=1;e<o.month();e++)f+=this.daysPerMonth[e-1];return f+t.toJD(s+1468,3,13)},fromJD:function(n){n=Math.floor(n+.5);for(var l=Math.floor((n-(this.jdEpoch-1))/366);n>=this.toJD(l+1,1,1);)l++;for(var i=n-Math.floor(this.toJD(l,1,1)+.5)+1,o=1;i>this.daysInMonth(l,o);)i-=this.daysInMonth(l,o),o++;return this.newDate(l,o,i)}}),F.calendars.nanakshahi=r}),qd=Ct(()=>{var F=_a(),C=ba();function r(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}r.prototype=new F.baseCalendar,C(r.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(t){return this.daysInYear(t)!==this.daysPerYear},weekOfYear:function(t,n,l){var i=this.newDate(t,n,l);return i.add(-i.dayOfWeek(),"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInYear:function(t){var n=this._validate(t,this.minMonth,this.minDay,F.local.invalidYear);if(t=n.year(),typeof this.NEPALI_CALENDAR_DATA[t]>"u")return this.daysPerYear;for(var l=0,i=this.minMonth;i<=12;i++)l+=this.NEPALI_CALENDAR_DATA[t][i];return l},daysInMonth:function(t,n){return t.year&&(n=t.month(),t=t.year()),this._validate(t,n,this.minDay,F.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[t]>"u"?this.daysPerMonth[n-1]:this.NEPALI_CALENDAR_DATA[t][n]},weekDay:function(t,n,l){return this.dayOfWeek(t,n,l)!==6},toJD:function(t,n,l){var i=this._validate(t,n,l,F.local.invalidDate);t=i.year(),n=i.month(),l=i.day();var o=F.instance(),s=0,f=n,e=t;this._createMissingCalendarData(t);var v=t-(f>9||f===9&&l>=this.NEPALI_CALENDAR_DATA[e][0]?56:57);for(n!==9&&(s=l,f--);f!==9;)f<=0&&(f=12,e--),s+=this.NEPALI_CALENDAR_DATA[e][f],f--;return n===9?(s+=l-this.NEPALI_CALENDAR_DATA[e][0],s<0&&(s+=o.daysInYear(v))):s+=this.NEPALI_CALENDAR_DATA[e][9]-this.NEPALI_CALENDAR_DATA[e][0],o.newDate(v,1,1).add(s,"d").toJD()},fromJD:function(t){var n=F.instance(),l=n.fromJD(t),i=l.year(),o=l.dayOfYear(),s=i+56;this._createMissingCalendarData(s);for(var f=9,e=this.NEPALI_CALENDAR_DATA[s][0],v=this.NEPALI_CALENDAR_DATA[s][f]-e+1;o>v;)f++,f>12&&(f=1,s++),v+=this.NEPALI_CALENDAR_DATA[s][f];var u=this.NEPALI_CALENDAR_DATA[s][f]-(v-o);return this.newDate(s,f,u)},_createMissingCalendarData:function(t){var n=this.daysPerMonth.slice(0);n.unshift(17);for(var l=t-1;l<t+2;l++)typeof this.NEPALI_CALENDAR_DATA[l]>"u"&&(this.NEPALI_CALENDAR_DATA[l]=n)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),F.calendars.nepali=r}),$d=Ct(()=>{var F=_a(),C=ba();function r(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}function t(n){var l=n-475;n<0&&l++;var i=.242197,o=i*l,s=i*(l+1),f=o-Math.floor(o),e=s-Math.floor(s);return f>e}r.prototype=new F.baseCalendar,C(r.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Dey","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Dey","Bah","Esf"],dayNames:["Yekshanbeh","Doshanbeh","Seshanbeh","Chahrshanbeh","Panjshanbeh","Jom'eh","Shanbeh"],dayNamesShort:["Yek","Do","Se","Cha","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(n){var l=this._validate(n,this.minMonth,this.minDay,F.local.invalidYear);return t(l.year())},weekOfYear:function(n,l,i){var o=this.newDate(n,l,i);return o.add(-((o.dayOfWeek()+1)%7),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInMonth:function(n,l){var i=this._validate(n,l,this.minDay,F.local.invalidMonth);return this.daysPerMonth[i.month()-1]+(i.month()===12&&this.leapYear(i.year())?1:0)},weekDay:function(n,l,i){return this.dayOfWeek(n,l,i)!==5},toJD:function(n,l,i){var o=this._validate(n,l,i,F.local.invalidDate);n=o.year(),l=o.month(),i=o.day();var s=0;if(n>0)for(var f=1;f<n;f++)t(f)&&s++;else if(n<0)for(var f=n;f<0;f++)t(f)&&s--;return i+(l<=7?(l-1)*31:(l-1)*30+6)+(n>0?n-1:n)*365+s+this.jdEpoch-1},fromJD:function(n){n=Math.floor(n)+.5;var l=475+(n-this.toJD(475,1,1))/365.242197,i=Math.floor(l);i<=0&&i--,n>this.toJD(i,12,t(i)?30:29)&&(i++,i===0&&i++);var o=n-this.toJD(i,1,1)+1,s=o<=186?Math.ceil(o/31):Math.ceil((o-6)/30),f=n-this.toJD(i,s,1)+1;return this.newDate(i,s,f)}}),F.calendars.persian=r,F.calendars.jalali=r}),Qd=Ct(()=>{var F=_a(),C=ba(),r=F.instance();function t(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}t.prototype=new F.baseCalendar,C(t.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(i){var l=this._validate(i,this.minMonth,this.minDay,F.local.invalidYear),i=this._t2gYear(l.year());return r.leapYear(i)},weekOfYear:function(s,l,i){var o=this._validate(s,this.minMonth,this.minDay,F.local.invalidYear),s=this._t2gYear(o.year());return r.weekOfYear(s,o.month(),o.day())},daysInMonth:function(n,l){var i=this._validate(n,l,this.minDay,F.local.invalidMonth);return this.daysPerMonth[i.month()-1]+(i.month()===2&&this.leapYear(i.year())?1:0)},weekDay:function(n,l,i){return(this.dayOfWeek(n,l,i)||7)<6},toJD:function(s,l,i){var o=this._validate(s,l,i,F.local.invalidDate),s=this._t2gYear(o.year());return r.toJD(s,o.month(),o.day())},fromJD:function(n){var l=r.fromJD(n),i=this._g2tYear(l.year());return this.newDate(i,l.month(),l.day())},_t2gYear:function(n){return n+this.yearsOffset+(n>=-this.yearsOffset&&n<=-1?1:0)},_g2tYear:function(n){return n-this.yearsOffset-(n>=1&&n<=this.yearsOffset?1:0)}}),F.calendars.taiwan=t}),Kd=Ct(()=>{var F=_a(),C=ba(),r=F.instance();function t(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}t.prototype=new F.baseCalendar,C(t.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(i){var l=this._validate(i,this.minMonth,this.minDay,F.local.invalidYear),i=this._t2gYear(l.year());return r.leapYear(i)},weekOfYear:function(s,l,i){var o=this._validate(s,this.minMonth,this.minDay,F.local.invalidYear),s=this._t2gYear(o.year());return r.weekOfYear(s,o.month(),o.day())},daysInMonth:function(n,l){var i=this._validate(n,l,this.minDay,F.local.invalidMonth);return this.daysPerMonth[i.month()-1]+(i.month()===2&&this.leapYear(i.year())?1:0)},weekDay:function(n,l,i){return(this.dayOfWeek(n,l,i)||7)<6},toJD:function(s,l,i){var o=this._validate(s,l,i,F.local.invalidDate),s=this._t2gYear(o.year());return r.toJD(s,o.month(),o.day())},fromJD:function(n){var l=r.fromJD(n),i=this._g2tYear(l.year());return this.newDate(i,l.month(),l.day())},_t2gYear:function(n){return n-this.yearsOffset-(n>=1&&n<=this.yearsOffset?1:0)},_g2tYear:function(n){return n+this.yearsOffset+(n>=-this.yearsOffset&&n<=-1?1:0)}}),F.calendars.thai=t}),th=Ct(()=>{var F=_a(),C=ba();function r(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}r.prototype=new F.baseCalendar,C(r.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalth","Yawm al-Arba","Yawm al-Khams","Yawm al-Juma","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(n){var l=this._validate(n,this.minMonth,this.minDay,F.local.invalidYear);return this.daysInYear(l.year())===355},weekOfYear:function(n,l,i){var o=this.newDate(n,l,i);return o.add(-o.dayOfWeek(),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInYear:function(n){for(var l=0,i=1;i<=12;i++)l+=this.daysInMonth(n,i);return l},daysInMonth:function(n,l){for(var i=this._validate(n,l,this.minDay,F.local.invalidMonth),o=i.toJD()-24e5+.5,s=0,f=0;f<t.length;f++){if(t[f]>o)return t[s]-t[s-1];s++}return 30},weekDay:function(n,l,i){return this.dayOfWeek(n,l,i)!==5},toJD:function(n,l,i){var o=this._validate(n,l,i,F.local.invalidDate),s=12*(o.year()-1)+o.month()-15292,f=o.day()+t[s-1]-1;return f+24e5-.5},fromJD:function(n){for(var l=n-24e5+.5,i=0,o=0;o<t.length&&!(t[o]>l);o++)i++;var s=i+15292,f=Math.floor((s-1)/12),e=f+1,v=s-12*f,u=l-t[i-1]+1;return this.newDate(e,v,u)},isValid:function(n,l,i){var o=F.baseCalendar.prototype.isValid.apply(this,arguments);return o&&(n=n.year!=null?n.year:n,o=n>=1276&&n<=1500),o},_validate:function(n,l,i,o){var s=F.baseCalendar.prototype._validate.apply(this,arguments);if(s.year<1276||s.year>1500)throw o.replace(/\{0\}/,this.local.name);return s}}),F.calendars.ummalqura=r;var t=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]}),eh=Ct((F,C)=>{C.exports=_a(),Hd(),Bd(),Vd(),Yd(),Ud(),Zd(),Gd(),Wd(),Jd(),Xd(),qd(),$d(),Qd(),Kd(),th()}),nh=Ct((F,C)=>{var r=eh(),t=De(),n=oa(),l=n.EPOCHJD,i=n.ONEDAY,o={valType:"enumerated",values:t.sortObjectKeys(r.calendars),editType:"calc",dflt:"gregorian"},s=function($,P,O,T){var G={};return G[O]=o,t.coerce($,P,G,O,T)},f=function($,P,O,T){for(var G=0;G<O.length;G++)s($,P,O[G]+"calendar",T.calendar)},e={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},v={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},u={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},h="##",_={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:h,w:h,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function m($,P,O){for(var T=Math.floor((P+.05)/i)+l,G=y(O).fromJD(T),I=0,E,z,j,U,Z;(I=$.indexOf("%",I))!==-1;)E=$.charAt(I+1),E==="0"||E==="-"||E==="_"?(j=3,z=$.charAt(I+2),E==="_"&&(E="-")):(z=E,E="0",j=2),U=_[z],U?(U===h?Z=h:Z=G.formatDate(U[E]),$=$.substr(0,I)+Z+$.substr(I+j),I+=Z.length):I+=j;return $}var g={};function y($){var P=g[$];return P||(P=g[$]=r.instance($),P)}function p($){return t.extendFlat({},o,{description:$})}function c($){return"Sets the calendar system to use with `"+$+"` date data."}var d={xcalendar:p(c("x"))},b=t.extendFlat({},d,{ycalendar:p(c("y"))}),w=t.extendFlat({},b,{zcalendar:p(c("z"))}),k=p(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));C.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:b,bar:b,box:b,heatmap:b,contour:b,histogram:b,histogram2d:b,histogram2dcontour:b,scatter3d:w,surface:w,mesh3d:w,scattergl:b,ohlc:d,candlestick:d},layout:{calendar:p(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:k},yaxis:{calendar:k},scene:{xaxis:{calendar:k},yaxis:{calendar:k},zaxis:{calendar:k}},polar:{radialaxis:{calendar:k}}}},layoutAttributes:o,handleDefaults:s,handleTraceDefaults:f,CANONICAL_SUNDAY:v,CANONICAL_TICK:e,DFLTRANGE:u,getCal:y,worldCalFmt:m}}),ah=Ct((F,C)=>{C.exports=nh()}),rh=Ct((F,C)=>{var r=wd();r.register([Cd(),jd(),ah()]),C.exports=r});return rh()})();/*! Bundled license information:

	native-promise-only/lib/npo.src.js:
	  (*! Native Promise Only
	      v0.8.1 (c) Kyle Simpson
	      MIT License: http://getify.mit-license.org
	  *)

	polybooljs/index.js:
	  (*
	   * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
	   * @license MIT
	   * @preserve Project Home: https://github.com/voidqk/polybooljs
	   *)

	object-assign/index.js:
	  (*
	  object-assign
	  (c) Sindre Sorhus
	  @license MIT
	  *)
	*/return window.Plotly=lr,lr})})(iu);var ou=iu.exports;const Zp=Vp(ou),Wp=Up({__proto__:null,default:Zp},[ou]);export{Wp as p};
