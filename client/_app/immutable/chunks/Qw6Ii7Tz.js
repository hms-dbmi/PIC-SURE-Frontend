import{d as p,w as c,g as a}from"./xU7jw7XU.js";import{d as y,e as m,G as _}from"./Bji3XOvx.js";import{e as v,f,j as g,c as h,k as q}from"./M2p3ZkHt.js";import{a as S,u as F}from"./C55AtZ90.js";const G=[{key:"High Severity",children:["splice_acceptor_variant","splice_donor_variant","stop_gained","frameshift_variant","stop_lost","start_lost"]},{key:"Medium Severity",children:["inframe_insertion","inframe_deletion","missense_variant","protein_altering_variant"]},{key:"Low Severity",children:["splice_region_variant","splice_donor_5th_base_variant","splice_donor_region_variant","splice_polypyrimidine_tract_variant","incomplete_terminal_codon_variant","start_retained_variant","stop_retained_variant","synonymous_variant"]}],P=G.map(e=>e.key),u=c([]),l=c([]),i=c([]),k=p(i,e=>e.filter(s=>!P.includes(s)));function Q(){const e=a(u),s=a(l),t=a(k);return y({Gene_with_variant:e.length>0?e:void 0,Variant_consequence_calculated:t.length>0?t:void 0,Variant_frequency_as_text:s.length>0?s:void 0})}function R(e){u.set((e==null?void 0:e.Gene_with_variant)||[]),i.set((e==null?void 0:e.Variant_consequence_calculated)||[]),l.set((e==null?void 0:e.Variant_frequency_as_text)||[])}function b(){u.set([]),l.set([]),i.set([])}function H(e){i.set([...a(i),e])}function j(e){const s=a(i).filter(t=>t!==e);i.set(s)}const r=c([]);function z(){const e=a(r);return m(e)}function B(e){r.set(e.snpValues)}function D(){r.set([])}function x(e,s){const t=S(!1,s),n=t.query;return n.addCategoryFilter(e.search,[_.Heterozygous,_.Homozygous]),t.query=F(n),h(q.QueryV2Sync,t)}async function I(e){v(),await a(f);const t=g().map(({uuid:n})=>x(e,n));return Promise.allSettled(t).then(n=>({count:n.filter(o=>o.status==="fulfilled").map(o=>o.value||0).reduce((o,d)=>o+d,0),errors:n.filter(o=>o.status!=="fulfilled").length})).catch(()=>({count:0,errors:1}))}function K(e){const s=a(r),t=s.findIndex(n=>n.search===e.search);t>=0?(s[t]=e,r.set(s)):r.set([...s,e])}function L(e){const t=a(r).filter(n=>n.search!==e.search);r.set(t)}export{K as a,u as b,D as c,L as d,l as e,H as f,I as g,i as h,k as i,b as j,B as k,Q as l,z as m,R as p,j as r,r as s,G as v};
