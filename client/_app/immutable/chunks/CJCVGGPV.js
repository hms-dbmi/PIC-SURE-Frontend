import{C as S,B as m,j as u,ac as y,ad as A,D as t}from"./B4GrenNm.js";import{l as n}from"./D7VV4X-8.js";function E(e,f,a=f){n(e,"input",r=>{var l=r?e.defaultValue:e.value;if(l=_(e)?k(l):l,a(l),l!==(l=f())){var d=e.selectionStart,v=e.selectionEnd;e.value=l??"",v!==null&&(e.selectionStart=d,e.selectionEnd=Math.min(v,e.value.length))}}),(u&&e.defaultValue!==e.value||S(f)==null&&e.value)&&a(_(e)?k(e.value):e.value),m(()=>{var r=f();_(e)&&r===k(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}const h=new Set;function V(e,f,a,r,l=r){var d=a.getAttribute("type")==="checkbox",v=e;let b=!1;if(f!==null)for(var s of f)v=v[s]??(v[s]=[]);v.push(a),n(a,"change",()=>{var c=a.__value;d&&(c=C(v,c,a.checked)),l(c)},()=>l(d?[]:null)),m(()=>{var c=r();if(u&&a.defaultChecked!==a.checked){b=!0;return}d?(c=c||[],a.checked=c.includes(a.__value)):a.checked=y(a.__value,c)}),A(()=>{var c=v.indexOf(a);c!==-1&&v.splice(c,1)}),h.has(v)||(h.add(v),t(()=>{v.sort((c,o)=>c.compareDocumentPosition(o)===4?-1:1),h.delete(v)})),t(()=>{if(b){var c;if(d)c=C(v,c,a.checked);else{var o=v.find(w=>w.checked);c=o==null?void 0:o.__value}l(c)}})}function g(e,f,a=f){n(e,"change",r=>{var l=r?e.defaultChecked:e.checked;a(l)}),(u&&e.defaultChecked!==e.checked||S(f)==null)&&a(e.checked),m(()=>{var r=f();e.checked=!!r})}function C(e,f,a){for(var r=new Set,l=0;l<e.length;l+=1)e[l].checked&&r.add(e[l].__value);return a||r.delete(f),Array.from(r)}function _(e){var f=e.type;return f==="number"||f==="range"}function k(e){return e===""?null:+e}export{g as a,E as b,V as c};
