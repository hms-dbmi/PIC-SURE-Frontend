import"./Bzak7iHL.js";import{aH as Me,p as Ne,f as K,k as o,u as f,d as C,s as O,r as y,b as V,c as Oe,t as $}from"./DhSNEPDw.js";import{s as X}from"./C8tG8t5X.js";import{i as q}from"./BG76zvuN.js";import{g as L,a as ee,c as te}from"./CJ66PCUx.js";import{p as s,r as Xe}from"./DpjY2ypC.js";import{v as P,w as J,x as qe,y as Y,z as Ge,A as We,B as je,C as Ue,D as Je,E as Ye,F as Qe,G as m,H as Ze,I as ze,J as $e}from"./BNC-bmXQ.js";import{c as et,u as tt,n as at}from"./bwStxD3u.js";function nt(t){return!(t.metaKey||!Ge()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}var st=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function rt(t,e,n){const a=n?Y(n):null,r=P(a);return t=t||a instanceof r.HTMLInputElement&&!st.has(a==null?void 0:a.type)||a instanceof r.HTMLTextAreaElement||a instanceof r.HTMLElement&&a.isContentEditable,!(t&&e==="keyboard"&&n instanceof r.KeyboardEvent&&!Reflect.has(ot,n.key))}var g=null,G=new Set,I=new Map,E=!1,W=!1,ot={Tab:!0,Escape:!0};function R(t,e){for(let n of G)n(t,e)}function A(t){E=!0,nt(t)&&(g="keyboard",R("keyboard",t))}function u(t){g="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(E=!0,R("pointer",t))}function se(t){qe(t)&&(E=!0,g="virtual")}function re(t){const e=Y(t);e===P(e)||e===J(e)||(!E&&!W&&(g="virtual",R("virtual",t)),E=!1,W=!1)}function oe(){E=!1,W=!0}function it(t){if(typeof window>"u"||I.get(P(t)))return;const e=P(t),n=J(t);let a=e.HTMLElement.prototype.focus;function r(){g="virtual",R("virtual",null),E=!0,a.apply(this,arguments)}Object.defineProperty(e.HTMLElement.prototype,"focus",{configurable:!0,value:r}),n.addEventListener("keydown",A,!0),n.addEventListener("keyup",A,!0),n.addEventListener("click",se,!0),e.addEventListener("focus",re,!0),e.addEventListener("blur",oe,!1),typeof e.PointerEvent<"u"?(n.addEventListener("pointerdown",u,!0),n.addEventListener("pointermove",u,!0),n.addEventListener("pointerup",u,!0)):(n.addEventListener("mousedown",u,!0),n.addEventListener("mousemove",u,!0),n.addEventListener("mouseup",u,!0)),e.addEventListener("beforeunload",()=>{ct(t)},{once:!0}),I.set(e,{focus:a})}var ct=(t,e)=>{const n=P(t),a=J(t);I.has(n)&&(n.HTMLElement.prototype.focus=I.get(n).focus,a.removeEventListener("keydown",A,!0),a.removeEventListener("keyup",A,!0),a.removeEventListener("click",se,!0),n.removeEventListener("focus",re,!0),n.removeEventListener("blur",oe,!1),typeof n.PointerEvent<"u"?(a.removeEventListener("pointerdown",u,!0),a.removeEventListener("pointermove",u,!0),a.removeEventListener("pointerup",u,!0)):(a.removeEventListener("mousedown",u,!0),a.removeEventListener("mousemove",u,!0),a.removeEventListener("mouseup",u,!0)),I.delete(n))};function j(){return g==="keyboard"}function dt(t={}){const{isTextInput:e,autoFocus:n,onChange:a,root:r}=t;it(r),a==null||a({isFocusVisible:n||j(),modality:g});const c=(l,k)=>{rt(!!e,l,k)&&(a==null||a({isFocusVisible:j(),modality:l}))};return G.add(c),()=>{G.delete(c)}}var lt=ze("switch").parts("root","label","control","thumb"),x=lt.build(),ie=t=>{var e;return((e=t.ids)==null?void 0:e.root)??`switch:${t.id}`},ae=t=>{var e;return((e=t.ids)==null?void 0:e.label)??`switch:${t.id}:label`},ut=t=>{var e;return((e=t.ids)==null?void 0:e.thumb)??`switch:${t.id}:thumb`},vt=t=>{var e;return((e=t.ids)==null?void 0:e.control)??`switch:${t.id}:control`},U=t=>{var e;return((e=t.ids)==null?void 0:e.hiddenInput)??`switch:${t.id}:input`},ht=t=>t.getById(ie(t)),T=t=>t.getById(U(t));function ft(t,e){const{context:n,send:a,prop:r,scope:c}=t,l=!!r("disabled"),k=!!r("readOnly"),F=!!r("required"),b=!!n.get("checked"),H=!l&&n.get("focused"),M=!l&&n.get("focusVisible"),p={"data-active":m(n.get("active")),"data-focus":m(H),"data-focus-visible":m(M),"data-readonly":m(k),"data-hover":m(n.get("hovered")),"data-disabled":m(l),"data-state":b?"checked":"unchecked","data-invalid":m(r("invalid")),"data-required":m(F)};return{checked:b,disabled:l,focused:H,setChecked(v){a({type:"CHECKED.SET",checked:v,isTrusted:!1})},toggleChecked(){a({type:"CHECKED.TOGGLE",checked:b,isTrusted:!1})},getRootProps(){return e.label({...x.root.attrs,...p,dir:r("dir"),id:ie(c),htmlFor:U(c),onPointerMove(){l||a({type:"CONTEXT.SET",context:{hovered:!0}})},onPointerLeave(){l||a({type:"CONTEXT.SET",context:{hovered:!1}})},onClick(v){var B;if(l)return;Y(v)===T(c)&&v.stopPropagation(),$e()&&((B=T(c))==null||B.focus())}})},getLabelProps(){return e.element({...x.label.attrs,...p,dir:r("dir"),id:ae(c)})},getThumbProps(){return e.element({...x.thumb.attrs,...p,dir:r("dir"),id:ut(c),"aria-hidden":!0})},getControlProps(){return e.element({...x.control.attrs,...p,dir:r("dir"),id:vt(c),"aria-hidden":!0})},getHiddenInputProps(){return e.input({id:U(c),type:"checkbox",required:r("required"),defaultChecked:b,disabled:l,"aria-labelledby":ae(c),"aria-invalid":r("invalid"),name:r("name"),form:r("form"),value:r("value"),style:Ze,onFocus(){const v=j();a({type:"CONTEXT.SET",context:{focused:!0,focusVisible:v}})},onBlur(){a({type:"CONTEXT.SET",context:{focused:!1,focusVisible:!1}})},onClick(v){if(k){v.preventDefault();return}const S=v.currentTarget.checked;a({type:"CHECKED.SET",checked:S,isTrusted:!0})}})}}}var{not:ne}=je(),mt=We({props({props:t}){return{defaultChecked:!1,label:"switch",value:"on",...t}},initialState(){return"ready"},context({prop:t,bindable:e}){return{checked:e(()=>({defaultValue:t("defaultChecked"),value:t("checked"),onChange(n){var a;(a=t("onCheckedChange"))==null||a({checked:n})}})),fieldsetDisabled:e(()=>({defaultValue:!1})),focusVisible:e(()=>({defaultValue:!1})),active:e(()=>({defaultValue:!1})),focused:e(()=>({defaultValue:!1})),hovered:e(()=>({defaultValue:!1}))}},computed:{isDisabled:({context:t,prop:e})=>e("disabled")||t.get("fieldsetDisabled")},watch({track:t,prop:e,context:n,action:a}){t([()=>e("disabled")],()=>{a(["removeFocusIfNeeded"])}),t([()=>n.get("checked")],()=>{a(["syncInputElement"])})},effects:["trackFormControlState","trackPressEvent","trackFocusVisible"],on:{"CHECKED.TOGGLE":[{guard:ne("isTrusted"),actions:["toggleChecked","dispatchChangeEvent"]},{actions:["toggleChecked"]}],"CHECKED.SET":[{guard:ne("isTrusted"),actions:["setChecked","dispatchChangeEvent"]},{actions:["setChecked"]}],"CONTEXT.SET":{actions:["setContext"]}},states:{ready:{}},implementations:{guards:{isTrusted:({event:t})=>!!t.isTrusted},effects:{trackPressEvent({computed:t,scope:e,context:n}){if(!t("isDisabled"))return Qe({pointerNode:ht(e),keyboardNode:T(e),isValidKey:a=>a.key===" ",onPress:()=>n.set("active",!1),onPressStart:()=>n.set("active",!0),onPressEnd:()=>n.set("active",!1)})},trackFocusVisible({computed:t,scope:e}){if(!t("isDisabled"))return dt({root:e.getRootNode()})},trackFormControlState({context:t,send:e,scope:n}){return Ye(T(n),{onFieldsetDisabledChange(a){t.set("fieldsetDisabled",a)},onFormReset(){const a=t.initial("checked");e({type:"CHECKED.SET",checked:!!a,src:"form-reset"})}})}},actions:{setContext({context:t,event:e}){for(const n in e.context)t.set(n,e.context[n])},syncInputElement({context:t,scope:e}){const n=T(e);n&&Je(n,!!t.get("checked"))},removeFocusIfNeeded({context:t,prop:e}){e("disabled")&&t.set("focused",!1)},setChecked({context:t,event:e}){t.set("checked",e.checked)},toggleChecked({context:t}){t.set("checked",!t.get("checked"))},dispatchChangeEvent({context:t,scope:e}){const n=T(e);Ue(n,{checked:t.get("checked")})}}}});et()(["checked","defaultChecked","dir","disabled","form","getRootNode","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]);var bt=K('<span data-testid="switch-icon-inactive"><!></span>'),Et=K('<span data-testid="switch-icon-active"><!></span>'),gt=K("<span><!></span>"),kt=K("<label><input/> <span><span><!> <!></span></span> <!></label>");function Ft(t,e){const n=Me();Ne(e,!0);const a=s(e,"compact",3,!1),r=s(e,"base",3,"inline-flex items-center gap-4"),c=s(e,"classes",3,""),l=s(e,"stateFocused",3,"data-[focus-visible]:focused"),k=s(e,"controlBase",3,"cursor-pointer transition duration-200"),F=s(e,"controlInactive",3,"preset-filled-surface-200-800"),b=s(e,"controlActive",3,"preset-filled-primary-500"),H=s(e,"controlDisabled",3,"opacity-50 cursor-not-allowed"),M=s(e,"controlWidth",3,"w-10"),p=s(e,"controlHeight",3,"h-6"),v=s(e,"controlPadding",3,"p-0.5"),S=s(e,"controlRounded",3,"rounded-full"),B=s(e,"controlHover",3,"hover:brightness-90 dark:hover:brightness-110"),ce=s(e,"controlClasses",3,""),Q=s(e,"thumbBase",3,"right-0 aspect-square h-full flex justify-center items-center text-right cursor-pointer"),de=s(e,"thumbInactive",3,"preset-filled-surface-50-950"),le=s(e,"thumbActive",3,"bg-surface-50 text-surface-contrast-50"),ue=s(e,"thumbRounded",3,"rounded-full"),ve=s(e,"thumbTranslateX",3,"translate-x-4 rtl:-translate-x-4"),he=s(e,"thumbTransition",3,"transition"),fe=s(e,"thumbEase",3,"ease-in-out"),me=s(e,"thumbDuration",3,"duration-200"),be=s(e,"thumbClasses",3,""),Ee=s(e,"labelBase",3,""),ge=s(e,"labelClasses",3,""),ke=s(e,"iconInactiveBase",3,"pointer-events-none"),pe=s(e,"iconActiveBase",3,"pointer-events-none"),Ce=Xe(e,["$$slots","$$events","$$legacy","compact","base","classes","stateFocused","controlBase","controlInactive","controlActive","controlDisabled","controlWidth","controlHeight","controlPadding","controlRounded","controlHover","controlClasses","thumbBase","thumbInactive","thumbActive","thumbRounded","thumbTranslateX","thumbTransition","thumbEase","thumbDuration","thumbClasses","labelBase","labelClasses","iconInactiveBase","iconActiveBase","children","inactiveChild","activeChild"]),ye=tt(mt,()=>({id:n,...Ce})),h=f(()=>ft(ye,at)),Te=f(()=>a()?Q():k()),we=f(()=>a()?"":p()),Le=f(()=>a()?"":v()),Ie=f(()=>a()?F():de()),Pe=f(()=>a()?b():le()),Fe=f(()=>a()?"":ve()),He=f(()=>o(h).checked?b():F()),Se=f(()=>o(h).checked?`${o(Pe)} ${o(Fe)}`:o(Ie)),Be=f(()=>o(h).disabled?H():""),De=f(()=>o(h).focused?l():"");var D=kt();L(D,i=>({...i,class:`${r()??""} ${c()??""}`,"data-testid":"switch"}),[()=>o(h).getRootProps()]);var Z=C(D);L(Z,i=>({...i,"data-testid":"switch-input"}),[()=>o(h).getHiddenInputProps()],void 0,void 0,!0);var _=O(Z,2);L(_,i=>({...i,class:`${o(Te)??""} ${o(He)??""} ${o(De)??""} ${M()??""} ${o(we)??""} ${o(Le)??""} ${S()??""} ${B()??""} ${o(Be)??""} ${ce()??""}`,"data-testid":"switch-control"}),[()=>o(h).getControlProps()]);var N=C(_);L(N,i=>({...i,class:`${Q()??""} ${o(Se)??""} ${ue()??""} ${he()??""} ${fe()??""} ${me()??""} ${be()??""}`,"data-testid":"switch-thumb"}),[()=>o(h).getThumbProps()]);var z=C(N);{var _e=i=>{var d=bt(),w=C(d);X(w,()=>e.inactiveChild),y(d),$(()=>ee(d,1,te(ke()))),V(i,d)};q(z,i=>{!o(h).checked&&e.inactiveChild&&i(_e)})}var Ve=O(z,2);{var xe=i=>{var d=Et(),w=C(d);X(w,()=>e.activeChild),y(d),$(()=>ee(d,1,te(pe()))),V(i,d)};q(Ve,i=>{o(h).checked&&e.activeChild&&i(xe)})}y(N),y(_);var Ae=O(_,2);{var Ke=i=>{var d=gt();L(d,Re=>({...Re,class:`${Ee()??""} ${ge()??""}`,"data-testid":"switch-label"}),[()=>o(h).getLabelProps()]);var w=C(d);X(w,()=>e.children),y(d),V(i,d)};q(Ae,i=>{e.children&&i(Ke)})}y(D),V(t,D),Oe()}export{Ft as S};
