import{w as s}from"./entry.Df3FuYeh.js";import{s as u}from"./dictionary._AigakH0.js";import{r as d}from"./scheduler.bui7uCNy.js";const h=s(Promise.resolve(void 0)),p=s(""),c=s([]),l=s("");async function a(e,o,r){if(!e&&(!o||!o.length))return r==null||r.setTotalRows(0),[];try{const n=u(e.trim(),o,{pageNumber:r!=null&&r.pageNumber?(r==null?void 0:r.pageNumber)-1:0,pageSize:r==null?void 0:r.rowsPerPage});h.set(n);const i=await n;return r==null||r.setTotalRows(i.totalElements),i.content}catch(n){return console.error(n),l.set("An error occurred while searching. If the problem persists, please contact an administrator."),r==null||r.setTotalRows(0),[]}}async function g(e,o){o&&(e.categoryRef={display:o.display,name:o.name,description:o.description});try{c.update(r=>{const n=r.findIndex(i=>i.name===e.name);return n===-1?r.push(e):r.splice(n,1),c.set(d(c).sort((i,m)=>m.count-i.count)),r})}catch(r){console.error(r);return}}function w(){p.set(""),c.set([]),l.set("")}const f={selectedFacets:c,searchTerm:p,error:l,search:a,updateFacet:g,resetSearch:w};export{f as S,p as a,h as l,w as r,c as s};
