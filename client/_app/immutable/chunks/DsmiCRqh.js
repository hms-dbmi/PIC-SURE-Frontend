function Vp(Ca,or){for(var Wa=0;Wa<or.length;Wa++){const lr=or[Wa];if(typeof lr!="string"&&!Array.isArray(lr)){for(const sr in lr)if(sr!=="default"&&!(sr in Ca)){const Or=Object.getOwnPropertyDescriptor(lr,sr);Or&&Object.defineProperty(Ca,sr,Or.get?Or:{enumerable:!0,get:()=>lr[sr]})}}}return Object.freeze(Object.defineProperty(Ca,Symbol.toStringTag,{value:"Module"}))}var Yp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zp(Ca){return Ca&&Ca.__esModule&&Object.prototype.hasOwnProperty.call(Ca,"default")?Ca.default:Ca}var ru={exports:{}};(function(Ca){(function(or,Wa){Ca.exports?Ca.exports=Wa():or.moduleName=Wa()})(typeof self<"u"?self:Yp,()=>{var or=(()=>{var Wa=Object.defineProperty,lr=Object.getOwnPropertyDescriptor,sr=Object.getOwnPropertyNames,Or=Object.prototype.hasOwnProperty,Do=(F,D)=>()=>(F&&(D=F(F=0)),D),Dt=(F,D)=>()=>(D||F((D={exports:{}}).exports,D),D.exports),ou=(F,D,i,t)=>{if(D&&typeof D=="object"||typeof D=="function")for(let n of sr(D))!Or.call(F,n)&&n!==i&&Wa(F,n,{get:()=>D[n],enumerable:!(t=lr(D,n))||t.enumerable});return F},lu=F=>ou(Wa({},"__esModule",{value:!0}),F),_i=Dt(F=>{F.version="3.0.1"}),su=Dt((F,D)=>{(function(i,t,n){t[i]=t[i]||n(),typeof D<"u"&&D.exports&&(D.exports=t[i])})("Promise",typeof window<"u"?window:F,function(){var i,t,n,r=Object.prototype.toString,l=typeof setImmediate<"u"?function(v){return setImmediate(v)}:setTimeout;try{Object.defineProperty({},"x",{}),i=function(v,c,d,_){return Object.defineProperty(v,c,{value:d,writable:!0,configurable:_!==!1})}}catch{i=function(c,d,_){return c[d]=_,c}}n=function(){var v,c,d;function _(w,k){this.fn=w,this.self=k,this.next=void 0}return{add:function(w,k){d=new _(w,k),c?c.next=d:v=d,c=d,d=void 0},drain:function(){var w=v;for(v=c=t=void 0;w;)w.fn.call(w.self),w=w.next}}}();function o(v,c){n.add(v,c),t||(t=l(n.drain))}function s(v){var c,d=typeof v;return v!=null&&(d=="object"||d=="function")&&(c=v.then),typeof c=="function"?c:!1}function f(){for(var v=0;v<this.chain.length;v++)e(this,this.state===1?this.chain[v].success:this.chain[v].failure,this.chain[v]);this.chain.length=0}function e(v,c,d){var _,w;try{c===!1?d.reject(v.msg):(c===!0?_=v.msg:_=c.call(void 0,v.msg),_===d.promise?d.reject(TypeError("Promise-chain cycle")):(w=s(_))?w.call(_,d.resolve,d.reject):d.resolve(_))}catch(k){d.reject(k)}}function p(v){var c,d=this;if(!d.triggered){d.triggered=!0,d.def&&(d=d.def);try{(c=s(v))?o(function(){var _=new b(d);try{c.call(v,function(){p.apply(_,arguments)},function(){u.apply(_,arguments)})}catch(w){u.call(_,w)}}):(d.msg=v,d.state=1,d.chain.length>0&&o(f,d))}catch(_){u.call(new b(d),_)}}}function u(v){var c=this;c.triggered||(c.triggered=!0,c.def&&(c=c.def),c.msg=v,c.state=2,c.chain.length>0&&o(f,c))}function h(v,c,d,_){for(var w=0;w<c.length;w++)(function(k){v.resolve(c[k]).then(function($){d(k,$)},_)})(w)}function b(v){this.def=v,this.triggered=!1}function m(v){this.promise=v,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function g(v){if(typeof v!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var c=new m(this);this.then=function(d,_){var w={success:typeof d=="function"?d:!0,failure:typeof _=="function"?_:!1};return w.promise=new this.constructor(function(k,$){if(typeof k!="function"||typeof $!="function")throw TypeError("Not a function");w.resolve=k,w.reject=$}),c.chain.push(w),c.state!==0&&o(f,c),w.promise},this.catch=function(d){return this.then(void 0,d)};try{v.call(void 0,function(d){p.call(c,d)},function(d){u.call(c,d)})}catch(d){u.call(c,d)}}var y=i({},"constructor",g,!1);return g.prototype=y,i(y,"__NPO__",0,!1),i(g,"resolve",function(v){var c=this;return v&&typeof v=="object"&&v.__NPO__===1?v:new c(function(d,_){if(typeof d!="function"||typeof _!="function")throw TypeError("Not a function");d(v)})}),i(g,"reject",function(v){return new this(function(c,d){if(typeof c!="function"||typeof d!="function")throw TypeError("Not a function");d(v)})}),i(g,"all",function(v){var c=this;return r.call(v)!="[object Array]"?c.reject(TypeError("Not an array")):v.length===0?c.resolve([]):new c(function(d,_){if(typeof d!="function"||typeof _!="function")throw TypeError("Not a function");var w=v.length,k=Array(w),$=0;h(c,v,function(P,O){k[P]=O,++$===w&&d(k)},_)})}),i(g,"race",function(v){var c=this;return r.call(v)!="[object Array]"?c.reject(TypeError("Not an array")):new c(function(d,_){if(typeof d!="function"||typeof _!="function")throw TypeError("Not a function");h(c,v,function(w,k){d(k)},_)})}),g})}),_n=Dt((F,D)=>{(function(){var i={version:"3.8.2"},t=[].slice,n=function(a){return t.call(a)},r=self.document;function l(a){return a&&(a.ownerDocument||a.document||a).documentElement}function o(a){return a&&(a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView)}if(r)try{n(r.documentElement.childNodes)[0].nodeType}catch{n=function(x){for(var L=x.length,B=new Array(L);L--;)B[L]=x[L];return B}}if(Date.now||(Date.now=function(){return+new Date}),r)try{r.createElement("DIV").style.setProperty("opacity",0,"")}catch{var s=this.Element.prototype,f=s.setAttribute,e=s.setAttributeNS,p=this.CSSStyleDeclaration.prototype,u=p.setProperty;s.setAttribute=function(x,L){f.call(this,x,L+"")},s.setAttributeNS=function(x,L,B){e.call(this,x,L,B+"")},p.setProperty=function(x,L,B){u.call(this,x,L+"",B)}}i.ascending=h;function h(a,x){return a<x?-1:a>x?1:a>=x?0:NaN}i.descending=function(a,x){return x<a?-1:x>a?1:x>=a?0:NaN},i.min=function(a,x){var L=-1,B=a.length,Q,nt;if(arguments.length===1){for(;++L<B;)if((nt=a[L])!=null&&nt>=nt){Q=nt;break}for(;++L<B;)(nt=a[L])!=null&&Q>nt&&(Q=nt)}else{for(;++L<B;)if((nt=x.call(a,a[L],L))!=null&&nt>=nt){Q=nt;break}for(;++L<B;)(nt=x.call(a,a[L],L))!=null&&Q>nt&&(Q=nt)}return Q},i.max=function(a,x){var L=-1,B=a.length,Q,nt;if(arguments.length===1){for(;++L<B;)if((nt=a[L])!=null&&nt>=nt){Q=nt;break}for(;++L<B;)(nt=a[L])!=null&&nt>Q&&(Q=nt)}else{for(;++L<B;)if((nt=x.call(a,a[L],L))!=null&&nt>=nt){Q=nt;break}for(;++L<B;)(nt=x.call(a,a[L],L))!=null&&nt>Q&&(Q=nt)}return Q},i.extent=function(a,x){var L=-1,B=a.length,Q,nt,vt;if(arguments.length===1){for(;++L<B;)if((nt=a[L])!=null&&nt>=nt){Q=vt=nt;break}for(;++L<B;)(nt=a[L])!=null&&(Q>nt&&(Q=nt),vt<nt&&(vt=nt))}else{for(;++L<B;)if((nt=x.call(a,a[L],L))!=null&&nt>=nt){Q=vt=nt;break}for(;++L<B;)(nt=x.call(a,a[L],L))!=null&&(Q>nt&&(Q=nt),vt<nt&&(vt=nt))}return[Q,vt]};function b(a){return a===null?NaN:+a}function m(a){return!isNaN(a)}i.sum=function(a,x){var L=0,B=a.length,Q,nt=-1;if(arguments.length===1)for(;++nt<B;)m(Q=+a[nt])&&(L+=Q);else for(;++nt<B;)m(Q=+x.call(a,a[nt],nt))&&(L+=Q);return L},i.mean=function(a,x){var L=0,B=a.length,Q,nt=-1,vt=B;if(arguments.length===1)for(;++nt<B;)m(Q=b(a[nt]))?L+=Q:--vt;else for(;++nt<B;)m(Q=b(x.call(a,a[nt],nt)))?L+=Q:--vt;if(vt)return L/vt},i.quantile=function(a,x){var L=(a.length-1)*x+1,B=Math.floor(L),Q=+a[B-1],nt=L-B;return nt?Q+nt*(a[B]-Q):Q},i.median=function(a,x){var L=[],B=a.length,Q,nt=-1;if(arguments.length===1)for(;++nt<B;)m(Q=b(a[nt]))&&L.push(Q);else for(;++nt<B;)m(Q=b(x.call(a,a[nt],nt)))&&L.push(Q);if(L.length)return i.quantile(L.sort(h),.5)},i.variance=function(a,x){var L=a.length,B=0,Q,nt,vt=0,ct=-1,wt=0;if(arguments.length===1)for(;++ct<L;)m(Q=b(a[ct]))&&(nt=Q-B,B+=nt/++wt,vt+=nt*(Q-B));else for(;++ct<L;)m(Q=b(x.call(a,a[ct],ct)))&&(nt=Q-B,B+=nt/++wt,vt+=nt*(Q-B));if(wt>1)return vt/(wt-1)},i.deviation=function(){var a=i.variance.apply(this,arguments);return a&&Math.sqrt(a)};function g(a){return{left:function(x,L,B,Q){for(arguments.length<3&&(B=0),arguments.length<4&&(Q=x.length);B<Q;){var nt=B+Q>>>1;a(x[nt],L)<0?B=nt+1:Q=nt}return B},right:function(x,L,B,Q){for(arguments.length<3&&(B=0),arguments.length<4&&(Q=x.length);B<Q;){var nt=B+Q>>>1;a(x[nt],L)>0?Q=nt:B=nt+1}return B}}}var y=g(h);i.bisectLeft=y.left,i.bisect=i.bisectRight=y.right,i.bisector=function(a){return g(a.length===1?function(x,L){return h(a(x),L)}:a)},i.shuffle=function(a,x,L){(B=arguments.length)<3&&(L=a.length,B<2&&(x=0));for(var B=L-x,Q,nt;B;)nt=Math.random()*B--|0,Q=a[B+x],a[B+x]=a[nt+x],a[nt+x]=Q;return a},i.permute=function(a,x){for(var L=x.length,B=new Array(L);L--;)B[L]=a[x[L]];return B},i.pairs=function(a){for(var x=0,L=a.length-1,B,Q=a[0],nt=new Array(L<0?0:L);x<L;)nt[x]=[B=Q,Q=a[++x]];return nt},i.transpose=function(a){if(!(nt=a.length))return[];for(var x=-1,L=i.min(a,v),B=new Array(L);++x<L;)for(var Q=-1,nt,vt=B[x]=new Array(nt);++Q<nt;)vt[Q]=a[Q][x];return B};function v(a){return a.length}i.zip=function(){return i.transpose(arguments)},i.keys=function(a){var x=[];for(var L in a)x.push(L);return x},i.values=function(a){var x=[];for(var L in a)x.push(a[L]);return x},i.entries=function(a){var x=[];for(var L in a)x.push({key:L,value:a[L]});return x},i.merge=function(a){for(var x=a.length,L,B=-1,Q=0,nt,vt;++B<x;)Q+=a[B].length;for(nt=new Array(Q);--x>=0;)for(vt=a[x],L=vt.length;--L>=0;)nt[--Q]=vt[L];return nt};var c=Math.abs;i.range=function(a,x,L){if(arguments.length<3&&(L=1,arguments.length<2&&(x=a,a=0)),(x-a)/L===1/0)throw new Error("infinite range");var B=[],Q=d(c(L)),nt=-1,vt;if(a*=Q,x*=Q,L*=Q,L<0)for(;(vt=a+L*++nt)>x;)B.push(vt/Q);else for(;(vt=a+L*++nt)<x;)B.push(vt/Q);return B};function d(a){for(var x=1;a*x%1;)x*=10;return x}function _(a,x){for(var L in x)Object.defineProperty(a.prototype,L,{value:x[L],enumerable:!1})}i.map=function(a,x){var L=new w;if(a instanceof w)a.forEach(function(ct,wt){L.set(ct,wt)});else if(Array.isArray(a)){var B=-1,Q=a.length,nt;if(arguments.length===1)for(;++B<Q;)L.set(B,a[B]);else for(;++B<Q;)L.set(x.call(a,nt=a[B],B),nt)}else for(var vt in a)L.set(vt,a[vt]);return L};function w(){this._=Object.create(null)}var k="__proto__",$="\0";_(w,{has:T,get:function(a){return this._[P(a)]},set:function(a,x){return this._[P(a)]=x},remove:X,keys:I,values:function(){var a=[];for(var x in this._)a.push(this._[x]);return a},entries:function(){var a=[];for(var x in this._)a.push({key:O(x),value:this._[x]});return a},size:E,empty:N,forEach:function(a){for(var x in this._)a.call(this,O(x),this._[x])}});function P(a){return(a+="")===k||a[0]===$?$+a:a}function O(a){return(a+="")[0]===$?a.slice(1):a}function T(a){return P(a)in this._}function X(a){return(a=P(a))in this._&&delete this._[a]}function I(){var a=[];for(var x in this._)a.push(O(x));return a}function E(){var a=0;for(var x in this._)++a;return a}function N(){for(var a in this._)return!1;return!0}i.nest=function(){var a={},x=[],L=[],B,Q;function nt(ct,wt,St){if(St>=x.length)return Q?Q.call(a,wt):B?wt.sort(B):wt;for(var Ct=-1,Zt=wt.length,Kt=x[St++],he,be,te,ue=new w,fe;++Ct<Zt;)(fe=ue.get(he=Kt(be=wt[Ct])))?fe.push(be):ue.set(he,[be]);return ct?(be=ct(),te=function(me,xe){be.set(me,nt(ct,xe,St))}):(be={},te=function(me,xe){be[me]=nt(ct,xe,St)}),ue.forEach(te),be}function vt(ct,wt){if(wt>=x.length)return ct;var St=[],Ct=L[wt++];return ct.forEach(function(Zt,Kt){St.push({key:Zt,values:vt(Kt,wt)})}),Ct?St.sort(function(Zt,Kt){return Ct(Zt.key,Kt.key)}):St}return a.map=function(ct,wt){return nt(wt,ct,0)},a.entries=function(ct){return vt(nt(i.map,ct,0),0)},a.key=function(ct){return x.push(ct),a},a.sortKeys=function(ct){return L[x.length-1]=ct,a},a.sortValues=function(ct){return B=ct,a},a.rollup=function(ct){return Q=ct,a},a},i.set=function(a){var x=new V;if(a)for(var L=0,B=a.length;L<B;++L)x.add(a[L]);return x};function V(){this._=Object.create(null)}_(V,{has:T,add:function(a){return this._[P(a+="")]=!0,a},remove:X,values:I,size:E,empty:N,forEach:function(a){for(var x in this._)a.call(this,O(x))}}),i.behavior={};function U(a){return a}i.rebind=function(a,x){for(var L=1,B=arguments.length,Q;++L<B;)a[Q=arguments[L]]=G(a,x,x[Q]);return a};function G(a,x,L){return function(){var B=L.apply(x,arguments);return B===x?a:B}}function C(a,x){if(x in a)return x;x=x.charAt(0).toUpperCase()+x.slice(1);for(var L=0,B=W.length;L<B;++L){var Q=W[L]+x;if(Q in a)return Q}}var W=["webkit","ms","moz","Moz","o","O"];function J(){}i.dispatch=function(){for(var a=new at,x=-1,L=arguments.length;++x<L;)a[arguments[x]]=et(a);return a};function at(){}at.prototype.on=function(a,x){var L=a.indexOf("."),B="";if(L>=0&&(B=a.slice(L+1),a=a.slice(0,L)),a)return arguments.length<2?this[a].on(B):this[a].on(B,x);if(arguments.length===2){if(x==null)for(a in this)this.hasOwnProperty(a)&&this[a].on(B,null);return this}};function et(a){var x=[],L=new w;function B(){for(var Q=x,nt=-1,vt=Q.length,ct;++nt<vt;)(ct=Q[nt].on)&&ct.apply(this,arguments);return a}return B.on=function(Q,nt){var vt=L.get(Q),ct;return arguments.length<2?vt&&vt.on:(vt&&(vt.on=null,x=x.slice(0,ct=x.indexOf(vt)).concat(x.slice(ct+1)),L.remove(Q)),nt&&x.push(L.set(Q,{on:nt})),a)},B}i.event=null;function it(){i.event.preventDefault()}function dt(){for(var a=i.event,x;x=a.sourceEvent;)a=x;return a}function ht(a){for(var x=new at,L=0,B=arguments.length;++L<B;)x[arguments[L]]=et(x);return x.of=function(Q,nt){return function(vt){try{var ct=vt.sourceEvent=i.event;vt.target=a,i.event=vt,x[vt.type].apply(Q,nt)}finally{i.event=ct}}},x}i.requote=function(a){return a.replace(xt,"\\$&")};var xt=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,H={}.__proto__?function(a,x){a.__proto__=x}:function(a,x){for(var L in x)a[L]=x[L]};function j(a){return H(a,z),a}var A=function(a,x){return x.querySelector(a)},q=function(a,x){return x.querySelectorAll(a)},R=function(a,x){var L=a.matches||a[C(a,"matchesSelector")];return R=function(B,Q){return L.call(B,Q)},R(a,x)};typeof Sizzle=="function"&&(A=function(a,x){return Sizzle(a,x)[0]||null},q=Sizzle,R=Sizzle.matchesSelector),i.selection=function(){return i.select(r.documentElement)};var z=i.selection.prototype=[];z.select=function(a){var x=[],L,B,Q,nt;a=M(a);for(var vt=-1,ct=this.length;++vt<ct;){x.push(L=[]),L.parentNode=(Q=this[vt]).parentNode;for(var wt=-1,St=Q.length;++wt<St;)(nt=Q[wt])?(L.push(B=a.call(nt,nt.__data__,wt,vt)),B&&"__data__"in nt&&(B.__data__=nt.__data__)):L.push(null)}return j(x)};function M(a){return typeof a=="function"?a:function(){return A(a,this)}}z.selectAll=function(a){var x=[],L,B;a=S(a);for(var Q=-1,nt=this.length;++Q<nt;)for(var vt=this[Q],ct=-1,wt=vt.length;++ct<wt;)(B=vt[ct])&&(x.push(L=n(a.call(B,B.__data__,ct,Q))),L.parentNode=B);return j(x)};function S(a){return typeof a=="function"?a:function(){return q(a,this)}}var Z="http://www.w3.org/1999/xhtml",Y={svg:"http://www.w3.org/2000/svg",xhtml:Z,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};i.ns={prefix:Y,qualify:function(a){var x=a.indexOf(":"),L=a;return x>=0&&(L=a.slice(0,x))!=="xmlns"&&(a=a.slice(x+1)),Y.hasOwnProperty(L)?{space:Y[L],local:a}:a}},z.attr=function(a,x){if(arguments.length<2){if(typeof a=="string"){var L=this.node();return a=i.ns.qualify(a),a.local?L.getAttributeNS(a.space,a.local):L.getAttribute(a)}for(x in a)this.each(rt(x,a[x]));return this}return this.each(rt(a,x))};function rt(a,x){a=i.ns.qualify(a);function L(){this.removeAttribute(a)}function B(){this.removeAttributeNS(a.space,a.local)}function Q(){this.setAttribute(a,x)}function nt(){this.setAttributeNS(a.space,a.local,x)}function vt(){var wt=x.apply(this,arguments);wt==null?this.removeAttribute(a):this.setAttribute(a,wt)}function ct(){var wt=x.apply(this,arguments);wt==null?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,wt)}return x==null?a.local?B:L:typeof x=="function"?a.local?ct:vt:a.local?nt:Q}function st(a){return a.trim().replace(/\s+/g," ")}z.classed=function(a,x){if(arguments.length<2){if(typeof a=="string"){var L=this.node(),B=(a=_t(a)).length,Q=-1;if(x=L.classList){for(;++Q<B;)if(!x.contains(a[Q]))return!1}else for(x=L.getAttribute("class");++Q<B;)if(!ut(a[Q]).test(x))return!1;return!0}for(x in a)this.each(At(x,a[x]));return this}return this.each(At(a,x))};function ut(a){return new RegExp("(?:^|\\s+)"+i.requote(a)+"(?:\\s+|$)","g")}function _t(a){return(a+"").trim().split(/^|\s+/)}function At(a,x){a=_t(a).map(Rt);var L=a.length;function B(){for(var nt=-1;++nt<L;)a[nt](this,x)}function Q(){for(var nt=-1,vt=x.apply(this,arguments);++nt<L;)a[nt](this,vt)}return typeof x=="function"?Q:B}function Rt(a){var x=ut(a);return function(L,B){if(Q=L.classList)return B?Q.add(a):Q.remove(a);var Q=L.getAttribute("class")||"";B?(x.lastIndex=0,x.test(Q)||L.setAttribute("class",st(Q+" "+a))):L.setAttribute("class",st(Q.replace(x," ")))}}z.style=function(a,x,L){var B=arguments.length;if(B<3){if(typeof a!="string"){B<2&&(x="");for(L in a)this.each(Xt(L,a[L],x));return this}if(B<2){var Q=this.node();return o(Q).getComputedStyle(Q,null).getPropertyValue(a)}L=""}return this.each(Xt(a,x,L))};function Xt(a,x,L){function B(){this.style.removeProperty(a)}function Q(){this.style.setProperty(a,x,L)}function nt(){var vt=x.apply(this,arguments);vt==null?this.style.removeProperty(a):this.style.setProperty(a,vt,L)}return x==null?B:typeof x=="function"?nt:Q}z.property=function(a,x){if(arguments.length<2){if(typeof a=="string")return this.node()[a];for(x in a)this.each(Bt(x,a[x]));return this}return this.each(Bt(a,x))};function Bt(a,x){function L(){delete this[a]}function B(){this[a]=x}function Q(){var nt=x.apply(this,arguments);nt==null?delete this[a]:this[a]=nt}return x==null?L:typeof x=="function"?Q:B}z.text=function(a){return arguments.length?this.each(typeof a=="function"?function(){var x=a.apply(this,arguments);this.textContent=x??""}:a==null?function(){this.textContent=""}:function(){this.textContent=a}):this.node().textContent},z.html=function(a){return arguments.length?this.each(typeof a=="function"?function(){var x=a.apply(this,arguments);this.innerHTML=x??""}:a==null?function(){this.innerHTML=""}:function(){this.innerHTML=a}):this.node().innerHTML},z.append=function(a){return a=Ht(a),this.select(function(){return this.appendChild(a.apply(this,arguments))})};function Ht(a){function x(){var B=this.ownerDocument,Q=this.namespaceURI;return Q===Z&&B.documentElement.namespaceURI===Z?B.createElement(a):B.createElementNS(Q,a)}function L(){return this.ownerDocument.createElementNS(a.space,a.local)}return typeof a=="function"?a:(a=i.ns.qualify(a)).local?L:x}z.insert=function(a,x){return a=Ht(a),x=M(x),this.select(function(){return this.insertBefore(a.apply(this,arguments),x.apply(this,arguments)||null)})},z.remove=function(){return this.each(pt)};function pt(){var a=this.parentNode;a&&a.removeChild(this)}z.data=function(a,x){var L=-1,B=this.length,Q,nt;if(!arguments.length){for(a=new Array(B=(Q=this[0]).length);++L<B;)(nt=Q[L])&&(a[L]=nt.__data__);return a}function vt(Ct,Zt){var Kt,he=Ct.length,be=Zt.length,te=Math.min(he,be),ue=new Array(be),fe=new Array(be),me=new Array(he),xe,de;if(x){var Re=new w,Xe=new Array(he),Qe;for(Kt=-1;++Kt<he;)(xe=Ct[Kt])&&(Re.has(Qe=x.call(xe,xe.__data__,Kt))?me[Kt]=xe:Re.set(Qe,xe),Xe[Kt]=Qe);for(Kt=-1;++Kt<be;)(xe=Re.get(Qe=x.call(Zt,de=Zt[Kt],Kt)))?xe!==!0&&(ue[Kt]=xe,xe.__data__=de):fe[Kt]=bt(de),Re.set(Qe,!0);for(Kt=-1;++Kt<he;)Kt in Xe&&Re.get(Xe[Kt])!==!0&&(me[Kt]=Ct[Kt])}else{for(Kt=-1;++Kt<te;)xe=Ct[Kt],de=Zt[Kt],xe?(xe.__data__=de,ue[Kt]=xe):fe[Kt]=bt(de);for(;Kt<be;++Kt)fe[Kt]=bt(Zt[Kt]);for(;Kt<he;++Kt)me[Kt]=Ct[Kt]}fe.update=ue,fe.parentNode=ue.parentNode=me.parentNode=Ct.parentNode,ct.push(fe),wt.push(ue),St.push(me)}var ct=Vt([]),wt=j([]),St=j([]);if(typeof a=="function")for(;++L<B;)vt(Q=this[L],a.call(Q,Q.parentNode.__data__,L));else for(;++L<B;)vt(Q=this[L],a);return wt.enter=function(){return ct},wt.exit=function(){return St},wt};function bt(a){return{__data__:a}}z.datum=function(a){return arguments.length?this.property("__data__",a):this.property("__data__")},z.filter=function(a){var x=[],L,B,Q;typeof a!="function"&&(a=ot(a));for(var nt=0,vt=this.length;nt<vt;nt++){x.push(L=[]),L.parentNode=(B=this[nt]).parentNode;for(var ct=0,wt=B.length;ct<wt;ct++)(Q=B[ct])&&a.call(Q,Q.__data__,ct,nt)&&L.push(Q)}return j(x)};function ot(a){return function(){return R(this,a)}}z.order=function(){for(var a=-1,x=this.length;++a<x;)for(var L=this[a],B=L.length-1,Q=L[B],nt;--B>=0;)(nt=L[B])&&(Q&&Q!==nt.nextSibling&&Q.parentNode.insertBefore(nt,Q),Q=nt);return this},z.sort=function(a){a=Lt.apply(this,arguments);for(var x=-1,L=this.length;++x<L;)this[x].sort(a);return this.order()};function Lt(a){return arguments.length||(a=h),function(x,L){return x&&L?a(x.__data__,L.__data__):!x-!L}}z.each=function(a){return Nt(this,function(x,L,B){a.call(x,x.__data__,L,B)})};function Nt(a,x){for(var L=0,B=a.length;L<B;L++)for(var Q=a[L],nt=0,vt=Q.length,ct;nt<vt;nt++)(ct=Q[nt])&&x(ct,nt,L);return a}z.call=function(a){var x=n(arguments);return a.apply(x[0]=this,x),this},z.empty=function(){return!this.node()},z.node=function(){for(var a=0,x=this.length;a<x;a++)for(var L=this[a],B=0,Q=L.length;B<Q;B++){var nt=L[B];if(nt)return nt}return null},z.size=function(){var a=0;return Nt(this,function(){++a}),a};function Vt(a){return H(a,ae),a}var ae=[];i.selection.enter=Vt,i.selection.enter.prototype=ae,ae.append=z.append,ae.empty=z.empty,ae.node=z.node,ae.call=z.call,ae.size=z.size,ae.select=function(a){for(var x=[],L,B,Q,nt,vt,ct=-1,wt=this.length;++ct<wt;){Q=(nt=this[ct]).update,x.push(L=[]),L.parentNode=nt.parentNode;for(var St=-1,Ct=nt.length;++St<Ct;)(vt=nt[St])?(L.push(Q[St]=B=a.call(nt.parentNode,vt.__data__,St,ct)),B.__data__=vt.__data__):L.push(null)}return j(x)},ae.insert=function(a,x){return arguments.length<2&&(x=Jt(this)),z.insert.call(this,a,x)};function Jt(a){var x,L;return function(B,Q,nt){var vt=a[nt].update,ct=vt.length,wt;for(nt!=L&&(L=nt,x=0),Q>=x&&(x=Q+1);!(wt=vt[x])&&++x<ct;);return wt}}i.select=function(a){var x;return typeof a=="string"?(x=[A(a,r)],x.parentNode=r.documentElement):(x=[a],x.parentNode=l(a)),j([x])},i.selectAll=function(a){var x;return typeof a=="string"?(x=n(q(a,r)),x.parentNode=r.documentElement):(x=n(a),x.parentNode=null),j([x])},z.on=function(a,x,L){var B=arguments.length;if(B<3){if(typeof a!="string"){B<2&&(x=!1);for(L in a)this.each(re(L,a[L],x));return this}if(B<2)return(B=this.node()["__on"+a])&&B._;L=!1}return this.each(re(a,x,L))};function re(a,x,L){var B="__on"+a,Q=a.indexOf("."),nt=le;Q>0&&(a=a.slice(0,Q));var vt=oe.get(a);vt&&(a=vt,nt=ve);function ct(){var Ct=this[B];Ct&&(this.removeEventListener(a,Ct,Ct.$),delete this[B])}function wt(){var Ct=nt(x,n(arguments));ct.call(this),this.addEventListener(a,this[B]=Ct,Ct.$=L),Ct._=x}function St(){var Ct=new RegExp("^__on([^.]+)"+i.requote(a)+"$"),Zt;for(var Kt in this)if(Zt=Kt.match(Ct)){var he=this[Kt];this.removeEventListener(Zt[1],he,he.$),delete this[Kt]}}return Q?x?wt:ct:x?J:St}var oe=i.map({mouseenter:"mouseover",mouseleave:"mouseout"});r&&oe.forEach(function(a){"on"+a in r&&oe.remove(a)});function le(a,x){return function(L){var B=i.event;i.event=L,x[0]=this.__data__;try{a.apply(this,x)}finally{i.event=B}}}function ve(a,x){var L=le(a,x);return function(B){var Q=this,nt=B.relatedTarget;(!nt||nt!==Q&&!(nt.compareDocumentPosition(Q)&8))&&L.call(Q,B)}}var Wt,ge=0;function Te(a){var x=".dragsuppress-"+ ++ge,L="click"+x,B=i.select(o(a)).on("touchmove"+x,it).on("dragstart"+x,it).on("selectstart"+x,it);if(Wt==null&&(Wt="onselectstart"in a?!1:C(a.style,"userSelect")),Wt){var Q=l(a).style,nt=Q[Wt];Q[Wt]="none"}return function(vt){if(B.on(x,null),Wt&&(Q[Wt]=nt),vt){var ct=function(){B.on(L,null)};B.on(L,function(){it(),ct()},!0),setTimeout(ct,0)}}}i.mouse=function(a){return we(a,dt())};var ce=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function we(a,x){x.changedTouches&&(x=x.changedTouches[0]);var L=a.ownerSVGElement||a;if(L.createSVGPoint){var B=L.createSVGPoint();if(ce<0){var Q=o(a);if(Q.scrollX||Q.scrollY){L=i.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var nt=L[0][0].getScreenCTM();ce=!(nt.f||nt.e),L.remove()}}return ce?(B.x=x.pageX,B.y=x.pageY):(B.x=x.clientX,B.y=x.clientY),B=B.matrixTransform(a.getScreenCTM().inverse()),[B.x,B.y]}var vt=a.getBoundingClientRect();return[x.clientX-vt.left-a.clientLeft,x.clientY-vt.top-a.clientTop]}i.touch=function(a,x,L){if(arguments.length<3&&(L=x,x=dt().changedTouches),x){for(var B=0,Q=x.length,nt;B<Q;++B)if((nt=x[B]).identifier===L)return we(a,nt)}},i.behavior.drag=function(){var a=ht(Q,"drag","dragstart","dragend"),x=null,L=nt(J,i.mouse,o,"mousemove","mouseup"),B=nt(yt,i.touch,U,"touchmove","touchend");function Q(){this.on("mousedown.drag",L).on("touchstart.drag",B)}function nt(vt,ct,wt,St,Ct){return function(){var Zt=this,Kt=i.event.target.correspondingElement||i.event.target,he=Zt.parentNode,be=a.of(Zt,arguments),te=0,ue=vt(),fe=".drag"+(ue==null?"":"-"+ue),me,xe=i.select(wt(Kt)).on(St+fe,Xe).on(Ct+fe,Qe),de=Te(Kt),Re=ct(he,ue);x?(me=x.apply(Zt,arguments),me=[me.x-Re[0],me.y-Re[1]]):me=[0,0],be({type:"dragstart"});function Xe(){var We=ct(he,ue),tn,en;We&&(tn=We[0]-Re[0],en=We[1]-Re[1],te|=tn|en,Re=We,be({type:"drag",x:We[0]+me[0],y:We[1]+me[1],dx:tn,dy:en}))}function Qe(){ct(he,ue)&&(xe.on(St+fe,null).on(Ct+fe,null),de(te),be({type:"dragend"}))}}}return Q.origin=function(vt){return arguments.length?(x=vt,Q):x},i.rebind(Q,a,"on")};function yt(){return i.event.changedTouches[0].identifier}i.touches=function(a,x){return arguments.length<2&&(x=dt().touches),x?n(x).map(function(L){var B=we(a,L);return B.identifier=L.identifier,B}):[]};var kt=1e-6,Tt=kt*kt,K=Math.PI,ft=2*K,mt=ft-kt,gt=K/2,It=K/180,Mt=180/K;function qt(a,x,L){return(x[0]-a[0])*(L[1]-a[1])-(x[1]-a[1])*(L[0]-a[0])}function $t(a){return a>1?gt:a<-1?-gt:Math.asin(a)}function ie(a){return((a=Math.exp(a))-1/a)/2}function zt(a){return((a=Math.exp(a))+1/a)/2}function ee(a){return((a=Math.exp(2*a))-1)/(a+1)}var se=Math.SQRT2,pe=2,De=4;i.interpolateZoom=function(a,x){var L=a[0],B=a[1],Q=a[2],nt=x[0],vt=x[1],ct=x[2],wt=nt-L,St=vt-B,Ct=wt*wt+St*St,Zt,Kt;if(Ct<Tt)Kt=Math.log(ct/Q)/se,Zt=function(me){return[L+me*wt,B+me*St,Q*Math.exp(se*me*Kt)]};else{var he=Math.sqrt(Ct),be=(ct*ct-Q*Q+De*Ct)/(2*Q*pe*he),te=(ct*ct-Q*Q-De*Ct)/(2*ct*pe*he),ue=Math.log(Math.sqrt(be*be+1)-be),fe=Math.log(Math.sqrt(te*te+1)-te);Kt=(fe-ue)/se,Zt=function(me){var xe=me*Kt,de=zt(ue),Re=Q/(pe*he)*(de*ee(se*xe+ue)-ie(ue));return[L+Re*wt,B+Re*St,Q*de/zt(se*xe+ue)]}}return Zt.duration=Kt*1e3,Zt},i.behavior.zoom=function(){var a={x:0,y:0,k:1},x,L,B,Q=[960,500],nt=Ne,vt=250,ct=0,wt="mousedown.zoom",St="mousemove.zoom",Ct="mouseup.zoom",Zt,Kt="touchstart.zoom",he,be=ht(xe,"zoomstart","zoom","zoomend"),te,ue,fe,me;Pe||(Pe="onwheel"in r?(Ge=function(){return-i.event.deltaY*(i.event.deltaMode?120:1)},"wheel"):"onmousewheel"in r?(Ge=function(){return i.event.wheelDelta},"mousewheel"):(Ge=function(){return-i.event.detail},"MozMousePixelScroll"));function xe(Ue){Ue.on(wt,dn).on(Pe+".zoom",ta).on("dblclick.zoom",Rn).on(Kt,Sn)}xe.event=function(Ue){Ue.each(function(){var vn=be.of(this,arguments),xn=a;yr?i.select(this).transition().each("start.zoom",function(){a=this.__chart__||{x:0,y:0,k:1},en(vn)}).tween("zoom:zoom",function(){var On=Q[0],$n=Q[1],ia=L?L[0]:On/2,fa=L?L[1]:$n/2,wa=i.interpolateZoom([(ia-a.x)/a.k,(fa-a.y)/a.k,On/a.k],[(ia-xn.x)/xn.k,(fa-xn.y)/xn.k,On/xn.k]);return function(La){var Ma=wa(La),Sa=On/Ma[2];this.__chart__=a={x:ia-Ma[0]*Sa,y:fa-Ma[1]*Sa,k:Sa},pn(vn)}}).each("interrupt.zoom",function(){rn(vn)}).each("end.zoom",function(){rn(vn)}):(this.__chart__=a,en(vn),pn(vn),rn(vn))})},xe.translate=function(Ue){return arguments.length?(a={x:+Ue[0],y:+Ue[1],k:a.k},tn(),xe):[a.x,a.y]},xe.scale=function(Ue){return arguments.length?(a={x:a.x,y:a.y,k:null},Xe(+Ue),tn(),xe):a.k},xe.scaleExtent=function(Ue){return arguments.length?(nt=Ue==null?Ne:[+Ue[0],+Ue[1]],xe):nt},xe.center=function(Ue){return arguments.length?(B=Ue&&[+Ue[0],+Ue[1]],xe):B},xe.size=function(Ue){return arguments.length?(Q=Ue&&[+Ue[0],+Ue[1]],xe):Q},xe.duration=function(Ue){return arguments.length?(vt=+Ue,xe):vt},xe.x=function(Ue){return arguments.length?(ue=Ue,te=Ue.copy(),a={x:0,y:0,k:1},xe):ue},xe.y=function(Ue){return arguments.length?(me=Ue,fe=Ue.copy(),a={x:0,y:0,k:1},xe):me};function de(Ue){return[(Ue[0]-a.x)/a.k,(Ue[1]-a.y)/a.k]}function Re(Ue){return[Ue[0]*a.k+a.x,Ue[1]*a.k+a.y]}function Xe(Ue){a.k=Math.max(nt[0],Math.min(nt[1],Ue))}function Qe(Ue,vn){vn=Re(vn),a.x+=Ue[0]-vn[0],a.y+=Ue[1]-vn[1]}function We(Ue,vn,xn,On){Ue.__chart__={x:a.x,y:a.y,k:a.k},Xe(Math.pow(2,On)),Qe(L=vn,xn),Ue=i.select(Ue),vt>0&&(Ue=Ue.transition().duration(vt)),Ue.call(xe.event)}function tn(){ue&&ue.domain(te.range().map(function(Ue){return(Ue-a.x)/a.k}).map(te.invert)),me&&me.domain(fe.range().map(function(Ue){return(Ue-a.y)/a.k}).map(fe.invert))}function en(Ue){ct++||Ue({type:"zoomstart"})}function pn(Ue){tn(),Ue({type:"zoom",scale:a.k,translate:[a.x,a.y]})}function rn(Ue){--ct||(Ue({type:"zoomend"}),L=null)}function dn(){var Ue=this,vn=be.of(Ue,arguments),xn=0,On=i.select(o(Ue)).on(St,fa).on(Ct,wa),$n=de(i.mouse(Ue)),ia=Te(Ue);yi.call(Ue),en(vn);function fa(){xn=1,Qe(i.mouse(Ue),$n),pn(vn)}function wa(){On.on(St,null).on(Ct,null),ia(xn),rn(vn)}}function Sn(){var Ue=this,vn=be.of(Ue,arguments),xn={},On=0,$n,ia=".zoom-"+i.event.changedTouches[0].identifier,fa="touchmove"+ia,wa="touchend"+ia,La=[],Ma=i.select(Ue),Sa=Te(Ue);Oa(),en(vn),Ma.on(wt,null).on(Kt,Oa);function ya(){var Ha=i.touches(Ue);return $n=a.k,Ha.forEach(function(da){da.identifier in xn&&(xn[da.identifier]=de(da))}),Ha}function Oa(){var Ha=i.event.target;i.select(Ha).on(fa,mr).on(wa,jp),La.push(Ha);for(var da=i.event.changedTouches,Fa=0,Xa=da.length;Fa<Xa;++Fa)xn[da[Fa].identifier]=null;var Ra=ya(),Sr=Date.now();if(Ra.length===1){if(Sr-he<500){var xr=Ra[0];We(Ue,xr,xn[xr.identifier],Math.floor(Math.log(a.k)/Math.LN2)+1),it()}he=Sr}else if(Ra.length>1){var xr=Ra[0],ir=Ra[1],bi=xr[0]-ir[0],au=xr[1]-ir[1];On=bi*bi+au*au}}function mr(){var Ha=i.touches(Ue),da,Fa,Xa,Ra;yi.call(Ue);for(var Sr=0,xr=Ha.length;Sr<xr;++Sr,Ra=null)if(Xa=Ha[Sr],Ra=xn[Xa.identifier]){if(Fa)break;da=Xa,Fa=Ra}if(Ra){var ir=(ir=Xa[0]-da[0])*ir+(ir=Xa[1]-da[1])*ir,bi=On&&Math.sqrt(ir/On);da=[(da[0]+Xa[0])/2,(da[1]+Xa[1])/2],Fa=[(Fa[0]+Ra[0])/2,(Fa[1]+Ra[1])/2],Xe(bi*$n)}he=null,Qe(da,Fa),pn(vn)}function jp(){if(i.event.touches.length){for(var Ha=i.event.changedTouches,da=0,Fa=Ha.length;da<Fa;++da)delete xn[Ha[da].identifier];for(var Xa in xn)return void ya()}i.selectAll(La).on(ia,null),Ma.on(wt,dn).on(Kt,Sn),Sa(),rn(vn)}}function ta(){var Ue=be.of(this,arguments);Zt?clearTimeout(Zt):(yi.call(this),x=de(L=B||i.mouse(this)),en(Ue)),Zt=setTimeout(function(){Zt=null,rn(Ue)},50),it(),Xe(Math.pow(2,Ge()*.002)*a.k),Qe(L,x),pn(Ue)}function Rn(){var Ue=i.mouse(this),vn=Math.log(a.k)/Math.LN2;We(this,Ue,de(Ue),i.event.shiftKey?Math.ceil(vn)-1:Math.floor(vn)+1)}return i.rebind(xe,be,"on")};var Ne=[0,1/0],Ge,Pe;i.color=ze;function ze(){}ze.prototype.toString=function(){return this.rgb()+""},i.hsl=Le;function Le(a,x,L){return this instanceof Le?(this.h=+a,this.s=+x,void(this.l=+L)):arguments.length<2?a instanceof Le?new Le(a.h,a.s,a.l):Et(""+a,Gt,Le):new Le(a,x,L)}var Se=Le.prototype=new ze;Se.brighter=function(a){return a=Math.pow(.7,arguments.length?a:1),new Le(this.h,this.s,this.l/a)},Se.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),new Le(this.h,this.s,a*this.l)},Se.rgb=function(){return Ye(this.h,this.s,this.l)};function Ye(a,x,L){var B,Q;a=isNaN(a)?0:(a%=360)<0?a+360:a,x=isNaN(x)||x<0?0:x>1?1:x,L=L<0?0:L>1?1:L,Q=L<=.5?L*(1+x):L+x-L*x,B=2*L-Q;function nt(ct){return ct>360?ct-=360:ct<0&&(ct+=360),ct<60?B+(Q-B)*ct/60:ct<180?Q:ct<240?B+(Q-B)*(240-ct)/60:B}function vt(ct){return Math.round(nt(ct)*255)}return new lt(vt(a+120),vt(a),vt(a-120))}i.hcl=Be;function Be(a,x,L){return this instanceof Be?(this.h=+a,this.c=+x,void(this.l=+L)):arguments.length<2?a instanceof Be?new Be(a.h,a.c,a.l):a instanceof ke?gn(a.l,a.a,a.b):gn((a=Ft((a=i.rgb(a)).r,a.g,a.b)).l,a.a,a.b):new Be(a,x,L)}var Ze=Be.prototype=new ze;Ze.brighter=function(a){return new Be(this.h,this.c,Math.min(100,this.l+je*(arguments.length?a:1)))},Ze.darker=function(a){return new Be(this.h,this.c,Math.max(0,this.l-je*(arguments.length?a:1)))},Ze.rgb=function(){return Fe(this.h,this.c,this.l).rgb()};function Fe(a,x,L){return isNaN(a)&&(a=0),isNaN(x)&&(x=0),new ke(L,Math.cos(a*=It)*x,Math.sin(a)*x)}i.lab=ke;function ke(a,x,L){return this instanceof ke?(this.l=+a,this.a=+x,void(this.b=+L)):arguments.length<2?a instanceof ke?new ke(a.l,a.a,a.b):a instanceof Be?Fe(a.h,a.c,a.l):Ft((a=lt(a)).r,a.g,a.b):new ke(a,x,L)}var je=18,Ke=.95047,ln=1,Ve=1.08883,nn=ke.prototype=new ze;nn.brighter=function(a){return new ke(Math.min(100,this.l+je*(arguments.length?a:1)),this.a,this.b)},nn.darker=function(a){return new ke(Math.max(0,this.l-je*(arguments.length?a:1)),this.a,this.b)},nn.rgb=function(){return an(this.l,this.a,this.b)};function an(a,x,L){var B=(a+16)/116,Q=B+x/500,nt=B-L/200;return Q=Ae(Q)*Ke,B=Ae(B)*ln,nt=Ae(nt)*Ve,new lt(tt(3.2404542*Q-1.5371385*B-.4985314*nt),tt(-.969266*Q+1.8760108*B+.041556*nt),tt(.0556434*Q-.2040259*B+1.0572252*nt))}function gn(a,x,L){return a>0?new Be(Math.atan2(L,x)*Mt,Math.sqrt(x*x+L*L),a):new Be(NaN,NaN,a)}function Ae(a){return a>.206893034?a*a*a:(a-4/29)/7.787037}function sn(a){return a>.008856?Math.pow(a,1/3):7.787037*a+4/29}function tt(a){return Math.round(255*(a<=.00304?12.92*a:1.055*Math.pow(a,1/2.4)-.055))}i.rgb=lt;function lt(a,x,L){return this instanceof lt?(this.r=~~a,this.g=~~x,void(this.b=~~L)):arguments.length<2?a instanceof lt?new lt(a.r,a.g,a.b):Et(""+a,lt,Ye):new lt(a,x,L)}function Yt(a){return new lt(a>>16,a>>8&255,a&255)}function jt(a){return Yt(a)+""}var Ot=lt.prototype=new ze;Ot.brighter=function(a){a=Math.pow(.7,arguments.length?a:1);var x=this.r,L=this.g,B=this.b,Q=30;return!x&&!L&&!B?new lt(Q,Q,Q):(x&&x<Q&&(x=Q),L&&L<Q&&(L=Q),B&&B<Q&&(B=Q),new lt(Math.min(255,x/a),Math.min(255,L/a),Math.min(255,B/a)))},Ot.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),new lt(a*this.r,a*this.g,a*this.b)},Ot.hsl=function(){return Gt(this.r,this.g,this.b)},Ot.toString=function(){return"#"+Pt(this.r)+Pt(this.g)+Pt(this.b)};function Pt(a){return a<16?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function Et(a,x,L){var B=0,Q=0,nt=0,vt,ct,wt;if(vt=/([a-z]+)\((.*)\)/.exec(a=a.toLowerCase()),vt)switch(ct=vt[2].split(","),vt[1]){case"hsl":return L(parseFloat(ct[0]),parseFloat(ct[1])/100,parseFloat(ct[2])/100);case"rgb":return x(Qt(ct[0]),Qt(ct[1]),Qt(ct[2]))}return(wt=ne.get(a))?x(wt.r,wt.g,wt.b):(a!=null&&a.charAt(0)==="#"&&!isNaN(wt=parseInt(a.slice(1),16))&&(a.length===4?(B=(wt&3840)>>4,B=B>>4|B,Q=wt&240,Q=Q>>4|Q,nt=wt&15,nt=nt<<4|nt):a.length===7&&(B=(wt&16711680)>>16,Q=(wt&65280)>>8,nt=wt&255)),x(B,Q,nt))}function Gt(a,x,L){var B=Math.min(a/=255,x/=255,L/=255),Q=Math.max(a,x,L),nt=Q-B,vt,ct,wt=(Q+B)/2;return nt?(ct=wt<.5?nt/(Q+B):nt/(2-Q-B),a==Q?vt=(x-L)/nt+(x<L?6:0):x==Q?vt=(L-a)/nt+2:vt=(a-x)/nt+4,vt*=60):(vt=NaN,ct=wt>0&&wt<1?0:vt),new Le(vt,ct,wt)}function Ft(a,x,L){a=Ut(a),x=Ut(x),L=Ut(L);var B=sn((.4124564*a+.3575761*x+.1804375*L)/Ke),Q=sn((.2126729*a+.7151522*x+.072175*L)/ln),nt=sn((.0193339*a+.119192*x+.9503041*L)/Ve);return ke(116*Q-16,500*(B-Q),200*(Q-nt))}function Ut(a){return(a/=255)<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}function Qt(a){var x=parseFloat(a);return a.charAt(a.length-1)==="%"?Math.round(x*2.55):x}var ne=i.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});ne.forEach(function(a,x){ne.set(a,Yt(x))});function ye(a){return typeof a=="function"?a:function(){return a}}i.functor=ye,i.xhr=_e(U);function _e(a){return function(x,L,B){return arguments.length===2&&typeof L=="function"&&(B=L,L=null),Me(x,L,a,B)}}function Me(a,x,L,B){var Q={},nt=i.dispatch("beforesend","progress","load","error"),vt={},ct=new XMLHttpRequest,wt=null;self.XDomainRequest&&!("withCredentials"in ct)&&/^(http(s)?:)?\/\//.test(a)&&(ct=new XDomainRequest),"onload"in ct?ct.onload=ct.onerror=St:ct.onreadystatechange=function(){ct.readyState>3&&St()};function St(){var Ct=ct.status,Zt;if(!Ct&&Ie(ct)||Ct>=200&&Ct<300||Ct===304){try{Zt=L.call(Q,ct)}catch(Kt){nt.error.call(Q,Kt);return}nt.load.call(Q,Zt)}else nt.error.call(Q,ct)}return ct.onprogress=function(Ct){var Zt=i.event;i.event=Ct;try{nt.progress.call(Q,ct)}finally{i.event=Zt}},Q.header=function(Ct,Zt){return Ct=(Ct+"").toLowerCase(),arguments.length<2?vt[Ct]:(Zt==null?delete vt[Ct]:vt[Ct]=Zt+"",Q)},Q.mimeType=function(Ct){return arguments.length?(x=Ct==null?null:Ct+"",Q):x},Q.responseType=function(Ct){return arguments.length?(wt=Ct,Q):wt},Q.response=function(Ct){return L=Ct,Q},["get","post"].forEach(function(Ct){Q[Ct]=function(){return Q.send.apply(Q,[Ct].concat(n(arguments)))}}),Q.send=function(Ct,Zt,Kt){if(arguments.length===2&&typeof Zt=="function"&&(Kt=Zt,Zt=null),ct.open(Ct,a,!0),x!=null&&!("accept"in vt)&&(vt.accept=x+",*/*"),ct.setRequestHeader)for(var he in vt)ct.setRequestHeader(he,vt[he]);return x!=null&&ct.overrideMimeType&&ct.overrideMimeType(x),wt!=null&&(ct.responseType=wt),Kt!=null&&Q.on("error",Kt).on("load",function(be){Kt(null,be)}),nt.beforesend.call(Q,ct),ct.send(Zt??null),Q},Q.abort=function(){return ct.abort(),Q},i.rebind(Q,nt,"on"),B==null?Q:Q.get(Oe(B))}function Oe(a){return a.length===1?function(x,L){a(x==null?L:null)}:a}function Ie(a){var x=a.responseType;return x&&x!=="text"?a.response:a.responseText}i.dsv=function(a,x){var L=new RegExp('["'+a+`
]`),B=a.charCodeAt(0);function Q(St,Ct,Zt){arguments.length<3&&(Zt=Ct,Ct=null);var Kt=Me(St,x,Ct==null?nt:vt(Ct),Zt);return Kt.row=function(he){return arguments.length?Kt.response((Ct=he)==null?nt:vt(he)):Ct},Kt}function nt(St){return Q.parse(St.responseText)}function vt(St){return function(Ct){return Q.parse(Ct.responseText,St)}}Q.parse=function(St,Ct){var Zt;return Q.parseRows(St,function(Kt,he){if(Zt)return Zt(Kt,he-1);var be=function(te){for(var ue={},fe=Kt.length,me=0;me<fe;++me)ue[Kt[me]]=te[me];return ue};Zt=Ct?function(te,ue){return Ct(be(te),ue)}:be})},Q.parseRows=function(St,Ct){var Zt={},Kt={},he=[],be=St.length,te=0,ue=0,fe,me;function xe(){if(te>=be)return Kt;if(me)return me=!1,Zt;var Re=te;if(St.charCodeAt(Re)===34){for(var Xe=Re;Xe++<be;)if(St.charCodeAt(Xe)===34){if(St.charCodeAt(Xe+1)!==34)break;++Xe}te=Xe+2;var Qe=St.charCodeAt(Xe+1);return Qe===13?(me=!0,St.charCodeAt(Xe+2)===10&&++te):Qe===10&&(me=!0),St.slice(Re+1,Xe).replace(/""/g,'"')}for(;te<be;){var Qe=St.charCodeAt(te++),We=1;if(Qe===10)me=!0;else if(Qe===13)me=!0,St.charCodeAt(te)===10&&(++te,++We);else if(Qe!==B)continue;return St.slice(Re,te-We)}return St.slice(Re)}for(;(fe=xe())!==Kt;){for(var de=[];fe!==Zt&&fe!==Kt;)de.push(fe),fe=xe();Ct&&(de=Ct(de,ue++))==null||he.push(de)}return he},Q.format=function(St){if(Array.isArray(St[0]))return Q.formatRows(St);var Ct=new V,Zt=[];return St.forEach(function(Kt){for(var he in Kt)Ct.has(he)||Zt.push(Ct.add(he))}),[Zt.map(wt).join(a)].concat(St.map(function(Kt){return Zt.map(function(he){return wt(Kt[he])}).join(a)})).join(`
`)},Q.formatRows=function(St){return St.map(ct).join(`
`)};function ct(St){return St.map(wt).join(a)}function wt(St){return L.test(St)?'"'+St.replace(/\"/g,'""')+'"':St}return Q},i.csv=i.dsv(",","text/csv"),i.tsv=i.dsv("	","text/tab-separated-values");var Je,Ee,He,qe,on=this[C(this,"requestAnimationFrame")]||function(a){setTimeout(a,17)};i.timer=function(){cn.apply(this,arguments)};function cn(a,x,L){var B=arguments.length;B<2&&(x=0),B<3&&(L=Date.now());var Q=L+x,nt={c:a,t:Q,n:null};return Ee?Ee.n=nt:Je=nt,Ee=nt,He||(qe=clearTimeout(qe),He=1,on(Cn)),nt}function Cn(){var a=yn(),x=Mn()-a;x>24?(isFinite(x)&&(clearTimeout(qe),qe=setTimeout(Cn,x)),He=0):(He=1,on(Cn))}i.timer.flush=function(){yn(),Mn()};function yn(){for(var a=Date.now(),x=Je;x;)a>=x.t&&x.c(a-x.t)&&(x.c=null),x=x.n;return a}function Mn(){for(var a,x=Je,L=1/0;x;)x.c?(x.t<L&&(L=x.t),x=(a=x).n):x=a?a.n=x.n:Je=x.n;return Ee=a,L}i.round=function(a,x){return x?Math.round(a*(x=Math.pow(10,x)))/x:Math.round(a)},i.geom={};function Xn(a){return a[0]}function Wn(a){return a[1]}i.geom.hull=function(a){var x=Xn,L=Wn;if(arguments.length)return B(a);function B(Q){if(Q.length<3)return[];var nt=ye(x),vt=ye(L),ct,wt=Q.length,St=[],Ct=[];for(ct=0;ct<wt;ct++)St.push([+nt.call(this,Q[ct],ct),+vt.call(this,Q[ct],ct),ct]);for(St.sort($e),ct=0;ct<wt;ct++)Ct.push([St[ct][0],-St[ct][1]]);var Zt=kn(St),Kt=kn(Ct),he=Kt[0]===Zt[0],be=Kt[Kt.length-1]===Zt[Zt.length-1],te=[];for(ct=Zt.length-1;ct>=0;--ct)te.push(Q[St[Zt[ct]][2]]);for(ct=+he;ct<Kt.length-be;++ct)te.push(Q[St[Kt[ct]][2]]);return te}return B.x=function(Q){return arguments.length?(x=Q,B):x},B.y=function(Q){return arguments.length?(L=Q,B):L},B};function kn(a){for(var x=a.length,L=[0,1],B=2,Q=2;Q<x;Q++){for(;B>1&&qt(a[L[B-2]],a[L[B-1]],a[Q])<=0;)--B;L[B++]=Q}return L.slice(0,B)}function $e(a,x){return a[0]-x[0]||a[1]-x[1]}i.geom.polygon=function(a){return H(a,Dn),a};var Dn=i.geom.polygon.prototype=[];Dn.area=function(){for(var a=-1,x=this.length,L,B=this[x-1],Q=0;++a<x;)L=B,B=this[a],Q+=L[1]*B[0]-L[0]*B[1];return Q*.5},Dn.centroid=function(a){var x=-1,L=this.length,B=0,Q=0,nt,vt=this[L-1],ct;for(arguments.length||(a=-1/(6*this.area()));++x<L;)nt=vt,vt=this[x],ct=nt[0]*vt[1]-vt[0]*nt[1],B+=(nt[0]+vt[0])*ct,Q+=(nt[1]+vt[1])*ct;return[B*a,Q*a]},Dn.clip=function(a){for(var x,L=Hn(a),B=-1,Q=this.length-Hn(this),nt,vt,ct=this[Q-1],wt,St,Ct;++B<Q;){for(x=a.slice(),a.length=0,wt=this[B],St=x[(vt=x.length-L)-1],nt=-1;++nt<vt;)Ct=x[nt],An(Ct,ct,wt)?(An(St,ct,wt)||a.push(Jn(St,Ct,ct,wt)),a.push(Ct)):An(St,ct,wt)&&a.push(Jn(St,Ct,ct,wt)),St=Ct;L&&a.push(a[0]),ct=wt}return a};function An(a,x,L){return(L[0]-x[0])*(a[1]-x[1])<(L[1]-x[1])*(a[0]-x[0])}function Jn(a,x,L,B){var Q=a[0],nt=L[0],vt=x[0]-Q,ct=B[0]-nt,wt=a[1],St=L[1],Ct=x[1]-wt,Zt=B[1]-St,Kt=(ct*(wt-St)-Zt*(Q-nt))/(Zt*vt-ct*Ct);return[Q+Kt*vt,wt+Kt*Ct]}function Hn(a){var x=a[0],L=a[a.length-1];return!(x[0]-L[0]||x[1]-L[1])}var hn,fn,mn,Pn=[],In,En,zn=[];function Fn(){pr(this),this.edge=this.site=this.circle=null}function sa(a){var x=Pn.pop()||new Fn;return x.site=a,x}function Zn(a){aa(a),mn.remove(a),Pn.push(a),pr(a)}function qn(a){var x=a.circle,L=x.x,B=x.cy,Q={x:L,y:B},nt=a.P,vt=a.N,ct=[a];Zn(a);for(var wt=nt;wt.circle&&c(L-wt.circle.x)<kt&&c(B-wt.circle.cy)<kt;)nt=wt.P,ct.unshift(wt),Zn(wt),wt=nt;ct.unshift(wt),aa(wt);for(var St=vt;St.circle&&c(L-St.circle.x)<kt&&c(B-St.circle.cy)<kt;)vt=St.N,ct.push(St),Zn(St),St=vt;ct.push(St),aa(St);var Ct=ct.length,Zt;for(Zt=1;Zt<Ct;++Zt)St=ct[Zt],wt=ct[Zt-1],Vn(St.edge,wt.site,St.site,Q);wt=ct[0],St=ct[Ct-1],St.edge=Gn(wt.site,St.site,null,Q),Un(wt),Un(St)}function Ln(a){for(var x=a.x,L=a.y,B,Q,nt,vt,ct=mn._;ct;)if(nt=na(ct,L)-x,nt>kt)ct=ct.L;else if(vt=x-ca(ct,L),vt>kt){if(!ct.R){B=ct;break}ct=ct.R}else{nt>-1e-6?(B=ct.P,Q=ct):vt>-1e-6?(B=ct,Q=ct.N):B=Q=ct;break}var wt=sa(a);if(mn.insert(B,wt),!(!B&&!Q)){if(B===Q){aa(B),Q=sa(B.site),mn.insert(wt,Q),wt.edge=Q.edge=Gn(B.site,wt.site),Un(B),Un(Q);return}if(!Q){wt.edge=Gn(B.site,wt.site);return}aa(B),aa(Q);var St=B.site,Ct=St.x,Zt=St.y,Kt=a.x-Ct,he=a.y-Zt,be=Q.site,te=be.x-Ct,ue=be.y-Zt,fe=2*(Kt*ue-he*te),me=Kt*Kt+he*he,xe=te*te+ue*ue,de={x:(ue*me-he*xe)/fe+Ct,y:(Kt*xe-te*me)/fe+Zt};Vn(Q.edge,St,be,de),wt.edge=Gn(St,a,null,de),Q.edge=Gn(a,be,null,de),Un(B),Un(Q)}}function na(a,x){var L=a.site,B=L.x,Q=L.y,nt=Q-x;if(!nt)return B;var vt=a.P;if(!vt)return-1/0;L=vt.site;var ct=L.x,wt=L.y,St=wt-x;if(!St)return ct;var Ct=ct-B,Zt=1/nt-1/St,Kt=Ct/St;return Zt?(-Kt+Math.sqrt(Kt*Kt-2*Zt*(Ct*Ct/(-2*St)-wt+St/2+Q-nt/2)))/Zt+B:(B+ct)/2}function ca(a,x){var L=a.N;if(L)return na(L,x);var B=a.site;return B.y===x?B.x:1/0}function va(a){this.site=a,this.edges=[]}va.prototype.prepare=function(){for(var a=this.edges,x=a.length,L;x--;)L=a[x].edge,(!L.b||!L.a)&&a.splice(x,1);return a.sort(ka),a.length};function _a(a){for(var x=a[0][0],L=a[1][0],B=a[0][1],Q=a[1][1],nt,vt,ct,wt,St=fn,Ct=St.length,Zt,Kt,he,be,te,ue;Ct--;)if(Zt=St[Ct],!(!Zt||!Zt.prepare()))for(he=Zt.edges,be=he.length,Kt=0;Kt<be;)ue=he[Kt].end(),ct=ue.x,wt=ue.y,te=he[++Kt%be].start(),nt=te.x,vt=te.y,(c(ct-nt)>kt||c(wt-vt)>kt)&&(he.splice(Kt,0,new Aa(Tn(Zt.site,ue,c(ct-x)<kt&&Q-wt>kt?{x,y:c(nt-x)<kt?vt:Q}:c(wt-Q)<kt&&L-ct>kt?{x:c(vt-Q)<kt?nt:L,y:Q}:c(ct-L)<kt&&wt-B>kt?{x:L,y:c(nt-L)<kt?vt:B}:c(wt-B)<kt&&ct-x>kt?{x:c(vt-B)<kt?nt:x,y:B}:null),Zt.site,null)),++be)}function ka(a,x){return x.angle-a.angle}function ga(){pr(this),this.x=this.y=this.arc=this.site=this.cy=null}function Un(a){var x=a.P,L=a.N;if(!(!x||!L)){var B=x.site,Q=a.site,nt=L.site;if(B!==nt){var vt=Q.x,ct=Q.y,wt=B.x-vt,St=B.y-ct,Ct=nt.x-vt,Zt=nt.y-ct,Kt=2*(wt*Zt-St*Ct);if(!(Kt>=-1e-12)){var he=wt*wt+St*St,be=Ct*Ct+Zt*Zt,te=(Zt*he-St*be)/Kt,ue=(wt*be-Ct*he)/Kt,Zt=ue+ct,fe=zn.pop()||new ga;fe.arc=a,fe.site=Q,fe.x=te+vt,fe.y=Zt+Math.sqrt(te*te+ue*ue),fe.cy=Zt,a.circle=fe;for(var me=null,xe=En._;xe;)if(fe.y<xe.y||fe.y===xe.y&&fe.x<=xe.x)if(xe.L)xe=xe.L;else{me=xe.P;break}else if(xe.R)xe=xe.R;else{me=xe;break}En.insert(me,fe),me||(In=fe)}}}}function aa(a){var x=a.circle;x&&(x.P||(In=x.N),En.remove(x),zn.push(x),pr(x),a.circle=null)}function tr(a,x,L,B){return function(Q){var nt=Q.a,vt=Q.b,ct=nt.x,wt=nt.y,St=vt.x,Ct=vt.y,Zt=0,Kt=1,he=St-ct,be=Ct-wt,te;if(te=a-ct,!(!he&&te>0)){if(te/=he,he<0){if(te<Zt)return;te<Kt&&(Kt=te)}else if(he>0){if(te>Kt)return;te>Zt&&(Zt=te)}if(te=L-ct,!(!he&&te<0)){if(te/=he,he<0){if(te>Kt)return;te>Zt&&(Zt=te)}else if(he>0){if(te<Zt)return;te<Kt&&(Kt=te)}if(te=x-wt,!(!be&&te>0)){if(te/=be,be<0){if(te<Zt)return;te<Kt&&(Kt=te)}else if(be>0){if(te>Kt)return;te>Zt&&(Zt=te)}if(te=B-wt,!(!be&&te<0)){if(te/=be,be<0){if(te>Kt)return;te>Zt&&(Zt=te)}else if(be>0){if(te<Zt)return;te<Kt&&(Kt=te)}return Zt>0&&(Q.a={x:ct+Zt*he,y:wt+Zt*be}),Kt<1&&(Q.b={x:ct+Kt*he,y:wt+Kt*be}),Q}}}}}}function Qn(a){for(var x=hn,L=tr(a[0][0],a[0][1],a[1][0],a[1][1]),B=x.length,Q;B--;)Q=x[B],(!Bn(Q,a)||!L(Q)||c(Q.a.x-Q.b.x)<kt&&c(Q.a.y-Q.b.y)<kt)&&(Q.a=Q.b=null,x.splice(B,1))}function Bn(a,x){var L=a.b;if(L)return!0;var B=a.a,Q=x[0][0],nt=x[1][0],vt=x[0][1],ct=x[1][1],wt=a.l,St=a.r,Ct=wt.x,Zt=wt.y,Kt=St.x,he=St.y,be=(Ct+Kt)/2,te=(Zt+he)/2,ue,fe;if(he===Zt){if(be<Q||be>=nt)return;if(Ct>Kt){if(!B)B={x:be,y:vt};else if(B.y>=ct)return;L={x:be,y:ct}}else{if(!B)B={x:be,y:ct};else if(B.y<vt)return;L={x:be,y:vt}}}else if(ue=(Ct-Kt)/(he-Zt),fe=te-ue*be,ue<-1||ue>1)if(Ct>Kt){if(!B)B={x:(vt-fe)/ue,y:vt};else if(B.y>=ct)return;L={x:(ct-fe)/ue,y:ct}}else{if(!B)B={x:(ct-fe)/ue,y:ct};else if(B.y<vt)return;L={x:(vt-fe)/ue,y:vt}}else if(Zt<he){if(!B)B={x:Q,y:ue*Q+fe};else if(B.x>=nt)return;L={x:nt,y:ue*nt+fe}}else{if(!B)B={x:nt,y:ue*nt+fe};else if(B.x<Q)return;L={x:Q,y:ue*Q+fe}}return a.a=B,a.b=L,!0}function Kn(a,x){this.l=a,this.r=x,this.a=this.b=null}function Gn(a,x,L,B){var Q=new Kn(a,x);return hn.push(Q),L&&Vn(Q,a,x,L),B&&Vn(Q,x,a,B),fn[a.i].edges.push(new Aa(Q,a,x)),fn[x.i].edges.push(new Aa(Q,x,a)),Q}function Tn(a,x,L){var B=new Kn(a,null);return B.a=x,B.b=L,hn.push(B),B}function Vn(a,x,L,B){!a.a&&!a.b?(a.a=B,a.l=x,a.r=L):a.l===L?a.b=B:a.a=B}function Aa(a,x,L){var B=a.a,Q=a.b;this.edge=a,this.site=x,this.angle=L?Math.atan2(L.y-x.y,L.x-x.x):a.l===x?Math.atan2(Q.x-B.x,B.y-Q.y):Math.atan2(B.x-Q.x,Q.y-B.y)}Aa.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function Ua(){this._=null}function pr(a){a.U=a.C=a.L=a.R=a.P=a.N=null}Ua.prototype={insert:function(a,x){var L,B,Q;if(a){if(x.P=a,x.N=a.N,a.N&&(a.N.P=x),a.N=x,a.R){for(a=a.R;a.L;)a=a.L;a.L=x}else a.R=x;L=a}else this._?(a=Hr(this._),x.P=null,x.N=a,a.P=a.L=x,L=a):(x.P=x.N=null,this._=x,L=null);for(x.L=x.R=null,x.U=L,x.C=!0,a=x;L&&L.C;)B=L.U,L===B.L?(Q=B.R,Q&&Q.C?(L.C=Q.C=!1,B.C=!0,a=B):(a===L.R&&(er(this,L),a=L,L=a.U),L.C=!1,B.C=!0,za(this,B))):(Q=B.L,Q&&Q.C?(L.C=Q.C=!1,B.C=!0,a=B):(a===L.L&&(za(this,L),a=L,L=a.U),L.C=!1,B.C=!0,er(this,B))),L=a.U;this._.C=!1},remove:function(a){a.N&&(a.N.P=a.P),a.P&&(a.P.N=a.N),a.N=a.P=null;var x=a.U,L,B=a.L,Q=a.R,nt,vt;if(B?Q?nt=Hr(Q):nt=B:nt=Q,x?x.L===a?x.L=nt:x.R=nt:this._=nt,B&&Q?(vt=nt.C,nt.C=a.C,nt.L=B,B.U=nt,nt!==Q?(x=nt.U,nt.U=a.U,a=nt.R,x.L=a,nt.R=Q,Q.U=nt):(nt.U=x,x=nt,a=nt.R)):(vt=a.C,a=nt),a&&(a.U=x),!vt){if(a&&a.C){a.C=!1;return}do{if(a===this._)break;if(a===x.L){if(L=x.R,L.C&&(L.C=!1,x.C=!0,er(this,x),L=x.R),L.L&&L.L.C||L.R&&L.R.C){(!L.R||!L.R.C)&&(L.L.C=!1,L.C=!0,za(this,L),L=x.R),L.C=x.C,x.C=L.R.C=!1,er(this,x),a=this._;break}}else if(L=x.L,L.C&&(L.C=!1,x.C=!0,za(this,x),L=x.L),L.L&&L.L.C||L.R&&L.R.C){(!L.L||!L.L.C)&&(L.R.C=!1,L.C=!0,er(this,L),L=x.L),L.C=x.C,x.C=L.L.C=!1,za(this,x),a=this._;break}L.C=!0,a=x,x=x.U}while(!a.C);a&&(a.C=!1)}}};function er(a,x){var L=x,B=x.R,Q=L.U;Q?Q.L===L?Q.L=B:Q.R=B:a._=B,B.U=Q,L.U=B,L.R=B.L,L.R&&(L.R.U=L),B.L=L}function za(a,x){var L=x,B=x.L,Q=L.U;Q?Q.L===L?Q.L=B:Q.R=B:a._=B,B.U=Q,L.U=B,L.L=B.R,L.L&&(L.L.U=L),B.R=L}function Hr(a){for(;a.L;)a=a.L;return a}function Ar(a,x){var L=a.sort(oi).pop(),B,Q,nt;for(hn=[],fn=new Array(a.length),mn=new Ua,En=new Ua;;)if(nt=In,L&&(!nt||L.y<nt.y||L.y===nt.y&&L.x<nt.x))(L.x!==B||L.y!==Q)&&(fn[L.i]=new va(L),Ln(L),B=L.x,Q=L.y),L=a.pop();else if(nt)qn(nt.arc);else break;x&&(Qn(x),_a(x));var vt={cells:fn,edges:hn};return mn=En=hn=fn=null,vt}function oi(a,x){return x.y-a.y||x.x-a.x}i.geom.voronoi=function(a){var x=Xn,L=Wn,B=x,Q=L,nt=vr;if(a)return vt(a);function vt(wt){var St=new Array(wt.length),Ct=nt[0][0],Zt=nt[0][1],Kt=nt[1][0],he=nt[1][1];return Ar(ct(wt),nt).cells.forEach(function(be,te){var ue=be.edges,fe=be.site,me=St[te]=ue.length?ue.map(function(xe){var de=xe.start();return[de.x,de.y]}):fe.x>=Ct&&fe.x<=Kt&&fe.y>=Zt&&fe.y<=he?[[Ct,he],[Kt,he],[Kt,Zt],[Ct,Zt]]:[];me.point=wt[te]}),St}function ct(wt){return wt.map(function(St,Ct){return{x:Math.round(B(St,Ct)/kt)*kt,y:Math.round(Q(St,Ct)/kt)*kt,i:Ct}})}return vt.links=function(wt){return Ar(ct(wt)).edges.filter(function(St){return St.l&&St.r}).map(function(St){return{source:wt[St.l.i],target:wt[St.r.i]}})},vt.triangles=function(wt){var St=[];return Ar(ct(wt)).cells.forEach(function(Ct,Zt){for(var Kt=Ct.site,he=Ct.edges.sort(ka),be=-1,te=he.length,ue,fe,me=he[te-1].edge,xe=me.l===Kt?me.r:me.l;++be<te;)ue=me,fe=xe,me=he[be].edge,xe=me.l===Kt?me.r:me.l,Zt<fe.i&&Zt<xe.i&&li(Kt,fe,xe)<0&&St.push([wt[Zt],wt[fe.i],wt[xe.i]])}),St},vt.x=function(wt){return arguments.length?(B=ye(x=wt),vt):x},vt.y=function(wt){return arguments.length?(Q=ye(L=wt),vt):L},vt.clipExtent=function(wt){return arguments.length?(nt=wt??vr,vt):nt===vr?null:nt},vt.size=function(wt){return arguments.length?vt.clipExtent(wt&&[[0,0],wt]):nt===vr?null:nt&&nt[1]},vt};var vr=[[-1e6,-1e6],[1e6,1e6]];function li(a,x,L){return(a.x-L.x)*(x.y-a.y)-(a.x-x.x)*(L.y-a.y)}i.geom.delaunay=function(a){return i.geom.voronoi().triangles(a)},i.geom.quadtree=function(a,x,L,B,Q){var nt=Xn,vt=Wn,ct;if(ct=arguments.length)return nt=rh,vt=ih,ct===3&&(Q=L,B=x,L=x=0),wt(a);function wt(St){var Ct,Zt=ye(nt),Kt=ye(vt),he,be,te,ue,fe,me,xe,de;if(x!=null)fe=x,me=L,xe=B,de=Q;else if(xe=de=-(fe=me=1/0),he=[],be=[],ue=St.length,ct)for(te=0;te<ue;++te)Ct=St[te],Ct.x<fe&&(fe=Ct.x),Ct.y<me&&(me=Ct.y),Ct.x>xe&&(xe=Ct.x),Ct.y>de&&(de=Ct.y),he.push(Ct.x),be.push(Ct.y);else for(te=0;te<ue;++te){var Re=+Zt(Ct=St[te],te),Xe=+Kt(Ct,te);Re<fe&&(fe=Re),Xe<me&&(me=Xe),Re>xe&&(xe=Re),Xe>de&&(de=Xe),he.push(Re),be.push(Xe)}var Qe=xe-fe,We=de-me;Qe>We?de=me+Qe:xe=fe+We;function tn(rn,dn,Sn,ta,Rn,Ue,vn,xn){if(!(isNaN(Sn)||isNaN(ta)))if(rn.leaf){var On=rn.x,$n=rn.y;if(On!=null)if(c(On-Sn)+c($n-ta)<.01)en(rn,dn,Sn,ta,Rn,Ue,vn,xn);else{var ia=rn.point;rn.x=rn.y=rn.point=null,en(rn,ia,On,$n,Rn,Ue,vn,xn),en(rn,dn,Sn,ta,Rn,Ue,vn,xn)}else rn.x=Sn,rn.y=ta,rn.point=dn}else en(rn,dn,Sn,ta,Rn,Ue,vn,xn)}function en(rn,dn,Sn,ta,Rn,Ue,vn,xn){var On=(Rn+vn)*.5,$n=(Ue+xn)*.5,ia=Sn>=On,fa=ta>=$n,wa=fa<<1|ia;rn.leaf=!1,rn=rn.nodes[wa]||(rn.nodes[wa]=as()),ia?Rn=On:vn=On,fa?Ue=$n:xn=$n,tn(rn,dn,Sn,ta,Rn,Ue,vn,xn)}var pn=as();if(pn.add=function(rn){tn(pn,rn,+Zt(rn,++te),+Kt(rn,te),fe,me,xe,de)},pn.visit=function(rn){jr(rn,pn,fe,me,xe,de)},pn.find=function(rn){return oh(pn,rn[0],rn[1],fe,me,xe,de)},te=-1,x==null){for(;++te<ue;)tn(pn,St[te],he[te],be[te],fe,me,xe,de);--te}else St.forEach(pn.add);return he=be=St=Ct=null,pn}return wt.x=function(St){return arguments.length?(nt=St,wt):nt},wt.y=function(St){return arguments.length?(vt=St,wt):vt},wt.extent=function(St){return arguments.length?(St==null?x=L=B=Q=null:(x=+St[0][0],L=+St[0][1],B=+St[1][0],Q=+St[1][1]),wt):x==null?null:[[x,L],[B,Q]]},wt.size=function(St){return arguments.length?(St==null?x=L=B=Q=null:(x=L=0,B=+St[0],Q=+St[1]),wt):x==null?null:[B-x,Q-L]},wt};function rh(a){return a.x}function ih(a){return a.y}function as(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function jr(a,x,L,B,Q,nt){if(!a(x,L,B,Q,nt)){var vt=(L+Q)*.5,ct=(B+nt)*.5,wt=x.nodes;wt[0]&&jr(a,wt[0],L,B,vt,ct),wt[1]&&jr(a,wt[1],vt,B,Q,ct),wt[2]&&jr(a,wt[2],L,ct,vt,nt),wt[3]&&jr(a,wt[3],vt,ct,Q,nt)}}function oh(a,x,L,B,Q,nt,vt){var ct=1/0,wt;return function St(Ct,Zt,Kt,he,be){if(!(Zt>nt||Kt>vt||he<B||be<Q)){if(te=Ct.point){var te,ue=x-Ct.x,fe=L-Ct.y,me=ue*ue+fe*fe;if(me<ct){var xe=Math.sqrt(ct=me);B=x-xe,Q=L-xe,nt=x+xe,vt=L+xe,wt=te}}for(var de=Ct.nodes,Re=(Zt+he)*.5,Xe=(Kt+be)*.5,Qe=x>=Re,We=L>=Xe,tn=We<<1|Qe,en=tn+4;tn<en;++tn)if(Ct=de[tn&3])switch(tn&3){case 0:St(Ct,Zt,Kt,Re,Xe);break;case 1:St(Ct,Re,Kt,he,Xe);break;case 2:St(Ct,Zt,Xe,Re,be);break;case 3:St(Ct,Re,Xe,he,be);break}}}(a,B,Q,nt,vt),wt}i.interpolateRgb=uo;function uo(a,x){a=i.rgb(a),x=i.rgb(x);var L=a.r,B=a.g,Q=a.b,nt=x.r-L,vt=x.g-B,ct=x.b-Q;return function(wt){return"#"+Pt(Math.round(L+nt*wt))+Pt(Math.round(B+vt*wt))+Pt(Math.round(Q+ct*wt))}}i.interpolateObject=rs;function rs(a,x){var L={},B={},Q;for(Q in a)Q in x?L[Q]=gr(a[Q],x[Q]):B[Q]=a[Q];for(Q in x)Q in a||(B[Q]=x[Q]);return function(nt){for(Q in L)B[Q]=L[Q](nt);return B}}i.interpolateNumber=nr;function nr(a,x){return a=+a,x=+x,function(L){return a*(1-L)+x*L}}i.interpolateString=is;function is(a,x){var L=co.lastIndex=fo.lastIndex=0,B,Q,nt,vt=-1,ct=[],wt=[];for(a=a+"",x=x+"";(B=co.exec(a))&&(Q=fo.exec(x));)(nt=Q.index)>L&&(nt=x.slice(L,nt),ct[vt]?ct[vt]+=nt:ct[++vt]=nt),(B=B[0])===(Q=Q[0])?ct[vt]?ct[vt]+=Q:ct[++vt]=Q:(ct[++vt]=null,wt.push({i:vt,x:nr(B,Q)})),L=fo.lastIndex;return L<x.length&&(nt=x.slice(L),ct[vt]?ct[vt]+=nt:ct[++vt]=nt),ct.length<2?wt[0]?(x=wt[0].x,function(St){return x(St)+""}):function(){return x}:(x=wt.length,function(St){for(var Ct=0,Zt;Ct<x;++Ct)ct[(Zt=wt[Ct]).i]=Zt.x(St);return ct.join("")})}var co=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fo=new RegExp(co.source,"g");i.interpolate=gr;function gr(a,x){for(var L=i.interpolators.length,B;--L>=0&&!(B=i.interpolators[L](a,x)););return B}i.interpolators=[function(a,x){var L=typeof x;return(L==="string"?ne.has(x.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(x)?uo:is:x instanceof ze?uo:Array.isArray(x)?si:L==="object"&&isNaN(x)?rs:nr)(a,x)}],i.interpolateArray=si;function si(a,x){var L=[],B=[],Q=a.length,nt=x.length,vt=Math.min(a.length,x.length),ct;for(ct=0;ct<vt;++ct)L.push(gr(a[ct],x[ct]));for(;ct<Q;++ct)B[ct]=a[ct];for(;ct<nt;++ct)B[ct]=x[ct];return function(wt){for(ct=0;ct<vt;++ct)B[ct]=L[ct](wt);return B}}var os=function(){return U},lh=i.map({linear:os,poly:hh,quad:function(){return ch},cubic:function(){return fh},sin:function(){return ph},exp:function(){return vh},circle:function(){return gh},elastic:yh,back:mh,bounce:function(){return xh}}),sh=i.map({in:U,out:ls,"in-out":ss,"out-in":function(a){return ss(ls(a))}});i.ease=function(a){var x=a.indexOf("-"),L=x>=0?a.slice(0,x):a,B=x>=0?a.slice(x+1):"in";return L=lh.get(L)||os,B=sh.get(B)||U,uh(B(L.apply(null,t.call(arguments,1))))};function uh(a){return function(x){return x<=0?0:x>=1?1:a(x)}}function ls(a){return function(x){return 1-a(1-x)}}function ss(a){return function(x){return .5*(x<.5?a(2*x):2-a(2-2*x))}}function ch(a){return a*a}function fh(a){return a*a*a}function dh(a){if(a<=0)return 0;if(a>=1)return 1;var x=a*a,L=x*a;return 4*(a<.5?L:3*(a-x)+L-.75)}function hh(a){return function(x){return Math.pow(x,a)}}function ph(a){return 1-Math.cos(a*gt)}function vh(a){return Math.pow(2,10*(a-1))}function gh(a){return 1-Math.sqrt(1-a*a)}function yh(a,x){var L;return arguments.length<2&&(x=.45),arguments.length?L=x/ft*Math.asin(1/a):(a=1,L=x/4),function(B){return 1+a*Math.pow(2,-10*B)*Math.sin((B-L)*ft/x)}}function mh(a){return a||(a=1.70158),function(x){return x*x*((a+1)*x-a)}}function xh(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}i.interpolateHcl=bh;function bh(a,x){a=i.hcl(a),x=i.hcl(x);var L=a.h,B=a.c,Q=a.l,nt=x.h-L,vt=x.c-B,ct=x.l-Q;return isNaN(vt)&&(vt=0,B=isNaN(B)?x.c:B),isNaN(nt)?(nt=0,L=isNaN(L)?x.h:L):nt>180?nt-=360:nt<-180&&(nt+=360),function(wt){return Fe(L+nt*wt,B+vt*wt,Q+ct*wt)+""}}i.interpolateHsl=_h;function _h(a,x){a=i.hsl(a),x=i.hsl(x);var L=a.h,B=a.s,Q=a.l,nt=x.h-L,vt=x.s-B,ct=x.l-Q;return isNaN(vt)&&(vt=0,B=isNaN(B)?x.s:B),isNaN(nt)?(nt=0,L=isNaN(L)?x.h:L):nt>180?nt-=360:nt<-180&&(nt+=360),function(wt){return Ye(L+nt*wt,B+vt*wt,Q+ct*wt)+""}}i.interpolateLab=wh;function wh(a,x){a=i.lab(a),x=i.lab(x);var L=a.l,B=a.a,Q=a.b,nt=x.l-L,vt=x.a-B,ct=x.b-Q;return function(wt){return an(L+nt*wt,B+vt*wt,Q+ct*wt)+""}}i.interpolateRound=us;function us(a,x){return x-=a,function(L){return Math.round(a+x*L)}}i.transform=function(a){var x=r.createElementNS(i.ns.prefix.svg,"g");return(i.transform=function(L){if(L!=null){x.setAttribute("transform",L);var B=x.transform.baseVal.consolidate()}return new cs(B?B.matrix:Th)})(a)};function cs(a){var x=[a.a,a.b],L=[a.c,a.d],B=ds(x),Q=fs(x,L),nt=ds(Mh(L,x,-Q))||0;x[0]*L[1]<L[0]*x[1]&&(x[0]*=-1,x[1]*=-1,B*=-1,Q*=-1),this.rotate=(B?Math.atan2(x[1],x[0]):Math.atan2(-L[0],L[1]))*Mt,this.translate=[a.e,a.f],this.scale=[B,nt],this.skew=nt?Math.atan2(Q,nt)*Mt:0}cs.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function fs(a,x){return a[0]*x[0]+a[1]*x[1]}function ds(a){var x=Math.sqrt(fs(a,a));return x&&(a[0]/=x,a[1]/=x),x}function Mh(a,x,L){return a[0]+=L*x[0],a[1]+=L*x[1],a}var Th={a:1,b:0,c:0,d:1,e:0,f:0};i.interpolateTransform=hs;function Lr(a){return a.length?a.pop()+",":""}function kh(a,x,L,B){if(a[0]!==x[0]||a[1]!==x[1]){var Q=L.push("translate(",null,",",null,")");B.push({i:Q-4,x:nr(a[0],x[0])},{i:Q-2,x:nr(a[1],x[1])})}else(x[0]||x[1])&&L.push("translate("+x+")")}function Ah(a,x,L,B){a!==x?(a-x>180?x+=360:x-a>180&&(a+=360),B.push({i:L.push(Lr(L)+"rotate(",null,")")-2,x:nr(a,x)})):x&&L.push(Lr(L)+"rotate("+x+")")}function Lh(a,x,L,B){a!==x?B.push({i:L.push(Lr(L)+"skewX(",null,")")-2,x:nr(a,x)}):x&&L.push(Lr(L)+"skewX("+x+")")}function Sh(a,x,L,B){if(a[0]!==x[0]||a[1]!==x[1]){var Q=L.push(Lr(L)+"scale(",null,",",null,")");B.push({i:Q-4,x:nr(a[0],x[0])},{i:Q-2,x:nr(a[1],x[1])})}else(x[0]!==1||x[1]!==1)&&L.push(Lr(L)+"scale("+x+")")}function hs(a,x){var L=[],B=[];return a=i.transform(a),x=i.transform(x),kh(a.translate,x.translate,L,B),Ah(a.rotate,x.rotate,L,B),Lh(a.skew,x.skew,L,B),Sh(a.scale,x.scale,L,B),a=x=null,function(Q){for(var nt=-1,vt=B.length,ct;++nt<vt;)L[(ct=B[nt]).i]=ct.x(Q);return L.join("")}}function Oh(a,x){return x=(x-=a=+a)||1/x,function(L){return(L-a)/x}}function Ch(a,x){return x=(x-=a=+a)||1/x,function(L){return Math.max(0,Math.min(1,(L-a)/x))}}i.layout={},i.layout.bundle=function(){return function(a){for(var x=[],L=-1,B=a.length;++L<B;)x.push(Dh(a[L]));return x}};function Dh(a){for(var x=a.source,L=a.target,B=Ph(x,L),Q=[x];x!==B;)x=x.parent,Q.push(x);for(var nt=Q.length;L!==B;)Q.splice(nt,0,L),L=L.parent;return Q}function ps(a){for(var x=[],L=a.parent;L!=null;)x.push(a),a=L,L=L.parent;return x.push(a),x}function Ph(a,x){if(a===x)return a;for(var L=ps(a),B=ps(x),Q=L.pop(),nt=B.pop(),vt=null;Q===nt;)vt=Q,Q=L.pop(),nt=B.pop();return vt}i.layout.chord=function(){var a={},x,L,B,Q,nt=0,vt,ct,wt;function St(){var Zt={},Kt=[],he=i.range(Q),be=[],te,ue,fe,me,xe;for(x=[],L=[],te=0,me=-1;++me<Q;){for(ue=0,xe=-1;++xe<Q;)ue+=B[me][xe];Kt.push(ue),be.push(i.range(Q)),te+=ue}for(vt&&he.sort(function(pn,rn){return vt(Kt[pn],Kt[rn])}),ct&&be.forEach(function(pn,rn){pn.sort(function(dn,Sn){return ct(B[rn][dn],B[rn][Sn])})}),te=(ft-nt*Q)/te,ue=0,me=-1;++me<Q;){for(fe=ue,xe=-1;++xe<Q;){var de=he[me],Re=be[de][xe],Xe=B[de][Re],Qe=ue,We=ue+=Xe*te;Zt[de+"-"+Re]={index:de,subindex:Re,startAngle:Qe,endAngle:We,value:Xe}}L[de]={index:de,startAngle:fe,endAngle:ue,value:Kt[de]},ue+=nt}for(me=-1;++me<Q;)for(xe=me-1;++xe<Q;){var tn=Zt[me+"-"+xe],en=Zt[xe+"-"+me];(tn.value||en.value)&&x.push(tn.value<en.value?{source:en,target:tn}:{source:tn,target:en})}wt&&Ct()}function Ct(){x.sort(function(Zt,Kt){return wt((Zt.source.value+Zt.target.value)/2,(Kt.source.value+Kt.target.value)/2)})}return a.matrix=function(Zt){return arguments.length?(Q=(B=Zt)&&B.length,x=L=null,a):B},a.padding=function(Zt){return arguments.length?(nt=Zt,x=L=null,a):nt},a.sortGroups=function(Zt){return arguments.length?(vt=Zt,x=L=null,a):vt},a.sortSubgroups=function(Zt){return arguments.length?(ct=Zt,x=null,a):ct},a.sortChords=function(Zt){return arguments.length?(wt=Zt,x&&Ct(),a):wt},a.chords=function(){return x||St(),x},a.groups=function(){return L||St(),L},a},i.layout.force=function(){var a={},x=i.dispatch("start","tick","end"),L,B=[1,1],Q,nt,vt=.9,ct=Eh,wt=zh,St=-30,Ct=Bh,Zt=.1,Kt=.64,he=[],be=[],te,ue,fe;function me(de){return function(Re,Xe,Qe,We){if(Re.point!==de){var tn=Re.cx-de.x,en=Re.cy-de.y,pn=We-Xe,rn=tn*tn+en*en;if(pn*pn/Kt<rn){if(rn<Ct){var dn=Re.charge/rn;de.px-=tn*dn,de.py-=en*dn}return!0}if(Re.point&&rn&&rn<Ct){var dn=Re.pointCharge/rn;de.px-=tn*dn,de.py-=en*dn}}return!Re.charge}}a.tick=function(){if((nt*=.99)<.005)return L=null,x.end({type:"end",alpha:nt=0}),!0;var de=he.length,Re=be.length,Xe,Qe,We,tn,en,pn,rn,dn,Sn;for(Qe=0;Qe<Re;++Qe)We=be[Qe],tn=We.source,en=We.target,dn=en.x-tn.x,Sn=en.y-tn.y,(pn=dn*dn+Sn*Sn)&&(pn=nt*ue[Qe]*((pn=Math.sqrt(pn))-te[Qe])/pn,dn*=pn,Sn*=pn,en.x-=dn*(rn=tn.weight+en.weight?tn.weight/(tn.weight+en.weight):.5),en.y-=Sn*rn,tn.x+=dn*(rn=1-rn),tn.y+=Sn*rn);if((rn=nt*Zt)&&(dn=B[0]/2,Sn=B[1]/2,Qe=-1,rn))for(;++Qe<de;)We=he[Qe],We.x+=(dn-We.x)*rn,We.y+=(Sn-We.y)*rn;if(St)for(vs(Xe=i.geom.quadtree(he),nt,fe),Qe=-1;++Qe<de;)(We=he[Qe]).fixed||Xe.visit(me(We));for(Qe=-1;++Qe<de;)We=he[Qe],We.fixed?(We.x=We.px,We.y=We.py):(We.x-=(We.px-(We.px=We.x))*vt,We.y-=(We.py-(We.py=We.y))*vt);x.tick({type:"tick",alpha:nt})},a.nodes=function(de){return arguments.length?(he=de,a):he},a.links=function(de){return arguments.length?(be=de,a):be},a.size=function(de){return arguments.length?(B=de,a):B},a.linkDistance=function(de){return arguments.length?(ct=typeof de=="function"?de:+de,a):ct},a.distance=a.linkDistance,a.linkStrength=function(de){return arguments.length?(wt=typeof de=="function"?de:+de,a):wt},a.friction=function(de){return arguments.length?(vt=+de,a):vt},a.charge=function(de){return arguments.length?(St=typeof de=="function"?de:+de,a):St},a.chargeDistance=function(de){return arguments.length?(Ct=de*de,a):Math.sqrt(Ct)},a.gravity=function(de){return arguments.length?(Zt=+de,a):Zt},a.theta=function(de){return arguments.length?(Kt=de*de,a):Math.sqrt(Kt)},a.alpha=function(de){return arguments.length?(de=+de,nt?de>0?nt=de:(L.c=null,L.t=NaN,L=null,x.end({type:"end",alpha:nt=0})):de>0&&(x.start({type:"start",alpha:nt=de}),L=cn(a.tick)),a):nt},a.start=function(){var de,Re=he.length,Xe=be.length,Qe=B[0],We=B[1],tn,en;for(de=0;de<Re;++de)(en=he[de]).index=de,en.weight=0;for(de=0;de<Xe;++de)en=be[de],typeof en.source=="number"&&(en.source=he[en.source]),typeof en.target=="number"&&(en.target=he[en.target]),++en.source.weight,++en.target.weight;for(de=0;de<Re;++de)en=he[de],isNaN(en.x)&&(en.x=pn("x",Qe)),isNaN(en.y)&&(en.y=pn("y",We)),isNaN(en.px)&&(en.px=en.x),isNaN(en.py)&&(en.py=en.y);if(te=[],typeof ct=="function")for(de=0;de<Xe;++de)te[de]=+ct.call(this,be[de],de);else for(de=0;de<Xe;++de)te[de]=ct;if(ue=[],typeof wt=="function")for(de=0;de<Xe;++de)ue[de]=+wt.call(this,be[de],de);else for(de=0;de<Xe;++de)ue[de]=wt;if(fe=[],typeof St=="function")for(de=0;de<Re;++de)fe[de]=+St.call(this,he[de],de);else for(de=0;de<Re;++de)fe[de]=St;function pn(rn,dn){if(!tn){for(tn=new Array(Re),Rn=0;Rn<Re;++Rn)tn[Rn]=[];for(Rn=0;Rn<Xe;++Rn){var Sn=be[Rn];tn[Sn.source.index].push(Sn.target),tn[Sn.target.index].push(Sn.source)}}for(var ta=tn[de],Rn=-1,Ue=ta.length,vn;++Rn<Ue;)if(!isNaN(vn=ta[Rn][rn]))return vn;return Math.random()*dn}return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){if(Q||(Q=i.behavior.drag().origin(U).on("dragstart.force",Ih).on("drag.force",xe).on("dragend.force",Fh)),!arguments.length)return Q;this.on("mouseover.force",Rh).on("mouseout.force",Nh).call(Q)};function xe(de){de.px=i.event.x,de.py=i.event.y,a.resume()}return i.rebind(a,x,"on")};function Ih(a){a.fixed|=2}function Fh(a){a.fixed&=-7}function Rh(a){a.fixed|=4,a.px=a.x,a.py=a.y}function Nh(a){a.fixed&=-5}function vs(a,x,L){var B=0,Q=0;if(a.charge=0,!a.leaf)for(var nt=a.nodes,vt=nt.length,ct=-1,wt;++ct<vt;)wt=nt[ct],wt!=null&&(vs(wt,x,L),a.charge+=wt.charge,B+=wt.charge*wt.cx,Q+=wt.charge*wt.cy);if(a.point){a.leaf||(a.point.x+=Math.random()-.5,a.point.y+=Math.random()-.5);var St=x*L[a.point.index];a.charge+=a.pointCharge=St,B+=St*a.point.x,Q+=St*a.point.y}a.cx=B/a.charge,a.cy=Q/a.charge}var Eh=20,zh=1,Bh=1/0;i.layout.hierarchy=function(){var a=Vh,x=Hh,L=jh;function B(Q){var nt=[Q],vt=[],ct;for(Q.depth=0;(ct=nt.pop())!=null;)if(vt.push(ct),(St=x.call(B,ct,ct.depth))&&(wt=St.length)){for(var wt,St,Ct;--wt>=0;)nt.push(Ct=St[wt]),Ct.parent=ct,Ct.depth=ct.depth+1;L&&(ct.value=0),ct.children=St}else L&&(ct.value=+L.call(B,ct,ct.depth)||0),delete ct.children;return Ga(Q,function(Zt){var Kt,he;a&&(Kt=Zt.children)&&Kt.sort(a),L&&(he=Zt.parent)&&(he.value+=Zt.value)}),vt}return B.sort=function(Q){return arguments.length?(a=Q,B):a},B.children=function(Q){return arguments.length?(x=Q,B):x},B.value=function(Q){return arguments.length?(L=Q,B):L},B.revalue=function(Q){return L&&(Yr(Q,function(nt){nt.children&&(nt.value=0)}),Ga(Q,function(nt){var vt;nt.children||(nt.value=+L.call(B,nt,nt.depth)||0),(vt=nt.parent)&&(vt.value+=nt.value)})),Q},B};function Vr(a,x){return i.rebind(a,x,"sort","children","value"),a.nodes=a,a.links=Yh,a}function Yr(a,x){for(var L=[a];(a=L.pop())!=null;)if(x(a),(Q=a.children)&&(B=Q.length))for(var B,Q;--B>=0;)L.push(Q[B])}function Ga(a,x){for(var L=[a],B=[];(a=L.pop())!=null;)if(B.push(a),(vt=a.children)&&(nt=vt.length))for(var Q=-1,nt,vt;++Q<nt;)L.push(vt[Q]);for(;(a=B.pop())!=null;)x(a)}function Hh(a){return a.children}function jh(a){return a.value}function Vh(a,x){return x.value-a.value}function Yh(a){return i.merge(a.map(function(x){return(x.children||[]).map(function(L){return{source:x,target:L}})}))}i.layout.partition=function(){var a=i.layout.hierarchy(),x=[1,1];function L(nt,vt,ct,wt){var St=nt.children;if(nt.x=vt,nt.y=nt.depth*wt,nt.dx=ct,nt.dy=wt,St&&(Zt=St.length)){var Ct=-1,Zt,Kt,he;for(ct=nt.value?ct/nt.value:0;++Ct<Zt;)L(Kt=St[Ct],vt,he=Kt.value*ct,wt),vt+=he}}function B(nt){var vt=nt.children,ct=0;if(vt&&(St=vt.length))for(var wt=-1,St;++wt<St;)ct=Math.max(ct,B(vt[wt]));return 1+ct}function Q(nt,vt){var ct=a.call(this,nt,vt);return L(ct[0],0,x[0],x[1]/B(ct[0])),ct}return Q.size=function(nt){return arguments.length?(x=nt,Q):x},Vr(Q,a)},i.layout.pie=function(){var a=Number,x=gs,L=0,B=ft,Q=0;function nt(vt){var ct=vt.length,wt=vt.map(function(me,xe){return+a.call(nt,me,xe)}),St=+(typeof L=="function"?L.apply(this,arguments):L),Ct=(typeof B=="function"?B.apply(this,arguments):B)-St,Zt=Math.min(Math.abs(Ct)/ct,+(typeof Q=="function"?Q.apply(this,arguments):Q)),Kt=Zt*(Ct<0?-1:1),he=i.sum(wt),be=he?(Ct-ct*Kt)/he:0,te=i.range(ct),ue=[],fe;return x!=null&&te.sort(x===gs?function(me,xe){return wt[xe]-wt[me]}:function(me,xe){return x(vt[me],vt[xe])}),te.forEach(function(me){ue[me]={data:vt[me],value:fe=wt[me],startAngle:St,endAngle:St+=fe*be+Kt,padAngle:Zt}}),ue}return nt.value=function(vt){return arguments.length?(a=vt,nt):a},nt.sort=function(vt){return arguments.length?(x=vt,nt):x},nt.startAngle=function(vt){return arguments.length?(L=vt,nt):L},nt.endAngle=function(vt){return arguments.length?(B=vt,nt):B},nt.padAngle=function(vt){return arguments.length?(Q=vt,nt):Q},nt};var gs={};i.layout.stack=function(){var a=U,x=ho,L=po,B=Gh,Q=Zh,nt=Uh;function vt(ct,wt){if(!(be=ct.length))return ct;var St=ct.map(function(me,xe){return a.call(vt,me,xe)}),Ct=St.map(function(me){return me.map(function(xe,de){return[Q.call(vt,xe,de),nt.call(vt,xe,de)]})}),Zt=x.call(vt,Ct,wt);St=i.permute(St,Zt),Ct=i.permute(Ct,Zt);var Kt=L.call(vt,Ct,wt),he=St[0].length,be,te,ue,fe;for(ue=0;ue<he;++ue)for(B.call(vt,St[0][ue],fe=Kt[ue],Ct[0][ue][1]),te=1;te<be;++te)B.call(vt,St[te][ue],fe+=Ct[te-1][ue][1],Ct[te][ue][1]);return ct}return vt.values=function(ct){return arguments.length?(a=ct,vt):a},vt.order=function(ct){return arguments.length?(x=typeof ct=="function"?ct:Xh.get(ct)||ho,vt):x},vt.offset=function(ct){return arguments.length?(L=typeof ct=="function"?ct:Wh.get(ct)||po,vt):L},vt.x=function(ct){return arguments.length?(Q=ct,vt):Q},vt.y=function(ct){return arguments.length?(nt=ct,vt):nt},vt.out=function(ct){return arguments.length?(B=ct,vt):B},vt};function Zh(a){return a.x}function Uh(a){return a.y}function Gh(a,x,L){a.y0=x,a.y=L}var Xh=i.map({"inside-out":function(a){var x=a.length,L,B,Q=a.map(Jh),nt=a.map(qh),vt=i.range(x).sort(function(Zt,Kt){return Q[Zt]-Q[Kt]}),ct=0,wt=0,St=[],Ct=[];for(L=0;L<x;++L)B=vt[L],ct<wt?(ct+=nt[B],St.push(B)):(wt+=nt[B],Ct.push(B));return Ct.reverse().concat(St)},reverse:function(a){return i.range(a.length).reverse()},default:ho}),Wh=i.map({silhouette:function(a){var x=a.length,L=a[0].length,B=[],Q=0,nt,vt,ct,wt=[];for(vt=0;vt<L;++vt){for(nt=0,ct=0;nt<x;nt++)ct+=a[nt][vt][1];ct>Q&&(Q=ct),B.push(ct)}for(vt=0;vt<L;++vt)wt[vt]=(Q-B[vt])/2;return wt},wiggle:function(a){var x=a.length,L=a[0],B=L.length,Q,nt,vt,ct,wt,St,Ct,Zt,Kt,he=[];for(he[0]=Zt=Kt=0,nt=1;nt<B;++nt){for(Q=0,ct=0;Q<x;++Q)ct+=a[Q][nt][1];for(Q=0,wt=0,Ct=L[nt][0]-L[nt-1][0];Q<x;++Q){for(vt=0,St=(a[Q][nt][1]-a[Q][nt-1][1])/(2*Ct);vt<Q;++vt)St+=(a[vt][nt][1]-a[vt][nt-1][1])/Ct;wt+=St*a[Q][nt][1]}he[nt]=Zt-=ct?wt/ct*Ct:0,Zt<Kt&&(Kt=Zt)}for(nt=0;nt<B;++nt)he[nt]-=Kt;return he},expand:function(a){var x=a.length,L=a[0].length,B=1/x,Q,nt,vt,ct=[];for(nt=0;nt<L;++nt){for(Q=0,vt=0;Q<x;Q++)vt+=a[Q][nt][1];if(vt)for(Q=0;Q<x;Q++)a[Q][nt][1]/=vt;else for(Q=0;Q<x;Q++)a[Q][nt][1]=B}for(nt=0;nt<L;++nt)ct[nt]=0;return ct},zero:po});function ho(a){return i.range(a.length)}function po(a){for(var x=-1,L=a[0].length,B=[];++x<L;)B[x]=0;return B}function Jh(a){for(var x=1,L=0,B=a[0][1],Q,nt=a.length;x<nt;++x)(Q=a[x][1])>B&&(L=x,B=Q);return L}function qh(a){return a.reduce($h,0)}function $h(a,x){return a+x[1]}i.layout.histogram=function(){var a=!0,x=Number,L=Kh,B=Qh;function Q(nt,vt){for(var ct=[],wt=nt.map(x,this),St=L.call(this,wt,vt),Ct=B.call(this,St,wt,vt),Zt,vt=-1,Kt=wt.length,he=Ct.length-1,be=a?1:1/Kt,te;++vt<he;)Zt=ct[vt]=[],Zt.dx=Ct[vt+1]-(Zt.x=Ct[vt]),Zt.y=0;if(he>0)for(vt=-1;++vt<Kt;)te=wt[vt],te>=St[0]&&te<=St[1]&&(Zt=ct[i.bisect(Ct,te,1,he)-1],Zt.y+=be,Zt.push(nt[vt]));return ct}return Q.value=function(nt){return arguments.length?(x=nt,Q):x},Q.range=function(nt){return arguments.length?(L=ye(nt),Q):L},Q.bins=function(nt){return arguments.length?(B=typeof nt=="number"?function(vt){return ys(vt,nt)}:ye(nt),Q):B},Q.frequency=function(nt){return arguments.length?(a=!!nt,Q):a},Q};function Qh(a,x){return ys(a,Math.ceil(Math.log(x.length)/Math.LN2+1))}function ys(a,x){for(var L=-1,B=+a[0],Q=(a[1]-B)/x,nt=[];++L<=x;)nt[L]=Q*L+B;return nt}function Kh(a){return[i.min(a),i.max(a)]}i.layout.pack=function(){var a=i.layout.hierarchy().sort(tp),x=0,L=[1,1],B;function Q(nt,vt){var ct=a.call(this,nt,vt),wt=ct[0],St=L[0],Ct=L[1],Zt=B==null?Math.sqrt:typeof B=="function"?B:function(){return B};if(wt.x=wt.y=0,Ga(wt,function(he){he.r=+Zt(he.value)}),Ga(wt,bs),x){var Kt=x*(B?1:Math.max(2*wt.r/St,2*wt.r/Ct))/2;Ga(wt,function(he){he.r+=Kt}),Ga(wt,bs),Ga(wt,function(he){he.r-=Kt})}return _s(wt,St/2,Ct/2,B?1:1/Math.max(2*wt.r/St,2*wt.r/Ct)),ct}return Q.size=function(nt){return arguments.length?(L=nt,Q):L},Q.radius=function(nt){return arguments.length?(B=nt==null||typeof nt=="function"?nt:+nt,Q):B},Q.padding=function(nt){return arguments.length?(x=+nt,Q):x},Vr(Q,a)};function tp(a,x){return a.value-x.value}function vo(a,x){var L=a._pack_next;a._pack_next=x,x._pack_prev=a,x._pack_next=L,L._pack_prev=x}function ms(a,x){a._pack_next=x,x._pack_prev=a}function xs(a,x){var L=x.x-a.x,B=x.y-a.y,Q=a.r+x.r;return .999*Q*Q>L*L+B*B}function bs(a){if(!(x=a.children)||!(Kt=x.length))return;var x,L=1/0,B=-1/0,Q=1/0,nt=-1/0,vt,ct,wt,St,Ct,Zt,Kt;function he(de){L=Math.min(de.x-de.r,L),B=Math.max(de.x+de.r,B),Q=Math.min(de.y-de.r,Q),nt=Math.max(de.y+de.r,nt)}if(x.forEach(ep),vt=x[0],vt.x=-vt.r,vt.y=0,he(vt),Kt>1&&(ct=x[1],ct.x=ct.r,ct.y=0,he(ct),Kt>2))for(wt=x[2],ws(vt,ct,wt),he(wt),vo(vt,wt),vt._pack_prev=wt,vo(wt,ct),ct=vt._pack_next,St=3;St<Kt;St++){ws(vt,ct,wt=x[St]);var be=0,te=1,ue=1;for(Ct=ct._pack_next;Ct!==ct;Ct=Ct._pack_next,te++)if(xs(Ct,wt)){be=1;break}if(be==1)for(Zt=vt._pack_prev;Zt!==Ct._pack_prev&&!xs(Zt,wt);Zt=Zt._pack_prev,ue++);be?(te<ue||te==ue&&ct.r<vt.r?ms(vt,ct=Ct):ms(vt=Zt,ct),St--):(vo(vt,wt),ct=wt,he(wt))}var fe=(L+B)/2,me=(Q+nt)/2,xe=0;for(St=0;St<Kt;St++)wt=x[St],wt.x-=fe,wt.y-=me,xe=Math.max(xe,wt.r+Math.sqrt(wt.x*wt.x+wt.y*wt.y));a.r=xe,x.forEach(np)}function ep(a){a._pack_next=a._pack_prev=a}function np(a){delete a._pack_next,delete a._pack_prev}function _s(a,x,L,B){var Q=a.children;if(a.x=x+=B*a.x,a.y=L+=B*a.y,a.r*=B,Q)for(var nt=-1,vt=Q.length;++nt<vt;)_s(Q[nt],x,L,B)}function ws(a,x,L){var B=a.r+L.r,Q=x.x-a.x,nt=x.y-a.y;if(B&&(Q||nt)){var vt=x.r+L.r,ct=Q*Q+nt*nt;vt*=vt,B*=B;var wt=.5+(B-vt)/(2*ct),St=Math.sqrt(Math.max(0,2*vt*(B+ct)-(B-=ct)*B-vt*vt))/(2*ct);L.x=a.x+wt*Q+St*nt,L.y=a.y+wt*nt-St*Q}else L.x=a.x+B,L.y=a.y}i.layout.tree=function(){var a=i.layout.hierarchy().sort(null).value(null),x=Ms,L=[1,1],B=null;function Q(Ct,Zt){var Kt=a.call(this,Ct,Zt),he=Kt[0],be=nt(he);if(Ga(be,vt),be.parent.m=-be.z,Yr(be,ct),B)Yr(he,St);else{var te=he,ue=he,fe=he;Yr(he,function(Re){Re.x<te.x&&(te=Re),Re.x>ue.x&&(ue=Re),Re.depth>fe.depth&&(fe=Re)});var me=x(te,ue)/2-te.x,xe=L[0]/(ue.x+x(ue,te)/2+me),de=L[1]/(fe.depth||1);Yr(he,function(Re){Re.x=(Re.x+me)*xe,Re.y=Re.depth*de})}return Kt}function nt(Ct){for(var Zt={A:null,children:[Ct]},Kt=[Zt],he;(he=Kt.pop())!=null;)for(var be=he.children,te,ue=0,fe=be.length;ue<fe;++ue)Kt.push((be[ue]=te={_:be[ue],parent:he,children:(te=be[ue].children)&&te.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:ue}).a=te);return Zt.children[0]}function vt(Ct){var Zt=Ct.children,Kt=Ct.parent.children,he=Ct.i?Kt[Ct.i-1]:null;if(Zt.length){rp(Ct);var be=(Zt[0].z+Zt[Zt.length-1].z)/2;he?(Ct.z=he.z+x(Ct._,he._),Ct.m=Ct.z-be):Ct.z=be}else he&&(Ct.z=he.z+x(Ct._,he._));Ct.parent.A=wt(Ct,he,Ct.parent.A||Kt[0])}function ct(Ct){Ct._.x=Ct.z+Ct.parent.m,Ct.m+=Ct.parent.m}function wt(Ct,Zt,Kt){if(Zt){for(var he=Ct,be=Ct,te=Zt,ue=he.parent.children[0],fe=he.m,me=be.m,xe=te.m,de=ue.m,Re;te=yo(te),he=go(he),te&&he;)ue=go(ue),be=yo(be),be.a=Ct,Re=te.z+xe-he.z-fe+x(te._,he._),Re>0&&(ap(ip(te,Ct,Kt),Ct,Re),fe+=Re,me+=Re),xe+=te.m,fe+=he.m,de+=ue.m,me+=be.m;te&&!yo(be)&&(be.t=te,be.m+=xe-me),he&&!go(ue)&&(ue.t=he,ue.m+=fe-de,Kt=Ct)}return Kt}function St(Ct){Ct.x*=L[0],Ct.y=Ct.depth*L[1]}return Q.separation=function(Ct){return arguments.length?(x=Ct,Q):x},Q.size=function(Ct){return arguments.length?(B=(L=Ct)==null?St:null,Q):B?null:L},Q.nodeSize=function(Ct){return arguments.length?(B=(L=Ct)==null?null:St,Q):B?L:null},Vr(Q,a)};function Ms(a,x){return a.parent==x.parent?1:2}function go(a){var x=a.children;return x.length?x[0]:a.t}function yo(a){var x=a.children,L;return(L=x.length)?x[L-1]:a.t}function ap(a,x,L){var B=L/(x.i-a.i);x.c-=B,x.s+=L,a.c+=B,x.z+=L,x.m+=L}function rp(a){for(var x=0,L=0,B=a.children,Q=B.length,nt;--Q>=0;)nt=B[Q],nt.z+=x,nt.m+=x,x+=nt.s+(L+=nt.c)}function ip(a,x,L){return a.a.parent===x.parent?a.a:L}i.layout.cluster=function(){var a=i.layout.hierarchy().sort(null).value(null),x=Ms,L=[1,1],B=!1;function Q(nt,vt){var ct=a.call(this,nt,vt),wt=ct[0],St,Ct=0;Ga(wt,function(te){var ue=te.children;ue&&ue.length?(te.x=lp(ue),te.y=op(ue)):(te.x=St?Ct+=x(te,St):0,te.y=0,St=te)});var Zt=Ts(wt),Kt=ks(wt),he=Zt.x-x(Zt,Kt)/2,be=Kt.x+x(Kt,Zt)/2;return Ga(wt,B?function(te){te.x=(te.x-wt.x)*L[0],te.y=(wt.y-te.y)*L[1]}:function(te){te.x=(te.x-he)/(be-he)*L[0],te.y=(1-(wt.y?te.y/wt.y:1))*L[1]}),ct}return Q.separation=function(nt){return arguments.length?(x=nt,Q):x},Q.size=function(nt){return arguments.length?(B=(L=nt)==null,Q):B?null:L},Q.nodeSize=function(nt){return arguments.length?(B=(L=nt)!=null,Q):B?L:null},Vr(Q,a)};function op(a){return 1+i.max(a,function(x){return x.y})}function lp(a){return a.reduce(function(x,L){return x+L.x},0)/a.length}function Ts(a){var x=a.children;return x&&x.length?Ts(x[0]):a}function ks(a){var x=a.children,L;return x&&(L=x.length)?ks(x[L-1]):a}i.layout.treemap=function(){var a=i.layout.hierarchy(),x=Math.round,L=[1,1],B=null,Q=mo,nt=!1,vt,ct="squarify",wt=.5*(1+Math.sqrt(5));function St(te,ue){for(var fe=-1,me=te.length,xe,de;++fe<me;)de=(xe=te[fe]).value*(ue<0?0:ue),xe.area=isNaN(de)||de<=0?0:de}function Ct(te){var ue=te.children;if(ue&&ue.length){var fe=Q(te),me=[],xe=ue.slice(),de,Re=1/0,Xe,Qe=ct==="slice"?fe.dx:ct==="dice"?fe.dy:ct==="slice-dice"?te.depth&1?fe.dy:fe.dx:Math.min(fe.dx,fe.dy),We;for(St(xe,fe.dx*fe.dy/te.value),me.area=0;(We=xe.length)>0;)me.push(de=xe[We-1]),me.area+=de.area,ct!=="squarify"||(Xe=Kt(me,Qe))<=Re?(xe.pop(),Re=Xe):(me.area-=me.pop().area,he(me,Qe,fe,!1),Qe=Math.min(fe.dx,fe.dy),me.length=me.area=0,Re=1/0);me.length&&(he(me,Qe,fe,!0),me.length=me.area=0),ue.forEach(Ct)}}function Zt(te){var ue=te.children;if(ue&&ue.length){var fe=Q(te),me=ue.slice(),xe,de=[];for(St(me,fe.dx*fe.dy/te.value),de.area=0;xe=me.pop();)de.push(xe),de.area+=xe.area,xe.z!=null&&(he(de,xe.z?fe.dx:fe.dy,fe,!me.length),de.length=de.area=0);ue.forEach(Zt)}}function Kt(te,ue){for(var fe=te.area,me,xe=0,de=1/0,Re=-1,Xe=te.length;++Re<Xe;)(me=te[Re].area)&&(me<de&&(de=me),me>xe&&(xe=me));return fe*=fe,ue*=ue,fe?Math.max(ue*xe*wt/fe,fe/(ue*de*wt)):1/0}function he(te,ue,fe,me){var xe=-1,de=te.length,Re=fe.x,Xe=fe.y,Qe=ue?x(te.area/ue):0,We;if(ue==fe.dx){for((me||Qe>fe.dy)&&(Qe=fe.dy);++xe<de;)We=te[xe],We.x=Re,We.y=Xe,We.dy=Qe,Re+=We.dx=Math.min(fe.x+fe.dx-Re,Qe?x(We.area/Qe):0);We.z=!0,We.dx+=fe.x+fe.dx-Re,fe.y+=Qe,fe.dy-=Qe}else{for((me||Qe>fe.dx)&&(Qe=fe.dx);++xe<de;)We=te[xe],We.x=Re,We.y=Xe,We.dx=Qe,Xe+=We.dy=Math.min(fe.y+fe.dy-Xe,Qe?x(We.area/Qe):0);We.z=!1,We.dy+=fe.y+fe.dy-Xe,fe.x+=Qe,fe.dx-=Qe}}function be(te){var ue=vt||a(te),fe=ue[0];return fe.x=fe.y=0,fe.value?(fe.dx=L[0],fe.dy=L[1]):fe.dx=fe.dy=0,vt&&a.revalue(fe),St([fe],fe.dx*fe.dy/fe.value),(vt?Zt:Ct)(fe),nt&&(vt=ue),ue}return be.size=function(te){return arguments.length?(L=te,be):L},be.padding=function(te){if(!arguments.length)return B;function ue(xe){var de=te.call(be,xe,xe.depth);return de==null?mo(xe):As(xe,typeof de=="number"?[de,de,de,de]:de)}function fe(xe){return As(xe,te)}var me;return Q=(B=te)==null?mo:(me=typeof te)=="function"?ue:(me==="number"&&(te=[te,te,te,te]),fe),be},be.round=function(te){return arguments.length?(x=te?Math.round:Number,be):x!=Number},be.sticky=function(te){return arguments.length?(nt=te,vt=null,be):nt},be.ratio=function(te){return arguments.length?(wt=te,be):wt},be.mode=function(te){return arguments.length?(ct=te+"",be):ct},Vr(be,a)};function mo(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function As(a,x){var L=a.x+x[3],B=a.y+x[0],Q=a.dx-x[1]-x[3],nt=a.dy-x[0]-x[2];return Q<0&&(L+=Q/2,Q=0),nt<0&&(B+=nt/2,nt=0),{x:L,y:B,dx:Q,dy:nt}}i.random={normal:function(a,x){var L=arguments.length;return L<2&&(x=1),L<1&&(a=0),function(){var B,Q,nt;do B=Math.random()*2-1,Q=Math.random()*2-1,nt=B*B+Q*Q;while(!nt||nt>1);return a+x*B*Math.sqrt(-2*Math.log(nt)/nt)}},logNormal:function(){var a=i.random.normal.apply(i,arguments);return function(){return Math.exp(a())}},bates:function(a){var x=i.random.irwinHall(a);return function(){return x()/a}},irwinHall:function(a){return function(){for(var x=0,L=0;L<a;L++)x+=Math.random();return x}}},i.scale={};function ui(a){var x=a[0],L=a[a.length-1];return x<L?[x,L]:[L,x]}function ci(a){return a.rangeExtent?a.rangeExtent():ui(a.range())}function sp(a,x,L,B){var Q=L(a[0],a[1]),nt=B(x[0],x[1]);return function(vt){return nt(Q(vt))}}function xo(a,x){var L=0,B=a.length-1,Q=a[L],nt=a[B],vt;return nt<Q&&(vt=L,L=B,B=vt,vt=Q,Q=nt,nt=vt),a[L]=x.floor(Q),a[B]=x.ceil(nt),a}function Ls(a){return a?{floor:function(x){return Math.floor(x/a)*a},ceil:function(x){return Math.ceil(x/a)*a}}:up}var up={floor:U,ceil:U};function cp(a,x,L,B){var Q=[],nt=[],vt=0,ct=Math.min(a.length,x.length)-1;for(a[ct]<a[0]&&(a=a.slice().reverse(),x=x.slice().reverse());++vt<=ct;)Q.push(L(a[vt-1],a[vt])),nt.push(B(x[vt-1],x[vt]));return function(wt){var St=i.bisect(a,wt,1,ct)-1;return nt[St](Q[St](wt))}}i.scale.linear=function(){return Ss([0,1],[0,1],gr,!1)};function Ss(a,x,L,B){var Q,nt;function vt(){var wt=Math.min(a.length,x.length)>2?cp:sp,St=B?Ch:Oh;return Q=wt(a,x,St,L),nt=wt(x,a,St,gr),ct}function ct(wt){return Q(wt)}return ct.invert=function(wt){return nt(wt)},ct.domain=function(wt){return arguments.length?(a=wt.map(Number),vt()):a},ct.range=function(wt){return arguments.length?(x=wt,vt()):x},ct.rangeRound=function(wt){return ct.range(wt).interpolate(us)},ct.clamp=function(wt){return arguments.length?(B=wt,vt()):B},ct.interpolate=function(wt){return arguments.length?(L=wt,vt()):L},ct.ticks=function(wt){return _o(a,wt)},ct.tickFormat=function(wt,St){return d3_scale_linearTickFormat(a,wt,St)},ct.nice=function(wt){return Cs(a,wt),vt()},ct.copy=function(){return Ss(a,x,L,B)},vt()}function Os(a,x){return i.rebind(a,x,"range","rangeRound","interpolate","clamp")}function Cs(a,x){return xo(a,Ls(bo(a,x)[2])),xo(a,Ls(bo(a,x)[2])),a}function bo(a,x){x==null&&(x=10);var L=ui(a),B=L[1]-L[0],Q=Math.pow(10,Math.floor(Math.log(B/x)/Math.LN10)),nt=x/B*Q;return nt<=.15?Q*=10:nt<=.35?Q*=5:nt<=.75&&(Q*=2),L[0]=Math.ceil(L[0]/Q)*Q,L[1]=Math.floor(L[1]/Q)*Q+Q*.5,L[2]=Q,L}function _o(a,x){return i.range.apply(i,bo(a,x))}i.scale.log=function(){return Ds(i.scale.linear().domain([0,1]),10,!0,[1,10])};function Ds(a,x,L,B){function Q(ct){return(L?Math.log(ct<0?0:ct):-Math.log(ct>0?0:-ct))/Math.log(x)}function nt(ct){return L?Math.pow(x,ct):-Math.pow(x,-ct)}function vt(ct){return a(Q(ct))}return vt.invert=function(ct){return nt(a.invert(ct))},vt.domain=function(ct){return arguments.length?(L=ct[0]>=0,a.domain((B=ct.map(Number)).map(Q)),vt):B},vt.base=function(ct){return arguments.length?(x=+ct,a.domain(B.map(Q)),vt):x},vt.nice=function(){var ct=xo(B.map(Q),L?Math:fp);return a.domain(ct),B=ct.map(nt),vt},vt.ticks=function(){var ct=ui(B),wt=[],St=ct[0],Ct=ct[1],Zt=Math.floor(Q(St)),Kt=Math.ceil(Q(Ct)),he=x%1?2:x;if(isFinite(Kt-Zt)){if(L){for(;Zt<Kt;Zt++)for(var be=1;be<he;be++)wt.push(nt(Zt)*be);wt.push(nt(Zt))}else for(wt.push(nt(Zt));Zt++<Kt;)for(var be=he-1;be>0;be--)wt.push(nt(Zt)*be);for(Zt=0;wt[Zt]<St;Zt++);for(Kt=wt.length;wt[Kt-1]>Ct;Kt--);wt=wt.slice(Zt,Kt)}return wt},vt.copy=function(){return Ds(a.copy(),x,L,B)},Os(vt,a)}var fp={floor:function(a){return-Math.ceil(-a)},ceil:function(a){return-Math.floor(-a)}};i.scale.pow=function(){return Ps(i.scale.linear(),1,[0,1])};function Ps(a,x,L){var B=fi(x),Q=fi(1/x);function nt(vt){return a(B(vt))}return nt.invert=function(vt){return Q(a.invert(vt))},nt.domain=function(vt){return arguments.length?(a.domain((L=vt.map(Number)).map(B)),nt):L},nt.ticks=function(vt){return _o(L,vt)},nt.tickFormat=function(vt,ct){return d3_scale_linearTickFormat(L,vt,ct)},nt.nice=function(vt){return nt.domain(Cs(L,vt))},nt.exponent=function(vt){return arguments.length?(B=fi(x=vt),Q=fi(1/x),a.domain(L.map(B)),nt):x},nt.copy=function(){return Ps(a.copy(),x,L)},Os(nt,a)}function fi(a){return function(x){return x<0?-Math.pow(-x,a):Math.pow(x,a)}}i.scale.sqrt=function(){return i.scale.pow().exponent(.5)},i.scale.ordinal=function(){return Is([],{t:"range",a:[[]]})};function Is(a,x){var L,B,Q;function nt(ct){return B[((L.get(ct)||(x.t==="range"?L.set(ct,a.push(ct)):NaN))-1)%B.length]}function vt(ct,wt){return i.range(a.length).map(function(St){return ct+wt*St})}return nt.domain=function(ct){if(!arguments.length)return a;a=[],L=new w;for(var wt=-1,St=ct.length,Ct;++wt<St;)L.has(Ct=ct[wt])||L.set(Ct,a.push(Ct));return nt[x.t].apply(nt,x.a)},nt.range=function(ct){return arguments.length?(B=ct,Q=0,x={t:"range",a:arguments},nt):B},nt.rangePoints=function(ct,wt){arguments.length<2&&(wt=0);var St=ct[0],Ct=ct[1],Zt=a.length<2?(St=(St+Ct)/2,0):(Ct-St)/(a.length-1+wt);return B=vt(St+Zt*wt/2,Zt),Q=0,x={t:"rangePoints",a:arguments},nt},nt.rangeRoundPoints=function(ct,wt){arguments.length<2&&(wt=0);var St=ct[0],Ct=ct[1],Zt=a.length<2?(St=Ct=Math.round((St+Ct)/2),0):(Ct-St)/(a.length-1+wt)|0;return B=vt(St+Math.round(Zt*wt/2+(Ct-St-(a.length-1+wt)*Zt)/2),Zt),Q=0,x={t:"rangeRoundPoints",a:arguments},nt},nt.rangeBands=function(ct,wt,St){arguments.length<2&&(wt=0),arguments.length<3&&(St=wt);var Ct=ct[1]<ct[0],Zt=ct[Ct-0],Kt=ct[1-Ct],he=(Kt-Zt)/(a.length-wt+2*St);return B=vt(Zt+he*St,he),Ct&&B.reverse(),Q=he*(1-wt),x={t:"rangeBands",a:arguments},nt},nt.rangeRoundBands=function(ct,wt,St){arguments.length<2&&(wt=0),arguments.length<3&&(St=wt);var Ct=ct[1]<ct[0],Zt=ct[Ct-0],Kt=ct[1-Ct],he=Math.floor((Kt-Zt)/(a.length-wt+2*St));return B=vt(Zt+Math.round((Kt-Zt-(a.length-wt)*he)/2),he),Ct&&B.reverse(),Q=Math.round(he*(1-wt)),x={t:"rangeRoundBands",a:arguments},nt},nt.rangeBand=function(){return Q},nt.rangeExtent=function(){return ui(x.a[0])},nt.copy=function(){return Is(a,x)},nt.domain(a)}i.scale.category10=function(){return i.scale.ordinal().range(dp)},i.scale.category20=function(){return i.scale.ordinal().range(hp)},i.scale.category20b=function(){return i.scale.ordinal().range(pp)},i.scale.category20c=function(){return i.scale.ordinal().range(vp)};var dp=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(jt),hp=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(jt),pp=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(jt),vp=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(jt);i.scale.quantile=function(){return Fs([],[])};function Fs(a,x){var L;function B(){var nt=0,vt=x.length;for(L=[];++nt<vt;)L[nt-1]=i.quantile(a,nt/vt);return Q}function Q(nt){if(!isNaN(nt=+nt))return x[i.bisect(L,nt)]}return Q.domain=function(nt){return arguments.length?(a=nt.map(b).filter(m).sort(h),B()):a},Q.range=function(nt){return arguments.length?(x=nt,B()):x},Q.quantiles=function(){return L},Q.invertExtent=function(nt){return nt=x.indexOf(nt),nt<0?[NaN,NaN]:[nt>0?L[nt-1]:a[0],nt<L.length?L[nt]:a[a.length-1]]},Q.copy=function(){return Fs(a,x)},B()}i.scale.quantize=function(){return Rs(0,1,[0,1])};function Rs(a,x,L){var B,Q;function nt(ct){return L[Math.max(0,Math.min(Q,Math.floor(B*(ct-a))))]}function vt(){return B=L.length/(x-a),Q=L.length-1,nt}return nt.domain=function(ct){return arguments.length?(a=+ct[0],x=+ct[ct.length-1],vt()):[a,x]},nt.range=function(ct){return arguments.length?(L=ct,vt()):L},nt.invertExtent=function(ct){return ct=L.indexOf(ct),ct=ct<0?NaN:ct/B+a,[ct,ct+1/B]},nt.copy=function(){return Rs(a,x,L)},vt()}i.scale.threshold=function(){return Ns([.5],[0,1])};function Ns(a,x){function L(B){if(B<=B)return x[i.bisect(a,B)]}return L.domain=function(B){return arguments.length?(a=B,L):a},L.range=function(B){return arguments.length?(x=B,L):x},L.invertExtent=function(B){return B=x.indexOf(B),[a[B-1],a[B]]},L.copy=function(){return Ns(a,x)},L}i.scale.identity=function(){return Es([0,1])};function Es(a){function x(L){return+L}return x.invert=x,x.domain=x.range=function(L){return arguments.length?(a=L.map(x),x):a},x.ticks=function(L){return _o(a,L)},x.tickFormat=function(L,B){return d3_scale_linearTickFormat(a,L,B)},x.copy=function(){return Es(a)},x}i.svg={};function gp(){return 0}i.svg.arc=function(){var a=yp,x=mp,L=gp,B=di,Q=zs,nt=Bs,vt=xp;function ct(){var St=Math.max(0,+a.apply(this,arguments)),Ct=Math.max(0,+x.apply(this,arguments)),Zt=Q.apply(this,arguments)-gt,Kt=nt.apply(this,arguments)-gt,he=Math.abs(Kt-Zt),be=Zt>Kt?0:1;if(Ct<St&&(te=Ct,Ct=St,St=te),he>=mt)return wt(Ct,be)+(St?wt(St,1-be):"")+"Z";var te,ue,fe,me,xe=0,de=0,Re,Xe,Qe,We,tn,en,pn,rn,dn=[];if((me=(+vt.apply(this,arguments)||0)/2)&&(fe=B===di?Math.sqrt(St*St+Ct*Ct):+B.apply(this,arguments),be||(de*=-1),Ct&&(de=$t(fe/Ct*Math.sin(me))),St&&(xe=$t(fe/St*Math.sin(me)))),Ct){Re=Ct*Math.cos(Zt+de),Xe=Ct*Math.sin(Zt+de),Qe=Ct*Math.cos(Kt-de),We=Ct*Math.sin(Kt-de);var Sn=Math.abs(Kt-Zt-2*de)<=K?0:1;if(de&&hi(Re,Xe,Qe,We)===be^Sn){var ta=(Zt+Kt)/2;Re=Ct*Math.cos(ta),Xe=Ct*Math.sin(ta),Qe=We=null}}else Re=Xe=0;if(St){tn=St*Math.cos(Kt-xe),en=St*Math.sin(Kt-xe),pn=St*Math.cos(Zt+xe),rn=St*Math.sin(Zt+xe);var Rn=Math.abs(Zt-Kt+2*xe)<=K?0:1;if(xe&&hi(tn,en,pn,rn)===1-be^Rn){var Ue=(Zt+Kt)/2;tn=St*Math.cos(Ue),en=St*Math.sin(Ue),pn=rn=null}}else tn=en=0;if(he>kt&&(te=Math.min(Math.abs(Ct-St)/2,+L.apply(this,arguments)))>.001){ue=St<Ct^be?0:1;var vn=te,xn=te;if(he<K){var On=pn==null?[tn,en]:Qe==null?[Re,Xe]:Jn([Re,Xe],[pn,rn],[Qe,We],[tn,en]),$n=Re-On[0],ia=Xe-On[1],fa=Qe-On[0],wa=We-On[1],La=1/Math.sin(Math.acos(($n*fa+ia*wa)/(Math.sqrt($n*$n+ia*ia)*Math.sqrt(fa*fa+wa*wa)))/2),Ma=Math.sqrt(On[0]*On[0]+On[1]*On[1]);xn=Math.min(te,(St-Ma)/(La-1)),vn=Math.min(te,(Ct-Ma)/(La+1))}if(Qe!=null){var Sa=pi(pn==null?[tn,en]:[pn,rn],[Re,Xe],Ct,vn,be),ya=pi([Qe,We],[tn,en],Ct,vn,be);te===vn?dn.push("M",Sa[0],"A",vn,",",vn," 0 0,",ue," ",Sa[1],"A",Ct,",",Ct," 0 ",1-be^hi(Sa[1][0],Sa[1][1],ya[1][0],ya[1][1]),",",be," ",ya[1],"A",vn,",",vn," 0 0,",ue," ",ya[0]):dn.push("M",Sa[0],"A",vn,",",vn," 0 1,",ue," ",ya[0])}else dn.push("M",Re,",",Xe);if(pn!=null){var Oa=pi([Re,Xe],[pn,rn],St,-xn,be),mr=pi([tn,en],Qe==null?[Re,Xe]:[Qe,We],St,-xn,be);te===xn?dn.push("L",mr[0],"A",xn,",",xn," 0 0,",ue," ",mr[1],"A",St,",",St," 0 ",be^hi(mr[1][0],mr[1][1],Oa[1][0],Oa[1][1]),",",1-be," ",Oa[1],"A",xn,",",xn," 0 0,",ue," ",Oa[0]):dn.push("L",mr[0],"A",xn,",",xn," 0 0,",ue," ",Oa[0])}else dn.push("L",tn,",",en)}else dn.push("M",Re,",",Xe),Qe!=null&&dn.push("A",Ct,",",Ct," 0 ",Sn,",",be," ",Qe,",",We),dn.push("L",tn,",",en),pn!=null&&dn.push("A",St,",",St," 0 ",Rn,",",1-be," ",pn,",",rn);return dn.push("Z"),dn.join("")}function wt(St,Ct){return"M0,"+St+"A"+St+","+St+" 0 1,"+Ct+" 0,"+-St+"A"+St+","+St+" 0 1,"+Ct+" 0,"+St}return ct.innerRadius=function(St){return arguments.length?(a=ye(St),ct):a},ct.outerRadius=function(St){return arguments.length?(x=ye(St),ct):x},ct.cornerRadius=function(St){return arguments.length?(L=ye(St),ct):L},ct.padRadius=function(St){return arguments.length?(B=St==di?di:ye(St),ct):B},ct.startAngle=function(St){return arguments.length?(Q=ye(St),ct):Q},ct.endAngle=function(St){return arguments.length?(nt=ye(St),ct):nt},ct.padAngle=function(St){return arguments.length?(vt=ye(St),ct):vt},ct.centroid=function(){var St=(+a.apply(this,arguments)+ +x.apply(this,arguments))/2,Ct=(+Q.apply(this,arguments)+ +nt.apply(this,arguments))/2-gt;return[Math.cos(Ct)*St,Math.sin(Ct)*St]},ct};var di="auto";function yp(a){return a.innerRadius}function mp(a){return a.outerRadius}function zs(a){return a.startAngle}function Bs(a){return a.endAngle}function xp(a){return a&&a.padAngle}function hi(a,x,L,B){return(a-L)*x-(x-B)*a>0?0:1}function pi(a,x,L,B,Q){var nt=a[0]-x[0],vt=a[1]-x[1],ct=(Q?B:-B)/Math.sqrt(nt*nt+vt*vt),wt=ct*vt,St=-ct*nt,Ct=a[0]+wt,Zt=a[1]+St,Kt=x[0]+wt,he=x[1]+St,be=(Ct+Kt)/2,te=(Zt+he)/2,ue=Kt-Ct,fe=he-Zt,me=ue*ue+fe*fe,xe=L-B,de=Ct*he-Kt*Zt,Re=(fe<0?-1:1)*Math.sqrt(Math.max(0,xe*xe*me-de*de)),Xe=(de*fe-ue*Re)/me,Qe=(-de*ue-fe*Re)/me,We=(de*fe+ue*Re)/me,tn=(-de*ue+fe*Re)/me,en=Xe-be,pn=Qe-te,rn=We-be,dn=tn-te;return en*en+pn*pn>rn*rn+dn*dn&&(Xe=We,Qe=tn),[[Xe-wt,Qe-St],[Xe*L/xe,Qe*L/xe]]}function Hs(){return!0}function js(a){var x=Xn,L=Wn,B=Hs,Q=Ba,nt=Q.key,vt=.7;function ct(wt){var St=[],Ct=[],Zt=-1,Kt=wt.length,he,be=ye(x),te=ye(L);function ue(){St.push("M",Q(a(Ct),vt))}for(;++Zt<Kt;)B.call(this,he=wt[Zt],Zt)?Ct.push([+be.call(this,he,Zt),+te.call(this,he,Zt)]):Ct.length&&(ue(),Ct=[]);return Ct.length&&ue(),St.length?St.join(""):null}return ct.x=function(wt){return arguments.length?(x=wt,ct):x},ct.y=function(wt){return arguments.length?(L=wt,ct):L},ct.defined=function(wt){return arguments.length?(B=wt,ct):B},ct.interpolate=function(wt){return arguments.length?(typeof wt=="function"?nt=Q=wt:nt=(Q=wo.get(wt)||Ba).key,ct):nt},ct.tension=function(wt){return arguments.length?(vt=wt,ct):vt},ct}i.svg.line=function(){return js(U)};var wo=i.map({linear:Ba,"linear-closed":Vs,step:bp,"step-before":Mo,"step-after":To,basis:Ys,"basis-open":Tp,"basis-closed":kp,bundle:Ap,cardinal:Mp,"cardinal-open":_p,"cardinal-closed":wp,monotone:Op});wo.forEach(function(a,x){x.key=a,x.closed=/-closed$/.test(a)});function Ba(a){return a.length>1?a.join("L"):a+"Z"}function Vs(a){return a.join("L")+"Z"}function bp(a){for(var x=0,L=a.length,B=a[0],Q=[B[0],",",B[1]];++x<L;)Q.push("H",(B[0]+(B=a[x])[0])/2,"V",B[1]);return L>1&&Q.push("H",B[0]),Q.join("")}function Mo(a){for(var x=0,L=a.length,B=a[0],Q=[B[0],",",B[1]];++x<L;)Q.push("V",(B=a[x])[1],"H",B[0]);return Q.join("")}function To(a){for(var x=0,L=a.length,B=a[0],Q=[B[0],",",B[1]];++x<L;)Q.push("H",(B=a[x])[0],"V",B[1]);return Q.join("")}function _p(a,x){return a.length<4?Ba(a):a[1]+vi(a.slice(1,-1),ko(a,x))}function wp(a,x){return a.length<3?Vs(a):a[0]+vi((a.push(a[0]),a),ko([a[a.length-2]].concat(a,[a[1]]),x))}function Mp(a,x){return a.length<3?Ba(a):a[0]+vi(a,ko(a,x))}function vi(a,x){if(x.length<1||a.length!=x.length&&a.length!=x.length+2)return Ba(a);var L=a.length!=x.length,B="",Q=a[0],nt=a[1],vt=x[0],ct=vt,wt=1;if(L&&(B+="Q"+(nt[0]-vt[0]*2/3)+","+(nt[1]-vt[1]*2/3)+","+nt[0]+","+nt[1],Q=a[1],wt=2),x.length>1){ct=x[1],nt=a[wt],wt++,B+="C"+(Q[0]+vt[0])+","+(Q[1]+vt[1])+","+(nt[0]-ct[0])+","+(nt[1]-ct[1])+","+nt[0]+","+nt[1];for(var St=2;St<x.length;St++,wt++)nt=a[wt],ct=x[St],B+="S"+(nt[0]-ct[0])+","+(nt[1]-ct[1])+","+nt[0]+","+nt[1]}if(L){var Ct=a[wt];B+="Q"+(nt[0]+ct[0]*2/3)+","+(nt[1]+ct[1]*2/3)+","+Ct[0]+","+Ct[1]}return B}function ko(a,x){for(var L=[],B=(1-x)/2,Q,nt=a[0],vt=a[1],ct=1,wt=a.length;++ct<wt;)Q=nt,nt=vt,vt=a[ct],L.push([B*(vt[0]-Q[0]),B*(vt[1]-Q[1])]);return L}function Ys(a){if(a.length<3)return Ba(a);var x=1,L=a.length,B=a[0],Q=B[0],nt=B[1],vt=[Q,Q,Q,(B=a[1])[0]],ct=[nt,nt,nt,B[1]],wt=[Q,",",nt,"L",Ia(rr,vt),",",Ia(rr,ct)];for(a.push(a[L-1]);++x<=L;)B=a[x],vt.shift(),vt.push(B[0]),ct.shift(),ct.push(B[1]),Ao(wt,vt,ct);return a.pop(),wt.push("L",B),wt.join("")}function Tp(a){if(a.length<4)return Ba(a);for(var x=[],L=-1,B=a.length,Q,nt=[0],vt=[0];++L<3;)Q=a[L],nt.push(Q[0]),vt.push(Q[1]);for(x.push(Ia(rr,nt)+","+Ia(rr,vt)),--L;++L<B;)Q=a[L],nt.shift(),nt.push(Q[0]),vt.shift(),vt.push(Q[1]),Ao(x,nt,vt);return x.join("")}function kp(a){for(var x,L=-1,B=a.length,Q=B+4,nt,vt=[],ct=[];++L<4;)nt=a[L%B],vt.push(nt[0]),ct.push(nt[1]);for(x=[Ia(rr,vt),",",Ia(rr,ct)],--L;++L<Q;)nt=a[L%B],vt.shift(),vt.push(nt[0]),ct.shift(),ct.push(nt[1]),Ao(x,vt,ct);return x.join("")}function Ap(a,x){var L=a.length-1;if(L)for(var B=a[0][0],Q=a[0][1],nt=a[L][0]-B,vt=a[L][1]-Q,ct=-1,wt,St;++ct<=L;)wt=a[ct],St=ct/L,wt[0]=x*wt[0]+(1-x)*(B+St*nt),wt[1]=x*wt[1]+(1-x)*(Q+St*vt);return Ys(a)}function Ia(a,x){return a[0]*x[0]+a[1]*x[1]+a[2]*x[2]+a[3]*x[3]}var Zs=[0,2/3,1/3,0],Us=[0,1/3,2/3,0],rr=[0,1/6,2/3,1/6];function Ao(a,x,L){a.push("C",Ia(Zs,x),",",Ia(Zs,L),",",Ia(Us,x),",",Ia(Us,L),",",Ia(rr,x),",",Ia(rr,L))}function Lo(a,x){return(x[1]-a[1])/(x[0]-a[0])}function Lp(a){for(var x=0,L=a.length-1,B=[],Q=a[0],nt=a[1],vt=B[0]=Lo(Q,nt);++x<L;)B[x]=(vt+(vt=Lo(Q=nt,nt=a[x+1])))/2;return B[x]=vt,B}function Sp(a){for(var x=[],L,B,Q,nt,vt=Lp(a),ct=-1,wt=a.length-1;++ct<wt;)L=Lo(a[ct],a[ct+1]),c(L)<kt?vt[ct]=vt[ct+1]=0:(B=vt[ct]/L,Q=vt[ct+1]/L,nt=B*B+Q*Q,nt>9&&(nt=L*3/Math.sqrt(nt),vt[ct]=nt*B,vt[ct+1]=nt*Q));for(ct=-1;++ct<=wt;)nt=(a[Math.min(wt,ct+1)][0]-a[Math.max(0,ct-1)][0])/(6*(1+vt[ct]*vt[ct])),x.push([nt||0,vt[ct]*nt||0]);return x}function Op(a){return a.length<3?Ba(a):a[0]+vi(a,Sp(a))}i.svg.line.radial=function(){var a=js(Gs);return a.radius=a.x,delete a.x,a.angle=a.y,delete a.y,a};function Gs(a){for(var x,L=-1,B=a.length,Q,nt;++L<B;)x=a[L],Q=x[0],nt=x[1]-gt,x[0]=Q*Math.cos(nt),x[1]=Q*Math.sin(nt);return a}function Xs(a){var x=Xn,L=Xn,B=0,Q=Wn,nt=Hs,vt=Ba,ct=vt.key,wt=vt,St="L",Ct=.7;function Zt(Kt){var he=[],be=[],te=[],ue=-1,fe=Kt.length,me,xe=ye(x),de=ye(B),Re=x===L?function(){return Qe}:ye(L),Xe=B===Q?function(){return We}:ye(Q),Qe,We;function tn(){he.push("M",vt(a(te),Ct),St,wt(a(be.reverse()),Ct),"Z")}for(;++ue<fe;)nt.call(this,me=Kt[ue],ue)?(be.push([Qe=+xe.call(this,me,ue),We=+de.call(this,me,ue)]),te.push([+Re.call(this,me,ue),+Xe.call(this,me,ue)])):be.length&&(tn(),be=[],te=[]);return be.length&&tn(),he.length?he.join(""):null}return Zt.x=function(Kt){return arguments.length?(x=L=Kt,Zt):L},Zt.x0=function(Kt){return arguments.length?(x=Kt,Zt):x},Zt.x1=function(Kt){return arguments.length?(L=Kt,Zt):L},Zt.y=function(Kt){return arguments.length?(B=Q=Kt,Zt):Q},Zt.y0=function(Kt){return arguments.length?(B=Kt,Zt):B},Zt.y1=function(Kt){return arguments.length?(Q=Kt,Zt):Q},Zt.defined=function(Kt){return arguments.length?(nt=Kt,Zt):nt},Zt.interpolate=function(Kt){return arguments.length?(typeof Kt=="function"?ct=vt=Kt:ct=(vt=wo.get(Kt)||Ba).key,wt=vt.reverse||vt,St=vt.closed?"M":"L",Zt):ct},Zt.tension=function(Kt){return arguments.length?(Ct=Kt,Zt):Ct},Zt}Mo.reverse=To,To.reverse=Mo,i.svg.area=function(){return Xs(U)},i.svg.area.radial=function(){var a=Xs(Gs);return a.radius=a.x,delete a.x,a.innerRadius=a.x0,delete a.x0,a.outerRadius=a.x1,delete a.x1,a.angle=a.y,delete a.y,a.startAngle=a.y0,delete a.y0,a.endAngle=a.y1,delete a.y1,a};function Ws(a){return a.source}function Js(a){return a.target}i.svg.chord=function(){var a=Ws,x=Js,L=Cp,B=zs,Q=Bs;function nt(Ct,Zt){var Kt=vt(this,a,Ct,Zt),he=vt(this,x,Ct,Zt);return"M"+Kt.p0+wt(Kt.r,Kt.p1,Kt.a1-Kt.a0)+(ct(Kt,he)?St(Kt.r,Kt.p1,Kt.r,Kt.p0):St(Kt.r,Kt.p1,he.r,he.p0)+wt(he.r,he.p1,he.a1-he.a0)+St(he.r,he.p1,Kt.r,Kt.p0))+"Z"}function vt(Ct,Zt,Kt,he){var be=Zt.call(Ct,Kt,he),te=L.call(Ct,be,he),ue=B.call(Ct,be,he)-gt,fe=Q.call(Ct,be,he)-gt;return{r:te,a0:ue,a1:fe,p0:[te*Math.cos(ue),te*Math.sin(ue)],p1:[te*Math.cos(fe),te*Math.sin(fe)]}}function ct(Ct,Zt){return Ct.a0==Zt.a0&&Ct.a1==Zt.a1}function wt(Ct,Zt,Kt){return"A"+Ct+","+Ct+" 0 "+ +(Kt>K)+",1 "+Zt}function St(Ct,Zt,Kt,he){return"Q 0,0 "+he}return nt.radius=function(Ct){return arguments.length?(L=ye(Ct),nt):L},nt.source=function(Ct){return arguments.length?(a=ye(Ct),nt):a},nt.target=function(Ct){return arguments.length?(x=ye(Ct),nt):x},nt.startAngle=function(Ct){return arguments.length?(B=ye(Ct),nt):B},nt.endAngle=function(Ct){return arguments.length?(Q=ye(Ct),nt):Q},nt};function Cp(a){return a.radius}i.svg.diagonal=function(){var a=Ws,x=Js,L=qs;function B(Q,nt){var vt=a.call(this,Q,nt),ct=x.call(this,Q,nt),wt=(vt.y+ct.y)/2,St=[vt,{x:vt.x,y:wt},{x:ct.x,y:wt},ct];return St=St.map(L),"M"+St[0]+"C"+St[1]+" "+St[2]+" "+St[3]}return B.source=function(Q){return arguments.length?(a=ye(Q),B):a},B.target=function(Q){return arguments.length?(x=ye(Q),B):x},B.projection=function(Q){return arguments.length?(L=Q,B):L},B};function qs(a){return[a.x,a.y]}i.svg.diagonal.radial=function(){var a=i.svg.diagonal(),x=qs,L=a.projection;return a.projection=function(B){return arguments.length?L(Dp(x=B)):x},a};function Dp(a){return function(){var x=a.apply(this,arguments),L=x[0],B=x[1]-gt;return[L*Math.cos(B),L*Math.sin(B)]}}i.svg.symbol=function(){var a=Ip,x=Pp;function L(B,Q){return(Qs.get(a.call(this,B,Q))||$s)(x.call(this,B,Q))}return L.type=function(B){return arguments.length?(a=ye(B),L):a},L.size=function(B){return arguments.length?(x=ye(B),L):x},L};function Pp(){return 64}function Ip(){return"circle"}function $s(a){var x=Math.sqrt(a/K);return"M0,"+x+"A"+x+","+x+" 0 1,1 0,"+-x+"A"+x+","+x+" 0 1,1 0,"+x+"Z"}var Qs=i.map({circle:$s,cross:function(a){var x=Math.sqrt(a/5)/2;return"M"+-3*x+","+-x+"H"+-x+"V"+-3*x+"H"+x+"V"+-x+"H"+3*x+"V"+x+"H"+x+"V"+3*x+"H"+-x+"V"+x+"H"+-3*x+"Z"},diamond:function(a){var x=Math.sqrt(a/(2*Ks)),L=x*Ks;return"M0,"+-x+"L"+L+",0 0,"+x+" "+-L+",0Z"},square:function(a){var x=Math.sqrt(a)/2;return"M"+-x+","+-x+"L"+x+","+-x+" "+x+","+x+" "+-x+","+x+"Z"},"triangle-down":function(a){var x=Math.sqrt(a/gi),L=x*gi/2;return"M0,"+L+"L"+x+","+-L+" "+-x+","+-L+"Z"},"triangle-up":function(a){var x=Math.sqrt(a/gi),L=x*gi/2;return"M0,"+-L+"L"+x+","+L+" "+-x+","+L+"Z"}});i.svg.symbolTypes=Qs.keys();var gi=Math.sqrt(3),Ks=Math.tan(30*It);z.transition=function(a){for(var x=yr||++eu,L=Oo(a),B=[],Q,nt,vt=mi||{time:Date.now(),ease:dh,delay:0,duration:250},ct=-1,wt=this.length;++ct<wt;){B.push(Q=[]);for(var St=this[ct],Ct=-1,Zt=St.length;++Ct<Zt;)(nt=St[Ct])&&xi(nt,Ct,L,x,vt),Q.push(nt)}return Zr(B,L,x)},z.interrupt=function(a){return this.each(a==null?yi:tu(Oo(a)))};var yi=tu(Oo());function tu(a){return function(){var x,L,B;(x=this[a])&&(B=x[L=x.active])&&(B.timer.c=null,B.timer.t=NaN,--x.count?delete x[L]:delete this[a],x.active+=.5,B.event&&B.event.interrupt.call(this,this.__data__,B.index))}}function Zr(a,x,L){return H(a,ra),a.namespace=x,a.id=L,a}var ra=[],eu=0,yr,mi;ra.call=z.call,ra.empty=z.empty,ra.node=z.node,ra.size=z.size,i.transition=function(a,x){return a&&a.transition?yr?a.transition(x):a:i.selection().transition(a)},i.transition.prototype=ra,ra.select=function(a){var x=this.id,L=this.namespace,B=[],Q,nt,vt;a=M(a);for(var ct=-1,wt=this.length;++ct<wt;){B.push(Q=[]);for(var St=this[ct],Ct=-1,Zt=St.length;++Ct<Zt;)(vt=St[Ct])&&(nt=a.call(vt,vt.__data__,Ct,ct))?("__data__"in vt&&(nt.__data__=vt.__data__),xi(nt,Ct,L,x,vt[L][x]),Q.push(nt)):Q.push(null)}return Zr(B,L,x)},ra.selectAll=function(a){var x=this.id,L=this.namespace,B=[],Q,nt,vt,ct,wt;a=S(a);for(var St=-1,Ct=this.length;++St<Ct;)for(var Zt=this[St],Kt=-1,he=Zt.length;++Kt<he;)if(vt=Zt[Kt]){wt=vt[L][x],nt=a.call(vt,vt.__data__,Kt,St),B.push(Q=[]);for(var be=-1,te=nt.length;++be<te;)(ct=nt[be])&&xi(ct,be,L,x,wt),Q.push(ct)}return Zr(B,L,x)},ra.filter=function(a){var x=[],L,B,Q;typeof a!="function"&&(a=ot(a));for(var nt=0,vt=this.length;nt<vt;nt++){x.push(L=[]);for(var B=this[nt],ct=0,wt=B.length;ct<wt;ct++)(Q=B[ct])&&a.call(Q,Q.__data__,ct,nt)&&L.push(Q)}return Zr(x,this.namespace,this.id)},ra.tween=function(a,x){var L=this.id,B=this.namespace;return arguments.length<2?this.node()[B][L].tween.get(a):Nt(this,x==null?function(Q){Q[B][L].tween.remove(a)}:function(Q){Q[B][L].tween.set(a,x)})};function So(a,x,L,B){var Q=a.id,nt=a.namespace;return Nt(a,typeof L=="function"?function(vt,ct,wt){vt[nt][Q].tween.set(x,B(L.call(vt,vt.__data__,ct,wt)))}:(L=B(L),function(vt){vt[nt][Q].tween.set(x,L)}))}ra.attr=function(a,x){if(arguments.length<2){for(x in a)this.attr(x,a[x]);return this}var L=a=="transform"?hs:gr,B=i.ns.qualify(a);function Q(){this.removeAttribute(B)}function nt(){this.removeAttributeNS(B.space,B.local)}function vt(wt){return wt==null?Q:(wt+="",function(){var St=this.getAttribute(B),Ct;return St!==wt&&(Ct=L(St,wt),function(Zt){this.setAttribute(B,Ct(Zt))})})}function ct(wt){return wt==null?nt:(wt+="",function(){var St=this.getAttributeNS(B.space,B.local),Ct;return St!==wt&&(Ct=L(St,wt),function(Zt){this.setAttributeNS(B.space,B.local,Ct(Zt))})})}return So(this,"attr."+a,x,B.local?ct:vt)},ra.attrTween=function(a,x){var L=i.ns.qualify(a);function B(nt,vt){var ct=x.call(this,nt,vt,this.getAttribute(L));return ct&&function(wt){this.setAttribute(L,ct(wt))}}function Q(nt,vt){var ct=x.call(this,nt,vt,this.getAttributeNS(L.space,L.local));return ct&&function(wt){this.setAttributeNS(L.space,L.local,ct(wt))}}return this.tween("attr."+a,L.local?Q:B)},ra.style=function(a,x,L){var B=arguments.length;if(B<3){if(typeof a!="string"){B<2&&(x="");for(L in a)this.style(L,a[L],x);return this}L=""}function Q(){this.style.removeProperty(a)}function nt(vt){return vt==null?Q:(vt+="",function(){var ct=o(this).getComputedStyle(this,null).getPropertyValue(a),wt;return ct!==vt&&(wt=gr(ct,vt),function(St){this.style.setProperty(a,wt(St),L)})})}return So(this,"style."+a,x,nt)},ra.styleTween=function(a,x,L){arguments.length<3&&(L="");function B(Q,nt){var vt=x.call(this,Q,nt,o(this).getComputedStyle(this,null).getPropertyValue(a));return vt&&function(ct){this.style.setProperty(a,vt(ct),L)}}return this.tween("style."+a,B)},ra.text=function(a){return So(this,"text",a,Fp)};function Fp(a){return a==null&&(a=""),function(){this.textContent=a}}ra.remove=function(){var a=this.namespace;return this.each("end.transition",function(){var x;this[a].count<2&&(x=this.parentNode)&&x.removeChild(this)})},ra.ease=function(a){var x=this.id,L=this.namespace;return arguments.length<1?this.node()[L][x].ease:(typeof a!="function"&&(a=i.ease.apply(i,arguments)),Nt(this,function(B){B[L][x].ease=a}))},ra.delay=function(a){var x=this.id,L=this.namespace;return arguments.length<1?this.node()[L][x].delay:Nt(this,typeof a=="function"?function(B,Q,nt){B[L][x].delay=+a.call(B,B.__data__,Q,nt)}:(a=+a,function(B){B[L][x].delay=a}))},ra.duration=function(a){var x=this.id,L=this.namespace;return arguments.length<1?this.node()[L][x].duration:Nt(this,typeof a=="function"?function(B,Q,nt){B[L][x].duration=Math.max(1,a.call(B,B.__data__,Q,nt))}:(a=Math.max(1,a),function(B){B[L][x].duration=a}))},ra.each=function(a,x){var L=this.id,B=this.namespace;if(arguments.length<2){var Q=mi,nt=yr;try{yr=L,Nt(this,function(vt,ct,wt){mi=vt[B][L],a.call(vt,vt.__data__,ct,wt)})}finally{mi=Q,yr=nt}}else Nt(this,function(vt){var ct=vt[B][L];(ct.event||(ct.event=i.dispatch("start","end","interrupt"))).on(a,x)});return this},ra.transition=function(){for(var a=this.id,x=++eu,L=this.namespace,B=[],Q,nt,vt,ct,wt=0,St=this.length;wt<St;wt++){B.push(Q=[]);for(var nt=this[wt],Ct=0,Zt=nt.length;Ct<Zt;Ct++)(vt=nt[Ct])&&(ct=vt[L][a],xi(vt,Ct,L,x,{time:ct.time,ease:ct.ease,delay:ct.delay+ct.duration,duration:ct.duration})),Q.push(vt)}return Zr(B,L,x)};function Oo(a){return a==null?"__transition__":"__transition_"+a+"__"}function xi(a,x,L,B,Q){var nt=a[L]||(a[L]={active:0,count:0}),vt=nt[B],ct,wt,St,Ct,Zt;function Kt(te){var ue=vt.delay;if(wt.t=ue+ct,ue<=te)return he(te-ue);wt.c=he}function he(te){var ue=nt.active,fe=nt[ue];fe&&(fe.timer.c=null,fe.timer.t=NaN,--nt.count,delete nt[ue],fe.event&&fe.event.interrupt.call(a,a.__data__,fe.index));for(var me in nt)if(+me<B){var xe=nt[me];xe.timer.c=null,xe.timer.t=NaN,--nt.count,delete nt[me]}wt.c=be,cn(function(){return wt.c&&be(te||1)&&(wt.c=null,wt.t=NaN),1},0,ct),nt.active=B,vt.event&&vt.event.start.call(a,a.__data__,x),Zt=[],vt.tween.forEach(function(de,Re){(Re=Re.call(a,a.__data__,x))&&Zt.push(Re)}),Ct=vt.ease,St=vt.duration}function be(te){for(var ue=te/St,fe=Ct(ue),me=Zt.length;me>0;)Zt[--me].call(a,fe);if(ue>=1)return vt.event&&vt.event.end.call(a,a.__data__,x),--nt.count?delete nt[B]:delete a[L],1}vt||(ct=Q.time,wt=cn(Kt,0,ct),vt=nt[B]={tween:new w,time:ct,timer:wt,delay:Q.delay,duration:Q.duration,ease:Q.ease,index:x},Q=null,++nt.count)}i.svg.axis=function(){var a=i.scale.linear(),x=nu,L=6,B=6,Q=3,nt=[10],vt=null,ct;function wt(St){St.each(function(){var Ct=i.select(this),Zt=this.__chart__||a,Kt=this.__chart__=a.copy(),he=vt??(Kt.ticks?Kt.ticks.apply(Kt,nt):Kt.domain()),be=ct??(Kt.tickFormat?Kt.tickFormat.apply(Kt,nt):U),te=Ct.selectAll(".tick").data(he,Kt),ue=te.enter().insert("g",".domain").attr("class","tick").style("opacity",kt),fe=i.transition(te.exit()).style("opacity",kt).remove(),me=i.transition(te.order()).style("opacity",1),xe=Math.max(L,0)+Q,de,Re=ci(Kt),Xe=Ct.selectAll(".domain").data([0]),Qe=(Xe.enter().append("path").attr("class","domain"),i.transition(Xe));ue.append("line"),ue.append("text");var We=ue.select("line"),tn=me.select("line"),en=te.select("text").text(be),pn=ue.select("text"),rn=me.select("text"),dn=x==="top"||x==="left"?-1:1,Sn,ta,Rn,Ue;if(x==="bottom"||x==="top"?(de=Np,Sn="x",Rn="y",ta="x2",Ue="y2",en.attr("dy",dn<0?"0em":".71em").style("text-anchor","middle"),Qe.attr("d","M"+Re[0]+","+dn*B+"V0H"+Re[1]+"V"+dn*B)):(de=Ep,Sn="y",Rn="x",ta="y2",Ue="x2",en.attr("dy",".32em").style("text-anchor",dn<0?"end":"start"),Qe.attr("d","M"+dn*B+","+Re[0]+"H0V"+Re[1]+"H"+dn*B)),We.attr(Ue,dn*L),pn.attr(Rn,dn*xe),tn.attr(ta,0).attr(Ue,dn*L),rn.attr(Sn,0).attr(Rn,dn*xe),Kt.rangeBand){var vn=Kt,xn=vn.rangeBand()/2;Zt=Kt=function(On){return vn(On)+xn}}else Zt.rangeBand?Zt=Kt:fe.call(de,Kt,Zt);ue.call(de,Zt,Kt),me.call(de,Kt,Kt)})}return wt.scale=function(St){return arguments.length?(a=St,wt):a},wt.orient=function(St){return arguments.length?(x=St in Rp?St+"":nu,wt):x},wt.ticks=function(){return arguments.length?(nt=n(arguments),wt):nt},wt.tickValues=function(St){return arguments.length?(vt=St,wt):vt},wt.tickFormat=function(St){return arguments.length?(ct=St,wt):ct},wt.tickSize=function(St){var Ct=arguments.length;return Ct?(L=+St,B=+arguments[Ct-1],wt):L},wt.innerTickSize=function(St){return arguments.length?(L=+St,wt):L},wt.outerTickSize=function(St){return arguments.length?(B=+St,wt):B},wt.tickPadding=function(St){return arguments.length?(Q=+St,wt):Q},wt.tickSubdivide=function(){return arguments.length&&wt},wt};var nu="bottom",Rp={top:1,right:1,bottom:1,left:1};function Np(a,x,L){a.attr("transform",function(B){var Q=x(B);return"translate("+(isFinite(Q)?Q:L(B))+",0)"})}function Ep(a,x,L){a.attr("transform",function(B){var Q=x(B);return"translate(0,"+(isFinite(Q)?Q:L(B))+")"})}i.svg.brush=function(){var a=ht(Ct,"brushstart","brush","brushend"),x=null,L=null,B=[0,0],Q=[0,0],nt,vt,ct=!0,wt=!0,St=Co[0];function Ct(te){te.each(function(){var ue=i.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",be).on("touchstart.brush",be),fe=ue.selectAll(".background").data([0]);fe.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),ue.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var me=ue.selectAll(".resize").data(St,U);me.exit().remove(),me.enter().append("g").attr("class",function(Xe){return"resize "+Xe}).style("cursor",function(Xe){return zp[Xe]}).append("rect").attr("x",function(Xe){return/[ew]$/.test(Xe)?-3:null}).attr("y",function(Xe){return/^[ns]/.test(Xe)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),me.style("display",Ct.empty()?"none":null);var xe=i.transition(ue),de=i.transition(fe),Re;x&&(Re=ci(x),de.attr("x",Re[0]).attr("width",Re[1]-Re[0]),Kt(xe)),L&&(Re=ci(L),de.attr("y",Re[0]).attr("height",Re[1]-Re[0]),he(xe)),Zt(xe)})}Ct.event=function(te){te.each(function(){var ue=a.of(this,arguments),fe={x:B,y:Q,i:nt,j:vt},me=this.__chart__||fe;this.__chart__=fe,yr?i.select(this).transition().each("start.brush",function(){nt=me.i,vt=me.j,B=me.x,Q=me.y,ue({type:"brushstart"})}).tween("brush:brush",function(){var xe=si(B,fe.x),de=si(Q,fe.y);return nt=vt=null,function(Re){B=fe.x=xe(Re),Q=fe.y=de(Re),ue({type:"brush",mode:"resize"})}}).each("end.brush",function(){nt=fe.i,vt=fe.j,ue({type:"brush",mode:"resize"}),ue({type:"brushend"})}):(ue({type:"brushstart"}),ue({type:"brush",mode:"resize"}),ue({type:"brushend"}))})};function Zt(te){te.selectAll(".resize").attr("transform",function(ue){return"translate("+B[+/e$/.test(ue)]+","+Q[+/^s/.test(ue)]+")"})}function Kt(te){te.select(".extent").attr("x",B[0]),te.selectAll(".extent,.n>rect,.s>rect").attr("width",B[1]-B[0])}function he(te){te.select(".extent").attr("y",Q[0]),te.selectAll(".extent,.e>rect,.w>rect").attr("height",Q[1]-Q[0])}function be(){var te=this,ue=i.select(i.event.target),fe=a.of(te,arguments),me=i.select(te),xe=ue.datum(),de=!/^(n|s)$/.test(xe)&&x,Re=!/^(e|w)$/.test(xe)&&L,Xe=ue.classed("extent"),Qe=Te(te),We,tn=i.mouse(te),en,pn=i.select(o(te)).on("keydown.brush",Sn).on("keyup.brush",ta);if(i.event.changedTouches?pn.on("touchmove.brush",Rn).on("touchend.brush",vn):pn.on("mousemove.brush",Rn).on("mouseup.brush",vn),me.interrupt().selectAll("*").interrupt(),Xe)tn[0]=B[0]-tn[0],tn[1]=Q[0]-tn[1];else if(xe){var rn=+/w$/.test(xe),dn=+/^n/.test(xe);en=[B[1-rn]-tn[0],Q[1-dn]-tn[1]],tn[0]=B[rn],tn[1]=Q[dn]}else i.event.altKey&&(We=tn.slice());me.style("pointer-events","none").selectAll(".resize").style("display",null),i.select("body").style("cursor",ue.style("cursor")),fe({type:"brushstart"}),Rn();function Sn(){i.event.keyCode==32&&(Xe||(We=null,tn[0]-=B[1],tn[1]-=Q[1],Xe=2),it())}function ta(){i.event.keyCode==32&&Xe==2&&(tn[0]+=B[1],tn[1]+=Q[1],Xe=0,it())}function Rn(){var xn=i.mouse(te),On=!1;en&&(xn[0]+=en[0],xn[1]+=en[1]),Xe||(i.event.altKey?(We||(We=[(B[0]+B[1])/2,(Q[0]+Q[1])/2]),tn[0]=B[+(xn[0]<We[0])],tn[1]=Q[+(xn[1]<We[1])]):We=null),de&&Ue(xn,x,0)&&(Kt(me),On=!0),Re&&Ue(xn,L,1)&&(he(me),On=!0),On&&(Zt(me),fe({type:"brush",mode:Xe?"move":"resize"}))}function Ue(xn,On,$n){var ia=ci(On),fa=ia[0],wa=ia[1],La=tn[$n],Ma=$n?Q:B,Sa=Ma[1]-Ma[0],ya,Oa;if(Xe&&(fa-=La,wa-=Sa+La),ya=($n?wt:ct)?Math.max(fa,Math.min(wa,xn[$n])):xn[$n],Xe?Oa=(ya+=La)+Sa:(We&&(La=Math.max(fa,Math.min(wa,2*We[$n]-ya))),La<ya?(Oa=ya,ya=La):Oa=La),Ma[0]!=ya||Ma[1]!=Oa)return $n?vt=null:nt=null,Ma[0]=ya,Ma[1]=Oa,!0}function vn(){Rn(),me.style("pointer-events","all").selectAll(".resize").style("display",Ct.empty()?"none":null),i.select("body").style("cursor",null),pn.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),Qe(),fe({type:"brushend"})}}return Ct.x=function(te){return arguments.length?(x=te,St=Co[!x<<1|!L],Ct):x},Ct.y=function(te){return arguments.length?(L=te,St=Co[!x<<1|!L],Ct):L},Ct.clamp=function(te){return arguments.length?(x&&L?(ct=!!te[0],wt=!!te[1]):x?ct=!!te:L&&(wt=!!te),Ct):x&&L?[ct,wt]:x?ct:L?wt:null},Ct.extent=function(te){var ue,fe,me,xe,de;return arguments.length?(x&&(ue=te[0],fe=te[1],L&&(ue=ue[0],fe=fe[0]),nt=[ue,fe],x.invert&&(ue=x(ue),fe=x(fe)),fe<ue&&(de=ue,ue=fe,fe=de),(ue!=B[0]||fe!=B[1])&&(B=[ue,fe])),L&&(me=te[0],xe=te[1],x&&(me=me[1],xe=xe[1]),vt=[me,xe],L.invert&&(me=L(me),xe=L(xe)),xe<me&&(de=me,me=xe,xe=de),(me!=Q[0]||xe!=Q[1])&&(Q=[me,xe])),Ct):(x&&(nt?(ue=nt[0],fe=nt[1]):(ue=B[0],fe=B[1],x.invert&&(ue=x.invert(ue),fe=x.invert(fe)),fe<ue&&(de=ue,ue=fe,fe=de))),L&&(vt?(me=vt[0],xe=vt[1]):(me=Q[0],xe=Q[1],L.invert&&(me=L.invert(me),xe=L.invert(xe)),xe<me&&(de=me,me=xe,xe=de))),x&&L?[[ue,me],[fe,xe]]:x?[ue,fe]:L&&[me,xe])},Ct.clear=function(){return Ct.empty()||(B=[0,0],Q=[0,0],nt=vt=null),Ct},Ct.empty=function(){return!!x&&B[0]==B[1]||!!L&&Q[0]==Q[1]},i.rebind(Ct,a,"on")};var zp={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Co=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];i.text=_e(function(a){return a.responseText}),i.json=function(a,x){return Me(a,"application/json",Bp,x)};function Bp(a){return JSON.parse(a.responseText)}i.html=function(a,x){return Me(a,"text/html",Hp,x)};function Hp(a){var x=r.createRange();return x.selectNode(r.body),x.createContextualFragment(a.responseText)}i.xml=_e(function(a){return a.responseXML}),typeof D=="object"&&D.exports?D.exports=i:this.d3=i}).apply(self)}),Po=Dt((F,D)=>{(function(i,t){typeof F=="object"&&typeof D<"u"?t(F):(i=i||self,t(i.d3=i.d3||{}))})(F,function(i){var t=new Date,n=new Date;function r(ot,Lt,Nt,Vt){function ae(Jt){return ot(Jt=arguments.length===0?new Date:new Date(+Jt)),Jt}return ae.floor=function(Jt){return ot(Jt=new Date(+Jt)),Jt},ae.ceil=function(Jt){return ot(Jt=new Date(Jt-1)),Lt(Jt,1),ot(Jt),Jt},ae.round=function(Jt){var re=ae(Jt),oe=ae.ceil(Jt);return Jt-re<oe-Jt?re:oe},ae.offset=function(Jt,re){return Lt(Jt=new Date(+Jt),re==null?1:Math.floor(re)),Jt},ae.range=function(Jt,re,oe){var le=[],ve;if(Jt=ae.ceil(Jt),oe=oe==null?1:Math.floor(oe),!(Jt<re)||!(oe>0))return le;do le.push(ve=new Date(+Jt)),Lt(Jt,oe),ot(Jt);while(ve<Jt&&Jt<re);return le},ae.filter=function(Jt){return r(function(re){if(re>=re)for(;ot(re),!Jt(re);)re.setTime(re-1)},function(re,oe){if(re>=re)if(oe<0)for(;++oe<=0;)for(;Lt(re,-1),!Jt(re););else for(;--oe>=0;)for(;Lt(re,1),!Jt(re););})},Nt&&(ae.count=function(Jt,re){return t.setTime(+Jt),n.setTime(+re),ot(t),ot(n),Math.floor(Nt(t,n))},ae.every=function(Jt){return Jt=Math.floor(Jt),!isFinite(Jt)||!(Jt>0)?null:Jt>1?ae.filter(Vt?function(re){return Vt(re)%Jt===0}:function(re){return ae.count(0,re)%Jt===0}):ae}),ae}var l=r(function(){},function(ot,Lt){ot.setTime(+ot+Lt)},function(ot,Lt){return Lt-ot});l.every=function(ot){return ot=Math.floor(ot),!isFinite(ot)||!(ot>0)?null:ot>1?r(function(Lt){Lt.setTime(Math.floor(Lt/ot)*ot)},function(Lt,Nt){Lt.setTime(+Lt+Nt*ot)},function(Lt,Nt){return(Nt-Lt)/ot}):l};var o=l.range,s=1e3,f=6e4,e=36e5,p=864e5,u=6048e5,h=r(function(ot){ot.setTime(ot-ot.getMilliseconds())},function(ot,Lt){ot.setTime(+ot+Lt*s)},function(ot,Lt){return(Lt-ot)/s},function(ot){return ot.getUTCSeconds()}),b=h.range,m=r(function(ot){ot.setTime(ot-ot.getMilliseconds()-ot.getSeconds()*s)},function(ot,Lt){ot.setTime(+ot+Lt*f)},function(ot,Lt){return(Lt-ot)/f},function(ot){return ot.getMinutes()}),g=m.range,y=r(function(ot){ot.setTime(ot-ot.getMilliseconds()-ot.getSeconds()*s-ot.getMinutes()*f)},function(ot,Lt){ot.setTime(+ot+Lt*e)},function(ot,Lt){return(Lt-ot)/e},function(ot){return ot.getHours()}),v=y.range,c=r(function(ot){ot.setHours(0,0,0,0)},function(ot,Lt){ot.setDate(ot.getDate()+Lt)},function(ot,Lt){return(Lt-ot-(Lt.getTimezoneOffset()-ot.getTimezoneOffset())*f)/p},function(ot){return ot.getDate()-1}),d=c.range;function _(ot){return r(function(Lt){Lt.setDate(Lt.getDate()-(Lt.getDay()+7-ot)%7),Lt.setHours(0,0,0,0)},function(Lt,Nt){Lt.setDate(Lt.getDate()+Nt*7)},function(Lt,Nt){return(Nt-Lt-(Nt.getTimezoneOffset()-Lt.getTimezoneOffset())*f)/u})}var w=_(0),k=_(1),$=_(2),P=_(3),O=_(4),T=_(5),X=_(6),I=w.range,E=k.range,N=$.range,V=P.range,U=O.range,G=T.range,C=X.range,W=r(function(ot){ot.setDate(1),ot.setHours(0,0,0,0)},function(ot,Lt){ot.setMonth(ot.getMonth()+Lt)},function(ot,Lt){return Lt.getMonth()-ot.getMonth()+(Lt.getFullYear()-ot.getFullYear())*12},function(ot){return ot.getMonth()}),J=W.range,at=r(function(ot){ot.setMonth(0,1),ot.setHours(0,0,0,0)},function(ot,Lt){ot.setFullYear(ot.getFullYear()+Lt)},function(ot,Lt){return Lt.getFullYear()-ot.getFullYear()},function(ot){return ot.getFullYear()});at.every=function(ot){return!isFinite(ot=Math.floor(ot))||!(ot>0)?null:r(function(Lt){Lt.setFullYear(Math.floor(Lt.getFullYear()/ot)*ot),Lt.setMonth(0,1),Lt.setHours(0,0,0,0)},function(Lt,Nt){Lt.setFullYear(Lt.getFullYear()+Nt*ot)})};var et=at.range,it=r(function(ot){ot.setUTCSeconds(0,0)},function(ot,Lt){ot.setTime(+ot+Lt*f)},function(ot,Lt){return(Lt-ot)/f},function(ot){return ot.getUTCMinutes()}),dt=it.range,ht=r(function(ot){ot.setUTCMinutes(0,0,0)},function(ot,Lt){ot.setTime(+ot+Lt*e)},function(ot,Lt){return(Lt-ot)/e},function(ot){return ot.getUTCHours()}),xt=ht.range,H=r(function(ot){ot.setUTCHours(0,0,0,0)},function(ot,Lt){ot.setUTCDate(ot.getUTCDate()+Lt)},function(ot,Lt){return(Lt-ot)/p},function(ot){return ot.getUTCDate()-1}),j=H.range;function A(ot){return r(function(Lt){Lt.setUTCDate(Lt.getUTCDate()-(Lt.getUTCDay()+7-ot)%7),Lt.setUTCHours(0,0,0,0)},function(Lt,Nt){Lt.setUTCDate(Lt.getUTCDate()+Nt*7)},function(Lt,Nt){return(Nt-Lt)/u})}var q=A(0),R=A(1),z=A(2),M=A(3),S=A(4),Z=A(5),Y=A(6),rt=q.range,st=R.range,ut=z.range,_t=M.range,At=S.range,Rt=Z.range,Xt=Y.range,Bt=r(function(ot){ot.setUTCDate(1),ot.setUTCHours(0,0,0,0)},function(ot,Lt){ot.setUTCMonth(ot.getUTCMonth()+Lt)},function(ot,Lt){return Lt.getUTCMonth()-ot.getUTCMonth()+(Lt.getUTCFullYear()-ot.getUTCFullYear())*12},function(ot){return ot.getUTCMonth()}),Ht=Bt.range,pt=r(function(ot){ot.setUTCMonth(0,1),ot.setUTCHours(0,0,0,0)},function(ot,Lt){ot.setUTCFullYear(ot.getUTCFullYear()+Lt)},function(ot,Lt){return Lt.getUTCFullYear()-ot.getUTCFullYear()},function(ot){return ot.getUTCFullYear()});pt.every=function(ot){return!isFinite(ot=Math.floor(ot))||!(ot>0)?null:r(function(Lt){Lt.setUTCFullYear(Math.floor(Lt.getUTCFullYear()/ot)*ot),Lt.setUTCMonth(0,1),Lt.setUTCHours(0,0,0,0)},function(Lt,Nt){Lt.setUTCFullYear(Lt.getUTCFullYear()+Nt*ot)})};var bt=pt.range;i.timeDay=c,i.timeDays=d,i.timeFriday=T,i.timeFridays=G,i.timeHour=y,i.timeHours=v,i.timeInterval=r,i.timeMillisecond=l,i.timeMilliseconds=o,i.timeMinute=m,i.timeMinutes=g,i.timeMonday=k,i.timeMondays=E,i.timeMonth=W,i.timeMonths=J,i.timeSaturday=X,i.timeSaturdays=C,i.timeSecond=h,i.timeSeconds=b,i.timeSunday=w,i.timeSundays=I,i.timeThursday=O,i.timeThursdays=U,i.timeTuesday=$,i.timeTuesdays=N,i.timeWednesday=P,i.timeWednesdays=V,i.timeWeek=w,i.timeWeeks=I,i.timeYear=at,i.timeYears=et,i.utcDay=H,i.utcDays=j,i.utcFriday=Z,i.utcFridays=Rt,i.utcHour=ht,i.utcHours=xt,i.utcMillisecond=l,i.utcMilliseconds=o,i.utcMinute=it,i.utcMinutes=dt,i.utcMonday=R,i.utcMondays=st,i.utcMonth=Bt,i.utcMonths=Ht,i.utcSaturday=Y,i.utcSaturdays=Xt,i.utcSecond=h,i.utcSeconds=b,i.utcSunday=q,i.utcSundays=rt,i.utcThursday=S,i.utcThursdays=At,i.utcTuesday=z,i.utcTuesdays=ut,i.utcWednesday=M,i.utcWednesdays=_t,i.utcWeek=q,i.utcWeeks=rt,i.utcYear=pt,i.utcYears=bt,Object.defineProperty(i,"__esModule",{value:!0})})}),Cr=Dt((F,D)=>{(function(i,t){typeof F=="object"&&typeof D<"u"?t(F,Po()):(i=i||self,t(i.d3=i.d3||{},i.d3))})(F,function(i,t){function n(yt){if(0<=yt.y&&yt.y<100){var kt=new Date(-1,yt.m,yt.d,yt.H,yt.M,yt.S,yt.L);return kt.setFullYear(yt.y),kt}return new Date(yt.y,yt.m,yt.d,yt.H,yt.M,yt.S,yt.L)}function r(yt){if(0<=yt.y&&yt.y<100){var kt=new Date(Date.UTC(-1,yt.m,yt.d,yt.H,yt.M,yt.S,yt.L));return kt.setUTCFullYear(yt.y),kt}return new Date(Date.UTC(yt.y,yt.m,yt.d,yt.H,yt.M,yt.S,yt.L))}function l(yt,kt,Tt){return{y:yt,m:kt,d:Tt,H:0,M:0,S:0,L:0}}function o(yt){var kt=yt.dateTime,Tt=yt.date,K=yt.time,ft=yt.periods,mt=yt.days,gt=yt.shortDays,It=yt.months,Mt=yt.shortMonths,qt=b(ft),$t=m(ft),ie=b(mt),zt=m(mt),ee=b(gt),se=m(gt),pe=b(It),De=m(It),Ne=b(Mt),Ge=m(Mt),Pe={a:an,A:gn,b:Ae,B:sn,c:null,d:W,e:W,f:dt,H:J,I:at,j:et,L:it,m:ht,M:xt,p:tt,q:lt,Q:re,s:oe,S:H,u:j,U:A,V:q,w:R,W:z,x:null,X:null,y:M,Y:S,Z,"%":Jt},ze={a:Yt,A:jt,b:Ot,B:Pt,c:null,d:Y,e:Y,f:At,H:rt,I:st,j:ut,L:_t,m:Rt,M:Xt,p:Et,q:Gt,Q:re,s:oe,S:Bt,u:Ht,U:pt,V:bt,w:ot,W:Lt,x:null,X:null,y:Nt,Y:Vt,Z:ae,"%":Jt},Le={a:Fe,A:ke,b:je,B:Ke,c:ln,d:O,e:O,f:V,H:X,I:X,j:T,L:N,m:P,M:I,p:Ze,q:$,Q:G,s:C,S:E,u:y,U:v,V:c,w:g,W:d,x:Ve,X:nn,y:w,Y:_,Z:k,"%":U};Pe.x=Se(Tt,Pe),Pe.X=Se(K,Pe),Pe.c=Se(kt,Pe),ze.x=Se(Tt,ze),ze.X=Se(K,ze),ze.c=Se(kt,ze);function Se(Ft,Ut){return function(Qt){var ne=[],ye=-1,_e=0,Me=Ft.length,Oe,Ie,Je;for(Qt instanceof Date||(Qt=new Date(+Qt));++ye<Me;)Ft.charCodeAt(ye)===37&&(ne.push(Ft.slice(_e,ye)),(Ie=s[Oe=Ft.charAt(++ye)])!=null?Oe=Ft.charAt(++ye):Ie=Oe==="e"?" ":"0",(Je=Ut[Oe])&&(Oe=Je(Qt,Ie)),ne.push(Oe),_e=ye+1);return ne.push(Ft.slice(_e,ye)),ne.join("")}}function Ye(Ft,Ut){return function(Qt){var ne=l(1900,void 0,1),ye=Be(ne,Ft,Qt+="",0),_e,Me;if(ye!=Qt.length)return null;if("Q"in ne)return new Date(ne.Q);if("s"in ne)return new Date(ne.s*1e3+("L"in ne?ne.L:0));if(Ut&&!("Z"in ne)&&(ne.Z=0),"p"in ne&&(ne.H=ne.H%12+ne.p*12),ne.m===void 0&&(ne.m="q"in ne?ne.q:0),"V"in ne){if(ne.V<1||ne.V>53)return null;"w"in ne||(ne.w=1),"Z"in ne?(_e=r(l(ne.y,0,1)),Me=_e.getUTCDay(),_e=Me>4||Me===0?t.utcMonday.ceil(_e):t.utcMonday(_e),_e=t.utcDay.offset(_e,(ne.V-1)*7),ne.y=_e.getUTCFullYear(),ne.m=_e.getUTCMonth(),ne.d=_e.getUTCDate()+(ne.w+6)%7):(_e=n(l(ne.y,0,1)),Me=_e.getDay(),_e=Me>4||Me===0?t.timeMonday.ceil(_e):t.timeMonday(_e),_e=t.timeDay.offset(_e,(ne.V-1)*7),ne.y=_e.getFullYear(),ne.m=_e.getMonth(),ne.d=_e.getDate()+(ne.w+6)%7)}else("W"in ne||"U"in ne)&&("w"in ne||(ne.w="u"in ne?ne.u%7:"W"in ne?1:0),Me="Z"in ne?r(l(ne.y,0,1)).getUTCDay():n(l(ne.y,0,1)).getDay(),ne.m=0,ne.d="W"in ne?(ne.w+6)%7+ne.W*7-(Me+5)%7:ne.w+ne.U*7-(Me+6)%7);return"Z"in ne?(ne.H+=ne.Z/100|0,ne.M+=ne.Z%100,r(ne)):n(ne)}}function Be(Ft,Ut,Qt,ne){for(var ye=0,_e=Ut.length,Me=Qt.length,Oe,Ie;ye<_e;){if(ne>=Me)return-1;if(Oe=Ut.charCodeAt(ye++),Oe===37){if(Oe=Ut.charAt(ye++),Ie=Le[Oe in s?Ut.charAt(ye++):Oe],!Ie||(ne=Ie(Ft,Qt,ne))<0)return-1}else if(Oe!=Qt.charCodeAt(ne++))return-1}return ne}function Ze(Ft,Ut,Qt){var ne=qt.exec(Ut.slice(Qt));return ne?(Ft.p=$t[ne[0].toLowerCase()],Qt+ne[0].length):-1}function Fe(Ft,Ut,Qt){var ne=ee.exec(Ut.slice(Qt));return ne?(Ft.w=se[ne[0].toLowerCase()],Qt+ne[0].length):-1}function ke(Ft,Ut,Qt){var ne=ie.exec(Ut.slice(Qt));return ne?(Ft.w=zt[ne[0].toLowerCase()],Qt+ne[0].length):-1}function je(Ft,Ut,Qt){var ne=Ne.exec(Ut.slice(Qt));return ne?(Ft.m=Ge[ne[0].toLowerCase()],Qt+ne[0].length):-1}function Ke(Ft,Ut,Qt){var ne=pe.exec(Ut.slice(Qt));return ne?(Ft.m=De[ne[0].toLowerCase()],Qt+ne[0].length):-1}function ln(Ft,Ut,Qt){return Be(Ft,kt,Ut,Qt)}function Ve(Ft,Ut,Qt){return Be(Ft,Tt,Ut,Qt)}function nn(Ft,Ut,Qt){return Be(Ft,K,Ut,Qt)}function an(Ft){return gt[Ft.getDay()]}function gn(Ft){return mt[Ft.getDay()]}function Ae(Ft){return Mt[Ft.getMonth()]}function sn(Ft){return It[Ft.getMonth()]}function tt(Ft){return ft[+(Ft.getHours()>=12)]}function lt(Ft){return 1+~~(Ft.getMonth()/3)}function Yt(Ft){return gt[Ft.getUTCDay()]}function jt(Ft){return mt[Ft.getUTCDay()]}function Ot(Ft){return Mt[Ft.getUTCMonth()]}function Pt(Ft){return It[Ft.getUTCMonth()]}function Et(Ft){return ft[+(Ft.getUTCHours()>=12)]}function Gt(Ft){return 1+~~(Ft.getUTCMonth()/3)}return{format:function(Ft){var Ut=Se(Ft+="",Pe);return Ut.toString=function(){return Ft},Ut},parse:function(Ft){var Ut=Ye(Ft+="",!1);return Ut.toString=function(){return Ft},Ut},utcFormat:function(Ft){var Ut=Se(Ft+="",ze);return Ut.toString=function(){return Ft},Ut},utcParse:function(Ft){var Ut=Ye(Ft+="",!0);return Ut.toString=function(){return Ft},Ut}}}var s={"-":"",_:" ",0:"0"},f=/^\s*\d+/,e=/^%/,p=/[\\^$*+?|[\]().{}]/g;function u(yt,kt,Tt){var K=yt<0?"-":"",ft=(K?-yt:yt)+"",mt=ft.length;return K+(mt<Tt?new Array(Tt-mt+1).join(kt)+ft:ft)}function h(yt){return yt.replace(p,"\\$&")}function b(yt){return new RegExp("^(?:"+yt.map(h).join("|")+")","i")}function m(yt){for(var kt={},Tt=-1,K=yt.length;++Tt<K;)kt[yt[Tt].toLowerCase()]=Tt;return kt}function g(yt,kt,Tt){var K=f.exec(kt.slice(Tt,Tt+1));return K?(yt.w=+K[0],Tt+K[0].length):-1}function y(yt,kt,Tt){var K=f.exec(kt.slice(Tt,Tt+1));return K?(yt.u=+K[0],Tt+K[0].length):-1}function v(yt,kt,Tt){var K=f.exec(kt.slice(Tt,Tt+2));return K?(yt.U=+K[0],Tt+K[0].length):-1}function c(yt,kt,Tt){var K=f.exec(kt.slice(Tt,Tt+2));return K?(yt.V=+K[0],Tt+K[0].length):-1}function d(yt,kt,Tt){var K=f.exec(kt.slice(Tt,Tt+2));return K?(yt.W=+K[0],Tt+K[0].length):-1}function _(yt,kt,Tt){var K=f.exec(kt.slice(Tt,Tt+4));return K?(yt.y=+K[0],Tt+K[0].length):-1}function w(yt,kt,Tt){var K=f.exec(kt.slice(Tt,Tt+2));return K?(yt.y=+K[0]+(+K[0]>68?1900:2e3),Tt+K[0].length):-1}function k(yt,kt,Tt){var K=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(kt.slice(Tt,Tt+6));return K?(yt.Z=K[1]?0:-(K[2]+(K[3]||"00")),Tt+K[0].length):-1}function $(yt,kt,Tt){var K=f.exec(kt.slice(Tt,Tt+1));return K?(yt.q=K[0]*3-3,Tt+K[0].length):-1}function P(yt,kt,Tt){var K=f.exec(kt.slice(Tt,Tt+2));return K?(yt.m=K[0]-1,Tt+K[0].length):-1}function O(yt,kt,Tt){var K=f.exec(kt.slice(Tt,Tt+2));return K?(yt.d=+K[0],Tt+K[0].length):-1}function T(yt,kt,Tt){var K=f.exec(kt.slice(Tt,Tt+3));return K?(yt.m=0,yt.d=+K[0],Tt+K[0].length):-1}function X(yt,kt,Tt){var K=f.exec(kt.slice(Tt,Tt+2));return K?(yt.H=+K[0],Tt+K[0].length):-1}function I(yt,kt,Tt){var K=f.exec(kt.slice(Tt,Tt+2));return K?(yt.M=+K[0],Tt+K[0].length):-1}function E(yt,kt,Tt){var K=f.exec(kt.slice(Tt,Tt+2));return K?(yt.S=+K[0],Tt+K[0].length):-1}function N(yt,kt,Tt){var K=f.exec(kt.slice(Tt,Tt+3));return K?(yt.L=+K[0],Tt+K[0].length):-1}function V(yt,kt,Tt){var K=f.exec(kt.slice(Tt,Tt+6));return K?(yt.L=Math.floor(K[0]/1e3),Tt+K[0].length):-1}function U(yt,kt,Tt){var K=e.exec(kt.slice(Tt,Tt+1));return K?Tt+K[0].length:-1}function G(yt,kt,Tt){var K=f.exec(kt.slice(Tt));return K?(yt.Q=+K[0],Tt+K[0].length):-1}function C(yt,kt,Tt){var K=f.exec(kt.slice(Tt));return K?(yt.s=+K[0],Tt+K[0].length):-1}function W(yt,kt){return u(yt.getDate(),kt,2)}function J(yt,kt){return u(yt.getHours(),kt,2)}function at(yt,kt){return u(yt.getHours()%12||12,kt,2)}function et(yt,kt){return u(1+t.timeDay.count(t.timeYear(yt),yt),kt,3)}function it(yt,kt){return u(yt.getMilliseconds(),kt,3)}function dt(yt,kt){return it(yt,kt)+"000"}function ht(yt,kt){return u(yt.getMonth()+1,kt,2)}function xt(yt,kt){return u(yt.getMinutes(),kt,2)}function H(yt,kt){return u(yt.getSeconds(),kt,2)}function j(yt){var kt=yt.getDay();return kt===0?7:kt}function A(yt,kt){return u(t.timeSunday.count(t.timeYear(yt)-1,yt),kt,2)}function q(yt,kt){var Tt=yt.getDay();return yt=Tt>=4||Tt===0?t.timeThursday(yt):t.timeThursday.ceil(yt),u(t.timeThursday.count(t.timeYear(yt),yt)+(t.timeYear(yt).getDay()===4),kt,2)}function R(yt){return yt.getDay()}function z(yt,kt){return u(t.timeMonday.count(t.timeYear(yt)-1,yt),kt,2)}function M(yt,kt){return u(yt.getFullYear()%100,kt,2)}function S(yt,kt){return u(yt.getFullYear()%1e4,kt,4)}function Z(yt){var kt=yt.getTimezoneOffset();return(kt>0?"-":(kt*=-1,"+"))+u(kt/60|0,"0",2)+u(kt%60,"0",2)}function Y(yt,kt){return u(yt.getUTCDate(),kt,2)}function rt(yt,kt){return u(yt.getUTCHours(),kt,2)}function st(yt,kt){return u(yt.getUTCHours()%12||12,kt,2)}function ut(yt,kt){return u(1+t.utcDay.count(t.utcYear(yt),yt),kt,3)}function _t(yt,kt){return u(yt.getUTCMilliseconds(),kt,3)}function At(yt,kt){return _t(yt,kt)+"000"}function Rt(yt,kt){return u(yt.getUTCMonth()+1,kt,2)}function Xt(yt,kt){return u(yt.getUTCMinutes(),kt,2)}function Bt(yt,kt){return u(yt.getUTCSeconds(),kt,2)}function Ht(yt){var kt=yt.getUTCDay();return kt===0?7:kt}function pt(yt,kt){return u(t.utcSunday.count(t.utcYear(yt)-1,yt),kt,2)}function bt(yt,kt){var Tt=yt.getUTCDay();return yt=Tt>=4||Tt===0?t.utcThursday(yt):t.utcThursday.ceil(yt),u(t.utcThursday.count(t.utcYear(yt),yt)+(t.utcYear(yt).getUTCDay()===4),kt,2)}function ot(yt){return yt.getUTCDay()}function Lt(yt,kt){return u(t.utcMonday.count(t.utcYear(yt)-1,yt),kt,2)}function Nt(yt,kt){return u(yt.getUTCFullYear()%100,kt,2)}function Vt(yt,kt){return u(yt.getUTCFullYear()%1e4,kt,4)}function ae(){return"+0000"}function Jt(){return"%"}function re(yt){return+yt}function oe(yt){return Math.floor(+yt/1e3)}var le;ve({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ve(yt){return le=o(yt),i.timeFormat=le.format,i.timeParse=le.parse,i.utcFormat=le.utcFormat,i.utcParse=le.utcParse,le}var Wt="%Y-%m-%dT%H:%M:%S.%LZ";function ge(yt){return yt.toISOString()}var Te=Date.prototype.toISOString?ge:i.utcFormat(Wt);function ce(yt){var kt=new Date(yt);return isNaN(kt)?null:kt}var we=+new Date("2000-01-01T00:00:00.000Z")?ce:i.utcParse(Wt);i.isoFormat=Te,i.isoParse=we,i.timeFormatDefaultLocale=ve,i.timeFormatLocale=o,Object.defineProperty(i,"__esModule",{value:!0})})}),Io=Dt((F,D)=>{(function(i,t){typeof F=="object"&&typeof D<"u"?t(F):(i=typeof globalThis<"u"?globalThis:i||self,t(i.d3=i.d3||{}))})(F,function(i){function t(P){return Math.abs(P=Math.round(P))>=1e21?P.toLocaleString("en").replace(/,/g,""):P.toString(10)}function n(P,O){if((T=(P=O?P.toExponential(O-1):P.toExponential()).indexOf("e"))<0)return null;var T,X=P.slice(0,T);return[X.length>1?X[0]+X.slice(2):X,+P.slice(T+1)]}function r(P){return P=n(Math.abs(P)),P?P[1]:NaN}function l(P,O){return function(T,X){for(var I=T.length,E=[],N=0,V=P[0],U=0;I>0&&V>0&&(U+V+1>X&&(V=Math.max(1,X-U)),E.push(T.substring(I-=V,I+V)),!((U+=V+1)>X));)V=P[N=(N+1)%P.length];return E.reverse().join(O)}}function o(P){return function(O){return O.replace(/[0-9]/g,function(T){return P[+T]})}}var s=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function f(P){if(!(O=s.exec(P)))throw new Error("invalid format: "+P);var O;return new e({fill:O[1],align:O[2],sign:O[3],symbol:O[4],zero:O[5],width:O[6],comma:O[7],precision:O[8]&&O[8].slice(1),trim:O[9],type:O[10]})}f.prototype=e.prototype;function e(P){this.fill=P.fill===void 0?" ":P.fill+"",this.align=P.align===void 0?">":P.align+"",this.sign=P.sign===void 0?"-":P.sign+"",this.symbol=P.symbol===void 0?"":P.symbol+"",this.zero=!!P.zero,this.width=P.width===void 0?void 0:+P.width,this.comma=!!P.comma,this.precision=P.precision===void 0?void 0:+P.precision,this.trim=!!P.trim,this.type=P.type===void 0?"":P.type+""}e.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function p(P){t:for(var O=P.length,T=1,X=-1,I;T<O;++T)switch(P[T]){case".":X=I=T;break;case"0":X===0&&(X=T),I=T;break;default:if(!+P[T])break t;X>0&&(X=0);break}return X>0?P.slice(0,X)+P.slice(I+1):P}var u;function h(P,O){var T=n(P,O);if(!T)return P+"";var X=T[0],I=T[1],E=I-(u=Math.max(-8,Math.min(8,Math.floor(I/3)))*3)+1,N=X.length;return E===N?X:E>N?X+new Array(E-N+1).join("0"):E>0?X.slice(0,E)+"."+X.slice(E):"0."+new Array(1-E).join("0")+n(P,Math.max(0,O+E-1))[0]}function b(P,O){var T=n(P,O);if(!T)return P+"";var X=T[0],I=T[1];return I<0?"0."+new Array(-I).join("0")+X:X.length>I+1?X.slice(0,I+1)+"."+X.slice(I+1):X+new Array(I-X.length+2).join("0")}var m={"%":function(P,O){return(P*100).toFixed(O)},b:function(P){return Math.round(P).toString(2)},c:function(P){return P+""},d:t,e:function(P,O){return P.toExponential(O)},f:function(P,O){return P.toFixed(O)},g:function(P,O){return P.toPrecision(O)},o:function(P){return Math.round(P).toString(8)},p:function(P,O){return b(P*100,O)},r:b,s:h,X:function(P){return Math.round(P).toString(16).toUpperCase()},x:function(P){return Math.round(P).toString(16)}};function g(P){return P}var y=Array.prototype.map,v=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function c(P){var O=P.grouping===void 0||P.thousands===void 0?g:l(y.call(P.grouping,Number),P.thousands+""),T=P.currency===void 0?"":P.currency[0]+"",X=P.currency===void 0?"":P.currency[1]+"",I=P.decimal===void 0?".":P.decimal+"",E=P.numerals===void 0?g:o(y.call(P.numerals,String)),N=P.percent===void 0?"%":P.percent+"",V=P.minus===void 0?"-":P.minus+"",U=P.nan===void 0?"NaN":P.nan+"";function G(W){W=f(W);var J=W.fill,at=W.align,et=W.sign,it=W.symbol,dt=W.zero,ht=W.width,xt=W.comma,H=W.precision,j=W.trim,A=W.type;A==="n"?(xt=!0,A="g"):m[A]||(H===void 0&&(H=12),j=!0,A="g"),(dt||J==="0"&&at==="=")&&(dt=!0,J="0",at="=");var q=it==="$"?T:it==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",R=it==="$"?X:/[%p]/.test(A)?N:"",z=m[A],M=/[defgprs%]/.test(A);H=H===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,H)):Math.max(0,Math.min(20,H));function S(Z){var Y=q,rt=R,st,ut,_t;if(A==="c")rt=z(Z)+rt,Z="";else{Z=+Z;var At=Z<0||1/Z<0;if(Z=isNaN(Z)?U:z(Math.abs(Z),H),j&&(Z=p(Z)),At&&+Z==0&&et!=="+"&&(At=!1),Y=(At?et==="("?et:V:et==="-"||et==="("?"":et)+Y,rt=(A==="s"?v[8+u/3]:"")+rt+(At&&et==="("?")":""),M){for(st=-1,ut=Z.length;++st<ut;)if(_t=Z.charCodeAt(st),48>_t||_t>57){rt=(_t===46?I+Z.slice(st+1):Z.slice(st))+rt,Z=Z.slice(0,st);break}}}xt&&!dt&&(Z=O(Z,1/0));var Rt=Y.length+Z.length+rt.length,Xt=Rt<ht?new Array(ht-Rt+1).join(J):"";switch(xt&&dt&&(Z=O(Xt+Z,Xt.length?ht-rt.length:1/0),Xt=""),at){case"<":Z=Y+Z+rt+Xt;break;case"=":Z=Y+Xt+Z+rt;break;case"^":Z=Xt.slice(0,Rt=Xt.length>>1)+Y+Z+rt+Xt.slice(Rt);break;default:Z=Xt+Y+Z+rt;break}return E(Z)}return S.toString=function(){return W+""},S}function C(W,J){var at=G((W=f(W),W.type="f",W)),et=Math.max(-8,Math.min(8,Math.floor(r(J)/3)))*3,it=Math.pow(10,-et),dt=v[8+et/3];return function(ht){return at(it*ht)+dt}}return{format:G,formatPrefix:C}}var d;_({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function _(P){return d=c(P),i.format=d.format,i.formatPrefix=d.formatPrefix,d}function w(P){return Math.max(0,-r(Math.abs(P)))}function k(P,O){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(r(O)/3)))*3-r(Math.abs(P)))}function $(P,O){return P=Math.abs(P),O=Math.abs(O)-P,Math.max(0,r(O)-r(P))+1}i.FormatSpecifier=e,i.formatDefaultLocale=_,i.formatLocale=c,i.formatSpecifier=f,i.precisionFixed=w,i.precisionPrefix=k,i.precisionRound=$,Object.defineProperty(i,"__esModule",{value:!0})})}),uu=Dt((F,D)=>{D.exports=function(i){for(var t=i.length,n,r=0;r<t;r++)if(n=i.charCodeAt(r),(n<9||n>13)&&n!==32&&n!==133&&n!==160&&n!==5760&&n!==6158&&(n<8192||n>8205)&&n!==8232&&n!==8233&&n!==8239&&n!==8287&&n!==8288&&n!==12288&&n!==65279)return!1;return!0}}),wn=Dt((F,D)=>{var i=uu();D.exports=function(t){var n=typeof t;if(n==="string"){var r=t;if(t=+t,t===0&&i(r))return!1}else if(n!=="number")return!1;return t-t<1}}),oa=Dt((F,D)=>{D.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,ONEMILLI:1,ONEMICROSEC:.001,EPOCHJD:24405875e-1,ALMOST_EQUAL:1-1e-6,LOG_CLIP:10,MINUS_SIGN:""}}),Fo=Dt((F,D)=>{(function(i,t){typeof F=="object"&&typeof D<"u"?t(F):(i=typeof globalThis<"u"?globalThis:i||self,t(i["base64-arraybuffer"]={}))})(F,function(i){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=typeof Uint8Array>"u"?[]:new Uint8Array(256),r=0;r<t.length;r++)n[t.charCodeAt(r)]=r;var l=function(s){var f=new Uint8Array(s),e,p=f.length,u="";for(e=0;e<p;e+=3)u+=t[f[e]>>2],u+=t[(f[e]&3)<<4|f[e+1]>>4],u+=t[(f[e+1]&15)<<2|f[e+2]>>6],u+=t[f[e+2]&63];return p%3===2?u=u.substring(0,u.length-1)+"=":p%3===1&&(u=u.substring(0,u.length-2)+"=="),u},o=function(s){var f=s.length*.75,e=s.length,p,u=0,h,b,m,g;s[s.length-1]==="="&&(f--,s[s.length-2]==="="&&f--);var y=new ArrayBuffer(f),v=new Uint8Array(y);for(p=0;p<e;p+=4)h=n[s.charCodeAt(p)],b=n[s.charCodeAt(p+1)],m=n[s.charCodeAt(p+2)],g=n[s.charCodeAt(p+3)],v[u++]=h<<2|b>>4,v[u++]=(b&15)<<4|m>>2,v[u++]=(m&3)<<6|g&63;return y};i.decode=o,i.encode=l,Object.defineProperty(i,"__esModule",{value:!0})})}),ur=Dt((F,D)=>{D.exports=function(i){return window&&window.process&&window.process.versions?Object.prototype.toString.call(i)==="[object Object]":Object.prototype.toString.call(i)==="[object Object]"&&Object.getPrototypeOf(i).hasOwnProperty("hasOwnProperty")}}),Da=Dt(F=>{var D=Fo().decode,i=ur(),t=Array.isArray,n=ArrayBuffer,r=DataView;function l(h){return n.isView(h)&&!(h instanceof r)}F.isTypedArray=l;function o(h){return t(h)||l(h)}F.isArrayOrTypedArray=o;function s(h){return!o(h[0])}F.isArray1D=s,F.ensureArray=function(h,b){return t(h)||(h=[]),h.length=b,h};var f={u1c:typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,i1:typeof Int8Array>"u"?void 0:Int8Array,u1:typeof Uint8Array>"u"?void 0:Uint8Array,i2:typeof Int16Array>"u"?void 0:Int16Array,u2:typeof Uint16Array>"u"?void 0:Uint16Array,i4:typeof Int32Array>"u"?void 0:Int32Array,u4:typeof Uint32Array>"u"?void 0:Uint32Array,f4:typeof Float32Array>"u"?void 0:Float32Array,f8:typeof Float64Array>"u"?void 0:Float64Array};f.uint8c=f.u1c,f.uint8=f.u1,f.int8=f.i1,f.uint16=f.u2,f.int16=f.i2,f.uint32=f.u4,f.int32=f.i4,f.float32=f.f4,f.float64=f.f8;function e(h){return h.constructor===ArrayBuffer}F.isArrayBuffer=e,F.decodeTypedArraySpec=function(h){var b=[],m=p(h),g=m.dtype,y=f[g];if(!y)throw new Error('Error in dtype: "'+g+'"');var v=y.BYTES_PER_ELEMENT,c=m.bdata;e(c)||(c=D(c));var d=m.shape===void 0?[c.byteLength/v]:(""+m.shape).split(",");d.reverse();var _=d.length,w,k,$=+d[0],P=v*$,O=0;if(_===1)b=new y(c);else if(_===2)for(w=+d[1],k=0;k<w;k++)b[k]=new y(c,O,$),O+=P;else if(_===3){w=+d[1];for(var T=+d[2],X=0;X<T;X++)for(b[X]=[],k=0;k<w;k++)b[X][k]=new y(c,O,$),O+=P}else throw new Error("ndim: "+_+'is not supported with the shape:"'+m.shape+'"');return b.bdata=m.bdata,b.dtype=m.dtype,b.shape=d.reverse().join(","),h._inputArray=b,b},F.isTypedArraySpec=function(h){return i(h)&&h.hasOwnProperty("dtype")&&typeof h.dtype=="string"&&h.hasOwnProperty("bdata")&&(typeof h.bdata=="string"||e(h.bdata))&&(h.shape===void 0||h.hasOwnProperty("shape")&&(typeof h.shape=="string"||typeof h.shape=="number"))};function p(h){return{bdata:h.bdata,dtype:h.dtype,shape:h.shape}}F.concat=function(){var h=[],b=!0,m=0,g,y,v,c,d,_,w,k;for(v=0;v<arguments.length;v++)c=arguments[v],_=c.length,_&&(y?h.push(c):(y=c,d=_),t(c)?g=!1:(b=!1,m?g!==c.constructor&&(g=!1):g=c.constructor),m+=_);if(!m)return[];if(!h.length)return y;if(b)return y.concat.apply(y,h);if(g){for(w=new g(m),w.set(y),v=0;v<h.length;v++)c=h[v],w.set(c,d),d+=c.length;return w}for(w=new Array(m),k=0;k<y.length;k++)w[k]=y[k];for(v=0;v<h.length;v++){for(c=h[v],k=0;k<c.length;k++)w[d+k]=c[k];d+=k}return w},F.maxRowLength=function(h){return u(h,Math.max,0)},F.minRowLength=function(h){return u(h,Math.min,1/0)};function u(h,b,m){if(o(h))if(o(h[0])){for(var g=m,y=0;y<h.length;y++)g=b(g,h[y].length);return g}else return h.length;return 0}}),wi=Dt((F,D)=>{var i=wn(),t=Da().isArrayOrTypedArray;D.exports=function(u,h){if(i(h))h=String(h);else if(typeof h!="string"||h.substr(h.length-4)==="[-1]")throw"bad property string";var b=h.split("."),m,g,y,v;for(v=0;v<b.length;v++)if(String(b[v]).slice(0,2)==="__")throw"bad property string";for(v=0;v<b.length;){if(m=String(b[v]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),m){if(m[1])b[v]=m[1];else if(v===0)b.splice(0,1);else throw"bad property string";for(g=m[2].substr(1,m[2].length-2).split("]["),y=0;y<g.length;y++)v++,b.splice(v,0,Number(g[y]))}v++}return typeof u!="object"?p(u,h,b):{set:o(u,b,h),get:n(u,b),astr:h,parts:b,obj:u}};function n(u,h){return function(b){var m=u,g,y,v,c,d;for(c=0;c<h.length-1;c++){if(g=h[c],g===-1){for(y=!0,v=[],d=0;d<m.length;d++)v[d]=n(m[d],h.slice(c+1))(b),v[d]!==v[0]&&(y=!1);return y?v[0]:v}if(typeof g=="number"&&!t(m)||(m=m[g],typeof m!="object"||m===null))return}if(!(typeof m!="object"||m===null)&&(v=m[h[c]],!(!b&&v===null)))return v}}var r=/(^|\.)args\[/;function l(u,h){return u===void 0||u===null&&!h.match(r)}function o(u,h,b){return function(m){var g=u,y="",v=l(m,b),c,d;for(d=0;d<h.length-1;d++){if(c=h[d],typeof c=="number"&&!t(g))throw"array index but container is not an array";if(c===-1){if(v=!f(g,h.slice(d+1),m,b),v)break;return}if(!e(g,c,h[d+1],v))break;if(g=g[c],typeof g!="object"||g===null)throw"container is not an object";y=s(y,c)}if(v){if(d===h.length-1&&(delete g[h[d]],Array.isArray(g)&&+h[d]===g.length-1))for(;g.length&&g[g.length-1]===void 0;)g.pop()}else g[h[d]]=m}}function s(u,h){var b=h;return i(h)?b="["+h+"]":u&&(b="."+h),u+b}function f(u,h,b,m){var g=t(b),y=!0,v=b,c=m.replace("-1",0),d=g?!1:l(b,c),_=h[0],w;for(w=0;w<u.length;w++)c=m.replace("-1",w),g&&(v=b[w%b.length],d=l(v,c)),d&&(y=!1),e(u,w,_,d)&&o(u[w],h,m.replace("-1",w))(v);return y}function e(u,h,b,m){if(u[h]===void 0){if(m)return!1;typeof b=="number"?u[h]=[]:u[h]={}}return!0}function p(u,h,b){return{set:function(){throw"bad container"},get:function(){},astr:h,parts:b,obj:u}}}),cu=Dt((F,D)=>{var i=wi(),t=/^\w*$/,n=0,r=1,l=2,o=3,s=4;D.exports=function(f,e,p,u){p=p||"name",u=u||"value";var h,b,m,g={};e&&e.length?(m=i(f,e),b=m.get()):b=f,e=e||"";var y={};if(b)for(h=0;h<b.length;h++)y[b[h][p]]=h;var v=t.test(u),c={set:function(d,_){var w=_===null?s:n;if(!b){if(!m||w===s)return;b=[],m.set(b)}var k=y[d];if(k===void 0){if(w===s)return;w=w|o,k=b.length,y[d]=k}else _!==(v?b[k][u]:i(b[k],u).get())&&(w=w|l);var $=b[k]=b[k]||{};return $[p]=d,v?$[u]=_:i($,u).set(_),_!==null&&(w=w&-5),g[k]=g[k]|w,c},get:function(d){if(b){var _=y[d];if(_!==void 0)return v?b[_][u]:i(b[_],u).get()}},rename:function(d,_){var w=y[d];return w===void 0||(g[w]=g[w]|r,y[_]=w,delete y[d],b[w][p]=_),c},remove:function(d){var _=y[d];if(_===void 0)return c;var w=b[_];if(Object.keys(w).length>2)return g[_]=g[_]|l,c.set(d,null);if(v){for(h=_;h<b.length;h++)g[h]=g[h]|o;for(h=_;h<b.length;h++)y[b[h][p]]--;b.splice(_,1),delete y[d]}else i(w,u).set(null),g[_]=g[_]|l|s;return c},constructUpdate:function(){for(var d,_,w={},k=Object.keys(g),$=0;$<k.length;$++)_=k[$],d=e+"["+_+"]",b[_]?(g[_]&r&&(w[d+"."+p]=b[_][p]),g[_]&l&&(v?w[d+"."+u]=g[_]&s?null:b[_][u]:w[d+"."+u]=g[_]&s?null:i(b[_],u).get())):w[d]=null;return w}};return c}}),fu=Dt((F,D)=>{var i=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,t=/^[^\.\[\]]+$/;D.exports=function(n,r){for(;r;){var l=n.match(i);if(l)n=l[1];else if(n.match(t))n="";else throw new Error("bad relativeAttr call:"+[n,r]);if(r.charAt(0)==="^")r=r.slice(1);else break}return n&&r.charAt(0)!=="["?n+"."+r:n+r}}),Mi=Dt((F,D)=>{var i=wn();D.exports=function(t,n){if(t>0)return Math.log(t)/Math.LN10;var r=Math.log(Math.min(n[0],n[1]))/Math.LN10;return i(r)||(r=Math.log(Math.max(n[0],n[1]))/Math.LN10-6),r}}),du=Dt((F,D)=>{var i=Da().isArrayOrTypedArray,t=ur();D.exports=function n(r,l){for(var o in l){var s=l[o],f=r[o];if(f!==s)if(o.charAt(0)==="_"||typeof s=="function"){if(o in r)continue;r[o]=s}else if(i(s)&&i(f)&&t(s[0])){if(o==="customdata"||o==="ids")continue;for(var e=Math.min(s.length,f.length),p=0;p<e;p++)f[p]!==s[p]&&t(s[p])&&t(f[p])&&n(f[p],s[p])}else t(s)&&t(f)&&(n(f,s),Object.keys(f).length||delete r[o])}}}),Dr=Dt((F,D)=>{function i(n,r){var l=n%r;return l<0?l+r:l}function t(n,r){return Math.abs(n)>r/2?n-Math.round(n/r)*r:n}D.exports={mod:i,modHalf:t}}),Na=Dt((F,D)=>{(function(i){var t=/^\s+/,n=/\s+$/,r=0,l=i.round,o=i.min,s=i.max,f=i.random;function e(M,S){if(M=M||"",S=S||{},M instanceof e)return M;if(!(this instanceof e))return new e(M,S);var Z=p(M);this._originalInput=M,this._r=Z.r,this._g=Z.g,this._b=Z.b,this._a=Z.a,this._roundA=l(100*this._a)/100,this._format=S.format||Z.format,this._gradientType=S.gradientType,this._r<1&&(this._r=l(this._r)),this._g<1&&(this._g=l(this._g)),this._b<1&&(this._b=l(this._b)),this._ok=Z.ok,this._tc_id=r++}e.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var M=this.toRgb();return(M.r*299+M.g*587+M.b*114)/1e3},getLuminance:function(){var M=this.toRgb(),S,Z,Y,rt,st,ut;return S=M.r/255,Z=M.g/255,Y=M.b/255,S<=.03928?rt=S/12.92:rt=i.pow((S+.055)/1.055,2.4),Z<=.03928?st=Z/12.92:st=i.pow((Z+.055)/1.055,2.4),Y<=.03928?ut=Y/12.92:ut=i.pow((Y+.055)/1.055,2.4),.2126*rt+.7152*st+.0722*ut},setAlpha:function(M){return this._a=W(M),this._roundA=l(100*this._a)/100,this},toHsv:function(){var M=m(this._r,this._g,this._b);return{h:M.h*360,s:M.s,v:M.v,a:this._a}},toHsvString:function(){var M=m(this._r,this._g,this._b),S=l(M.h*360),Z=l(M.s*100),Y=l(M.v*100);return this._a==1?"hsv("+S+", "+Z+"%, "+Y+"%)":"hsva("+S+", "+Z+"%, "+Y+"%, "+this._roundA+")"},toHsl:function(){var M=h(this._r,this._g,this._b);return{h:M.h*360,s:M.s,l:M.l,a:this._a}},toHslString:function(){var M=h(this._r,this._g,this._b),S=l(M.h*360),Z=l(M.s*100),Y=l(M.l*100);return this._a==1?"hsl("+S+", "+Z+"%, "+Y+"%)":"hsla("+S+", "+Z+"%, "+Y+"%, "+this._roundA+")"},toHex:function(M){return y(this._r,this._g,this._b,M)},toHexString:function(M){return"#"+this.toHex(M)},toHex8:function(M){return v(this._r,this._g,this._b,this._a,M)},toHex8String:function(M){return"#"+this.toHex8(M)},toRgb:function(){return{r:l(this._r),g:l(this._g),b:l(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+l(this._r)+", "+l(this._g)+", "+l(this._b)+")":"rgba("+l(this._r)+", "+l(this._g)+", "+l(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:l(J(this._r,255)*100)+"%",g:l(J(this._g,255)*100)+"%",b:l(J(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+l(J(this._r,255)*100)+"%, "+l(J(this._g,255)*100)+"%, "+l(J(this._b,255)*100)+"%)":"rgba("+l(J(this._r,255)*100)+"%, "+l(J(this._g,255)*100)+"%, "+l(J(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:G[y(this._r,this._g,this._b,!0)]||!1},toFilter:function(M){var S="#"+c(this._r,this._g,this._b,this._a),Z=S,Y=this._gradientType?"GradientType = 1, ":"";if(M){var rt=e(M);Z="#"+c(rt._r,rt._g,rt._b,rt._a)}return"progid:DXImageTransform.Microsoft.gradient("+Y+"startColorstr="+S+",endColorstr="+Z+")"},toString:function(M){var S=!!M;M=M||this._format;var Z=!1,Y=this._a<1&&this._a>=0,rt=!S&&Y&&(M==="hex"||M==="hex6"||M==="hex3"||M==="hex4"||M==="hex8"||M==="name");return rt?M==="name"&&this._a===0?this.toName():this.toRgbString():(M==="rgb"&&(Z=this.toRgbString()),M==="prgb"&&(Z=this.toPercentageRgbString()),(M==="hex"||M==="hex6")&&(Z=this.toHexString()),M==="hex3"&&(Z=this.toHexString(!0)),M==="hex4"&&(Z=this.toHex8String(!0)),M==="hex8"&&(Z=this.toHex8String()),M==="name"&&(Z=this.toName()),M==="hsl"&&(Z=this.toHslString()),M==="hsv"&&(Z=this.toHsvString()),Z||this.toHexString())},clone:function(){return e(this.toString())},_applyModification:function(M,S){var Z=M.apply(null,[this].concat([].slice.call(S)));return this._r=Z._r,this._g=Z._g,this._b=Z._b,this.setAlpha(Z._a),this},lighten:function(){return this._applyModification(k,arguments)},brighten:function(){return this._applyModification($,arguments)},darken:function(){return this._applyModification(P,arguments)},desaturate:function(){return this._applyModification(d,arguments)},saturate:function(){return this._applyModification(_,arguments)},greyscale:function(){return this._applyModification(w,arguments)},spin:function(){return this._applyModification(O,arguments)},_applyCombination:function(M,S){return M.apply(null,[this].concat([].slice.call(S)))},analogous:function(){return this._applyCombination(N,arguments)},complement:function(){return this._applyCombination(T,arguments)},monochromatic:function(){return this._applyCombination(V,arguments)},splitcomplement:function(){return this._applyCombination(E,arguments)},triad:function(){return this._applyCombination(X,arguments)},tetrad:function(){return this._applyCombination(I,arguments)}},e.fromRatio=function(M,S){if(typeof M=="object"){var Z={};for(var Y in M)M.hasOwnProperty(Y)&&(Y==="a"?Z[Y]=M[Y]:Z[Y]=xt(M[Y]));M=Z}return e(M,S)};function p(M){var S={r:0,g:0,b:0},Z=1,Y=null,rt=null,st=null,ut=!1,_t=!1;return typeof M=="string"&&(M=R(M)),typeof M=="object"&&(q(M.r)&&q(M.g)&&q(M.b)?(S=u(M.r,M.g,M.b),ut=!0,_t=String(M.r).substr(-1)==="%"?"prgb":"rgb"):q(M.h)&&q(M.s)&&q(M.v)?(Y=xt(M.s),rt=xt(M.v),S=g(M.h,Y,rt),ut=!0,_t="hsv"):q(M.h)&&q(M.s)&&q(M.l)&&(Y=xt(M.s),st=xt(M.l),S=b(M.h,Y,st),ut=!0,_t="hsl"),M.hasOwnProperty("a")&&(Z=M.a)),Z=W(Z),{ok:ut,format:M.format||_t,r:o(255,s(S.r,0)),g:o(255,s(S.g,0)),b:o(255,s(S.b,0)),a:Z}}function u(M,S,Z){return{r:J(M,255)*255,g:J(S,255)*255,b:J(Z,255)*255}}function h(M,S,Z){M=J(M,255),S=J(S,255),Z=J(Z,255);var Y=s(M,S,Z),rt=o(M,S,Z),st,ut,_t=(Y+rt)/2;if(Y==rt)st=ut=0;else{var At=Y-rt;switch(ut=_t>.5?At/(2-Y-rt):At/(Y+rt),Y){case M:st=(S-Z)/At+(S<Z?6:0);break;case S:st=(Z-M)/At+2;break;case Z:st=(M-S)/At+4;break}st/=6}return{h:st,s:ut,l:_t}}function b(M,S,Z){var Y,rt,st;M=J(M,360),S=J(S,100),Z=J(Z,100);function ut(Rt,Xt,Bt){return Bt<0&&(Bt+=1),Bt>1&&(Bt-=1),Bt<1/6?Rt+(Xt-Rt)*6*Bt:Bt<1/2?Xt:Bt<2/3?Rt+(Xt-Rt)*(2/3-Bt)*6:Rt}if(S===0)Y=rt=st=Z;else{var _t=Z<.5?Z*(1+S):Z+S-Z*S,At=2*Z-_t;Y=ut(At,_t,M+1/3),rt=ut(At,_t,M),st=ut(At,_t,M-1/3)}return{r:Y*255,g:rt*255,b:st*255}}function m(M,S,Z){M=J(M,255),S=J(S,255),Z=J(Z,255);var Y=s(M,S,Z),rt=o(M,S,Z),st,ut,_t=Y,At=Y-rt;if(ut=Y===0?0:At/Y,Y==rt)st=0;else{switch(Y){case M:st=(S-Z)/At+(S<Z?6:0);break;case S:st=(Z-M)/At+2;break;case Z:st=(M-S)/At+4;break}st/=6}return{h:st,s:ut,v:_t}}function g(M,S,Z){M=J(M,360)*6,S=J(S,100),Z=J(Z,100);var Y=i.floor(M),rt=M-Y,st=Z*(1-S),ut=Z*(1-rt*S),_t=Z*(1-(1-rt)*S),At=Y%6,Rt=[Z,ut,st,st,_t,Z][At],Xt=[_t,Z,Z,ut,st,st][At],Bt=[st,st,_t,Z,Z,ut][At];return{r:Rt*255,g:Xt*255,b:Bt*255}}function y(M,S,Z,Y){var rt=[ht(l(M).toString(16)),ht(l(S).toString(16)),ht(l(Z).toString(16))];return Y&&rt[0].charAt(0)==rt[0].charAt(1)&&rt[1].charAt(0)==rt[1].charAt(1)&&rt[2].charAt(0)==rt[2].charAt(1)?rt[0].charAt(0)+rt[1].charAt(0)+rt[2].charAt(0):rt.join("")}function v(M,S,Z,Y,rt){var st=[ht(l(M).toString(16)),ht(l(S).toString(16)),ht(l(Z).toString(16)),ht(H(Y))];return rt&&st[0].charAt(0)==st[0].charAt(1)&&st[1].charAt(0)==st[1].charAt(1)&&st[2].charAt(0)==st[2].charAt(1)&&st[3].charAt(0)==st[3].charAt(1)?st[0].charAt(0)+st[1].charAt(0)+st[2].charAt(0)+st[3].charAt(0):st.join("")}function c(M,S,Z,Y){var rt=[ht(H(Y)),ht(l(M).toString(16)),ht(l(S).toString(16)),ht(l(Z).toString(16))];return rt.join("")}e.equals=function(M,S){return!M||!S?!1:e(M).toRgbString()==e(S).toRgbString()},e.random=function(){return e.fromRatio({r:f(),g:f(),b:f()})};function d(M,S){S=S===0?0:S||10;var Z=e(M).toHsl();return Z.s-=S/100,Z.s=at(Z.s),e(Z)}function _(M,S){S=S===0?0:S||10;var Z=e(M).toHsl();return Z.s+=S/100,Z.s=at(Z.s),e(Z)}function w(M){return e(M).desaturate(100)}function k(M,S){S=S===0?0:S||10;var Z=e(M).toHsl();return Z.l+=S/100,Z.l=at(Z.l),e(Z)}function $(M,S){S=S===0?0:S||10;var Z=e(M).toRgb();return Z.r=s(0,o(255,Z.r-l(255*-(S/100)))),Z.g=s(0,o(255,Z.g-l(255*-(S/100)))),Z.b=s(0,o(255,Z.b-l(255*-(S/100)))),e(Z)}function P(M,S){S=S===0?0:S||10;var Z=e(M).toHsl();return Z.l-=S/100,Z.l=at(Z.l),e(Z)}function O(M,S){var Z=e(M).toHsl(),Y=(Z.h+S)%360;return Z.h=Y<0?360+Y:Y,e(Z)}function T(M){var S=e(M).toHsl();return S.h=(S.h+180)%360,e(S)}function X(M){var S=e(M).toHsl(),Z=S.h;return[e(M),e({h:(Z+120)%360,s:S.s,l:S.l}),e({h:(Z+240)%360,s:S.s,l:S.l})]}function I(M){var S=e(M).toHsl(),Z=S.h;return[e(M),e({h:(Z+90)%360,s:S.s,l:S.l}),e({h:(Z+180)%360,s:S.s,l:S.l}),e({h:(Z+270)%360,s:S.s,l:S.l})]}function E(M){var S=e(M).toHsl(),Z=S.h;return[e(M),e({h:(Z+72)%360,s:S.s,l:S.l}),e({h:(Z+216)%360,s:S.s,l:S.l})]}function N(M,S,Z){S=S||6,Z=Z||30;var Y=e(M).toHsl(),rt=360/Z,st=[e(M)];for(Y.h=(Y.h-(rt*S>>1)+720)%360;--S;)Y.h=(Y.h+rt)%360,st.push(e(Y));return st}function V(M,S){S=S||6;for(var Z=e(M).toHsv(),Y=Z.h,rt=Z.s,st=Z.v,ut=[],_t=1/S;S--;)ut.push(e({h:Y,s:rt,v:st})),st=(st+_t)%1;return ut}e.mix=function(M,S,Z){Z=Z===0?0:Z||50;var Y=e(M).toRgb(),rt=e(S).toRgb(),st=Z/100,ut={r:(rt.r-Y.r)*st+Y.r,g:(rt.g-Y.g)*st+Y.g,b:(rt.b-Y.b)*st+Y.b,a:(rt.a-Y.a)*st+Y.a};return e(ut)},e.readability=function(M,S){var Z=e(M),Y=e(S);return(i.max(Z.getLuminance(),Y.getLuminance())+.05)/(i.min(Z.getLuminance(),Y.getLuminance())+.05)},e.isReadable=function(M,S,Z){var Y=e.readability(M,S),rt,st;switch(st=!1,rt=z(Z),rt.level+rt.size){case"AAsmall":case"AAAlarge":st=Y>=4.5;break;case"AAlarge":st=Y>=3;break;case"AAAsmall":st=Y>=7;break}return st},e.mostReadable=function(M,S,Z){var Y=null,rt=0,st,ut,_t,At;Z=Z||{},ut=Z.includeFallbackColors,_t=Z.level,At=Z.size;for(var Rt=0;Rt<S.length;Rt++)st=e.readability(M,S[Rt]),st>rt&&(rt=st,Y=e(S[Rt]));return e.isReadable(M,Y,{level:_t,size:At})||!ut?Y:(Z.includeFallbackColors=!1,e.mostReadable(M,["#fff","#000"],Z))};var U=e.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},G=e.hexNames=C(U);function C(M){var S={};for(var Z in M)M.hasOwnProperty(Z)&&(S[M[Z]]=Z);return S}function W(M){return M=parseFloat(M),(isNaN(M)||M<0||M>1)&&(M=1),M}function J(M,S){it(M)&&(M="100%");var Z=dt(M);return M=o(S,s(0,parseFloat(M))),Z&&(M=parseInt(M*S,10)/100),i.abs(M-S)<1e-6?1:M%S/parseFloat(S)}function at(M){return o(1,s(0,M))}function et(M){return parseInt(M,16)}function it(M){return typeof M=="string"&&M.indexOf(".")!=-1&&parseFloat(M)===1}function dt(M){return typeof M=="string"&&M.indexOf("%")!=-1}function ht(M){return M.length==1?"0"+M:""+M}function xt(M){return M<=1&&(M=M*100+"%"),M}function H(M){return i.round(parseFloat(M)*255).toString(16)}function j(M){return et(M)/255}var A=function(){var M="[-\\+]?\\d+%?",S="[-\\+]?\\d*\\.\\d+%?",Z="(?:"+S+")|(?:"+M+")",Y="[\\s|\\(]+("+Z+")[,|\\s]+("+Z+")[,|\\s]+("+Z+")\\s*\\)?",rt="[\\s|\\(]+("+Z+")[,|\\s]+("+Z+")[,|\\s]+("+Z+")[,|\\s]+("+Z+")\\s*\\)?";return{CSS_UNIT:new RegExp(Z),rgb:new RegExp("rgb"+Y),rgba:new RegExp("rgba"+rt),hsl:new RegExp("hsl"+Y),hsla:new RegExp("hsla"+rt),hsv:new RegExp("hsv"+Y),hsva:new RegExp("hsva"+rt),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function q(M){return!!A.CSS_UNIT.exec(M)}function R(M){M=M.replace(t,"").replace(n,"").toLowerCase();var S=!1;if(U[M])M=U[M],S=!0;else if(M=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var Z;return(Z=A.rgb.exec(M))?{r:Z[1],g:Z[2],b:Z[3]}:(Z=A.rgba.exec(M))?{r:Z[1],g:Z[2],b:Z[3],a:Z[4]}:(Z=A.hsl.exec(M))?{h:Z[1],s:Z[2],l:Z[3]}:(Z=A.hsla.exec(M))?{h:Z[1],s:Z[2],l:Z[3],a:Z[4]}:(Z=A.hsv.exec(M))?{h:Z[1],s:Z[2],v:Z[3]}:(Z=A.hsva.exec(M))?{h:Z[1],s:Z[2],v:Z[3],a:Z[4]}:(Z=A.hex8.exec(M))?{r:et(Z[1]),g:et(Z[2]),b:et(Z[3]),a:j(Z[4]),format:S?"name":"hex8"}:(Z=A.hex6.exec(M))?{r:et(Z[1]),g:et(Z[2]),b:et(Z[3]),format:S?"name":"hex"}:(Z=A.hex4.exec(M))?{r:et(Z[1]+""+Z[1]),g:et(Z[2]+""+Z[2]),b:et(Z[3]+""+Z[3]),a:j(Z[4]+""+Z[4]),format:S?"name":"hex8"}:(Z=A.hex3.exec(M))?{r:et(Z[1]+""+Z[1]),g:et(Z[2]+""+Z[2]),b:et(Z[3]+""+Z[3]),format:S?"name":"hex"}:!1}function z(M){var S,Z;return M=M||{level:"AA",size:"small"},S=(M.level||"AA").toUpperCase(),Z=(M.size||"small").toLowerCase(),S!=="AA"&&S!=="AAA"&&(S="AA"),Z!=="small"&&Z!=="large"&&(Z="small"),{level:S,size:Z}}typeof D<"u"&&D.exports?D.exports=e:window.tinycolor=e})(Math)}),la=Dt(F=>{var D=ur(),i=Array.isArray;function t(r,l){var o,s;for(o=0;o<r.length;o++){if(s=r[o],s!==null&&typeof s=="object")return!1;s!==void 0&&(l[o]=s)}return!0}F.extendFlat=function(){return n(arguments,!1,!1,!1)},F.extendDeep=function(){return n(arguments,!0,!1,!1)},F.extendDeepAll=function(){return n(arguments,!0,!0,!1)},F.extendDeepNoArrays=function(){return n(arguments,!0,!1,!0)};function n(r,l,o,s){var f=r[0],e=r.length,p,u,h,b,m,g,y;if(e===2&&i(f)&&i(r[1])&&f.length===0){if(y=t(r[1],f),y)return f;f.splice(0,f.length)}for(var v=1;v<e;v++){p=r[v];for(u in p)h=f[u],b=p[u],s&&i(b)?f[u]=b:l&&b&&(D(b)||(m=i(b)))?(m?(m=!1,g=h&&i(h)?h:[]):g=h&&D(h)?h:{},f[u]=n([g,b],l,o,s)):(typeof b<"u"||o)&&(f[u]=b)}return f}}),ha=Dt((F,D)=>{D.exports=function(i){var t=i.variantValues,n=i.editType,r=i.colorEditType;r===void 0&&(r=n);var l={editType:n,valType:"integer",min:1,max:1e3,extras:["normal","bold"],dflt:"normal"};i.noNumericWeightValues&&(l.valType="enumerated",l.values=l.extras,l.extras=void 0,l.min=void 0,l.max=void 0);var o={family:{valType:"string",noBlank:!0,strict:!0,editType:n},size:{valType:"number",min:1,editType:n},color:{valType:"color",editType:r},weight:l,style:{editType:n,valType:"enumerated",values:["normal","italic"],dflt:"normal"},variant:i.noFontVariant?void 0:{editType:n,valType:"enumerated",values:t||["normal","small-caps","all-small-caps","all-petite-caps","petite-caps","unicase"],dflt:"normal"},textcase:i.noFontTextcase?void 0:{editType:n,valType:"enumerated",values:["normal","word caps","upper","lower"],dflt:"normal"},lineposition:i.noFontLineposition?void 0:{editType:n,valType:"flaglist",flags:["under","over","through"],extras:["none"],dflt:"none"},shadow:i.noFontShadow?void 0:{editType:n,valType:"string",dflt:i.autoShadowDflt?"auto":"none"},editType:n};return i.autoSize&&(o.size.dflt="auto"),i.autoColor&&(o.color.dflt="auto"),i.arrayOk&&(o.family.arrayOk=!0,o.weight.arrayOk=!0,o.style.arrayOk=!0,i.noFontVariant||(o.variant.arrayOk=!0),i.noFontTextcase||(o.textcase.arrayOk=!0),i.noFontLineposition||(o.lineposition.arrayOk=!0),i.noFontShadow||(o.shadow.arrayOk=!0),o.size.arrayOk=!0,o.color.arrayOk=!0),o}}),Ur=Dt((F,D)=>{D.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}}),Pr=Dt((F,D)=>{var i=Ur(),t=ha(),n=t({editType:"none"});n.family.dflt=i.HOVERFONT,n.size.dflt=i.HOVERFONTSIZE,D.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoversubplots:{valType:"enumerated",values:["single","overlaying","axis"],dflt:"overlaying",editType:"none"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:n,grouptitlefont:t({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}}),Ti=Dt((F,D)=>{var i=ha(),t=Pr().hoverlabel,n=la().extendFlat;D.exports={hoverlabel:{bgcolor:n({},t.bgcolor,{arrayOk:!0}),bordercolor:n({},t.bordercolor,{arrayOk:!0}),font:i({arrayOk:!0,editType:"none"}),align:n({},t.align,{arrayOk:!0}),namelength:n({},t.namelength,{arrayOk:!0}),editType:"none"}}}),ja=Dt((F,D)=>{var i=ha(),t=Ti();D.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:i({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:t.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},uirevision:{valType:"any",editType:"none"}}}),br=Dt((F,D)=>{var i=Na(),t={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},n=t.RdBu;function r(s,f){if(f||(f=n),!s)return f;function e(){try{s=t[s]||JSON.parse(s)}catch{s=f}}return typeof s=="string"&&(e(),typeof s=="string"&&e()),l(s)?s:f}function l(s){var f=0;if(!Array.isArray(s)||s.length<2||!s[0]||!s[s.length-1]||+s[0][0]!=0||+s[s.length-1][0]!=1)return!1;for(var e=0;e<s.length;e++){var p=s[e];if(p.length!==2||+p[0]<f||!i(p[1]).isValid())return!1;f=+p[0]}return!0}function o(s){return t[s]!==void 0?!0:l(s)}D.exports={scales:t,defaultScale:n,get:r,isValid:o}}),Ja=Dt(F=>{F.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],F.defaultLine="#444",F.lightLine="#eee",F.background="#fff",F.borderLine="#BEC8D9",F.lightFraction=100*10/11}),bn=Dt((F,D)=>{var i=Na(),t=wn(),n=Da().isTypedArray,r=D.exports={},l=Ja();r.defaults=l.defaults;var o=r.defaultLine=l.defaultLine;r.lightLine=l.lightLine;var s=r.background=l.background;r.tinyRGB=function(e){var p=e.toRgb();return"rgb("+Math.round(p.r)+", "+Math.round(p.g)+", "+Math.round(p.b)+")"},r.rgb=function(e){return r.tinyRGB(i(e))},r.opacity=function(e){return e?i(e).getAlpha():0},r.addOpacity=function(e,p){var u=i(e).toRgb();return"rgba("+Math.round(u.r)+", "+Math.round(u.g)+", "+Math.round(u.b)+", "+p+")"},r.combine=function(e,p){var u=i(e).toRgb();if(u.a===1)return i(e).toRgbString();var h=i(p||s).toRgb(),b=h.a===1?h:{r:255*(1-h.a)+h.r*h.a,g:255*(1-h.a)+h.g*h.a,b:255*(1-h.a)+h.b*h.a},m={r:b.r*(1-u.a)+u.r*u.a,g:b.g*(1-u.a)+u.g*u.a,b:b.b*(1-u.a)+u.b*u.a};return i(m).toRgbString()},r.interpolate=function(e,p,u){var h=i(e).toRgb(),b=i(p).toRgb(),m={r:u*h.r+(1-u)*b.r,g:u*h.g+(1-u)*b.g,b:u*h.b+(1-u)*b.b};return i(m).toRgbString()},r.contrast=function(e,p,u){var h=i(e);h.getAlpha()!==1&&(h=i(r.combine(e,s)));var b=h.isDark()?p?h.lighten(p):s:u?h.darken(u):o;return b.toString()},r.stroke=function(e,p){var u=i(p);e.style({stroke:r.tinyRGB(u),"stroke-opacity":u.getAlpha()})},r.fill=function(e,p){var u=i(p);e.style({fill:r.tinyRGB(u),"fill-opacity":u.getAlpha()})},r.clean=function(e){if(!(!e||typeof e!="object")){var p=Object.keys(e),u,h,b,m;for(u=0;u<p.length;u++)if(b=p[u],m=e[b],b.substr(b.length-5)==="color")if(Array.isArray(m))for(h=0;h<m.length;h++)m[h]=f(m[h]);else e[b]=f(m);else if(b.substr(b.length-10)==="colorscale"&&Array.isArray(m))for(h=0;h<m.length;h++)Array.isArray(m[h])&&(m[h][1]=f(m[h][1]));else if(Array.isArray(m)){var g=m[0];if(!Array.isArray(g)&&g&&typeof g=="object")for(h=0;h<m.length;h++)r.clean(m[h])}else m&&typeof m=="object"&&!n(m)&&r.clean(m)}};function f(e){if(t(e)||typeof e!="string")return e;var p=e.trim();if(p.substr(0,3)!=="rgb")return e;var u=p.match(/^rgba?\s*\(([^()]*)\)$/);if(!u)return e;var h=u[1].trim().split(/\s*[\s,]\s*/),b=p.charAt(3)==="a"&&h.length===4;if(!b&&h.length!==3)return e;for(var m=0;m<h.length;m++){if(!h[m].length||(h[m]=Number(h[m]),!(h[m]>=0)))return e;if(m===3)h[m]>1&&(h[m]=1);else if(h[m]>=1)return e}var g=Math.round(h[0]*255)+", "+Math.round(h[1]*255)+", "+Math.round(h[2]*255);return b?"rgba("+g+", "+h[3]+")":"rgb("+g+")"}}),ki=Dt((F,D)=>{D.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}}),Ir=Dt(F=>{F.counter=function(D,i,t,n){var r=(i||"")+(t?"":"$"),l=n===!1?"":"^";return D==="xy"?new RegExp(l+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+r):new RegExp(l+D+"([2-9]|[1-9][0-9]+)?"+r)}}),hu=Dt(F=>{var D=wn(),i=Na(),t=la().extendFlat,n=ja(),r=br(),l=bn(),o=ki().DESELECTDIM,s=wi(),f=Ir().counter,e=Dr().modHalf,p=Da().isArrayOrTypedArray,u=Da().isTypedArraySpec,h=Da().decodeTypedArraySpec;F.valObjectMeta={data_array:{coerceFunction:function(m,g,y){g.set(p(m)?m:u(m)?h(m):y)}},enumerated:{coerceFunction:function(m,g,y,v){v.coerceNumber&&(m=+m),v.values.indexOf(m)===-1?g.set(y):g.set(m)},validateFunction:function(m,g){g.coerceNumber&&(m=+m);for(var y=g.values,v=0;v<y.length;v++){var c=String(y[v]);if(c.charAt(0)==="/"&&c.charAt(c.length-1)==="/"){var d=new RegExp(c.substr(1,c.length-2));if(d.test(m))return!0}else if(m===y[v])return!0}return!1}},boolean:{coerceFunction:function(m,g,y){m===!0||m===!1?g.set(m):g.set(y)}},number:{coerceFunction:function(m,g,y,v){u(m)&&(m=h(m)),!D(m)||v.min!==void 0&&m<v.min||v.max!==void 0&&m>v.max?g.set(y):g.set(+m)}},integer:{coerceFunction:function(m,g,y,v){if((v.extras||[]).indexOf(m)!==-1){g.set(m);return}u(m)&&(m=h(m)),m%1||!D(m)||v.min!==void 0&&m<v.min||v.max!==void 0&&m>v.max?g.set(y):g.set(+m)}},string:{coerceFunction:function(m,g,y,v){if(typeof m!="string"){var c=typeof m=="number";v.strict===!0||!c?g.set(y):g.set(String(m))}else v.noBlank&&!m?g.set(y):g.set(m)}},color:{coerceFunction:function(m,g,y){u(m)&&(m=h(m)),i(m).isValid()?g.set(m):g.set(y)}},colorlist:{coerceFunction:function(m,g,y){function v(c){return i(c).isValid()}!Array.isArray(m)||!m.length?g.set(y):m.every(v)?g.set(m):g.set(y)}},colorscale:{coerceFunction:function(m,g,y){g.set(r.get(m,y))}},angle:{coerceFunction:function(m,g,y){u(m)&&(m=h(m)),m==="auto"?g.set("auto"):D(m)?g.set(e(+m,360)):g.set(y)}},subplotid:{coerceFunction:function(m,g,y,v){var c=v.regex||f(y);if(typeof m=="string"&&c.test(m)){g.set(m);return}g.set(y)},validateFunction:function(m,g){var y=g.dflt;return m===y?!0:typeof m!="string"?!1:!!f(y).test(m)}},flaglist:{coerceFunction:function(m,g,y,v){if((v.extras||[]).indexOf(m)!==-1){g.set(m);return}if(typeof m!="string"){g.set(y);return}for(var c=m.split("+"),d=0;d<c.length;){var _=c[d];v.flags.indexOf(_)===-1||c.indexOf(_)<d?c.splice(d,1):d++}c.length?g.set(c.join("+")):g.set(y)}},any:{coerceFunction:function(m,g,y){m===void 0?g.set(y):g.set(u(m)?h(m):m)}},info_array:{coerceFunction:function(m,g,y,v){function c(U,G,C){var W,J={set:function(at){W=at}};return C===void 0&&(C=G.dflt),F.valObjectMeta[G.valType].coerceFunction(U,J,C,G),W}if(u(m)&&(m=h(m)),!p(m)){g.set(y);return}var d=v.dimensions===2||v.dimensions==="1-2"&&Array.isArray(m)&&p(m[0]),_=v.items,w=[],k=Array.isArray(_),$=k&&d&&p(_[0]),P=d&&k&&!$,O=k&&!P?_.length:m.length,T,X,I,E,N,V;if(y=Array.isArray(y)?y:[],d)for(T=0;T<O;T++)for(w[T]=[],I=p(m[T])?m[T]:[],P?N=_.length:k?N=_[T].length:N=I.length,X=0;X<N;X++)P?E=_[X]:k?E=_[T][X]:E=_,V=c(I[X],E,(y[T]||[])[X]),V!==void 0&&(w[T][X]=V);else for(T=0;T<O;T++)V=c(m[T],k?_[T]:_,y[T]),V!==void 0&&(w[T]=V);g.set(w)},validateFunction:function(m,g){if(!p(m))return!1;var y=g.items,v=Array.isArray(y),c=g.dimensions===2;if(!g.freeLength&&m.length!==y.length)return!1;for(var d=0;d<m.length;d++)if(c){if(!p(m[d])||!g.freeLength&&m[d].length!==y[d].length)return!1;for(var _=0;_<m[d].length;_++)if(!b(m[d][_],v?y[d][_]:y))return!1}else if(!b(m[d],v?y[d]:y))return!1;return!0}}},F.coerce=function(m,g,y,v,c){var d=s(y,v).get(),_=s(m,v),w=s(g,v),k=_.get(),$=g._template;if(k===void 0&&$&&(k=s($,v).get(),$=0),c===void 0&&(c=d.dflt),d.arrayOk){if(p(k))return w.set(k),k;if(u(k))return k=h(k),w.set(k),k}var P=F.valObjectMeta[d.valType].coerceFunction;P(k,w,c,d);var O=w.get();return $&&O===c&&!b(k,d)&&(k=s($,v).get(),P(k,w,c,d),O=w.get()),O},F.coerce2=function(m,g,y,v,c){var d=s(m,v),_=F.coerce(m,g,y,v,c),w=d.get();return w!=null?_:!1},F.coerceFont=function(m,g,y,v){v||(v={}),y=t({},y),y=t(y,v.overrideDflt||{});var c={family:m(g+".family",y.family),size:m(g+".size",y.size),color:m(g+".color",y.color),weight:m(g+".weight",y.weight),style:m(g+".style",y.style)};if(v.noFontVariant||(c.variant=m(g+".variant",y.variant)),v.noFontLineposition||(c.lineposition=m(g+".lineposition",y.lineposition)),v.noFontTextcase||(c.textcase=m(g+".textcase",y.textcase)),!v.noFontShadow){var d=y.shadow;d==="none"&&v.autoShadowDflt&&(d="auto"),c.shadow=m(g+".shadow",d)}return c},F.coercePattern=function(m,g,y,v){var c=m(g+".shape");if(c){m(g+".solidity"),m(g+".size");var d=m(g+".fillmode"),_=d==="overlay";if(!v){var w=m(g+".bgcolor",_?y:void 0);m(g+".fgcolor",_?l.contrast(w):y)}m(g+".fgopacity",_?.5:1)}},F.coerceHoverinfo=function(m,g,y){var v=g._module.attributes,c=v.hoverinfo?v:n,d=c.hoverinfo,_;if(y._dataLength===1){var w=d.dflt==="all"?d.flags.slice():d.dflt.split("+");w.splice(w.indexOf("name"),1),_=w.join("+")}return F.coerce(m,g,c,"hoverinfo",_)},F.coerceSelectionMarkerOpacity=function(m,g){if(m.marker){var y=m.marker.opacity;if(y!==void 0){var v,c;!p(y)&&!m.selected&&!m.unselected&&(v=y,c=o*y),g("selected.marker.opacity",v),g("unselected.marker.opacity",c)}}};function b(m,g){var y=F.valObjectMeta[g.valType];if(g.arrayOk&&p(m))return!0;if(y.validateFunction)return y.validateFunction(m,g);var v={},c=v,d={set:function(_){c=_}};return y.coerceFunction(m,d,v,g),c!==v}F.validate=b}),_r=Dt((F,D)=>{var i={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox","map"],extras:[!0,!1],dflt:"gl3d+geo+map"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},t={};function n(r,l){for(var o in r){var s=r[o];s.valType?l[o]=s.dflt:(l[o]||(l[o]={}),n(s,l[o]))}}n(i,t),D.exports={configAttributes:i,dfltConfig:t}}),Ro=Dt((F,D)=>{var i=_n(),t=wn(),n=[];D.exports=function(r,l){if(n.indexOf(r)!==-1)return;n.push(r);var o=1e3;t(l)?o=l:l==="long"&&(o=3e3);var s=i.select("body").selectAll(".plotly-notifier").data([0]);s.enter().append("div").classed("plotly-notifier",!0);var f=s.selectAll(".notifier-note").data(n);function e(p){p.duration(700).style("opacity",0).each("end",function(u){var h=n.indexOf(u);h!==-1&&n.splice(h,1),i.select(this).remove()})}f.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(p){var u=i.select(this);u.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){u.transition().call(e)});for(var h=u.append("p"),b=p.split(/<br\s*\/?>/g),m=0;m<b.length;m++)m&&h.append("br"),h.append("span").text(b[m]);l==="stick"?u.transition().duration(350).style("opacity",1):u.transition().duration(700).style("opacity",1).transition().delay(o).call(e)})}}),wr=Dt((F,D)=>{var i=_r().dfltConfig,t=Ro(),n=D.exports={};n.log=function(){var r;if(i.logging>1){var l=["LOG:"];for(r=0;r<arguments.length;r++)l.push(arguments[r]);console.trace.apply(console,l)}if(i.notifyOnLogging>1){var o=[];for(r=0;r<arguments.length;r++)o.push(arguments[r]);t(o.join("<br>"),"long")}},n.warn=function(){var r;if(i.logging>0){var l=["WARN:"];for(r=0;r<arguments.length;r++)l.push(arguments[r]);console.trace.apply(console,l)}if(i.notifyOnLogging>0){var o=[];for(r=0;r<arguments.length;r++)o.push(arguments[r]);t(o.join("<br>"),"stick")}},n.error=function(){var r;if(i.logging>0){var l=["ERROR:"];for(r=0;r<arguments.length;r++)l.push(arguments[r]);console.error.apply(console,l)}if(i.notifyOnLogging>0){var o=[];for(r=0;r<arguments.length;r++)o.push(arguments[r]);t(o.join("<br>"),"stick")}}}),Ai=Dt((F,D)=>{D.exports=function(){}}),No=Dt((F,D)=>{D.exports=function(i,t){if(t instanceof RegExp){for(var n=t.toString(),r=0;r<i.length;r++)if(i[r]instanceof RegExp&&i[r].toString()===n)return i;i.push(t)}else(t||t===0)&&i.indexOf(t)===-1&&i.push(t);return i}}),pu=Dt((F,D)=>{D.exports=i;function i(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}}),vu=Dt((F,D)=>{D.exports=i;function i(t){var n=new Float32Array(16);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n}}),gu=Dt((F,D)=>{D.exports=i;function i(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}}),Eo=Dt((F,D)=>{D.exports=i;function i(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}}),yu=Dt((F,D)=>{D.exports=i;function i(t,n){if(t===n){var r=n[1],l=n[2],o=n[3],s=n[6],f=n[7],e=n[11];t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=r,t[6]=n[9],t[7]=n[13],t[8]=l,t[9]=s,t[11]=n[14],t[12]=o,t[13]=f,t[14]=e}else t[0]=n[0],t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=n[1],t[5]=n[5],t[6]=n[9],t[7]=n[13],t[8]=n[2],t[9]=n[6],t[10]=n[10],t[11]=n[14],t[12]=n[3],t[13]=n[7],t[14]=n[11],t[15]=n[15];return t}}),mu=Dt((F,D)=>{D.exports=i;function i(t,n){var r=n[0],l=n[1],o=n[2],s=n[3],f=n[4],e=n[5],p=n[6],u=n[7],h=n[8],b=n[9],m=n[10],g=n[11],y=n[12],v=n[13],c=n[14],d=n[15],_=r*e-l*f,w=r*p-o*f,k=r*u-s*f,$=l*p-o*e,P=l*u-s*e,O=o*u-s*p,T=h*v-b*y,X=h*c-m*y,I=h*d-g*y,E=b*c-m*v,N=b*d-g*v,V=m*d-g*c,U=_*V-w*N+k*E+$*I-P*X+O*T;return U?(U=1/U,t[0]=(e*V-p*N+u*E)*U,t[1]=(o*N-l*V-s*E)*U,t[2]=(v*O-c*P+d*$)*U,t[3]=(m*P-b*O-g*$)*U,t[4]=(p*I-f*V-u*X)*U,t[5]=(r*V-o*I+s*X)*U,t[6]=(c*k-y*O-d*w)*U,t[7]=(h*O-m*k+g*w)*U,t[8]=(f*N-e*I+u*T)*U,t[9]=(l*I-r*N-s*T)*U,t[10]=(y*P-v*k+d*_)*U,t[11]=(b*k-h*P-g*_)*U,t[12]=(e*X-f*E-p*T)*U,t[13]=(r*E-l*X+o*T)*U,t[14]=(v*w-y*$-c*_)*U,t[15]=(h*$-b*w+m*_)*U,t):null}}),xu=Dt((F,D)=>{D.exports=i;function i(t,n){var r=n[0],l=n[1],o=n[2],s=n[3],f=n[4],e=n[5],p=n[6],u=n[7],h=n[8],b=n[9],m=n[10],g=n[11],y=n[12],v=n[13],c=n[14],d=n[15];return t[0]=e*(m*d-g*c)-b*(p*d-u*c)+v*(p*g-u*m),t[1]=-(l*(m*d-g*c)-b*(o*d-s*c)+v*(o*g-s*m)),t[2]=l*(p*d-u*c)-e*(o*d-s*c)+v*(o*u-s*p),t[3]=-(l*(p*g-u*m)-e*(o*g-s*m)+b*(o*u-s*p)),t[4]=-(f*(m*d-g*c)-h*(p*d-u*c)+y*(p*g-u*m)),t[5]=r*(m*d-g*c)-h*(o*d-s*c)+y*(o*g-s*m),t[6]=-(r*(p*d-u*c)-f*(o*d-s*c)+y*(o*u-s*p)),t[7]=r*(p*g-u*m)-f*(o*g-s*m)+h*(o*u-s*p),t[8]=f*(b*d-g*v)-h*(e*d-u*v)+y*(e*g-u*b),t[9]=-(r*(b*d-g*v)-h*(l*d-s*v)+y*(l*g-s*b)),t[10]=r*(e*d-u*v)-f*(l*d-s*v)+y*(l*u-s*e),t[11]=-(r*(e*g-u*b)-f*(l*g-s*b)+h*(l*u-s*e)),t[12]=-(f*(b*c-m*v)-h*(e*c-p*v)+y*(e*m-p*b)),t[13]=r*(b*c-m*v)-h*(l*c-o*v)+y*(l*m-o*b),t[14]=-(r*(e*c-p*v)-f*(l*c-o*v)+y*(l*p-o*e)),t[15]=r*(e*m-p*b)-f*(l*m-o*b)+h*(l*p-o*e),t}}),bu=Dt((F,D)=>{D.exports=i;function i(t){var n=t[0],r=t[1],l=t[2],o=t[3],s=t[4],f=t[5],e=t[6],p=t[7],u=t[8],h=t[9],b=t[10],m=t[11],g=t[12],y=t[13],v=t[14],c=t[15],d=n*f-r*s,_=n*e-l*s,w=n*p-o*s,k=r*e-l*f,$=r*p-o*f,P=l*p-o*e,O=u*y-h*g,T=u*v-b*g,X=u*c-m*g,I=h*v-b*y,E=h*c-m*y,N=b*c-m*v;return d*N-_*E+w*I+k*X-$*T+P*O}}),_u=Dt((F,D)=>{D.exports=i;function i(t,n,r){var l=n[0],o=n[1],s=n[2],f=n[3],e=n[4],p=n[5],u=n[6],h=n[7],b=n[8],m=n[9],g=n[10],y=n[11],v=n[12],c=n[13],d=n[14],_=n[15],w=r[0],k=r[1],$=r[2],P=r[3];return t[0]=w*l+k*e+$*b+P*v,t[1]=w*o+k*p+$*m+P*c,t[2]=w*s+k*u+$*g+P*d,t[3]=w*f+k*h+$*y+P*_,w=r[4],k=r[5],$=r[6],P=r[7],t[4]=w*l+k*e+$*b+P*v,t[5]=w*o+k*p+$*m+P*c,t[6]=w*s+k*u+$*g+P*d,t[7]=w*f+k*h+$*y+P*_,w=r[8],k=r[9],$=r[10],P=r[11],t[8]=w*l+k*e+$*b+P*v,t[9]=w*o+k*p+$*m+P*c,t[10]=w*s+k*u+$*g+P*d,t[11]=w*f+k*h+$*y+P*_,w=r[12],k=r[13],$=r[14],P=r[15],t[12]=w*l+k*e+$*b+P*v,t[13]=w*o+k*p+$*m+P*c,t[14]=w*s+k*u+$*g+P*d,t[15]=w*f+k*h+$*y+P*_,t}}),wu=Dt((F,D)=>{D.exports=i;function i(t,n,r){var l=r[0],o=r[1],s=r[2],f,e,p,u,h,b,m,g,y,v,c,d;return n===t?(t[12]=n[0]*l+n[4]*o+n[8]*s+n[12],t[13]=n[1]*l+n[5]*o+n[9]*s+n[13],t[14]=n[2]*l+n[6]*o+n[10]*s+n[14],t[15]=n[3]*l+n[7]*o+n[11]*s+n[15]):(f=n[0],e=n[1],p=n[2],u=n[3],h=n[4],b=n[5],m=n[6],g=n[7],y=n[8],v=n[9],c=n[10],d=n[11],t[0]=f,t[1]=e,t[2]=p,t[3]=u,t[4]=h,t[5]=b,t[6]=m,t[7]=g,t[8]=y,t[9]=v,t[10]=c,t[11]=d,t[12]=f*l+h*o+y*s+n[12],t[13]=e*l+b*o+v*s+n[13],t[14]=p*l+m*o+c*s+n[14],t[15]=u*l+g*o+d*s+n[15]),t}}),Mu=Dt((F,D)=>{D.exports=i;function i(t,n,r){var l=r[0],o=r[1],s=r[2];return t[0]=n[0]*l,t[1]=n[1]*l,t[2]=n[2]*l,t[3]=n[3]*l,t[4]=n[4]*o,t[5]=n[5]*o,t[6]=n[6]*o,t[7]=n[7]*o,t[8]=n[8]*s,t[9]=n[9]*s,t[10]=n[10]*s,t[11]=n[11]*s,t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}}),Tu=Dt((F,D)=>{D.exports=i;function i(t,n,r,l){var o=l[0],s=l[1],f=l[2],e=Math.sqrt(o*o+s*s+f*f),p,u,h,b,m,g,y,v,c,d,_,w,k,$,P,O,T,X,I,E,N,V,U,G;return Math.abs(e)<1e-6?null:(e=1/e,o*=e,s*=e,f*=e,p=Math.sin(r),u=Math.cos(r),h=1-u,b=n[0],m=n[1],g=n[2],y=n[3],v=n[4],c=n[5],d=n[6],_=n[7],w=n[8],k=n[9],$=n[10],P=n[11],O=o*o*h+u,T=s*o*h+f*p,X=f*o*h-s*p,I=o*s*h-f*p,E=s*s*h+u,N=f*s*h+o*p,V=o*f*h+s*p,U=s*f*h-o*p,G=f*f*h+u,t[0]=b*O+v*T+w*X,t[1]=m*O+c*T+k*X,t[2]=g*O+d*T+$*X,t[3]=y*O+_*T+P*X,t[4]=b*I+v*E+w*N,t[5]=m*I+c*E+k*N,t[6]=g*I+d*E+$*N,t[7]=y*I+_*E+P*N,t[8]=b*V+v*U+w*G,t[9]=m*V+c*U+k*G,t[10]=g*V+d*U+$*G,t[11]=y*V+_*U+P*G,n!==t&&(t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t)}}),ku=Dt((F,D)=>{D.exports=i;function i(t,n,r){var l=Math.sin(r),o=Math.cos(r),s=n[4],f=n[5],e=n[6],p=n[7],u=n[8],h=n[9],b=n[10],m=n[11];return n!==t&&(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[4]=s*o+u*l,t[5]=f*o+h*l,t[6]=e*o+b*l,t[7]=p*o+m*l,t[8]=u*o-s*l,t[9]=h*o-f*l,t[10]=b*o-e*l,t[11]=m*o-p*l,t}}),Au=Dt((F,D)=>{D.exports=i;function i(t,n,r){var l=Math.sin(r),o=Math.cos(r),s=n[0],f=n[1],e=n[2],p=n[3],u=n[8],h=n[9],b=n[10],m=n[11];return n!==t&&(t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=s*o-u*l,t[1]=f*o-h*l,t[2]=e*o-b*l,t[3]=p*o-m*l,t[8]=s*l+u*o,t[9]=f*l+h*o,t[10]=e*l+b*o,t[11]=p*l+m*o,t}}),Lu=Dt((F,D)=>{D.exports=i;function i(t,n,r){var l=Math.sin(r),o=Math.cos(r),s=n[0],f=n[1],e=n[2],p=n[3],u=n[4],h=n[5],b=n[6],m=n[7];return n!==t&&(t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=s*o+u*l,t[1]=f*o+h*l,t[2]=e*o+b*l,t[3]=p*o+m*l,t[4]=u*o-s*l,t[5]=h*o-f*l,t[6]=b*o-e*l,t[7]=m*o-p*l,t}}),Su=Dt((F,D)=>{D.exports=i;function i(t,n,r){var l,o,s,f=r[0],e=r[1],p=r[2],u=Math.sqrt(f*f+e*e+p*p);return Math.abs(u)<1e-6?null:(u=1/u,f*=u,e*=u,p*=u,l=Math.sin(n),o=Math.cos(n),s=1-o,t[0]=f*f*s+o,t[1]=e*f*s+p*l,t[2]=p*f*s-e*l,t[3]=0,t[4]=f*e*s-p*l,t[5]=e*e*s+o,t[6]=p*e*s+f*l,t[7]=0,t[8]=f*p*s+e*l,t[9]=e*p*s-f*l,t[10]=p*p*s+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}}),Ou=Dt((F,D)=>{D.exports=i;function i(t,n,r){var l=n[0],o=n[1],s=n[2],f=n[3],e=l+l,p=o+o,u=s+s,h=l*e,b=l*p,m=l*u,g=o*p,y=o*u,v=s*u,c=f*e,d=f*p,_=f*u;return t[0]=1-(g+v),t[1]=b+_,t[2]=m-d,t[3]=0,t[4]=b-_,t[5]=1-(h+v),t[6]=y+c,t[7]=0,t[8]=m+d,t[9]=y-c,t[10]=1-(h+g),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}}),Cu=Dt((F,D)=>{D.exports=i;function i(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}}),Du=Dt((F,D)=>{D.exports=i;function i(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}}),Pu=Dt((F,D)=>{D.exports=i;function i(t,n){var r=Math.sin(n),l=Math.cos(n);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=l,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}}),Iu=Dt((F,D)=>{D.exports=i;function i(t,n){var r=Math.sin(n),l=Math.cos(n);return t[0]=l,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}}),Fu=Dt((F,D)=>{D.exports=i;function i(t,n){var r=Math.sin(n),l=Math.cos(n);return t[0]=l,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}}),zo=Dt((F,D)=>{D.exports=i;function i(t,n){var r=n[0],l=n[1],o=n[2],s=n[3],f=r+r,e=l+l,p=o+o,u=r*f,h=l*f,b=l*e,m=o*f,g=o*e,y=o*p,v=s*f,c=s*e,d=s*p;return t[0]=1-b-y,t[1]=h+d,t[2]=m-c,t[3]=0,t[4]=h-d,t[5]=1-u-y,t[6]=g+v,t[7]=0,t[8]=m+c,t[9]=g-v,t[10]=1-u-b,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}}),Ru=Dt((F,D)=>{D.exports=i;function i(t,n,r,l,o,s,f){var e=1/(r-n),p=1/(o-l),u=1/(s-f);return t[0]=s*2*e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s*2*p,t[6]=0,t[7]=0,t[8]=(r+n)*e,t[9]=(o+l)*p,t[10]=(f+s)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=f*s*2*u,t[15]=0,t}}),Nu=Dt((F,D)=>{D.exports=i;function i(t,n,r,l,o){var s=1/Math.tan(n/2),f=1/(l-o);return t[0]=s/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(o+l)*f,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*o*l*f,t[15]=0,t}}),Eu=Dt((F,D)=>{D.exports=i;function i(t,n,r,l){var o=Math.tan(n.upDegrees*Math.PI/180),s=Math.tan(n.downDegrees*Math.PI/180),f=Math.tan(n.leftDegrees*Math.PI/180),e=Math.tan(n.rightDegrees*Math.PI/180),p=2/(f+e),u=2/(o+s);return t[0]=p,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=-((f-e)*p*.5),t[9]=(o-s)*u*.5,t[10]=l/(r-l),t[11]=-1,t[12]=0,t[13]=0,t[14]=l*r/(r-l),t[15]=0,t}}),zu=Dt((F,D)=>{D.exports=i;function i(t,n,r,l,o,s,f){var e=1/(n-r),p=1/(l-o),u=1/(s-f);return t[0]=-2*e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*p,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(n+r)*e,t[13]=(o+l)*p,t[14]=(f+s)*u,t[15]=1,t}}),Bu=Dt((F,D)=>{var i=Eo();D.exports=t;function t(n,r,l,o){var s,f,e,p,u,h,b,m,g,y,v=r[0],c=r[1],d=r[2],_=o[0],w=o[1],k=o[2],$=l[0],P=l[1],O=l[2];return Math.abs(v-$)<1e-6&&Math.abs(c-P)<1e-6&&Math.abs(d-O)<1e-6?i(n):(b=v-$,m=c-P,g=d-O,y=1/Math.sqrt(b*b+m*m+g*g),b*=y,m*=y,g*=y,s=w*g-k*m,f=k*b-_*g,e=_*m-w*b,y=Math.sqrt(s*s+f*f+e*e),y?(y=1/y,s*=y,f*=y,e*=y):(s=0,f=0,e=0),p=m*e-g*f,u=g*s-b*e,h=b*f-m*s,y=Math.sqrt(p*p+u*u+h*h),y?(y=1/y,p*=y,u*=y,h*=y):(p=0,u=0,h=0),n[0]=s,n[1]=p,n[2]=b,n[3]=0,n[4]=f,n[5]=u,n[6]=m,n[7]=0,n[8]=e,n[9]=h,n[10]=g,n[11]=0,n[12]=-(s*v+f*c+e*d),n[13]=-(p*v+u*c+h*d),n[14]=-(b*v+m*c+g*d),n[15]=1,n)}}),Hu=Dt((F,D)=>{D.exports=i;function i(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}}),Bo=Dt((F,D)=>{D.exports={create:pu(),clone:vu(),copy:gu(),identity:Eo(),transpose:yu(),invert:mu(),adjoint:xu(),determinant:bu(),multiply:_u(),translate:wu(),scale:Mu(),rotate:Tu(),rotateX:ku(),rotateY:Au(),rotateZ:Lu(),fromRotation:Su(),fromRotationTranslation:Ou(),fromScaling:Cu(),fromTranslation:Du(),fromXRotation:Pu(),fromYRotation:Iu(),fromZRotation:Fu(),fromQuat:zo(),frustum:Ru(),perspective:Nu(),perspectiveFromFieldOfView:Eu(),ortho:zu(),lookAt:Bu(),str:Hu()}}),Li=Dt(F=>{var D=Bo();F.init2dArray=function(i,t){for(var n=new Array(i),r=0;r<i;r++)n[r]=new Array(t);return n},F.transposeRagged=function(i){var t=0,n=i.length,r,l;for(r=0;r<n;r++)t=Math.max(t,i[r].length);var o=new Array(t);for(r=0;r<t;r++)for(o[r]=new Array(n),l=0;l<n;l++)o[r][l]=i[l][r];return o},F.dot=function(i,t){if(!(i.length&&t.length)||i.length!==t.length)return null;var n=i.length,r,l;if(i[0].length)for(r=new Array(n),l=0;l<n;l++)r[l]=F.dot(i[l],t);else if(t[0].length){var o=F.transposeRagged(t);for(r=new Array(o.length),l=0;l<o.length;l++)r[l]=F.dot(i,o[l])}else for(r=0,l=0;l<n;l++)r+=i[l]*t[l];return r},F.translationMatrix=function(i,t){return[[1,0,i],[0,1,t],[0,0,1]]},F.rotationMatrix=function(i){var t=i*Math.PI/180;return[[Math.cos(t),-Math.sin(t),0],[Math.sin(t),Math.cos(t),0],[0,0,1]]},F.rotationXYMatrix=function(i,t,n){return F.dot(F.dot(F.translationMatrix(t,n),F.rotationMatrix(i)),F.translationMatrix(-t,-n))},F.apply3DTransform=function(i){return function(){var t=arguments,n=arguments.length===1?t[0]:[t[0],t[1],t[2]||0];return F.dot(i,[n[0],n[1],n[2],1]).slice(0,3)}},F.apply2DTransform=function(i){return function(){var t=arguments;t.length===3&&(t=t[0]);var n=arguments.length===1?t[0]:[t[0],t[1]];return F.dot(i,[n[0],n[1],1]).slice(0,2)}},F.apply2DTransform2=function(i){var t=F.apply2DTransform(i);return function(n){return t(n.slice(0,2)).concat(t(n.slice(2,4)))}},F.convertCssMatrix=function(i){if(i){var t=i.length;if(t===16)return i;if(t===6)return[i[0],i[1],0,0,i[2],i[3],0,0,0,0,1,0,i[4],i[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},F.inverseTransformMatrix=function(i){var t=[];return D.invert(t,i),[[t[0],t[1],t[2],t[3]],[t[4],t[5],t[6],t[7]],[t[8],t[9],t[10],t[11]],[t[12],t[13],t[14],t[15]]]}}),Gr=Dt((F,D)=>{var i=_n(),t=wr(),n=Li(),r=Bo();function l(v){var c;if(typeof v=="string"){if(c=document.getElementById(v),c===null)throw new Error("No DOM element with id '"+v+"' exists on the page.");return c}else if(v==null)throw new Error("DOM element provided is null or undefined");return v}function o(v){var c=i.select(v);return c.node()instanceof HTMLElement&&c.size()&&c.classed("js-plotly-plot")}function s(v){var c=v&&v.parentNode;c&&c.removeChild(v)}function f(v,c){e("global",v,c)}function e(v,c,d){var _="plotly.js-style-"+v,w=document.getElementById(_);if(!(w&&w.matches(".no-inline-styles"))){w||(w=document.createElement("style"),w.setAttribute("id",_),w.appendChild(document.createTextNode("")),document.head.appendChild(w));var k=w.sheet;k?k.insertRule?k.insertRule(c+"{"+d+"}",0):k.addRule?k.addRule(c,d,0):t.warn("addStyleRule failed"):t.warn("Cannot addRelatedStyleRule, probably due to strict CSP...")}}function p(v){var c="plotly.js-style-"+v,d=document.getElementById(c);d&&s(d)}function u(v,c,d,_,w,k){var $=_.split(":"),P=w.split(":"),O="data-btn-style-event-added";k||(k=document),k.querySelectorAll(v).forEach(function(T){T.getAttribute(O)||(T.addEventListener("mouseenter",function(){var X=this.querySelector(d);X&&(X.style[$[0]]=$[1])}),T.addEventListener("mouseleave",function(){var X=this.querySelector(d);X&&(c&&this.matches(c)?X.style[$[0]]=$[1]:X.style[P[0]]=P[1])}),T.setAttribute(O,!0))})}function h(v){var c=m(v),d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return c.forEach(function(_){var w=b(_);if(w){var k=n.convertCssMatrix(w);d=r.multiply(d,d,k)}}),d}function b(v){var c=window.getComputedStyle(v,null),d=c.getPropertyValue("-webkit-transform")||c.getPropertyValue("-moz-transform")||c.getPropertyValue("-ms-transform")||c.getPropertyValue("-o-transform")||c.getPropertyValue("transform");return d==="none"?null:d.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(_){return+_})}function m(v){for(var c=[];g(v);)c.push(v),v=v.parentNode,typeof ShadowRoot=="function"&&v instanceof ShadowRoot&&(v=v.host);return c}function g(v){return v&&(v instanceof Element||v instanceof HTMLElement)}function y(v,c){return v&&c&&v.top===c.top&&v.left===c.left&&v.right===c.right&&v.bottom===c.bottom}D.exports={getGraphDiv:l,isPlotDiv:o,removeElement:s,addStyleRule:f,addRelatedStyleRule:e,deleteRelatedStyleRule:p,setStyleOnHover:u,getFullTransformMatrix:h,getElementTransformMatrix:b,getElementAndAncestors:m,equalDomRects:y}}),Xr=Dt((F,D)=>{D.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}}),qa=Dt((F,D)=>{var i=la().extendFlat,t=ur(),n={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},r={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},l=n.flags.slice().concat(["fullReplot"]),o=r.flags.slice().concat("layoutReplot");D.exports={traces:n,layout:r,traceFlags:function(){return s(l)},layoutFlags:function(){return s(o)},update:function(p,u){var h=u.editType;if(h&&h!=="none")for(var b=h.split("+"),m=0;m<b.length;m++)p[b[m]]=!0},overrideAll:f};function s(p){for(var u={},h=0;h<p.length;h++)u[p[h]]=!1;return u}function f(p,u,h){var b=i({},p);for(var m in b){var g=b[m];t(g)&&(b[m]=e(g,u,h,m))}return h==="from-root"&&(b.editType=u),b}function e(p,u,h,b){if(p.valType){var m=i({},p);if(m.editType=u,Array.isArray(p.items)){m.items=new Array(p.items.length);for(var g=0;g<p.items.length;g++)m.items[g]=e(p.items[g],u)}return m}else return f(p,u,b.charAt(0)==="_"?"nested":"from-root")}}),$a=Dt(F=>{F.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},F.pattern={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}}),Ho=Dt((F,D)=>{D.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}}),ar=Dt(F=>{var D=Ho();D.FORMAT_LINK,D.DATE_FORMAT_LINK;function i(t){var n=t.description?" "+t.description:"",r=t.keys||[];if(r.length>0){for(var l=[],o=0;o<r.length;o++)l[o]="`"+r[o]+"`";n=n+"Finally, the template string has access to ",r.length===1?n=n+"variable "+l[0]:n=n+"variables "+l.slice(0,-1).join(", ")+" and "+l.slice(-1)+"."}return n}F.hovertemplateAttrs=function(t,n){t=t||{},n=n||{},i(n);var r={valType:"string",dflt:"",editType:t.editType||"none"};return t.arrayOk!==!1&&(r.arrayOk=!0),r},F.texttemplateAttrs=function(t,n){t=t||{},n=n||{},i(n);var r={valType:"string",dflt:"",editType:t.editType||"calc"};return t.arrayOk!==!1&&(r.arrayOk=!0),r},F.shapeTexttemplateAttrs=function(t,n){t=t||{},n=n||{},t.newshape,i(n);var r={valType:"string",dflt:"",editType:t.editType||"arraydraw"};return r}}),Si=Dt((F,D)=>{function i(d,_){return _?_.d2l(d):d}function t(d,_){return _?_.l2d(d):d}function n(d){return d.x0}function r(d){return d.x1}function l(d){return d.y0}function o(d){return d.y1}function s(d){return d.x0shift||0}function f(d){return d.x1shift||0}function e(d){return d.y0shift||0}function p(d){return d.y1shift||0}function u(d,_){return i(d.x1,_)+f(d)-i(d.x0,_)-s(d)}function h(d,_,w){return i(d.y1,w)+p(d)-i(d.y0,w)-e(d)}function b(d,_){return Math.abs(u(d,_))}function m(d,_,w){return Math.abs(h(d,_,w))}function g(d,_,w){return d.type!=="line"?void 0:Math.sqrt(Math.pow(u(d,_),2)+Math.pow(h(d,_,w),2))}function y(d,_){return t((i(d.x1,_)+f(d)+i(d.x0,_)+s(d))/2,_)}function v(d,_,w){return t((i(d.y1,w)+p(d)+i(d.y0,w)+e(d))/2,w)}function c(d,_,w){return d.type!=="line"?void 0:h(d,_,w)/u(d,_)}D.exports={x0:n,x1:r,y0:l,y1:o,slope:c,dx:u,dy:h,width:b,height:m,length:g,xcenter:y,ycenter:v}}),ju=Dt((F,D)=>{var i=qa().overrideAll,t=ja(),n=ha(),r=$a().dash,l=la().extendFlat,o=ar().shapeTexttemplateAttrs,s=Si();D.exports=i({newshape:{visible:l({},t.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:l({},t.legend,{}),legendgroup:l({},t.legendgroup,{}),legendgrouptitle:{text:l({},t.legendgrouptitle.text,{}),font:n({})},legendrank:l({},t.legendrank,{}),legendwidth:l({},t.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:l({},r,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:l({},t.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:o({newshape:!0},{keys:Object.keys(s)}),font:n({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")}),Vu=Dt((F,D)=>{var i=$a().dash,t=la().extendFlat;D.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:t({},i,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}}),Oi=Dt((F,D)=>{D.exports=function(i){var t=i.editType;return{t:{valType:"number",dflt:0,editType:t},r:{valType:"number",dflt:0,editType:t},b:{valType:"number",dflt:0,editType:t},l:{valType:"number",dflt:0,editType:t},editType:t}}}),Fr=Dt((F,D)=>{var i=ha(),t=Xr(),n=Ja(),r=ju(),l=Vu(),o=Oi(),s=la().extendFlat,f=i({editType:"calc"});f.family.dflt='"Open Sans", verdana, arial, sans-serif',f.size.dflt=12,f.color.dflt=n.defaultLine,D.exports={font:f,title:{text:{valType:"string",editType:"layoutstyle"},font:i({editType:"layoutstyle"}),subtitle:{text:{valType:"string",editType:"layoutstyle"},font:i({editType:"layoutstyle"}),editType:"layoutstyle"},xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:s(o({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:n.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:n.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:n.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:r.newshape,activeshape:r.activeshape,newselection:l.newselection,activeselection:l.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:s({},t.transition,{editType:"none"})}}),Yu=Do(()=>{}),Zu={},Uu=Do(()=>{Yu()}),un=Dt(F=>{var D=wr(),i=Ai(),t=No(),n=ur(),r=Gr().addStyleRule,l=la(),o=ja(),s=Fr(),f=l.extendFlat,e=l.extendDeepAll;F.modules={},F.allCategories={},F.allTypes=[],F.subplotsRegistry={},F.componentsRegistry={},F.layoutArrayContainers=[],F.layoutArrayRegexes=[],F.traceLayoutAttributes={},F.localeRegistry={},F.apiMethodRegistry={},F.collectableSubplotTypes=null,F.register=function(d){if(F.collectableSubplotTypes=null,d)d&&!Array.isArray(d)&&(d=[d]);else throw new Error("No argument passed to Plotly.register.");for(var _=0;_<d.length;_++){var w=d[_];if(!w)throw new Error("Invalid module was attempted to be registered!");switch(w.moduleType){case"trace":p(w);break;case"transform":b(w);break;case"component":h(w);break;case"locale":m(w);break;case"apiMethod":var k=w.name;F.apiMethodRegistry[k]=w.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},F.getModule=function(d){var _=F.modules[c(d)];return _?_._module:!1},F.traceIs=function(d,_){if(d=c(d),d==="various")return!1;var w=F.modules[d];return w||(d&&D.log("Unrecognized trace type "+d+"."),w=F.modules[o.type.dflt]),!!w.categories[_]},F.getComponentMethod=function(d,_){var w=F.componentsRegistry[d];return w&&w[_]||i},F.call=function(){var d=arguments[0],_=[].slice.call(arguments,1);return F.apiMethodRegistry[d].apply(null,_)};function p(d){var _=d.name,w=d.categories,k=d.meta;if(F.modules[_]){D.log("Type "+_+" already registered");return}F.subplotsRegistry[d.basePlotModule.name]||u(d.basePlotModule);for(var $={},P=0;P<w.length;P++)$[w[P]]=!0,F.allCategories[w[P]]=!0;F.modules[_]={_module:d,categories:$},k&&Object.keys(k).length&&(F.modules[_].meta=k),F.allTypes.push(_);for(var O in F.componentsRegistry)y(O,_);d.layoutAttributes&&f(F.traceLayoutAttributes,d.layoutAttributes);var T=d.basePlotModule,X=T.name;if(X==="mapbox"){var I=T.constants.styleRules;for(var E in I)r(".js-plotly-plot .plotly .mapboxgl-"+E,I[E])}X==="map"&&(Uu(),lu(Zu)),(X==="geo"||X==="mapbox"||X==="map")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function u(d){var _=d.name;if(F.subplotsRegistry[_]){D.log("Plot type "+_+" already registered.");return}g(d),F.subplotsRegistry[_]=d;for(var w in F.componentsRegistry)v(w,d.name)}function h(d){if(typeof d.name!="string")throw new Error("Component module *name* must be a string.");var _=d.name;F.componentsRegistry[_]=d,d.layoutAttributes&&(d.layoutAttributes._isLinkedToArray&&t(F.layoutArrayContainers,_),g(d));for(var w in F.modules)y(_,w);for(var k in F.subplotsRegistry)v(_,k);d.schema&&d.schema.layout&&e(s,d.schema.layout)}function b(d){if(typeof d.name!="string")throw new Error("Transform module *name* must be a string.");var _="Transform module "+d.name,w=typeof d.transform=="function",k=typeof d.calcTransform=="function";if(!w&&!k)throw new Error(_+" is missing a *transform* or *calcTransform* method.");w&&k&&D.log([_+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),n(d.attributes)||D.log(_+" registered without an *attributes* object."),typeof d.supplyDefaults!="function"&&D.log(_+" registered without a *supplyDefaults* method.")}function m(d){var _=d.name,w=_.split("-")[0],k=d.dictionary,$=d.format,P=k&&Object.keys(k).length,O=$&&Object.keys($).length,T=F.localeRegistry,X=T[_];if(X||(T[_]=X={}),w!==_){var I=T[w];I||(T[w]=I={}),P&&I.dictionary===X.dictionary&&(I.dictionary=k),O&&I.format===X.format&&(I.format=$)}P&&(X.dictionary=k),O&&(X.format=$)}function g(d){if(d.layoutAttributes){var _=d.layoutAttributes._arrayAttrRegexps;if(_)for(var w=0;w<_.length;w++)t(F.layoutArrayRegexes,_[w])}}function y(d,_){var w=F.componentsRegistry[d].schema;if(!(!w||!w.traces)){var k=w.traces[_];k&&e(F.modules[_]._module.attributes,k)}}function v(d,_){var w=F.componentsRegistry[d].schema;if(!(!w||!w.subplots)){var k=F.subplotsRegistry[_],$=k.layoutAttributes,P=k.attr==="subplot"?k.name:k.attr;Array.isArray(P)&&(P=P[0]);var O=w.subplots[P];$&&O&&e($,O)}}function c(d){return typeof d=="object"&&(d=d.type),d}}),Gu=Dt(F=>{var D=Cr().timeFormat,i=wn(),t=wr(),n=Dr().mod,r=oa(),l=r.BADNUM,o=r.ONEDAY,s=r.ONEHOUR,f=r.ONEMIN,e=r.ONESEC,p=r.EPOCHJD,u=un(),h=Cr().utcFormat,b=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,m=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,g=new Date().getFullYear()-70;function y(U){return U&&u.componentsRegistry.calendars&&typeof U=="string"&&U!=="gregorian"}F.dateTick0=function(U,G){var C=v(U,!!G);if(G<2)return C;var W=F.dateTime2ms(C,U);return W+=o*(G-1),F.ms2DateTime(W,0,U)};function v(U,G){return y(U)?G?u.getComponentMethod("calendars","CANONICAL_SUNDAY")[U]:u.getComponentMethod("calendars","CANONICAL_TICK")[U]:G?"2000-01-02":"2000-01-01"}F.dfltRange=function(U){return y(U)?u.getComponentMethod("calendars","DFLTRANGE")[U]:["2000-01-01","2001-01-01"]},F.isJSDate=function(U){return typeof U=="object"&&U!==null&&typeof U.getTime=="function"};var c,d;F.dateTime2ms=function(U,G){if(F.isJSDate(U)){var C=U.getTimezoneOffset()*f,W=(U.getUTCMinutes()-U.getMinutes())*f+(U.getUTCSeconds()-U.getSeconds())*e+(U.getUTCMilliseconds()-U.getMilliseconds());if(W){var J=3*f;C=C-J/2+n(W-C+J/2,J)}return U=Number(U)-C,U>=c&&U<=d?U:l}if(typeof U!="string"&&typeof U!="number")return l;U=String(U);var at=y(G),et=U.charAt(0);at&&(et==="G"||et==="g")&&(U=U.substr(1),G="");var it=at&&G.substr(0,7)==="chinese",dt=U.match(it?m:b);if(!dt)return l;var ht=dt[1],xt=dt[3]||"1",H=Number(dt[5]||1),j=Number(dt[7]||0),A=Number(dt[9]||0),q=Number(dt[11]||0);if(at){if(ht.length===2)return l;ht=Number(ht);var R;try{var z=u.getComponentMethod("calendars","getCal")(G);if(it){var M=xt.charAt(xt.length-1)==="i";xt=parseInt(xt,10),R=z.newDate(ht,z.toMonthIndex(ht,xt,M),H)}else R=z.newDate(ht,Number(xt),H)}catch{return l}return R?(R.toJD()-p)*o+j*s+A*f+q*e:l}ht.length===2?ht=(Number(ht)+2e3-g)%100+g:ht=Number(ht),xt-=1;var S=new Date(Date.UTC(2e3,xt,H,j,A));return S.setUTCFullYear(ht),S.getUTCMonth()!==xt||S.getUTCDate()!==H?l:S.getTime()+q*e},c=F.MIN_MS=F.dateTime2ms("-9999"),d=F.MAX_MS=F.dateTime2ms("9999-12-31 23:59:59.9999"),F.isDateTime=function(U,G){return F.dateTime2ms(U,G)!==l};function _(U,G){return String(U+Math.pow(10,G)).substr(1)}var w=90*o,k=3*s,$=5*f;F.ms2DateTime=function(U,G,C){if(typeof U!="number"||!(U>=c&&U<=d))return l;G||(G=0);var W=Math.floor(n(U+.05,1)*10),J=Math.round(U-W/10),at,et,it,dt,ht,xt;if(y(C)){var H=Math.floor(J/o)+p,j=Math.floor(n(U,o));try{at=u.getComponentMethod("calendars","getCal")(C).fromJD(H).formatDate("yyyy-mm-dd")}catch{at=h("G%Y-%m-%d")(new Date(J))}if(at.charAt(0)==="-")for(;at.length<11;)at="-0"+at.substr(1);else for(;at.length<10;)at="0"+at;et=G<w?Math.floor(j/s):0,it=G<w?Math.floor(j%s/f):0,dt=G<k?Math.floor(j%f/e):0,ht=G<$?j%e*10+W:0}else xt=new Date(J),at=h("%Y-%m-%d")(xt),et=G<w?xt.getUTCHours():0,it=G<w?xt.getUTCMinutes():0,dt=G<k?xt.getUTCSeconds():0,ht=G<$?xt.getUTCMilliseconds()*10+W:0;return P(at,et,it,dt,ht)},F.ms2DateTimeLocal=function(U){if(!(U>=c+o&&U<=d-o))return l;var G=Math.floor(n(U+.05,1)*10),C=new Date(Math.round(U-G/10)),W=D("%Y-%m-%d")(C),J=C.getHours(),at=C.getMinutes(),et=C.getSeconds(),it=C.getUTCMilliseconds()*10+G;return P(W,J,at,et,it)};function P(U,G,C,W,J){if((G||C||W||J)&&(U+=" "+_(G,2)+":"+_(C,2),(W||J)&&(U+=":"+_(W,2),J))){for(var at=4;J%10===0;)at-=1,J/=10;U+="."+_(J,at)}return U}F.cleanDate=function(U,G,C){if(U===l)return G;if(F.isJSDate(U)||typeof U=="number"&&isFinite(U)){if(y(C))return t.error("JS Dates and milliseconds are incompatible with world calendars",U),G;if(U=F.ms2DateTimeLocal(+U),!U&&G!==void 0)return G}else if(!F.isDateTime(U,C))return t.error("unrecognized date",U),G;return U};var O=/%\d?f/g,T=/%h/g,X={1:"1",2:"1",3:"2",4:"2"};function I(U,G,C,W){U=U.replace(O,function(at){var et=Math.min(+at.charAt(1)||6,6),it=(G/1e3%1+2).toFixed(et).substr(2).replace(/0+$/,"")||"0";return it});var J=new Date(Math.floor(G+.05));if(U=U.replace(T,function(){return X[C("%q")(J)]}),y(W))try{U=u.getComponentMethod("calendars","worldCalFmt")(U,G,W)}catch{return"Invalid"}return C(U)(J)}var E=[59,59.9,59.99,59.999,59.9999];function N(U,G){var C=n(U+.05,o),W=_(Math.floor(C/s),2)+":"+_(n(Math.floor(C/f),60),2);if(G!=="M"){i(G)||(G=0);var J=Math.min(n(U/e,60),E[G]),at=(100+J).toFixed(G).substr(1);G>0&&(at=at.replace(/0+$/,"").replace(/[\.]$/,"")),W+=":"+at}return W}F.formatDate=function(U,G,C,W,J,at){if(J=y(J)&&J,!G)if(C==="y")G=at.year;else if(C==="m")G=at.month;else if(C==="d")G=at.dayMonth+`
`+at.year;else return N(U,C)+`
`+I(at.dayMonthYear,U,W,J);return I(G,U,W,J)};var V=3*o;F.incrementMonth=function(U,G,C){C=y(C)&&C;var W=n(U,o);if(U=Math.round(U-W),C)try{var J=Math.round(U/o)+p,at=u.getComponentMethod("calendars","getCal")(C),et=at.fromJD(J);return G%12?at.add(et,G,"m"):at.add(et,G/12,"y"),(et.toJD()-p)*o+W}catch{t.error("invalid ms "+U+" in calendar "+C)}var it=new Date(U+V);return it.setUTCMonth(it.getUTCMonth()+G)+W-V},F.findExactDates=function(U,G){for(var C=0,W=0,J=0,at=0,et,it,dt=y(G)&&u.getComponentMethod("calendars","getCal")(G),ht=0;ht<U.length;ht++){if(it=U[ht],!i(it)){at++;continue}if(!(it%o))if(dt)try{et=dt.fromJD(it/o+p),et.day()===1?et.month()===1?C++:W++:J++}catch{}else et=new Date(it),et.getUTCDate()===1?et.getUTCMonth()===0?C++:W++:J++}W+=C,J+=W;var xt=U.length-at;return{exactYears:C/xt,exactMonths:W/xt,exactDays:J/xt}}}),jo=Dt((F,D)=>{D.exports=function(i){return i}}),Vo=Dt(F=>{var D=wn(),i=wr(),t=jo(),n=oa().BADNUM,r=1e-9;F.findBin=function(e,p,u){if(D(p.start))return u?Math.ceil((e-p.start)/p.size-r)-1:Math.floor((e-p.start)/p.size+r);var h=0,b=p.length,m=0,g=b>1?(p[b-1]-p[0])/(b-1):1,y,v;for(g>=0?v=u?l:o:v=u?f:s,e+=g*r*(u?-1:1)*(g>=0?1:-1);h<b&&m++<100;)y=Math.floor((h+b)/2),v(p[y],e)?h=y+1:b=y;return m>90&&i.log("Long binary search..."),h-1};function l(e,p){return e<p}function o(e,p){return e<=p}function s(e,p){return e>p}function f(e,p){return e>=p}F.sorterAsc=function(e,p){return e-p},F.sorterDes=function(e,p){return p-e},F.distinctVals=function(e){var p=e.slice();p.sort(F.sorterAsc);var u;for(u=p.length-1;u>-1&&p[u]===n;u--);for(var h=p[u]-p[0]||1,b=h/(u||1)/1e4,m=[],g,y=0;y<=u;y++){var v=p[y],c=v-g;g===void 0?(m.push(v),g=v):c>b&&(h=Math.min(h,c),m.push(v),g=v)}return{vals:m,minDiff:h}},F.roundUp=function(e,p,u){for(var h=0,b=p.length-1,m,g=0,y=u?0:1,v=u?1:0,c=u?Math.ceil:Math.floor;h<b&&g++<100;)m=c((h+b)/2),p[m]<=e?h=m+y:b=m-v;return p[h]},F.sort=function(e,p){for(var u=0,h=0,b=1;b<e.length;b++){var m=p(e[b],e[b-1]);if(m<0?u=1:m>0&&(h=1),u&&h)return e.sort(p)}return h?e:e.reverse()},F.findIndexOfMin=function(e,p){p=p||t;for(var u=1/0,h,b=0;b<e.length;b++){var m=p(e[b]);m<u&&(u=m,h=b)}return h}}),Yo=Dt((F,D)=>{D.exports=function(i){return Object.keys(i).sort()}}),Xu=Dt(F=>{var D=wn(),i=Da().isArrayOrTypedArray;F.aggNums=function(t,n,r,l){var o,s;if((!l||l>r.length)&&(l=r.length),D(n)||(n=!1),i(r[0])){for(s=new Array(l),o=0;o<l;o++)s[o]=F.aggNums(t,n,r[o]);r=s}for(o=0;o<l;o++)D(n)?D(r[o])&&(n=t(+n,+r[o])):n=r[o];return n},F.len=function(t){return F.aggNums(function(n){return n+1},0,t)},F.mean=function(t,n){return n||(n=F.len(t)),F.aggNums(function(r,l){return r+l},0,t)/n},F.geometricMean=function(t,n){return n||(n=F.len(t)),Math.pow(F.aggNums(function(r,l){return r*l},1,t),1/n)},F.midRange=function(t){if(!(t===void 0||t.length===0))return(F.aggNums(Math.max,null,t)+F.aggNums(Math.min,null,t))/2},F.variance=function(t,n,r){return n||(n=F.len(t)),D(r)||(r=F.mean(t,n)),F.aggNums(function(l,o){return l+Math.pow(o-r,2)},0,t)/n},F.stdev=function(t,n,r){return Math.sqrt(F.variance(t,n,r))},F.median=function(t){var n=t.slice().sort();return F.interp(n,.5)},F.interp=function(t,n){if(!D(n))throw"n should be a finite number";if(n=n*t.length-.5,n<0)return t[0];if(n>t.length-1)return t[t.length-1];var r=n%1;return r*t[Math.ceil(n)]+(1-r)*t[Math.floor(n)]}}),Wu=Dt((F,D)=>{var i=Dr(),t=i.mod,n=i.modHalf,r=Math.PI,l=2*r;function o(v){return v/180*r}function s(v){return v/r*180}function f(v){return Math.abs(v[1]-v[0])>l-1e-14}function e(v,c){return n(c-v,l)}function p(v,c){return Math.abs(e(v,c))}function u(v,c){if(f(c))return!0;var d,_;c[0]<c[1]?(d=c[0],_=c[1]):(d=c[1],_=c[0]),d=t(d,l),_=t(_,l),d>_&&(_+=l);var w=t(v,l),k=w+l;return w>=d&&w<=_||k>=d&&k<=_}function h(v,c,d,_){if(!u(c,_))return!1;var w,k;return d[0]<d[1]?(w=d[0],k=d[1]):(w=d[1],k=d[0]),v>=w&&v<=k}function b(v,c,d,_,w,k,$){w=w||0,k=k||0;var P=f([d,_]),O,T,X,I,E;P?(O=0,T=r,X=l):d<_?(O=d,X=_):(O=_,X=d),v<c?(I=v,E=c):(I=c,E=v);function N(C,W){return[C*Math.cos(W)+w,k-C*Math.sin(W)]}var V=Math.abs(X-O)<=r?0:1;function U(C,W,J){return"A"+[C,C]+" "+[0,V,J]+" "+N(C,W)}var G;return P?I===null?G="M"+N(E,O)+U(E,T,0)+U(E,X,0)+"Z":G="M"+N(I,O)+U(I,T,0)+U(I,X,0)+"ZM"+N(E,O)+U(E,T,1)+U(E,X,1)+"Z":I===null?(G="M"+N(E,O)+U(E,X,0),$&&(G+="L0,0Z")):G="M"+N(I,O)+"L"+N(E,O)+U(E,X,0)+"L"+N(I,X)+U(I,O,1)+"Z",G}function m(v,c,d,_,w){return b(null,v,c,d,_,w,0)}function g(v,c,d,_,w){return b(null,v,c,d,_,w,1)}function y(v,c,d,_,w,k){return b(v,c,d,_,w,k,1)}D.exports={deg2rad:o,rad2deg:s,angleDelta:e,angleDist:p,isFullCircle:f,isAngleInsideSector:u,isPtInsideSector:h,pathArc:m,pathSector:g,pathAnnulus:y}}),Ju=Dt(F=>{F.isLeftAnchor=function(D){return D.xanchor==="left"||D.xanchor==="auto"&&D.x<=1/3},F.isCenterAnchor=function(D){return D.xanchor==="center"||D.xanchor==="auto"&&D.x>1/3&&D.x<2/3},F.isRightAnchor=function(D){return D.xanchor==="right"||D.xanchor==="auto"&&D.x>=2/3},F.isTopAnchor=function(D){return D.yanchor==="top"||D.yanchor==="auto"&&D.y>=2/3},F.isMiddleAnchor=function(D){return D.yanchor==="middle"||D.yanchor==="auto"&&D.y>1/3&&D.y<2/3},F.isBottomAnchor=function(D){return D.yanchor==="bottom"||D.yanchor==="auto"&&D.y<=1/3}}),qu=Dt(F=>{var D=Dr().mod;F.segmentsIntersect=i;function i(o,s,f,e,p,u,h,b){var m=f-o,g=p-o,y=h-p,v=e-s,c=u-s,d=b-u,_=m*d-y*v;if(_===0)return null;var w=(g*d-y*c)/_,k=(g*v-m*c)/_;return k<0||k>1||w<0||w>1?null:{x:o+m*w,y:s+v*w}}F.segmentDistance=function(o,s,f,e,p,u,h,b){if(i(o,s,f,e,p,u,h,b))return 0;var m=f-o,g=e-s,y=h-p,v=b-u,c=m*m+g*g,d=y*y+v*v,_=Math.min(t(m,g,c,p-o,u-s),t(m,g,c,h-o,b-s),t(y,v,d,o-p,s-u),t(y,v,d,f-p,e-u));return Math.sqrt(_)};function t(o,s,f,e,p){var u=e*o+p*s;if(u<0)return e*e+p*p;if(u>f){var h=e-o,b=p-s;return h*h+b*b}else{var m=e*s-p*o;return m*m/f}}var n,r,l;F.getTextLocation=function(o,s,f,e){if((o!==r||e!==l)&&(n={},r=o,l=e),n[f])return n[f];var p=o.getPointAtLength(D(f-e/2,s)),u=o.getPointAtLength(D(f+e/2,s)),h=Math.atan((u.y-p.y)/(u.x-p.x)),b=o.getPointAtLength(D(f,s)),m=(b.x*4+p.x+u.x)/6,g=(b.y*4+p.y+u.y)/6,y={x:m,y:g,theta:h};return n[f]=y,y},F.clearLocationCache=function(){r=null},F.getVisibleSegment=function(o,s,f){var e=s.left,p=s.right,u=s.top,h=s.bottom,b=0,m=o.getTotalLength(),g=m,y,v;function c(_){var w=o.getPointAtLength(_);_===0?y=w:_===m&&(v=w);var k=w.x<e?e-w.x:w.x>p?w.x-p:0,$=w.y<u?u-w.y:w.y>h?w.y-h:0;return Math.sqrt(k*k+$*$)}for(var d=c(b);d;){if(b+=d+f,b>g)return;d=c(b)}for(d=c(g);d;){if(g-=d+f,b>g)return;d=c(g)}return{min:b,max:g,len:g-b,total:m,isClosed:b===0&&g===m&&Math.abs(y.x-v.x)<.1&&Math.abs(y.y-v.y)<.1}},F.findPointOnPath=function(o,s,f,e){e=e||{};for(var p=e.pathLength||o.getTotalLength(),u=e.tolerance||.001,h=e.iterationLimit||30,b=o.getPointAtLength(0)[f]>o.getPointAtLength(p)[f]?-1:1,m=0,g=0,y=p,v,c,d;m<h;){if(v=(g+y)/2,c=o.getPointAtLength(v),d=c[f]-s,Math.abs(d)<u)return c;b*d>0?y=v:g=v,m++}return c}}),Ci=Dt(F=>{var D={};F.throttle=function(t,n,r){var l=D[t],o=Date.now();if(!l){for(var s in D)D[s].ts<o-6e4&&delete D[s];l=D[t]={ts:0,timer:null}}i(l);function f(){r(),l.ts=Date.now(),l.onDone&&(l.onDone(),l.onDone=null)}if(o>l.ts+n){f();return}l.timer=setTimeout(function(){f(),l.timer=null},n)},F.done=function(t){var n=D[t];return!n||!n.timer?Promise.resolve():new Promise(function(r){var l=n.onDone;n.onDone=function(){l&&l(),r(),n.onDone=null}})},F.clear=function(t){if(t)i(D[t]),delete D[t];else for(var n in D)F.clear(n)};function i(t){t&&t.timer!==null&&(clearTimeout(t.timer),t.timer=null)}}),$u=Dt((F,D)=>{D.exports=function(i){i._responsiveChartHandler&&(window.removeEventListener("resize",i._responsiveChartHandler),delete i._responsiveChartHandler)}}),Qu=Dt((F,D)=>{D.exports=r,D.exports.isMobile=r,D.exports.default=r;var i=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,t=/CrOS/,n=/android|ipad|playbook|silk/i;function r(l){l||(l={});let o=l.ua;if(!o&&typeof navigator<"u"&&(o=navigator.userAgent),o&&o.headers&&typeof o.headers["user-agent"]=="string"&&(o=o.headers["user-agent"]),typeof o!="string")return!1;let s=i.test(o)&&!t.test(o)||!!l.tablet&&n.test(o);return!s&&l.tablet&&l.featureDetect&&navigator&&navigator.maxTouchPoints>1&&o.indexOf("Macintosh")!==-1&&o.indexOf("Safari")!==-1&&(s=!0),s}}),Ku=Dt((F,D)=>{var i=wn(),t=Qu();D.exports=function(r){var l;if(r&&r.hasOwnProperty("userAgent")?l=r.userAgent:l=n(),typeof l!="string")return!0;var o=t({ua:{headers:{"user-agent":l}},tablet:!0,featureDetect:!1});if(!o)for(var s=l.split(" "),f=1;f<s.length;f++){var e=s[f];if(e.indexOf("Safari")!==-1)for(var p=f-1;p>-1;p--){var u=s[p];if(u.substr(0,8)==="Version/"){var h=u.substr(8).split(".")[0];if(i(h)&&(h=+h),h>=13)return!0}}}return o};function n(){var r;return typeof navigator<"u"&&(r=navigator.userAgent),r&&r.headers&&typeof r.headers["user-agent"]=="string"&&(r=r.headers["user-agent"]),r}}),tc=Dt((F,D)=>{var i=_n();D.exports=function(t,n,r){var l=t.selectAll("g."+r.replace(/\s/g,".")).data(n,function(s){return s[0].trace.uid});l.exit().remove(),l.enter().append("g").attr("class",r),l.order();var o=t.classed("rangeplot")?"nodeRangePlot3":"node3";return l.each(function(s){s[0][o]=i.select(this)}),l}}),ec=Dt((F,D)=>{var i=un();D.exports=function(t,n){for(var r=t._context.locale,l=0;l<2;l++){for(var o=t._context.locales,s=0;s<2;s++){var f=(o[r]||{}).dictionary;if(f){var e=f[n];if(e)return e}o=i.localeRegistry}var p=r.split("-")[0];if(p===r)break;r=p}return n}}),nc=Dt((F,D)=>{D.exports=function(i){for(var t={},n=[],r=0,l=0;l<i.length;l++){var o=i[l];t[o]!==1&&(t[o]=1,n[r++]=o)}return n}}),ac=Dt((F,D)=>{D.exports=function(r){for(var l=n(r)?t:i,o=[],s=0;s<r.length;s++){var f=r[s];l(f)&&o.push(f)}return o};function i(r){return r.visible===!0}function t(r){var l=r[0].trace;return l.visible===!0&&l._length!==0}function n(r){return Array.isArray(r)&&Array.isArray(r[0])&&r[0][0]&&r[0][0].trace}}),rc=Dt((F,D)=>{D.exports=function(i,t){if(!t)return i;var n=1/Math.abs(t),r=n>1?(n*i+n*t)/n:i+t,l=String(r).length;if(l>16){var o=String(t).length,s=String(i).length;if(l>=s+o){var f=parseFloat(r).toPrecision(12);f.indexOf("e+")===-1&&(r=+f)}}return r}}),ic=Dt((F,D)=>{var i=wn(),t=oa().BADNUM,n=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;D.exports=function(r){return typeof r=="string"&&(r=r.replace(n,"")),i(r)?Number(r):t}}),Ce=Dt((F,D)=>{var i=_n(),t=Cr().utcFormat,n=Io().format,r=wn(),l=oa(),o=l.FP_SAFE,s=-o,f=l.BADNUM,e=D.exports={};e.adjustFormat=function(R){return!R||/^\d[.]\df/.test(R)||/[.]\d%/.test(R)?R:R==="0.f"?"~f":/^\d%/.test(R)?"~%":/^\ds/.test(R)?"~s":!/^[~,.0$]/.test(R)&&/[&fps]/.test(R)?"~"+R:R};var p={};e.warnBadFormat=function(R){var z=String(R);p[z]||(p[z]=1,e.warn('encountered bad format: "'+z+'"'))},e.noFormat=function(R){return String(R)},e.numberFormat=function(R){var z;try{z=n(e.adjustFormat(R))}catch{return e.warnBadFormat(R),e.noFormat}return z},e.nestedProperty=wi(),e.keyedContainer=cu(),e.relativeAttr=fu(),e.isPlainObject=ur(),e.toLogRange=Mi(),e.relinkPrivateKeys=du();var u=Da();e.isArrayBuffer=u.isArrayBuffer,e.isTypedArray=u.isTypedArray,e.isArrayOrTypedArray=u.isArrayOrTypedArray,e.isArray1D=u.isArray1D,e.ensureArray=u.ensureArray,e.concat=u.concat,e.maxRowLength=u.maxRowLength,e.minRowLength=u.minRowLength;var h=Dr();e.mod=h.mod,e.modHalf=h.modHalf;var b=hu();e.valObjectMeta=b.valObjectMeta,e.coerce=b.coerce,e.coerce2=b.coerce2,e.coerceFont=b.coerceFont,e.coercePattern=b.coercePattern,e.coerceHoverinfo=b.coerceHoverinfo,e.coerceSelectionMarkerOpacity=b.coerceSelectionMarkerOpacity,e.validate=b.validate;var m=Gu();e.dateTime2ms=m.dateTime2ms,e.isDateTime=m.isDateTime,e.ms2DateTime=m.ms2DateTime,e.ms2DateTimeLocal=m.ms2DateTimeLocal,e.cleanDate=m.cleanDate,e.isJSDate=m.isJSDate,e.formatDate=m.formatDate,e.incrementMonth=m.incrementMonth,e.dateTick0=m.dateTick0,e.dfltRange=m.dfltRange,e.findExactDates=m.findExactDates,e.MIN_MS=m.MIN_MS,e.MAX_MS=m.MAX_MS;var g=Vo();e.findBin=g.findBin,e.sorterAsc=g.sorterAsc,e.sorterDes=g.sorterDes,e.distinctVals=g.distinctVals,e.roundUp=g.roundUp,e.sort=g.sort,e.findIndexOfMin=g.findIndexOfMin,e.sortObjectKeys=Yo();var y=Xu();e.aggNums=y.aggNums,e.len=y.len,e.mean=y.mean,e.geometricMean=y.geometricMean,e.median=y.median,e.midRange=y.midRange,e.variance=y.variance,e.stdev=y.stdev,e.interp=y.interp;var v=Li();e.init2dArray=v.init2dArray,e.transposeRagged=v.transposeRagged,e.dot=v.dot,e.translationMatrix=v.translationMatrix,e.rotationMatrix=v.rotationMatrix,e.rotationXYMatrix=v.rotationXYMatrix,e.apply3DTransform=v.apply3DTransform,e.apply2DTransform=v.apply2DTransform,e.apply2DTransform2=v.apply2DTransform2,e.convertCssMatrix=v.convertCssMatrix,e.inverseTransformMatrix=v.inverseTransformMatrix;var c=Wu();e.deg2rad=c.deg2rad,e.rad2deg=c.rad2deg,e.angleDelta=c.angleDelta,e.angleDist=c.angleDist,e.isFullCircle=c.isFullCircle,e.isAngleInsideSector=c.isAngleInsideSector,e.isPtInsideSector=c.isPtInsideSector,e.pathArc=c.pathArc,e.pathSector=c.pathSector,e.pathAnnulus=c.pathAnnulus;var d=Ju();e.isLeftAnchor=d.isLeftAnchor,e.isCenterAnchor=d.isCenterAnchor,e.isRightAnchor=d.isRightAnchor,e.isTopAnchor=d.isTopAnchor,e.isMiddleAnchor=d.isMiddleAnchor,e.isBottomAnchor=d.isBottomAnchor;var _=qu();e.segmentsIntersect=_.segmentsIntersect,e.segmentDistance=_.segmentDistance,e.getTextLocation=_.getTextLocation,e.clearLocationCache=_.clearLocationCache,e.getVisibleSegment=_.getVisibleSegment,e.findPointOnPath=_.findPointOnPath;var w=la();e.extendFlat=w.extendFlat,e.extendDeep=w.extendDeep,e.extendDeepAll=w.extendDeepAll,e.extendDeepNoArrays=w.extendDeepNoArrays;var k=wr();e.log=k.log,e.warn=k.warn,e.error=k.error;var $=Ir();e.counterRegex=$.counter;var P=Ci();e.throttle=P.throttle,e.throttleDone=P.done,e.clearThrottle=P.clear;var O=Gr();e.getGraphDiv=O.getGraphDiv,e.isPlotDiv=O.isPlotDiv,e.removeElement=O.removeElement,e.addStyleRule=O.addStyleRule,e.addRelatedStyleRule=O.addRelatedStyleRule,e.deleteRelatedStyleRule=O.deleteRelatedStyleRule,e.setStyleOnHover=O.setStyleOnHover,e.getFullTransformMatrix=O.getFullTransformMatrix,e.getElementTransformMatrix=O.getElementTransformMatrix,e.getElementAndAncestors=O.getElementAndAncestors,e.equalDomRects=O.equalDomRects,e.clearResponsive=$u(),e.preserveDrawingBuffer=Ku(),e.makeTraceGroups=tc(),e._=ec(),e.notifier=Ro(),e.filterUnique=nc(),e.filterVisible=ac(),e.pushUnique=No(),e.increment=rc(),e.cleanNumber=ic(),e.ensureNumber=function(R){return r(R)?(R=Number(R),R>o||R<s?f:R):f},e.isIndex=function(R,z){return z!==void 0&&R>=z?!1:r(R)&&R>=0&&R%1===0},e.noop=Ai(),e.identity=jo(),e.repeat=function(R,z){for(var M=new Array(z),S=0;S<z;S++)M[S]=R;return M},e.swapAttrs=function(R,z,M,S){M||(M="x"),S||(S="y");for(var Z=0;Z<z.length;Z++){var Y=z[Z],rt=e.nestedProperty(R,Y.replace("?",M)),st=e.nestedProperty(R,Y.replace("?",S)),ut=rt.get();rt.set(st.get()),st.set(ut)}},e.raiseToTop=function(R){R.parentNode.appendChild(R)},e.cancelTransition=function(R){return R.transition().duration(0)},e.constrain=function(R,z,M){return z>M?Math.max(M,Math.min(z,R)):Math.max(z,Math.min(M,R))},e.bBoxIntersect=function(R,z,M){return M=M||0,R.left<=z.right+M&&z.left<=R.right+M&&R.top<=z.bottom+M&&z.top<=R.bottom+M},e.simpleMap=function(R,z,M,S,Z){for(var Y=R.length,rt=new Array(Y),st=0;st<Y;st++)rt[st]=z(R[st],M,S,Z);return rt},e.randstr=function R(z,M,S,Z){if(S||(S=16),M===void 0&&(M=24),M<=0)return"0";var Y=Math.log(Math.pow(2,M))/Math.log(S),rt="",st,ut,_t;for(st=2;Y===1/0;st*=2)Y=Math.log(Math.pow(2,M/st))/Math.log(S)*st;var At=Y-Math.floor(Y);for(st=0;st<Math.floor(Y);st++)_t=Math.floor(Math.random()*S).toString(S),rt=_t+rt;At&&(ut=Math.pow(S,At),_t=Math.floor(Math.random()*ut).toString(S),rt=_t+rt);var Rt=parseInt(rt,S);return z&&z[rt]||Rt!==1/0&&Rt>=Math.pow(2,M)?Z>10?(e.warn("randstr failed uniqueness"),rt):R(z,M,S,(Z||0)+1):rt},e.OptionControl=function(R,z){R||(R={}),z||(z="opt");var M={};return M.optionList=[],M._newoption=function(S){S[z]=R,M[S.name]=S,M.optionList.push(S)},M["_"+z]=R,M},e.smooth=function(R,z){if(z=Math.round(z)||0,z<2)return R;var M=R.length,S=2*M,Z=2*z-1,Y=new Array(Z),rt=new Array(M),st,ut,_t,At;for(st=0;st<Z;st++)Y[st]=(1-Math.cos(Math.PI*(st+1)/z))/(2*z);for(st=0;st<M;st++){for(At=0,ut=0;ut<Z;ut++)_t=st+ut+1-z,_t<-M?_t-=S*Math.round(_t/S):_t>=S&&(_t-=S*Math.floor(_t/S)),_t<0?_t=-1-_t:_t>=M&&(_t=S-1-_t),At+=R[_t]*Y[ut];rt[st]=At}return rt},e.syncOrAsync=function(R,z,M){var S,Z;function Y(){return e.syncOrAsync(R,z,M)}for(;R.length;)if(Z=R.splice(0,1)[0],S=Z(z),S&&S.then)return S.then(Y);return M&&M(z)},e.stripTrailingSlash=function(R){return R.substr(-1)==="/"?R.substr(0,R.length-1):R},e.noneOrAll=function(R,z,M){if(R){var S=!1,Z=!0,Y,rt;for(Y=0;Y<M.length;Y++)rt=R[M[Y]],rt!=null?S=!0:Z=!1;if(S&&!Z)for(Y=0;Y<M.length;Y++)R[M[Y]]=z[M[Y]]}},e.mergeArray=function(R,z,M,S){var Z=typeof S=="function";if(e.isArrayOrTypedArray(R))for(var Y=Math.min(R.length,z.length),rt=0;rt<Y;rt++){var st=R[rt];z[rt][M]=Z?S(st):st}},e.mergeArrayCastPositive=function(R,z,M){return e.mergeArray(R,z,M,function(S){var Z=+S;return isFinite(Z)&&Z>0?Z:0})},e.fillArray=function(R,z,M,S){if(S=S||e.identity,e.isArrayOrTypedArray(R))for(var Z=0;Z<z.length;Z++)z[Z][M]=S(R[Z])},e.castOption=function(R,z,M,S){S=S||e.identity;var Z=e.nestedProperty(R,M).get();return e.isArrayOrTypedArray(Z)?Array.isArray(z)&&e.isArrayOrTypedArray(Z[z[0]])?S(Z[z[0]][z[1]]):S(Z[z]):Z},e.extractOption=function(R,z,M,S){if(M in R)return R[M];var Z=e.nestedProperty(z,S).get();if(!Array.isArray(Z))return Z};function T(R){var z={};for(var M in R)for(var S=R[M],Z=0;Z<S.length;Z++)z[S[Z]]=+M;return z}e.tagSelected=function(R,z,M){var S=z.selectedpoints,Z=z._indexToPoints,Y;Z&&(Y=T(Z));function rt(Rt){return Rt!==void 0&&Rt<R.length}for(var st=0;st<S.length;st++){var ut=S[st];if(e.isIndex(ut)||e.isArrayOrTypedArray(ut)&&e.isIndex(ut[0])&&e.isIndex(ut[1])){var _t=Y?Y[ut]:ut,At=M?M[_t]:_t;rt(At)&&(R[At].selected=1)}}},e.selIndices2selPoints=function(R){var z=R.selectedpoints,M=R._indexToPoints;if(M){for(var S=T(M),Z=[],Y=0;Y<z.length;Y++){var rt=z[Y];if(e.isIndex(rt)){var st=S[rt];e.isIndex(st)&&Z.push(st)}}return Z}else return z},e.getTargetArray=function(R,z){var M=z.target;if(typeof M=="string"&&M){var S=e.nestedProperty(R,M).get();return e.isArrayOrTypedArray(S)?S:!1}else if(e.isArrayOrTypedArray(M))return M;return!1};function X(R,z,M){var S={};typeof z!="object"&&(z={});var Z=M==="pieLike"?-1:3,Y=Object.keys(R),rt,st,ut;for(rt=0;rt<Y.length;rt++)st=Y[rt],ut=R[st],!(st.charAt(0)==="_"||typeof ut=="function")&&(st==="module"?S[st]=ut:Array.isArray(ut)?st==="colorscale"||Z===-1?S[st]=ut.slice():S[st]=ut.slice(0,Z):e.isTypedArray(ut)?Z===-1?S[st]=ut.subarray():S[st]=ut.subarray(0,Z):ut&&typeof ut=="object"?S[st]=X(R[st],z[st],M):S[st]=ut);for(Y=Object.keys(z),rt=0;rt<Y.length;rt++)st=Y[rt],ut=z[st],(typeof ut!="object"||!(st in S)||typeof S[st]!="object")&&(S[st]=ut);return S}e.minExtend=X,e.titleCase=function(R){return R.charAt(0).toUpperCase()+R.substr(1)},e.containsAny=function(R,z){for(var M=0;M<z.length;M++)if(R.indexOf(z[M])!==-1)return!0;return!1};var I=/Version\/[\d\.]+.*Safari/;e.isSafari=function(){return I.test(window.navigator.userAgent)};var E=/iPad|iPhone|iPod/;e.isIOS=function(){return E.test(window.navigator.userAgent)};var N=/Firefox\/(\d+)\.\d+/;e.getFirefoxVersion=function(){var R=N.exec(window.navigator.userAgent);if(R&&R.length===2){var z=parseInt(R[1]);if(!isNaN(z))return z}return null},e.isD3Selection=function(R){return R instanceof i.selection},e.ensureSingle=function(R,z,M,S){var Z=R.select(z+(M?"."+M:""));if(Z.size())return Z;var Y=R.append(z);return M&&Y.classed(M,!0),S&&Y.call(S),Y},e.ensureSingleById=function(R,z,M,S){var Z=R.select(z+"#"+M);if(Z.size())return Z;var Y=R.append(z).attr("id",M);return S&&Y.call(S),Y},e.objectFromPath=function(R,z){for(var M=R.split("."),S,Z=S={},Y=0;Y<M.length;Y++){var rt=M[Y],st=null,ut=M[Y].match(/(.*)\[([0-9]+)\]/);ut?(rt=ut[1],st=ut[2],S=S[rt]=[],Y===M.length-1?S[st]=z:S[st]={},S=S[st]):(Y===M.length-1?S[rt]=z:S[rt]={},S=S[rt])}return Z};var V=/^([^\[\.]+)\.(.+)?/,U=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function G(R){return R.slice(0,2)==="__"}e.expandObjectPaths=function(R){var z,M,S,Z,Y,rt,st;if(typeof R=="object"&&!Array.isArray(R)){for(M in R)if(R.hasOwnProperty(M))if(z=M.match(V)){if(Z=R[M],S=z[1],G(S))continue;delete R[M],R[S]=e.extendDeepNoArrays(R[S]||{},e.objectFromPath(M,e.expandObjectPaths(Z))[S])}else if(z=M.match(U)){if(Z=R[M],S=z[1],G(S))continue;if(Y=parseInt(z[2]),delete R[M],R[S]=R[S]||[],z[3]===".")st=z[4],rt=R[S][Y]=R[S][Y]||{},e.extendDeepNoArrays(rt,e.objectFromPath(st,e.expandObjectPaths(Z)));else{if(G(S))continue;R[S][Y]=e.expandObjectPaths(Z)}}else{if(G(M))continue;R[M]=e.expandObjectPaths(R[M])}}return R},e.numSeparate=function(R,z,M){if(M||(M=!1),typeof z!="string"||z.length===0)throw new Error("Separator string required for formatting!");typeof R=="number"&&(R=String(R));var S=/(\d+)(\d{3})/,Z=z.charAt(0),Y=z.charAt(1),rt=R.split("."),st=rt[0],ut=rt.length>1?Z+rt[1]:"";if(Y&&(rt.length>1||st.length>4||M))for(;S.test(st);)st=st.replace(S,"$1"+Y+"$2");return st+ut},e.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var C=/^\w*$/;e.templateString=function(R,z){var M={};return R.replace(e.TEMPLATE_STRING_REGEX,function(S,Z){var Y;return C.test(Z)?Y=z[Z]:(M[Z]=M[Z]||e.nestedProperty(z,Z).get,Y=M[Z](!0)),Y!==void 0?Y:""})};var W={max:10,count:0,name:"hovertemplate"};e.hovertemplateString=function(){return ht.apply(W,arguments)};var J={max:10,count:0,name:"texttemplate"};e.texttemplateString=function(){return ht.apply(J,arguments)};var at=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function et(R){var z=R.match(at);return z?{key:z[1],op:z[2],number:Number(z[3])}:{key:R,op:null,number:null}}var it={max:10,count:0,name:"texttemplate",parseMultDiv:!0};e.texttemplateStringForShapes=function(){return ht.apply(it,arguments)};var dt=/^[:|\|]/;function ht(R,z,M){var S=this,Z=arguments;return z||(z={}),R.replace(e.TEMPLATE_STRING_REGEX,function(Y,rt,st){var ut=rt==="xother"||rt==="yother",_t=rt==="_xother"||rt==="_yother",At=rt==="_xother_"||rt==="_yother_",Rt=rt==="xother_"||rt==="yother_",Xt=ut||_t||Rt||At,Bt=rt;(_t||At)&&(Bt=Bt.substring(1)),(Rt||At)&&(Bt=Bt.substring(0,Bt.length-1));var Ht=null,pt=null;if(S.parseMultDiv){var bt=et(Bt);Bt=bt.key,Ht=bt.op,pt=bt.number}var ot;if(Xt){if(ot=z[Bt],ot===void 0)return""}else{var Lt,Nt;for(Nt=3;Nt<Z.length;Nt++)if(Lt=Z[Nt],!!Lt){if(Lt.hasOwnProperty(Bt)){ot=Lt[Bt];break}if(C.test(Bt)||(ot=e.nestedProperty(Lt,Bt).get(!0)),ot!==void 0)break}}if(ot!==void 0&&(Ht==="*"&&(ot*=pt),Ht==="/"&&(ot/=pt)),ot===void 0&&S)return S.count<S.max&&(e.warn("Variable '"+Bt+"' in "+S.name+" could not be found!"),ot=Y),S.count===S.max&&e.warn("Too many "+S.name+" warnings - additional warnings will be suppressed"),S.count++,Y;if(st){var Vt;if(st[0]===":"&&(Vt=M?M.numberFormat:e.numberFormat,ot!==""&&(ot=Vt(st.replace(dt,""))(ot))),st[0]==="|"){Vt=M?M.timeFormat:t;var ae=e.dateTime2ms(ot);ot=e.formatDate(ae,st.replace(dt,""),!1,Vt)}}else{var Jt=Bt+"Label";z.hasOwnProperty(Jt)&&(ot=z[Jt])}return Xt&&(ot="("+ot+")",(_t||At)&&(ot=" "+ot),(Rt||At)&&(ot=ot+" ")),ot})}var xt=48,H=57;e.subplotSort=function(R,z){for(var M=Math.min(R.length,z.length)+1,S=0,Z=0,Y=0;Y<M;Y++){var rt=R.charCodeAt(Y)||0,st=z.charCodeAt(Y)||0,ut=rt>=xt&&rt<=H,_t=st>=xt&&st<=H;if(ut&&(S=10*S+rt-xt),_t&&(Z=10*Z+st-xt),!ut||!_t){if(S!==Z)return S-Z;if(rt!==st)return rt-st}}return Z-S};var j=2e9;e.seedPseudoRandom=function(){j=2e9},e.pseudoRandom=function(){var R=j;return j=(69069*j+1)%4294967296,Math.abs(j-R)<429496729?e.pseudoRandom():j/4294967296},e.fillText=function(R,z,M){var S=Array.isArray(M)?function(rt){M.push(rt)}:function(rt){M.text=rt},Z=e.extractOption(R,z,"htx","hovertext");if(e.isValidTextValue(Z))return S(Z);var Y=e.extractOption(R,z,"tx","text");if(e.isValidTextValue(Y))return S(Y)},e.isValidTextValue=function(R){return R||R===0},e.formatPercent=function(R,z){z=z||0;for(var M=(Math.round(100*R*Math.pow(10,z))*Math.pow(.1,z)).toFixed(z)+"%",S=0;S<z;S++)M.indexOf(".")!==-1&&(M=M.replace("0%","%"),M=M.replace(".%","%"));return M},e.isHidden=function(R){var z=window.getComputedStyle(R).display;return!z||z==="none"},e.strTranslate=function(R,z){return R||z?"translate("+R+","+z+")":""},e.strRotate=function(R){return R?"rotate("+R+")":""},e.strScale=function(R){return R!==1?"scale("+R+")":""},e.getTextTransform=function(R){var z=R.noCenter,M=R.textX,S=R.textY,Z=R.targetX,Y=R.targetY,rt=R.anchorX||0,st=R.anchorY||0,ut=R.rotate,_t=R.scale;return _t?_t>1&&(_t=1):_t=0,e.strTranslate(Z-_t*(M+rt),Y-_t*(S+st))+e.strScale(_t)+(ut?"rotate("+ut+(z?"":" "+M+" "+S)+")":"")},e.setTransormAndDisplay=function(R,z){R.attr("transform",e.getTextTransform(z)),R.style("display",z.scale?null:"none")},e.ensureUniformFontSize=function(R,z){var M=e.extendFlat({},z);return M.size=Math.max(z.size,R._fullLayout.uniformtext.minsize||0),M},e.join2=function(R,z,M){var S=R.length;return S>1?R.slice(0,-1).join(z)+M+R[S-1]:R.join(z)},e.bigFont=function(R){return Math.round(1.2*R)};var A=e.getFirefoxVersion(),q=A!==null&&A<86;e.getPositionFromD3Event=function(){return q?[i.event.layerX,i.event.layerY]:[i.event.offsetX,i.event.offsetY]}}),oc=Dt(()=>{var F=Ce(),D={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(t in D)i=t.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier"),F.addStyleRule(i,D[t]);var i,t}),Zo=Dt((F,D)=>{D.exports=!0}),Uo=Dt((F,D)=>{var i=Zo(),t;typeof window.matchMedia=="function"?t=!window.matchMedia("(hover: none)").matches:t=i,D.exports=t}),Di=Dt((F,D)=>{var i=typeof Reflect=="object"?Reflect:null,t=i&&typeof i.apply=="function"?i.apply:function(w,k,$){return Function.prototype.apply.call(w,k,$)},n;i&&typeof i.ownKeys=="function"?n=i.ownKeys:Object.getOwnPropertySymbols?n=function(w){return Object.getOwnPropertyNames(w).concat(Object.getOwnPropertySymbols(w))}:n=function(w){return Object.getOwnPropertyNames(w)};function r(w){console&&console.warn&&console.warn(w)}var l=Number.isNaN||function(w){return w!==w};function o(){o.init.call(this)}D.exports=o,D.exports.once=c,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function f(w){if(typeof w!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof w)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(w){if(typeof w!="number"||w<0||l(w))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+w+".");s=w}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(w){if(typeof w!="number"||w<0||l(w))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+w+".");return this._maxListeners=w,this};function e(w){return w._maxListeners===void 0?o.defaultMaxListeners:w._maxListeners}o.prototype.getMaxListeners=function(){return e(this)},o.prototype.emit=function(w){for(var k=[],$=1;$<arguments.length;$++)k.push(arguments[$]);var P=w==="error",O=this._events;if(O!==void 0)P=P&&O.error===void 0;else if(!P)return!1;if(P){var T;if(k.length>0&&(T=k[0]),T instanceof Error)throw T;var X=new Error("Unhandled error."+(T?" ("+T.message+")":""));throw X.context=T,X}var I=O[w];if(I===void 0)return!1;if(typeof I=="function")t(I,this,k);else for(var E=I.length,N=g(I,E),$=0;$<E;++$)t(N[$],this,k);return!0};function p(w,k,$,P){var O,T,X;if(f($),T=w._events,T===void 0?(T=w._events=Object.create(null),w._eventsCount=0):(T.newListener!==void 0&&(w.emit("newListener",k,$.listener?$.listener:$),T=w._events),X=T[k]),X===void 0)X=T[k]=$,++w._eventsCount;else if(typeof X=="function"?X=T[k]=P?[$,X]:[X,$]:P?X.unshift($):X.push($),O=e(w),O>0&&X.length>O&&!X.warned){X.warned=!0;var I=new Error("Possible EventEmitter memory leak detected. "+X.length+" "+String(k)+" listeners added. Use emitter.setMaxListeners() to increase limit");I.name="MaxListenersExceededWarning",I.emitter=w,I.type=k,I.count=X.length,r(I)}return w}o.prototype.addListener=function(w,k){return p(this,w,k,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(w,k){return p(this,w,k,!0)};function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(w,k,$){var P={fired:!1,wrapFn:void 0,target:w,type:k,listener:$},O=u.bind(P);return O.listener=$,P.wrapFn=O,O}o.prototype.once=function(w,k){return f(k),this.on(w,h(this,w,k)),this},o.prototype.prependOnceListener=function(w,k){return f(k),this.prependListener(w,h(this,w,k)),this},o.prototype.removeListener=function(w,k){var $,P,O,T,X;if(f(k),P=this._events,P===void 0)return this;if($=P[w],$===void 0)return this;if($===k||$.listener===k)--this._eventsCount===0?this._events=Object.create(null):(delete P[w],P.removeListener&&this.emit("removeListener",w,$.listener||k));else if(typeof $!="function"){for(O=-1,T=$.length-1;T>=0;T--)if($[T]===k||$[T].listener===k){X=$[T].listener,O=T;break}if(O<0)return this;O===0?$.shift():y($,O),$.length===1&&(P[w]=$[0]),P.removeListener!==void 0&&this.emit("removeListener",w,X||k)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(w){var k,$,P;if($=this._events,$===void 0)return this;if($.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):$[w]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete $[w]),this;if(arguments.length===0){var O=Object.keys($),T;for(P=0;P<O.length;++P)T=O[P],T!=="removeListener"&&this.removeAllListeners(T);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(k=$[w],typeof k=="function")this.removeListener(w,k);else if(k!==void 0)for(P=k.length-1;P>=0;P--)this.removeListener(w,k[P]);return this};function b(w,k,$){var P=w._events;if(P===void 0)return[];var O=P[k];return O===void 0?[]:typeof O=="function"?$?[O.listener||O]:[O]:$?v(O):g(O,O.length)}o.prototype.listeners=function(w){return b(this,w,!0)},o.prototype.rawListeners=function(w){return b(this,w,!1)},o.listenerCount=function(w,k){return typeof w.listenerCount=="function"?w.listenerCount(k):m.call(w,k)},o.prototype.listenerCount=m;function m(w){var k=this._events;if(k!==void 0){var $=k[w];if(typeof $=="function")return 1;if($!==void 0)return $.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function g(w,k){for(var $=new Array(k),P=0;P<k;++P)$[P]=w[P];return $}function y(w,k){for(;k+1<w.length;k++)w[k]=w[k+1];w.pop()}function v(w){for(var k=new Array(w.length),$=0;$<k.length;++$)k[$]=w[$].listener||w[$];return k}function c(w,k){return new Promise(function($,P){function O(X){w.removeListener(k,T),P(X)}function T(){typeof w.removeListener=="function"&&w.removeListener("error",O),$([].slice.call(arguments))}_(w,k,T,{once:!0}),k!=="error"&&d(w,O,{once:!0})})}function d(w,k,$){typeof w.on=="function"&&_(w,"error",k,$)}function _(w,k,$,P){if(typeof w.on=="function")P.once?w.once(k,$):w.on(k,$);else if(typeof w.addEventListener=="function")w.addEventListener(k,function O(T){P.once&&w.removeEventListener(k,O),$(T)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof w)}}),Wr=Dt((F,D)=>{var i=Di().EventEmitter,t={init:function(n){if(n._ev instanceof i)return n;var r=new i,l=new i;return n._ev=r,n._internalEv=l,n.on=r.on.bind(r),n.once=r.once.bind(r),n.removeListener=r.removeListener.bind(r),n.removeAllListeners=r.removeAllListeners.bind(r),n._internalOn=l.on.bind(l),n._internalOnce=l.once.bind(l),n._removeInternalListener=l.removeListener.bind(l),n._removeAllInternalListeners=l.removeAllListeners.bind(l),n.emit=function(o,s){r.emit(o,s),l.emit(o,s)},n},triggerHandler:function(n,r,l){var o,s=n._ev;if(!s)return;var f=s._events[r];if(!f)return;function e(u){if(u.listener){if(s.removeListener(r,u.listener),!u.fired)return u.fired=!0,u.listener.apply(s,[l])}else return u.apply(s,[l])}f=Array.isArray(f)?f:[f];var p;for(p=0;p<f.length-1;p++)e(f[p]);return o=e(f[p]),o},purge:function(n){return delete n._ev,delete n.on,delete n.once,delete n.removeListener,delete n.removeAllListeners,delete n.emit,delete n._ev,delete n._internalEv,delete n._internalOn,delete n._internalOnce,delete n._removeInternalListener,delete n._removeAllInternalListeners,n}};D.exports=t}),lc=Dt((F,D)=>{var i=Ce(),t=_r().dfltConfig;function n(l,o){for(var s=[],f,e=0;e<o.length;e++)f=o[e],f===l?s[e]=f:typeof f=="object"?s[e]=Array.isArray(f)?i.extendDeep([],f):i.extendDeepAll({},f):s[e]=f;return s}var r={};r.add=function(l,o,s,f,e){var p,u;if(l.undoQueue=l.undoQueue||{index:0,queue:[],sequence:!1},u=l.undoQueue.index,l.autoplay){l.undoQueue.inSequence||(l.autoplay=!1);return}!l.undoQueue.sequence||l.undoQueue.beginSequence?(p={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},l.undoQueue.queue.splice(u,l.undoQueue.queue.length-u,p),l.undoQueue.index+=1):p=l.undoQueue.queue[u-1],l.undoQueue.beginSequence=!1,p&&(p.undo.calls.unshift(o),p.undo.args.unshift(s),p.redo.calls.push(f),p.redo.args.push(e)),l.undoQueue.queue.length>t.queueLength&&(l.undoQueue.queue.shift(),l.undoQueue.index--)},r.startSequence=function(l){l.undoQueue=l.undoQueue||{index:0,queue:[],sequence:!1},l.undoQueue.sequence=!0,l.undoQueue.beginSequence=!0},r.stopSequence=function(l){l.undoQueue=l.undoQueue||{index:0,queue:[],sequence:!1},l.undoQueue.sequence=!1,l.undoQueue.beginSequence=!1},r.undo=function(l){var o,s;if(!(l.undoQueue===void 0||isNaN(l.undoQueue.index)||l.undoQueue.index<=0)){for(l.undoQueue.index--,o=l.undoQueue.queue[l.undoQueue.index],l.undoQueue.inSequence=!0,s=0;s<o.undo.calls.length;s++)r.plotDo(l,o.undo.calls[s],o.undo.args[s]);l.undoQueue.inSequence=!1,l.autoplay=!1}},r.redo=function(l){var o,s;if(!(l.undoQueue===void 0||isNaN(l.undoQueue.index)||l.undoQueue.index>=l.undoQueue.queue.length)){for(o=l.undoQueue.queue[l.undoQueue.index],l.undoQueue.inSequence=!0,s=0;s<o.redo.calls.length;s++)r.plotDo(l,o.redo.calls[s],o.redo.args[s]);l.undoQueue.inSequence=!1,l.autoplay=!1,l.undoQueue.index++}},r.plotDo=function(l,o,s){l.autoplay=!0,s=n(l,s),o.apply(null,s)},D.exports=r}),Go=Dt((F,D)=>{D.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}}),Rr=Dt(F=>{var D=un(),i=Ce(),t=ja(),n=Fr(),r=Go(),l=Xr(),o=_r().configAttributes,s=qa(),f=i.extendDeepAll,e=i.isPlainObject,p=i.isArrayOrTypedArray,u=i.nestedProperty,h=i.valObjectMeta,b="_isSubplotObj",m="_isLinkedToArray",g="_arrayAttrRegexps",y="_deprecated",v=[b,m,g,y];F.IS_SUBPLOT_OBJ=b,F.IS_LINKED_TO_ARRAY=m,F.DEPRECATED=y,F.UNDERSCORE_ATTRS=v,F.get=function(){var N={};return D.allTypes.forEach(function(V){N[V]=w(V)}),{defs:{valObjects:h,metaKeys:v.concat(["description","role","editType","impliedEdits"]),editType:{traces:s.traces,layout:s.layout},impliedEdits:{}},traces:N,layout:k(),frames:$(),animation:P(l),config:P(o)}},F.crawl=function(N,V,U,G){var C=U||0;G=G||"",Object.keys(N).forEach(function(W){var J=N[W];if(v.indexOf(W)===-1){var at=(G?G+".":"")+W;V(J,W,N,C,at),!F.isValObject(J)&&e(J)&&W!=="impliedEdits"&&F.crawl(J,V,C+1,at)}})},F.isValObject=function(N){return N&&N.valType!==void 0},F.findArrayAttributes=function(N){var V=[],U=[],G=[],C,W;function J(et,it,dt,ht){U=U.slice(0,ht).concat([it]),G=G.slice(0,ht).concat([et&&et._isLinkedToArray]);var xt=et&&(et.valType==="data_array"||et.arrayOk===!0)&&!(U[ht-1]==="colorbar"&&(it==="ticktext"||it==="tickvals"));xt&&at(C,0,"")}function at(et,it,dt){var ht=et[U[it]],xt=dt+U[it];if(it===U.length-1)p(ht)&&V.push(W+xt);else if(G[it]){if(Array.isArray(ht))for(var H=0;H<ht.length;H++)e(ht[H])&&at(ht[H],it+1,xt+"["+H+"].")}else e(ht)&&at(ht,it+1,xt+".")}return C=N,W="",F.crawl(t,J),N._module&&N._module.attributes&&F.crawl(N._module.attributes,J),V},F.getTraceValObject=function(N,V){var U=V[0],G=1,C,W,J=N._module;if(J||(J=(D.modules[N.type||t.type.dflt]||{})._module),!J)return!1;if(C=J.attributes,W=C&&C[U],!W){var at=J.basePlotModule;at&&at.attributes&&(W=at.attributes[U])}return W||(W=t[U]),d(W,V,G)},F.getLayoutValObject=function(N,V){var U=c(N,V[0]);return d(U,V,1)};function c(N,V){var U,G,C,W,J=N._basePlotModules;if(J){var at;for(U=0;U<J.length;U++){if(C=J[U],C.attrRegex&&C.attrRegex.test(V)){if(C.layoutAttrOverrides)return C.layoutAttrOverrides;!at&&C.layoutAttributes&&(at=C.layoutAttributes)}var et=C.baseLayoutAttrOverrides;if(et&&V in et)return et[V]}if(at)return at}var it=N._modules;if(it){for(U=0;U<it.length;U++)if(W=it[U].layoutAttributes,W&&V in W)return W[V]}for(G in D.componentsRegistry){if(C=D.componentsRegistry[G],C.name==="colorscale"&&V.indexOf("coloraxis")===0)return C.layoutAttributes[V];if(!C.schema&&V===C.name)return C.layoutAttributes}return V in n?n[V]:!1}function d(N,V,U){if(!N)return!1;if(N._isLinkedToArray){if(_(V[U]))U++;else if(U<V.length)return!1}for(;U<V.length;U++){var G=N[V[U]];if(e(G))N=G;else break;if(U===V.length-1)break;if(N._isLinkedToArray){if(U++,!_(V[U]))return!1}else if(N.valType==="info_array"){U++;var C=V[U];if(!_(C))return!1;var W=N.items;if(Array.isArray(W)){if(C>=W.length)return!1;if(N.dimensions===2){if(U++,V.length===U)return N;var J=V[U];if(!_(J))return!1;N=W[C][J]}else N=W[C]}else N=W}}return N}function _(N){return N===Math.round(N)&&N>=0}function w(N){var V,U;V=D.modules[N]._module,U=V.basePlotModule;var G={};G.type=null;var C=f({},t),W=f({},V.attributes);F.crawl(W,function(et,it,dt,ht,xt){u(C,xt).set(void 0),et===void 0&&u(W,xt).set(void 0)}),f(G,C),D.traceIs(N,"noOpacity")&&delete G.opacity,D.traceIs(N,"showLegend")||(delete G.showlegend,delete G.legendgroup),D.traceIs(N,"noHover")&&(delete G.hoverinfo,delete G.hoverlabel),V.selectPoints||delete G.selectedpoints,f(G,W),U.attributes&&f(G,U.attributes),G.type=N;var J={meta:V.meta||{},categories:V.categories||{},animatable:!!V.animatable,type:N,attributes:P(G)};if(V.layoutAttributes){var at={};f(at,V.layoutAttributes),J.layoutAttributes=P(at)}return V.animatable||F.crawl(J,function(et){F.isValObject(et)&&"anim"in et&&delete et.anim}),J}function k(){var N={},V,U;f(N,n);for(V in D.subplotsRegistry)if(U=D.subplotsRegistry[V],!!U.layoutAttributes)if(Array.isArray(U.attr))for(var G=0;G<U.attr.length;G++)I(N,U,U.attr[G]);else{var C=U.attr==="subplot"?U.name:U.attr;I(N,U,C)}for(V in D.componentsRegistry){U=D.componentsRegistry[V];var W=U.schema;if(W&&(W.subplots||W.layout)){var J=W.subplots;if(J&&J.xaxis&&!J.yaxis)for(var at in J.xaxis)delete N.yaxis[at];delete N.xaxis.shift,delete N.xaxis.autoshift}else U.name==="colorscale"?f(N,U.layoutAttributes):U.layoutAttributes&&E(N,U.layoutAttributes,U.name)}return{layoutAttributes:P(N)}}function $(){var N={frames:f({},r)};return P(N),N.frames}function P(N){return O(N),T(N),X(N),N}function O(N){function V(G){return{valType:"string",editType:"none"}}function U(G,C,W){F.isValObject(G)?(G.arrayOk===!0||G.valType==="data_array")&&(W[C+"src"]=V()):e(G)&&(G.role="object")}F.crawl(N,U)}function T(N){function V(U,G,C){if(U){var W=U[m];W&&(delete U[m],C[G]={items:{}},C[G].items[W]=U,C[G].role="object")}}F.crawl(N,V)}function X(N){function V(U){for(var G in U)if(e(U[G]))V(U[G]);else if(Array.isArray(U[G]))for(var C=0;C<U[G].length;C++)V(U[G][C]);else U[G]instanceof RegExp&&(U[G]=U[G].toString())}V(N)}function I(N,V,U){var G=u(N,U),C=f({},V.layoutAttributes);C[b]=!0,G.set(C)}function E(N,V,U){var G=u(N,U);G.set(f(G.get()||{},V))}}),jn=Dt(F=>{var D=Ce(),i=ja(),t="templateitemname",n={name:{valType:"string",editType:"none"}};n[t]={valType:"string",editType:"calc"},F.templatedArray=function(o,s){return s._isLinkedToArray=o,s.name=n.name,s[t]=n[t],s},F.traceTemplater=function(o){var s={},f,e;for(f in o)e=o[f],Array.isArray(e)&&e.length&&(s[f]=0);function p(u){f=D.coerce(u,{},i,"type");var h={type:f,_template:null};if(f in s){e=o[f];var b=s[f]%e.length;s[f]++,h._template=e[b]}return h}return{newTrace:p}},F.newContainer=function(o,s,f){var e=o._template,p=e&&(e[s]||f&&e[f]);D.isPlainObject(p)||(p=null);var u=o[s]={_template:p};return u},F.arrayTemplater=function(o,s,f){var e=o._template,p=e&&e[l(s)],u=e&&e[s];(!Array.isArray(u)||!u.length)&&(u=[]);var h={};function b(g){var y={name:g.name,_input:g},v=y[t]=g[t];if(!r(v))return y._template=p,y;for(var c=0;c<u.length;c++){var d=u[c];if(d.name===v)return h[v]=1,y._template=d,y}return y[f]=g[f]||!1,y._template=!1,y}function m(){for(var g=[],y=0;y<u.length;y++){var v=u[y],c=v.name;if(r(c)&&!h[c]){var d={_template:v,name:c,_input:{_templateitemname:c}};d[t]=v[t],g.push(d),h[c]=1}}return g}return{newItem:b,defaultItems:m}};function r(o){return o&&typeof o=="string"}function l(o){var s=o.length-1;return o.charAt(s)!=="s"&&D.warn("bad argument to arrayDefaultKey: "+o),o.substr(0,o.length-1)+"defaults"}F.arrayDefaultKey=l,F.arrayEditor=function(o,s,f){var e=(D.nestedProperty(o,s).get()||[]).length,p=f._index,u=p>=e&&(f._input||{})._templateitemname;u&&(p=e);var h=s+"["+p+"]",b;function m(){b={},u&&(b[h]={},b[h][t]=u)}m();function g(d,_){b[d]=_}function y(d,_){u?D.nestedProperty(b[h],d).set(_):b[h+"."+d]=_}function v(){var d=b;return m(),d}function c(d,_){d&&y(d,_);var w=v();for(var k in w)D.nestedProperty(o,k).set(w[k])}return{modifyBase:g,modifyItem:y,getUpdateObj:v,applyUpdate:c}}}),pa=Dt((F,D)=>{var i=Ir().counter;D.exports={idRegex:{x:i("x","( domain)?"),y:i("y","( domain)?")},attrRegex:i("[xy]axis"),xAxisMatch:i("xaxis"),yAxisMatch:i("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"},zindexSeparator:"z"}}),ua=Dt(F=>{var D=un(),i=pa();F.id2name=function(n){if(!(typeof n!="string"||!n.match(i.AX_ID_PATTERN))){var r=n.split(" ")[0].substr(1);return r==="1"&&(r=""),n.charAt(0)+"axis"+r}},F.name2id=function(n){if(n.match(i.AX_NAME_PATTERN)){var r=n.substr(5);return r==="1"&&(r=""),n.charAt(0)+r}},F.cleanId=function(n,r,l){var o=/( domain)$/.test(n);if(!(typeof n!="string"||!n.match(i.AX_ID_PATTERN))&&!(r&&n.charAt(0)!==r)&&!(o&&!l)){var s=n.split(" ")[0].substr(1).replace(/^0+/,"");return s==="1"&&(s=""),n.charAt(0)+s+(o&&l?" domain":"")}},F.list=function(n,r,l){var o=n._fullLayout;if(!o)return[];var s=F.listIds(n,r),f=new Array(s.length),e;for(e=0;e<s.length;e++){var p=s[e];f[e]=o[p.charAt(0)+"axis"+p.substr(1)]}if(!l){var u=o._subplots.gl3d||[];for(e=0;e<u.length;e++){var h=o[u[e]];r?f.push(h[r+"axis"]):f.push(h.xaxis,h.yaxis,h.zaxis)}}return f},F.listIds=function(n,r){var l=n._fullLayout;if(!l)return[];var o=l._subplots;return r?o[r+"axis"]:o.xaxis.concat(o.yaxis)},F.getFromId=function(n,r,l){var o=n._fullLayout;return r=r===void 0||typeof r!="string"?r:r.replace(" domain",""),l==="x"?r=r.replace(/y[0-9]*/,""):l==="y"&&(r=r.replace(/x[0-9]*/,"")),o[F.id2name(r)]},F.getFromTrace=function(n,r,l){var o=n._fullLayout,s=null;if(D.traceIs(r,"gl3d")){var f=r.scene;f.substr(0,5)==="scene"&&(s=o[f][l+"axis"])}else s=F.getFromId(n,r[l+"axis"]||l);return s},F.idSort=function(n,r){var l=n.charAt(0),o=r.charAt(0);return l!==o?l>o?1:-1:+(n.substr(1)||1)-+(r.substr(1)||1)},F.ref2id=function(n){return/^[xyz]/.test(n)?n.split(" ")[0]:!1};function t(n,r){if(r&&r.length){for(var l=0;l<r.length;l++)if(r[l][n])return!0}return!1}F.isLinked=function(n,r){return t(r,n._axisMatchGroups)||t(r,n._axisConstraintGroups)}}),cr=Dt((F,D)=>{function i(n){var r=n._fullLayout._zoomlayer;r&&r.selectAll(".outline-controllers").remove()}function t(n){var r=n._fullLayout._zoomlayer;r&&r.selectAll(".select-outline").remove(),n._fullLayout._outlining=!1}D.exports={clearOutlineControllers:i,clearOutline:t}}),Pi=Dt((F,D)=>{D.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}}),Xo=Dt(F=>{var D=un();pa().SUBPLOT_PATTERN,F.getSubplotCalcData=function(i,t,n){var r=D.subplotsRegistry[t];if(!r)return[];for(var l=r.attr,o=[],s=0;s<i.length;s++){var f=i[s],e=f[0].trace;e[l]===n&&o.push(f)}return o},F.getModuleCalcData=function(i,t,n){var r=[],l=[],o;if(typeof t=="string"?o=D.getModule(t).plot:typeof t=="function"?o=t:o=t.plot,!o)return[r,i];for(var s=n,f=0;f<i.length;f++){var e=i[f],p=e[0].trace,u=p.zorder!==void 0;p.visible!==!0||p._length===0||(p._module&&p._module.plot===o&&(!u||p.zorder===s)?r.push(e):l.push(e))}return[r,l]},F.getSubplotData=function(i,t,n){if(!D.subplotsRegistry[t])return[];for(var r=D.subplotsRegistry[t].attr,l=[],o,s,f,e=0;e<i.length;e++)o=i[e],o[r]===n&&l.push(o);return l}}),sc=Dt(F=>{var D=un(),i=Ce();F.manageCommandObserver=function(s,f,e,p){var u={},h=!0;f&&f._commandObserver&&(u=f._commandObserver),u.cache||(u.cache={}),u.lookupTable={};var b=F.hasSimpleAPICommandBindings(s,e,u.lookupTable);if(f&&f._commandObserver){if(b)return u;if(f._commandObserver.remove)return f._commandObserver.remove(),f._commandObserver=null,u}if(b){t(s,b,u.cache),u.check=function(){if(h){var y=t(s,b,u.cache);return y.changed&&p&&u.lookupTable[y.value]!==void 0&&(u.disable(),Promise.resolve(p({value:y.value,type:b.type,prop:b.prop,traces:b.traces,index:u.lookupTable[y.value]})).then(u.enable,u.enable)),y.changed}};for(var m=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],g=0;g<m.length;g++)s._internalOn(m[g],u.check);u.remove=function(){for(var y=0;y<m.length;y++)s._removeInternalListener(m[y],u.check)}}else i.log("Unable to automatically bind plot updates to API command"),u.lookupTable={},u.remove=function(){};return u.disable=function(){h=!1},u.enable=function(){h=!0},f&&(f._commandObserver=u),u},F.hasSimpleAPICommandBindings=function(s,f,e){var p,u=f.length,h;for(p=0;p<u;p++){var b,m=f[p],g=m.method,y=m.args;if(Array.isArray(y)||(y=[]),!g)return!1;var v=F.computeAPICommandBindings(s,g,y);if(v.length!==1)return!1;if(!h)h=v[0],Array.isArray(h.traces)&&h.traces.sort();else{if(b=v[0],b.type!==h.type||b.prop!==h.prop)return!1;if(Array.isArray(h.traces))if(Array.isArray(b.traces)){b.traces.sort();for(var c=0;c<h.traces.length;c++)if(h.traces[c]!==b.traces[c])return!1}else return!1;else if(b.prop!==h.prop)return!1}b=v[0];var d=b.value;if(Array.isArray(d))if(d.length===1)d=d[0];else return!1;e&&(e[d]=p)}return h};function t(s,f,e){var p,u,h,b=!1;if(f.type==="data")p=s._fullData[f.traces!==null?f.traces[0]:0];else if(f.type==="layout")p=s._fullLayout;else return!1;return u=i.nestedProperty(p,f.prop).get(),h=e[f.type]=e[f.type]||{},h.hasOwnProperty(f.prop)&&h[f.prop]!==u&&(b=!0),h[f.prop]=u,{changed:b,value:u}}F.executeAPICommand=function(s,f,e){if(f==="skip")return Promise.resolve();var p=D.apiMethodRegistry[f],u=[s];Array.isArray(e)||(e=[]);for(var h=0;h<e.length;h++)u.push(e[h]);return p.apply(null,u).catch(function(b){return i.warn("API call to Plotly."+f+" rejected.",b),Promise.reject(b)})},F.computeAPICommandBindings=function(s,f,e){var p;switch(Array.isArray(e)||(e=[]),f){case"restyle":p=l(s,e);break;case"relayout":p=r(s,e);break;case"update":p=l(s,[e[0],e[2]]).concat(r(s,[e[1]]));break;case"animate":p=n(s,e);break;default:p=[]}return p};function n(s,f){return Array.isArray(f[0])&&f[0].length===1&&["string","number"].indexOf(typeof f[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:f[0][0].toString()}]:[]}function r(s,f){var e=[],p=f[0],u={};if(typeof p=="string")u[p]=f[1];else if(i.isPlainObject(p))u=p;else return e;return o(u,function(h,b,m){e.push({type:"layout",prop:h,value:m})},"",0),e}function l(s,f){var e,p,u,h,b=[];if(p=f[0],u=f[1],e=f[2],h={},typeof p=="string")h[p]=u;else if(i.isPlainObject(p))h=p,e===void 0&&(e=u);else return b;return e===void 0&&(e=null),o(h,function(m,g,y){var v,c;if(Array.isArray(y)){c=y.slice();var d=Math.min(c.length,s.data.length);e&&(d=Math.min(d,e.length)),v=[];for(var _=0;_<d;_++)v[_]=e?e[_]:_}else c=y,v=e?e.slice():null;if(v===null)Array.isArray(c)&&(c=c[0]);else if(Array.isArray(v)){if(!Array.isArray(c)){var w=c;c=[];for(var k=0;k<v.length;k++)c[k]=w}c.length=Math.min(v.length,c.length)}b.push({type:"data",prop:m,traces:v,value:c})},"",0),b}function o(s,f,e,p){Object.keys(s).forEach(function(u){var h=s[u];if(u[0]!=="_"){var b=e+(p>0?".":"")+u;i.isPlainObject(h)?o(h,f,b,p+1):f(b,u,h)}})}}),ea=Dt((F,D)=>{var i=_n(),t=Cr().timeFormatLocale,n=Io().formatLocale,r=wn(),l=Fo(),o=un(),s=Rr(),f=jn(),e=Ce(),p=bn(),u=oa().BADNUM,h=ua(),b=cr().clearOutline,m=Pi(),g=Xr(),y=Go(),v=Xo().getModuleCalcData,c=e.relinkPrivateKeys,d=e._,_=D.exports={};e.extendFlat(_,o),_.attributes=ja(),_.attributes.type.values=_.allTypes,_.fontAttrs=ha(),_.layoutAttributes=Fr();var w=sc();_.executeAPICommand=w.executeAPICommand,_.computeAPICommandBindings=w.computeAPICommandBindings,_.manageCommandObserver=w.manageCommandObserver,_.hasSimpleAPICommandBindings=w.hasSimpleAPICommandBindings,_.redrawText=function(H){return H=e.getGraphDiv(H),new Promise(function(j){setTimeout(function(){H._fullLayout&&(o.getComponentMethod("annotations","draw")(H),o.getComponentMethod("legend","draw")(H),o.getComponentMethod("colorbar","draw")(H),j(_.previousPromises(H)))},300)})},_.resize=function(H){H=e.getGraphDiv(H);var j,A=new Promise(function(q,R){(!H||e.isHidden(H))&&R(new Error("Resize must be passed a displayed plot div element.")),H._redrawTimer&&clearTimeout(H._redrawTimer),H._resolveResize&&(j=H._resolveResize),H._resolveResize=q,H._redrawTimer=setTimeout(function(){if(!H.layout||H.layout.width&&H.layout.height||e.isHidden(H)){q(H);return}delete H.layout.width,delete H.layout.height;var z=H.changed;H.autoplay=!0,o.call("relayout",H,{autosize:!0}).then(function(){H.changed=z,H._resolveResize===q&&(delete H._resolveResize,q(H))})},100)});return j&&j(A),A},_.previousPromises=function(H){if((H._promises||[]).length)return Promise.all(H._promises).then(function(){H._promises=[]})},_.addLinks=function(H){if(!(!H._context.showLink&&!H._context.showSources)){var j=H._fullLayout,A=e.ensureSingle(j._paper,"text","js-plot-link-container",function(Z){Z.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:p.defaultLine,"pointer-events":"all"}).each(function(){var Y=i.select(this);Y.append("tspan").classed("js-link-to-tool",!0),Y.append("tspan").classed("js-link-spacer",!0),Y.append("tspan").classed("js-sourcelinks",!0)})}),q=A.node(),R={y:j._paper.attr("height")-9};document.body.contains(q)&&q.getComputedTextLength()>=j.width-20?(R["text-anchor"]="start",R.x=5):(R["text-anchor"]="end",R.x=j._paper.attr("width")-7),A.attr(R);var z=A.select(".js-link-to-tool"),M=A.select(".js-link-spacer"),S=A.select(".js-sourcelinks");H._context.showSources&&H._context.showSources(H),H._context.showLink&&k(H,z),M.text(z.text()&&S.text()?" - ":"")}};function k(H,j){j.text("");var A=j.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(H._context.linkText+" ");if(H._context.sendData)A.on("click",function(){_.sendDataToCloud(H)});else{var q=window.location.pathname.split("/"),R=window.location.search;A.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+q[2].split(".")[0]+"/"+q[1]+R})}}_.sendDataToCloud=function(H){var j=(window.PLOTLYENV||{}).BASE_URL||H._context.plotlyServerURL;if(j){H.emit("plotly_beforeexport");var A=i.select(H).append("div").attr("id","hiddenform").style("display","none"),q=A.append("form").attr({action:j+"/external",method:"post",target:"_blank"}),R=q.append("input").attr({type:"text",name:"data"});return R.node().value=_.graphJson(H,!1,"keepdata"),q.node().submit(),A.remove(),H.emit("plotly_afterexport"),!1}};var $=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],P=["year","month","dayMonth","dayMonthYear"];_.supplyDefaults=function(H,j){var A=j&&j.skipUpdateCalc,q=H._fullLayout||{};if(q._skipDefaults){delete q._skipDefaults;return}var R=H._fullLayout={},z=H.layout||{},M=H._fullData||[],S=H._fullData=[],Z=H.data||[],Y=H.calcdata||[],rt=H._context||{},st;H._transitionData||_.createTransitionData(H),R._dfltTitle={plot:d(H,"Click to enter Plot title"),subtitle:d(H,"Click to enter Plot subtitle"),x:d(H,"Click to enter X axis title"),y:d(H,"Click to enter Y axis title"),colorbar:d(H,"Click to enter Colorscale title"),annotation:d(H,"new text")},R._traceWord=d(H,"trace");var ut=X(H,$);if(R._mapboxAccessToken=rt.mapboxAccessToken,q._initialAutoSizeIsDone){var _t=q.width,At=q.height;_.supplyLayoutGlobalDefaults(z,R,ut),z.width||(R.width=_t),z.height||(R.height=At),_.sanitizeMargins(R)}else{_.supplyLayoutGlobalDefaults(z,R,ut);var Rt=!z.width||!z.height,Xt=R.autosize,Bt=rt.autosizable,Ht=Rt&&(Xt||Bt);Ht?_.plotAutoSize(H,z,R):Rt&&_.sanitizeMargins(R),!Xt&&Rt&&(z.width=R.width,z.height=R.height)}R._d3locale=I(ut,R.separators),R._extraFormat=X(H,P),R._initialAutoSizeIsDone=!0,R._dataLength=Z.length,R._modules=[],R._visibleModules=[],R._basePlotModules=[];var pt=R._subplots=T(),bt=R._splomAxes={x:{},y:{}},ot=R._splomSubplots={};R._splomGridDflt={},R._scatterStackOpts={},R._firstScatter={},R._alignmentOpts={},R._colorAxes={},R._requestRangeslider={},R._traceUids=O(M,Z),_.supplyDataDefaults(Z,S,z,R);var Lt=Object.keys(bt.x),Nt=Object.keys(bt.y);if(Lt.length>1&&Nt.length>1){for(o.getComponentMethod("grid","sizeDefaults")(z,R),st=0;st<Lt.length;st++)e.pushUnique(pt.xaxis,Lt[st]);for(st=0;st<Nt.length;st++)e.pushUnique(pt.yaxis,Nt[st]);for(var Vt in ot)e.pushUnique(pt.cartesian,Vt)}if(R._has=_._hasPlotType.bind(R),M.length===S.length)for(st=0;st<S.length;st++)c(S[st],M[st]);_.supplyLayoutModuleDefaults(z,R,S,H._transitionData);var ae=R._visibleModules,Jt=[];for(st=0;st<ae.length;st++){var re=ae[st].crossTraceDefaults;re&&e.pushUnique(Jt,re)}for(st=0;st<Jt.length;st++)Jt[st](S,R);R._hasOnlyLargeSploms=R._basePlotModules.length===1&&R._basePlotModules[0].name==="splom"&&Lt.length>15&&Nt.length>15&&R.shapes.length===0&&R.images.length===0,_.linkSubplots(S,R,M,q),_.cleanPlot(S,R,M,q);var oe=!!(q._has&&q._has("cartesian")),le=!!(R._has&&R._has("cartesian")),ve=oe,Wt=le;ve&&!Wt?q._bgLayer.remove():Wt&&!ve&&(R._shouldCreateBgLayer=!0),q._zoomlayer&&!H._dragging&&b({_fullLayout:q}),E(S,R),c(R,q),o.getComponentMethod("colorscale","crossTraceDefaults")(S,R),R._preGUI||(R._preGUI={}),R._tracePreGUI||(R._tracePreGUI={});var ge=R._tracePreGUI,Te={},ce;for(ce in ge)Te[ce]="old";for(st=0;st<S.length;st++)ce=S[st]._fullInput.uid,Te[ce]||(ge[ce]={}),Te[ce]="new";for(ce in Te)Te[ce]==="old"&&delete ge[ce];U(R),o.getComponentMethod("rangeslider","makeData")(R),!A&&Y.length===S.length&&_.supplyDefaultsUpdateCalc(Y,S)},_.supplyDefaultsUpdateCalc=function(H,j){for(var A=0;A<j.length;A++){var q=j[A],R=(H[A]||[])[0];if(R&&R.trace){var z=R.trace;if(z._hasCalcTransform){var M=z._arrayAttrs,S,Z,Y;for(S=0;S<M.length;S++)Z=M[S],Y=e.nestedProperty(z,Z).get().slice(),e.nestedProperty(q,Z).set(Y)}R.trace=q}}};function O(H,j){var A=j.length,q=[],R,z;for(R=0;R<H.length;R++){var M=H[R]._fullInput;M!==z&&q.push(M),z=M}var S=q.length,Z=new Array(A),Y={};function rt(_t,At){Z[At]=_t,Y[_t]=1}function st(_t,At){if(_t&&typeof _t=="string"&&!Y[_t])return rt(_t,At),!0}for(R=0;R<A;R++){var ut=j[R].uid;typeof ut=="number"&&(ut=String(ut)),!st(ut,R)&&(R<S&&st(q[R].uid,R)||rt(e.randstr(Y),R))}return Z}function T(){var H=o.collectableSubplotTypes,j={},A,q;if(!H){H=[];var R=o.subplotsRegistry;for(var z in R){var M=R[z],S=M.attr;if(S&&(H.push(z),Array.isArray(S)))for(q=0;q<S.length;q++)e.pushUnique(H,S[q])}}for(A=0;A<H.length;A++)j[H[A]]=[];return j}function X(H,j){var A=H._context.locale;A||(A="en-US");var q=!1,R={};function z(st){for(var ut=!0,_t=0;_t<j.length;_t++){var At=j[_t];R[At]||(st[At]?R[At]=st[At]:ut=!1)}ut&&(q=!0)}for(var M=0;M<2;M++){for(var S=H._context.locales,Z=0;Z<2;Z++){var Y=(S[A]||{}).format;if(Y&&(z(Y),q))break;S=o.localeRegistry}var rt=A.split("-")[0];if(q||rt===A)break;A=rt}return q||z(o.localeRegistry.en.format),R}function I(H,j){return H.decimal=j.charAt(0),H.thousands=j.charAt(1),{numberFormat:function(A){try{A=n(H).format(e.adjustFormat(A))}catch{return e.warnBadFormat(A),e.noFormat}return A},timeFormat:t(H).utcFormat}}function E(H,j){var A,q=[];j.meta&&(A=j._meta={meta:j.meta,layout:{meta:j.meta}});for(var R=0;R<H.length;R++){var z=H[R];z.meta?q[z.index]=z._meta={meta:z.meta}:j.meta&&(z._meta={meta:j.meta}),j.meta&&(z._meta.layout={meta:j.meta})}q.length&&(A||(A=j._meta={}),A.data=q)}_.createTransitionData=function(H){H._transitionData||(H._transitionData={}),H._transitionData._frames||(H._transitionData._frames=[]),H._transitionData._frameHash||(H._transitionData._frameHash={}),H._transitionData._counter||(H._transitionData._counter=0),H._transitionData._interruptCallbacks||(H._transitionData._interruptCallbacks=[])},_._hasPlotType=function(H){var j,A=this._basePlotModules||[];for(j=0;j<A.length;j++)if(A[j].name===H)return!0;var q=this._modules||[];for(j=0;j<q.length;j++){var R=q[j].name;if(R===H)return!0;var z=o.modules[R];if(z&&z.categories[H])return!0}return!1},_.cleanPlot=function(H,j,A,q){var R,z,M=q._basePlotModules||[];for(R=0;R<M.length;R++){var S=M[R];S.clean&&S.clean(H,j,A,q)}var Z=q._has&&q._has("gl"),Y=j._has&&j._has("gl");Z&&!Y&&q._glcontainer!==void 0&&(q._glcontainer.selectAll(".gl-canvas").remove(),q._glcontainer.selectAll(".no-webgl").remove(),q._glcanvas=null);var rt=!!q._infolayer;t:for(R=0;R<A.length;R++){var st=A[R],ut=st.uid;for(z=0;z<H.length;z++){var _t=H[z];if(ut===_t.uid)continue t}rt&&q._infolayer.select(".cb"+ut).remove()}},_.linkSubplots=function(H,j,A,q){var R,z,M=q._plots||{},S=j._plots={},Z=j._subplots,Y={_fullData:H,_fullLayout:j},rt=Z.cartesian||[];for(R=0;R<rt.length;R++){var st=rt[R],ut=M[st],_t=h.getFromId(Y,st,"x"),At=h.getFromId(Y,st,"y"),Rt;for(ut?Rt=S[st]=ut:(Rt=S[st]={},Rt.id=st),_t._counterAxes.push(At._id),At._counterAxes.push(_t._id),_t._subplotsWith.push(st),At._subplotsWith.push(st),Rt.xaxis=_t,Rt.yaxis=At,Rt._hasClipOnAxisFalse=!1,z=0;z<H.length;z++){var Xt=H[z];if(Xt.xaxis===Rt.xaxis._id&&Xt.yaxis===Rt.yaxis._id&&Xt.cliponaxis===!1){Rt._hasClipOnAxisFalse=!0;break}}}var Bt=h.list(Y,null,!0),Ht;for(R=0;R<Bt.length;R++){Ht=Bt[R];var pt=null;Ht.overlaying&&(pt=h.getFromId(Y,Ht.overlaying),pt&&pt.overlaying&&(Ht.overlaying=!1,pt=null)),Ht._mainAxis=pt||Ht,pt&&(Ht.domain=pt.domain.slice()),Ht._anchorAxis=Ht.anchor==="free"?null:h.getFromId(Y,Ht.anchor)}for(R=0;R<Bt.length;R++)if(Ht=Bt[R],Ht._counterAxes.sort(h.idSort),Ht._subplotsWith.sort(e.subplotSort),Ht._mainSubplot=N(Ht,j),Ht._counterAxes.length&&(Ht.spikemode&&Ht.spikemode.indexOf("across")!==-1||Ht.automargin&&Ht.mirror&&Ht.anchor!=="free"||o.getComponentMethod("rangeslider","isVisible")(Ht))){var bt=1,ot=0;for(z=0;z<Ht._counterAxes.length;z++){var Lt=h.getFromId(Y,Ht._counterAxes[z]);bt=Math.min(bt,Lt.domain[0]),ot=Math.max(ot,Lt.domain[1])}bt<ot&&(Ht._counterDomainMin=bt,Ht._counterDomainMax=ot)}};function N(H,j){var A={_fullLayout:j},q=H._id.charAt(0)==="x",R=H._mainAxis._anchorAxis,z="",M="",S="";if(R&&(S=R._mainAxis._id,z=q?H._id+S:S+H._id),!z||!j._plots[z]){z="";for(var Z=H._counterAxes,Y=0;Y<Z.length;Y++){var rt=Z[Y],st=q?H._id+rt:rt+H._id;M||(M=st);var ut=h.getFromId(A,rt);if(S&&ut.overlaying===S){z=st;break}}}return z||M}_.clearExpandedTraceDefaultColors=function(H){var j,A,q;function R(M,S,Z,Y){A[Y]=S,A.length=Y+1,M.valType==="color"&&M.dflt===void 0&&j.push(A.join("."))}for(A=[],j=H._module._colorAttrs,j||(H._module._colorAttrs=j=[],s.crawl(H._module.attributes,R)),q=0;q<j.length;q++){var z=e.nestedProperty(H,"_input."+j[q]);z.get()||e.nestedProperty(H,j[q]).set(null)}},_.supplyDataDefaults=function(H,j,A,q){var R=q._modules,z=q._visibleModules,M=q._basePlotModules,S=0,Z,Y,rt;q._transformModules=[];function st(Bt){j.push(Bt);var Ht=Bt._module;Ht&&(e.pushUnique(R,Ht),Bt.visible===!0&&e.pushUnique(z,Ht),e.pushUnique(M,Bt._module.basePlotModule),Bt._input.visible!==!1&&S++)}var ut={},_t=[],At=(A.template||{}).data||{},Rt=f.traceTemplater(At);for(Z=0;Z<H.length;Z++)rt=H[Z],Y=Rt.newTrace(rt),Y.uid=q._traceUids[Z],_.supplyTraceDefaults(rt,Y,S,q,Z),Y.index=Z,Y._input=rt,Y._fullInput=Y,st(Y),o.traceIs(Y,"carpetAxis")&&(ut[Y.carpet]=Y),o.traceIs(Y,"carpetDependent")&&_t.push(Z);for(Z=0;Z<_t.length;Z++)if(Y=j[_t[Z]],!!Y.visible){var Xt=ut[Y.carpet];if(Y._carpet=Xt,!Xt||!Xt.visible){Y.visible=!1;continue}Y.xaxis=Xt.xaxis,Y.yaxis=Xt.yaxis}},_.supplyAnimationDefaults=function(H){H=H||{};var j,A={};function q(R,z){return e.coerce(H||{},A,g,R,z)}if(q("mode"),q("direction"),q("fromcurrent"),Array.isArray(H.frame))for(A.frame=[],j=0;j<H.frame.length;j++)A.frame[j]=_.supplyAnimationFrameDefaults(H.frame[j]||{});else A.frame=_.supplyAnimationFrameDefaults(H.frame||{});if(Array.isArray(H.transition))for(A.transition=[],j=0;j<H.transition.length;j++)A.transition[j]=_.supplyAnimationTransitionDefaults(H.transition[j]||{});else A.transition=_.supplyAnimationTransitionDefaults(H.transition||{});return A},_.supplyAnimationFrameDefaults=function(H){var j={};function A(q,R){return e.coerce(H||{},j,g.frame,q,R)}return A("duration"),A("redraw"),j},_.supplyAnimationTransitionDefaults=function(H){var j={};function A(q,R){return e.coerce(H||{},j,g.transition,q,R)}return A("duration"),A("easing"),j},_.supplyFrameDefaults=function(H){var j={};function A(q,R){return e.coerce(H,j,y,q,R)}return A("group"),A("name"),A("traces"),A("baseframe"),A("data"),A("layout"),j},_.supplyTraceDefaults=function(H,j,A,q,R){var z=q.colorway||p.defaults,M=z[A%z.length],S;function Z(pt,bt){return e.coerce(H,j,_.attributes,pt,bt)}var Y=Z("visible");Z("type"),Z("name",q._traceWord+" "+R),Z("uirevision",q.uirevision);var rt=_.getModule(j);if(j._module=rt,rt){var st=rt.basePlotModule,ut=st.attr,_t=st.attributes;if(ut&&_t){var At=q._subplots,Rt="";if(Array.isArray(ut))for(S=0;S<ut.length;S++){var Xt=ut[S],Bt=e.coerce(H,j,_t,Xt);At[Xt]&&e.pushUnique(At[Xt],Bt),Rt+=Bt}else Rt=e.coerce(H,j,_t,ut);At[st.name]&&e.pushUnique(At[st.name],Rt)}}if(Y&&(Z("customdata"),Z("ids"),Z("meta"),o.traceIs(j,"showLegend")?(e.coerce(H,j,rt.attributes.showlegend?rt.attributes:_.attributes,"showlegend"),Z("legend"),Z("legendwidth"),Z("legendgroup"),Z("legendgrouptitle.text"),Z("legendrank"),j._dfltShowLegend=!0):j._dfltShowLegend=!1,rt&&rt.supplyDefaults(H,j,M,q),o.traceIs(j,"noOpacity")||Z("opacity"),o.traceIs(j,"notLegendIsolatable")&&(j.visible=!!j.visible),o.traceIs(j,"noHover")||(j.hovertemplate||e.coerceHoverinfo(H,j,q),j.type!=="parcats"&&o.getComponentMethod("fx","supplyDefaults")(H,j,M,q)),rt&&rt.selectPoints)){var Ht=Z("selectedpoints");e.isTypedArray(Ht)&&(j.selectedpoints=Array.from(Ht))}return j},_.supplyLayoutGlobalDefaults=function(H,j,A){function q(st,ut){return e.coerce(H,j,_.layoutAttributes,st,ut)}var R=H.template;e.isPlainObject(R)&&(j.template=R,j._template=R.layout,j._dataTemplate=R.data),q("autotypenumbers");var z=e.coerceFont(q,"font"),M=z.size;e.coerceFont(q,"title.font",z,{overrideDflt:{size:Math.round(M*1.4)}}),q("title.text",j._dfltTitle.plot),q("title.xref");var S=q("title.yref");q("title.pad.t"),q("title.pad.r"),q("title.pad.b"),q("title.pad.l");var Z=q("title.automargin");q("title.x"),q("title.xanchor"),q("title.y"),q("title.yanchor"),q("title.subtitle.text",j._dfltTitle.subtitle),e.coerceFont(q,"title.subtitle.font",z,{overrideDflt:{size:Math.round(j.title.font.size*.7)}}),Z&&(S==="paper"&&(j.title.y!==0&&(j.title.y=1),j.title.yanchor==="auto"&&(j.title.yanchor=j.title.y===0?"top":"bottom")),S==="container"&&(j.title.y==="auto"&&(j.title.y=1),j.title.yanchor==="auto"&&(j.title.yanchor=j.title.y<.5?"bottom":"top")));var Y=q("uniformtext.mode");Y&&q("uniformtext.minsize"),q("autosize",!(H.width&&H.height)),q("width"),q("height"),q("minreducedwidth"),q("minreducedheight"),q("margin.l"),q("margin.r"),q("margin.t"),q("margin.b"),q("margin.pad"),q("margin.autoexpand"),H.width&&H.height&&_.sanitizeMargins(j),o.getComponentMethod("grid","sizeDefaults")(H,j),q("paper_bgcolor"),q("separators",A.decimal+A.thousands),q("hidesources"),q("colorway"),q("datarevision");var rt=q("uirevision");q("editrevision",rt),q("selectionrevision",rt),o.getComponentMethod("modebar","supplyLayoutDefaults")(H,j),o.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(H,j,q),o.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(H,j,q),q("meta"),e.isPlainObject(H.transition)&&(q("transition.duration"),q("transition.easing"),q("transition.ordering")),o.getComponentMethod("calendars","handleDefaults")(H,j,"calendar"),o.getComponentMethod("fx","supplyLayoutGlobalDefaults")(H,j,q),e.coerce(H,j,m,"scattermode")};function V(H){return typeof H=="string"&&H.substr(H.length-2)==="px"&&parseFloat(H)}_.plotAutoSize=function(H,j,A){var q=H._context||{},R=q.frameMargins,z,M,S=e.isPlotDiv(H);if(S&&H.emit("plotly_autosize"),q.fillFrame)z=window.innerWidth,M=window.innerHeight,document.body.style.overflow="hidden";else{var Z=S?window.getComputedStyle(H):{};if(z=V(Z.width)||V(Z.maxWidth)||A.width,M=V(Z.height)||V(Z.maxHeight)||A.height,r(R)&&R>0){var Y=1-2*R;z=Math.round(Y*z),M=Math.round(Y*M)}}var rt=_.layoutAttributes.width.min,st=_.layoutAttributes.height.min;z<rt&&(z=rt),M<st&&(M=st);var ut=!j.width&&Math.abs(A.width-z)>1,_t=!j.height&&Math.abs(A.height-M)>1;(_t||ut)&&(ut&&(A.width=z),_t&&(A.height=M)),H._initialAutoSize||(H._initialAutoSize={width:z,height:M}),_.sanitizeMargins(A)},_.supplyLayoutModuleDefaults=function(H,j,A,q){var R=o.componentsRegistry,z=j._basePlotModules,M,S,Z,Y=o.subplotsRegistry.cartesian;for(M in R)Z=R[M],Z.includeBasePlot&&Z.includeBasePlot(H,j);z.length||z.push(Y),j._has("cartesian")&&(o.getComponentMethod("grid","contentDefaults")(H,j),Y.finalizeSubplots(H,j));for(var rt in j._subplots)j._subplots[rt].sort(e.subplotSort);for(S=0;S<z.length;S++)Z=z[S],Z.supplyLayoutDefaults&&Z.supplyLayoutDefaults(H,j,A);var st=j._modules;for(S=0;S<st.length;S++)Z=st[S],Z.supplyLayoutDefaults&&Z.supplyLayoutDefaults(H,j,A);var ut=j._transformModules;for(S=0;S<ut.length;S++)Z=ut[S],Z.supplyLayoutDefaults&&Z.supplyLayoutDefaults(H,j,A,q);for(M in R)Z=R[M],Z.supplyLayoutDefaults&&Z.supplyLayoutDefaults(H,j,A)},_.purge=function(H){var j=H._fullLayout||{};j._glcontainer!==void 0&&(j._glcontainer.selectAll(".gl-canvas").remove(),j._glcontainer.remove(),j._glcanvas=null),j._modeBar&&j._modeBar.destroy(),H._transitionData&&(H._transitionData._interruptCallbacks&&(H._transitionData._interruptCallbacks.length=0),H._transitionData._animationRaf&&window.cancelAnimationFrame(H._transitionData._animationRaf)),e.clearThrottle(),e.clearResponsive(H),delete H.data,delete H.layout,delete H._fullData,delete H._fullLayout,delete H.calcdata,delete H.empty,delete H.fid,delete H.undoqueue,delete H.undonum,delete H.autoplay,delete H.changed,delete H._promises,delete H._redrawTimer,delete H._hmlumcount,delete H._hmpixcount,delete H._transitionData,delete H._transitioning,delete H._initialAutoSize,delete H._transitioningWithDuration,delete H._dragging,delete H._dragged,delete H._dragdata,delete H._hoverdata,delete H._snapshotInProgress,delete H._editing,delete H._mouseDownTime,delete H._legendMouseDownTime,H.removeAllListeners&&H.removeAllListeners()},_.style=function(H){var j=H._fullLayout._visibleModules,A=[],q;for(q=0;q<j.length;q++){var R=j[q];R.style&&e.pushUnique(A,R.style)}for(q=0;q<A.length;q++)A[q](H)},_.sanitizeMargins=function(H){if(!(!H||!H.margin)){var j=H.width,A=H.height,q=H.margin,R=j-(q.l+q.r),z=A-(q.t+q.b),M;R<0&&(M=(j-1)/(q.l+q.r),q.l=Math.floor(M*q.l),q.r=Math.floor(M*q.r)),z<0&&(M=(A-1)/(q.t+q.b),q.t=Math.floor(M*q.t),q.b=Math.floor(M*q.b))}},_.clearAutoMarginIds=function(H){H._fullLayout._pushmarginIds={}},_.allowAutoMargin=function(H,j){H._fullLayout._pushmarginIds[j]=1};function U(H){var j=H.margin;if(!H._size){var A=H._size={l:Math.round(j.l),r:Math.round(j.r),t:Math.round(j.t),b:Math.round(j.b),p:Math.round(j.pad)};A.w=Math.round(H.width)-A.l-A.r,A.h=Math.round(H.height)-A.t-A.b}H._pushmargin||(H._pushmargin={}),H._pushmarginIds||(H._pushmarginIds={}),H._reservedMargin||(H._reservedMargin={})}var G=2,C=2;_.autoMargin=function(H,j,A){var q=H._fullLayout,R=q.width,z=q.height,M=q.margin,S=q.minreducedwidth,Z=q.minreducedheight,Y=e.constrain(R-M.l-M.r,G,S),rt=e.constrain(z-M.t-M.b,C,Z),st=Math.max(0,R-Y),ut=Math.max(0,z-rt),_t=q._pushmargin,At=q._pushmarginIds;if(M.autoexpand!==!1){if(!A)delete _t[j],delete At[j];else{var Rt=A.pad;if(Rt===void 0&&(Rt=Math.min(12,M.l,M.r,M.t,M.b)),st){var Xt=(A.l+A.r)/st;Xt>1&&(A.l/=Xt,A.r/=Xt)}if(ut){var Bt=(A.t+A.b)/ut;Bt>1&&(A.t/=Bt,A.b/=Bt)}var Ht=A.xl!==void 0?A.xl:A.x,pt=A.xr!==void 0?A.xr:A.x,bt=A.yt!==void 0?A.yt:A.y,ot=A.yb!==void 0?A.yb:A.y;_t[j]={l:{val:Ht,size:A.l+Rt},r:{val:pt,size:A.r+Rt},b:{val:ot,size:A.b+Rt},t:{val:bt,size:A.t+Rt}},At[j]=1}if(!q._replotting)return _.doAutoMargin(H)}};function W(H){if("_redrawFromAutoMarginCount"in H._fullLayout)return!1;var j=h.list(H,"",!0);for(var A in j)if(j[A].autoshift||j[A].shift)return!0;return!1}_.doAutoMargin=function(H){var j=H._fullLayout,A=j.width,q=j.height;j._size||(j._size={}),U(j);var R=j._size,z=j.margin,M={t:0,b:0,l:0,r:0},S=e.extendFlat({},R),Z=z.l,Y=z.r,rt=z.t,st=z.b,ut=j._pushmargin,_t=j._pushmarginIds,At=j.minreducedwidth,Rt=j.minreducedheight;if(z.autoexpand!==!1){for(var Xt in ut)_t[Xt]||delete ut[Xt];var Bt=H._fullLayout._reservedMargin;for(var Ht in Bt)for(var pt in Bt[Ht]){var bt=Bt[Ht][pt];M[pt]=Math.max(M[pt],bt)}ut.base={l:{val:0,size:Z},r:{val:1,size:Y},t:{val:1,size:rt},b:{val:0,size:st}};for(var ot in M){var Lt=0;for(var Nt in ut)Nt!=="base"&&r(ut[Nt][ot].size)&&(Lt=ut[Nt][ot].size>Lt?ut[Nt][ot].size:Lt);var Vt=Math.max(0,z[ot]-Lt);M[ot]=Math.max(0,M[ot]-Vt)}for(var ae in ut){var Jt=ut[ae].l||{},re=ut[ae].b||{},oe=Jt.val,le=Jt.size,ve=re.val,Wt=re.size,ge=A-M.r-M.l,Te=q-M.t-M.b;for(var ce in ut){if(r(le)&&ut[ce].r){var we=ut[ce].r.val,yt=ut[ce].r.size;if(we>oe){var kt=(le*we+(yt-ge)*oe)/(we-oe),Tt=(yt*(1-oe)+(le-ge)*(1-we))/(we-oe);kt+Tt>Z+Y&&(Z=kt,Y=Tt)}}if(r(Wt)&&ut[ce].t){var K=ut[ce].t.val,ft=ut[ce].t.size;if(K>ve){var mt=(Wt*K+(ft-Te)*ve)/(K-ve),gt=(ft*(1-ve)+(Wt-Te)*(1-K))/(K-ve);mt+gt>st+rt&&(st=mt,rt=gt)}}}}}var It=e.constrain(A-z.l-z.r,G,At),Mt=e.constrain(q-z.t-z.b,C,Rt),qt=Math.max(0,A-It),$t=Math.max(0,q-Mt);if(qt){var ie=(Z+Y)/qt;ie>1&&(Z/=ie,Y/=ie)}if($t){var zt=(st+rt)/$t;zt>1&&(st/=zt,rt/=zt)}if(R.l=Math.round(Z)+M.l,R.r=Math.round(Y)+M.r,R.t=Math.round(rt)+M.t,R.b=Math.round(st)+M.b,R.p=Math.round(z.pad),R.w=Math.round(A)-R.l-R.r,R.h=Math.round(q)-R.t-R.b,!j._replotting&&(_.didMarginChange(S,R)||W(H))){"_redrawFromAutoMarginCount"in j?j._redrawFromAutoMarginCount++:j._redrawFromAutoMarginCount=1;var ee=3*(1+Object.keys(_t).length);if(j._redrawFromAutoMarginCount<ee)return o.call("_doPlot",H);j._size=S,e.warn("Too many auto-margin redraws.")}J(H)};function J(H){var j=h.list(H,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(A){for(var q=0;q<j.length;q++){var R=j[q][A];R&&R()}})}var at=["l","r","t","b","p","w","h"];_.didMarginChange=function(H,j){for(var A=0;A<at.length;A++){var q=at[A],R=H[q],z=j[q];if(!r(R)||Math.abs(z-R)>1)return!0}return!1},_.graphJson=function(H,j,A,q,R,z){(R&&j&&!H._fullData||R&&!j&&!H._fullLayout)&&_.supplyDefaults(H);var M=R?H._fullData:H.data,S=R?H._fullLayout:H.layout,Z=(H._transitionData||{})._frames;function Y(ut,_t){if(typeof ut=="function")return _t?"_function_":null;if(e.isPlainObject(ut)){var At={},Rt;return Object.keys(ut).sort().forEach(function(pt){if(["_","["].indexOf(pt.charAt(0))===-1){if(typeof ut[pt]=="function"){_t&&(At[pt]="_function");return}if(A==="keepdata"){if(pt.substr(pt.length-3)==="src")return}else if(A==="keepstream"){if(Rt=ut[pt+"src"],typeof Rt=="string"&&Rt.indexOf(":")>0&&!e.isPlainObject(ut.stream))return}else if(A!=="keepall"&&(Rt=ut[pt+"src"],typeof Rt=="string"&&Rt.indexOf(":")>0))return;At[pt]=Y(ut[pt],_t)}}),At}var Xt=Array.isArray(ut),Bt=e.isTypedArray(ut);if((Xt||Bt)&&ut.dtype&&ut.shape){var Ht=ut.bdata;return Y({dtype:ut.dtype,shape:ut.shape,bdata:e.isArrayBuffer(Ht)?l.encode(Ht):Ht},_t)}return Xt?ut.map(function(pt){return Y(pt,_t)}):Bt?e.simpleMap(ut,e.identity):e.isJSDate(ut)?e.ms2DateTimeLocal(+ut):ut}var rt={data:(M||[]).map(function(ut){var _t=Y(ut);return j&&delete _t.fit,_t})};if(!j&&(rt.layout=Y(S),R)){var st=S._size;rt.layout.computed={margin:{b:st.b,l:st.l,r:st.r,t:st.t}}}return Z&&(rt.frames=Y(Z)),z&&(rt.config=Y(H._context,!0)),q==="object"?rt:JSON.stringify(rt)},_.modifyFrames=function(H,j){var A,q,R,z=H._transitionData._frames,M=H._transitionData._frameHash;for(A=0;A<j.length;A++)switch(q=j[A],q.type){case"replace":R=q.value;var S=(z[q.index]||{}).name,Z=R.name;z[q.index]=M[Z]=R,Z!==S&&(delete M[S],M[Z]=R);break;case"insert":R=q.value,M[R.name]=R,z.splice(q.index,0,R);break;case"delete":R=z[q.index],delete M[R.name],z.splice(q.index,1);break}return Promise.resolve()},_.computeFrame=function(H,j){var A=H._transitionData._frameHash,q,R,z,M;if(!j)throw new Error("computeFrame must be given a string frame name");var S=A[j.toString()];if(!S)return!1;for(var Z=[S],Y=[S.name];S.baseframe&&(S=A[S.baseframe.toString()])&&Y.indexOf(S.name)===-1;)Z.push(S),Y.push(S.name);for(var rt={};S=Z.pop();)if(S.layout&&(rt.layout=_.extendLayout(rt.layout,S.layout)),S.data){if(rt.data||(rt.data=[]),R=S.traces,!R)for(R=[],q=0;q<S.data.length;q++)R[q]=q;for(rt.traces||(rt.traces=[]),q=0;q<S.data.length;q++)z=R[q],z!=null&&(M=rt.traces.indexOf(z),M===-1&&(M=rt.data.length,rt.traces[M]=z),rt.data[M]=_.extendTrace(rt.data[M],S.data[q]))}return rt},_.recomputeFrameHash=function(H){for(var j=H._transitionData._frameHash={},A=H._transitionData._frames,q=0;q<A.length;q++){var R=A[q];R&&R.name&&(j[R.name]=R)}},_.extendObjectWithContainers=function(H,j,A){var q,R,z,M,S,Z,Y,rt,st=e.extendDeepNoArrays({},j||{}),ut=e.expandObjectPaths(st),_t={};if(A&&A.length)for(z=0;z<A.length;z++)q=e.nestedProperty(ut,A[z]),R=q.get(),R===void 0?e.nestedProperty(_t,A[z]).set(null):(q.set(null),e.nestedProperty(_t,A[z]).set(R));if(H=e.extendDeepNoArrays(H||{},ut),A&&A.length){for(z=0;z<A.length;z++)if(S=e.nestedProperty(_t,A[z]),Y=S.get(),!!Y){for(Z=e.nestedProperty(H,A[z]),rt=Z.get(),Array.isArray(rt)||(rt=[],Z.set(rt)),M=0;M<Y.length;M++){var At=Y[M];At===null?rt[M]=null:rt[M]=_.extendObjectWithContainers(rt[M],At)}Z.set(rt)}}return H},_.dataArrayContainers=["transforms","dimensions"],_.layoutArrayContainers=o.layoutArrayContainers,_.extendTrace=function(H,j){return _.extendObjectWithContainers(H,j,_.dataArrayContainers)},_.extendLayout=function(H,j){return _.extendObjectWithContainers(H,j,_.layoutArrayContainers)},_.transition=function(H,j,A,q,R,z){var M={redraw:R.redraw},S={},Z=[];return M.prepareFn=function(){for(var Y=Array.isArray(j)?j.length:0,rt=q.slice(0,Y),st=0;st<rt.length;st++){var ut=rt[st],_t=H._fullData[ut],At=_t._module;if(At){if(At.animatable){var Rt=At.basePlotModule.name;S[Rt]||(S[Rt]=[]),S[Rt].push(ut)}H.data[rt[st]]=_.extendTrace(H.data[rt[st]],j[st])}}var Xt=e.expandObjectPaths(e.extendDeepNoArrays({},A)),Bt=/^[xy]axis[0-9]*$/;for(var Ht in Xt)Bt.test(Ht)&&delete Xt[Ht].range;_.extendLayout(H.layout,Xt),delete H.calcdata,_.supplyDefaults(H),_.doCalcdata(H);var pt=e.expandObjectPaths(A);if(pt){var bt=H._fullLayout._plots;for(var ot in bt){var Lt=bt[ot],Nt=Lt.xaxis,Vt=Lt.yaxis,ae=Nt.range.slice(),Jt=Vt.range.slice(),re=null,oe=null,le=null,ve=null;Array.isArray(pt[Nt._name+".range"])?re=pt[Nt._name+".range"].slice():Array.isArray((pt[Nt._name]||{}).range)&&(re=pt[Nt._name].range.slice()),Array.isArray(pt[Vt._name+".range"])?oe=pt[Vt._name+".range"].slice():Array.isArray((pt[Vt._name]||{}).range)&&(oe=pt[Vt._name].range.slice()),ae&&re&&(Nt.r2l(ae[0])!==Nt.r2l(re[0])||Nt.r2l(ae[1])!==Nt.r2l(re[1]))&&(le={xr0:ae,xr1:re}),Jt&&oe&&(Vt.r2l(Jt[0])!==Vt.r2l(oe[0])||Vt.r2l(Jt[1])!==Vt.r2l(oe[1]))&&(ve={yr0:Jt,yr1:oe}),(le||ve)&&Z.push(e.extendFlat({plotinfo:Lt},le,ve))}}return Promise.resolve()},M.runFn=function(Y){var rt,st=H._fullLayout._basePlotModules,ut=Z.length,_t;if(A)for(_t=0;_t<st.length;_t++)st[_t].transitionAxes&&st[_t].transitionAxes(H,Z,z,Y);ut?(rt=e.extendFlat({},z),rt.duration=0,delete S.cartesian):rt=z;for(var At in S){var Rt=S[At],Xt=H._fullData[Rt[0]]._module;Xt.basePlotModule.plot(H,Rt,rt,Y)}},et(H,z,M)},_.transitionFromReact=function(H,j,A,q){var R=H._fullLayout,z=R.transition,M={},S=[];return M.prepareFn=function(){var Z=R._plots;M.redraw=!1,j.anim==="some"&&(M.redraw=!0),A.anim==="some"&&(M.redraw=!0);for(var Y in Z){var rt=Z[Y],st=rt.xaxis,ut=rt.yaxis,_t=q[st._name].range.slice(),At=q[ut._name].range.slice(),Rt=st.range.slice(),Xt=ut.range.slice();st.setScale(),ut.setScale();var Bt=null,Ht=null;(st.r2l(_t[0])!==st.r2l(Rt[0])||st.r2l(_t[1])!==st.r2l(Rt[1]))&&(Bt={xr0:_t,xr1:Rt}),(ut.r2l(At[0])!==ut.r2l(Xt[0])||ut.r2l(At[1])!==ut.r2l(Xt[1]))&&(Ht={yr0:At,yr1:Xt}),(Bt||Ht)&&S.push(e.extendFlat({plotinfo:rt},Bt,Ht))}return Promise.resolve()},M.runFn=function(Z){for(var Y=H._fullData,rt=H._fullLayout,st=rt._basePlotModules,ut,_t,At,Rt=[],Xt=0;Xt<Y.length;Xt++)Rt.push(Xt);function Bt(){if(H._fullLayout)for(var pt=0;pt<st.length;pt++)st[pt].transitionAxes&&st[pt].transitionAxes(H,S,ut,Z)}function Ht(){if(H._fullLayout)for(var pt=0;pt<st.length;pt++)st[pt].plot(H,At,_t,Z)}S.length&&j.anim?z.ordering==="traces first"?(ut=e.extendFlat({},z,{duration:0}),At=Rt,_t=z,setTimeout(Bt,z.duration),Ht()):(ut=z,At=null,_t=e.extendFlat({},z,{duration:0}),setTimeout(Ht,ut.duration),Bt()):S.length?(ut=z,Bt()):j.anim&&(At=Rt,_t=z,Ht())},et(H,z,M)};function et(H,j,A){var q=!1;function R(st){var ut=Promise.resolve();if(!st)return ut;for(;st.length;)ut=ut.then(st.shift());return ut}function z(st){if(st)for(;st.length;)st.shift()}function M(){return H.emit("plotly_transitioning",[]),new Promise(function(st){H._transitioning=!0,j.duration>0&&(H._transitioningWithDuration=!0),H._transitionData._interruptCallbacks.push(function(){q=!0}),A.redraw&&H._transitionData._interruptCallbacks.push(function(){return o.call("redraw",H)}),H._transitionData._interruptCallbacks.push(function(){H.emit("plotly_transitioninterrupted",[])});var ut=0,_t=0;function At(){return ut++,function(){_t++,!q&&_t===ut&&S(st)}}A.runFn(At),setTimeout(At())})}function S(st){if(H._transitionData)return z(H._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(A.redraw)return o.call("redraw",H)}).then(function(){H._transitioning=!1,H._transitioningWithDuration=!1,H.emit("plotly_transitioned",[])}).then(st)}function Z(){if(H._transitionData)return H._transitioning=!1,R(H._transitionData._interruptCallbacks)}var Y=[_.previousPromises,Z,A.prepareFn,_.rehover,_.reselect,M],rt=e.syncOrAsync(Y,H);return(!rt||!rt.then)&&(rt=Promise.resolve()),rt.then(function(){return H})}_.doCalcdata=function(H,j){var A=h.list(H),q=H._fullData,R=H._fullLayout,z,M,S,Z,Y=new Array(q.length),rt=(H.calcdata||[]).slice();for(H.calcdata=Y,R._numBoxes=0,R._numViolins=0,R._violinScaleGroupStats={},H._hmpixcount=0,H._hmlumcount=0,R._piecolormap={},R._sunburstcolormap={},R._treemapcolormap={},R._iciclecolormap={},R._funnelareacolormap={},S=0;S<q.length;S++)if(Array.isArray(j)&&j.indexOf(S)===-1){Y[S]=rt[S];continue}for(S=0;S<q.length;S++)z=q[S],z._arrayAttrs=s.findArrayAttributes(z),z._extremes={};var st=R._subplots.polar||[];for(S=0;S<st.length;S++)A.push(R[st[S]].radialaxis,R[st[S]].angularaxis);for(var ut in R._colorAxes){var _t=R[ut];_t.cauto!==!1&&(delete _t.cmin,delete _t.cmax)}var At=!1;function Rt(Ht){if(z=q[Ht],M=z._module,z.visible===!0&&z.transforms){if(M&&M.calc){var pt=M.calc(H,z);pt[0]&&pt[0].t&&pt[0].t._scene&&delete pt[0].t._scene.dirty}for(Z=0;Z<z.transforms.length;Z++){var bt=z.transforms[Z];M=transformsRegistry[bt.type],M&&M.calcTransform&&(z._hasCalcTransform=!0,At=!0,M.calcTransform(H,z,bt))}}}function Xt(Ht,pt){if(z=q[Ht],M=z._module,!!M.isContainer===pt){var bt=[];if(z.visible===!0&&z._length!==0){delete z._indexToPoints;var ot=z.transforms||[];for(Z=ot.length-1;Z>=0;Z--)if(ot[Z].enabled){z._indexToPoints=ot[Z]._indexToPoints;break}M&&M.calc&&(bt=M.calc(H,z))}(!Array.isArray(bt)||!bt[0])&&(bt=[{x:u,y:u}]),bt[0].t||(bt[0].t={}),bt[0].trace=z,Y[Ht]=bt}}for(ht(A,q,R),S=0;S<q.length;S++)Xt(S,!0);for(S=0;S<q.length;S++)Rt(S);for(At&&ht(A,q,R),S=0;S<q.length;S++)Xt(S,!0);for(S=0;S<q.length;S++)Xt(S,!1);xt(H);var Bt=dt(A,H);if(Bt.length){for(R._numBoxes=0,R._numViolins=0,S=0;S<Bt.length;S++)Xt(Bt[S],!0);for(S=0;S<Bt.length;S++)Xt(Bt[S],!1);xt(H)}o.getComponentMethod("fx","calc")(H),o.getComponentMethod("errorbars","calc")(H)};var it=/(total|sum|min|max|mean|geometric mean|median) (ascending|descending)/;function dt(H,j){var A=[],q,R,z,M,S;function Z(ce,we,yt){var kt=we._id.charAt(0);if(ce==="histogram2dcontour"){var Tt=we._counterAxes[0],K=h.getFromId(j,Tt),ft=kt==="x"||Tt==="x"&&K.type==="category",mt=kt==="y"||Tt==="y"&&K.type==="category";return function(gt,It){return gt===0||It===0||ft&&gt===yt[It].length-1||mt&&It===yt.length-1?-1:(kt==="y"?It:gt)-1}}else return function(gt,It){return kt==="y"?It:gt}}var Y={min:function(ce){return e.aggNums(Math.min,null,ce)},max:function(ce){return e.aggNums(Math.max,null,ce)},sum:function(ce){return e.aggNums(function(we,yt){return we+yt},null,ce)},total:function(ce){return e.aggNums(function(we,yt){return we+yt},null,ce)},mean:function(ce){return e.mean(ce)},"geometric mean":function(ce){return e.geometricMean(ce)},median:function(ce){return e.median(ce)}};function rt(ce,we){return ce[1]-we[1]}function st(ce,we){return we[1]-ce[1]}for(q=0;q<H.length;q++){var ut=H[q];if(ut.type==="category"){var _t=ut.categoryorder.match(it);if(_t){var At=_t[1],Rt=_t[2],Xt=ut._id.charAt(0),Bt=Xt==="x",Ht=[];for(R=0;R<ut._categories.length;R++)Ht.push([ut._categories[R],[]]);for(R=0;R<ut._traceIndices.length;R++){var pt=ut._traceIndices[R],bt=j._fullData[pt];if(bt.visible===!0){var ot=bt.type;o.traceIs(bt,"histogram")&&(delete bt._xautoBinFinished,delete bt._yautoBinFinished);var Lt=ot==="splom",Nt=ot==="scattergl",Vt=j.calcdata[pt];for(z=0;z<Vt.length;z++){var ae=Vt[z],Jt,re;if(Lt){var oe=bt._axesDim[ut._id];if(!Bt){var le=bt._diag[oe][0];le&&(ut=j._fullLayout[h.id2name(le)])}var ve=ae.trace.dimensions[oe].values;for(M=0;M<ve.length;M++)for(Jt=ut._categoriesMap[ve[M]],S=0;S<ae.trace.dimensions.length;S++)if(S!==oe){var Wt=ae.trace.dimensions[S];Ht[Jt][1].push(Wt.values[M])}}else if(Nt){for(M=0;M<ae.t.x.length;M++)Bt?(Jt=ae.t.x[M],re=ae.t.y[M]):(Jt=ae.t.y[M],re=ae.t.x[M]),Ht[Jt][1].push(re);ae.t&&ae.t._scene&&delete ae.t._scene.dirty}else if(ae.hasOwnProperty("z")){re=ae.z;var ge=Z(bt.type,ut,re);for(M=0;M<re.length;M++)for(S=0;S<re[M].length;S++)Jt=ge(S,M),Jt+1&&Ht[Jt][1].push(re[M][S])}else for(Jt=ae.p,Jt===void 0&&(Jt=ae[Xt]),re=ae.s,re===void 0&&(re=ae.v),re===void 0&&(re=Bt?ae.y:ae.x),Array.isArray(re)||(re===void 0?re=[]:re=[re]),M=0;M<re.length;M++)Ht[Jt][1].push(re[M])}}}ut._categoriesValue=Ht;var Te=[];for(R=0;R<Ht.length;R++)Te.push([Ht[R][0],Y[At](Ht[R][1])]);Te.sort(Rt==="descending"?st:rt),ut._categoriesAggregatedValue=Te,ut._initialCategories=Te.map(function(ce){return ce[0]}),A=A.concat(ut.sortByInitialCategories())}}}return A}function ht(H,j,A){var q={};function R(Z){Z.clearCalc(),Z.type==="multicategory"&&Z.setupMultiCategory(j),q[Z._id]=1}e.simpleMap(H,R);for(var z=A._axisMatchGroups||[],M=0;M<z.length;M++)for(var S in z[M])q[S]||R(A[h.id2name(S)])}function xt(H){var j=H._fullLayout,A=j._visibleModules,q={},R,z,M;for(z=0;z<A.length;z++){var S=A[z],Z=S.crossTraceCalc;if(Z){var Y=S.basePlotModule.name;q[Y]?e.pushUnique(q[Y],Z):q[Y]=[Z]}}for(M in q){var rt=q[M],st=j._subplots[M];if(Array.isArray(st))for(R=0;R<st.length;R++){var ut=st[R],_t=M==="cartesian"?j._plots[ut]:j[ut];for(z=0;z<rt.length;z++)rt[z](H,_t,ut)}else for(z=0;z<rt.length;z++)rt[z](H)}}_.rehover=function(H){H._fullLayout._rehover&&H._fullLayout._rehover()},_.redrag=function(H){H._fullLayout._redrag&&H._fullLayout._redrag()},_.reselect=function(H){var j=H._fullLayout,A=(H.layout||{}).selections,q=j._previousSelections;j._previousSelections=A;var R=j._reselect||JSON.stringify(A)!==JSON.stringify(q);o.getComponentMethod("selections","reselect")(H,R)},_.generalUpdatePerTraceModule=function(H,j,A,q){var R=j.traceHash,z={},M;for(M=0;M<A.length;M++){var S=A[M],Z=S[0].trace;Z.visible&&(z[Z.type]=z[Z.type]||[],z[Z.type].push(S))}for(var Y in R)if(!z[Y]){var rt=R[Y][0],st=rt[0].trace;st.visible=!1,z[Y]=[rt]}for(var ut in z){var _t=z[ut],At=_t[0][0].trace._module;At.plot(H,j,e.filterVisible(_t),q)}j.traceHash=z},_.plotBasePlot=function(H,j,A,q,R){var z=o.getModule(H),M=v(j.calcdata,z)[0];z.plot(j,M,q,R)},_.cleanBasePlot=function(H,j,A,q,R){var z=R._has&&R._has(H),M=A._has&&A._has(H);z&&!M&&R["_"+H+"layer"].selectAll("g.trace").remove()}}),Mr=Dt(F=>{F.xmlns="http://www.w3.org/2000/xmlns/",F.svg="http://www.w3.org/2000/svg",F.xlink="http://www.w3.org/1999/xlink",F.svgAttrs={xmlns:F.svg,"xmlns:xlink":F.xlink}}),Ta=Dt((F,D)=>{D.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}}),ma=Dt(F=>{var D=_n(),i=Ce(),t=i.strTranslate,n=Mr(),r=Ta().LINE_SPACING,l=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;F.convertToTspans=function(C,W,J){var at=C.text(),et=!C.attr("data-notex")&&W&&W._context.typesetMath&&typeof MathJax<"u"&&at.match(l),it=D.select(C.node().parentNode);if(it.empty())return;var dt=C.attr("class")?C.attr("class").split(" ")[0]:"text";dt+="-math",it.selectAll("svg."+dt).remove(),it.selectAll("g."+dt+"-group").remove(),C.style("display",null).attr({"data-unformatted":at,"data-math":"N"});function ht(){it.empty()||(dt=C.attr("class")+"-math",it.select("svg."+dt).remove()),C.text("").style("white-space","pre");var xt=N(C.node(),at);xt&&C.style("pointer-events","all"),F.positionText(C),J&&J.call(C)}return et?(W&&W._promises||[]).push(new Promise(function(xt){C.style("display","none");var H=parseInt(C.node().style.fontSize,10),j={fontSize:H};p(et[2],j,function(A,q,R){it.selectAll("svg."+dt).remove(),it.selectAll("g."+dt+"-group").remove();var z=A&&A.select("svg");if(!z||!z.node()){ht(),xt();return}var M=it.append("g").classed(dt+"-group",!0).attr({"pointer-events":"none","data-unformatted":at,"data-math":"Y"});M.node().appendChild(z.node()),q&&q.node()&&z.node().insertBefore(q.node().cloneNode(!0),z.node().firstChild);var S=R.width,Z=R.height;z.attr({class:dt,height:Z,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var Y=C.node().style.fill||"black",rt=z.select("g");rt.attr({fill:Y,stroke:Y});var st=rt.node().getBoundingClientRect(),ut=st.width,_t=st.height;(ut>S||_t>Z)&&(z.style("overflow","hidden"),st=z.node().getBoundingClientRect(),ut=st.width,_t=st.height);var At=+C.attr("x"),Rt=+C.attr("y"),Xt=H||C.node().getBoundingClientRect().height,Bt=-Xt/4;if(dt[0]==="y")M.attr({transform:"rotate("+[-90,At,Rt]+")"+t(-ut/2,Bt-_t/2)});else if(dt[0]==="l")Rt=Bt-_t/2;else if(dt[0]==="a"&&dt.indexOf("atitle")!==0)At=0,Rt=Bt;else{var Ht=C.attr("text-anchor");At=At-ut*(Ht==="middle"?.5:Ht==="end"?1:0),Rt=Rt+Bt-_t/2}z.attr({x:At,y:Rt}),J&&J.call(C,M),xt(M)})})):ht(),C};var o=/(<|&lt;|&#60;)/g,s=/(>|&gt;|&#62;)/g;function f(C){return C.replace(o,"\\lt ").replace(s,"\\gt ")}var e=[["$","$"],["\\(","\\)"]];function p(C,W,J){var at=parseInt((MathJax.version||"").split(".")[0]);if(at!==2&&at!==3){i.warn("No MathJax version:",MathJax.version);return}var et,it,dt,ht,xt=function(){return it=i.extendDeepAll({},MathJax.Hub.config),dt=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:e},displayAlign:"left"})},H=function(){it=i.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=e},j=function(){if(et=MathJax.Hub.config.menuSettings.renderer,et!=="SVG")return MathJax.Hub.setRenderer("SVG")},A=function(){et=MathJax.config.startup.output,et!=="svg"&&(MathJax.config.startup.output="svg")},q=function(){var Y="math-output-"+i.randstr({},64);ht=D.select("body").append("div").attr({id:Y}).style({visibility:"hidden",position:"absolute","font-size":W.fontSize+"px"}).text(f(C));var rt=ht.node();return at===2?MathJax.Hub.Typeset(rt):MathJax.typeset([rt])},R=function(){var Y=ht.select(at===2?".MathJax_SVG":".MathJax"),rt=!Y.empty()&&ht.select("svg").node();if(!rt)i.log("There was an error in the tex syntax.",C),J();else{var st=rt.getBoundingClientRect(),ut;at===2?ut=D.select("body").select("#MathJax_SVG_glyphs"):ut=Y.select("defs"),J(Y,ut,st)}ht.remove()},z=function(){if(et!=="SVG")return MathJax.Hub.setRenderer(et)},M=function(){et!=="svg"&&(MathJax.config.startup.output=et)},S=function(){return dt!==void 0&&(MathJax.Hub.processSectionDelay=dt),MathJax.Hub.Config(it)},Z=function(){MathJax.config=it};at===2?MathJax.Hub.Queue(xt,j,q,R,z,S):at===3&&(H(),A(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){q(),R(),M(),Z()}))}var u={sup:"font-size:70%",sub:"font-size:70%",s:"text-decoration:line-through",u:"text-decoration:underline",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},h={sub:"0.3em",sup:"-0.6em"},b={sub:"-0.21em",sup:"0.42em"},m="",g=["http:","https:","mailto:","",void 0,":"],y=F.NEWLINES=/(\r\n?|\n)/g,v=/(<[^<>]*>)/,c=/<(\/?)([^ >]*)(\s+(.*))?>/i,d=/<br(\s+.*)?>/i;F.BR_TAG_ALL=/<br(\s+.*)?>/gi;var _=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,w=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,k=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,$=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function P(C,W){if(!C)return null;var J=C.match(W),at=J&&(J[3]||J[4]);return at&&I(at)}var O=/(^|;)\s*color:/;F.plainText=function(C,W){W=W||{};for(var J=W.len!==void 0&&W.len!==-1?W.len:1/0,at=W.allowedTags!==void 0?W.allowedTags:["br"],et="...",it=et.length,dt=C.split(v),ht=[],xt="",H=0,j=0;j<dt.length;j++){var A=dt[j],q=A.match(c),R=q&&q[2].toLowerCase();if(R)at.indexOf(R)!==-1&&(ht.push(A),xt=R);else{var z=A.length;if(H+z<J)ht.push(A),H+=z;else if(H<J){var M=J-H;xt&&(xt!=="br"||M<=it||z<=it)&&ht.pop(),J>it?ht.push(A.substr(0,M-it)+et):ht.push(A.substr(0,M));break}xt=""}}return ht.join("")};var T={mu:"",amp:"&",lt:"<",gt:">",nbsp:"",times:"",plusmn:"",deg:""},X=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function I(C){return C.replace(X,function(W,J){var at;return J.charAt(0)==="#"?at=E(J.charAt(1)==="x"?parseInt(J.substr(2),16):parseInt(J.substr(1),10)):at=T[J],at||W})}F.convertEntities=I;function E(C){if(!(C>1114111)){var W=String.fromCodePoint;if(W)return W(C);var J=String.fromCharCode;return C<=65535?J(C):J((C>>10)+55232,C%1024+56320)}}function N(C,W){W=W.replace(y," ");var J=!1,at=[],et,it=-1;function dt(){it++;var _t=document.createElementNS(n.svg,"tspan");D.select(_t).attr({class:"line",dy:it*r+"em"}),C.appendChild(_t),et=_t;var At=at;if(at=[{node:_t}],At.length>1)for(var Rt=1;Rt<At.length;Rt++)ht(At[Rt])}function ht(_t){var At=_t.type,Rt={},Xt;if(At==="a"){Xt="a";var Bt=_t.target,Ht=_t.href,pt=_t.popup;Ht&&(Rt={"xlink:xlink:show":Bt==="_blank"||Bt.charAt(0)!=="_"?"new":"replace",target:Bt,"xlink:xlink:href":Ht},pt&&(Rt.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+pt+'");return false;'))}else Xt="tspan";_t.style&&(Rt.style=_t.style);var bt=document.createElementNS(n.svg,Xt);if(At==="sup"||At==="sub"){xt(et,m),et.appendChild(bt);var ot=document.createElementNS(n.svg,"tspan");xt(ot,m),D.select(ot).attr("dy",b[At]),Rt.dy=h[At],et.appendChild(bt),et.appendChild(ot)}else et.appendChild(bt);D.select(bt).attr(Rt),et=_t.node=bt,at.push(_t)}function xt(_t,At){_t.appendChild(document.createTextNode(At))}function H(_t){if(at.length===1){i.log("Ignoring unexpected end tag </"+_t+">.",W);return}var At=at.pop();_t!==At.type&&i.log("Start tag <"+At.type+"> doesnt match end tag <"+_t+">. Pretending it did match.",W),et=at[at.length-1].node}var j=d.test(W);j?dt():(et=C,at=[{node:C}]);for(var A=W.split(v),q=0;q<A.length;q++){var R=A[q],z=R.match(c),M=z&&z[2].toLowerCase(),S=u[M];if(M==="br")dt();else if(S===void 0)xt(et,I(R));else if(z[1])H(M);else{var Z=z[4],Y={type:M},rt=P(Z,_);if(rt?(rt=rt.replace(O,"$1 fill:"),S&&(rt+=";"+S)):S&&(rt=S),rt&&(Y.style=rt),M==="a"){J=!0;var st=P(Z,w);if(st){var ut=V(st);ut&&(Y.href=ut,Y.target=P(Z,k)||"_blank",Y.popup=P(Z,$))}}ht(Y)}}return J}function V(C){var W=encodeURI(decodeURI(C)),J=document.createElement("a"),at=document.createElement("a");J.href=C,at.href=W;var et=J.protocol,it=at.protocol;return g.indexOf(et)!==-1&&g.indexOf(it)!==-1?W:""}F.sanitizeHTML=function(C){C=C.replace(y," ");for(var W=document.createElement("p"),J=W,at=[],et=C.split(v),it=0;it<et.length;it++){var dt=et[it],ht=dt.match(c),xt=ht&&ht[2].toLowerCase();if(xt in u)if(ht[1])at.length&&(J=at.pop());else{var H=ht[4],j=P(H,_),A=j?{style:j}:{};if(xt==="a"){var q=P(H,w);if(q){var R=V(q);if(R){A.href=R;var z=P(H,k);z&&(A.target=z)}}}var M=document.createElement(xt);J.appendChild(M),D.select(M).attr(A),J=M,at.push(M)}else J.appendChild(document.createTextNode(I(dt)))}var S="innerHTML";return W[S]},F.lineCount=function(C){return C.selectAll("tspan.line").size()||1},F.positionText=function(C,W,J){return C.each(function(){var at=D.select(this);function et(ht,xt){return xt===void 0?(xt=at.attr(ht),xt===null&&(at.attr(ht,0),xt=0)):at.attr(ht,xt),xt}var it=et("x",W),dt=et("y",J);this.nodeName==="text"&&at.selectAll("tspan.line").attr({x:it,y:dt})})};function U(C,W,J){var at=J.horizontalAlign,et=J.verticalAlign||"top",it=C.node().getBoundingClientRect(),dt=W.node().getBoundingClientRect(),ht,xt,H;return et==="bottom"?xt=function(){return it.bottom-ht.height}:et==="middle"?xt=function(){return it.top+(it.height-ht.height)/2}:xt=function(){return it.top},at==="right"?H=function(){return it.right-ht.width}:at==="center"?H=function(){return it.left+(it.width-ht.width)/2}:H=function(){return it.left},function(){ht=this.node().getBoundingClientRect();var j=H()-dt.left,A=xt()-dt.top,q=J.gd||{};if(J.gd){q._fullLayout._calcInverseTransform(q);var R=i.apply3DTransform(q._fullLayout._invTransform)(j,A);j=R[0],A=R[1]}return this.style({top:A+"px",left:j+"px","z-index":1e3}),this}}var G="1px ";F.makeTextShadow=function(C){var W=G,J=G,at=G;return W+J+at+C+", -"+W+"-"+J+at+C+", "+W+"-"+J+at+C+", -"+W+J+at+C},F.makeEditable=function(C,W){var J=W.gd,at=W.delegate,et=D.dispatch("edit","input","cancel"),it=at||C;if(C.style({"pointer-events":at?"none":"all"}),C.size()!==1)throw new Error("boo");function dt(){xt(),C.style({opacity:0});var H=it.attr("class"),j;H?j="."+H.split(" ")[0]+"-math-group":j="[class*=-math-group]",j&&D.select(C.node().parentNode).select(j).style({opacity:0})}function ht(H){var j=H.node(),A=document.createRange();A.selectNodeContents(j);var q=window.getSelection();q.removeAllRanges(),q.addRange(A),j.focus()}function xt(){var H=D.select(J),j=H.select(".svg-container"),A=j.append("div"),q=C.node().style,R=parseFloat(q.fontSize||12),z=W.text;z===void 0&&(z=C.attr("data-unformatted")),A.classed("plugin-editable editable",!0).style({position:"absolute","font-family":q.fontFamily||"Arial","font-size":R,color:W.fill||q.fill||"black",opacity:1,"background-color":W.background||"transparent",outline:"#ffffff33 1px solid",margin:[-R/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(z).call(U(C,j,W)).on("blur",function(){J._editing=!1,C.text(this.textContent).style({opacity:1});var M=D.select(this).attr("class"),S;M?S="."+M.split(" ")[0]+"-math-group":S="[class*=-math-group]",S&&D.select(C.node().parentNode).select(S).style({opacity:0});var Z=this.textContent;D.select(this).transition().duration(0).remove(),D.select(document).on("mouseup",null),et.edit.call(C,Z)}).on("focus",function(){var M=this;J._editing=!0,D.select(document).on("mouseup",function(){if(D.event.target===M)return!1;document.activeElement===A.node()&&A.node().blur()})}).on("keyup",function(){D.event.which===27?(J._editing=!1,C.style({opacity:1}),D.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),et.cancel.call(C,this.textContent)):(et.input.call(C,this.textContent),D.select(this).call(U(C,j,W)))}).on("keydown",function(){D.event.which===13&&this.blur()}).call(ht)}return W.immediate?dt():it.on("click",dt),D.rebind(C,et,"on")}}),Ea=Dt((F,D)=>{var i=_n(),t=Na(),n=wn(),r=Ce(),l=bn(),o=br().isValid;function s(y,v,c){var d=v?r.nestedProperty(y,v).get()||{}:y,_=d[c||"color"];_&&_._inputArray&&(_=_._inputArray);var w=!1;if(r.isArrayOrTypedArray(_)){for(var k=0;k<_.length;k++)if(n(_[k])){w=!0;break}}return r.isPlainObject(d)&&(w||d.showscale===!0||n(d.cmin)&&n(d.cmax)||o(d.colorscale)||r.isPlainObject(d.colorbar))}var f=["showscale","autocolorscale","colorscale","reversescale","colorbar"],e=["min","max","mid","auto"];function p(y){var v=y._colorAx,c=v||y,d={},_,w,k;for(w=0;w<f.length;w++)k=f[w],d[k]=c[k];if(v)for(_="c",w=0;w<e.length;w++)k=e[w],d[k]=c["c"+k];else{var $;for(w=0;w<e.length;w++){if(k=e[w],$="c"+k,$ in c){d[k]=c[$];continue}$="z"+k,$ in c&&(d[k]=c[$])}_=$.charAt(0)}return d._sync=function(P,O){var T=e.indexOf(P)!==-1?_+P:P;c[T]=c["_"+T]=O},d}function u(y){for(var v=p(y),c=v.min,d=v.max,_=v.reversescale?h(v.colorscale):v.colorscale,w=_.length,k=new Array(w),$=new Array(w),P=0;P<w;P++){var O=_[P];k[P]=c+O[0]*(d-c),$[P]=O[1]}return{domain:k,range:$}}function h(y){for(var v=y.length,c=new Array(v),d=v-1,_=0;d>=0;d--,_++){var w=y[d];c[_]=[1-w[0],w[1]]}return c}function b(y,v){v=v||{};for(var c=y.domain,d=y.range,_=d.length,w=new Array(_),k=0;k<_;k++){var $=t(d[k]).toRgb();w[k]=[$.r,$.g,$.b,$.a]}var P=i.scale.linear().domain(c).range(w).clamp(!0),O=v.noNumericCheck,T=v.returnArray,X;return O&&T?X=P:O?X=function(I){return g(P(I))}:T?X=function(I){return n(I)?P(I):t(I).isValid()?I:l.defaultLine}:X=function(I){return n(I)?g(P(I)):t(I).isValid()?I:l.defaultLine},X.domain=P.domain,X.range=function(){return d},X}function m(y,v){return b(u(y),v)}function g(y){var v={r:y[0],g:y[1],b:y[2],a:y[3]};return t(v).toRgbString()}D.exports={hasColorscale:s,extractOpts:p,extractScale:u,flipScale:h,makeColorScaleFunc:b,makeColorScaleFuncFromTrace:m}}),Ii=Dt((F,D)=>{var i=Ho(),t=i.FORMAT_LINK,n=i.DATE_FORMAT_LINK;function r(s,f){return{valType:"string",dflt:"",editType:"none",description:(f?l:o)("hover text",s)+["By default the values are formatted using "+(f?"generic number format":"`"+s+"axis.hoverformat`")+"."].join(" ")}}function l(s,f){return["Sets the "+s+" formatting rule"+(f?"for `"+f+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+t+"."].join(" ")}function o(s,f){return l(s,f)+[" And for dates see: "+n+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}D.exports={axisHoverFormat:r,descriptionOnlyNumbers:l,descriptionWithDates:o}}),Va=Dt((F,D)=>{var i=ha(),t=Ja(),n=$a().dash,r=la().extendFlat,l=jn().templatedArray,o=Ii().descriptionWithDates,s=oa().ONEDAY,f=pa(),e=f.HOUR_PATTERN,p=f.WEEKDAY_PATTERN,u={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},h=r({},u,{values:u.values.slice().concat(["sync"])});function b(O){return{valType:"integer",min:0,dflt:O?5:0,editType:"ticks"}}var m={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},g={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},y={valType:"data_array",editType:"ticks"},v={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function c(O){var T={valType:"number",min:0,editType:"ticks"};return O||(T.dflt=5),T}function d(O){var T={valType:"number",min:0,editType:"ticks"};return O||(T.dflt=1),T}var _={valType:"color",dflt:t.defaultLine,editType:"ticks"},w={valType:"color",dflt:t.lightLine,editType:"ticks"};function k(O){var T={valType:"number",min:0,editType:"ticks"};return O||(T.dflt=1),T}var $=r({},n,{editType:"ticks"}),P={valType:"boolean",editType:"ticks"};D.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:t.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:i({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[f.idRegex.x.toString(),f.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[f.idRegex.x.toString(),f.idRegex.y.toString()],editType:"calc"},rangebreaks:l("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[p,e,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:s},editType:"calc"}),tickmode:h,nticks:b(),tick0:m,dtick:g,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:y,ticktext:{valType:"data_array",editType:"ticks"},ticks:v,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},ticklabelshift:{valType:"integer",dflt:0,editType:"ticks"},ticklabelstandoff:{valType:"integer",dflt:0,editType:"ticks"},ticklabelindex:{valType:"integer",arrayOk:!0,editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:c(),tickwidth:d(),tickcolor:_,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:r({},n,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:i({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:o("tick label")},tickformatstops:l("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:o("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:t.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:P,gridcolor:w,gridwidth:k(),griddash:$,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:t.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:t.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",f.idRegex.x.toString(),f.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",f.idRegex.x.toString(),f.idRegex.y.toString()],editType:"plot"},minor:{tickmode:u,nticks:b("minor"),tick0:m,dtick:g,tickvals:y,ticks:v,ticklen:c("minor"),tickwidth:d("minor"),tickcolor:_,gridcolor:w,gridwidth:k("minor"),griddash:$,showgrid:P,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","geometric mean ascending","geometric mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc"}}),Fi=Dt((F,D)=>{var i=Va(),t=ha(),n=la().extendFlat,r=qa().overrideAll;D.exports=r({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:i.linecolor,outlinewidth:i.linewidth,bordercolor:i.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:i.minor.tickmode,nticks:i.nticks,tick0:i.tick0,dtick:i.dtick,tickvals:i.tickvals,ticktext:i.ticktext,ticks:n({},i.ticks,{dflt:""}),ticklabeloverflow:n({},i.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:i.ticklen,tickwidth:i.tickwidth,tickcolor:i.tickcolor,ticklabelstep:i.ticklabelstep,showticklabels:i.showticklabels,labelalias:i.labelalias,tickfont:t({}),tickangle:i.tickangle,tickformat:i.tickformat,tickformatstops:i.tickformatstops,tickprefix:i.tickprefix,showtickprefix:i.showtickprefix,ticksuffix:i.ticksuffix,showticksuffix:i.showticksuffix,separatethousands:i.separatethousands,exponentformat:i.exponentformat,minexponent:i.minexponent,showexponent:i.showexponent,title:{text:{valType:"string"},font:t({}),side:{valType:"enumerated",values:["right","top","bottom"]}}},"colorbars","from-root")}),Jr=Dt((F,D)=>{var i=Fi(),t=Ir().counter,n=Yo(),r=br().scales;n(r);function l(o){return"`"+o+"`"}D.exports=function(o,s){o=o||"",s=s||{};var f=s.cLetter||"c";"onlyIfNumerical"in s&&s.onlyIfNumerical;var e="noScale"in s?s.noScale:o==="marker.line",p="showScaleDflt"in s?s.showScaleDflt:f==="z",u=typeof s.colorscaleDflt=="string"?r[s.colorscaleDflt]:null,h=s.editTypeOverride||"",b=o?o+".":"",m;"colorAttr"in s?(m=s.colorAttr,s.colorAttr):(m={z:"z",c:"color"}[f],""+l(b+m));var g=f+"auto",y=f+"min",v=f+"max",c=f+"mid",d={};d[y]=d[v]=void 0;var _={};_[g]=!1;var w={};return m==="color"&&(w.color={valType:"color",arrayOk:!0,editType:h||"style"},s.anim&&(w.color.anim=!0)),w[g]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:d},w[y]={valType:"number",dflt:null,editType:h||"plot",impliedEdits:_},w[v]={valType:"number",dflt:null,editType:h||"plot",impliedEdits:_},w[c]={valType:"number",dflt:null,editType:"calc",impliedEdits:d},w.colorscale={valType:"colorscale",editType:"calc",dflt:u,impliedEdits:{autocolorscale:!1}},w.autocolorscale={valType:"boolean",dflt:s.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},w.reversescale={valType:"boolean",dflt:!1,editType:"plot"},e||(w.showscale={valType:"boolean",dflt:p,editType:"calc"},w.colorbar=i),s.noColorAxis||(w.coloraxis={valType:"subplotid",regex:t("coloraxis"),dflt:null,editType:"calc"}),w}}),Wo=Dt((F,D)=>{var i=la().extendFlat,t=Jr(),n=br().scales;D.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:n.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:n.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:n.RdBu,editType:"calc"}},coloraxis:i({_isSubplotObj:!0,editType:"calc"},t("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}}),Jo=Dt((F,D)=>{var i=Ce();D.exports=function(t){return i.isPlainObject(t.colorbar)}}),qo=Dt(F=>{var D=wn(),i=Ce(),t=oa(),n=t.ONEDAY,r=t.ONEWEEK;F.dtick=function(l,o){var s=o==="log",f=o==="date",e=o==="category",p=f?n:1;if(!l)return p;if(D(l))return l=Number(l),l<=0?p:e?Math.max(1,Math.round(l)):f?Math.max(.1,l):l;if(typeof l!="string"||!(f||s))return p;var u=l.charAt(0),h=l.substr(1);return h=D(h)?Number(h):0,h<=0||!(f&&u==="M"&&h===Math.round(h)||s&&u==="L"||s&&u==="D"&&(h===1||h===2))?p:l},F.tick0=function(l,o,s,f){if(o==="date")return i.cleanDate(l,i.dateTick0(s,f%r===0?1:0));if(!(f==="D1"||f==="D2"))return D(l)?Number(l):0}}),$o=Dt((F,D)=>{var i=qo(),t=Ce().isArrayOrTypedArray,n=Da().isTypedArraySpec,r=Da().decodeTypedArraySpec;D.exports=function(l,o,s,f,e){e||(e={});var p=e.isMinor,u=p?l.minor||{}:l,h=p?o.minor:o,b=p?"minor.":"";function m(k){var $=u[k];return n($)&&($=r($)),$!==void 0?$:(h._template||{})[k]}var g=m("tick0"),y=m("dtick"),v=m("tickvals"),c=t(v)?"array":y?"linear":"auto",d=s(b+"tickmode",c);if(d==="auto"||d==="sync")s(b+"nticks");else if(d==="linear"){var _=h.dtick=i.dtick(y,f);h.tick0=i.tick0(g,f,o.calendar,_)}else if(f!=="multicategory"){var w=s(b+"tickvals");w===void 0?h.tickmode="auto":p||s("ticktext")}}}),Qo=Dt((F,D)=>{var i=Ce(),t=Va();D.exports=function(n,r,l,o){var s=o.isMinor,f=s?n.minor||{}:n,e=s?r.minor:r,p=s?t.minor:t,u=s?"minor.":"",h=i.coerce2(f,e,p,"ticklen",s?(r.ticklen||5)*.6:void 0),b=i.coerce2(f,e,p,"tickwidth",s?r.tickwidth||1:void 0),m=i.coerce2(f,e,p,"tickcolor",(s?r.tickcolor:void 0)||e.color),g=l(u+"ticks",!s&&o.outerTicks||h||b||m?"outside":"");g||(delete e.ticklen,delete e.tickwidth,delete e.tickcolor)}}),Ko=Dt((F,D)=>{D.exports=function(i){var t=["showexponent","showtickprefix","showticksuffix"],n=t.filter(function(l){return i[l]!==void 0}),r=function(l){return i[l]===i[n[0]]};if(n.every(r)||n.length===1)return i[n[0]]}}),Ya=Dt((F,D)=>{var i=Ce(),t=jn();D.exports=function(n,r,l){var o=l.name,s=l.inclusionAttr||"visible",f=r[o],e=i.isArrayOrTypedArray(n[o])?n[o]:[],p=r[o]=[],u=t.arrayTemplater(r,o,s),h,b;for(h=0;h<e.length;h++){var m=e[h];i.isPlainObject(m)?b=u.newItem(m):(b=u.newItem({}),b[s]=!1),b._index=h,b[s]!==!1&&l.handleItemDefaults(m,b,r,l),p.push(b)}var g=u.defaultItems();for(h=0;h<g.length;h++)b=g[h],b._index=p.length,l.handleItemDefaults({},b,r,l,{}),p.push(b);if(i.isArrayOrTypedArray(f)){var y=Math.min(f.length,p.length);for(h=0;h<y;h++)i.relinkPrivateKeys(p[h],f[h])}return p}}),tl=Dt((F,D)=>{var i=Ce(),t=bn().contrast,n=Va(),r=Ko(),l=Ya();D.exports=function(s,f,e,p,u){u||(u={});var h=e("labelalias");i.isPlainObject(h)||delete f.labelalias;var b=r(s),m=e("showticklabels");if(m){u.noTicklabelshift||e("ticklabelshift"),u.noTicklabelstandoff||e("ticklabelstandoff");var g=u.font||{},y=f.color,v=f.ticklabelposition||"",c=v.indexOf("inside")!==-1?t(u.bgColor):y&&y!==n.color.dflt?y:g.color;if(i.coerceFont(e,"tickfont",g,{overrideDflt:{color:c}}),!u.noTicklabelstep&&p!=="multicategory"&&p!=="log"&&e("ticklabelstep"),!u.noAng){var d=e("tickangle");!u.noAutotickangles&&d==="auto"&&e("autotickangles")}if(p!=="category"){var _=e("tickformat");l(s,f,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:o}),f.tickformatstops.length||delete f.tickformatstops,!u.noExp&&!_&&p!=="date"&&(e("showexponent",b),e("exponentformat"),e("minexponent"),e("separatethousands"))}}};function o(s,f){function e(u,h){return i.coerce(s,f,n.tickformatstops,u,h)}var p=e("enabled");p&&(e("dtickrange"),e("value"))}}),el=Dt((F,D)=>{var i=Ko();D.exports=function(t,n,r,l,o){o||(o={});var s=o.tickSuffixDflt,f=i(t),e=r("tickprefix");e&&r("showtickprefix",f);var p=r("ticksuffix",s);p&&r("showticksuffix",f)}}),nl=Dt((F,D)=>{var i=Ce(),t=jn(),n=$o(),r=Qo(),l=tl(),o=el(),s=Fi();D.exports=function(f,e,p){var u=t.newContainer(e,"colorbar"),h=f.colorbar||{};function b(C,W){return i.coerce(h,u,s,C,W)}var m=p.margin||{t:0,b:0,l:0,r:0},g=p.width-m.l-m.r,y=p.height-m.t-m.b,v=b("orientation"),c=v==="v",d=b("thicknessmode");b("thickness",d==="fraction"?30/(c?g:y):30);var _=b("lenmode");b("len",_==="fraction"?1:c?y:g);var w=b("yref"),k=b("xref"),$=w==="paper",P=k==="paper",O,T,X,I="left";c?(X="middle",I=P?"left":"right",O=P?1.02:1,T=.5):(X=$?"bottom":"top",I="center",O=.5,T=$?1.02:1),i.coerce(h,u,{x:{valType:"number",min:P?-2:0,max:P?3:1,dflt:O}},"x"),i.coerce(h,u,{y:{valType:"number",min:$?-2:0,max:$?3:1,dflt:T}},"y"),b("xanchor",I),b("xpad"),b("yanchor",X),b("ypad"),i.noneOrAll(h,u,["x","y"]),b("outlinecolor"),b("outlinewidth"),b("bordercolor"),b("borderwidth"),b("bgcolor");var E=i.coerce(h,u,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:c?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");b("ticklabeloverflow",E.indexOf("inside")!==-1?"hide past domain":"hide past div"),n(h,u,b,"linear");var N=p.font,V={noAutotickangles:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,outerTicks:!1,font:N};E.indexOf("inside")!==-1&&(V.bgColor="black"),o(h,u,b,"linear",V),l(h,u,b,"linear",V),r(h,u,b,"linear",V),b("title.text",p._dfltTitle.colorbar);var U=u.showticklabels?u.tickfont:N,G=i.extendFlat({},N,{family:U.family,size:i.bigFont(U.size)});i.coerceFont(b,"title.font",G),b("title.side",c?"top":"right")}}),Nr=Dt((F,D)=>{var i=wn(),t=Ce(),n=Jo(),r=nl(),l=br().isValid,o=un().traceIs;function s(f,e){var p=e.slice(0,e.length-1);return e?t.nestedProperty(f,p).get()||{}:f}D.exports=function f(e,p,u,h,b){var m=b.prefix,g=b.cLetter,y="_module"in p,v=s(e,m),c=s(p,m),d=s(p._template||{},m)||{},_=function(){return delete e.coloraxis,delete p.coloraxis,f(e,p,u,h,b)};if(y){var w=u._colorAxes||{},k=h(m+"coloraxis");if(k){var $=o(p,"contour")&&t.nestedProperty(p,"contours.coloring").get()||"heatmap",P=w[k];P?(P[2].push(_),P[0]!==$&&(P[0]=!1,t.warn(["Ignoring coloraxis:",k,"setting","as it is linked to incompatible colorscales."].join(" ")))):w[k]=[$,p,[_]];return}}var O=v[g+"min"],T=v[g+"max"],X=i(O)&&i(T)&&O<T,I=h(m+g+"auto",!X);I?h(m+g+"mid"):(h(m+g+"min"),h(m+g+"max"));var E=v.colorscale,N=d.colorscale,V;if(E!==void 0&&(V=!l(E)),N!==void 0&&(V=!l(N)),h(m+"autocolorscale",V),h(m+"colorscale"),h(m+"reversescale"),m!=="marker.line."){var U;m&&y&&(U=n(v));var G=h(m+"showscale",U);G&&(m&&d&&(c._template=d),r(v,c,u))}}}),uc=Dt((F,D)=>{var i=Ce(),t=jn(),n=Wo(),r=Nr();D.exports=function(l,o){function s(g,y){return i.coerce(l,o,n,g,y)}s("colorscale.sequential"),s("colorscale.sequentialminus"),s("colorscale.diverging");var f=o._colorAxes,e,p;function u(g,y){return i.coerce(e,p,n.coloraxis,g,y)}for(var h in f){var b=f[h];if(b[0])e=l[h]||{},p=t.newContainer(o,h,"coloraxis"),p._name=h,r(e,p,o,u,{prefix:"",cLetter:"c"});else{for(var m=0;m<b[2].length;m++)b[2][m]();delete o._colorAxes[h]}}}}),cc=Dt((F,D)=>{var i=Ce(),t=Ea().hasColorscale,n=Ea().extractOpts;D.exports=function(r,l){function o(b,m){var g=b["_"+m];g!==void 0&&(b[m]=g)}function s(b,m){var g=m.container?i.nestedProperty(b,m.container).get():b;if(g)if(g.coloraxis)g._colorAx=l[g.coloraxis];else{var y=n(g),v=y.auto;(v||y.min===void 0)&&o(g,m.min),(v||y.max===void 0)&&o(g,m.max),y.autocolorscale&&o(g,"colorscale")}}for(var f=0;f<r.length;f++){var e=r[f],p=e._module.colorbar;if(p)if(Array.isArray(p))for(var u=0;u<p.length;u++)s(e,p[u]);else s(e,p);t(e,"marker.line")&&s(e,{container:"marker.line",min:"cmin",max:"cmax"})}for(var h in l._colorAxes)s(l[h],{min:"cmin",max:"cmax"})}}),Ri=Dt((F,D)=>{var i=wn(),t=Ce(),n=Ea().extractOpts;D.exports=function(r,l,o){var s=r._fullLayout,f=o.vals,e=o.containerStr,p=e?t.nestedProperty(l,e).get():l,u=n(p),h=u.auto!==!1,b=u.min,m=u.max,g=u.mid,y=function(){return t.aggNums(Math.min,null,f)},v=function(){return t.aggNums(Math.max,null,f)};if(b===void 0?b=y():h&&(p._colorAx&&i(b)?b=Math.min(b,y()):b=y()),m===void 0?m=v():h&&(p._colorAx&&i(m)?m=Math.max(m,v()):m=v()),h&&g!==void 0&&(m-g>g-b?b=g-(m-g):m-g<g-b&&(m=g+(g-b))),b===m&&(b-=.5,m+=.5),u._sync("min",b),u._sync("max",m),u.autocolorscale){var c;b*m<0?c=s.colorscale.diverging:b>=0?c=s.colorscale.sequential:c=s.colorscale.sequentialminus,u._sync("colorscale",c)}}}),al=Dt((F,D)=>{var i=br(),t=Ea();D.exports={moduleType:"component",name:"colorscale",attributes:Jr(),layoutAttributes:Wo(),supplyLayoutDefaults:uc(),handleDefaults:Nr(),crossTraceDefaults:cc(),calc:Ri(),scales:i.scales,defaultScale:i.defaultScale,getScale:i.get,isValidScale:i.isValid,hasColorscale:t.hasColorscale,extractOpts:t.extractOpts,extractScale:t.extractScale,flipScale:t.flipScale,makeColorScaleFunc:t.makeColorScaleFunc,makeColorScaleFuncFromTrace:t.makeColorScaleFuncFromTrace}}),Pa=Dt((F,D)=>{var i=Ce(),t=Da().isTypedArraySpec;D.exports={hasLines:function(n){return n.visible&&n.mode&&n.mode.indexOf("lines")!==-1},hasMarkers:function(n){return n.visible&&(n.mode&&n.mode.indexOf("markers")!==-1||n.type==="splom")},hasText:function(n){return n.visible&&n.mode&&n.mode.indexOf("text")!==-1},isBubble:function(n){var r=n.marker;return i.isPlainObject(r)&&(i.isArrayOrTypedArray(r.size)||t(r.size))}}}),fc=Dt((F,D)=>{var i=wn();D.exports=function(t,n){n||(n=2);var r=t.marker,l=r.sizeref||1,o=r.sizemin||0,s=r.sizemode==="area"?function(f){return Math.sqrt(f/l)}:function(f){return f/l};return function(f){var e=s(f/n);return i(e)&&e>0?Math.max(e,o):0}}}),Qa=Dt(F=>{var D=Ce();F.getSubplot=function(o){return o.subplot||o.xaxis+o.yaxis||o.geo},F.isTraceInSubplots=function(o,s){if(o.type==="splom"){for(var f=o.xaxes||[],e=o.yaxes||[],p=0;p<f.length;p++)for(var u=0;u<e.length;u++)if(s.indexOf(f[p]+e[u])!==-1)return!0;return!1}return s.indexOf(F.getSubplot(o))!==-1},F.flat=function(o,s){for(var f=new Array(o.length),e=0;e<o.length;e++)f[e]=s;return f},F.p2c=function(o,s){for(var f=new Array(o.length),e=0;e<o.length;e++)f[e]=o[e].p2c(s);return f},F.getDistanceFunction=function(o,s,f,e){return o==="closest"?e||F.quadrature(s,f):o.charAt(0)==="x"?s:f},F.getClosest=function(o,s,f){if(f.index!==!1)f.index>=0&&f.index<o.length?f.distance=0:f.index=!1;else for(var e=1/0,p=o.length,u=0;u<p;u++)e=s(o[u]),e<=f.distance&&(f.index=u,f.distance=e);return f},F.inbox=function(o,s,f){return o*s<0||o===0?f:1/0},F.quadrature=function(o,s){return function(f){var e=o(f),p=s(f);return Math.sqrt(e*e+p*p)}},F.makeEventData=function(o,s,f){var e="index"in o?o.index:o.pointNumber,p={data:s._input,fullData:s,curveNumber:s.index,pointNumber:e};if(s._indexToPoints){var u=s._indexToPoints[e];u.length===1?p.pointIndex=u[0]:p.pointIndices=u}else p.pointIndex=e;return s._module.eventData?p=s._module.eventData(p,o,s,f,e):("xVal"in o?p.x=o.xVal:"x"in o&&(p.x=o.x),"yVal"in o?p.y=o.yVal:"y"in o&&(p.y=o.y),o.xa&&(p.xaxis=o.xa),o.ya&&(p.yaxis=o.ya),o.zLabelVal!==void 0&&(p.z=o.zLabelVal)),F.appendArrayPointValue(p,s,e),p},F.appendArrayPointValue=function(o,s,f){var e=s._arrayAttrs;if(e)for(var p=0;p<e.length;p++){var u=e[p],h=t(u);if(o[h]===void 0){var b=D.nestedProperty(s,u).get(),m=n(b,f);m!==void 0&&(o[h]=m)}}},F.appendArrayMultiPointValues=function(o,s,f){var e=s._arrayAttrs;if(e)for(var p=0;p<e.length;p++){var u=e[p],h=t(u);if(o[h]===void 0){for(var b=D.nestedProperty(s,u).get(),m=new Array(f.length),g=0;g<f.length;g++)m[g]=n(b,f[g]);o[h]=m}}};var i={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function t(o){return i[o]||o}function n(o,s){if(Array.isArray(s)){if(Array.isArray(o)&&Array.isArray(o[s[0]]))return o[s[0]][s[1]]}else return o[s]}var r={x:!0,y:!0},l={"x unified":!0,"y unified":!0};F.isUnifiedHover=function(o){return typeof o!="string"?!1:!!l[o]},F.isXYhover=function(o){return typeof o!="string"?!1:!!r[o]}}),rl=Dt((F,D)=>{D.exports=n;var i={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},t=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function n(o){var s=[];return o.replace(t,function(f,e,p){var u=e.toLowerCase();for(p=l(p),u=="m"&&p.length>2&&(s.push([e].concat(p.splice(0,2))),u="l",e=e=="m"?"l":"L");;){if(p.length==i[u])return p.unshift(e),s.push(p);if(p.length<i[u])throw new Error("malformed path data");s.push([e].concat(p.splice(0,i[u])))}}),s}var r=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function l(o){var s=o.match(r);return s?s.map(Number):[]}}),dc=Dt((F,D)=>{var i=rl(),t=function(g,y){return y?Math.round(g*(y=Math.pow(10,y)))/y:Math.round(g)},n="M0,0Z",r=Math.sqrt(2),l=Math.sqrt(3),o=Math.PI,s=Math.cos,f=Math.sin;D.exports={circle:{n:0,f:function(g,y,v){if(e(y))return n;var c=t(g,2),d="M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z";return v?m(y,v,d):d}},square:{n:1,f:function(g,y,v){if(e(y))return n;var c=t(g,2);return m(y,v,"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")}},diamond:{n:2,f:function(g,y,v){if(e(y))return n;var c=t(g*1.3,2);return m(y,v,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"Z")}},cross:{n:3,f:function(g,y,v){if(e(y))return n;var c=t(g*.4,2),d=t(g*1.2,2);return m(y,v,"M"+d+","+c+"H"+c+"V"+d+"H-"+c+"V"+c+"H-"+d+"V-"+c+"H-"+c+"V-"+d+"H"+c+"V-"+c+"H"+d+"Z")}},x:{n:4,f:function(g,y,v){if(e(y))return n;var c=t(g*.8/r,2),d="l"+c+","+c,_="l"+c+",-"+c,w="l-"+c+",-"+c,k="l-"+c+","+c;return m(y,v,"M0,"+c+d+_+w+_+w+k+w+k+d+k+d+"Z")}},"triangle-up":{n:5,f:function(g,y,v){if(e(y))return n;var c=t(g*2/l,2),d=t(g/2,2),_=t(g,2);return m(y,v,"M-"+c+","+d+"H"+c+"L0,-"+_+"Z")}},"triangle-down":{n:6,f:function(g,y,v){if(e(y))return n;var c=t(g*2/l,2),d=t(g/2,2),_=t(g,2);return m(y,v,"M-"+c+",-"+d+"H"+c+"L0,"+_+"Z")}},"triangle-left":{n:7,f:function(g,y,v){if(e(y))return n;var c=t(g*2/l,2),d=t(g/2,2),_=t(g,2);return m(y,v,"M"+d+",-"+c+"V"+c+"L-"+_+",0Z")}},"triangle-right":{n:8,f:function(g,y,v){if(e(y))return n;var c=t(g*2/l,2),d=t(g/2,2),_=t(g,2);return m(y,v,"M-"+d+",-"+c+"V"+c+"L"+_+",0Z")}},"triangle-ne":{n:9,f:function(g,y,v){if(e(y))return n;var c=t(g*.6,2),d=t(g*1.2,2);return m(y,v,"M-"+d+",-"+c+"H"+c+"V"+d+"Z")}},"triangle-se":{n:10,f:function(g,y,v){if(e(y))return n;var c=t(g*.6,2),d=t(g*1.2,2);return m(y,v,"M"+c+",-"+d+"V"+c+"H-"+d+"Z")}},"triangle-sw":{n:11,f:function(g,y,v){if(e(y))return n;var c=t(g*.6,2),d=t(g*1.2,2);return m(y,v,"M"+d+","+c+"H-"+c+"V-"+d+"Z")}},"triangle-nw":{n:12,f:function(g,y,v){if(e(y))return n;var c=t(g*.6,2),d=t(g*1.2,2);return m(y,v,"M-"+c+","+d+"V-"+c+"H"+d+"Z")}},pentagon:{n:13,f:function(g,y,v){if(e(y))return n;var c=t(g*.951,2),d=t(g*.588,2),_=t(-g,2),w=t(g*-.309,2),k=t(g*.809,2);return m(y,v,"M"+c+","+w+"L"+d+","+k+"H-"+d+"L-"+c+","+w+"L0,"+_+"Z")}},hexagon:{n:14,f:function(g,y,v){if(e(y))return n;var c=t(g,2),d=t(g/2,2),_=t(g*l/2,2);return m(y,v,"M"+_+",-"+d+"V"+d+"L0,"+c+"L-"+_+","+d+"V-"+d+"L0,-"+c+"Z")}},hexagon2:{n:15,f:function(g,y,v){if(e(y))return n;var c=t(g,2),d=t(g/2,2),_=t(g*l/2,2);return m(y,v,"M-"+d+","+_+"H"+d+"L"+c+",0L"+d+",-"+_+"H-"+d+"L-"+c+",0Z")}},octagon:{n:16,f:function(g,y,v){if(e(y))return n;var c=t(g*.924,2),d=t(g*.383,2);return m(y,v,"M-"+d+",-"+c+"H"+d+"L"+c+",-"+d+"V"+d+"L"+d+","+c+"H-"+d+"L-"+c+","+d+"V-"+d+"Z")}},star:{n:17,f:function(g,y,v){if(e(y))return n;var c=g*1.4,d=t(c*.225,2),_=t(c*.951,2),w=t(c*.363,2),k=t(c*.588,2),$=t(-c,2),P=t(c*-.309,2),O=t(c*.118,2),T=t(c*.809,2),X=t(c*.382,2);return m(y,v,"M"+d+","+P+"H"+_+"L"+w+","+O+"L"+k+","+T+"L0,"+X+"L-"+k+","+T+"L-"+w+","+O+"L-"+_+","+P+"H-"+d+"L0,"+$+"Z")}},hexagram:{n:18,f:function(g,y,v){if(e(y))return n;var c=t(g*.66,2),d=t(g*.38,2),_=t(g*.76,2);return m(y,v,"M-"+_+",0l-"+d+",-"+c+"h"+_+"l"+d+",-"+c+"l"+d+","+c+"h"+_+"l-"+d+","+c+"l"+d+","+c+"h-"+_+"l-"+d+","+c+"l-"+d+",-"+c+"h-"+_+"Z")}},"star-triangle-up":{n:19,f:function(g,y,v){if(e(y))return n;var c=t(g*l*.8,2),d=t(g*.8,2),_=t(g*1.6,2),w=t(g*4,2),k="A "+w+","+w+" 0 0 1 ";return m(y,v,"M-"+c+","+d+k+c+","+d+k+"0,-"+_+k+"-"+c+","+d+"Z")}},"star-triangle-down":{n:20,f:function(g,y,v){if(e(y))return n;var c=t(g*l*.8,2),d=t(g*.8,2),_=t(g*1.6,2),w=t(g*4,2),k="A "+w+","+w+" 0 0 1 ";return m(y,v,"M"+c+",-"+d+k+"-"+c+",-"+d+k+"0,"+_+k+c+",-"+d+"Z")}},"star-square":{n:21,f:function(g,y,v){if(e(y))return n;var c=t(g*1.1,2),d=t(g*2,2),_="A "+d+","+d+" 0 0 1 ";return m(y,v,"M-"+c+",-"+c+_+"-"+c+","+c+_+c+","+c+_+c+",-"+c+_+"-"+c+",-"+c+"Z")}},"star-diamond":{n:22,f:function(g,y,v){if(e(y))return n;var c=t(g*1.4,2),d=t(g*1.9,2),_="A "+d+","+d+" 0 0 1 ";return m(y,v,"M-"+c+",0"+_+"0,"+c+_+c+",0"+_+"0,-"+c+_+"-"+c+",0Z")}},"diamond-tall":{n:23,f:function(g,y,v){if(e(y))return n;var c=t(g*.7,2),d=t(g*1.4,2);return m(y,v,"M0,"+d+"L"+c+",0L0,-"+d+"L-"+c+",0Z")}},"diamond-wide":{n:24,f:function(g,y,v){if(e(y))return n;var c=t(g*1.4,2),d=t(g*.7,2);return m(y,v,"M0,"+d+"L"+c+",0L0,-"+d+"L-"+c+",0Z")}},hourglass:{n:25,f:function(g,y,v){if(e(y))return n;var c=t(g,2);return m(y,v,"M"+c+","+c+"H-"+c+"L"+c+",-"+c+"H-"+c+"Z")},noDot:!0},bowtie:{n:26,f:function(g,y,v){if(e(y))return n;var c=t(g,2);return m(y,v,"M"+c+","+c+"V-"+c+"L-"+c+","+c+"V-"+c+"Z")},noDot:!0},"circle-cross":{n:27,f:function(g,y,v){if(e(y))return n;var c=t(g,2);return m(y,v,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(g,y,v){if(e(y))return n;var c=t(g,2),d=t(g/r,2);return m(y,v,"M"+d+","+d+"L-"+d+",-"+d+"M"+d+",-"+d+"L-"+d+","+d+"M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(g,y,v){if(e(y))return n;var c=t(g,2);return m(y,v,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(g,y,v){if(e(y))return n;var c=t(g,2);return m(y,v,"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c+"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(g,y,v){if(e(y))return n;var c=t(g*1.3,2);return m(y,v,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"ZM0,-"+c+"V"+c+"M-"+c+",0H"+c)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(g,y,v){if(e(y))return n;var c=t(g*1.3,2),d=t(g*.65,2);return m(y,v,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"ZM-"+d+",-"+d+"L"+d+","+d+"M-"+d+","+d+"L"+d+",-"+d)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(g,y,v){if(e(y))return n;var c=t(g*1.4,2);return m(y,v,"M0,"+c+"V-"+c+"M"+c+",0H-"+c)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(g,y,v){if(e(y))return n;var c=t(g,2);return m(y,v,"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(g,y,v){if(e(y))return n;var c=t(g*1.2,2),d=t(g*.85,2);return m(y,v,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+d+","+d+"L-"+d+",-"+d+"M"+d+",-"+d+"L-"+d+","+d)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(g,y,v){if(e(y))return n;var c=t(g/2,2),d=t(g,2);return m(y,v,"M"+c+","+d+"V-"+d+"M"+(c-d)+",-"+d+"V"+d+"M"+d+","+c+"H-"+d+"M-"+d+","+(c-d)+"H"+d)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(g,y,v){if(e(y))return n;var c=t(g*1.2,2),d=t(g*1.6,2),_=t(g*.8,2);return m(y,v,"M-"+c+","+_+"L0,0M"+c+","+_+"L0,0M0,-"+d+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(g,y,v){if(e(y))return n;var c=t(g*1.2,2),d=t(g*1.6,2),_=t(g*.8,2);return m(y,v,"M-"+c+",-"+_+"L0,0M"+c+",-"+_+"L0,0M0,"+d+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(g,y,v){if(e(y))return n;var c=t(g*1.2,2),d=t(g*1.6,2),_=t(g*.8,2);return m(y,v,"M"+_+","+c+"L0,0M"+_+",-"+c+"L0,0M-"+d+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(g,y,v){if(e(y))return n;var c=t(g*1.2,2),d=t(g*1.6,2),_=t(g*.8,2);return m(y,v,"M-"+_+","+c+"L0,0M-"+_+",-"+c+"L0,0M"+d+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(g,y,v){if(e(y))return n;var c=t(g*1.4,2);return m(y,v,"M"+c+",0H-"+c)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(g,y,v){if(e(y))return n;var c=t(g*1.4,2);return m(y,v,"M0,"+c+"V-"+c)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(g,y,v){if(e(y))return n;var c=t(g,2);return m(y,v,"M"+c+",-"+c+"L-"+c+","+c)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(g,y,v){if(e(y))return n;var c=t(g,2);return m(y,v,"M"+c+","+c+"L-"+c+",-"+c)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(g,y,v){if(e(y))return n;var c=t(g,2),d=t(g*2,2);return m(y,v,"M0,0L-"+c+","+d+"H"+c+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(g,y,v){if(e(y))return n;var c=t(g,2),d=t(g*2,2);return m(y,v,"M0,0L-"+c+",-"+d+"H"+c+"Z")},noDot:!0},"arrow-left":{n:47,f:function(g,y,v){if(e(y))return n;var c=t(g*2,2),d=t(g,2);return m(y,v,"M0,0L"+c+",-"+d+"V"+d+"Z")},noDot:!0},"arrow-right":{n:48,f:function(g,y,v){if(e(y))return n;var c=t(g*2,2),d=t(g,2);return m(y,v,"M0,0L-"+c+",-"+d+"V"+d+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(g,y,v){if(e(y))return n;var c=t(g,2),d=t(g*2,2);return m(y,v,"M-"+c+",0H"+c+"M0,0L-"+c+","+d+"H"+c+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(g,y,v){if(e(y))return n;var c=t(g,2),d=t(g*2,2);return m(y,v,"M-"+c+",0H"+c+"M0,0L-"+c+",-"+d+"H"+c+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(g,y,v){if(e(y))return n;var c=t(g*2,2),d=t(g,2);return m(y,v,"M0,-"+d+"V"+d+"M0,0L"+c+",-"+d+"V"+d+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(g,y,v){if(e(y))return n;var c=t(g*2,2),d=t(g,2);return m(y,v,"M0,-"+d+"V"+d+"M0,0L-"+c+",-"+d+"V"+d+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(g,y,v){if(e(y))return n;var c=o/2.5,d=2*g*s(c),_=2*g*f(c);return m(y,v,"M0,0L"+-d+","+_+"L"+d+","+_+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(g,y,v){if(e(y))return n;var c=o/4,d=2*g*s(c),_=2*g*f(c);return m(y,v,"M0,0L"+-d+","+_+"A "+2*g+","+2*g+" 0 0 1 "+d+","+_+"Z")},backoff:.4,noDot:!0}};function e(g){return g===null}var p,u,h,b;function m(g,y,v){if((!g||g%360===0)&&!y)return v;if(h===g&&b===y&&p===v)return u;h=g,b=y,p=v;function c(V,U){var G=s(V),C=f(V),W=U[0],J=U[1]+(y||0);return[W*G-J*C,W*C+J*G]}for(var d=g/180*o,_=0,w=0,k=i(v),$="",P=0;P<k.length;P++){var O=k[P],T=O[0],X=_,I=w;if(T==="M"||T==="L")_=+O[1],w=+O[2];else if(T==="m"||T==="l")_+=+O[1],w+=+O[2];else if(T==="H")_=+O[1];else if(T==="h")_+=+O[1];else if(T==="V")w=+O[1];else if(T==="v")w+=+O[1];else if(T==="A"){_=+O[1],w=+O[2];var E=c(d,[+O[6],+O[7]]);O[6]=E[0],O[7]=E[1],O[3]=+O[3]+g}(T==="H"||T==="V")&&(T="L"),(T==="h"||T==="v")&&(T="l"),(T==="m"||T==="l")&&(_-=X,w-=I);var N=c(d,[_,w]);(T==="H"||T==="V")&&(T="L"),(T==="M"||T==="L"||T==="m"||T==="l")&&(O[1]=N[0],O[2]=N[1]),O[0]=T,$+=O[0]+O.slice(1).join(",")}return u=$,$}}),Nn=Dt((F,D)=>{var i=_n(),t=Ce(),n=t.numberFormat,r=wn(),l=Na(),o=un(),s=bn(),f=al(),e=t.strTranslate,p=ma(),u=Mr(),h=Ta(),b=h.LINE_SPACING,m=ki().DESELECTDIM,g=Pa(),y=fc(),v=Qa().appendArrayPointValue,c=D.exports={};c.font=function(pt,bt){var ot=bt.variant,Lt=bt.style,Nt=bt.weight,Vt=bt.color,ae=bt.size,Jt=bt.family,re=bt.shadow,oe=bt.lineposition,le=bt.textcase;Jt&&pt.style("font-family",Jt),ae+1&&pt.style("font-size",ae+"px"),Vt&&pt.call(s.fill,Vt),Nt&&pt.style("font-weight",Nt),Lt&&pt.style("font-style",Lt),ot&&pt.style("font-variant",ot),le&&pt.style("text-transform",d(w(le))),re&&pt.style("text-shadow",re==="auto"?p.makeTextShadow(s.contrast(Vt)):d(re)),oe&&pt.style("text-decoration-line",d(k(oe)))};function d(pt){return pt==="none"?void 0:pt}var _={normal:"none",lower:"lowercase",upper:"uppercase","word caps":"capitalize"};function w(pt){return _[pt]}function k(pt){return pt.replace("under","underline").replace("over","overline").replace("through","line-through").split("+").join(" ")}c.setPosition=function(pt,bt,ot){pt.attr("x",bt).attr("y",ot)},c.setSize=function(pt,bt,ot){pt.attr("width",bt).attr("height",ot)},c.setRect=function(pt,bt,ot,Lt,Nt){pt.call(c.setPosition,bt,ot).call(c.setSize,Lt,Nt)},c.translatePoint=function(pt,bt,ot,Lt){var Nt=ot.c2p(pt.x),Vt=Lt.c2p(pt.y);if(r(Nt)&&r(Vt)&&bt.node())bt.node().nodeName==="text"?bt.attr("x",Nt).attr("y",Vt):bt.attr("transform",e(Nt,Vt));else return!1;return!0},c.translatePoints=function(pt,bt,ot){pt.each(function(Lt){var Nt=i.select(this);c.translatePoint(Lt,Nt,bt,ot)})},c.hideOutsideRangePoint=function(pt,bt,ot,Lt,Nt,Vt){bt.attr("display",ot.isPtWithinRange(pt,Nt)&&Lt.isPtWithinRange(pt,Vt)?null:"none")},c.hideOutsideRangePoints=function(pt,bt){if(bt._hasClipOnAxisFalse){var ot=bt.xaxis,Lt=bt.yaxis;pt.each(function(Nt){var Vt=Nt[0].trace,ae=Vt.xcalendar,Jt=Vt.ycalendar,re=o.traceIs(Vt,"bar-like")?".bartext":".point,.textpoint";pt.selectAll(re).each(function(oe){c.hideOutsideRangePoint(oe,i.select(this),ot,Lt,ae,Jt)})})}},c.crispRound=function(pt,bt,ot){return!bt||!r(bt)?ot||0:pt._context.staticPlot?bt:bt<1?1:Math.round(bt)},c.singleLineStyle=function(pt,bt,ot,Lt,Nt){bt.style("fill","none");var Vt=(((pt||[])[0]||{}).trace||{}).line||{},ae=ot||Vt.width||0,Jt=Nt||Vt.dash||"";s.stroke(bt,Lt||Vt.color),c.dashLine(bt,Jt,ae)},c.lineGroupStyle=function(pt,bt,ot,Lt){pt.style("fill","none").each(function(Nt){var Vt=(((Nt||[])[0]||{}).trace||{}).line||{},ae=bt||Vt.width||0,Jt=Lt||Vt.dash||"";i.select(this).call(s.stroke,ot||Vt.color).call(c.dashLine,Jt,ae)})},c.dashLine=function(pt,bt,ot){ot=+ot||0,bt=c.dashStyle(bt,ot),pt.style({"stroke-dasharray":bt,"stroke-width":ot+"px"})},c.dashStyle=function(pt,bt){bt=+bt||1;var ot=Math.max(bt,3);return pt==="solid"?pt="":pt==="dot"?pt=ot+"px,"+ot+"px":pt==="dash"?pt=3*ot+"px,"+3*ot+"px":pt==="longdash"?pt=5*ot+"px,"+5*ot+"px":pt==="dashdot"?pt=3*ot+"px,"+ot+"px,"+ot+"px,"+ot+"px":pt==="longdashdot"&&(pt=5*ot+"px,"+2*ot+"px,"+ot+"px,"+2*ot+"px"),pt};function $(pt,bt,ot,Lt){var Nt=bt.fillpattern,Vt=bt.fillgradient,ae=Nt&&c.getPatternAttr(Nt.shape,0,"");if(ae){var Jt=c.getPatternAttr(Nt.bgcolor,0,null),re=c.getPatternAttr(Nt.fgcolor,0,null),oe=Nt.fgopacity,le=c.getPatternAttr(Nt.size,0,8),ve=c.getPatternAttr(Nt.solidity,0,.3),Wt=bt.uid;c.pattern(pt,"point",ot,Wt,ae,le,ve,void 0,Nt.fillmode,Jt,re,oe)}else if(Vt&&Vt.type!=="none"){var ge=Vt.type,Te="scatterfill-"+bt.uid;if(Lt&&(Te="legendfill-"+bt.uid),!Lt&&(Vt.start!==void 0||Vt.stop!==void 0)){var ce,we;ge==="horizontal"?(ce={x:Vt.start,y:0},we={x:Vt.stop,y:0}):ge==="vertical"&&(ce={x:0,y:Vt.start},we={x:0,y:Vt.stop}),ce.x=bt._xA.c2p(ce.x===void 0?bt._extremes.x.min[0].val:ce.x,!0),ce.y=bt._yA.c2p(ce.y===void 0?bt._extremes.y.min[0].val:ce.y,!0),we.x=bt._xA.c2p(we.x===void 0?bt._extremes.x.max[0].val:we.x,!0),we.y=bt._yA.c2p(we.y===void 0?bt._extremes.y.max[0].val:we.y,!0),pt.call(N,ot,Te,"linear",Vt.colorscale,"fill",ce,we,!0,!1)}else ge==="horizontal"&&(ge=ge+"reversed"),pt.call(c.gradient,ot,Te,ge,Vt.colorscale,"fill")}else bt.fillcolor&&pt.call(s.fill,bt.fillcolor)}c.singleFillStyle=function(pt,bt){var ot=i.select(pt.node()),Lt=ot.data(),Nt=((Lt[0]||[])[0]||{}).trace||{};$(pt,Nt,bt,!1)},c.fillGroupStyle=function(pt,bt,ot){pt.style("stroke-width",0).each(function(Lt){var Nt=i.select(this);Lt[0].trace&&$(Nt,Lt[0].trace,bt,ot)})};var P=dc();c.symbolNames=[],c.symbolFuncs=[],c.symbolBackOffs=[],c.symbolNeedLines={},c.symbolNoDot={},c.symbolNoFill={},c.symbolList=[],Object.keys(P).forEach(function(pt){var bt=P[pt],ot=bt.n;c.symbolList.push(ot,String(ot),pt,ot+100,String(ot+100),pt+"-open"),c.symbolNames[ot]=pt,c.symbolFuncs[ot]=bt.f,c.symbolBackOffs[ot]=bt.backoff||0,bt.needLine&&(c.symbolNeedLines[ot]=!0),bt.noDot?c.symbolNoDot[ot]=!0:c.symbolList.push(ot+200,String(ot+200),pt+"-dot",ot+300,String(ot+300),pt+"-open-dot"),bt.noFill&&(c.symbolNoFill[ot]=!0)});var O=c.symbolNames.length,T="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";c.symbolNumber=function(pt){if(r(pt))pt=+pt;else if(typeof pt=="string"){var bt=0;pt.indexOf("-open")>0&&(bt=100,pt=pt.replace("-open","")),pt.indexOf("-dot")>0&&(bt+=200,pt=pt.replace("-dot","")),pt=c.symbolNames.indexOf(pt),pt>=0&&(pt+=bt)}return pt%100>=O||pt>=400?0:Math.floor(Math.max(pt,0))};function X(pt,bt,ot,Lt){var Nt=pt%100;return c.symbolFuncs[Nt](bt,ot,Lt)+(pt>=200?T:"")}var I=n("~f"),E={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};c.gradient=function(pt,bt,ot,Lt,Nt,Vt){var ae=E[Lt];return N(pt,bt,ot,ae.type,Nt,Vt,ae.start,ae.stop,!1,ae.reversed)};function N(pt,bt,ot,Lt,Nt,Vt,ae,Jt,re,oe){var le=Nt.length,ve;Lt==="linear"?ve={node:"linearGradient",attrs:{x1:ae.x,y1:ae.y,x2:Jt.x,y2:Jt.y,gradientUnits:re?"userSpaceOnUse":"objectBoundingBox"},reversed:oe}:Lt==="radial"&&(ve={node:"radialGradient",reversed:oe});for(var Wt=new Array(le),ge=0;ge<le;ge++)ve.reversed?Wt[le-1-ge]=[I((1-Nt[ge][0])*100),Nt[ge][1]]:Wt[ge]=[I(Nt[ge][0]*100),Nt[ge][1]];var Te=bt._fullLayout,ce="g"+Te._uid+"-"+ot,we=Te._defs.select(".gradients").selectAll("#"+ce).data([Lt+Wt.join(";")],t.identity);we.exit().remove(),we.enter().append(ve.node).each(function(){var yt=i.select(this);ve.attrs&&yt.attr(ve.attrs),yt.attr("id",ce);var kt=yt.selectAll("stop").data(Wt);kt.exit().remove(),kt.enter().append("stop"),kt.each(function(Tt){var K=l(Tt[1]);i.select(this).attr({offset:Tt[0]+"%","stop-color":s.tinyRGB(K),"stop-opacity":K.getAlpha()})})}),pt.style(Vt,R(ce,bt)).style(Vt+"-opacity",null),pt.classed("gradient_filled",!0)}c.pattern=function(pt,bt,ot,Lt,Nt,Vt,ae,Jt,re,oe,le,ve){var Wt=bt==="legend";Jt&&(re==="overlay"?(oe=Jt,le=s.contrast(oe)):(oe=void 0,le=Jt));var ge=ot._fullLayout,Te="p"+ge._uid+"-"+Lt,ce,we,yt=function(zt,ee,se,pe,De){return pe+(De-pe)*(zt-ee)/(se-ee)},kt,Tt,K,ft,mt={},gt=l(le),It=s.tinyRGB(gt),Mt=gt.getAlpha(),qt=ve*Mt;switch(Nt){case"/":ce=Vt*Math.sqrt(2),we=Vt*Math.sqrt(2),kt="M-"+ce/4+","+we/4+"l"+ce/2+",-"+we/2+"M0,"+we+"L"+ce+",0M"+ce/4*3+","+we/4*5+"l"+ce/2+",-"+we/2,Tt=ae*Vt,ft="path",mt={d:kt,opacity:qt,stroke:It,"stroke-width":Tt+"px"};break;case"\\":ce=Vt*Math.sqrt(2),we=Vt*Math.sqrt(2),kt="M"+ce/4*3+",-"+we/4+"l"+ce/2+","+we/2+"M0,0L"+ce+","+we+"M-"+ce/4+","+we/4*3+"l"+ce/2+","+we/2,Tt=ae*Vt,ft="path",mt={d:kt,opacity:qt,stroke:It,"stroke-width":Tt+"px"};break;case"x":ce=Vt*Math.sqrt(2),we=Vt*Math.sqrt(2),kt="M-"+ce/4+","+we/4+"l"+ce/2+",-"+we/2+"M0,"+we+"L"+ce+",0M"+ce/4*3+","+we/4*5+"l"+ce/2+",-"+we/2+"M"+ce/4*3+",-"+we/4+"l"+ce/2+","+we/2+"M0,0L"+ce+","+we+"M-"+ce/4+","+we/4*3+"l"+ce/2+","+we/2,Tt=Vt-Vt*Math.sqrt(1-ae),ft="path",mt={d:kt,opacity:qt,stroke:It,"stroke-width":Tt+"px"};break;case"|":ce=Vt,we=Vt,ft="path",kt="M"+ce/2+",0L"+ce/2+","+we,Tt=ae*Vt,ft="path",mt={d:kt,opacity:qt,stroke:It,"stroke-width":Tt+"px"};break;case"-":ce=Vt,we=Vt,ft="path",kt="M0,"+we/2+"L"+ce+","+we/2,Tt=ae*Vt,ft="path",mt={d:kt,opacity:qt,stroke:It,"stroke-width":Tt+"px"};break;case"+":ce=Vt,we=Vt,ft="path",kt="M"+ce/2+",0L"+ce/2+","+we+"M0,"+we/2+"L"+ce+","+we/2,Tt=Vt-Vt*Math.sqrt(1-ae),ft="path",mt={d:kt,opacity:qt,stroke:It,"stroke-width":Tt+"px"};break;case".":ce=Vt,we=Vt,ae<Math.PI/4?K=Math.sqrt(ae*Vt*Vt/Math.PI):K=yt(ae,Math.PI/4,1,Vt/2,Vt/Math.sqrt(2)),ft="circle",mt={cx:ce/2,cy:we/2,r:K,opacity:qt,fill:It};break}var $t=[Nt||"noSh",oe||"noBg",le||"noFg",Vt,ae].join(";"),ie=ge._defs.select(".patterns").selectAll("#"+Te).data([$t],t.identity);ie.exit().remove(),ie.enter().append("pattern").each(function(){var zt=i.select(this);if(zt.attr({id:Te,width:ce+"px",height:we+"px",patternUnits:"userSpaceOnUse",patternTransform:Wt?"scale(0.8)":""}),oe){var ee=l(oe),se=s.tinyRGB(ee),pe=ee.getAlpha(),De=zt.selectAll("rect").data([0]);De.exit().remove(),De.enter().append("rect").attr({width:ce+"px",height:we+"px",fill:se,"fill-opacity":pe})}var Ne=zt.selectAll(ft).data([0]);Ne.exit().remove(),Ne.enter().append(ft).attr(mt)}),pt.style("fill",R(Te,ot)).style("fill-opacity",null),pt.classed("pattern_filled",!0)},c.initGradients=function(pt){var bt=pt._fullLayout,ot=t.ensureSingle(bt._defs,"g","gradients");ot.selectAll("linearGradient,radialGradient").remove(),i.select(pt).selectAll(".gradient_filled").classed("gradient_filled",!1)},c.initPatterns=function(pt){var bt=pt._fullLayout,ot=t.ensureSingle(bt._defs,"g","patterns");ot.selectAll("pattern").remove(),i.select(pt).selectAll(".pattern_filled").classed("pattern_filled",!1)},c.getPatternAttr=function(pt,bt,ot){return pt&&t.isArrayOrTypedArray(pt)?bt<pt.length?pt[bt]:ot:pt},c.pointStyle=function(pt,bt,ot,Lt){if(pt.size()){var Nt=c.makePointStyleFns(bt);pt.each(function(Vt){c.singlePointStyle(Vt,i.select(this),bt,Nt,ot,Lt)})}},c.singlePointStyle=function(pt,bt,ot,Lt,Nt,Vt){var ae=ot.marker,Jt=ae.line;if(Vt&&Vt.i>=0&&pt.i===void 0&&(pt.i=Vt.i),bt.style("opacity",Lt.selectedOpacityFn?Lt.selectedOpacityFn(pt):pt.mo===void 0?ae.opacity:pt.mo),Lt.ms2mrc){var re;pt.ms==="various"||ae.size==="various"?re=3:re=Lt.ms2mrc(pt.ms),pt.mrc=re,Lt.selectedSizeFn&&(re=pt.mrc=Lt.selectedSizeFn(pt));var oe=c.symbolNumber(pt.mx||ae.symbol)||0;pt.om=oe%200>=100;var le=Ht(pt,ot),ve=S(pt,ot);bt.attr("d",X(oe,re,le,ve))}var Wt=!1,ge,Te,ce;if(pt.so)ce=Jt.outlierwidth,Te=Jt.outliercolor,ge=ae.outliercolor;else{var we=(Jt||{}).width;ce=(pt.mlw+1||we+1||(pt.trace?(pt.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in pt?Te=pt.mlcc=Lt.lineScale(pt.mlc):t.isArrayOrTypedArray(Jt.color)?Te=s.defaultLine:Te=Jt.color,t.isArrayOrTypedArray(ae.color)&&(ge=s.defaultLine,Wt=!0),"mc"in pt?ge=pt.mcc=Lt.markerScale(pt.mc):ge=ae.color||ae.colors||"rgba(0,0,0,0)",Lt.selectedColorFn&&(ge=Lt.selectedColorFn(pt))}if(pt.om)bt.call(s.stroke,ge).style({"stroke-width":(ce||1)+"px",fill:"none"});else{bt.style("stroke-width",(pt.isBlank?0:ce)+"px");var yt=ae.gradient,kt=pt.mgt;kt?Wt=!0:kt=yt&&yt.type,t.isArrayOrTypedArray(kt)&&(kt=kt[0],E[kt]||(kt=0));var Tt=ae.pattern,K=Tt&&c.getPatternAttr(Tt.shape,pt.i,"");if(kt&&kt!=="none"){var ft=pt.mgc;ft?Wt=!0:ft=yt.color;var mt=ot.uid;Wt&&(mt+="-"+pt.i),c.gradient(bt,Nt,mt,kt,[[0,ft],[1,ge]],"fill")}else if(K){var gt=!1,It=Tt.fgcolor;!It&&Vt&&Vt.color&&(It=Vt.color,gt=!0);var Mt=c.getPatternAttr(It,pt.i,Vt&&Vt.color||null),qt=c.getPatternAttr(Tt.bgcolor,pt.i,null),$t=Tt.fgopacity,ie=c.getPatternAttr(Tt.size,pt.i,8),zt=c.getPatternAttr(Tt.solidity,pt.i,.3);gt=gt||pt.mcc||t.isArrayOrTypedArray(Tt.shape)||t.isArrayOrTypedArray(Tt.bgcolor)||t.isArrayOrTypedArray(Tt.fgcolor)||t.isArrayOrTypedArray(Tt.size)||t.isArrayOrTypedArray(Tt.solidity);var ee=ot.uid;gt&&(ee+="-"+pt.i),c.pattern(bt,"point",Nt,ee,K,ie,zt,pt.mcc,Tt.fillmode,qt,Mt,$t)}else t.isArrayOrTypedArray(ge)?s.fill(bt,ge[pt.i]):s.fill(bt,ge);ce&&s.stroke(bt,Te)}},c.makePointStyleFns=function(pt){var bt={},ot=pt.marker;return bt.markerScale=c.tryColorscale(ot,""),bt.lineScale=c.tryColorscale(ot,"line"),o.traceIs(pt,"symbols")&&(bt.ms2mrc=g.isBubble(pt)?y(pt):function(){return(ot.size||6)/2}),pt.selectedpoints&&t.extendFlat(bt,c.makeSelectedPointStyleFns(pt)),bt},c.makeSelectedPointStyleFns=function(pt){var bt={},ot=pt.selected||{},Lt=pt.unselected||{},Nt=pt.marker||{},Vt=ot.marker||{},ae=Lt.marker||{},Jt=Nt.opacity,re=Vt.opacity,oe=ae.opacity,le=re!==void 0,ve=oe!==void 0;(t.isArrayOrTypedArray(Jt)||le||ve)&&(bt.selectedOpacityFn=function(K){var ft=K.mo===void 0?Nt.opacity:K.mo;return K.selected?le?re:ft:ve?oe:m*ft});var Wt=Nt.color,ge=Vt.color,Te=ae.color;(ge||Te)&&(bt.selectedColorFn=function(K){var ft=K.mcc||Wt;return K.selected?ge||ft:Te||ft});var ce=Nt.size,we=Vt.size,yt=ae.size,kt=we!==void 0,Tt=yt!==void 0;return o.traceIs(pt,"symbols")&&(kt||Tt)&&(bt.selectedSizeFn=function(K){var ft=K.mrc||ce/2;return K.selected?kt?we/2:ft:Tt?yt/2:ft}),bt},c.makeSelectedTextStyleFns=function(pt){var bt={},ot=pt.selected||{},Lt=pt.unselected||{},Nt=pt.textfont||{},Vt=ot.textfont||{},ae=Lt.textfont||{},Jt=Nt.color,re=Vt.color,oe=ae.color;return bt.selectedTextColorFn=function(le){var ve=le.tc||Jt;return le.selected?re||ve:oe||(re?ve:s.addOpacity(ve,m))},bt},c.selectedPointStyle=function(pt,bt){if(!(!pt.size()||!bt.selectedpoints)){var ot=c.makeSelectedPointStyleFns(bt),Lt=bt.marker||{},Nt=[];ot.selectedOpacityFn&&Nt.push(function(Vt,ae){Vt.style("opacity",ot.selectedOpacityFn(ae))}),ot.selectedColorFn&&Nt.push(function(Vt,ae){s.fill(Vt,ot.selectedColorFn(ae))}),ot.selectedSizeFn&&Nt.push(function(Vt,ae){var Jt=ae.mx||Lt.symbol||0,re=ot.selectedSizeFn(ae);Vt.attr("d",X(c.symbolNumber(Jt),re,Ht(ae,bt),S(ae,bt))),ae.mrc2=re}),Nt.length&&pt.each(function(Vt){for(var ae=i.select(this),Jt=0;Jt<Nt.length;Jt++)Nt[Jt](ae,Vt)})}},c.tryColorscale=function(pt,bt){var ot=bt?t.nestedProperty(pt,bt).get():pt;if(ot){var Lt=ot.color;if((ot.colorscale||ot._colorAx)&&t.isArrayOrTypedArray(Lt))return f.makeColorScaleFuncFromTrace(ot)}return t.identity};var V={start:1,end:-1,middle:0,bottom:1,top:-1};function U(pt,bt,ot,Lt,Nt){var Vt=i.select(pt.node().parentNode),ae=bt.indexOf("top")!==-1?"top":bt.indexOf("bottom")!==-1?"bottom":"middle",Jt=bt.indexOf("left")!==-1?"end":bt.indexOf("right")!==-1?"start":"middle",re=Lt?Lt/.8+1:0,oe=(p.lineCount(pt)-1)*b+1,le=V[Jt]*re,ve=ot*.75+V[ae]*re+(V[ae]-1)*oe*ot/2;pt.attr("text-anchor",Jt),Nt||Vt.attr("transform",e(le,ve))}function G(pt,bt){var ot=pt.ts||bt.textfont.size;return r(ot)&&ot>0?ot:0}c.textPointStyle=function(pt,bt,ot){if(pt.size()){var Lt;if(bt.selectedpoints){var Nt=c.makeSelectedTextStyleFns(bt);Lt=Nt.selectedTextColorFn}var Vt=bt.texttemplate,ae=ot._fullLayout;pt.each(function(Jt){var re=i.select(this),oe=Vt?t.extractOption(Jt,bt,"txt","texttemplate"):t.extractOption(Jt,bt,"tx","text");if(!oe&&oe!==0){re.remove();return}if(Vt){var le=bt._module.formatLabels,ve=le?le(Jt,bt,ae):{},Wt={};v(Wt,bt,Jt.i);var ge=bt._meta||{};oe=t.texttemplateString(oe,ve,ae._d3locale,Wt,Jt,ge)}var Te=Jt.tp||bt.textposition,ce=G(Jt,bt),we=Lt?Lt(Jt):Jt.tc||bt.textfont.color;re.call(c.font,{family:Jt.tf||bt.textfont.family,weight:Jt.tw||bt.textfont.weight,style:Jt.ty||bt.textfont.style,variant:Jt.tv||bt.textfont.variant,textcase:Jt.tC||bt.textfont.textcase,lineposition:Jt.tE||bt.textfont.lineposition,shadow:Jt.tS||bt.textfont.shadow,size:ce,color:we}).text(oe).call(p.convertToTspans,ot).call(U,Te,ce,Jt.mrc)})}},c.selectedTextStyle=function(pt,bt){if(!(!pt.size()||!bt.selectedpoints)){var ot=c.makeSelectedTextStyleFns(bt);pt.each(function(Lt){var Nt=i.select(this),Vt=ot.selectedTextColorFn(Lt),ae=Lt.tp||bt.textposition,Jt=G(Lt,bt);s.fill(Nt,Vt);var re=o.traceIs(bt,"bar-like");U(Nt,ae,Jt,Lt.mrc2||Lt.mrc,re)})}};var C=.5;c.smoothopen=function(pt,bt){if(pt.length<3)return"M"+pt.join("L");var ot="M"+pt[0],Lt=[],Nt;for(Nt=1;Nt<pt.length-1;Nt++)Lt.push(dt(pt[Nt-1],pt[Nt],pt[Nt+1],bt));for(ot+="Q"+Lt[0][0]+" "+pt[1],Nt=2;Nt<pt.length-1;Nt++)ot+="C"+Lt[Nt-2][1]+" "+Lt[Nt-1][0]+" "+pt[Nt];return ot+="Q"+Lt[pt.length-3][1]+" "+pt[pt.length-1],ot},c.smoothclosed=function(pt,bt){if(pt.length<3)return"M"+pt.join("L")+"Z";var ot="M"+pt[0],Lt=pt.length-1,Nt=[dt(pt[Lt],pt[0],pt[1],bt)],Vt;for(Vt=1;Vt<Lt;Vt++)Nt.push(dt(pt[Vt-1],pt[Vt],pt[Vt+1],bt));for(Nt.push(dt(pt[Lt-1],pt[Lt],pt[0],bt)),Vt=1;Vt<=Lt;Vt++)ot+="C"+Nt[Vt-1][1]+" "+Nt[Vt][0]+" "+pt[Vt];return ot+="C"+Nt[Lt][1]+" "+Nt[0][0]+" "+pt[0]+"Z",ot};var W,J;function at(pt,bt,ot){return ot&&(pt=H(pt)),bt?it(pt[1]):et(pt[0])}function et(pt){var bt=i.round(pt,2);return W=bt,bt}function it(pt){var bt=i.round(pt,2);return J=bt,bt}function dt(pt,bt,ot,Lt){var Nt=pt[0]-bt[0],Vt=pt[1]-bt[1],ae=ot[0]-bt[0],Jt=ot[1]-bt[1],re=Math.pow(Nt*Nt+Vt*Vt,C/2),oe=Math.pow(ae*ae+Jt*Jt,C/2),le=(oe*oe*Nt-re*re*ae)*Lt,ve=(oe*oe*Vt-re*re*Jt)*Lt,Wt=3*oe*(re+oe),ge=3*re*(re+oe);return[[et(bt[0]+(Wt&&le/Wt)),it(bt[1]+(Wt&&ve/Wt))],[et(bt[0]-(ge&&le/ge)),it(bt[1]-(ge&&ve/ge))]]}var ht={hv:function(pt,bt,ot){return"H"+et(bt[0])+"V"+at(bt,1,ot)},vh:function(pt,bt,ot){return"V"+it(bt[1])+"H"+at(bt,0,ot)},hvh:function(pt,bt,ot){return"H"+et((pt[0]+bt[0])/2)+"V"+it(bt[1])+"H"+at(bt,0,ot)},vhv:function(pt,bt,ot){return"V"+it((pt[1]+bt[1])/2)+"H"+et(bt[0])+"V"+at(bt,1,ot)}},xt=function(pt,bt,ot){return"L"+at(bt,0,ot)+","+at(bt,1,ot)};c.steps=function(pt){var bt=ht[pt]||xt;return function(ot){for(var Lt="M"+et(ot[0][0])+","+it(ot[0][1]),Nt=ot.length,Vt=1;Vt<Nt;Vt++)Lt+=bt(ot[Vt-1],ot[Vt],Vt===Nt-1);return Lt}};function H(pt,bt){var ot=pt.backoff,Lt=pt.trace,Nt=pt.d,Vt=pt.i;if(ot&&Lt&&Lt.marker&&Lt.marker.angle%360===0&&Lt.line&&Lt.line.shape!=="spline"){var ae=t.isArrayOrTypedArray(ot),Jt=pt,re=bt?bt[0]:W||0,oe=bt?bt[1]:J||0,le=Jt[0],ve=Jt[1],Wt=le-re,ge=ve-oe,Te=Math.atan2(ge,Wt),ce=ae?ot[Vt]:ot;if(ce==="auto"){var we=Jt.i;Lt.type==="scatter"&&we--;var yt=Jt.marker,kt=yt.symbol;t.isArrayOrTypedArray(kt)&&(kt=kt[we]);var Tt=yt.size;t.isArrayOrTypedArray(Tt)&&(Tt=Tt[we]),ce=yt?c.symbolBackOffs[c.symbolNumber(kt)]*Tt:0,ce+=c.getMarkerStandoff(Nt[we],Lt)||0}var K=le-ce*Math.cos(Te),ft=ve-ce*Math.sin(Te);(K<=le&&K>=re||K>=le&&K<=re)&&(ft<=ve&&ft>=oe||ft>=ve&&ft<=oe)&&(pt=[K,ft])}return pt}c.applyBackoff=H,c.makeTester=function(){var pt=t.ensureSingleById(i.select("body"),"svg","js-plotly-tester",function(ot){ot.attr(u.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),bt=t.ensureSingle(pt,"path","js-reference-point",function(ot){ot.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});c.tester=pt,c.testref=bt},c.savedBBoxes={};var j=0,A=1e4;c.bBox=function(pt,bt,ot){ot||(ot=q(pt));var Lt;if(ot){if(Lt=c.savedBBoxes[ot],Lt)return t.extendFlat({},Lt)}else if(pt.childNodes.length===1){var Nt=pt.childNodes[0];if(ot=q(Nt),ot){var Vt=+Nt.getAttribute("x")||0,ae=+Nt.getAttribute("y")||0,Jt=Nt.getAttribute("transform");if(!Jt){var re=c.bBox(Nt,!1,ot);return Vt&&(re.left+=Vt,re.right+=Vt),ae&&(re.top+=ae,re.bottom+=ae),re}if(ot+="~"+Vt+"~"+ae+"~"+Jt,Lt=c.savedBBoxes[ot],Lt)return t.extendFlat({},Lt)}}var oe,le;bt?oe=pt:(le=c.tester.node(),oe=pt.cloneNode(!0),le.appendChild(oe)),i.select(oe).attr("transform",null).call(p.positionText,0,0);var ve=oe.getBoundingClientRect(),Wt=c.testref.node().getBoundingClientRect();bt||le.removeChild(oe);var ge={height:ve.height,width:ve.width,left:ve.left-Wt.left,top:ve.top-Wt.top,right:ve.right-Wt.left,bottom:ve.bottom-Wt.top};return j>=A&&(c.savedBBoxes={},j=0),ot&&(c.savedBBoxes[ot]=ge),j++,t.extendFlat({},ge)};function q(pt){var bt=pt.getAttribute("data-unformatted");if(bt!==null)return bt+pt.getAttribute("data-math")+pt.getAttribute("text-anchor")+pt.getAttribute("style")}c.setClipUrl=function(pt,bt,ot){pt.attr("clip-path",R(bt,ot))};function R(pt,bt){if(!pt)return null;var ot=bt._context,Lt=ot._exportedPlot?"":ot._baseUrl||"";return Lt?"url('"+Lt+"#"+pt+"')":"url(#"+pt+")"}c.getTranslate=function(pt){var bt=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,ot=pt.attr?"attr":"getAttribute",Lt=pt[ot]("transform")||"",Nt=Lt.replace(bt,function(Vt,ae,Jt){return[ae,Jt].join(" ")}).split(" ");return{x:+Nt[0]||0,y:+Nt[1]||0}},c.setTranslate=function(pt,bt,ot){var Lt=/(\btranslate\(.*?\);?)/,Nt=pt.attr?"attr":"getAttribute",Vt=pt.attr?"attr":"setAttribute",ae=pt[Nt]("transform")||"";return bt=bt||0,ot=ot||0,ae=ae.replace(Lt,"").trim(),ae+=e(bt,ot),ae=ae.trim(),pt[Vt]("transform",ae),ae},c.getScale=function(pt){var bt=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,ot=pt.attr?"attr":"getAttribute",Lt=pt[ot]("transform")||"",Nt=Lt.replace(bt,function(Vt,ae,Jt){return[ae,Jt].join(" ")}).split(" ");return{x:+Nt[0]||1,y:+Nt[1]||1}},c.setScale=function(pt,bt,ot){var Lt=/(\bscale\(.*?\);?)/,Nt=pt.attr?"attr":"getAttribute",Vt=pt.attr?"attr":"setAttribute",ae=pt[Nt]("transform")||"";return bt=bt||1,ot=ot||1,ae=ae.replace(Lt,"").trim(),ae+="scale("+bt+","+ot+")",ae=ae.trim(),pt[Vt]("transform",ae),ae};var z=/\s*sc.*/;c.setPointGroupScale=function(pt,bt,ot){if(bt=bt||1,ot=ot||1,!!pt){var Lt=bt===1&&ot===1?"":"scale("+bt+","+ot+")";pt.each(function(){var Nt=(this.getAttribute("transform")||"").replace(z,"");Nt+=Lt,Nt=Nt.trim(),this.setAttribute("transform",Nt)})}};var M=/translate\([^)]*\)\s*$/;c.setTextPointsScale=function(pt,bt,ot){pt&&pt.each(function(){var Lt,Nt=i.select(this),Vt=Nt.select("text");if(Vt.node()){var ae=parseFloat(Vt.attr("x")||0),Jt=parseFloat(Vt.attr("y")||0),re=(Nt.attr("transform")||"").match(M);bt===1&&ot===1?Lt=[]:Lt=[e(ae,Jt),"scale("+bt+","+ot+")",e(-ae,-Jt)],re&&Lt.push(re),Nt.attr("transform",Lt.join(""))}})};function S(pt,bt){var ot;return pt&&(ot=pt.mf),ot===void 0&&(ot=bt.marker&&bt.marker.standoff||0),!bt._geo&&!bt._xA?-ot:ot}c.getMarkerStandoff=S;var Z=Math.atan2,Y=Math.cos,rt=Math.sin;function st(pt,bt){var ot=bt[0],Lt=bt[1];return[ot*Y(pt)-Lt*rt(pt),ot*rt(pt)+Lt*Y(pt)]}var ut,_t,At,Rt,Xt,Bt;function Ht(pt,bt){var ot=pt.ma;ot===void 0&&(ot=bt.marker.angle,(!ot||t.isArrayOrTypedArray(ot))&&(ot=0));var Lt,Nt,Vt=bt.marker.angleref;if(Vt==="previous"||Vt==="north"){if(bt._geo){var ae=bt._geo.project(pt.lonlat);Lt=ae[0],Nt=ae[1]}else{var Jt=bt._xA,re=bt._yA;if(Jt&&re)Lt=Jt.c2p(pt.x),Nt=re.c2p(pt.y);else return 90}if(bt._geo){var oe=pt.lonlat[0],le=pt.lonlat[1],ve=bt._geo.project([oe,le+1e-5]),Wt=bt._geo.project([oe+1e-5,le]),ge=Z(Wt[1]-Nt,Wt[0]-Lt),Te=Z(ve[1]-Nt,ve[0]-Lt),ce;if(Vt==="north")ce=ot/180*Math.PI;else if(Vt==="previous"){var we=oe/180*Math.PI,yt=le/180*Math.PI,kt=ut/180*Math.PI,Tt=_t/180*Math.PI,K=kt-we,ft=Y(Tt)*rt(K),mt=rt(Tt)*Y(yt)-Y(Tt)*rt(yt)*Y(K);ce=-Z(ft,mt)-Math.PI,ut=oe,_t=le}var gt=st(ge,[Y(ce),0]),It=st(Te,[rt(ce),0]);ot=Z(gt[1]+It[1],gt[0]+It[0])/Math.PI*180,Vt==="previous"&&!(Bt===bt.uid&&pt.i===Xt+1)&&(ot=null)}if(Vt==="previous"&&!bt._geo)if(Bt===bt.uid&&pt.i===Xt+1&&r(Lt)&&r(Nt)){var Mt=Lt-At,qt=Nt-Rt,$t=bt.line&&bt.line.shape||"",ie=$t.slice($t.length-1);ie==="h"&&(qt=0),ie==="v"&&(Mt=0),ot+=Z(qt,Mt)/Math.PI*180+90}else ot=null}return At=Lt,Rt=Nt,Xt=pt.i,Bt=bt.uid,ot}c.getMarkerAngle=Ht}),qr=Dt((F,D)=>{var i=_n(),t=wn(),n=ea(),r=un(),l=Ce(),o=l.strTranslate,s=Nn(),f=bn(),e=ma(),p=ki(),u=Ta().OPPOSITE_SIDE,h=/ [XY][0-9]* /,b=1.6,m=1.6;function g(y,v,c){var d=y._fullLayout,_=c.propContainer,w=c.propName,k=c.placeholder,$=c.traceIndex,P=c.avoid||{},O=c.attributes,T=c.transform,X=c.containerGroup,I=1,E=_.title,N=(E&&E.text?E.text:"").trim(),V=!1,U=E&&E.font?E.font:{},G=U.family,C=U.size,W=U.color,J=U.weight,at=U.style,et=U.variant,it=U.textcase,dt=U.lineposition,ht=U.shadow,xt=c.subtitlePropName,H=!!xt,j=c.subtitlePlaceholder,A=(_.title||{}).subtitle||{text:"",font:{}},q=A.text.trim(),R=!1,z=1,M=A.font,S=M.family,Z=M.size,Y=M.color,rt=M.weight,st=M.style,ut=M.variant,_t=M.textcase,At=M.lineposition,Rt=M.shadow,Xt;w==="title.text"?Xt="titleText":w.indexOf("axis")!==-1?Xt="axisTitleText":w.indexOf("colorbar"!==-1)&&(Xt="colorbarTitleText");var Bt=y._context.edits[Xt];function Ht(Wt,ge){return Wt===void 0||ge===void 0?!1:Wt.replace(h," % ")===ge.replace(h," % ")}N===""?I=0:Ht(N,k)&&(Bt||(N=""),I=.2,V=!0),H&&(q===""?z=0:Ht(q,j)&&(Bt||(q=""),z=.2,R=!0)),c._meta?N=l.templateString(N,c._meta):d._meta&&(N=l.templateString(N,d._meta));var pt=N||q||Bt,bt;X||(X=l.ensureSingle(d._infolayer,"g","g-"+v),bt=d._hColorbarMoveTitle);var ot=X.selectAll("text."+v).data(pt?[0]:[]);ot.enter().append("text"),ot.text(N).attr("class",v),ot.exit().remove();var Lt=null,Nt=v+"-subtitle",Vt=q||Bt;if(H&&Vt&&(Lt=X.selectAll("text."+Nt).data(Vt?[0]:[]),Lt.enter().append("text"),Lt.text(q).attr("class",Nt),Lt.exit().remove()),!pt)return X;function ae(Wt,ge){l.syncOrAsync([Jt,re],{title:Wt,subtitle:ge})}function Jt(Wt){var ge=Wt.title,Te=Wt.subtitle,ce;!T&&bt&&(T={}),T?(ce="",T.rotate&&(ce+="rotate("+[T.rotate,O.x,O.y]+")"),(T.offset||bt)&&(ce+=o(0,(T.offset||0)-(bt||0)))):ce=null,ge.attr("transform",ce);function we(mt){if(mt){var gt=i.select(mt.node().parentNode).select("."+Nt);if(!gt.empty()){var It=mt.node().getBBox();if(It.height){var Mt=It.y+It.height+b*Z;gt.attr("y",Mt)}}}}if(ge.style("opacity",I*f.opacity(W)).call(s.font,{color:f.rgb(W),size:i.round(C,2),family:G,weight:J,style:at,variant:et,textcase:it,shadow:ht,lineposition:dt}).attr(O).call(e.convertToTspans,y,we),Te){var yt=X.select("."+v+"-math-group"),kt=ge.node().getBBox(),Tt=yt.node()?yt.node().getBBox():void 0,K=Tt?Tt.y+Tt.height+b*Z:kt.y+kt.height+m*Z,ft=l.extendFlat({},O,{y:K});Te.attr("transform",ce),Te.style("opacity",z*f.opacity(Y)).call(s.font,{color:f.rgb(Y),size:i.round(Z,2),family:S,weight:rt,style:st,variant:ut,textcase:_t,shadow:Rt,lineposition:At}).attr(ft).call(e.convertToTspans,y)}return n.previousPromises(y)}function re(Wt){var ge=Wt.title,Te=i.select(ge.node().parentNode);if(P&&P.selection&&P.side&&N){Te.attr("transform",null);var ce=u[P.side],we=P.side==="left"||P.side==="top"?-1:1,yt=t(P.pad)?P.pad:2,kt=s.bBox(Te.node()),Tt={t:0,b:0,l:0,r:0},K=y._fullLayout._reservedMargin;for(var ft in K)for(var mt in K[ft]){var gt=K[ft][mt];Tt[mt]=Math.max(Tt[mt],gt)}var It={left:Tt.l,top:Tt.t,right:d.width-Tt.r,bottom:d.height-Tt.b},Mt=P.maxShift||we*(It[P.side]-kt[P.side]),qt=0;if(Mt<0)qt=Mt;else{var $t=P.offsetLeft||0,ie=P.offsetTop||0;kt.left-=$t,kt.right-=$t,kt.top-=ie,kt.bottom-=ie,P.selection.each(function(){var ee=s.bBox(this);l.bBoxIntersect(kt,ee,yt)&&(qt=Math.max(qt,we*(ee[P.side]-kt[ce])+yt))}),qt=Math.min(Mt,qt),_._titleScoot=Math.abs(qt)}if(qt>0||Mt<0){var zt={left:[-qt,0],right:[qt,0],top:[0,-qt],bottom:[0,qt]}[P.side];Te.attr("transform",o(zt[0],zt[1]))}}}ot.call(ae,Lt);function oe(Wt,ge){Wt.text(ge).on("mouseover.opacity",function(){i.select(this).transition().duration(p.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){i.select(this).transition().duration(p.HIDE_PLACEHOLDER).style("opacity",0)})}if(Bt&&(N?ot.on(".opacity",null):(oe(ot,k),V=!0),ot.call(e.makeEditable,{gd:y}).on("edit",function(Wt){$!==void 0?r.call("_guiRestyle",y,w,Wt,$):r.call("_guiRelayout",y,w,Wt)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(ae)}).on("input",function(Wt){this.text(Wt||" ").call(e.positionText,O.x,O.y)}),H)){if(H&&!N){var le=ot.node().getBBox(),ve=le.y+le.height+m*Z;Lt.attr("y",ve)}q?Lt.on(".opacity",null):(oe(Lt,j),R=!0),Lt.call(e.makeEditable,{gd:y}).on("edit",function(Wt){r.call("_guiRelayout",y,"title.subtitle.text",Wt)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(ae)}).on("input",function(Wt){this.text(Wt||" ").call(e.positionText,Lt.attr("x"),Lt.attr("y"))})}return ot.classed("js-placeholder",V),Lt&&Lt.classed("js-placeholder",R),X}D.exports={draw:g,SUBTITLE_PADDING_EM:m,SUBTITLE_PADDING_MATHJAX_EM:b}}),Ni=Dt((F,D)=>{var i=_n(),t=Cr().utcFormat,n=Ce(),r=n.numberFormat,l=wn(),o=n.cleanNumber,s=n.ms2DateTime,f=n.dateTime2ms,e=n.ensureNumber,p=n.isArrayOrTypedArray,u=oa(),h=u.FP_SAFE,b=u.BADNUM,m=u.LOG_CLIP,g=u.ONEWEEK,y=u.ONEDAY,v=u.ONEHOUR,c=u.ONEMIN,d=u.ONESEC,_=ua(),w=pa(),k=w.HOUR_PATTERN,$=w.WEEKDAY_PATTERN;function P(T){return Math.pow(10,T)}function O(T){return T!=null}D.exports=function(T,X){X=X||{};var I=T._id||"x",E=I.charAt(0);function N(A,q){if(A>0)return Math.log(A)/Math.LN10;if(A<=0&&q&&T.range&&T.range.length===2){var R=T.range[0],z=T.range[1];return .5*(R+z-2*m*Math.abs(R-z))}else return b}function V(A,q,R,z){if((z||{}).msUTC&&l(A))return+A;var M=f(A,R||T.calendar);if(M===b)if(l(A)){A=+A;var S=Math.floor(n.mod(A+.05,1)*10),Z=Math.round(A-S/10);M=f(new Date(Z))+S/10}else return b;return M}function U(A,q,R){return s(A,q,R||T.calendar)}function G(A){return T._categories[Math.round(A)]}function C(A){if(O(A)){if(T._categoriesMap===void 0&&(T._categoriesMap={}),T._categoriesMap[A]!==void 0)return T._categoriesMap[A];T._categories.push(typeof A=="number"?String(A):A);var q=T._categories.length-1;return T._categoriesMap[A]=q,q}return b}function W(A,q){for(var R=new Array(q),z=0;z<q;z++){var M=(A[0]||[])[z],S=(A[1]||[])[z];R[z]=J([M,S])}return R}function J(A){if(T._categoriesMap)return T._categoriesMap[A]}function at(A){var q=J(A);if(q!==void 0)return q;if(l(A))return+A}function et(A){return l(A)?+A:J(A)}function it(A,q,R){return i.round(R+q*A,2)}function dt(A,q,R){return(A-R)/q}var ht=function(A){return l(A)?it(A,T._m,T._b):b},xt=function(A){return dt(A,T._m,T._b)};if(T.rangebreaks){var H=E==="y";ht=function(A){if(!l(A))return b;var q=T._rangebreaks.length;if(!q)return it(A,T._m,T._b);var R=H;T.range[0]>T.range[1]&&(R=!R);for(var z=R?-1:1,M=z*A,S=0,Z=0;Z<q;Z++){var Y=z*T._rangebreaks[Z].min,rt=z*T._rangebreaks[Z].max;if(M<Y)break;if(M>rt)S=Z+1;else{S=M<(Y+rt)/2?Z:Z+1;break}}var st=T._B[S]||0;return isFinite(st)?it(A,T._m2,st):0},xt=function(A){var q=T._rangebreaks.length;if(!q)return dt(A,T._m,T._b);for(var R=0,z=0;z<q&&!(A<T._rangebreaks[z].pmin);z++)A>T._rangebreaks[z].pmax&&(R=z+1);return dt(A,T._m2,T._B[R])}}T.c2l=T.type==="log"?N:e,T.l2c=T.type==="log"?P:e,T.l2p=ht,T.p2l=xt,T.c2p=T.type==="log"?function(A,q){return ht(N(A,q))}:ht,T.p2c=T.type==="log"?function(A){return P(xt(A))}:xt,["linear","-"].indexOf(T.type)!==-1?(T.d2r=T.r2d=T.d2c=T.r2c=T.d2l=T.r2l=o,T.c2d=T.c2r=T.l2d=T.l2r=e,T.d2p=T.r2p=function(A){return T.l2p(o(A))},T.p2d=T.p2r=xt,T.cleanPos=e):T.type==="log"?(T.d2r=T.d2l=function(A,q){return N(o(A),q)},T.r2d=T.r2c=function(A){return P(o(A))},T.d2c=T.r2l=o,T.c2d=T.l2r=e,T.c2r=N,T.l2d=P,T.d2p=function(A,q){return T.l2p(T.d2r(A,q))},T.p2d=function(A){return P(xt(A))},T.r2p=function(A){return T.l2p(o(A))},T.p2r=xt,T.cleanPos=e):T.type==="date"?(T.d2r=T.r2d=n.identity,T.d2c=T.r2c=T.d2l=T.r2l=V,T.c2d=T.c2r=T.l2d=T.l2r=U,T.d2p=T.r2p=function(A,q,R){return T.l2p(V(A,0,R))},T.p2d=T.p2r=function(A,q,R){return U(xt(A),q,R)},T.cleanPos=function(A){return n.cleanDate(A,b,T.calendar)}):T.type==="category"?(T.d2c=T.d2l=C,T.r2d=T.c2d=T.l2d=G,T.d2r=T.d2l_noadd=at,T.r2c=function(A){var q=et(A);return q!==void 0?q:T.fraction2r(.5)},T.l2r=T.c2r=e,T.r2l=et,T.d2p=function(A){return T.l2p(T.r2c(A))},T.p2d=function(A){return G(xt(A))},T.r2p=T.d2p,T.p2r=xt,T.cleanPos=function(A){return typeof A=="string"&&A!==""?A:e(A)}):T.type==="multicategory"&&(T.r2d=T.c2d=T.l2d=G,T.d2r=T.d2l_noadd=at,T.r2c=function(A){var q=at(A);return q!==void 0?q:T.fraction2r(.5)},T.r2c_just_indices=J,T.l2r=T.c2r=e,T.r2l=at,T.d2p=function(A){return T.l2p(T.r2c(A))},T.p2d=function(A){return G(xt(A))},T.r2p=T.d2p,T.p2r=xt,T.cleanPos=function(A){return Array.isArray(A)||typeof A=="string"&&A!==""?A:e(A)},T.setupMultiCategory=function(A){var q=T._traceIndices,R,z,M=T._matchGroup;if(M&&T._categories.length===0){for(var S in M)if(S!==I){var Z=X[_.id2name(S)];q=q.concat(Z._traceIndices)}}var Y=[[0,{}],[0,{}]],rt=[];for(R=0;R<q.length;R++){var st=A[q[R]];if(E in st){var ut=st[E],_t=st._length||n.minRowLength(ut);if(p(ut[0])&&p(ut[1]))for(z=0;z<_t;z++){var At=ut[0][z],Rt=ut[1][z];O(At)&&O(Rt)&&(rt.push([At,Rt]),At in Y[0][1]||(Y[0][1][At]=Y[0][0]++),Rt in Y[1][1]||(Y[1][1][Rt]=Y[1][0]++))}}}for(rt.sort(function(Xt,Bt){var Ht=Y[0][1],pt=Ht[Xt[0]]-Ht[Bt[0]];if(pt)return pt;var bt=Y[1][1];return bt[Xt[1]]-bt[Bt[1]]}),R=0;R<rt.length;R++)C(rt[R])}),T.fraction2r=function(A){var q=T.r2l(T.range[0]),R=T.r2l(T.range[1]);return T.l2r(q+A*(R-q))},T.r2fraction=function(A){var q=T.r2l(T.range[0]),R=T.r2l(T.range[1]);return(T.r2l(A)-q)/(R-q)},T.limitRange=function(A){var q=T.minallowed,R=T.maxallowed;if(!(q===void 0&&R===void 0)){A||(A="range");var z=n.nestedProperty(T,A).get(),M=n.simpleMap(z,T.r2l),S=M[1]<M[0];S&&M.reverse();var Z=n.simpleMap([q,R],T.r2l);if(q!==void 0&&M[0]<Z[0]&&(z[S?1:0]=q),R!==void 0&&M[1]>Z[1]&&(z[S?0:1]=R),z[0]===z[1]){var Y=T.l2r(q),rt=T.l2r(R);if(q!==void 0){var st=Y+1;R!==void 0&&(st=Math.min(st,rt)),z[S?1:0]=st}if(R!==void 0){var ut=rt+1;q!==void 0&&(ut=Math.max(ut,Y)),z[S?0:1]=ut}}}},T.cleanRange=function(A,q){T._cleanRange(A,q),T.limitRange(A)},T._cleanRange=function(A,q){q||(q={}),A||(A="range");var R=n.nestedProperty(T,A).get(),z,M;if(T.type==="date"?M=n.dfltRange(T.calendar):E==="y"?M=w.DFLTRANGEY:T._name==="realaxis"?M=[0,1]:M=q.dfltRange||w.DFLTRANGEX,M=M.slice(),(T.rangemode==="tozero"||T.rangemode==="nonnegative")&&(M[0]=0),!R||R.length!==2){n.nestedProperty(T,A).set(M);return}var S=R[0]===null,Z=R[1]===null;for(T.type==="date"&&!T.autorange&&(R[0]=n.cleanDate(R[0],b,T.calendar),R[1]=n.cleanDate(R[1],b,T.calendar)),z=0;z<2;z++)if(T.type==="date"){if(!n.isDateTime(R[z],T.calendar)){T[A]=M;break}if(T.r2l(R[0])===T.r2l(R[1])){var Y=n.constrain(T.r2l(R[0]),n.MIN_MS+1e3,n.MAX_MS-1e3);R[0]=T.l2r(Y-1e3),R[1]=T.l2r(Y+1e3);break}}else{if(!l(R[z]))if(!(S||Z)&&l(R[1-z]))R[z]=R[1-z]*(z?10:.1);else{T[A]=M;break}if(R[z]<-h?R[z]=-h:R[z]>h&&(R[z]=h),R[0]===R[1]){var rt=Math.max(1,Math.abs(R[0]*1e-6));R[0]-=rt,R[1]+=rt}}},T.setScale=function(A){var q=X._size;if(T.overlaying){var R=_.getFromId({_fullLayout:X},T.overlaying);T.domain=R.domain}var z=A&&T._r?"_r":"range",M=T.calendar;T.cleanRange(z);var S=T.r2l(T[z][0],M),Z=T.r2l(T[z][1],M),Y=E==="y";if(Y?(T._offset=q.t+(1-T.domain[1])*q.h,T._length=q.h*(T.domain[1]-T.domain[0]),T._m=T._length/(S-Z),T._b=-T._m*Z):(T._offset=q.l+T.domain[0]*q.w,T._length=q.w*(T.domain[1]-T.domain[0]),T._m=T._length/(Z-S),T._b=-T._m*S),T._rangebreaks=[],T._lBreaks=0,T._m2=0,T._B=[],T.rangebreaks){var rt,st;if(T._rangebreaks=T.locateBreaks(Math.min(S,Z),Math.max(S,Z)),T._rangebreaks.length){for(rt=0;rt<T._rangebreaks.length;rt++)st=T._rangebreaks[rt],T._lBreaks+=Math.abs(st.max-st.min);var ut=Y;S>Z&&(ut=!ut),ut&&T._rangebreaks.reverse();var _t=ut?-1:1;for(T._m2=_t*T._length/(Math.abs(Z-S)-T._lBreaks),T._B.push(-T._m2*(Y?Z:S)),rt=0;rt<T._rangebreaks.length;rt++)st=T._rangebreaks[rt],T._B.push(T._B[T._B.length-1]-_t*T._m2*(st.max-st.min));for(rt=0;rt<T._rangebreaks.length;rt++)st=T._rangebreaks[rt],st.pmin=ht(st.min),st.pmax=ht(st.max)}}if(!isFinite(T._m)||!isFinite(T._b)||T._length<0)throw X._replotting=!1,new Error("Something went wrong with axis scaling")},T.maskBreaks=function(A){var q=T.rangebreaks||[],R,z,M,S,Z;q._cachedPatterns||(q._cachedPatterns=q.map(function(Ht){return Ht.enabled&&Ht.bounds?n.simpleMap(Ht.bounds,Ht.pattern?o:T.d2c):null})),q._cachedValues||(q._cachedValues=q.map(function(Ht){return Ht.enabled&&Ht.values?n.simpleMap(Ht.values,T.d2c).sort(n.sorterAsc):null}));for(var Y=0;Y<q.length;Y++){var rt=q[Y];if(rt.enabled){if(rt.bounds){var st=rt.pattern;switch(R=q._cachedPatterns[Y],z=R[0],M=R[1],st){case $:Z=new Date(A),S=Z.getUTCDay(),z>M&&(M+=7,S<z&&(S+=7));break;case k:Z=new Date(A);var ut=Z.getUTCHours(),_t=Z.getUTCMinutes(),At=Z.getUTCSeconds(),Rt=Z.getUTCMilliseconds();S=ut+(_t/60+At/3600+Rt/36e5),z>M&&(M+=24,S<z&&(S+=24));break;case"":S=A;break}if(S>=z&&S<M)return b}else for(var Xt=q._cachedValues[Y],Bt=0;Bt<Xt.length;Bt++)if(z=Xt[Bt],M=z+rt.dvalue,A>=z&&A<M)return b}}return A},T.locateBreaks=function(A,q){var R,z,M,S,Z=[];if(!T.rangebreaks)return Z;var Y=T.rangebreaks.slice().sort(function(bt,ot){return bt.pattern===$&&ot.pattern===k?-1:ot.pattern===$&&bt.pattern===k?1:0}),rt=function(bt,ot){if(bt=n.constrain(bt,A,q),ot=n.constrain(ot,A,q),bt!==ot){for(var Lt=!0,Nt=0;Nt<Z.length;Nt++){var Vt=Z[Nt];bt<Vt.max&&ot>=Vt.min&&(bt<Vt.min&&(Vt.min=bt),ot>Vt.max&&(Vt.max=ot),Lt=!1)}Lt&&Z.push({min:bt,max:ot})}};for(R=0;R<Y.length;R++){var st=Y[R];if(st.enabled)if(st.bounds){var ut=A,_t=q;st.pattern&&(ut=Math.floor(ut)),z=n.simpleMap(st.bounds,st.pattern?o:T.r2l),M=z[0],S=z[1];var At=new Date(ut),Rt,Xt;switch(st.pattern){case $:Xt=g,Rt=((S<M?7:0)+(S-M))*y,ut+=M*y-(At.getUTCDay()*y+At.getUTCHours()*v+At.getUTCMinutes()*c+At.getUTCSeconds()*d+At.getUTCMilliseconds());break;case k:Xt=y,Rt=((S<M?24:0)+(S-M))*v,ut+=M*v-(At.getUTCHours()*v+At.getUTCMinutes()*c+At.getUTCSeconds()*d+At.getUTCMilliseconds());break;default:ut=Math.min(z[0],z[1]),_t=Math.max(z[0],z[1]),Xt=_t-ut,Rt=Xt}for(var Bt=ut;Bt<_t;Bt+=Xt)rt(Bt,Bt+Rt)}else for(var Ht=n.simpleMap(st.values,T.d2c),pt=0;pt<Ht.length;pt++)M=Ht[pt],S=M+st.dvalue,rt(M,S)}return Z.sort(function(bt,ot){return bt.min-ot.min}),Z},T.makeCalcdata=function(A,q,R){var z,M,S,Z,Y=T.type,rt=Y==="date"&&A[q+"calendar"];if(q in A){if(z=A[q],Z=A._length||n.minRowLength(z),n.isTypedArray(z)&&(Y==="linear"||Y==="log")){if(Z===z.length)return z;if(z.subarray)return z.subarray(0,Z)}if(Y==="multicategory")return W(z,Z);for(M=new Array(Z),S=0;S<Z;S++)M[S]=T.d2c(z[S],0,rt,R)}else{var st=q+"0"in A?T.d2c(A[q+"0"],0,rt):0,ut=A["d"+q]?Number(A["d"+q]):1;for(z=A[{x:"y",y:"x"}[q]],Z=A._length||z.length,M=new Array(Z),S=0;S<Z;S++)M[S]=st+S*ut}if(T.rangebreaks)for(S=0;S<Z;S++)M[S]=T.maskBreaks(M[S]);return M},T.isValidRange=function(A,q){return Array.isArray(A)&&A.length===2&&(q&&A[0]===null||l(T.r2l(A[0])))&&(q&&A[1]===null||l(T.r2l(A[1])))},T.getAutorangeDflt=function(A,q){var R=!T.isValidRange(A,"nullOk");return R&&q&&q.reverseDflt?R="reversed":A&&(A[0]===null&&A[1]===null?R=!0:A[0]===null&&A[1]!==null?R="min":A[0]!==null&&A[1]===null&&(R="max")),R},T.isReversed=function(){var A=T.autorange;return A==="reversed"||A==="min reversed"||A==="max reversed"},T.isPtWithinRange=function(A,q){var R=T.c2l(A[E],null,q),z=T.r2l(T.range[0]),M=T.r2l(T.range[1]);return z<M?z<=R&&R<=M:M<=R&&R<=z},T._emptyCategories=function(){T._categories=[],T._categoriesMap={}},T.clearCalc=function(){var A=T._matchGroup;if(A){var q=null,R=null;for(var z in A){var M=X[_.id2name(z)];if(M._categories){q=M._categories,R=M._categoriesMap;break}}q&&R?(T._categories=q,T._categoriesMap=R):T._emptyCategories()}else T._emptyCategories();if(T._initialCategories)for(var S=0;S<T._initialCategories.length;S++)C(T._initialCategories[S])},T.sortByInitialCategories=function(){var A=[];if(T._emptyCategories(),T._initialCategories)for(var q=0;q<T._initialCategories.length;q++)C(T._initialCategories[q]);A=A.concat(T._traceIndices);var R=T._matchGroup;for(var z in R)if(I!==z){var M=X[_.id2name(z)];M._categories=T._categories,M._categoriesMap=T._categoriesMap,A=A.concat(M._traceIndices)}return A};var j=X._d3locale;T.type==="date"&&(T._dateFormat=j?j.timeFormat:t,T._extraFormat=X._extraFormat),T._separators=X.separators,T._numFormat=j?j.numberFormat:r,delete T._minDtick,delete T._forceTick0}}),il=Dt((F,D)=>{var i=wn(),t=Ce(),n=oa().BADNUM,r=t.isArrayOrTypedArray,l=t.isDateTime,o=t.cleanNumber,s=Math.round;D.exports=function(m,g,y){var v=m,c=y.noMultiCategory;if(r(v)&&!v.length)return"-";if(!c&&b(v))return"multicategory";if(c&&Array.isArray(v[0])){for(var d=[],_=0;_<v.length;_++)if(r(v[_]))for(var w=0;w<v[_].length;w++)d.push(v[_][w]);v=d}if(p(v,g))return"date";var k=y.autotypenumbers!=="strict";return h(v,k)?"category":e(v,k)?"linear":"-"};function f(m,g){return g?i(m):typeof m=="number"}function e(m,g){for(var y=m.length,v=0;v<y;v++)if(f(m[v],g))return!0;return!1}function p(m,g){for(var y=m.length,v=u(y),c=0,d=0,_={},w=0;w<y;w+=v){var k=s(w),$=m[k],P=String($);_[P]||(_[P]=1,l($,g)&&c++,i($)&&d++)}return c>d*2}function u(m){return Math.max(1,(m-1)/1e3)}function h(m,g){for(var y=m.length,v=u(y),c=0,d=0,_={},w=0;w<y;w+=v){var k=s(w),$=m[k],P=String($);if(!_[P]){_[P]=1;var O=typeof $;O==="boolean"?d++:(g?o($)!==n:O==="number")?c++:O==="string"&&d++}}return d>c*2}function b(m){return r(m[0])&&r(m[1])}}),$r=Dt((F,D)=>{var i=_n(),t=wn(),n=Ce(),r=oa().FP_SAFE,l=un(),o=Nn(),s=ua(),f=s.getFromId,e=s.isLinked;D.exports={applyAutorangeOptions:X,getAutoRange:p,makePadFn:h,doAutoRange:y,findExtremes:v,concatExtremes:g};function p(I,E){var N,V,U=[],G=I._fullLayout,C=h(G,E,0),W=h(G,E,1),J=g(I,E),at=J.min,et=J.max;if(at.length===0||et.length===0)return n.simpleMap(E.range,E.r2l);var it=at[0].val,dt=et[0].val;for(N=1;N<at.length&&it===dt;N++)it=Math.min(it,at[N].val);for(N=1;N<et.length&&it===dt;N++)dt=Math.max(dt,et[N].val);var ht=E.autorange,xt=ht==="reversed"||ht==="min reversed"||ht==="max reversed";if(!xt&&E.range){var H=n.simpleMap(E.range,E.r2l);xt=H[1]<H[0]}E.autorange==="reversed"&&(E.autorange=!0);var j=E.rangemode,A=j==="tozero",q=j==="nonnegative",R=E._length,z=R/10,M=0,S,Z,Y,rt,st,ut;for(N=0;N<at.length;N++)for(S=at[N],V=0;V<et.length;V++)Z=et[V],ut=Z.val-S.val-u(E,S.val,Z.val),ut>0&&(st=R-C(S)-W(Z),st>z?ut/st>M&&(Y=S,rt=Z,M=ut/st):ut/R>M&&(Y={val:S.val,nopad:1},rt={val:Z.val,nopad:1},M=ut/R));function _t(Ht,pt){return Math.max(Ht,W(pt))}if(it===dt){var At=it-1,Rt=it+1;if(A)if(it===0)U=[0,1];else{var Xt=(it>0?et:at).reduce(_t,0),Bt=it/(1-Math.min(.5,Xt/R));U=it>0?[0,Bt]:[Bt,0]}else q?U=[Math.max(0,At),Math.max(1,Rt)]:U=[At,Rt]}else A?(Y.val>=0&&(Y={val:0,nopad:1}),rt.val<=0&&(rt={val:0,nopad:1})):q&&(Y.val-M*C(Y)<0&&(Y={val:0,nopad:1}),rt.val<=0&&(rt={val:1,nopad:1})),M=(rt.val-Y.val-u(E,S.val,Z.val))/(R-C(Y)-W(rt)),U=[Y.val-M*C(Y),rt.val+M*W(rt)];return U=X(U,E),E.limitRange&&E.limitRange(),xt&&U.reverse(),n.simpleMap(U,E.l2r||Number)}function u(I,E,N){var V=0;if(I.rangebreaks)for(var U=I.locateBreaks(E,N),G=0;G<U.length;G++){var C=U[G];V+=C.max-C.min}return V}function h(I,E,N){var V=.05*E._length,U=E._anchorAxis||{};if((E.ticklabelposition||"").indexOf("inside")!==-1||(U.ticklabelposition||"").indexOf("inside")!==-1){var G=E.isReversed();if(!G){var C=n.simpleMap(E.range,E.r2l);G=C[1]<C[0]}G&&(N=!N)}var W=0;return e(I,E._id)||(W=m(I,E,N)),V=Math.max(W,V),E.constrain==="domain"&&E._inputDomain&&(V*=(E._inputDomain[1]-E._inputDomain[0])/(E.domain[1]-E.domain[0])),function(J){return J.nopad?0:J.pad+(J.extrapad?V:W)}}var b=3;function m(I,E,N){var V=0,U=E._id.charAt(0)==="x";for(var G in I._plots){var C=I._plots[G];if(!(E._id!==C.xaxis._id&&E._id!==C.yaxis._id)){var W=(U?C.yaxis:C.xaxis)||{};if((W.ticklabelposition||"").indexOf("inside")!==-1&&(!N&&(W.side==="left"||W.side==="bottom")||N&&(W.side==="top"||W.side==="right"))){if(W._vals){var J=n.deg2rad(W._tickAngles[W._id+"tick"]||0),at=Math.abs(Math.cos(J)),et=Math.abs(Math.sin(J));if(!W._vals[0].bb){var it=W._id+"tick",dt=W._selections[it];dt.each(function(q){var R=i.select(this),z=R.select(".text-math-group");z.empty()&&(q.bb=o.bBox(R.node()))})}for(var ht=0;ht<W._vals.length;ht++){var xt=W._vals[ht],H=xt.bb;if(H){var j=2*b+H.width,A=2*b+H.height;V=Math.max(V,U?Math.max(j*at,A*et):Math.max(A*at,j*et))}}}W.ticks==="inside"&&W.ticklabelposition==="inside"&&(V+=W.ticklen||0)}}}return V}function g(I,E,N){var V=E._id,U=I._fullData,G=I._fullLayout,C=[],W=[],J,at,et;function it(j,A){for(J=0;J<A.length;J++){var q=j[A[J]],R=(q._extremes||{})[V];if(q.visible===!0&&R){for(at=0;at<R.min.length;at++)et=R.min[at],c(C,et.val,et.pad,{extrapad:et.extrapad});for(at=0;at<R.max.length;at++)et=R.max[at],d(W,et.val,et.pad,{extrapad:et.extrapad})}}}if(it(U,E._traceIndices),it(G.annotations||[],E._annIndices||[]),it(G.shapes||[],E._shapeIndices||[]),E._matchGroup&&!N){for(var dt in E._matchGroup)if(dt!==E._id){var ht=f(I,dt),xt=g(I,ht,!0),H=E._length/ht._length;for(at=0;at<xt.min.length;at++)et=xt.min[at],c(C,et.val,et.pad*H,{extrapad:et.extrapad});for(at=0;at<xt.max.length;at++)et=xt.max[at],d(W,et.val,et.pad*H,{extrapad:et.extrapad})}}return{min:C,max:W}}function y(I,E,N){if(E.setScale(),E.autorange){E.range=N?N.slice():p(I,E),E._r=E.range.slice(),E._rl=n.simpleMap(E._r,E.r2l);var V=E._input,U={};U[E._attr+".range"]=E.range,U[E._attr+".autorange"]=E.autorange,l.call("_storeDirectGUIEdit",I.layout,I._fullLayout._preGUI,U),V.range=E.range.slice(),V.autorange=E.autorange}var G=E._anchorAxis;if(G&&G.rangeslider){var C=G.rangeslider[E._name];C&&C.rangemode==="auto"&&(C.range=p(I,E)),G._input.rangeslider[E._name]=n.extendFlat({},C)}}function v(I,E,N){N||(N={}),I._m||I.setScale();var V=[],U=[],G=E.length,C=N.padded||!1,W=N.tozero&&(I.type==="linear"||I.type==="-"),J=I.type==="log",at=!1,et=N.vpadLinearized||!1,it,dt,ht,xt,H,j,A,q,R;function z(_t){if(Array.isArray(_t))return at=!0,function(Rt){return Math.max(Number(_t[Rt]||0),0)};var At=Math.max(Number(_t||0),0);return function(){return At}}var M=z((I._m>0?N.ppadplus:N.ppadminus)||N.ppad||0),S=z((I._m>0?N.ppadminus:N.ppadplus)||N.ppad||0),Z=z(N.vpadplus||N.vpad),Y=z(N.vpadminus||N.vpad);if(!at){if(q=1/0,R=-1/0,J)for(it=0;it<G;it++)dt=E[it],dt<q&&dt>0&&(q=dt),dt>R&&dt<r&&(R=dt);else for(it=0;it<G;it++)dt=E[it],dt<q&&dt>-r&&(q=dt),dt>R&&dt<r&&(R=dt);E=[q,R],G=2}var rt={tozero:W,extrapad:C};function st(_t){ht=E[_t],t(ht)&&(j=M(_t),A=S(_t),et?(xt=I.c2l(ht)-Y(_t),H=I.c2l(ht)+Z(_t)):(q=ht-Y(_t),R=ht+Z(_t),J&&q<R/10&&(q=R/10),xt=I.c2l(q),H=I.c2l(R)),W&&(xt=Math.min(0,xt),H=Math.max(0,H)),w(xt)&&c(V,xt,A,rt),w(H)&&d(U,H,j,rt))}var ut=Math.min(6,G);for(it=0;it<ut;it++)st(it);for(it=G-1;it>=ut;it--)st(it);return{min:V,max:U,opts:N}}function c(I,E,N,V){_(I,E,N,V,k)}function d(I,E,N,V){_(I,E,N,V,$)}function _(I,E,N,V,U){for(var G=V.tozero,C=V.extrapad,W=!0,J=0;J<I.length&&W;J++){var at=I[J];if(U(at.val,E)&&at.pad>=N&&(at.extrapad||!C)){W=!1;break}else U(E,at.val)&&at.pad<=N&&(C||!at.extrapad)&&(I.splice(J,1),J--)}if(W){var et=G&&E===0;I.push({val:E,pad:et?0:N,extrapad:et?!1:C})}}function w(I){return t(I)&&Math.abs(I)<r}function k(I,E){return I<=E}function $(I,E){return I>=E}function P(I,E){var N=E.autorangeoptions;return N&&N.minallowed!==void 0&&T(E,N.minallowed,N.maxallowed)?N.minallowed:N&&N.clipmin!==void 0&&T(E,N.clipmin,N.clipmax)?Math.max(I,E.d2l(N.clipmin)):I}function O(I,E){var N=E.autorangeoptions;return N&&N.maxallowed!==void 0&&T(E,N.minallowed,N.maxallowed)?N.maxallowed:N&&N.clipmax!==void 0&&T(E,N.clipmin,N.clipmax)?Math.min(I,E.d2l(N.clipmax)):I}function T(I,E,N){return E!==void 0&&N!==void 0?(E=I.d2l(E),N=I.d2l(N),E<N):!0}function X(I,E){if(!E||!E.autorangeoptions)return I;var N=I[0],V=I[1],U=E.autorangeoptions.include;if(U!==void 0){var G=E.d2l(N),C=E.d2l(V);n.isArrayOrTypedArray(U)||(U=[U]);for(var W=0;W<U.length;W++){var J=E.d2l(U[W]);G>=J&&(G=J,N=J),C<=J&&(C=J,V=J)}}return N=P(N,E),V=O(V,E),[N,V]}}),Yn=Dt((F,D)=>{var i=_n(),t=wn(),n=ea(),r=un(),l=Ce(),o=l.strTranslate,s=ma(),f=qr(),e=bn(),p=Nn(),u=Va(),h=qo(),b=oa(),m=b.ONEMAXYEAR,g=b.ONEAVGYEAR,y=b.ONEMINYEAR,v=b.ONEMAXQUARTER,c=b.ONEAVGQUARTER,d=b.ONEMINQUARTER,_=b.ONEMAXMONTH,w=b.ONEAVGMONTH,k=b.ONEMINMONTH,$=b.ONEWEEK,P=b.ONEDAY,O=P/2,T=b.ONEHOUR,X=b.ONEMIN,I=b.ONESEC,E=b.ONEMILLI,N=b.ONEMICROSEC,V=b.MINUS_SIGN,U=b.BADNUM,G={K:"zeroline"},C={K:"gridline",L:"path"},W={K:"minor-gridline",L:"path"},J={K:"tick",L:"path"},at={K:"tick",L:"text"},et={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},it=Ta(),dt=it.MID_SHIFT,ht=it.CAP_SHIFT,xt=it.LINE_SPACING,H=it.OPPOSITE_SIDE,j=3,A=D.exports={};A.setConvert=Ni();var q=il(),R=ua(),z=R.idSort,M=R.isLinked;A.id2name=R.id2name,A.name2id=R.name2id,A.cleanId=R.cleanId,A.list=R.list,A.listIds=R.listIds,A.getFromId=R.getFromId,A.getFromTrace=R.getFromTrace;var S=$r();A.getAutoRange=S.getAutoRange,A.findExtremes=S.findExtremes;var Z=1e-4;function Y(tt){var lt=(tt[1]-tt[0])*Z;return[tt[0]-lt,tt[1]+lt]}A.coerceRef=function(tt,lt,Yt,jt,Ot,Pt){var Et=jt.charAt(jt.length-1),Gt=Yt._fullLayout._subplots[Et+"axis"],Ft=jt+"ref",Ut={};return Ot||(Ot=Gt[0]||(typeof Pt=="string"?Pt:Pt[0])),Pt||(Pt=Ot),Gt=Gt.concat(Gt.map(function(Qt){return Qt+" domain"})),Ut[Ft]={valType:"enumerated",values:Gt.concat(Pt?typeof Pt=="string"?[Pt]:Pt:[]),dflt:Ot},l.coerce(tt,lt,Ut,Ft)},A.getRefType=function(tt){return tt===void 0?tt:tt==="paper"?"paper":tt==="pixel"?"pixel":/( domain)$/.test(tt)?"domain":"range"},A.coercePosition=function(tt,lt,Yt,jt,Ot,Pt){var Et,Gt,Ft=A.getRefType(jt);if(Ft!=="range")Et=l.ensureNumber,Gt=Yt(Ot,Pt);else{var Ut=A.getFromId(lt,jt);Pt=Ut.fraction2r(Pt),Gt=Yt(Ot,Pt),Et=Ut.cleanPos}tt[Ot]=Et(Gt)},A.cleanPosition=function(tt,lt,Yt){var jt=Yt==="paper"||Yt==="pixel"?l.ensureNumber:A.getFromId(lt,Yt).cleanPos;return jt(tt)},A.redrawComponents=function(tt,lt){lt=lt||A.listIds(tt);var Yt=tt._fullLayout;function jt(Ot,Pt,Et,Gt){for(var Ft=r.getComponentMethod(Ot,Pt),Ut={},Qt=0;Qt<lt.length;Qt++)for(var ne=Yt[A.id2name(lt[Qt])],ye=ne[Et],_e=0;_e<ye.length;_e++){var Me=ye[_e];if(!Ut[Me]&&(Ft(tt,Me),Ut[Me]=1,Gt))return}}jt("annotations","drawOne","_annIndices"),jt("shapes","drawOne","_shapeIndices"),jt("images","draw","_imgIndices",!0),jt("selections","drawOne","_selectionIndices")};var rt=A.getDataConversions=function(tt,lt,Yt,jt){var Ot,Pt=Yt==="x"||Yt==="y"||Yt==="z"?Yt:jt;if(l.isArrayOrTypedArray(Pt)){if(Ot={type:q(jt,void 0,{autotypenumbers:tt._fullLayout.autotypenumbers}),_categories:[]},A.setConvert(Ot),Ot.type==="category")for(var Et=0;Et<jt.length;Et++)Ot.d2c(jt[Et])}else Ot=A.getFromTrace(tt,lt,Pt);return Ot?{d2c:Ot.d2c,c2d:Ot.c2d}:Pt==="ids"?{d2c:ut,c2d:ut}:{d2c:st,c2d:st}};function st(tt){return+tt}function ut(tt){return String(tt)}A.getDataToCoordFunc=function(tt,lt,Yt,jt){return rt(tt,lt,Yt,jt).d2c},A.counterLetter=function(tt){var lt=tt.charAt(0);if(lt==="x")return"y";if(lt==="y")return"x"},A.minDtick=function(tt,lt,Yt,jt){["log","category","multicategory"].indexOf(tt.type)!==-1||!jt?tt._minDtick=0:tt._minDtick===void 0?(tt._minDtick=lt,tt._forceTick0=Yt):tt._minDtick&&((tt._minDtick/lt+1e-6)%1<2e-6&&((Yt-tt._forceTick0)/lt%1+1.000001)%1<2e-6?(tt._minDtick=lt,tt._forceTick0=Yt):((lt/tt._minDtick+1e-6)%1>2e-6||((Yt-tt._forceTick0)/tt._minDtick%1+1.000001)%1>2e-6)&&(tt._minDtick=0))},A.saveRangeInitial=function(tt,lt){for(var Yt=A.list(tt,"",!0),jt=!1,Ot=0;Ot<Yt.length;Ot++){var Pt=Yt[Ot],Et=Pt._rangeInitial0===void 0&&Pt._rangeInitial1===void 0,Gt=Et||Pt.range[0]!==Pt._rangeInitial0||Pt.range[1]!==Pt._rangeInitial1,Ft=Pt.autorange;(Et&&Ft!==!0||lt&&Gt)&&(Pt._rangeInitial0=Ft==="min"||Ft==="max reversed"?void 0:Pt.range[0],Pt._rangeInitial1=Ft==="max"||Ft==="min reversed"?void 0:Pt.range[1],Pt._autorangeInitial=Ft,jt=!0)}return jt},A.saveShowSpikeInitial=function(tt,lt){for(var Yt=A.list(tt,"",!0),jt=!1,Ot="on",Pt=0;Pt<Yt.length;Pt++){var Et=Yt[Pt],Gt=Et._showSpikeInitial===void 0,Ft=Gt||Et.showspikes!==Et._showspikes;(Gt||lt&&Ft)&&(Et._showSpikeInitial=Et.showspikes,jt=!0),Ot==="on"&&!Et.showspikes&&(Ot="off")}return tt._fullLayout._cartesianSpikesEnabled=Ot,jt},A.autoBin=function(tt,lt,Yt,jt,Ot,Pt){var Et=l.aggNums(Math.min,null,tt),Gt=l.aggNums(Math.max,null,tt);if(lt.type==="category"||lt.type==="multicategory")return{start:Et-.5,end:Gt+.5,size:Math.max(1,Math.round(Pt)||1),_dataSpan:Gt-Et};Ot||(Ot=lt.calendar);var Ft;if(lt.type==="log"?Ft={type:"linear",range:[Et,Gt]}:Ft={type:lt.type,range:l.simpleMap([Et,Gt],lt.c2r,0,Ot),calendar:Ot},A.setConvert(Ft),Pt=Pt&&h.dtick(Pt,Ft.type),Pt)Ft.dtick=Pt,Ft.tick0=h.tick0(void 0,Ft.type,Ot);else{var Ut;if(Yt)Ut=(Gt-Et)/Yt;else{var Qt=l.distinctVals(tt),ne=Math.pow(10,Math.floor(Math.log(Qt.minDiff)/Math.LN10)),ye=ne*l.roundUp(Qt.minDiff/ne,[.9,1.9,4.9,9.9],!0);Ut=Math.max(ye,2*l.stdev(tt)/Math.pow(tt.length,jt?.25:.4)),t(Ut)||(Ut=1)}A.autoTicks(Ft,Ut)}var _e=Ft.dtick,Me=A.tickIncrement(A.tickFirst(Ft),_e,"reverse",Ot),Oe,Ie;if(typeof _e=="number")Me=_t(Me,tt,Ft,Et,Gt),Ie=1+Math.floor((Gt-Me)/_e),Oe=Me+Ie*_e;else for(Ft.dtick.charAt(0)==="M"&&(Me=At(Me,tt,_e,Et,Ot)),Oe=Me,Ie=0;Oe<=Gt;)Oe=A.tickIncrement(Oe,_e,!1,Ot),Ie++;return{start:lt.c2r(Me,0,Ot),end:lt.c2r(Oe,0,Ot),size:_e,_dataSpan:Gt-Et}};function _t(tt,lt,Yt,jt,Ot){var Pt=0,Et=0,Gt=0,Ft=0;function Ut(_e){return(1+(_e-tt)*100/Yt.dtick)%100<2}for(var Qt=0;Qt<lt.length;Qt++)lt[Qt]%1===0?Gt++:t(lt[Qt])||Ft++,Ut(lt[Qt])&&Pt++,Ut(lt[Qt]+Yt.dtick/2)&&Et++;var ne=lt.length-Ft;if(Gt===ne&&Yt.type!=="date")Yt.dtick<1?tt=jt-.5*Yt.dtick:(tt-=.5,tt+Yt.dtick<jt&&(tt+=Yt.dtick));else if(Et<ne*.1&&(Pt>ne*.3||Ut(jt)||Ut(Ot))){var ye=Yt.dtick/2;tt+=tt+ye<jt?ye:-ye}return tt}function At(tt,lt,Yt,jt,Ot){var Pt=l.findExactDates(lt,Ot),Et=.8;if(Pt.exactDays>Et){var Gt=Number(Yt.substr(1));Pt.exactYears>Et&&Gt%12===0?tt=A.tickIncrement(tt,"M6","reverse")+P*1.5:Pt.exactMonths>Et?tt=A.tickIncrement(tt,"M1","reverse")+P*15.5:tt-=O;var Ft=A.tickIncrement(tt,Yt);if(Ft<=jt)return Ft}return tt}A.prepMinorTicks=function(tt,lt,Yt){if(!lt.minor.dtick){delete tt.dtick;var jt=lt.dtick&&t(lt._tmin),Ot;if(jt){var Pt=A.tickIncrement(lt._tmin,lt.dtick,!0);Ot=[lt._tmin,Pt*.99+lt._tmin*.01]}else{var Et=l.simpleMap(lt.range,lt.r2l);Ot=[Et[0],.8*Et[0]+.2*Et[1]]}if(tt.range=l.simpleMap(Ot,lt.l2r),tt._isMinor=!0,A.prepTicks(tt,Yt),jt){var Gt=t(lt.dtick),Ft=t(tt.dtick),Ut=Gt?lt.dtick:+lt.dtick.substring(1),Qt=Ft?tt.dtick:+tt.dtick.substring(1);Gt&&Ft?Rt(Ut,Qt)?Ut===2*$&&Qt===2*P&&(tt.dtick=$):Ut===2*$&&Qt===3*P?tt.dtick=$:Ut===$&&!(lt._input.minor||{}).nticks?tt.dtick=P:Xt(Ut/Qt,2.5)?tt.dtick=Ut/2:tt.dtick=Ut:String(lt.dtick).charAt(0)==="M"?Ft?tt.dtick="M1":Rt(Ut,Qt)?Ut>=12&&Qt===2&&(tt.dtick="M3"):tt.dtick=lt.dtick:String(tt.dtick).charAt(0)==="L"?String(lt.dtick).charAt(0)==="L"?Rt(Ut,Qt)||(tt.dtick=Xt(Ut/Qt,2.5)?lt.dtick/2:lt.dtick):tt.dtick="D1":tt.dtick==="D2"&&+lt.dtick>1&&(tt.dtick=1)}tt.range=lt.range}lt.minor._tick0Init===void 0&&(tt.tick0=lt.tick0)};function Rt(tt,lt){return Math.abs((tt/lt+.5)%1-.5)<.001}function Xt(tt,lt){return Math.abs(tt/lt-1)<.001}A.prepTicks=function(tt,lt){var Yt=l.simpleMap(tt.range,tt.r2l,void 0,void 0,lt);if(tt.tickmode==="auto"||!tt.dtick){var jt=tt.nticks,Ot;jt||(tt.type==="category"||tt.type==="multicategory"?(Ot=tt.tickfont?l.bigFont(tt.tickfont.size||12):15,jt=tt._length/Ot):(Ot=tt._id.charAt(0)==="y"?40:80,jt=l.constrain(tt._length/Ot,4,9)+1),tt._name==="radialaxis"&&(jt*=2)),tt.minor&&tt.minor.tickmode!=="array"||tt.tickmode==="array"&&(jt*=100),tt._roughDTick=Math.abs(Yt[1]-Yt[0])/jt,A.autoTicks(tt,tt._roughDTick),tt._minDtick>0&&tt.dtick<tt._minDtick*2&&(tt.dtick=tt._minDtick,tt.tick0=tt.l2r(tt._forceTick0))}tt.ticklabelmode==="period"&&Ht(tt),tt.tick0||(tt.tick0=tt.type==="date"?"2000-01-01":0),tt.type==="date"&&tt.dtick<.1&&(tt.dtick=.1),Wt(tt)};function Bt(tt){return+tt.substring(1)}function Ht(tt){var lt;function Yt(){return!(t(tt.dtick)||tt.dtick.charAt(0)!=="M")}var jt=Yt(),Ot=A.getTickFormat(tt);if(Ot){var Pt=tt._dtickInit!==tt.dtick;/%[fLQsSMX]/.test(Ot)||(/%[HI]/.test(Ot)?(lt=T,Pt&&!jt&&tt.dtick<T&&(tt.dtick=T)):/%p/.test(Ot)?(lt=O,Pt&&!jt&&tt.dtick<O&&(tt.dtick=O)):/%[Aadejuwx]/.test(Ot)?(lt=P,Pt&&!jt&&tt.dtick<P&&(tt.dtick=P)):/%[UVW]/.test(Ot)?(lt=$,Pt&&!jt&&tt.dtick<$&&(tt.dtick=$)):/%[Bbm]/.test(Ot)?(lt=w,Pt&&(jt?Bt(tt.dtick)<1:tt.dtick<k)&&(tt.dtick="M1")):/%[q]/.test(Ot)?(lt=c,Pt&&(jt?Bt(tt.dtick)<3:tt.dtick<d)&&(tt.dtick="M3")):/%[Yy]/.test(Ot)&&(lt=g,Pt&&(jt?Bt(tt.dtick)<12:tt.dtick<y)&&(tt.dtick="M12")))}jt=Yt(),jt&&tt.tick0===tt._dowTick0&&(tt.tick0=tt._rawTick0),tt._definedDelta=lt}function pt(tt,lt,Yt){for(var jt=0;jt<tt.length;jt++){var Ot=tt[jt].value,Pt=jt,Et=jt+1;jt<tt.length-1?(Pt=jt,Et=jt+1):jt>0?(Pt=jt-1,Et=jt):(Pt=jt,Et=jt);var Gt=tt[Pt].value,Ft=tt[Et].value,Ut=Math.abs(Ft-Gt),Qt=Yt||Ut,ne=0;Qt>=y?Ut>=y&&Ut<=m?ne=Ut:ne=g:Yt===c&&Qt>=d?Ut>=d&&Ut<=v?ne=Ut:ne=c:Qt>=k?Ut>=k&&Ut<=_?ne=Ut:ne=w:Yt===$&&Qt>=$?ne=$:Qt>=P?ne=P:Yt===O&&Qt>=O?ne=O:Yt===T&&Qt>=T&&(ne=T);var ye;ne>=Ut&&(ne=Ut,ye=!0);var _e=Ot+ne;if(lt.rangebreaks&&ne>0){for(var Me=84,Oe=0,Ie=0;Ie<Me;Ie++){var Je=(Ie+.5)/Me;lt.maskBreaks(Ot*(1-Je)+Je*_e)!==U&&Oe++}ne*=Oe/Me,ne||(tt[jt].drop=!0),ye&&Ut>$&&(ne=Ut)}(ne>0||jt===0)&&(tt[jt].periodX=Ot+ne/2)}}A.calcTicks=function(tt,lt){for(var Yt=tt.type,jt=tt.calendar,Ot=tt.ticklabelstep,Pt=tt.ticklabelmode==="period",Et=tt.range[0]>tt.range[1],Gt=!tt.ticklabelindex||l.isArrayOrTypedArray(tt.ticklabelindex)?tt.ticklabelindex:[tt.ticklabelindex],Ft=l.simpleMap(tt.range,tt.r2l,void 0,void 0,lt),Ut=Ft[1]<Ft[0],Qt=Math.min(Ft[0],Ft[1]),ne=Math.max(Ft[0],Ft[1]),ye=Math.max(1e3,tt._length||0),_e=[],Me=[],Oe=[],Ie=[],Je=[],Ee=tt.minor&&(tt.minor.ticks||tt.minor.showgrid),He=1;He>=(Ee?0:1);He--){var qe=!He;He?(tt._dtickInit=tt.dtick,tt._tick0Init=tt.tick0):(tt.minor._dtickInit=tt.minor.dtick,tt.minor._tick0Init=tt.minor.tick0);var on=He?tt:l.extendFlat({},tt,tt.minor);if(qe?A.prepMinorTicks(on,tt,lt):A.prepTicks(on,lt),on.tickmode==="array"){He?(Oe=[],_e=Lt(tt,!qe)):(Ie=[],Me=Lt(tt,!qe));continue}if(on.tickmode==="sync"){Oe=[],_e=ot(tt);continue}var cn=Y(Ft),Cn=cn[0],yn=cn[1],Mn=t(on.dtick),Xn=Yt==="log"&&!(Mn||on.dtick.charAt(0)==="L"),Wn=A.tickFirst(on,lt);if(He){if(tt._tmin=Wn,Wn<Cn!==Ut)break;(Yt==="category"||Yt==="multicategory")&&(yn=Ut?Math.max(-.5,yn):Math.min(tt._categories.length-.5,yn))}var kn=null,$e=Wn,Dn;if(He){var An;Mn?An=tt.dtick:Yt==="date"?typeof tt.dtick=="string"&&tt.dtick.charAt(0)==="M"&&(An=w*tt.dtick.substring(1)):An=tt._roughDTick,Dn=Math.round((tt.r2l($e)-tt.r2l(tt.tick0))/An)-1}var Jn=on.dtick;for(on.rangebreaks&&on._tick0Init!==on.tick0&&($e=Ve($e,tt),Ut||($e=A.tickIncrement($e,Jn,!Ut,jt))),He&&Pt&&($e=A.tickIncrement($e,Jn,!Ut,jt),Dn--);Ut?$e>=yn:$e<=yn;$e=A.tickIncrement($e,Jn,Ut,jt)){if(He&&Dn++,on.rangebreaks&&!Ut){if($e<Cn)continue;if(on.maskBreaks($e)===U&&Ve($e,on)>=ne)break}if(Oe.length>ye||$e===kn)break;kn=$e;var Hn={value:$e};He?(Xn&&$e!==($e|0)&&(Hn.simpleLabel=!0),Ot>1&&Dn%Ot&&(Hn.skipLabel=!0),Oe.push(Hn)):(Hn.minor=!0,Ie.push(Hn))}}if(!Ie||Ie.length<2)Gt=!1;else{var hn=(Ie[1].value-Ie[0].value)*(Et?-1:1);sn(hn,tt.tickformat)||(Gt=!1)}if(!Gt)Je=Oe;else{var fn=Oe.concat(Ie);Pt&&Oe.length&&(fn=fn.slice(1)),fn=fn.sort(function(Bn,Kn){return Bn.value-Kn.value}).filter(function(Bn,Kn,Gn){return Kn===0||Bn.value!==Gn[Kn-1].value});var mn=fn.map(function(Bn,Kn){return Bn.minor===void 0&&!Bn.skipLabel?Kn:null}).filter(function(Bn){return Bn!==null});mn.forEach(function(Bn){Gt.map(function(Kn){var Gn=Bn+Kn;Gn>=0&&Gn<fn.length&&l.pushUnique(Je,fn[Gn])})})}if(Ee){var Pn=tt.minor.ticks==="inside"&&tt.ticks==="outside"||tt.minor.ticks==="outside"&&tt.ticks==="inside";if(!Pn){for(var In=Oe.map(function(Bn){return Bn.value}),En=[],zn=0;zn<Ie.length;zn++){var Fn=Ie[zn],sa=Fn.value;if(In.indexOf(sa)===-1){for(var Zn=!1,qn=0;!Zn&&qn<Oe.length;qn++)1e7+Oe[qn].value===1e7+sa&&(Zn=!0);Zn||En.push(Fn)}}Ie=En}}Pt&&pt(Je,tt,tt._definedDelta);var Ln;if(tt.rangebreaks){var na=tt._id.charAt(0)==="y",ca=1;tt.tickmode==="auto"&&(ca=tt.tickfont?tt.tickfont.size:12);var va=NaN;for(Ln=Oe.length-1;Ln>-1;Ln--){if(Oe[Ln].drop){Oe.splice(Ln,1);continue}Oe[Ln].value=Ve(Oe[Ln].value,tt);var _a=tt.c2p(Oe[Ln].value);(na?va>_a-ca:va<_a+ca)?Oe.splice(Ut?Ln+1:Ln,1):va=_a}}ln(tt)&&Math.abs(Ft[1]-Ft[0])===360&&Oe.pop(),tt._tmax=(Oe[Oe.length-1]||{}).value,tt._prevDateHead="",tt._inCalcTicks=!0;var ka,ga=function(Bn){Bn.text="",tt._prevDateHead=ka};Oe=Oe.concat(Ie);function Un(Bn,Kn){var Gn=A.tickText(Bn,Kn.value,!1,Kn.simpleLabel),Tn=Kn.periodX;return Tn!==void 0&&(Gn.periodX=Tn,(Tn>ne||Tn<Qt)&&(Tn>ne&&(Gn.periodX=ne),Tn<Qt&&(Gn.periodX=Qt),ga(Gn))),Gn}var aa;for(Ln=0;Ln<Oe.length;Ln++){var tr=Oe[Ln].minor,Qn=Oe[Ln].value;tr?(Gt&&Je.indexOf(Oe[Ln])!==-1?aa=Un(tt,Oe[Ln]):aa={x:Qn},aa.minor=!0,Me.push(aa)):(ka=tt._prevDateHead,aa=Un(tt,Oe[Ln]),(Oe[Ln].skipLabel||Gt&&Je.indexOf(Oe[Ln])===-1)&&ga(aa),_e.push(aa))}return _e=_e.concat(Me),tt._inCalcTicks=!1,Pt&&_e.length&&(_e[0].noTick=!0),_e};function bt(tt,lt){return tt.rangebreaks&&(lt=lt.filter(function(Yt){return tt.maskBreaks(Yt.x)!==U})),lt}function ot(tt){var lt=tt._mainAxis,Yt=[];if(lt._vals){for(var jt=0;jt<lt._vals.length;jt++)if(!lt._vals[jt].noTick){var Ot=lt.l2p(lt._vals[jt].x),Pt=tt.p2l(Ot),Et=A.tickText(tt,Pt);lt._vals[jt].minor&&(Et.minor=!0,Et.text=""),Yt.push(Et)}}return Yt=bt(tt,Yt),Yt}function Lt(tt,lt){var Yt=l.simpleMap(tt.range,tt.r2l),jt=Y(Yt),Ot=Math.min(jt[0],jt[1]),Pt=Math.max(jt[0],jt[1]),Et=tt.type==="category"?tt.d2l_noadd:tt.d2l;tt.type==="log"&&String(tt.dtick).charAt(0)!=="L"&&(tt.dtick="L"+Math.pow(10,Math.floor(Math.min(tt.range[0],tt.range[1]))-1));for(var Gt=[],Ft=0;Ft<=1;Ft++)if(!(lt!==void 0&&(lt&&Ft||lt===!1&&!Ft))&&!(Ft&&!tt.minor)){var Ut=Ft?tt.minor.tickvals:tt.tickvals,Qt=Ft?[]:tt.ticktext;if(Ut){l.isArrayOrTypedArray(Qt)||(Qt=[]);for(var ne=0;ne<Ut.length;ne++){var ye=Et(Ut[ne]);if(ye>Ot&&ye<Pt){var _e=A.tickText(tt,ye,!1,String(Qt[ne]));Ft&&(_e.minor=!0,_e.text=""),Gt.push(_e)}}}}return Gt=bt(tt,Gt),Gt}var Nt=[2,5,10],Vt=[1,2,3,6,12],ae=[1,2,5,10,15,30],Jt=[1,2,3,7,14],re=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],oe=[-.301,0,.301,.699,1],le=[15,30,45,90,180];function ve(tt,lt,Yt){return lt*l.roundUp(tt/lt,Yt)}A.autoTicks=function(tt,lt,Yt){var jt;function Ot(ne){return Math.pow(ne,Math.floor(Math.log(lt)/Math.LN10))}if(tt.type==="date"){tt.tick0=l.dateTick0(tt.calendar,0);var Pt=2*lt;if(Pt>g)lt/=g,jt=Ot(10),tt.dtick="M"+12*ve(lt,jt,Nt);else if(Pt>w)lt/=w,tt.dtick="M"+ve(lt,1,Vt);else if(Pt>P){if(tt.dtick=ve(lt,P,tt._hasDayOfWeekBreaks?[1,2,7,14]:Jt),!Yt){var Et=A.getTickFormat(tt),Gt=tt.ticklabelmode==="period";Gt&&(tt._rawTick0=tt.tick0),/%[uVW]/.test(Et)?tt.tick0=l.dateTick0(tt.calendar,2):tt.tick0=l.dateTick0(tt.calendar,1),Gt&&(tt._dowTick0=tt.tick0)}}else Pt>T?tt.dtick=ve(lt,T,Vt):Pt>X?tt.dtick=ve(lt,X,ae):Pt>I?tt.dtick=ve(lt,I,ae):(jt=Ot(10),tt.dtick=ve(lt,jt,Nt))}else if(tt.type==="log"){tt.tick0=0;var Ft=l.simpleMap(tt.range,tt.r2l);if(tt._isMinor&&(lt*=1.5),lt>.7)tt.dtick=Math.ceil(lt);else if(Math.abs(Ft[1]-Ft[0])<1){var Ut=1.5*Math.abs((Ft[1]-Ft[0])/lt);lt=Math.abs(Math.pow(10,Ft[1])-Math.pow(10,Ft[0]))/Ut,jt=Ot(10),tt.dtick="L"+ve(lt,jt,Nt)}else tt.dtick=lt>.3?"D2":"D1"}else tt.type==="category"||tt.type==="multicategory"?(tt.tick0=0,tt.dtick=Math.ceil(Math.max(lt,1))):ln(tt)?(tt.tick0=0,jt=1,tt.dtick=ve(lt,jt,le)):(tt.tick0=0,jt=Ot(10),tt.dtick=ve(lt,jt,Nt));if(tt.dtick===0&&(tt.dtick=1),!t(tt.dtick)&&typeof tt.dtick!="string"){var Qt=tt.dtick;throw tt.dtick=1,"ax.dtick error: "+String(Qt)}};function Wt(tt){var lt=tt.dtick;if(tt._tickexponent=0,!t(lt)&&typeof lt!="string"&&(lt=1),(tt.type==="category"||tt.type==="multicategory")&&(tt._tickround=null),tt.type==="date"){var Yt=tt.r2l(tt.tick0),jt=tt.l2r(Yt).replace(/(^-|i)/g,""),Ot=jt.length;if(String(lt).charAt(0)==="M")Ot>10||jt.substr(5)!=="01-01"?tt._tickround="d":tt._tickround=+lt.substr(1)%12===0?"y":"m";else if(lt>=P&&Ot<=10||lt>=P*15)tt._tickround="d";else if(lt>=X&&Ot<=16||lt>=T)tt._tickround="M";else if(lt>=I&&Ot<=19||lt>=X)tt._tickround="S";else{var Pt=tt.l2r(Yt+lt).replace(/^-/,"").length;tt._tickround=Math.max(Ot,Pt)-20,tt._tickround<0&&(tt._tickround=4)}}else if(t(lt)||lt.charAt(0)==="L"){var Et=tt.range.map(tt.r2d||Number);t(lt)||(lt=Number(lt.substr(1))),tt._tickround=2-Math.floor(Math.log(lt)/Math.LN10+.01);var Gt=Math.max(Math.abs(Et[0]),Math.abs(Et[1])),Ft=Math.floor(Math.log(Gt)/Math.LN10+.01),Ut=tt.minexponent===void 0?3:tt.minexponent;Math.abs(Ft)>Ut&&(mt(tt.exponentformat)&&!gt(Ft)?tt._tickexponent=3*Math.round((Ft-1)/3):tt._tickexponent=Ft)}else tt._tickround=null}A.tickIncrement=function(tt,lt,Yt,jt){var Ot=Yt?-1:1;if(t(lt))return l.increment(tt,Ot*lt);var Pt=lt.charAt(0),Et=Ot*Number(lt.substr(1));if(Pt==="M")return l.incrementMonth(tt,Et,jt);if(Pt==="L")return Math.log(Math.pow(10,tt)+Et)/Math.LN10;if(Pt==="D"){var Gt=lt==="D2"?oe:re,Ft=tt+Ot*.01,Ut=l.roundUp(l.mod(Ft,1),Gt,Yt);return Math.floor(Ft)+Math.log(i.round(Math.pow(10,Ut),1))/Math.LN10}throw"unrecognized dtick "+String(lt)},A.tickFirst=function(tt,lt){var Yt=tt.r2l||Number,jt=l.simpleMap(tt.range,Yt,void 0,void 0,lt),Ot=jt[1]<jt[0],Pt=Ot?Math.floor:Math.ceil,Et=Y(jt)[0],Gt=tt.dtick,Ft=Yt(tt.tick0);if(t(Gt)){var Ut=Pt((Et-Ft)/Gt)*Gt+Ft;return(tt.type==="category"||tt.type==="multicategory")&&(Ut=l.constrain(Ut,0,tt._categories.length-1)),Ut}var Qt=Gt.charAt(0),ne=Number(Gt.substr(1));if(Qt==="M"){for(var ye=0,_e=Ft,Me,Oe,Ie;ye<10;){if(Me=A.tickIncrement(_e,Gt,Ot,tt.calendar),(Me-Et)*(_e-Et)<=0)return Ot?Math.min(_e,Me):Math.max(_e,Me);Oe=(Et-(_e+Me)/2)/(Me-_e),Ie=Qt+(Math.abs(Math.round(Oe))||1)*ne,_e=A.tickIncrement(_e,Ie,Oe<0?!Ot:Ot,tt.calendar),ye++}return l.error("tickFirst did not converge",tt),_e}else{if(Qt==="L")return Math.log(Pt((Math.pow(10,Et)-Ft)/ne)*ne+Ft)/Math.LN10;if(Qt==="D"){var Je=Gt==="D2"?oe:re,Ee=l.roundUp(l.mod(Et,1),Je,Ot);return Math.floor(Et)+Math.log(i.round(Math.pow(10,Ee),1))/Math.LN10}else throw"unrecognized dtick "+String(Gt)}},A.tickText=function(tt,lt,Yt,jt){var Ot=ge(tt,lt),Pt=tt.tickmode==="array",Et=Yt||Pt,Gt=tt.type,Ft=Gt==="category"?tt.d2l_noadd:tt.d2l,Ut,Qt=function(Ie){var Je=tt.l2p(Ie);return Je>=0&&Je<=tt._length?Ie:null};if(Pt&&l.isArrayOrTypedArray(tt.ticktext)){var ne=l.simpleMap(tt.range,tt.r2l),ye=(Math.abs(ne[1]-ne[0])-(tt._lBreaks||0))/1e4;for(Ut=0;Ut<tt.ticktext.length&&!(Math.abs(lt-Ft(tt.tickvals[Ut]))<ye);Ut++);if(Ut<tt.ticktext.length)return Ot.text=String(tt.ticktext[Ut]),Ot.xbnd=[Qt(Ot.x-.5),Qt(Ot.x+tt.dtick-.5)],Ot}function _e(Ie){if(Ie===void 0)return!0;if(Yt)return Ie==="none";var Je={first:tt._tmin,last:tt._tmax}[Ie];return Ie!=="all"&&lt!==Je}var Me=Yt?"never":tt.exponentformat!=="none"&&_e(tt.showexponent)?"hide":"";if(Gt==="date"?Te(tt,Ot,Yt,Et):Gt==="log"?ce(tt,Ot,Yt,Et,Me):Gt==="category"?we(tt,Ot):Gt==="multicategory"?yt(tt,Ot,Yt):ln(tt)?Tt(tt,Ot,Yt,Et,Me):kt(tt,Ot,Yt,Et,Me),jt||(tt.tickprefix&&!_e(tt.showtickprefix)&&(Ot.text=tt.tickprefix+Ot.text),tt.ticksuffix&&!_e(tt.showticksuffix)&&(Ot.text+=tt.ticksuffix)),tt.labelalias&&tt.labelalias.hasOwnProperty(Ot.text)){var Oe=tt.labelalias[Ot.text];typeof Oe=="string"&&(Ot.text=Oe)}return(tt.tickson==="boundaries"||tt.showdividers)&&(Ot.xbnd=[Qt(Ot.x-.5),Qt(Ot.x+tt.dtick-.5)]),Ot},A.hoverLabelText=function(tt,lt,Yt){Yt&&(tt=l.extendFlat({},tt,{hoverformat:Yt}));var jt=l.isArrayOrTypedArray(lt)?lt[0]:lt,Ot=l.isArrayOrTypedArray(lt)?lt[1]:void 0;if(Ot!==void 0&&Ot!==jt)return A.hoverLabelText(tt,jt,Yt)+" - "+A.hoverLabelText(tt,Ot,Yt);var Pt=tt.type==="log"&&jt<=0,Et=A.tickText(tt,tt.c2l(Pt?-jt:jt),"hover").text;return Pt?jt===0?"0":V+Et:Et};function ge(tt,lt,Yt){var jt=tt.tickfont||{};return{x:lt,dx:0,dy:0,text:Yt||"",fontSize:jt.size,font:jt.family,fontWeight:jt.weight,fontStyle:jt.style,fontVariant:jt.variant,fontTextcase:jt.textcase,fontLineposition:jt.lineposition,fontShadow:jt.shadow,fontColor:jt.color}}function Te(tt,lt,Yt,jt){var Ot=tt._tickround,Pt=Yt&&tt.hoverformat||A.getTickFormat(tt);jt=!Pt&&jt,jt&&(t(Ot)?Ot=4:Ot={y:"m",m:"d",d:"M",M:"S",S:4}[Ot]);var Et=l.formatDate(lt.x,Pt,Ot,tt._dateFormat,tt.calendar,tt._extraFormat),Gt,Ft=Et.indexOf(`
`);if(Ft!==-1&&(Gt=Et.substr(Ft+1),Et=Et.substr(0,Ft)),jt&&(Gt!==void 0&&(Et==="00:00:00"||Et==="00:00")?(Et=Gt,Gt=""):Et.length===8&&(Et=Et.replace(/:00$/,""))),Gt)if(Yt)Ot==="d"?Et+=", "+Gt:Et=Gt+(Et?", "+Et:"");else if(!tt._inCalcTicks||tt._prevDateHead!==Gt)tt._prevDateHead=Gt,Et+="<br>"+Gt;else{var Ut=nn(tt),Qt=tt._trueSide||tt.side;(!Ut&&Qt==="top"||Ut&&Qt==="bottom")&&(Et+="<br> ")}lt.text=Et}function ce(tt,lt,Yt,jt,Ot){var Pt=tt.dtick,Et=lt.x,Gt=tt.tickformat,Ft=typeof Pt=="string"&&Pt.charAt(0);if(Ot==="never"&&(Ot=""),jt&&Ft!=="L"&&(Pt="L3",Ft="L"),Gt||Ft==="L")lt.text=It(Math.pow(10,Et),tt,Ot,jt);else if(t(Pt)||Ft==="D"&&l.mod(Et+.01,1)<.1){var Ut=Math.round(Et),Qt=Math.abs(Ut),ne=tt.exponentformat;ne==="power"||mt(ne)&&gt(Ut)?(Ut===0?lt.text=1:Ut===1?lt.text="10":lt.text="10<sup>"+(Ut>1?"":V)+Qt+"</sup>",lt.fontSize*=1.25):(ne==="e"||ne==="E")&&Qt>2?lt.text="1"+ne+(Ut>0?"+":V)+Qt:(lt.text=It(Math.pow(10,Et),tt,"","fakehover"),Pt==="D1"&&tt._id.charAt(0)==="y"&&(lt.dy-=lt.fontSize/6))}else if(Ft==="D")lt.text=String(Math.round(Math.pow(10,l.mod(Et,1)))),lt.fontSize*=.75;else throw"unrecognized dtick "+String(Pt);if(tt.dtick==="D1"){var ye=String(lt.text).charAt(0);(ye==="0"||ye==="1")&&(tt._id.charAt(0)==="y"?lt.dx-=lt.fontSize/4:(lt.dy+=lt.fontSize/2,lt.dx+=(tt.range[1]>tt.range[0]?1:-1)*lt.fontSize*(Et<0?.5:.25)))}}function we(tt,lt){var Yt=tt._categories[Math.round(lt.x)];Yt===void 0&&(Yt=""),lt.text=String(Yt)}function yt(tt,lt,Yt){var jt=Math.round(lt.x),Ot=tt._categories[jt]||[],Pt=Ot[1]===void 0?"":String(Ot[1]),Et=Ot[0]===void 0?"":String(Ot[0]);Yt?lt.text=Et+" - "+Pt:(lt.text=Pt,lt.text2=Et)}function kt(tt,lt,Yt,jt,Ot){Ot==="never"?Ot="":tt.showexponent==="all"&&Math.abs(lt.x/tt.dtick)<1e-6&&(Ot="hide"),lt.text=It(lt.x,tt,Ot,jt)}function Tt(tt,lt,Yt,jt,Ot){if(tt.thetaunit==="radians"&&!Yt){var Pt=lt.x/180;if(Pt===0)lt.text="0";else{var Et=K(Pt);if(Et[1]>=100)lt.text=It(l.deg2rad(lt.x),tt,Ot,jt);else{var Gt=lt.x<0;Et[1]===1?Et[0]===1?lt.text="":lt.text=Et[0]+"":lt.text=["<sup>",Et[0],"</sup>","","<sub>",Et[1],"</sub>",""].join(""),Gt&&(lt.text=V+lt.text)}}}else lt.text=It(lt.x,tt,Ot,jt)}function K(tt){function lt(Gt,Ft){return Math.abs(Gt-Ft)<=1e-6}function Yt(Gt,Ft){return lt(Ft,0)?Gt:Yt(Ft,Gt%Ft)}function jt(Gt){for(var Ft=1;!lt(Math.round(Gt*Ft)/Ft,Gt);)Ft*=10;return Ft}var Ot=jt(tt),Pt=tt*Ot,Et=Math.abs(Yt(Pt,Ot));return[Math.round(Pt/Et),Math.round(Ot/Et)]}var ft=["f","p","n","","m","","k","M","G","T"];function mt(tt){return tt==="SI"||tt==="B"}function gt(tt){return tt>14||tt<-15}function It(tt,lt,Yt,jt){var Ot=tt<0,Pt=lt._tickround,Et=Yt||lt.exponentformat||"B",Gt=lt._tickexponent,Ft=A.getTickFormat(lt),Ut=lt.separatethousands;if(jt){var Qt={exponentformat:Et,minexponent:lt.minexponent,dtick:lt.showexponent==="none"?lt.dtick:t(tt)&&Math.abs(tt)||1,range:lt.showexponent==="none"?lt.range.map(lt.r2d):[0,tt||1]};Wt(Qt),Pt=(Number(Qt._tickround)||0)+4,Gt=Qt._tickexponent,lt.hoverformat&&(Ft=lt.hoverformat)}if(Ft)return lt._numFormat(Ft)(tt).replace(/-/g,V);var ne=Math.pow(10,-Pt)/2;if(Et==="none"&&(Gt=0),tt=Math.abs(tt),tt<ne)tt="0",Ot=!1;else{if(tt+=ne,Gt&&(tt*=Math.pow(10,-Gt),Pt+=Gt),Pt===0)tt=String(Math.floor(tt));else if(Pt<0){tt=String(Math.round(tt)),tt=tt.substr(0,tt.length+Pt);for(var ye=Pt;ye<0;ye++)tt+="0"}else{tt=String(tt);var _e=tt.indexOf(".")+1;_e&&(tt=tt.substr(0,_e+Pt).replace(/\.?0+$/,""))}tt=l.numSeparate(tt,lt._separators,Ut)}if(Gt&&Et!=="hide"){mt(Et)&&gt(Gt)&&(Et="power");var Me;Gt<0?Me=V+-Gt:Et!=="power"?Me="+"+Gt:Me=String(Gt),Et==="e"||Et==="E"?tt+=Et+Me:Et==="power"?tt+="10<sup>"+Me+"</sup>":Et==="B"&&Gt===9?tt+="B":mt(Et)&&(tt+=ft[Gt/3+5])}return Ot?V+tt:tt}A.getTickFormat=function(tt){var lt;function Yt(Ft){return typeof Ft!="string"?Ft:Number(Ft.replace("M",""))*w}function jt(Ft,Ut){var Qt=["L","D"];if(typeof Ft==typeof Ut){if(typeof Ft=="number")return Ft-Ut;var ne=Qt.indexOf(Ft.charAt(0)),ye=Qt.indexOf(Ut.charAt(0));return ne===ye?Number(Ft.replace(/(L|D)/g,""))-Number(Ut.replace(/(L|D)/g,"")):ne-ye}else return typeof Ft=="number"?1:-1}function Ot(Ft,Ut,Qt){var ne=Qt||function(Me){return Me},ye=Ut[0],_e=Ut[1];return(!ye&&typeof ye!="number"||ne(ye)<=ne(Ft))&&(!_e&&typeof _e!="number"||ne(_e)>=ne(Ft))}function Pt(Ft,Ut){var Qt=Ut[0]===null,ne=Ut[1]===null,ye=jt(Ft,Ut[0])>=0,_e=jt(Ft,Ut[1])<=0;return(Qt||ye)&&(ne||_e)}var Et,Gt;if(tt.tickformatstops&&tt.tickformatstops.length>0)switch(tt.type){case"date":case"linear":{for(lt=0;lt<tt.tickformatstops.length;lt++)if(Gt=tt.tickformatstops[lt],Gt.enabled&&Ot(tt.dtick,Gt.dtickrange,Yt)){Et=Gt;break}break}case"log":{for(lt=0;lt<tt.tickformatstops.length;lt++)if(Gt=tt.tickformatstops[lt],Gt.enabled&&Pt(tt.dtick,Gt.dtickrange)){Et=Gt;break}break}}return Et?Et.value:tt.tickformat},A.getSubplots=function(tt,lt){var Yt=tt._fullLayout._subplots,jt=Yt.cartesian.concat(Yt.gl2d||[]),Ot=lt?A.findSubplotsWithAxis(jt,lt):jt;return Ot.sort(function(Pt,Et){var Gt=Pt.substr(1).split("y"),Ft=Et.substr(1).split("y");return Gt[0]===Ft[0]?+Gt[1]-+Ft[1]:+Gt[0]-+Ft[0]}),Ot},A.findSubplotsWithAxis=function(tt,lt){for(var Yt=new RegExp(lt._id.charAt(0)==="x"?"^"+lt._id+"y":lt._id+"$"),jt=[],Ot=0;Ot<tt.length;Ot++){var Pt=tt[Ot];Yt.test(Pt)&&jt.push(Pt)}return jt},A.makeClipPaths=function(tt){var lt=tt._fullLayout;if(!lt._hasOnlyLargeSploms){var Yt={_offset:0,_length:lt.width,_id:""},jt={_offset:0,_length:lt.height,_id:""},Ot=A.list(tt,"x",!0),Pt=A.list(tt,"y",!0),Et=[],Gt,Ft;for(Gt=0;Gt<Ot.length;Gt++)for(Et.push({x:Ot[Gt],y:jt}),Ft=0;Ft<Pt.length;Ft++)Gt===0&&Et.push({x:Yt,y:Pt[Ft]}),Et.push({x:Ot[Gt],y:Pt[Ft]});var Ut=lt._clips.selectAll(".axesclip").data(Et,function(Qt){return Qt.x._id+Qt.y._id});Ut.enter().append("clipPath").classed("axesclip",!0).attr("id",function(Qt){return"clip"+lt._uid+Qt.x._id+Qt.y._id}).append("rect"),Ut.exit().remove(),Ut.each(function(Qt){i.select(this).select("rect").attr({x:Qt.x._offset||0,y:Qt.y._offset||0,width:Qt.x._length||1,height:Qt.y._length||1})})}},A.draw=function(tt,lt,Yt){var jt=tt._fullLayout;lt==="redraw"&&jt._paper.selectAll("g.subplot").each(function(Ft){var Ut=Ft[0],Qt=jt._plots[Ut];if(Qt){var ne=Qt.xaxis,ye=Qt.yaxis;Qt.xaxislayer.selectAll("."+ne._id+"tick").remove(),Qt.yaxislayer.selectAll("."+ye._id+"tick").remove(),Qt.xaxislayer.selectAll("."+ne._id+"tick2").remove(),Qt.yaxislayer.selectAll("."+ye._id+"tick2").remove(),Qt.xaxislayer.selectAll("."+ne._id+"divider").remove(),Qt.yaxislayer.selectAll("."+ye._id+"divider").remove(),Qt.minorGridlayer&&Qt.minorGridlayer.selectAll("path").remove(),Qt.gridlayer&&Qt.gridlayer.selectAll("path").remove(),Qt.zerolinelayer&&Qt.zerolinelayer.selectAll("path").remove(),jt._infolayer.select(".g-"+ne._id+"title").remove(),jt._infolayer.select(".g-"+ye._id+"title").remove()}});var Ot=!lt||lt==="redraw"?A.listIds(tt):lt,Pt=A.list(tt),Et=Pt.filter(function(Ft){return Ft.autoshift}).map(function(Ft){return Ft.overlaying});Ot.map(function(Ft){var Ut=A.getFromId(tt,Ft);if(Ut.tickmode==="sync"&&Ut.overlaying){var Qt=Ot.findIndex(function(ne){return ne===Ut.overlaying});Qt>=0&&Ot.unshift(Ot.splice(Qt,1).shift())}});var Gt={false:{left:0,right:0}};return l.syncOrAsync(Ot.map(function(Ft){return function(){if(Ft){var Ut=A.getFromId(tt,Ft);Yt||(Yt={}),Yt.axShifts=Gt,Yt.overlayingShiftedAx=Et;var Qt=A.drawOne(tt,Ut,Yt);return Ut._shiftPusher&&gn(Ut,Ut._fullDepth||0,Gt,!0),Ut._r=Ut.range.slice(),Ut._rl=l.simpleMap(Ut._r,Ut.r2l),Qt}}}))},A.drawOne=function(tt,lt,Yt){Yt=Yt||{};var jt=Yt.axShifts||{},Ot=Yt.overlayingShiftedAx||[],Pt,Et,Gt;lt.setScale();var Ft=tt._fullLayout,Ut=lt._id,Qt=Ut.charAt(0),ne=A.counterLetter(Ut),ye=Ft._plots[lt._mainSubplot];if(!ye)return;if(lt._shiftPusher=lt.autoshift||Ot.indexOf(lt._id)!==-1||Ot.indexOf(lt.overlaying)!==-1,lt._shiftPusher&lt.anchor==="free"){var _e=lt.linewidth/2||0;lt.ticks==="inside"&&(_e+=lt.ticklen),gn(lt,_e,jt,!0),gn(lt,lt.shift||0,jt,!1)}(Yt.skipTitle!==!0||lt._shift===void 0)&&(lt._shift=Ae(lt,jt));var Me=ye[Qt+"axislayer"],Oe=lt._mainLinePosition,Ie=Oe+=lt._shift,Je=lt._mainMirrorPosition,Ee=lt._vals=A.calcTicks(lt),He=[lt.mirror,Ie,Je].join("_");for(Pt=0;Pt<Ee.length;Pt++)Ee[Pt].axInfo=He;lt._selections={},lt._tickAngles&&(lt._prevTickAngles=lt._tickAngles),lt._tickAngles={},lt._depth=null;var qe={};function on(Qn){var Bn=Ut+(Qn||"tick");return qe[Bn]||(qe[Bn]=zt(lt,Bn,Ie)),qe[Bn]}if(lt.visible){var cn=A.makeTransTickFn(lt),Cn=A.makeTransTickLabelFn(lt),yn,Mn,Xn=lt.ticks==="inside",Wn=lt.ticks==="outside";if(lt.tickson==="boundaries"){var kn=qt(lt,Ee);Mn=A.clipEnds(lt,kn),yn=Xn?Mn:kn}else Mn=A.clipEnds(lt,Ee),yn=Xn&&lt.ticklabelmode!=="period"?Mn:Ee;var $e=lt._gridVals=Mn,Dn=ie(lt,Ee);if(!Ft._hasOnlyLargeSploms){var An=lt._subplotsWith,Jn={};for(Pt=0;Pt<An.length;Pt++){Et=An[Pt],Gt=Ft._plots[Et];var Hn=Gt[ne+"axis"],hn=Hn._mainAxis._id;if(!Jn[hn]){Jn[hn]=1;var fn=Qt==="x"?"M0,"+Hn._offset+"v"+Hn._length:"M"+Hn._offset+",0h"+Hn._length;A.drawGrid(tt,lt,{vals:$e,counterAxis:Hn,layer:Gt.gridlayer.select("."+Ut),minorLayer:Gt.minorGridlayer.select("."+Ut),path:fn,transFn:cn}),A.drawZeroLine(tt,lt,{counterAxis:Hn,layer:Gt.zerolinelayer,path:fn,transFn:cn})}}}var mn,Pn=A.getTickSigns(lt),In=A.getTickSigns(lt,"minor");if(lt.ticks||lt.minor&&lt.minor.ticks){var En=A.makeTickPath(lt,Ie,Pn[2]),zn=A.makeTickPath(lt,Ie,In[2],{minor:!0}),Fn,sa,Zn,qn;if(lt._anchorAxis&&lt.mirror&&lt.mirror!==!0?(Fn=A.makeTickPath(lt,Je,Pn[3]),sa=A.makeTickPath(lt,Je,In[3],{minor:!0}),Zn=En+Fn,qn=zn+sa):(Fn="",sa="",Zn=En,qn=zn),lt.showdividers&&Wn&&lt.tickson==="boundaries"){var Ln={};for(Pt=0;Pt<Dn.length;Pt++)Ln[Dn[Pt].x]=1;mn=function(Qn){return Ln[Qn.x]?Fn:Zn}}else mn=function(Qn){return Qn.minor?qn:Zn}}if(A.drawTicks(tt,lt,{vals:yn,layer:Me,path:mn,transFn:cn}),lt.mirror==="allticks"){var na=Object.keys(lt._linepositions||{});for(Pt=0;Pt<na.length;Pt++){Et=na[Pt],Gt=Ft._plots[Et];var ca=lt._linepositions[Et]||[],va=ca[0],_a=ca[1],ka=ca[2],ga=A.makeTickPath(lt,va,ka?Pn[0]:In[0],{minor:ka})+A.makeTickPath(lt,_a,ka?Pn[1]:In[1],{minor:ka});A.drawTicks(tt,lt,{vals:yn,layer:Gt[Qt+"axislayer"],path:ga,transFn:cn})}}var Un=[];if(Un.push(function(){return A.drawLabels(tt,lt,{vals:Ee,layer:Me,plotinfo:Gt,transFn:Cn,labelFns:A.makeLabelFns(lt,Ie)})}),lt.type==="multicategory"){var aa={x:2,y:10}[Qt];Un.push(function(){var Qn={x:"height",y:"width"}[Qt],Bn=on()[Qn]+aa+(lt._tickAngles[Ut+"tick"]?lt.tickfont.size*xt:0);return A.drawLabels(tt,lt,{vals:$t(lt,Ee),layer:Me,cls:Ut+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:cn,labelFns:A.makeLabelFns(lt,Ie+Bn*Pn[4])})}),Un.push(function(){return lt._depth=Pn[4]*(on("tick2")[lt.side]-Ie),De(tt,lt,{vals:Dn,layer:Me,path:A.makeTickPath(lt,Ie,Pn[4],{len:lt._depth}),transFn:cn})})}else lt.title.hasOwnProperty("standoff")&&Un.push(function(){lt._depth=Pn[4]*(on()[lt.side]-Ie)});var tr=r.getComponentMethod("rangeslider","isVisible")(lt);return!Yt.skipTitle&&!(tr&&lt.side==="bottom")&&Un.push(function(){return Ge(tt,lt)}),Un.push(function(){var Qn=lt.side.charAt(0),Bn=H[lt.side].charAt(0),Kn=A.getPxPosition(tt,lt),Gn=Wn?lt.ticklen:0,Tn,Vn,Aa,Ua;(lt.automargin||tr||lt._shiftPusher)&&(lt.type==="multicategory"?Tn=on("tick2"):(Tn=on(),Qt==="x"&&Qn==="b"&&(lt._depth=Math.max(Tn.width>0?Tn.bottom-Kn:0,Gn))));var pr=0,er=0;if(lt._shiftPusher&&(pr=Math.max(Gn,Tn.height>0?Qn==="l"?Kn-Tn.left:Tn.right-Kn:0),lt.title.text!==Ft._dfltTitle[Qt]&&(er=(lt._titleStandoff||0)+(lt._titleScoot||0),Qn==="l"&&(er+=Ne(lt))),lt._fullDepth=Math.max(pr,er)),lt.automargin){Vn={x:0,y:0,r:0,l:0,t:0,b:0};var za=[0,1],Hr=typeof lt._shift=="number"?lt._shift:0;if(Qt==="x"){if(Qn==="b"?Vn[Qn]=lt._depth:(Vn[Qn]=lt._depth=Math.max(Tn.width>0?Kn-Tn.top:0,Gn),za.reverse()),Tn.width>0){var Ar=Tn.right-(lt._offset+lt._length);Ar>0&&(Vn.xr=1,Vn.r=Ar);var oi=lt._offset-Tn.left;oi>0&&(Vn.xl=0,Vn.l=oi)}}else if(Qn==="l"?(lt._depth=Math.max(Tn.height>0?Kn-Tn.left:0,Gn),Vn[Qn]=lt._depth-Hr):(lt._depth=Math.max(Tn.height>0?Tn.right-Kn:0,Gn),Vn[Qn]=lt._depth+Hr,za.reverse()),Tn.height>0){var vr=Tn.bottom-(lt._offset+lt._length);vr>0&&(Vn.yb=0,Vn.b=vr);var li=lt._offset-Tn.top;li>0&&(Vn.yt=1,Vn.t=li)}Vn[ne]=lt.anchor==="free"?lt.position:lt._anchorAxis.domain[za[0]],lt.title.text!==Ft._dfltTitle[Qt]&&(Vn[Qn]+=Ne(lt)+(lt.title.standoff||0)),lt.mirror&&lt.anchor!=="free"&&(Aa={x:0,y:0,r:0,l:0,t:0,b:0},Aa[Bn]=lt.linewidth,lt.mirror&&lt.mirror!==!0&&(Aa[Bn]+=Gn),lt.mirror===!0||lt.mirror==="ticks"?Aa[ne]=lt._anchorAxis.domain[za[1]]:(lt.mirror==="all"||lt.mirror==="allticks")&&(Aa[ne]=[lt._counterDomainMin,lt._counterDomainMax][za[1]]))}tr&&(Ua=r.getComponentMethod("rangeslider","autoMarginOpts")(tt,lt)),typeof lt.automargin=="string"&&(Mt(Vn,lt.automargin),Mt(Aa,lt.automargin)),n.autoMargin(tt,Ye(lt),Vn),n.autoMargin(tt,Be(lt),Aa),n.autoMargin(tt,Ze(lt),Ua)}),l.syncOrAsync(Un)}};function Mt(tt,lt){if(tt){var Yt=Object.keys(et).reduce(function(jt,Ot){return lt.indexOf(Ot)!==-1&&et[Ot].forEach(function(Pt){jt[Pt]=1}),jt},{});Object.keys(tt).forEach(function(jt){Yt[jt]||(jt.length===1?tt[jt]=0:delete tt[jt])})}}function qt(tt,lt){var Yt=[],jt,Ot=function(Pt,Et){var Gt=Pt.xbnd[Et];Gt!==null&&Yt.push(l.extendFlat({},Pt,{x:Gt}))};if(lt.length){for(jt=0;jt<lt.length;jt++)Ot(lt[jt],0);Ot(lt[jt-1],1)}return Yt}function $t(tt,lt){for(var Yt=[],jt={},Ot=0;Ot<lt.length;Ot++){var Pt=lt[Ot];jt[Pt.text2]?jt[Pt.text2].push(Pt.x):jt[Pt.text2]=[Pt.x]}for(var Et in jt)Yt.push(ge(tt,l.interp(jt[Et],.5),Et));return Yt}function ie(tt,lt){var Yt=[],jt,Ot,Pt=lt.length&&lt[lt.length-1].x<lt[0].x,Et=function(Ft,Ut){var Qt=Ft.xbnd[Ut];Qt!==null&&Yt.push(l.extendFlat({},Ft,{x:Qt}))};if(tt.showdividers&&lt.length){for(jt=0;jt<lt.length;jt++){var Gt=lt[jt];Gt.text2!==Ot&&Et(Gt,Pt?1:0),Ot=Gt.text2}Et(lt[jt-1],Pt?0:1)}return Yt}function zt(tt,lt,Yt){var jt,Ot,Pt,Et;if(tt._selections[lt].size())jt=1/0,Ot=-1/0,Pt=1/0,Et=-1/0,tt._selections[lt].each(function(){var Ft=Se(this),Ut=p.bBox(Ft.node().parentNode);jt=Math.min(jt,Ut.top),Ot=Math.max(Ot,Ut.bottom),Pt=Math.min(Pt,Ut.left),Et=Math.max(Et,Ut.right)});else{var Gt=A.makeLabelFns(tt,Yt);jt=Ot=Gt.yFn({dx:0,dy:0,fontSize:0}),Pt=Et=Gt.xFn({dx:0,dy:0,fontSize:0})}return{top:jt,bottom:Ot,left:Pt,right:Et,height:Ot-jt,width:Et-Pt}}A.getTickSigns=function(tt,lt){var Yt=tt._id.charAt(0),jt={x:"top",y:"right"}[Yt],Ot=tt.side===jt?1:-1,Pt=[-1,1,Ot,-Ot],Et=lt?(tt.minor||{}).ticks:tt.ticks;return Et!=="inside"==(Yt==="x")&&(Pt=Pt.map(function(Gt){return-Gt})),tt.side&&Pt.push({l:-1,t:-1,r:1,b:1}[tt.side.charAt(0)]),Pt},A.makeTransTickFn=function(tt){return tt._id.charAt(0)==="x"?function(lt){return o(tt._offset+tt.l2p(lt.x),0)}:function(lt){return o(0,tt._offset+tt.l2p(lt.x))}},A.makeTransTickLabelFn=function(tt){var lt=se(tt),Yt=tt.ticklabelshift||0,jt=tt.ticklabelstandoff||0,Ot=lt[0],Pt=lt[1],Et=tt.range[0]>tt.range[1],Gt=tt.ticklabelposition&&tt.ticklabelposition.indexOf("inside")!==-1,Ft=!Gt;if(Yt){var Ut=Et?-1:1;Yt=Yt*Ut}if(jt){var Qt=tt.side,ne=Gt&&(Qt==="top"||Qt==="left")||Ft&&(Qt==="bottom"||Qt==="right")?1:-1;jt=jt*ne}return tt._id.charAt(0)==="x"?function(ye){return o(Ot+tt._offset+tt.l2p(ee(ye))+Yt,Pt+jt)}:function(ye){return o(Pt+jt,Ot+tt._offset+tt.l2p(ee(ye))+Yt)}};function ee(tt){return tt.periodX!==void 0?tt.periodX:tt.x}function se(tt){var lt=tt.ticklabelposition||"",Yt=function(_e){return lt.indexOf(_e)!==-1},jt=Yt("top"),Ot=Yt("left"),Pt=Yt("right"),Et=Yt("bottom"),Gt=Yt("inside"),Ft=Et||Ot||jt||Pt;if(!Ft&&!Gt)return[0,0];var Ut=tt.side,Qt=Ft?(tt.tickwidth||0)/2:0,ne=j,ye=tt.tickfont?tt.tickfont.size:12;return(Et||jt)&&(Qt+=ye*ht,ne+=(tt.linewidth||0)/2),(Ot||Pt)&&(Qt+=(tt.linewidth||0)/2,ne+=j),Gt&&Ut==="top"&&(ne-=ye*(1-ht)),(Ot||jt)&&(Qt=-Qt),(Ut==="bottom"||Ut==="right")&&(ne=-ne),[Ft?Qt:0,Gt?ne:0]}A.makeTickPath=function(tt,lt,Yt,jt){jt||(jt={});var Ot=jt.minor;if(Ot&&!tt.minor)return"";var Pt=jt.len!==void 0?jt.len:Ot?tt.minor.ticklen:tt.ticklen,Et=tt._id.charAt(0),Gt=(tt.linewidth||1)/2;return Et==="x"?"M0,"+(lt+Gt*Yt)+"v"+Pt*Yt:"M"+(lt+Gt*Yt)+",0h"+Pt*Yt},A.makeLabelFns=function(tt,lt,Yt){var jt=tt.ticklabelposition||"",Ot=function(kn){return jt.indexOf(kn)!==-1},Pt=Ot("top"),Et=Ot("left"),Gt=Ot("right"),Ft=Ot("bottom"),Ut=Ft||Et||Pt||Gt,Qt=Ot("inside"),ne=jt==="inside"&&tt.ticks==="inside"||!Qt&&tt.ticks==="outside"&&tt.tickson!=="boundaries",ye=0,_e=0,Me=ne?tt.ticklen:0;if(Qt?Me*=-1:Ut&&(Me=0),ne&&(ye+=Me,Yt)){var Oe=l.deg2rad(Yt);ye=Me*Math.cos(Oe)+1,_e=Me*Math.sin(Oe)}tt.showticklabels&&(ne||tt.showline)&&(ye+=.2*tt.tickfont.size),ye+=(tt.linewidth||1)/2*(Qt?-1:1);var Ie={labelStandoff:ye,labelShift:_e},Je,Ee,He,qe,on=0,cn=tt.side,Cn=tt._id.charAt(0),yn=tt.tickangle,Mn;if(Cn==="x")Mn=!Qt&&cn==="bottom"||Qt&&cn==="top",qe=Mn?1:-1,Qt&&(qe*=-1),Je=_e*qe,Ee=lt+ye*qe,He=Mn?1:-.2,Math.abs(yn)===90&&(Qt?He+=dt:yn===-90&&cn==="bottom"?He=ht:yn===90&&cn==="top"?He=dt:He=.5,on=dt/2*(yn/90)),Ie.xFn=function(kn){return kn.dx+Je+on*kn.fontSize},Ie.yFn=function(kn){return kn.dy+Ee+kn.fontSize*He},Ie.anchorFn=function(kn,$e){if(Ut){if(Et)return"end";if(Gt)return"start"}return!t($e)||$e===0||$e===180?"middle":$e*qe<0!==Qt?"end":"start"},Ie.heightFn=function(kn,$e,Dn){return $e<-60||$e>60?-.5*Dn:tt.side==="top"!==Qt?-Dn:0};else if(Cn==="y"){if(Mn=!Qt&&cn==="left"||Qt&&cn==="right",qe=Mn?1:-1,Qt&&(qe*=-1),Je=ye,Ee=_e*qe,He=0,!Qt&&Math.abs(yn)===90&&(yn===-90&&cn==="left"||yn===90&&cn==="right"?He=ht:He=.5),Qt){var Xn=t(yn)?+yn:0;if(Xn!==0){var Wn=l.deg2rad(Xn);on=Math.abs(Math.sin(Wn))*ht*qe,He=0}}Ie.xFn=function(kn){return kn.dx+lt-(Je+kn.fontSize*He)*qe+on*kn.fontSize},Ie.yFn=function(kn){return kn.dy+Ee+kn.fontSize*dt},Ie.anchorFn=function(kn,$e){return t($e)&&Math.abs($e)===90?"middle":Mn?"end":"start"},Ie.heightFn=function(kn,$e,Dn){return tt.side==="right"&&($e*=-1),$e<-30?-Dn:$e<30?-.5*Dn:0}}return Ie};function pe(tt){return[tt.text,tt.x,tt.axInfo,tt.font,tt.fontSize,tt.fontColor].join("_")}A.drawTicks=function(tt,lt,Yt){Yt=Yt||{};var jt=lt._id+"tick",Ot=[].concat(lt.minor&&lt.minor.ticks?Yt.vals.filter(function(Et){return Et.minor&&!Et.noTick}):[]).concat(lt.ticks?Yt.vals.filter(function(Et){return!Et.minor&&!Et.noTick}):[]),Pt=Yt.layer.selectAll("path."+jt).data(Ot,pe);Pt.exit().remove(),Pt.enter().append("path").classed(jt,1).classed("ticks",1).classed("crisp",Yt.crisp!==!1).each(function(Et){return e.stroke(i.select(this),Et.minor?lt.minor.tickcolor:lt.tickcolor)}).style("stroke-width",function(Et){return p.crispRound(tt,Et.minor?lt.minor.tickwidth:lt.tickwidth,1)+"px"}).attr("d",Yt.path).style("display",null),an(lt,[J]),Pt.attr("transform",Yt.transFn)},A.drawGrid=function(tt,lt,Yt){if(Yt=Yt||{},lt.tickmode!=="sync"){var jt=lt._id+"grid",Ot=lt.minor&&lt.minor.showgrid,Pt=Ot?Yt.vals.filter(function(Je){return Je.minor}):[],Et=lt.showgrid?Yt.vals.filter(function(Je){return!Je.minor}):[],Gt=Yt.counterAxis;if(Gt&&A.shouldShowZeroLine(tt,lt,Gt))for(var Ft=lt.tickmode==="array",Ut=0;Ut<Et.length;Ut++){var Qt=Et[Ut].x;if(Ft?!Qt:Math.abs(Qt)<lt.dtick/100)if(Et=Et.slice(0,Ut).concat(Et.slice(Ut+1)),Ft)Ut--;else break}lt._gw=p.crispRound(tt,lt.gridwidth,1);for(var ne=Ot?p.crispRound(tt,lt.minor.gridwidth,1):0,ye=Yt.layer,_e=Yt.minorLayer,Me=1;Me>=0;Me--){var Oe=Me?ye:_e;if(Oe){var Ie=Oe.selectAll("path."+jt).data(Me?Et:Pt,pe);Ie.exit().remove(),Ie.enter().append("path").classed(jt,1).classed("crisp",Yt.crisp!==!1),Ie.attr("transform",Yt.transFn).attr("d",Yt.path).each(function(Je){return e.stroke(i.select(this),Je.minor?lt.minor.gridcolor:lt.gridcolor||"#ddd")}).style("stroke-dasharray",function(Je){return p.dashStyle(Je.minor?lt.minor.griddash:lt.griddash,Je.minor?lt.minor.gridwidth:lt.gridwidth)}).style("stroke-width",function(Je){return(Je.minor?ne:lt._gw)+"px"}).style("display",null),typeof Yt.path=="function"&&Ie.attr("d",Yt.path)}}an(lt,[C,W])}},A.drawZeroLine=function(tt,lt,Yt){Yt=Yt||Yt;var jt=lt._id+"zl",Ot=A.shouldShowZeroLine(tt,lt,Yt.counterAxis),Pt=Yt.layer.selectAll("path."+jt).data(Ot?[{x:0,id:lt._id}]:[]);Pt.exit().remove(),Pt.enter().append("path").classed(jt,1).classed("zl",1).classed("crisp",Yt.crisp!==!1).each(function(){Yt.layer.selectAll("path").sort(function(Et,Gt){return z(Et.id,Gt.id)})}),Pt.attr("transform",Yt.transFn).attr("d",Yt.path).call(e.stroke,lt.zerolinecolor||e.defaultLine).style("stroke-width",p.crispRound(tt,lt.zerolinewidth,lt._gw||1)+"px").style("display",null),an(lt,[G])},A.drawLabels=function(tt,lt,Yt){Yt=Yt||{};var jt=tt._fullLayout,Ot=lt._id,Pt=Yt.cls||Ot+"tick",Et=Yt.vals.filter(function(hn){return hn.text}),Gt=Yt.labelFns,Ft=Yt.secondary?0:lt.tickangle,Ut=(lt._prevTickAngles||{})[Pt],Qt=Yt.layer.selectAll("g."+Pt).data(lt.showticklabels?Et:[],pe),ne=[];Qt.enter().append("g").classed(Pt,1).append("text").attr("text-anchor","middle").each(function(hn){var fn=i.select(this),mn=tt._promises.length;fn.call(s.positionText,Gt.xFn(hn),Gt.yFn(hn)).call(p.font,{family:hn.font,size:hn.fontSize,color:hn.fontColor,weight:hn.fontWeight,style:hn.fontStyle,variant:hn.fontVariant,textcase:hn.fontTextcase,lineposition:hn.fontLineposition,shadow:hn.fontShadow}).text(hn.text).call(s.convertToTspans,tt),tt._promises[mn]?ne.push(tt._promises.pop().then(function(){ye(fn,Ft)})):ye(fn,Ft)}),an(lt,[at]),Qt.exit().remove(),Yt.repositionOnUpdate&&Qt.each(function(hn){i.select(this).select("text").call(s.positionText,Gt.xFn(hn),Gt.yFn(hn))});function ye(hn,fn){hn.each(function(mn){var Pn=i.select(this),In=Pn.select(".text-math-group"),En=Gt.anchorFn(mn,fn),zn=Yt.transFn.call(Pn.node(),mn)+(t(fn)&&+fn!=0?" rotate("+fn+","+Gt.xFn(mn)+","+(Gt.yFn(mn)-mn.fontSize/2)+")":""),Fn=s.lineCount(Pn),sa=xt*mn.fontSize,Zn=Gt.heightFn(mn,t(fn)?+fn:0,(Fn-1)*sa);if(Zn&&(zn+=o(0,Zn)),In.empty()){var qn=Pn.select("text");qn.attr({transform:zn,"text-anchor":En}),qn.style("opacity",1),lt._adjustTickLabelsOverflow&&lt._adjustTickLabelsOverflow()}else{var Ln=p.bBox(In.node()).width,na=Ln*{end:-.5,start:.5}[En];In.attr("transform",zn+o(na,0))}})}lt._adjustTickLabelsOverflow=function(){var hn=lt.ticklabeloverflow;if(!(!hn||hn==="allow")){var fn=hn.indexOf("hide")!==-1,mn=lt._id.charAt(0)==="x",Pn=0,In=mn?tt._fullLayout.width:tt._fullLayout.height;if(hn.indexOf("domain")!==-1){var En=l.simpleMap(lt.range,lt.r2l);Pn=lt.l2p(En[0])+lt._offset,In=lt.l2p(En[1])+lt._offset}var zn=Math.min(Pn,In),Fn=Math.max(Pn,In),sa=lt.side,Zn=1/0,qn=-1/0;Qt.each(function(va){var _a=i.select(this),ka=_a.select(".text-math-group");if(ka.empty()){var ga=p.bBox(_a.node()),Un=0;mn?(ga.right>Fn||ga.left<zn)&&(Un=1):(ga.bottom>Fn||ga.top+(lt.tickangle?0:va.fontSize/4)<zn)&&(Un=1);var aa=_a.select("text");Un?fn&&aa.style("opacity",0):(aa.style("opacity",1),sa==="bottom"||sa==="right"?Zn=Math.min(Zn,mn?ga.top:ga.left):Zn=-1/0,sa==="top"||sa==="left"?qn=Math.max(qn,mn?ga.bottom:ga.right):qn=1/0)}});for(var Ln in jt._plots){var na=jt._plots[Ln];if(!(lt._id!==na.xaxis._id&&lt._id!==na.yaxis._id)){var ca=mn?na.yaxis:na.xaxis;ca&&(ca["_visibleLabelMin_"+lt._id]=Zn,ca["_visibleLabelMax_"+lt._id]=qn)}}}},lt._hideCounterAxisInsideTickLabels=function(hn){var fn=lt._id.charAt(0)==="x",mn=[];for(var Pn in jt._plots){var In=jt._plots[Pn];lt._id!==In.xaxis._id&&lt._id!==In.yaxis._id||mn.push(fn?In.yaxis:In.xaxis)}mn.forEach(function(En,zn){En&&nn(En)&&(hn||[G,W,C,J,at]).forEach(function(Fn){var sa=Fn.K==="tick"&&Fn.L==="text"&&lt.ticklabelmode==="period",Zn=jt._plots[lt._mainSubplot],qn;Fn.K===G.K?qn=Zn.zerolinelayer.selectAll("."+lt._id+"zl"):Fn.K===W.K?qn=Zn.minorGridlayer.selectAll("."+lt._id):Fn.K===C.K?qn=Zn.gridlayer.selectAll("."+lt._id):qn=Zn[lt._id.charAt(0)+"axislayer"],qn.each(function(){var Ln=i.select(this);Fn.L&&(Ln=Ln.selectAll(Fn.L)),Ln.each(function(na){var ca=lt.l2p(sa?ee(na):na.x)+lt._offset,va=i.select(this);ca<lt["_visibleLabelMax_"+En._id]&&ca>lt["_visibleLabelMin_"+En._id]?va.style("display","none"):Fn.K==="tick"&&!zn&&va.style("display",null)})})})})},ye(Qt,Ut+1?Ut:Ft);function _e(){return ne.length&&Promise.all(ne)}var Me=null;function Oe(){if(ye(Qt,Ft),Et.length&&lt.autotickangles&&(lt.type!=="log"||String(lt.dtick).charAt(0)!=="D")){Me=lt.autotickangles[0];var hn=0,fn=[],mn,Pn=1;Qt.each(function(Tn){hn=Math.max(hn,Tn.fontSize);var Vn=lt.l2p(Tn.x),Aa=Se(this),Ua=p.bBox(Aa.node());Pn=Math.max(Pn,s.lineCount(Aa)),fn.push({top:0,bottom:10,height:10,left:Vn-Ua.width/2,right:Vn+Ua.width/2+2,width:Ua.width+2})});var In=(lt.tickson==="boundaries"||lt.showdividers)&&!Yt.secondary,En=Et.length,zn=Math.abs((Et[En-1].x-Et[0].x)*lt._m)/(En-1),Fn=In?zn/2:zn,sa=In?lt.ticklen:hn*1.25*Pn,Zn=Math.sqrt(Math.pow(Fn,2)+Math.pow(sa,2)),qn=Fn/Zn,Ln=lt.autotickangles.map(function(Tn){return Tn*Math.PI/180}),na=Ln.find(function(Tn){return Math.abs(Math.cos(Tn))<=qn});na===void 0&&(na=Ln.reduce(function(Tn,Vn){return Math.abs(Math.cos(Tn))<Math.abs(Math.cos(Vn))?Tn:Vn},Ln[0]));var ca=na*(180/Math.PI);if(In){var va=2;for(lt.ticks&&(va+=lt.tickwidth/2),mn=0;mn<fn.length;mn++){var _a=Et[mn].xbnd,ka=fn[mn];if(_a[0]!==null&&ka.left-lt.l2p(_a[0])<va||_a[1]!==null&&lt.l2p(_a[1])-ka.right<va){Me=ca;break}}}else{var ga=lt.ticklabelposition||"",Un=function(Tn){return ga.indexOf(Tn)!==-1},aa=Un("top"),tr=Un("left"),Qn=Un("right"),Bn=Un("bottom"),Kn=Bn||tr||aa||Qn,Gn=Kn?(lt.tickwidth||0)+2*j:0;for(mn=0;mn<fn.length-1;mn++)if(l.bBoxIntersect(fn[mn],fn[mn+1],Gn)){Me=ca;break}}Me&&ye(Qt,Me)}}lt._selections&&(lt._selections[Pt]=Qt);var Ie=[_e];lt.automargin&&jt._redrawFromAutoMarginCount&&Ut===90?(Me=Ut,Ie.push(function(){ye(Qt,Ut)})):Ie.push(Oe),lt._tickAngles&&Ie.push(function(){lt._tickAngles[Pt]=Me===null?t(Ft)?Ft:0:Me});var Je=function(){var hn=0,fn=0;return Qt.each(function(mn,Pn){var In=Se(this),En=In.select(".text-math-group");if(En.empty()){var zn;lt._vals[Pn]&&(zn=lt._vals[Pn].bb||p.bBox(In.node()),lt._vals[Pn].bb=zn),hn=Math.max(hn,zn.width),fn=Math.max(fn,zn.height)}}),{labelsMaxW:hn,labelsMaxH:fn}},Ee=lt._anchorAxis;if(Ee&&(Ee.autorange||Ee.insiderange)&&nn(lt)&&!M(jt,lt._id)&&(jt._insideTickLabelsUpdaterange||(jt._insideTickLabelsUpdaterange={}),Ee.autorange&&(jt._insideTickLabelsUpdaterange[Ee._name+".autorange"]=Ee.autorange,Ie.push(Je)),Ee.insiderange)){var He=Je(),qe=lt._id.charAt(0)==="y"?He.labelsMaxW:He.labelsMaxH;qe+=2*j,lt.ticklabelposition==="inside"&&(qe+=lt.ticklen||0);var on=lt.side==="right"||lt.side==="top"?1:-1,cn=on===1?1:0,Cn=on===1?0:1,yn=[];yn[Cn]=Ee.range[Cn];var Mn=Ee.range,Xn=Ee.r2p(Mn[cn]),Wn=Ee.r2p(Mn[Cn]),kn=jt._insideTickLabelsUpdaterange[Ee._name+".range"];if(kn){var $e=Ee.r2p(kn[cn]),Dn=Ee.r2p(kn[Cn]),An=on*(lt._id.charAt(0)==="y"?1:-1);An*Xn<An*$e&&(Xn=$e,yn[cn]=Mn[cn]=kn[cn]),An*Wn>An*Dn&&(Wn=Dn,yn[Cn]=Mn[Cn]=kn[Cn])}var Jn=Math.abs(Wn-Xn);Jn-qe>0?(Jn-=qe,qe*=1+qe/Jn):qe=0,lt._id.charAt(0)!=="y"&&(qe=-qe),yn[cn]=Ee.p2r(Ee.r2p(Mn[cn])+on*qe),Ee.autorange==="min"||Ee.autorange==="max reversed"?(yn[0]=null,Ee._rangeInitial0=void 0,Ee._rangeInitial1=void 0):(Ee.autorange==="max"||Ee.autorange==="min reversed")&&(yn[1]=null,Ee._rangeInitial0=void 0,Ee._rangeInitial1=void 0),jt._insideTickLabelsUpdaterange[Ee._name+".range"]=yn}var Hn=l.syncOrAsync(Ie);return Hn&&Hn.then&&tt._promises.push(Hn),Hn};function De(tt,lt,Yt){var jt=lt._id+"divider",Ot=Yt.vals,Pt=Yt.layer.selectAll("path."+jt).data(Ot,pe);Pt.exit().remove(),Pt.enter().insert("path",":first-child").classed(jt,1).classed("crisp",1).call(e.stroke,lt.dividercolor).style("stroke-width",p.crispRound(tt,lt.dividerwidth,1)+"px"),Pt.attr("transform",Yt.transFn).attr("d",Yt.path)}A.getPxPosition=function(tt,lt){var Yt=tt._fullLayout._size,jt=lt._id.charAt(0),Ot=lt.side,Pt;if(lt.anchor!=="free"?Pt=lt._anchorAxis:jt==="x"?Pt={_offset:Yt.t+(1-(lt.position||0))*Yt.h,_length:0}:jt==="y"&&(Pt={_offset:Yt.l+(lt.position||0)*Yt.w+lt._shift,_length:0}),Ot==="top"||Ot==="left")return Pt._offset;if(Ot==="bottom"||Ot==="right")return Pt._offset+Pt._length};function Ne(tt){var lt=tt.title.font.size,Yt=(tt.title.text.match(s.BR_TAG_ALL)||[]).length;return tt.title.hasOwnProperty("standoff")?lt*(ht+Yt*xt):Yt?lt*(Yt+1)*xt:lt}function Ge(tt,lt){var Yt=tt._fullLayout,jt=lt._id,Ot=jt.charAt(0),Pt=lt.title.font.size,Et,Gt=(lt.title.text.match(s.BR_TAG_ALL)||[]).length;if(lt.title.hasOwnProperty("standoff"))lt.side==="bottom"||lt.side==="right"?Et=lt._depth+lt.title.standoff+Pt*ht:(lt.side==="top"||lt.side==="left")&&(Et=lt._depth+lt.title.standoff+Pt*(dt+Gt*xt));else{var Ft=nn(lt);if(lt.type==="multicategory")Et=lt._depth;else{var Ut=1.5*Pt;Ft&&(Ut=.5*Pt,lt.ticks==="outside"&&(Ut+=lt.ticklen)),Et=10+Ut+(lt.linewidth?lt.linewidth-1:0)}Ft||(Ot==="x"?Et+=lt.side==="top"?Pt*(lt.showticklabels?1:0):Pt*(lt.showticklabels?1.5:.5):Et+=lt.side==="right"?Pt*(lt.showticklabels?1:.5):Pt*(lt.showticklabels?.5:0))}var Qt=A.getPxPosition(tt,lt),ne,ye,_e;Ot==="x"?(ye=lt._offset+lt._length/2,_e=lt.side==="top"?Qt-Et:Qt+Et):(_e=lt._offset+lt._length/2,ye=lt.side==="right"?Qt+Et:Qt-Et,ne={rotate:"-90",offset:0});var Me;if(lt.type!=="multicategory"){var Oe=lt._selections[lt._id+"tick"];if(Me={selection:Oe,side:lt.side},Oe&&Oe.node()&&Oe.node().parentNode){var Ie=p.getTranslate(Oe.node().parentNode);Me.offsetLeft=Ie.x,Me.offsetTop=Ie.y}lt.title.hasOwnProperty("standoff")&&(Me.pad=0)}return lt._titleStandoff=Et,f.draw(tt,jt+"title",{propContainer:lt,propName:lt._name+".title.text",placeholder:Yt._dfltTitle[Ot],avoid:Me,transform:ne,attributes:{x:ye,y:_e,"text-anchor":"middle"}})}A.shouldShowZeroLine=function(tt,lt,Yt){var jt=l.simpleMap(lt.range,lt.r2l);return jt[0]*jt[1]<=0&&lt.zeroline&&(lt.type==="linear"||lt.type==="-")&&!(lt.rangebreaks&&lt.maskBreaks(0)===U)&&(Pe(lt,0)||!ze(tt,lt,Yt,jt)||Le(tt,lt))},A.clipEnds=function(tt,lt){return lt.filter(function(Yt){return Pe(tt,Yt.x)})};function Pe(tt,lt){var Yt=tt.l2p(lt);return Yt>1&&Yt<tt._length-1}function ze(tt,lt,Yt,jt){var Ot=Yt._mainAxis;if(!Ot)return;var Pt=tt._fullLayout,Et=lt._id.charAt(0),Gt=A.counterLetter(lt._id),Ft=lt._offset+(Math.abs(jt[0])<Math.abs(jt[1])==(Et==="x")?0:lt._length);function Ut(Me){if(!Me.showline||!Me.linewidth)return!1;var Oe=Math.max((Me.linewidth+lt.zerolinewidth)/2,1);function Ie(He){return typeof He=="number"&&Math.abs(He-Ft)<Oe}if(Ie(Me._mainLinePosition)||Ie(Me._mainMirrorPosition))return!0;var Je=Me._linepositions||{};for(var Ee in Je)if(Ie(Je[Ee][0])||Ie(Je[Ee][1]))return!0}var Qt=Pt._plots[Yt._mainSubplot];if(!(Qt.mainplotinfo||Qt).overlays.length)return Ut(Yt);for(var ne=A.list(tt,Gt),ye=0;ye<ne.length;ye++){var _e=ne[ye];if(_e._mainAxis===Ot&&Ut(_e))return!0}}function Le(tt,lt){for(var Yt=tt._fullData,jt=lt._mainSubplot,Ot=lt._id.charAt(0),Pt=0;Pt<Yt.length;Pt++){var Et=Yt[Pt];if(Et.visible===!0&&Et.xaxis+Et.yaxis===jt&&(r.traceIs(Et,"bar-like")&&Et.orientation==={x:"h",y:"v"}[Ot]||Et.fill&&Et.fill.charAt(Et.fill.length-1)===Ot))return!0}return!1}function Se(tt){var lt=i.select(tt),Yt=lt.select(".text-math-group");return Yt.empty()?lt.select("text"):Yt}A.allowAutoMargin=function(tt){for(var lt=A.list(tt,"",!0),Yt=0;Yt<lt.length;Yt++){var jt=lt[Yt];jt.automargin&&(n.allowAutoMargin(tt,Ye(jt)),jt.mirror&&n.allowAutoMargin(tt,Be(jt))),r.getComponentMethod("rangeslider","isVisible")(jt)&&n.allowAutoMargin(tt,Ze(jt))}};function Ye(tt){return tt._id+".automargin"}function Be(tt){return Ye(tt)+".mirror"}function Ze(tt){return tt._id+".rangeslider"}A.swap=function(tt,lt){for(var Yt=Fe(tt,lt),jt=0;jt<Yt.length;jt++)je(tt,Yt[jt].x,Yt[jt].y)};function Fe(tt,lt){var Yt=[],jt,Ot;for(jt=0;jt<lt.length;jt++){var Pt=[],Et=tt._fullData[lt[jt]].xaxis,Gt=tt._fullData[lt[jt]].yaxis;if(!(!Et||!Gt)){for(Ot=0;Ot<Yt.length;Ot++)(Yt[Ot].x.indexOf(Et)!==-1||Yt[Ot].y.indexOf(Gt)!==-1)&&Pt.push(Ot);if(!Pt.length){Yt.push({x:[Et],y:[Gt]});continue}var Ft=Yt[Pt[0]],Ut;if(Pt.length>1)for(Ot=1;Ot<Pt.length;Ot++)Ut=Yt[Pt[Ot]],ke(Ft.x,Ut.x),ke(Ft.y,Ut.y);ke(Ft.x,[Et]),ke(Ft.y,[Gt])}}return Yt}function ke(tt,lt){for(var Yt=0;Yt<lt.length;Yt++)tt.indexOf(lt[Yt])===-1&&tt.push(lt[Yt])}function je(tt,lt,Yt){var jt=[],Ot=[],Pt=tt.layout,Et,Gt;for(Et=0;Et<lt.length;Et++)jt.push(A.getFromId(tt,lt[Et]));for(Et=0;Et<Yt.length;Et++)Ot.push(A.getFromId(tt,Yt[Et]));var Ft=Object.keys(u),Ut=["anchor","domain","overlaying","position","side","tickangle","editType"],Qt=["linear","log"];for(Et=0;Et<Ft.length;Et++){var ne=Ft[Et],ye=jt[0][ne],_e=Ot[0][ne],Me=!0,Oe=!1,Ie=!1;if(!(ne.charAt(0)==="_"||typeof ye=="function"||Ut.indexOf(ne)!==-1)){for(Gt=1;Gt<jt.length&&Me;Gt++){var Je=jt[Gt][ne];ne==="type"&&Qt.indexOf(ye)!==-1&&Qt.indexOf(Je)!==-1&&ye!==Je?Oe=!0:Je!==ye&&(Me=!1)}for(Gt=1;Gt<Ot.length&&Me;Gt++){var Ee=Ot[Gt][ne];ne==="type"&&Qt.indexOf(_e)!==-1&&Qt.indexOf(Ee)!==-1&&_e!==Ee?Ie=!0:Ot[Gt][ne]!==_e&&(Me=!1)}Me&&(Oe&&(Pt[jt[0]._name].type="linear"),Ie&&(Pt[Ot[0]._name].type="linear"),Ke(Pt,ne,jt,Ot,tt._fullLayout._dfltTitle))}}for(Et=0;Et<tt._fullLayout.annotations.length;Et++){var He=tt._fullLayout.annotations[Et];lt.indexOf(He.xref)!==-1&&Yt.indexOf(He.yref)!==-1&&l.swapAttrs(Pt.annotations[Et],["?"])}}function Ke(tt,lt,Yt,jt,Ot){var Pt=l.nestedProperty,Et=Pt(tt[Yt[0]._name],lt).get(),Gt=Pt(tt[jt[0]._name],lt).get(),Ft;for(lt==="title"&&(Et&&Et.text===Ot.x&&(Et.text=Ot.y),Gt&&Gt.text===Ot.y&&(Gt.text=Ot.x)),Ft=0;Ft<Yt.length;Ft++)Pt(tt,Yt[Ft]._name+"."+lt).set(Gt);for(Ft=0;Ft<jt.length;Ft++)Pt(tt,jt[Ft]._name+"."+lt).set(Et)}function ln(tt){return tt._id==="angularaxis"}function Ve(tt,lt){for(var Yt=lt._rangebreaks.length,jt=0;jt<Yt;jt++){var Ot=lt._rangebreaks[jt];if(tt>=Ot.min&&tt<Ot.max)return Ot.max}return tt}function nn(tt){return(tt.ticklabelposition||"").indexOf("inside")!==-1}function an(tt,lt){nn(tt._anchorAxis||{})&&tt._hideCounterAxisInsideTickLabels&&tt._hideCounterAxisInsideTickLabels(lt)}function gn(tt,lt,Yt,jt){var Ot=tt.anchor!=="free"&&(tt.overlaying===void 0||tt.overlaying===!1)?tt._id:tt.overlaying,Pt;jt?Pt=tt.side==="right"?lt:-lt:Pt=lt,Ot in Yt||(Yt[Ot]={}),tt.side in Yt[Ot]||(Yt[Ot][tt.side]=0),Yt[Ot][tt.side]+=Pt}function Ae(tt,lt){return tt.autoshift?lt[tt.overlaying][tt.side]:tt.shift||0}function sn(tt,lt){return/%f/.test(lt)?tt>=N:/%L/.test(lt)?tt>=E:/%[SX]/.test(lt)?tt>=I:/%M/.test(lt)?tt>=X:/%[HI]/.test(lt)?tt>=T:/%p/.test(lt)?tt>=O:/%[Aadejuwx]/.test(lt)?tt>=P:/%[UVW]/.test(lt)?tt>=$:/%[Bbm]/.test(lt)?tt>=k:/%[q]/.test(lt)?tt>=d:/%[Yy]/.test(lt)?tt>=y:!0}}),hc=Dt((F,D)=>{D.exports=function(i,t,n){var r,l;if(n){var o=t==="reversed"||t==="min reversed"||t==="max reversed";r=n[o?1:0],l=n[o?0:1]}var s=i("autorangeoptions.minallowed",l===null?r:void 0),f=i("autorangeoptions.maxallowed",r===null?l:void 0);s===void 0&&i("autorangeoptions.clipmin"),f===void 0&&i("autorangeoptions.clipmax"),i("autorangeoptions.include")}}),ol=Dt((F,D)=>{var i=hc();D.exports=function(t,n,r,l){var o=n._template||{},s=n.type||o.type||"-";r("minallowed"),r("maxallowed");var f=r("range");if(!f){var e;!l.noInsiderange&&s!=="log"&&(e=r("insiderange"),e&&(e[0]===null||e[1]===null)&&(n.insiderange=!1,e=void 0),e&&(f=r("range",e)))}var p=n.getAutorangeDflt(f,l),u=r("autorange",p),h;f&&(f[0]===null&&f[1]===null||(f[0]===null||f[1]===null)&&(u==="reversed"||u===!0)||f[0]!==null&&(u==="min"||u==="max reversed")||f[1]!==null&&(u==="max"||u==="min reversed"))&&(f=void 0,delete n.range,n.autorange=!0,h=!0),h||(p=n.getAutorangeDflt(f,l),u=r("autorange",p)),u&&(i(r,u,f),(s==="linear"||s==="-")&&r("rangemode")),n.cleanRange()}}),pc=Dt((F,D)=>{var i={left:0,top:0};D.exports=t;function t(r,l,o){l=l||r.currentTarget||r.srcElement,Array.isArray(o)||(o=[0,0]);var s=r.clientX||0,f=r.clientY||0,e=n(l);return o[0]=s-e.left,o[1]=f-e.top,o}function n(r){return r===window||r===document||r===document.body?i:r.getBoundingClientRect()}}),ll=Dt((F,D)=>{var i=Zo();function t(){var n=!1;try{var r=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,r),window.removeEventListener("test",null,r)}catch{n=!1}return n}D.exports=i&&t()}),vc=Dt((F,D)=>{D.exports=function(i,t,n,r,l){var o=(i-n)/(r-n),s=o+t/(r-n),f=(o+s)/2;return l==="left"||l==="bottom"?o:l==="center"||l==="middle"?f:l==="right"||l==="top"?s:o<2/3-f?o:s>4/3-f?s:f}}),gc=Dt((F,D)=>{var i=Ce(),t=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];D.exports=function(n,r,l,o){return l==="left"?n=0:l==="center"?n=1:l==="right"?n=2:n=i.constrain(Math.floor(n*3),0,2),o==="bottom"?r=0:o==="middle"?r=1:o==="top"?r=2:r=i.constrain(Math.floor(r*3),0,2),t[r][n]}}),yc=Dt((F,D)=>{var i=Wr(),t=Ci(),n=Gr().getGraphDiv,r=Ur(),l=D.exports={};l.wrapped=function(o,s,f){o=n(o),o._fullLayout&&t.clear(o._fullLayout._uid+r.HOVERID),l.raw(o,s,f)},l.raw=function(o,s){var f=o._fullLayout,e=o._hoverdata;s||(s={}),!(s.target&&!o._dragged&&i.triggerHandler(o,"plotly_beforehover",s)===!1)&&(f._hoverlayer.selectAll("g").remove(),f._hoverlayer.selectAll("line").remove(),f._hoverlayer.selectAll("circle").remove(),o._hoverdata=void 0,s.target&&e&&o.emit("plotly_unhover",{event:s,points:e}))}}),Za=Dt((F,D)=>{var i=pc(),t=Uo(),n=ll(),r=Ce().removeElement,l=pa(),o=D.exports={};o.align=vc(),o.getCursor=gc();var s=yc();o.unhover=s.wrapped,o.unhoverRaw=s.raw,o.init=function(p){var u=p.gd,h=1,b=u._context.doubleClickDelay,m=p.element,g,y,v,c,d,_,w,k;u._mouseDownTime||(u._mouseDownTime=0),m.style.pointerEvents="all",m.onmousedown=O,n?(m._ontouchstart&&m.removeEventListener("touchstart",m._ontouchstart),m._ontouchstart=O,m.addEventListener("touchstart",O,{passive:!1})):m.ontouchstart=O;function $(I,E,N){return Math.abs(I)<N&&(I=0),Math.abs(E)<N&&(E=0),[I,E]}var P=p.clampFn||$;function O(I){u._dragged=!1,u._dragging=!0;var E=e(I);g=E[0],y=E[1],w=I.target,_=I,k=I.buttons===2||I.ctrlKey,typeof I.clientX>"u"&&typeof I.clientY>"u"&&(I.clientX=g,I.clientY=y),v=new Date().getTime(),v-u._mouseDownTime<b?h+=1:(h=1,u._mouseDownTime=v),p.prepFn&&p.prepFn(I,g,y),t&&!k?(d=f(),d.style.cursor=window.getComputedStyle(m).cursor):t||(d=document,c=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(m).cursor),document.addEventListener("mouseup",X),document.addEventListener("touchend",X),p.dragmode!==!1&&(I.preventDefault(),document.addEventListener("mousemove",T),document.addEventListener("touchmove",T,{passive:!1}))}function T(I){I.preventDefault();var E=e(I),N=p.minDrag||l.MINDRAG,V=P(E[0]-g,E[1]-y,N),U=V[0],G=V[1];(U||G)&&(u._dragged=!0,o.unhover(u,I)),u._dragged&&p.moveFn&&!k&&(u._dragdata={element:m,dx:U,dy:G},p.moveFn(U,G))}function X(I){if(delete u._dragdata,p.dragmode!==!1&&(I.preventDefault(),document.removeEventListener("mousemove",T),document.removeEventListener("touchmove",T)),document.removeEventListener("mouseup",X),document.removeEventListener("touchend",X),t?r(d):c&&(d.documentElement.style.cursor=c,c=null),!u._dragging){u._dragged=!1;return}if(u._dragging=!1,new Date().getTime()-u._mouseDownTime>b&&(h=Math.max(h-1,1)),u._dragged)p.doneFn&&p.doneFn();else{var E;_.target===w?E=_:(E={target:w,srcElement:w,toElement:w},Object.keys(_).concat(Object.keys(_.__proto__)).forEach(N=>{var V=_[N];!E[N]&&typeof V!="function"&&(E[N]=V)})),p.clickFn&&p.clickFn(h,E),k||w.dispatchEvent(new MouseEvent("click",I))}u._dragging=!1,u._dragged=!1}};function f(){var p=document.createElement("div");p.className="dragcover";var u=p.style;return u.position="fixed",u.left=0,u.right=0,u.top=0,u.bottom=0,u.zIndex=999999999,u.background="none",document.body.appendChild(p),p}o.coverSlip=f;function e(p){return i(p.changedTouches?p.changedTouches[0]:p,document.body)}}),fr=Dt((F,D)=>{D.exports=function(i,t){(i.attr("class")||"").split(" ").forEach(function(n){n.indexOf("cursor-")===0&&i.classed(n,!1)}),t&&i.classed("cursor-"+t,!0)}}),mc=Dt((F,D)=>{var i=fr(),t="data-savedcursor",n="!!";D.exports=function(r,l){var o=r.attr(t);if(l){if(!o){for(var s=(r.attr("class")||"").split(" "),f=0;f<s.length;f++){var e=s[f];e.indexOf("cursor-")===0&&r.attr(t,e.substr(7)).classed(e,!1)}r.attr(t)||r.attr(t,n)}i(r,l)}else o&&(r.attr(t,null),o===n?i(r):i(r,o))}}),sl=Dt((F,D)=>{var i=ha(),t=Ja();D.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:t.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:i({editType:"legend"}),grouptitlefont:i({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:i({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}}),Ei=Dt(F=>{F.isGrouped=function(D){return(D.traceorder||"").indexOf("grouped")!==-1},F.isVertical=function(D){return D.orientation!=="h"},F.isReversed=function(D){return(D.traceorder||"").indexOf("reversed")!==-1}}),ul=Dt((F,D)=>{var i=un(),t=Ce(),n=jn(),r=ja(),l=sl(),o=Fr(),s=Ei();function f(e,p,u,h){var b=p[e]||{},m=n.newContainer(u,e);function g(xt,H){return t.coerce(b,m,l,xt,H)}var y=t.coerceFont(g,"font",u.font);g("bgcolor",u.paper_bgcolor),g("bordercolor");var v=g("visible");if(v){for(var c,d=function(xt,H){var j=c._input,A=c;return t.coerce(j,A,r,xt,H)},_=u.font||{},w=t.coerceFont(g,"grouptitlefont",_,{overrideDflt:{size:Math.round(_.size*1.1)}}),k=0,$=!1,P="normal",O=(u.shapes||[]).filter(function(xt){return xt.showlegend}),T=h.concat(O).filter(function(xt){return e===(xt.legend||"legend")}),X=0;X<T.length;X++)if(c=T[X],!!c.visible){var I=c._isShape;(c.showlegend||c._dfltShowLegend&&!(c._module&&c._module.attributes&&c._module.attributes.showlegend&&c._module.attributes.showlegend.dflt===!1))&&(k++,c.showlegend&&($=!0,(!I&&i.traceIs(c,"pie-like")||c._input.showlegend===!0)&&k++),t.coerceFont(d,"legendgrouptitle.font",w)),(!I&&i.traceIs(c,"bar")&&u.barmode==="stack"||["tonextx","tonexty"].indexOf(c.fill)!==-1)&&(P=s.isGrouped({traceorder:P})?"grouped+reversed":"reversed"),c.legendgroup!==void 0&&c.legendgroup!==""&&(P=s.isReversed({traceorder:P})?"reversed+grouped":"grouped")}var E=t.coerce(p,u,o,"showlegend",$&&k>(e==="legend"?1:0));if(E===!1&&(u[e]=void 0),!(E===!1&&!b.uirevision)&&(g("uirevision",u.uirevision),E!==!1)){g("borderwidth");var N=g("orientation"),V=g("yref"),U=g("xref"),G=N==="h",C=V==="paper",W=U==="paper",J,at,et,it="left";G?(J=0,i.getComponentMethod("rangeslider","isVisible")(p.xaxis)?C?(at=1.1,et="bottom"):(at=1,et="top"):C?(at=-.1,et="top"):(at=0,et="bottom")):(at=1,et="auto",W?J=1.02:(J=1,it="right")),t.coerce(b,m,{x:{valType:"number",editType:"legend",min:W?-2:0,max:W?3:1,dflt:J}},"x"),t.coerce(b,m,{y:{valType:"number",editType:"legend",min:C?-2:0,max:C?3:1,dflt:at}},"y"),g("traceorder",P),s.isGrouped(u[e])&&g("tracegroupgap"),g("entrywidth"),g("entrywidthmode"),g("indentation"),g("itemsizing"),g("itemwidth"),g("itemclick"),g("itemdoubleclick"),g("groupclick"),g("xanchor",it),g("yanchor",et),g("valign"),t.noneOrAll(b,m,["x","y"]);var dt=g("title.text");if(dt){g("title.side",G?"left":"top");var ht=t.extendFlat({},y,{size:t.bigFont(y.size)});t.coerceFont(g,"title.font",ht)}}}}D.exports=function(e,p,u){var h,b=u.slice(),m=p.shapes;if(m)for(h=0;h<m.length;h++){var g=m[h];if(g.showlegend){var y={_input:g._input,visible:g.visible,showlegend:g.showlegend,legend:g.legend};b.push(y)}}var v=["legend"];for(h=0;h<b.length;h++)t.pushUnique(v,b[h].legend);for(p._legends=[],h=0;h<v.length;h++){var c=v[h];f(c,e,p,b),p[c]&&p[c].visible&&(p[c]._id=c),p._legends.push(c)}}}),xc=Dt((F,D)=>{var i=un(),t=Ce(),n=t.pushUnique,r=!0;D.exports=function(l,o,s){var f=o._fullLayout;if(o._dragged||o._editing)return;var e=f.legend.itemclick,p=f.legend.itemdoubleclick,u=f.legend.groupclick;s===1&&e==="toggle"&&p==="toggleothers"&&r&&o.data&&o._context.showTips&&t.notifier(t._(o,"Double-click on legend to isolate one trace"),"long"),r=!1;var h;if(s===1?h=e:s===2&&(h=p),!h)return;var b=u==="togglegroup",m=f.hiddenlabels?f.hiddenlabels.slice():[],g=l.data()[0][0];if(g.groupTitle&&g.noClick)return;var y=o._fullData,v=(f.shapes||[]).filter(function(Ht){return Ht.showlegend}),c=y.concat(v),d=g.trace;d._isShape&&(d=d._fullInput);var _=d.legendgroup,w,k,$,P,O,T,X={},I=[],E=[],N=[];function V(Ht,pt){var bt=I.indexOf(Ht),ot=X.visible;return ot||(ot=X.visible=[]),I.indexOf(Ht)===-1&&(I.push(Ht),bt=I.length-1),ot[bt]=pt,bt}var U=(f.shapes||[]).map(function(Ht){return Ht._input}),G=!1;function C(Ht,pt){U[Ht].visible=pt,G=!0}function W(Ht,pt){if(!(g.groupTitle&&!b)){var bt=Ht._fullInput||Ht,ot=bt._isShape,Lt=bt.index;Lt===void 0&&(Lt=bt._index);var Nt=bt.visible===!1?!1:pt;ot?C(Lt,Nt):V(Lt,Nt)}}var J=d.legend,at=d._fullInput,et=at&&at._isShape;if(!et&&i.traceIs(d,"pie-like")){var it=g.label,dt=m.indexOf(it);if(h==="toggle")dt===-1?m.push(it):m.splice(dt,1);else if(h==="toggleothers"){var ht=dt!==-1,xt=[];for(w=0;w<o.calcdata.length;w++){var H=o.calcdata[w];for(k=0;k<H.length;k++){var j=H[k],A=j.label;J===H[0].trace.legend&&it!==A&&(m.indexOf(A)===-1&&(ht=!0),n(m,A),xt.push(A))}}if(!ht)for(var q=0;q<xt.length;q++){var R=m.indexOf(xt[q]);R!==-1&&m.splice(R,1)}}i.call("_guiRelayout",o,"hiddenlabels",m)}else{var z=_&&_.length,M=[],S;if(z)for(w=0;w<c.length;w++)S=c[w],S.visible&&S.legendgroup===_&&M.push(w);if(h==="toggle"){var Z;switch(d.visible){case!0:Z="legendonly";break;case!1:Z=!1;break;case"legendonly":Z=!0;break}if(z)if(b)for(w=0;w<c.length;w++){var Y=c[w];Y.visible!==!1&&Y.legendgroup===_&&W(Y,Z)}else W(d,Z);else W(d,Z)}else if(h==="toggleothers"){var rt,st,ut,_t,At,Rt=!0;for(w=0;w<c.length;w++)if(At=c[w],rt=At===d,ut=At.showlegend!==!0,!(rt||ut)&&(st=z&&At.legendgroup===_,!st&&At.legend===J&&At.visible===!0&&!i.traceIs(At,"notLegendIsolatable"))){Rt=!1;break}for(w=0;w<c.length;w++)if(At=c[w],!(At.visible===!1||At.legend!==J)&&!i.traceIs(At,"notLegendIsolatable"))switch(d.visible){case"legendonly":W(At,!0);break;case!0:_t=Rt?!0:"legendonly",rt=At===d,ut=At.showlegend!==!0&&!At.legendgroup,st=rt||z&&At.legendgroup===_,W(At,st||ut?!0:_t);break}}for(w=0;w<E.length;w++)if($=E[w],!!$){var Xt=$.constructUpdate(),Bt=Object.keys(Xt);for(k=0;k<Bt.length;k++)P=Bt[k],T=X[P]=X[P]||[],T[N[w]]=Xt[P]}for(O=Object.keys(X),w=0;w<O.length;w++)for(P=O[w],k=0;k<I.length;k++)X[P].hasOwnProperty(k)||(X[P][k]=void 0);G?i.call("_guiUpdate",o,X,{shapes:U},I):i.call("_guiRestyle",o,X,I)}}}),cl=Dt((F,D)=>{D.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}}),bc=Dt((F,D)=>{var i=un(),t=Ei();D.exports=function(n,r,l){var o=r._inHover,s=t.isGrouped(r),f=t.isReversed(r),e={},p=[],u=!1,h={},b=0,m=0,g,y;function v(W,J,at){if(r.visible!==!1&&!(l&&W!==r._id))if(J===""||!t.isGrouped(r)){var et="~~i"+b;p.push(et),e[et]=[at],b++}else p.indexOf(J)===-1?(p.push(J),u=!0,e[J]=[at]):e[J].push(at)}for(g=0;g<n.length;g++){var c=n[g],d=c[0],_=d.trace,w=_.legend,k=_.legendgroup;if(!(!o&&(!_.visible||!_.showlegend)))if(i.traceIs(_,"pie-like"))for(h[k]||(h[k]={}),y=0;y<c.length;y++){var $=c[y].label;h[k][$]||(v(w,k,{label:$,color:c[y].color,i:c[y].i,trace:_,pts:c[y].pts}),h[k][$]=!0,m=Math.max(m,($||"").length))}else v(w,k,d),m=Math.max(m,(_.name||"").length)}if(!p.length)return[];var P=!u||!s,O=[];for(g=0;g<p.length;g++){var T=e[p[g]];P?O.push(T[0]):O.push(T)}for(P&&(O=[O]),g=0;g<O.length;g++){var X=1/0;for(y=0;y<O[g].length;y++){var I=O[g][y].trace.legendrank;X>I&&(X=I)}O[g][0]._groupMinRank=X,O[g][0]._preGroupSort=g}var E=function(W,J){return W[0]._groupMinRank-J[0]._groupMinRank||W[0]._preGroupSort-J[0]._preGroupSort},N=function(W,J){return W.trace.legendrank-J.trace.legendrank||W._preSort-J._preSort};for(O.forEach(function(W,J){W[0]._preGroupSort=J}),O.sort(E),g=0;g<O.length;g++){O[g].forEach(function(W,J){W._preSort=J}),O[g].sort(N);var V=O[g][0].trace,U=null;for(y=0;y<O[g].length;y++){var G=O[g][y].trace.legendgrouptitle;if(G&&G.text){U=G,o&&(G.font=r._groupTitleFont);break}}if(f&&O[g].reverse(),U){var C=!1;for(y=0;y<O[g].length;y++)if(i.traceIs(O[g][y].trace,"pie-like")){C=!0;break}O[g].unshift({i:-1,groupTitle:U,noClick:C,trace:{showlegend:V.showlegend,legendgroup:V.legendgroup,visible:r.groupclick==="toggleitem"?!0:V.visible}})}for(y=0;y<O[g].length;y++)O[g][y]=[O[g][y]]}return r._lgroupsLength=O.length,r._maxNameLength=m,O}}),zi=Dt(F=>{var D=Ce();function i(t){return t.indexOf("e")!==-1?t.replace(/[.]?0+e/,"e"):t.indexOf(".")!==-1?t.replace(/[.]?0+$/,""):t}F.formatPiePercent=function(t,n){var r=i((t*100).toPrecision(3));return D.numSeparate(r,n)+"%"},F.formatPieValue=function(t,n){var r=i(t.toPrecision(10));return D.numSeparate(r,n)},F.getFirstFilled=function(t,n){if(D.isArrayOrTypedArray(t))for(var r=0;r<n.length;r++){var l=t[n[r]];if(l||l===0||l==="")return l}},F.castOption=function(t,n){if(D.isArrayOrTypedArray(t))return F.getFirstFilled(t,n);if(t)return t},F.getRotationAngle=function(t){return(t==="auto"?0:t)*Math.PI/180}}),_c=Dt((F,D)=>{var i=Nn(),t=bn();D.exports=function(n,r,l,o){var s=l.marker.pattern;s&&s.shape?i.pointStyle(n,l,o,r):t.fill(n,r.color)}}),Bi=Dt((F,D)=>{var i=bn(),t=zi().castOption,n=_c();D.exports=function(r,l,o,s){var f=o.marker.line,e=t(f.color,l.pts)||i.defaultLine,p=t(f.width,l.pts)||0;r.call(n,l,o,s).style("stroke-width",p).call(i.stroke,e)}}),fl=Dt((F,D)=>{var i=_n(),t=un(),n=Ce(),r=n.strTranslate,l=Nn(),o=bn(),s=Ea().extractOpts,f=Pa(),e=Bi(),p=zi().castOption,u=cl(),h=12,b=5,m=2,g=10,y=5;D.exports=function(_,w,k){var $=w._fullLayout;k||(k=$.legend);var P=k.itemsizing==="constant",O=k.itemwidth,T=(O+u.itemGap*2)/2,X=r(T,0),I=function(xt,H,j,A){var q;if(xt+1)q=xt;else if(H&&H.width>0)q=H.width;else return 0;return P?A:Math.min(q,j)};_.each(function(xt){var H=i.select(this),j=n.ensureSingle(H,"g","layers");j.style("opacity",xt[0].trace.opacity);var A=k.indentation,q=k.valign,R=xt[0].lineHeight,z=xt[0].height;if(q==="middle"&&A===0||!R||!z)j.attr("transform",null);else{var M={top:1,bottom:-1}[q],S=M*(.5*(R-z+3))||0,Z=k.indentation;j.attr("transform",r(Z,S))}var Y=j.selectAll("g.legendfill").data([xt]);Y.enter().append("g").classed("legendfill",!0);var rt=j.selectAll("g.legendlines").data([xt]);rt.enter().append("g").classed("legendlines",!0);var st=j.selectAll("g.legendsymbols").data([xt]);st.enter().append("g").classed("legendsymbols",!0),st.selectAll("g.legendpoints").data([xt]).enter().append("g").classed("legendpoints",!0)}).each(ht).each(V).each(G).each(U).each(W).each(it).each(et).each(E).each(N).each(J).each(at);function E(xt){var H=c(xt),j=H.showFill,A=H.showLine,q=H.showGradientLine,R=H.showGradientFill,z=H.anyFill,M=H.anyLine,S=xt[0],Z=S.trace,Y,rt,st=s(Z),ut=st.colorscale,_t=st.reversescale,At=function(ot){if(ot.size())if(j)l.fillGroupStyle(ot,w,!0);else{var Lt="legendfill-"+Z.uid;l.gradient(ot,w,Lt,v(_t),ut,"fill")}},Rt=function(ot){if(ot.size()){var Lt="legendline-"+Z.uid;l.lineGroupStyle(ot),l.gradient(ot,w,Lt,v(_t),ut,"stroke")}},Xt=f.hasMarkers(Z)||!z?"M5,0":M?"M5,-2":"M5,-3",Bt=i.select(this),Ht=Bt.select(".legendfill").selectAll("path").data(j||R?[xt]:[]);if(Ht.enter().append("path").classed("js-fill",!0),Ht.exit().remove(),Ht.attr("d",Xt+"h"+O+"v6h-"+O+"z").call(At),A||q){var pt=I(void 0,Z.line,g,b);rt=n.minExtend(Z,{line:{width:pt}}),Y=[n.minExtend(S,{trace:rt})]}var bt=Bt.select(".legendlines").selectAll("path").data(A||q?[Y]:[]);bt.enter().append("path").classed("js-line",!0),bt.exit().remove(),bt.attr("d",Xt+(q?"l"+O+",0.0001":"h"+O)).call(A?l.lineGroupStyle:Rt)}function N(xt){var H=c(xt),j=H.anyFill,A=H.anyLine,q=H.showLine,R=H.showMarker,z=xt[0],M=z.trace,S=!R&&!A&&!j&&f.hasText(M),Z,Y;function rt(Ht,pt,bt,ot){var Lt=n.nestedProperty(M,Ht).get(),Nt=n.isArrayOrTypedArray(Lt)&&pt?pt(Lt):Lt;if(P&&Nt&&ot!==void 0&&(Nt=ot),bt){if(Nt<bt[0])return bt[0];if(Nt>bt[1])return bt[1]}return Nt}function st(Ht){return z._distinct&&z.index&&Ht[z.index]?Ht[z.index]:Ht[0]}if(R||S||q){var ut={},_t={};if(R){ut.mc=rt("marker.color",st),ut.mx=rt("marker.symbol",st),ut.mo=rt("marker.opacity",n.mean,[.2,1]),ut.mlc=rt("marker.line.color",st),ut.mlw=rt("marker.line.width",n.mean,[0,5],m),_t.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var At=rt("marker.size",n.mean,[2,16],h);ut.ms=At,_t.marker.size=At}q&&(_t.line={width:rt("line.width",st,[0,10],b)}),S&&(ut.tx="Aa",ut.tp=rt("textposition",st),ut.ts=10,ut.tc=rt("textfont.color",st),ut.tf=rt("textfont.family",st),ut.tw=rt("textfont.weight",st),ut.ty=rt("textfont.style",st),ut.tv=rt("textfont.variant",st),ut.tC=rt("textfont.textcase",st),ut.tE=rt("textfont.lineposition",st),ut.tS=rt("textfont.shadow",st)),Z=[n.minExtend(z,ut)],Y=n.minExtend(M,_t),Y.selectedpoints=null,Y.texttemplate=null}var Rt=i.select(this).select("g.legendpoints"),Xt=Rt.selectAll("path.scatterpts").data(R?Z:[]);Xt.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",X),Xt.exit().remove(),Xt.call(l.pointStyle,Y,w),R&&(Z[0].mrc=3);var Bt=Rt.selectAll("g.pointtext").data(S?Z:[]);Bt.enter().append("g").classed("pointtext",!0).append("text").attr("transform",X),Bt.exit().remove(),Bt.selectAll("text").call(l.textPointStyle,Y,w)}function V(xt){var H=xt[0].trace,j=H.type==="waterfall";if(xt[0]._distinct&&j){var A=xt[0].trace[xt[0].dir].marker;return xt[0].mc=A.color,xt[0].mlw=A.line.width,xt[0].mlc=A.line.color,C(xt,this,"waterfall")}var q=[];H.visible&&j&&(q=xt[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var R=i.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(q);R.enter().append("path").classed("legendwaterfall",!0).attr("transform",X).style("stroke-miterlimit",1),R.exit().remove(),R.each(function(z){var M=i.select(this),S=H[z[0]].marker,Z=I(void 0,S.line,y,m);M.attr("d",z[1]).style("stroke-width",Z+"px").call(o.fill,S.color),Z&&M.call(o.stroke,S.line.color)})}function U(xt){C(xt,this)}function G(xt){C(xt,this,"funnel")}function C(xt,H,j){var A=xt[0].trace,q=A.marker||{},R=q.line||{},z=q.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",M=j?A.visible&&A.type===j:t.traceIs(A,"bar"),S=i.select(H).select("g.legendpoints").selectAll("path.legend"+j).data(M?[xt]:[]);S.enter().append("path").classed("legend"+j,!0).attr("d",z).attr("transform",X),S.exit().remove(),S.each(function(Z){var Y=i.select(this),rt=Z[0],st=I(rt.mlw,q.line,y,m);Y.style("stroke-width",st+"px");var ut=rt.mcc;if(!k._inHover&&"mc"in rt){var _t=s(q),At=_t.mid;At===void 0&&(At=(_t.max+_t.min)/2),ut=l.tryColorscale(q,"")(At)}var Rt=ut||rt.mc||q.color,Xt=q.pattern,Bt=Xt&&l.getPatternAttr(Xt.shape,0,"");if(Bt){var Ht=l.getPatternAttr(Xt.bgcolor,0,null),pt=l.getPatternAttr(Xt.fgcolor,0,null),bt=Xt.fgopacity,ot=d(Xt.size,8,10),Lt=d(Xt.solidity,.5,1),Nt="legend-"+A.uid;Y.call(l.pattern,"legend",w,Nt,Bt,ot,Lt,ut,Xt.fillmode,Ht,pt,bt)}else Y.call(o.fill,Rt);st&&o.stroke(Y,rt.mlc||R.color)})}function W(xt){var H=xt[0].trace,j=i.select(this).select("g.legendpoints").selectAll("path.legendbox").data(H.visible&&t.traceIs(H,"box-violin")?[xt]:[]);j.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",X),j.exit().remove(),j.each(function(){var A=i.select(this);if((H.boxpoints==="all"||H.points==="all")&&o.opacity(H.fillcolor)===0&&o.opacity((H.line||{}).color)===0){var q=n.minExtend(H,{marker:{size:P?h:n.constrain(H.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});j.call(l.pointStyle,q,w)}else{var R=I(void 0,H.line,y,m);A.style("stroke-width",R+"px").call(o.fill,H.fillcolor),R&&o.stroke(A,H.line.color)}})}function J(xt){var H=xt[0].trace,j=i.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(H.visible&&H.type==="candlestick"?[xt,xt]:[]);j.enter().append("path").classed("legendcandle",!0).attr("d",function(A,q){return q?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",X).style("stroke-miterlimit",1),j.exit().remove(),j.each(function(A,q){var R=i.select(this),z=H[q?"increasing":"decreasing"],M=I(void 0,z.line,y,m);R.style("stroke-width",M+"px").call(o.fill,z.fillcolor),M&&o.stroke(R,z.line.color)})}function at(xt){var H=xt[0].trace,j=i.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(H.visible&&H.type==="ohlc"?[xt,xt]:[]);j.enter().append("path").classed("legendohlc",!0).attr("d",function(A,q){return q?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",X).style("stroke-miterlimit",1),j.exit().remove(),j.each(function(A,q){var R=i.select(this),z=H[q?"increasing":"decreasing"],M=I(void 0,z.line,y,m);R.style("fill","none").call(l.dashLine,z.line.dash,M),M&&o.stroke(R,z.line.color)})}function et(xt){dt(xt,this,"pie")}function it(xt){dt(xt,this,"funnelarea")}function dt(xt,H,j){var A=xt[0],q=A.trace,R=j?q.visible&&q.type===j:t.traceIs(q,j),z=i.select(H).select("g.legendpoints").selectAll("path.legend"+j).data(R?[xt]:[]);if(z.enter().append("path").classed("legend"+j,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",X),z.exit().remove(),z.size()){var M=q.marker||{},S=I(p(M.line.width,A.pts),M.line,y,m),Z="pieLike",Y=n.minExtend(q,{marker:{line:{width:S}}},Z),rt=n.minExtend(A,{trace:Y},Z);e(z,rt,Y,w)}}function ht(xt){var H=xt[0].trace,j,A=[];if(H.visible)switch(H.type){case"histogram2d":case"heatmap":A=[["M-15,-2V4H15V-2Z"]],j=!0;break;case"choropleth":case"choroplethmapbox":case"choroplethmap":A=[["M-6,-6V6H6V-6Z"]],j=!0;break;case"densitymapbox":case"densitymap":A=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],j="radial";break;case"cone":A=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],j=!1;break;case"streamtube":A=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],j=!1;break;case"surface":A=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],j=!0;break;case"mesh3d":A=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],j=!1;break;case"volume":A=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],j=!0;break;case"isosurface":A=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],j=!1;break}var q=i.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(A);q.enter().append("path").classed("legend3dandfriends",!0).attr("transform",X).style("stroke-miterlimit",1),q.exit().remove(),q.each(function(R,z){var M=i.select(this),S=s(H),Z=S.colorscale,Y=S.reversescale,rt=function(At){if(At.size()){var Rt="legendfill-"+H.uid;l.gradient(At,w,Rt,v(Y,j==="radial"),Z,"fill")}},st;if(Z){if(!j){var ut=Z.length;st=z===0?Z[Y?ut-1:0][1]:z===1?Z[Y?0:ut-1][1]:Z[Math.floor((ut-1)/2)][1]}}else{var _t=H.vertexcolor||H.facecolor||H.color;st=n.isArrayOrTypedArray(_t)?_t[z]||_t[0]:_t}M.attr("d",R[0]),st?M.call(o.fill,st):M.call(rt)})}};function v(_,w){var k=w?"radial":"horizontal";return k+(_?"":"reversed")}function c(_){var w=_[0].trace,k=w.contours,$=f.hasLines(w),P=f.hasMarkers(w),O=w.visible&&w.fill&&w.fill!=="none",T=!1,X=!1;if(k){var I=k.coloring;I==="lines"?T=!0:$=I==="none"||I==="heatmap"||k.showlines,k.type==="constraint"?O=k._operation!=="=":(I==="fill"||I==="heatmap")&&(X=!0)}return{showMarker:P,showLine:$,showFill:O,showGradientLine:T,showGradientFill:X,anyLine:$||T,anyFill:O||X}}function d(_,w,k){return _&&n.isArrayOrTypedArray(_)?w:_>k?k:_}}),dl=Dt((F,D)=>{var i=_n(),t=Ce(),n=ea(),r=un(),l=Wr(),o=Za(),s=Nn(),f=bn(),e=ma(),p=xc(),u=cl(),h=Ta(),b=h.LINE_SPACING,m=h.FROM_TL,g=h.FROM_BR,y=bc(),v=fl(),c=Ei(),d=1,_=/^legend[0-9]*$/;D.exports=function(J,at){if(at)k(J,at);else{var et=J._fullLayout,it=et._legends,dt=et._infolayer.selectAll('[class^="legend"]');dt.each(function(){var j=i.select(this),A=j.attr("class"),q=A.split(" ")[0];q.match(_)&&it.indexOf(q)===-1&&j.remove()});for(var ht=0;ht<it.length;ht++){var xt=it[ht],H=J._fullLayout[xt];k(J,H)}}};function w(J,at,et){if(!(at.title.side!=="top center"&&at.title.side!=="top right")){var it=at.title.font,dt=it.size*b,ht=0,xt=J.node(),H=s.bBox(xt).width;at.title.side==="top center"?ht=.5*(at._width-2*et-2*u.titlePad-H):at.title.side==="top right"&&(ht=at._width-2*et-2*u.titlePad-H),e.positionText(J,et+u.titlePad+ht,et+dt)}}function k(J,at){var et=at||{},it=J._fullLayout,dt=W(et),ht,xt,H=et._inHover;if(H?(xt=et.layer,ht="hover"):(xt=it._infolayer,ht=dt),!!xt){ht+=it._uid,J._legendMouseDownTime||(J._legendMouseDownTime=0);var j;if(H){if(!et.entries)return;j=y(et.entries,et)}else{for(var A=(J.calcdata||[]).slice(),q=it.shapes,R=0;R<q.length;R++){var z=q[R];if(z.showlegend){var M={_isShape:!0,_fullInput:z,index:z._index,name:z.name||z.label.text||"shape "+z._index,legend:z.legend,legendgroup:z.legendgroup,legendgrouptitle:z.legendgrouptitle,legendrank:z.legendrank,legendwidth:z.legendwidth,showlegend:z.showlegend,visible:z.visible,opacity:z.opacity,mode:z.type==="line"?"lines":"markers",line:z.line,marker:{line:z.line,color:z.fillcolor,size:12,symbol:z.type==="rect"?"square":z.type==="circle"?"circle":"hexagon2"}};A.push([{trace:M}])}}j=it.showlegend&&y(A,et,it._legends.length>1)}var S=it.hiddenlabels||[];if(!H&&(!it.showlegend||!j.length))return xt.selectAll("."+dt).remove(),it._topdefs.select("#"+ht).remove(),n.autoMargin(J,dt);var Z=t.ensureSingle(xt,"g",dt,function(Bt){H||Bt.attr("pointer-events","all")}),Y=t.ensureSingleById(it._topdefs,"clipPath",ht,function(Bt){Bt.append("rect")}),rt=t.ensureSingle(Z,"rect","bg",function(Bt){Bt.attr("shape-rendering","crispEdges")});rt.call(f.stroke,et.bordercolor).call(f.fill,et.bgcolor).style("stroke-width",et.borderwidth+"px");var st=t.ensureSingle(Z,"g","scrollbox"),ut=et.title;et._titleWidth=0,et._titleHeight=0;var _t;ut.text?(_t=t.ensureSingle(st,"text",dt+"titletext"),_t.attr("text-anchor","start").call(s.font,ut.font).text(ut.text),I(_t,st,J,et,d)):st.selectAll("."+dt+"titletext").remove();var At=t.ensureSingle(Z,"rect","scrollbar",function(Bt){Bt.attr(u.scrollBarEnterAttrs).call(f.fill,u.scrollBarColor)}),Rt=st.selectAll("g.groups").data(j);Rt.enter().append("g").attr("class","groups"),Rt.exit().remove();var Xt=Rt.selectAll("g.traces").data(t.identity);Xt.enter().append("g").attr("class","traces"),Xt.exit().remove(),Xt.style("opacity",function(Bt){var Ht=Bt[0].trace;return r.traceIs(Ht,"pie-like")?S.indexOf(Bt[0].label)!==-1?.5:1:Ht.visible==="legendonly"?.5:1}).each(function(){i.select(this).call(O,J,et)}).call(v,J,et).each(function(){H||i.select(this).call(X,J,dt)}),t.syncOrAsync([n.previousPromises,function(){return V(J,Rt,Xt,et)},function(){var Bt=it._size,Ht=et.borderwidth,pt=et.xref==="paper",bt=et.yref==="paper";if(ut.text&&w(_t,et,Ht),!H){var ot,Lt;pt?ot=Bt.l+Bt.w*et.x-m[G(et)]*et._width:ot=it.width*et.x-m[G(et)]*et._width,bt?Lt=Bt.t+Bt.h*(1-et.y)-m[C(et)]*et._effHeight:Lt=it.height*(1-et.y)-m[C(et)]*et._effHeight;var Nt=U(J,dt,ot,Lt);if(Nt)return;if(it.margin.autoexpand){var Vt=ot,ae=Lt;ot=pt?t.constrain(ot,0,it.width-et._width):Vt,Lt=bt?t.constrain(Lt,0,it.height-et._effHeight):ae,ot!==Vt&&t.log("Constrain "+dt+".x to make legend fit inside graph"),Lt!==ae&&t.log("Constrain "+dt+".y to make legend fit inside graph")}s.setTranslate(Z,ot,Lt)}if(At.on(".drag",null),Z.on("wheel",null),H||et._height<=et._maxHeight||J._context.staticPlot){var Jt=et._effHeight;H&&(Jt=et._height),rt.attr({width:et._width-Ht,height:Jt-Ht,x:Ht/2,y:Ht/2}),s.setTranslate(st,0,0),Y.select("rect").attr({width:et._width-2*Ht,height:Jt-2*Ht,x:Ht,y:Ht}),s.setClipUrl(st,ht,J),s.setRect(At,0,0,0,0),delete et._scrollY}else{var re=Math.max(u.scrollBarMinHeight,et._effHeight*et._effHeight/et._height),oe=et._effHeight-re-2*u.scrollBarMargin,le=et._height-et._effHeight,ve=oe/le,Wt=Math.min(et._scrollY||0,le);rt.attr({width:et._width-2*Ht+u.scrollBarWidth+u.scrollBarMargin,height:et._effHeight-Ht,x:Ht/2,y:Ht/2}),Y.select("rect").attr({width:et._width-2*Ht+u.scrollBarWidth+u.scrollBarMargin,height:et._effHeight-2*Ht,x:Ht,y:Ht+Wt}),s.setClipUrl(st,ht,J),K(Wt,re,ve),Z.on("wheel",function(){Wt=t.constrain(et._scrollY+i.event.deltaY/oe*le,0,le),K(Wt,re,ve),Wt!==0&&Wt!==le&&i.event.preventDefault()});var ge,Te,ce,we=function(Mt,qt,$t){var ie=($t-qt)/ve+Mt;return t.constrain(ie,0,le)},yt=function(Mt,qt,$t){var ie=(qt-$t)/ve+Mt;return t.constrain(ie,0,le)},kt=i.behavior.drag().on("dragstart",function(){var Mt=i.event.sourceEvent;Mt.type==="touchstart"?ge=Mt.changedTouches[0].clientY:ge=Mt.clientY,ce=Wt}).on("drag",function(){var Mt=i.event.sourceEvent;Mt.buttons===2||Mt.ctrlKey||(Mt.type==="touchmove"?Te=Mt.changedTouches[0].clientY:Te=Mt.clientY,Wt=we(ce,ge,Te),K(Wt,re,ve))});At.call(kt);var Tt=i.behavior.drag().on("dragstart",function(){var Mt=i.event.sourceEvent;Mt.type==="touchstart"&&(ge=Mt.changedTouches[0].clientY,ce=Wt)}).on("drag",function(){var Mt=i.event.sourceEvent;Mt.type==="touchmove"&&(Te=Mt.changedTouches[0].clientY,Wt=yt(ce,ge,Te),K(Wt,re,ve))});st.call(Tt)}function K(Mt,qt,$t){et._scrollY=J._fullLayout[dt]._scrollY=Mt,s.setTranslate(st,0,-Mt),s.setRect(At,et._width,u.scrollBarMargin+Mt*$t,u.scrollBarWidth,qt),Y.select("rect").attr("y",Ht+Mt)}if(J._context.edits.legendPosition){var ft,mt,gt,It;Z.classed("cursor-move",!0),o.init({element:Z.node(),gd:J,prepFn:function(Mt){if(Mt.target!==At.node()){var qt=s.getTranslate(Z);gt=qt.x,It=qt.y}},moveFn:function(Mt,qt){if(gt!==void 0&&It!==void 0){var $t=gt+Mt,ie=It+qt;s.setTranslate(Z,$t,ie),ft=o.align($t,et._width,Bt.l,Bt.l+Bt.w,et.xanchor),mt=o.align(ie+et._height,-et._height,Bt.t+Bt.h,Bt.t,et.yanchor)}},doneFn:function(){if(ft!==void 0&&mt!==void 0){var Mt={};Mt[dt+".x"]=ft,Mt[dt+".y"]=mt,r.call("_guiRelayout",J,Mt)}},clickFn:function(Mt,qt){var $t=xt.selectAll("g.traces").filter(function(){var ie=this.getBoundingClientRect();return qt.clientX>=ie.left&&qt.clientX<=ie.right&&qt.clientY>=ie.top&&qt.clientY<=ie.bottom});$t.size()>0&&P(J,Z,$t,Mt,qt)}})}}],J)}}function $(J,at,et){var it=J[0],dt=it.width,ht=at.entrywidthmode,xt=it.trace.legendwidth||at.entrywidth;return ht==="fraction"?at._maxWidth*xt:et+(xt||dt)}function P(J,at,et,it,dt){var ht=et.data()[0][0].trace,xt={event:dt,node:et.node(),curveNumber:ht.index,expandedIndex:ht.index,data:J.data,layout:J.layout,frames:J._transitionData._frames,config:J._context,fullData:J._fullData,fullLayout:J._fullLayout};ht._group&&(xt.group=ht._group),r.traceIs(ht,"pie-like")&&(xt.label=et.datum()[0].label);var H=l.triggerHandler(J,"plotly_legendclick",xt);if(it===1){if(H===!1)return;at._clickTimeout=setTimeout(function(){J._fullLayout&&p(et,J,it)},J._context.doubleClickDelay)}else if(it===2){at._clickTimeout&&clearTimeout(at._clickTimeout),J._legendMouseDownTime=0;var j=l.triggerHandler(J,"plotly_legenddoubleclick",xt);j!==!1&&H!==!1&&p(et,J,it)}}function O(J,at,et){var it=W(et),dt=J.data()[0][0],ht=dt.trace,xt=r.traceIs(ht,"pie-like"),H=!et._inHover&&at._context.edits.legendText&&!xt,j=et._maxNameLength,A,q;dt.groupTitle?(A=dt.groupTitle.text,q=dt.groupTitle.font):(q=et.font,et.entries?A=dt.text:(A=xt?dt.label:ht.name,ht._meta&&(A=t.templateString(A,ht._meta))));var R=t.ensureSingle(J,"text",it+"text");R.attr("text-anchor","start").call(s.font,q).text(H?T(A,j):A);var z=et.indentation+et.itemwidth+u.itemGap*2;e.positionText(R,z,0),H?R.call(e.makeEditable,{gd:at,text:A}).call(I,J,at,et).on("edit",function(M){this.text(T(M,j)).call(I,J,at,et);var S=dt.trace._fullInput||{},Z={};return Z.name=M,S._isShape?r.call("_guiRelayout",at,"shapes["+ht.index+"].name",Z.name):r.call("_guiRestyle",at,Z,ht.index)}):I(R,J,at,et)}function T(J,at){var et=Math.max(4,at);if(J&&J.trim().length>=et/2)return J;J=J||"";for(var it=et-J.length;it>0;it--)J+=" ";return J}function X(J,at,et){var it=at._context.doubleClickDelay,dt,ht=1,xt=t.ensureSingle(J,"rect",et+"toggle",function(H){at._context.staticPlot||H.style("cursor","pointer").attr("pointer-events","all"),H.call(f.fill,"rgba(0,0,0,0)")});at._context.staticPlot||(xt.on("mousedown",function(){dt=new Date().getTime(),dt-at._legendMouseDownTime<it?ht+=1:(ht=1,at._legendMouseDownTime=dt)}),xt.on("mouseup",function(){if(!(at._dragged||at._editing)){var H=at._fullLayout[et];new Date().getTime()-at._legendMouseDownTime>it&&(ht=Math.max(ht-1,1)),P(at,H,J,ht,i.event)}}))}function I(J,at,et,it,dt){it._inHover&&J.attr("data-notex",!0),e.convertToTspans(J,et,function(){E(at,et,it,dt)})}function E(J,at,et,it){var dt=J.data()[0][0];if(!et._inHover&&dt&&!dt.trace.showlegend){J.remove();return}var ht=J.select("g[class*=math-group]"),xt=ht.node(),H=W(et);et||(et=at._fullLayout[H]);var j=et.borderwidth,A;it===d?A=et.title.font:dt.groupTitle?A=dt.groupTitle.font:A=et.font;var q=A.size*b,R,z;if(xt){var M=s.bBox(xt);R=M.height,z=M.width,it===d?s.setTranslate(ht,j,j+R*.75):s.setTranslate(ht,0,R*.25)}else{var S="."+H+(it===d?"title":"")+"text",Z=J.select(S),Y=e.lineCount(Z),rt=Z.node();if(R=q*Y,z=rt?s.bBox(rt).width:0,it===d)et.title.side==="left"&&(z+=u.itemGap*2),e.positionText(Z,j+u.titlePad,j+q);else{var st=u.itemGap*2+et.indentation+et.itemwidth;dt.groupTitle&&(st=u.itemGap,z-=et.indentation+et.itemwidth),e.positionText(Z,st,-q*((Y-1)/2-.3))}}it===d?(et._titleWidth=z,et._titleHeight=R):(dt.lineHeight=q,dt.height=Math.max(R,16)+3,dt.width=z)}function N(J){var at=0,et=0,it=J.title.side;return it&&(it.indexOf("left")!==-1&&(at=J._titleWidth),it.indexOf("top")!==-1&&(et=J._titleHeight)),[at,et]}function V(J,at,et,it){var dt=J._fullLayout,ht=W(it);it||(it=dt[ht]);var xt=dt._size,H=c.isVertical(it),j=c.isGrouped(it),A=it.entrywidthmode==="fraction",q=it.borderwidth,R=2*q,z=u.itemGap,M=it.indentation+it.itemwidth+z*2,S=2*(q+z),Z=C(it),Y=it.y<0||it.y===0&&Z==="top",rt=it.y>1||it.y===1&&Z==="bottom",st=it.tracegroupgap,ut={};it._maxHeight=Math.max(Y||rt?dt.height/2:xt.h,30);var _t=0;it._width=0,it._height=0;var At=N(it);if(H)et.each(function(ce){var we=ce[0].height;s.setTranslate(this,q+At[0],q+At[1]+it._height+we/2+z),it._height+=we,it._width=Math.max(it._width,ce[0].width)}),_t=M+it._width,it._width+=z+M+R,it._height+=S,j&&(at.each(function(ce,we){s.setTranslate(this,0,we*it.tracegroupgap)}),it._height+=(it._lgroupsLength-1)*it.tracegroupgap);else{var Rt=G(it),Xt=it.x<0||it.x===0&&Rt==="right",Bt=it.x>1||it.x===1&&Rt==="left",Ht=rt||Y,pt=dt.width/2;it._maxWidth=Math.max(Xt?Ht&&Rt==="left"?xt.l+xt.w:pt:Bt?Ht&&Rt==="right"?xt.r+xt.w:pt:xt.w,2*M);var bt=0,ot=0;et.each(function(ce){var we=$(ce,it,M);bt=Math.max(bt,we),ot+=we}),_t=null;var Lt=0;if(j){var Nt=0,Vt=0,ae=0;at.each(function(){var ce=0,we=0;i.select(this).selectAll("g.traces").each(function(kt){var Tt=$(kt,it,M),K=kt[0].height;s.setTranslate(this,At[0],At[1]+q+z+K/2+we),we+=K,ce=Math.max(ce,Tt),ut[kt[0].trace.legendgroup]=ce});var yt=ce+z;Vt>0&&yt+q+Vt>it._maxWidth?(Lt=Math.max(Lt,Vt),Vt=0,ae+=Nt+st,Nt=we):Nt=Math.max(Nt,we),s.setTranslate(this,Vt,ae),Vt+=yt}),it._width=Math.max(Lt,Vt)+q,it._height=ae+Nt+S}else{var Jt=et.size(),re=ot+R+(Jt-1)*z<it._maxWidth,oe=0,le=0,ve=0,Wt=0;et.each(function(ce){var we=ce[0].height,yt=$(ce,it,M),kt=re?yt:bt;A||(kt+=z),kt+q+le-z>=it._maxWidth&&(Lt=Math.max(Lt,Wt),le=0,ve+=oe,it._height+=oe,oe=0),s.setTranslate(this,At[0]+q+le,At[1]+q+ve+we/2+z),Wt=le+yt+z,le+=kt,oe=Math.max(oe,we)}),re?(it._width=le+R,it._height=oe+S):(it._width=Math.max(Lt,Wt)+R,it._height+=oe+S)}}it._width=Math.ceil(Math.max(it._width+At[0],it._titleWidth+2*(q+u.titlePad))),it._height=Math.ceil(Math.max(it._height+At[1],it._titleHeight+2*(q+u.itemGap))),it._effHeight=Math.min(it._height,it._maxHeight);var ge=J._context.edits,Te=ge.legendText||ge.legendPosition;et.each(function(ce){var we=i.select(this).select("."+ht+"toggle"),yt=ce[0].height,kt=ce[0].trace.legendgroup,Tt=$(ce,it,M);j&&kt!==""&&(Tt=ut[kt]);var K=Te?M:_t||Tt;!H&&!A&&(K+=z/2),s.setRect(we,0,-yt/2,K,yt)})}function U(J,at,et,it){var dt=J._fullLayout,ht=dt[at],xt=G(ht),H=C(ht),j=ht.xref==="paper",A=ht.yref==="paper";J._fullLayout._reservedMargin[at]={};var q=ht.y<.5?"b":"t",R=ht.x<.5?"l":"r",z={r:dt.width-et,l:et+ht._width,b:dt.height-it,t:it+ht._effHeight};if(j&&A)return n.autoMargin(J,at,{x:ht.x,y:ht.y,l:ht._width*m[xt],r:ht._width*g[xt],b:ht._effHeight*g[H],t:ht._effHeight*m[H]});j?J._fullLayout._reservedMargin[at][q]=z[q]:A||ht.orientation==="v"?J._fullLayout._reservedMargin[at][R]=z[R]:J._fullLayout._reservedMargin[at][q]=z[q]}function G(J){return t.isRightAnchor(J)?"right":t.isCenterAnchor(J)?"center":"left"}function C(J){return t.isBottomAnchor(J)?"bottom":t.isMiddleAnchor(J)?"middle":"top"}function W(J){return J._id||"legend"}}),hl=Dt(F=>{var D=_n(),i=wn(),t=Na(),n=Ce(),r=n.pushUnique,l=n.strTranslate,o=n.strRotate,s=Wr(),f=ma(),e=mc(),p=Nn(),u=bn(),h=Za(),b=Yn(),m=pa().zindexSeparator,g=un(),y=Qa(),v=Ur(),c=ul(),d=dl(),_=v.YANGLE,w=Math.PI*_/180,k=1/Math.sin(w),$=Math.cos(w),P=Math.sin(w),O=v.HOVERARROWSIZE,T=v.HOVERTEXTPAD,X={box:!0,ohlc:!0,violin:!0,candlestick:!0},I={scatter:!0,scattergl:!0,splom:!0};function E(M,S){return M.distance-S.distance}F.hover=function(M,S,Z,Y){M=n.getGraphDiv(M);var rt=S.target;n.throttle(M._fullLayout._uid+v.HOVERID,v.HOVERMINTIME,function(){N(M,S,Z,Y,rt)})},F.loneHover=function(M,S){var Z=!0;Array.isArray(M)||(Z=!1,M=[M]);var Y=S.gd,rt=q(Y),st=R(Y),ut=M.map(function(ot){var Lt=ot._x0||ot.x0||ot.x||0,Nt=ot._x1||ot.x1||ot.x||0,Vt=ot._y0||ot.y0||ot.y||0,ae=ot._y1||ot.y1||ot.y||0,Jt=ot.eventData;if(Jt){var re=Math.min(Lt,Nt),oe=Math.max(Lt,Nt),le=Math.min(Vt,ae),ve=Math.max(Vt,ae),Wt=ot.trace;if(g.traceIs(Wt,"gl3d")){var ge=Y._fullLayout[Wt.scene]._scene.container,Te=ge.offsetLeft,ce=ge.offsetTop;re+=Te,oe+=Te,le+=ce,ve+=ce}Jt.bbox={x0:re+st,x1:oe+st,y0:le+rt,y1:ve+rt},S.inOut_bbox&&S.inOut_bbox.push(Jt.bbox)}else Jt=!1;return{color:ot.color||u.defaultLine,x0:ot.x0||ot.x||0,x1:ot.x1||ot.x||0,y0:ot.y0||ot.y||0,y1:ot.y1||ot.y||0,xLabel:ot.xLabel,yLabel:ot.yLabel,zLabel:ot.zLabel,text:ot.text,name:ot.name,idealAlign:ot.idealAlign,borderColor:ot.borderColor,fontFamily:ot.fontFamily,fontSize:ot.fontSize,fontColor:ot.fontColor,fontWeight:ot.fontWeight,fontStyle:ot.fontStyle,fontVariant:ot.fontVariant,nameLength:ot.nameLength,textAlign:ot.textAlign,trace:ot.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:ot.hovertemplate||!1,hovertemplateLabels:ot.hovertemplateLabels||!1,eventData:Jt}}),_t=!1,At=G(ut,{gd:Y,hovermode:"closest",rotateLabels:_t,bgColor:S.bgColor||u.background,container:D.select(S.container),outerContainer:S.outerContainer||S.container}),Rt=At.hoverLabels,Xt=5,Bt=0,Ht=0;Rt.sort(function(ot,Lt){return ot.y0-Lt.y0}).each(function(ot,Lt){var Nt=ot.y0-ot.by/2;Nt-Xt<Bt?ot.offset=Bt-Nt+Xt:ot.offset=0,Bt=Nt+ot.by+ot.offset,Lt===S.anchorIndex&&(Ht=ot.offset)}).each(function(ot){ot.offset-=Ht});var pt=Y._fullLayout._invScaleX,bt=Y._fullLayout._invScaleY;return et(Rt,_t,pt,bt),Z?Rt:Rt.node()};function N(M,S,Z,Y,rt){Z||(Z="xy"),typeof Z=="string"&&(Z=Z.split(m)[0]);var st=Array.isArray(Z)?Z:[Z],ut,_t=M._fullLayout,At=_t.hoversubplots,Rt=_t._plots||[],Xt=Rt[Z],Bt=_t._has("cartesian"),Ht=S.hovermode||_t.hovermode,pt=(Ht||"").charAt(0)==="x",bt=(Ht||"").charAt(0)==="y",ot,Lt;if(Bt&&(pt||bt)&&At==="axis"){for(var Nt=st.length,Vt=0;Vt<Nt;Vt++)if(ut=st[Vt],Rt[ut]){ot=b.getFromId(M,ut,"x"),Lt=b.getFromId(M,ut,"y");var ae=(pt?ot:Lt)._subplotsWith;if(ae&&ae.length)for(var Jt=0;Jt<ae.length;Jt++)r(st,ae[Jt])}}if(Xt&&At!=="single"){var re=Xt.overlays.map(function($e){return $e.id});st=st.concat(re)}for(var oe=st.length,le=new Array(oe),ve=new Array(oe),Wt=!1,ge=0;ge<oe;ge++)if(ut=st[ge],Rt[ut])Wt=!0,le[ge]=Rt[ut].xaxis,ve[ge]=Rt[ut].yaxis;else if(_t[ut]&&_t[ut]._subplot){var Te=_t[ut]._subplot;le[ge]=Te.xaxis,ve[ge]=Te.yaxis}else{n.warn("Unrecognized subplot: "+ut);return}if(Ht&&!Wt&&(Ht="closest"),["x","y","closest","x unified","y unified"].indexOf(Ht)===-1||!M.calcdata||M.querySelector(".zoombox")||M._dragging)return h.unhoverRaw(M,S);var ce=_t.hoverdistance;ce===-1&&(ce=1/0);var we=_t.spikedistance;we===-1&&(we=1/0);var yt=[],kt=[],Tt,K,ft,mt,gt,It,Mt,qt,$t,ie,zt,ee,se,pe={hLinePoint:null,vLinePoint:null},De=!1;if(Array.isArray(S))for(Ht="array",ft=0;ft<S.length;ft++)gt=M.calcdata[S[ft].curveNumber||0],gt&&(It=gt[0].trace,gt[0].trace.hoverinfo!=="skip"&&(kt.push(gt),It.orientation==="h"&&(De=!0)));else{var Ne=M.calcdata.slice();for(Ne.sort(function($e,Dn){var An=$e[0].trace.zorder||0,Jn=Dn[0].trace.zorder||0;return An-Jn}),mt=0;mt<Ne.length;mt++)gt=Ne[mt],It=gt[0].trace,It.hoverinfo!=="skip"&&y.isTraceInSubplots(It,st)&&(kt.push(gt),It.orientation==="h"&&(De=!0));var Ge=!rt,Pe,ze;if(Ge)"xpx"in S?Pe=S.xpx:Pe=le[0]._length/2,"ypx"in S?ze=S.ypx:ze=ve[0]._length/2;else{if(s.triggerHandler(M,"plotly_beforehover",S)===!1)return;var Le=rt.getBoundingClientRect();Pe=S.clientX-Le.left,ze=S.clientY-Le.top,_t._calcInverseTransform(M);var Se=n.apply3DTransform(_t._invTransform)(Pe,ze);if(Pe=Se[0],ze=Se[1],Pe<0||Pe>le[0]._length||ze<0||ze>ve[0]._length)return h.unhoverRaw(M,S)}if(S.pointerX=Pe+le[0]._offset,S.pointerY=ze+ve[0]._offset,"xval"in S?Tt=y.flat(st,S.xval):Tt=y.p2c(le,Pe),"yval"in S?K=y.flat(st,S.yval):K=y.p2c(ve,ze),!i(Tt[0])||!i(K[0]))return n.warn("Fx.hover failed",S,M),h.unhoverRaw(M,S)}var Ye=1/0;function Be($e,Dn){for(mt=0;mt<kt.length;mt++)if(gt=kt[mt],!(!gt||!gt[0]||!gt[0].trace)&&(It=gt[0].trace,!(It.visible!==!0||It._length===0)&&["carpet","contourcarpet"].indexOf(It._module.name)===-1)){if($t=Ht,y.isUnifiedHover($t)&&($t=$t.charAt(0)),It.type==="splom"?(qt=0,Mt=st[qt]):(Mt=y.getSubplot(It),qt=st.indexOf(Mt)),ee={cd:gt,trace:It,xa:le[qt],ya:ve[qt],maxHoverDistance:ce,maxSpikeDistance:we,index:!1,distance:Math.min(Ye,ce),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:u.defaultLine,name:It.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},_t[Mt]&&(ee.subplot=_t[Mt]._subplot),_t._splomScenes&&_t._splomScenes[It.uid]&&(ee.scene=_t._splomScenes[It.uid]),$t==="array"){var An=S[mt];"pointNumber"in An?(ee.index=An.pointNumber,$t="closest"):($t="","xval"in An&&(ie=An.xval,$t="x"),"yval"in An&&(zt=An.yval,$t=$t?"closest":"y"))}else $e!==void 0&&Dn!==void 0?(ie=$e,zt=Dn):(ie=Tt[qt],zt=K[qt]);if(se=yt.length,ce!==0)if(It._module&&It._module.hoverPoints){var Jn=It._module.hoverPoints(ee,ie,zt,$t,{finiteRange:!0,hoverLayer:_t._hoverlayer,hoversubplots:At,gd:M});if(Jn)for(var Hn,hn=0;hn<Jn.length;hn++)Hn=Jn[hn],i(Hn.x0)&&i(Hn.y0)&&yt.push(it(Hn,Ht))}else n.log("Unrecognized trace type in hover:",It);if(Ht==="closest"&&yt.length>se&&(yt.splice(0,se),Ye=yt[0].distance),Bt&&we!==0&&yt.length===0){ee.distance=we,ee.index=!1;var fn=It._module.hoverPoints(ee,ie,zt,"closest",{hoverLayer:_t._hoverlayer});if(fn&&(fn=fn.filter(function(Fn){return Fn.spikeDistance<=we})),fn&&fn.length){var mn,Pn=fn.filter(function(Fn){return Fn.xa.showspikes&&Fn.xa.spikesnap!=="hovered data"});if(Pn.length){var In=Pn[0];i(In.x0)&&i(In.y0)&&(mn=Fe(In),(!pe.vLinePoint||pe.vLinePoint.spikeDistance>mn.spikeDistance)&&(pe.vLinePoint=mn))}var En=fn.filter(function(Fn){return Fn.ya.showspikes&&Fn.ya.spikesnap!=="hovered data"});if(En.length){var zn=En[0];i(zn.x0)&&i(zn.y0)&&(mn=Fe(zn),(!pe.hLinePoint||pe.hLinePoint.spikeDistance>mn.spikeDistance)&&(pe.hLinePoint=mn))}}}}}Be();function Ze($e,Dn,An){for(var Jn=null,Hn=1/0,hn,fn=0;fn<$e.length;fn++)ot&&ot._id!==$e[fn].xa._id||Lt&&Lt._id!==$e[fn].ya._id||(hn=$e[fn].spikeDistance,An&&fn===0&&(hn=-1/0),hn<=Hn&&hn<=Dn&&(Jn=$e[fn],Hn=hn));return Jn}function Fe($e){return $e?{xa:$e.xa,ya:$e.ya,x:$e.xSpike!==void 0?$e.xSpike:($e.x0+$e.x1)/2,y:$e.ySpike!==void 0?$e.ySpike:($e.y0+$e.y1)/2,distance:$e.distance,spikeDistance:$e.spikeDistance,curveNumber:$e.trace.index,color:$e.color,pointNumber:$e.index}:null}var ke={fullLayout:_t,container:_t._hoverlayer,event:S};M._spikepoints;var je={vLinePoint:pe.vLinePoint,hLinePoint:pe.hLinePoint};M._spikepoints=je;var Ke=function(){var $e=yt.filter(function(An){return ot&&ot._id===An.xa._id&&Lt&&Lt._id===An.ya._id}),Dn=yt.filter(function(An){return!(ot&&ot._id===An.xa._id&&Lt&&Lt._id===An.ya._id)});$e.sort(E),Dn.sort(E),yt=$e.concat(Dn),yt=j(yt,Ht)};Ke();var ln=Ht.charAt(0),Ve=(ln==="x"||ln==="y")&&yt[0]&&I[yt[0].trace.type];if(Bt&&we!==0&&yt.length!==0){var nn=yt.filter(function($e){return $e.ya.showspikes}),an=Ze(nn,we,Ve);pe.hLinePoint=Fe(an);var gn=yt.filter(function($e){return $e.xa.showspikes}),Ae=Ze(gn,we,Ve);pe.vLinePoint=Fe(Ae)}if(yt.length===0){var sn=h.unhoverRaw(M,S);return Bt&&(pe.hLinePoint!==null||pe.vLinePoint!==null)&&xt()&&dt(M,pe,ke),sn}if(Bt&&xt()&&dt(M,pe,ke),y.isXYhover($t)&&yt[0].length!==0&&yt[0].trace.type!=="splom"){var tt=yt[0];X[tt.trace.type]?yt=yt.filter(function($e){return $e.trace.index===tt.trace.index}):yt=[tt];var lt=yt.length,Yt=A("x",tt,_t),jt=A("y",tt,_t);Be(Yt,jt);var Ot=[],Pt={},Et=0,Gt=function($e){var Dn=X[$e.trace.type]?V($e):$e.trace.index;if(!Pt[Dn])Et++,Pt[Dn]=Et,Ot.push($e);else{var An=Pt[Dn]-1,Jn=Ot[An];An>0&&Math.abs($e.distance)<Math.abs(Jn.distance)&&(Ot[An]=$e)}},Ft;for(Ft=0;Ft<lt;Ft++)Gt(yt[Ft]);for(Ft=yt.length-1;Ft>lt-1;Ft--)Gt(yt[Ft]);yt=Ot,Ke()}var Ut=M._hoverdata,Qt=[],ne=q(M),ye=R(M);for(ft=0;ft<yt.length;ft++){var _e=yt[ft],Me=y.makeEventData(_e,_e.trace,_e.cd);if(_e.hovertemplate!==!1){var Oe=!1;_e.cd[_e.index]&&_e.cd[_e.index].ht&&(Oe=_e.cd[_e.index].ht),_e.hovertemplate=Oe||_e.trace.hovertemplate||!1}if(_e.xa&&_e.ya){var Ie=_e.x0+_e.xa._offset,Je=_e.x1+_e.xa._offset,Ee=_e.y0+_e.ya._offset,He=_e.y1+_e.ya._offset,qe=Math.min(Ie,Je),on=Math.max(Ie,Je),cn=Math.min(Ee,He),Cn=Math.max(Ee,He);Me.bbox={x0:qe+ye,x1:on+ye,y0:cn+ne,y1:Cn+ne}}_e.eventData=[Me],Qt.push(Me)}M._hoverdata=Qt;var yn=Ht==="y"&&(kt.length>1||yt.length>1)||Ht==="closest"&&De&&yt.length>1,Mn=u.combine(_t.plot_bgcolor||u.background,_t.paper_bgcolor),Xn=G(yt,{gd:M,hovermode:Ht,rotateLabels:yn,bgColor:Mn,container:_t._hoverlayer,outerContainer:_t._paper.node(),commonLabelOpts:_t.hoverlabel,hoverdistance:_t.hoverdistance}),Wn=Xn.hoverLabels;if(y.isUnifiedHover(Ht)||(W(Wn,yn,_t,Xn.commonLabelBoundingBox),et(Wn,yn,_t._invScaleX,_t._invScaleY)),rt&&rt.tagName){var kn=g.getComponentMethod("annotations","hasClickToShow")(M,Qt);e(D.select(rt),kn?"pointer":"")}!rt||Y||!ht(M,S,Ut)||(Ut&&M.emit("plotly_unhover",{event:S,points:Ut}),M.emit("plotly_hover",{event:S,points:M._hoverdata,xaxes:le,yaxes:ve,xvals:Tt,yvals:K}))}function V(M){return[M.trace.index,M.index,M.x0,M.y0,M.name,M.attr,M.xa?M.xa._id:"",M.ya?M.ya._id:""].join(",")}var U=/<extra>([\s\S]*)<\/extra>/;function G(M,S){var Z=S.gd,Y=Z._fullLayout,rt=S.hovermode,st=S.rotateLabels,ut=S.bgColor,_t=S.container,At=S.outerContainer,Rt=S.commonLabelOpts||{};if(M.length===0)return[[]];var Xt=S.fontFamily||v.HOVERFONT,Bt=S.fontSize||v.HOVERFONTSIZE,Ht=S.fontWeight||Y.font.weight,pt=S.fontStyle||Y.font.style,bt=S.fontVariant||Y.font.variant,ot=S.fontTextcase||Y.font.textcase,Lt=S.fontLineposition||Y.font.lineposition,Nt=S.fontShadow||Y.font.shadow,Vt=M[0],ae=Vt.xa,Jt=Vt.ya,re=rt.charAt(0),oe=re+"Label",le=Vt[oe];if(le===void 0&&ae.type==="multicategory")for(var ve=0;ve<M.length&&(le=M[ve][oe],le===void 0);ve++);var Wt=z(Z,At),ge=Wt.top,Te=Wt.width,ce=Wt.height,we=le!==void 0&&Vt.distance<=S.hoverdistance&&(rt==="x"||rt==="y");if(we){var yt=!0,kt,Tt;for(kt=0;kt<M.length;kt++)if(yt&&M[kt].zLabel===void 0&&(yt=!1),Tt=M[kt].hoverinfo||M[kt].trace.hoverinfo,Tt){var K=Array.isArray(Tt)?Tt:Tt.split("+");if(K.indexOf("all")===-1&&K.indexOf(rt)===-1){we=!1;break}}yt&&(we=!1)}var ft=_t.selectAll("g.axistext").data(we?[0]:[]);ft.enter().append("g").classed("axistext",!0),ft.exit().remove();var mt={minX:0,maxX:0,minY:0,maxY:0};if(ft.each(function(){var Ae=D.select(this),sn=n.ensureSingle(Ae,"path","",function(on){on.style({"stroke-width":"1px"})}),tt=n.ensureSingle(Ae,"text","",function(on){on.attr("data-notex",1)}),lt=Rt.bgcolor||u.defaultLine,Yt=Rt.bordercolor||u.contrast(lt),jt=u.contrast(lt),Ot=Rt.font,Pt={weight:Ot.weight||Ht,style:Ot.style||pt,variant:Ot.variant||bt,textcase:Ot.textcase||ot,lineposition:Ot.lineposition||Lt,shadow:Ot.shadow||Nt,family:Ot.family||Xt,size:Ot.size||Bt,color:Ot.color||jt};sn.style({fill:lt,stroke:Yt}),tt.text(le).call(p.font,Pt).call(f.positionText,0,0).call(f.convertToTspans,Z),Ae.attr("transform","");var Et=z(Z,tt.node()),Gt,Ft;if(rt==="x"){var Ut=ae.side==="top"?"-":"";tt.attr("text-anchor","middle").call(f.positionText,0,ae.side==="top"?ge-Et.bottom-O-T:ge-Et.top+O+T),Gt=ae._offset+(Vt.x0+Vt.x1)/2,Ft=Jt._offset+(ae.side==="top"?0:Jt._length);var Qt=Et.width/2+T,ne=Gt;Gt<Qt?ne=Qt:Gt>Y.width-Qt&&(ne=Y.width-Qt),sn.attr("d","M"+(Gt-ne)+",0L"+(Gt-ne+O)+","+Ut+O+"H"+Qt+"v"+Ut+(T*2+Et.height)+"H"+-Qt+"V"+Ut+O+"H"+(Gt-ne-O)+"Z"),Gt=ne,mt.minX=Gt-Qt,mt.maxX=Gt+Qt,ae.side==="top"?(mt.minY=Ft-(T*2+Et.height),mt.maxY=Ft-T):(mt.minY=Ft+T,mt.maxY=Ft+(T*2+Et.height))}else{var ye,_e,Me;Jt.side==="right"?(ye="start",_e=1,Me="",Gt=ae._offset+ae._length):(ye="end",_e=-1,Me="-",Gt=ae._offset),Ft=Jt._offset+(Vt.y0+Vt.y1)/2,tt.attr("text-anchor",ye),sn.attr("d","M0,0L"+Me+O+","+O+"V"+(T+Et.height/2)+"h"+Me+(T*2+Et.width)+"V-"+(T+Et.height/2)+"H"+Me+O+"V-"+O+"Z"),mt.minY=Ft-(T+Et.height/2),mt.maxY=Ft+(T+Et.height/2),Jt.side==="right"?(mt.minX=Gt+O,mt.maxX=Gt+O+(T*2+Et.width)):(mt.minX=Gt-O-(T*2+Et.width),mt.maxX=Gt-O);var Oe=Et.height/2,Ie=ge-Et.top-Oe,Je="clip"+Y._uid+"commonlabel"+Jt._id,Ee;if(Gt<Et.width+2*T+O){Ee="M-"+(O+T)+"-"+Oe+"h-"+(Et.width-T)+"V"+Oe+"h"+(Et.width-T)+"Z";var He=Et.width-Gt+T;f.positionText(tt,He,Ie),ye==="end"&&tt.selectAll("tspan").each(function(){var on=D.select(this),cn=p.tester.append("text").text(on.text()).call(p.font,Pt),Cn=z(Z,cn.node());Math.round(Cn.width)<Math.round(Et.width)&&on.attr("x",He-Cn.width),cn.remove()})}else f.positionText(tt,_e*(T+O),Ie),Ee=null;var qe=Y._topclips.selectAll("#"+Je).data(Ee?[0]:[]);qe.enter().append("clipPath").attr("id",Je).append("path"),qe.exit().remove(),qe.select("path").attr("d",Ee),p.setClipUrl(tt,Ee?Je:null,Z)}Ae.attr("transform",l(Gt,Ft))}),y.isUnifiedHover(rt)){_t.selectAll("g.hovertext").remove();var gt=M.filter(function(Ae){return Ae.hoverinfo!=="none"});if(gt.length===0)return[];var It=Y.hoverlabel,Mt=It.font,qt={showlegend:!0,legend:{title:{text:le,font:Mt},font:Mt,bgcolor:It.bgcolor,bordercolor:It.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:Y.legend?Y.legend.traceorder:void 0,orientation:"v"}},$t={font:Mt};c(qt,$t,Z._fullData);var ie=$t.legend;ie.entries=[];for(var zt=0;zt<gt.length;zt++){var ee=gt[zt];if(ee.hoverinfo!=="none"){var se=C(ee,!0,rt,Y,le),pe=se[0],De=se[1];ee.name=De,De!==""?ee.text=De+" : "+pe:ee.text=pe;var Ne=ee.cd[ee.index];Ne&&(Ne.mc&&(ee.mc=Ne.mc),Ne.mcc&&(ee.mc=Ne.mcc),Ne.mlc&&(ee.mlc=Ne.mlc),Ne.mlcc&&(ee.mlc=Ne.mlcc),Ne.mlw&&(ee.mlw=Ne.mlw),Ne.mrc&&(ee.mrc=Ne.mrc),Ne.dir&&(ee.dir=Ne.dir)),ee._distinct=!0,ie.entries.push([ee])}}ie.entries.sort(function(Ae,sn){return Ae[0].trace.index-sn[0].trace.index}),ie.layer=_t,ie._inHover=!0,ie._groupTitleFont=It.grouptitlefont,d(Z,ie);var Ge=_t.select("g.legend"),Pe=z(Z,Ge.node()),ze=Pe.width+2*T,Le=Pe.height+2*T,Se=gt[0],Ye=(Se.x0+Se.x1)/2,Be=(Se.y0+Se.y1)/2,Ze=!(g.traceIs(Se.trace,"bar-like")||g.traceIs(Se.trace,"box-violin")),Fe,ke;re==="y"?Ze?(ke=Be-T,Fe=Be+T):(ke=Math.min.apply(null,gt.map(function(Ae){return Math.min(Ae.y0,Ae.y1)})),Fe=Math.max.apply(null,gt.map(function(Ae){return Math.max(Ae.y0,Ae.y1)}))):ke=Fe=n.mean(gt.map(function(Ae){return(Ae.y0+Ae.y1)/2}))-Le/2;var je,Ke;re==="x"?Ze?(je=Ye+T,Ke=Ye-T):(je=Math.max.apply(null,gt.map(function(Ae){return Math.max(Ae.x0,Ae.x1)})),Ke=Math.min.apply(null,gt.map(function(Ae){return Math.min(Ae.x0,Ae.x1)}))):je=Ke=n.mean(gt.map(function(Ae){return(Ae.x0+Ae.x1)/2}))-ze/2;var ln=ae._offset,Ve=Jt._offset;Fe+=Ve,je+=ln,Ke+=ln-ze,ke+=Ve-Le;var nn,an;return je+ze<Te&&je>=0?nn=je:Ke+ze<Te&&Ke>=0?nn=Ke:ln+ze<Te?nn=ln:je-Ye<Ye-Ke+ze?nn=Te-ze:nn=0,nn+=T,Fe+Le<ce&&Fe>=0?an=Fe:ke+Le<ce&&ke>=0?an=ke:Ve+Le<ce?an=Ve:Fe-Be<Be-ke+Le?an=ce-Le:an=0,an+=T,Ge.attr("transform",l(nn-1,an-1)),Ge}var gn=_t.selectAll("g.hovertext").data(M,function(Ae){return V(Ae)});return gn.enter().append("g").classed("hovertext",!0).each(function(){var Ae=D.select(this);Ae.append("rect").call(u.fill,u.addOpacity(ut,.8)),Ae.append("text").classed("name",!0),Ae.append("path").style("stroke-width","1px"),Ae.append("text").classed("nums",!0).call(p.font,{weight:Ht,style:pt,variant:bt,textcase:ot,lineposition:Lt,shadow:Nt,family:Xt,size:Bt})}),gn.exit().remove(),gn.each(function(Ae){var sn=D.select(this).attr("transform",""),tt=Ae.color;Array.isArray(tt)&&(tt=tt[Ae.eventData[0].pointNumber]);var lt=Ae.bgcolor||tt,Yt=u.combine(u.opacity(lt)?lt:u.defaultLine,ut),jt=u.combine(u.opacity(tt)?tt:u.defaultLine,ut),Ot=Ae.borderColor||u.contrast(Yt),Pt=C(Ae,we,rt,Y,le,sn),Et=Pt[0],Gt=Pt[1],Ft=sn.select("text.nums").call(p.font,{family:Ae.fontFamily||Xt,size:Ae.fontSize||Bt,color:Ae.fontColor||Ot,weight:Ae.fontWeight||Ht,style:Ae.fontStyle||pt,variant:Ae.fontVariant||bt,textcase:Ae.fontTextcase||ot,lineposition:Ae.fontLineposition||Lt,shadow:Ae.fontShadow||Nt}).text(Et).attr("data-notex",1).call(f.positionText,0,0).call(f.convertToTspans,Z),Ut=sn.select("text.name"),Qt=0,ne=0;if(Gt&&Gt!==Et){Ut.call(p.font,{family:Ae.fontFamily||Xt,size:Ae.fontSize||Bt,color:jt,weight:Ae.fontWeight||Ht,style:Ae.fontStyle||pt,variant:Ae.fontVariant||bt,textcase:Ae.fontTextcase||ot,lineposition:Ae.fontLineposition||Lt,shadow:Ae.fontShadow||Nt}).text(Gt).attr("data-notex",1).call(f.positionText,0,0).call(f.convertToTspans,Z);var ye=z(Z,Ut.node());Qt=ye.width+2*T,ne=ye.height+2*T}else Ut.remove(),sn.select("rect").remove();sn.select("path").style({fill:Yt,stroke:Ot});var _e=Ae.xa._offset+(Ae.x0+Ae.x1)/2,Me=Ae.ya._offset+(Ae.y0+Ae.y1)/2,Oe=Math.abs(Ae.x1-Ae.x0),Ie=Math.abs(Ae.y1-Ae.y0),Je=z(Z,Ft.node()),Ee=Je.width/Y._invScaleX,He=Je.height/Y._invScaleY;Ae.ty0=(ge-Je.top)/Y._invScaleY,Ae.bx=Ee+2*T,Ae.by=Math.max(He+2*T,ne),Ae.anchor="start",Ae.txwidth=Ee,Ae.tx2width=Qt,Ae.offset=0;var qe=(Ee+O+T+Qt)*Y._invScaleX,on,cn;if(st)Ae.pos=_e,on=Me+Ie/2+qe<=ce,cn=Me-Ie/2-qe>=0,(Ae.idealAlign==="top"||!on)&&cn?(Me-=Ie/2,Ae.anchor="end"):on?(Me+=Ie/2,Ae.anchor="start"):Ae.anchor="middle",Ae.crossPos=Me;else{if(Ae.pos=Me,on=_e+Oe/2+qe<=Te,cn=_e-Oe/2-qe>=0,(Ae.idealAlign==="left"||!on)&&cn)_e-=Oe/2,Ae.anchor="end";else if(on)_e+=Oe/2,Ae.anchor="start";else{Ae.anchor="middle";var Cn=qe/2,yn=_e+Cn-Te,Mn=_e-Cn;yn>0&&(_e-=yn),Mn<0&&(_e+=-Mn)}Ae.crossPos=_e}Ft.attr("text-anchor",Ae.anchor),Qt&&Ut.attr("text-anchor",Ae.anchor),sn.attr("transform",l(_e,Me)+(st?o(_):""))}),{hoverLabels:gn,commonLabelBoundingBox:mt}}function C(M,S,Z,Y,rt,st){var ut="",_t="";M.nameOverride!==void 0&&(M.name=M.nameOverride),M.name&&(M.trace._meta&&(M.name=n.templateString(M.name,M.trace._meta)),ut=H(M.name,M.nameLength));var At=Z.charAt(0),Rt=At==="x"?"y":"x";M.zLabel!==void 0?(M.xLabel!==void 0&&(_t+="x: "+M.xLabel+"<br>"),M.yLabel!==void 0&&(_t+="y: "+M.yLabel+"<br>"),M.trace.type!=="choropleth"&&M.trace.type!=="choroplethmapbox"&&M.trace.type!=="choroplethmap"&&(_t+=(_t?"z: ":"")+M.zLabel)):S&&M[At+"Label"]===rt?_t=M[Rt+"Label"]||"":M.xLabel===void 0?M.yLabel!==void 0&&M.trace.type!=="scattercarpet"&&(_t=M.yLabel):M.yLabel===void 0?_t=M.xLabel:_t="("+M.xLabel+", "+M.yLabel+")",(M.text||M.text===0)&&!Array.isArray(M.text)&&(_t+=(_t?"<br>":"")+M.text),M.extraText!==void 0&&(_t+=(_t?"<br>":"")+M.extraText),st&&_t===""&&!M.hovertemplate&&(ut===""&&st.remove(),_t=ut);var Xt=M.hovertemplate||!1;if(Xt){var Bt=M.hovertemplateLabels||M;M[At+"Label"]!==rt&&(Bt[At+"other"]=Bt[At+"Val"],Bt[At+"otherLabel"]=Bt[At+"Label"]),_t=n.hovertemplateString(Xt,Bt,Y._d3locale,M.eventData[0]||{},M.trace._meta),_t=_t.replace(U,function(Ht,pt){return ut=H(pt,M.nameLength),""})}return[_t,ut]}function W(M,S,Z,Y){var rt=S?"xa":"ya",st=S?"ya":"xa",ut=0,_t=1,At=M.size(),Rt=new Array(At),Xt=0,Bt=Y.minX,Ht=Y.maxX,pt=Y.minY,bt=Y.maxY,ot=function(Tt){return Tt*Z._invScaleX},Lt=function(Tt){return Tt*Z._invScaleY};M.each(function(Tt){var K=Tt[rt],ft=Tt[st],mt=K._id.charAt(0)==="x",gt=K.range;Xt===0&&gt&&gt[0]>gt[1]!==mt&&(_t=-1);var It=0,Mt=mt?Z.width:Z.height;if(Z.hovermode==="x"||Z.hovermode==="y"){var qt=J(Tt,S),$t=Tt.anchor,ie=$t==="end"?-1:1,zt,ee;if($t==="middle")zt=Tt.crossPos+(mt?Lt(qt.y-Tt.by/2):ot(Tt.bx/2+Tt.tx2width/2)),ee=zt+(mt?Lt(Tt.by):ot(Tt.bx));else if(mt)zt=Tt.crossPos+Lt(O+qt.y)-Lt(Tt.by/2-O),ee=zt+Lt(Tt.by);else{var se=ot(ie*O+qt.x),pe=se+ot(ie*Tt.bx);zt=Tt.crossPos+Math.min(se,pe),ee=Tt.crossPos+Math.max(se,pe)}mt?pt!==void 0&&bt!==void 0&&Math.min(ee,bt)-Math.max(zt,pt)>1&&(ft.side==="left"?(It=ft._mainLinePosition,Mt=Z.width):Mt=ft._mainLinePosition):Bt!==void 0&&Ht!==void 0&&Math.min(ee,Ht)-Math.max(zt,Bt)>1&&(ft.side==="top"?(It=ft._mainLinePosition,Mt=Z.height):Mt=ft._mainLinePosition)}Rt[Xt++]=[{datum:Tt,traceIndex:Tt.trace.index,dp:0,pos:Tt.pos,posref:Tt.posref,size:Tt.by*(mt?k:1)/2,pmin:It,pmax:Mt}]}),Rt.sort(function(Tt,K){return Tt[0].posref-K[0].posref||_t*(K[0].traceIndex-Tt[0].traceIndex)});var Nt,Vt,ae,Jt,re,oe,le;function ve(Tt){var K=Tt[0],ft=Tt[Tt.length-1];if(Vt=K.pmin-K.pos-K.dp+K.size,ae=ft.pos+ft.dp+ft.size-K.pmax,Vt>.01){for(re=Tt.length-1;re>=0;re--)Tt[re].dp+=Vt;Nt=!1}if(!(ae<.01)){if(Vt<-.01){for(re=Tt.length-1;re>=0;re--)Tt[re].dp-=ae;Nt=!1}if(Nt){var mt=0;for(Jt=0;Jt<Tt.length;Jt++)oe=Tt[Jt],oe.pos+oe.dp+oe.size>K.pmax&&mt++;for(Jt=Tt.length-1;Jt>=0&&!(mt<=0);Jt--)oe=Tt[Jt],oe.pos>K.pmax-1&&(oe.del=!0,mt--);for(Jt=0;Jt<Tt.length&&!(mt<=0);Jt++)if(oe=Tt[Jt],oe.pos<K.pmin+1)for(oe.del=!0,mt--,ae=oe.size*2,re=Tt.length-1;re>=0;re--)Tt[re].dp-=ae;for(Jt=Tt.length-1;Jt>=0&&!(mt<=0);Jt--)oe=Tt[Jt],oe.pos+oe.dp+oe.size>K.pmax&&(oe.del=!0,mt--)}}}for(;!Nt&&ut<=At;){for(ut++,Nt=!0,Jt=0;Jt<Rt.length-1;){var Wt=Rt[Jt],ge=Rt[Jt+1],Te=Wt[Wt.length-1],ce=ge[0];if(Vt=Te.pos+Te.dp+Te.size-ce.pos-ce.dp+ce.size,Vt>.01){for(re=ge.length-1;re>=0;re--)ge[re].dp+=Vt;for(Wt.push.apply(Wt,ge),Rt.splice(Jt+1,1),le=0,re=Wt.length-1;re>=0;re--)le+=Wt[re].dp;for(ae=le/Wt.length,re=Wt.length-1;re>=0;re--)Wt[re].dp-=ae;Nt=!1}else Jt++}Rt.forEach(ve)}for(Jt=Rt.length-1;Jt>=0;Jt--){var we=Rt[Jt];for(re=we.length-1;re>=0;re--){var yt=we[re],kt=yt.datum;kt.offset=yt.dp,kt.del=yt.del}}}function J(M,S){var Z=0,Y=M.offset;return S&&(Y*=-P,Z=M.offset*$),{x:Z,y:Y}}function at(M){var S={start:1,end:-1,middle:0}[M.anchor],Z=S*(O+T),Y=Z+S*(M.txwidth+T),rt=M.anchor==="middle";return rt&&(Z-=M.tx2width/2,Y+=M.txwidth/2+T),{alignShift:S,textShiftX:Z,text2ShiftX:Y}}function et(M,S,Z,Y){var rt=function(ut){return ut*Z},st=function(ut){return ut*Y};M.each(function(ut){var _t=D.select(this);if(ut.del)return _t.remove();var At=_t.select("text.nums"),Rt=ut.anchor,Xt=Rt==="end"?-1:1,Bt=at(ut),Ht=J(ut,S),pt=Ht.x,bt=Ht.y,ot=Rt==="middle";_t.select("path").attr("d",ot?"M-"+rt(ut.bx/2+ut.tx2width/2)+","+st(bt-ut.by/2)+"h"+rt(ut.bx)+"v"+st(ut.by)+"h-"+rt(ut.bx)+"Z":"M0,0L"+rt(Xt*O+pt)+","+st(O+bt)+"v"+st(ut.by/2-O)+"h"+rt(Xt*ut.bx)+"v-"+st(ut.by)+"H"+rt(Xt*O+pt)+"V"+st(bt-O)+"Z");var Lt=pt+Bt.textShiftX,Nt=bt+ut.ty0-ut.by/2+T,Vt=ut.textAlign||"auto";Vt!=="auto"&&(Vt==="left"&&Rt!=="start"?(At.attr("text-anchor","start"),Lt=ot?-ut.bx/2-ut.tx2width/2+T:-ut.bx-T):Vt==="right"&&Rt!=="end"&&(At.attr("text-anchor","end"),Lt=ot?ut.bx/2-ut.tx2width/2-T:ut.bx+T)),At.call(f.positionText,rt(Lt),st(Nt)),ut.tx2width&&(_t.select("text.name").call(f.positionText,rt(Bt.text2ShiftX+Bt.alignShift*T+pt),st(bt+ut.ty0-ut.by/2+T)),_t.select("rect").call(p.setRect,rt(Bt.text2ShiftX+(Bt.alignShift-1)*ut.tx2width/2+pt),st(bt-ut.by/2-1),rt(ut.tx2width),st(ut.by+2)))})}function it(M,S){var Z=M.index,Y=M.trace||{},rt=M.cd[0],st=M.cd[Z]||{};function ut(Ht){return Ht||i(Ht)&&Ht===0}var _t=Array.isArray(Z)?function(Ht,pt){var bt=n.castOption(rt,Z,Ht);return ut(bt)?bt:n.extractOption({},Y,"",pt)}:function(Ht,pt){return n.extractOption(st,Y,Ht,pt)};function At(Ht,pt,bt){var ot=_t(pt,bt);ut(ot)&&(M[Ht]=ot)}if(At("hoverinfo","hi","hoverinfo"),At("bgcolor","hbg","hoverlabel.bgcolor"),At("borderColor","hbc","hoverlabel.bordercolor"),At("fontFamily","htf","hoverlabel.font.family"),At("fontSize","hts","hoverlabel.font.size"),At("fontColor","htc","hoverlabel.font.color"),At("fontWeight","htw","hoverlabel.font.weight"),At("fontStyle","hty","hoverlabel.font.style"),At("fontVariant","htv","hoverlabel.font.variant"),At("nameLength","hnl","hoverlabel.namelength"),At("textAlign","hta","hoverlabel.align"),M.posref=S==="y"||S==="closest"&&Y.orientation==="h"?M.xa._offset+(M.x0+M.x1)/2:M.ya._offset+(M.y0+M.y1)/2,M.x0=n.constrain(M.x0,0,M.xa._length),M.x1=n.constrain(M.x1,0,M.xa._length),M.y0=n.constrain(M.y0,0,M.ya._length),M.y1=n.constrain(M.y1,0,M.ya._length),M.xLabelVal!==void 0&&(M.xLabel="xLabel"in M?M.xLabel:b.hoverLabelText(M.xa,M.xLabelVal,Y.xhoverformat),M.xVal=M.xa.c2d(M.xLabelVal)),M.yLabelVal!==void 0&&(M.yLabel="yLabel"in M?M.yLabel:b.hoverLabelText(M.ya,M.yLabelVal,Y.yhoverformat),M.yVal=M.ya.c2d(M.yLabelVal)),M.zLabelVal!==void 0&&M.zLabel===void 0&&(M.zLabel=String(M.zLabelVal)),!isNaN(M.xerr)&&!(M.xa.type==="log"&&M.xerr<=0)){var Rt=b.tickText(M.xa,M.xa.c2l(M.xerr),"hover").text;M.xerrneg!==void 0?M.xLabel+=" +"+Rt+" / -"+b.tickText(M.xa,M.xa.c2l(M.xerrneg),"hover").text:M.xLabel+="  "+Rt,S==="x"&&(M.distance+=1)}if(!isNaN(M.yerr)&&!(M.ya.type==="log"&&M.yerr<=0)){var Xt=b.tickText(M.ya,M.ya.c2l(M.yerr),"hover").text;M.yerrneg!==void 0?M.yLabel+=" +"+Xt+" / -"+b.tickText(M.ya,M.ya.c2l(M.yerrneg),"hover").text:M.yLabel+="  "+Xt,S==="y"&&(M.distance+=1)}var Bt=M.hoverinfo||M.trace.hoverinfo;return Bt&&Bt!=="all"&&(Bt=Array.isArray(Bt)?Bt:Bt.split("+"),Bt.indexOf("x")===-1&&(M.xLabel=void 0),Bt.indexOf("y")===-1&&(M.yLabel=void 0),Bt.indexOf("z")===-1&&(M.zLabel=void 0),Bt.indexOf("text")===-1&&(M.text=void 0),Bt.indexOf("name")===-1&&(M.name=void 0)),M}function dt(M,S,Z){var Y=Z.container,rt=Z.fullLayout,st=rt._size,ut=Z.event,_t=!!S.hLinePoint,At=!!S.vLinePoint,Rt,Xt;if(Y.selectAll(".spikeline").remove(),!!(At||_t)){var Bt=u.combine(rt.plot_bgcolor,rt.paper_bgcolor);if(_t){var Ht=S.hLinePoint,pt,bt;Rt=Ht&&Ht.xa,Xt=Ht&&Ht.ya;var ot=Xt.spikesnap;ot==="cursor"?(pt=ut.pointerX,bt=ut.pointerY):(pt=Rt._offset+Ht.x,bt=Xt._offset+Ht.y);var Lt=t.readability(Ht.color,Bt)<1.5?u.contrast(Bt):Ht.color,Nt=Xt.spikemode,Vt=Xt.spikethickness,ae=Xt.spikecolor||Lt,Jt=b.getPxPosition(M,Xt),re,oe;if(Nt.indexOf("toaxis")!==-1||Nt.indexOf("across")!==-1){if(Nt.indexOf("toaxis")!==-1&&(re=Jt,oe=pt),Nt.indexOf("across")!==-1){var le=Xt._counterDomainMin,ve=Xt._counterDomainMax;Xt.anchor==="free"&&(le=Math.min(le,Xt.position),ve=Math.max(ve,Xt.position)),re=st.l+le*st.w,oe=st.l+ve*st.w}Y.insert("line",":first-child").attr({x1:re,x2:oe,y1:bt,y2:bt,"stroke-width":Vt,stroke:ae,"stroke-dasharray":p.dashStyle(Xt.spikedash,Vt)}).classed("spikeline",!0).classed("crisp",!0),Y.insert("line",":first-child").attr({x1:re,x2:oe,y1:bt,y2:bt,"stroke-width":Vt+2,stroke:Bt}).classed("spikeline",!0).classed("crisp",!0)}Nt.indexOf("marker")!==-1&&Y.insert("circle",":first-child").attr({cx:Jt+(Xt.side!=="right"?Vt:-Vt),cy:bt,r:Vt,fill:ae}).classed("spikeline",!0)}if(At){var Wt=S.vLinePoint,ge,Te;Rt=Wt&&Wt.xa,Xt=Wt&&Wt.ya;var ce=Rt.spikesnap;ce==="cursor"?(ge=ut.pointerX,Te=ut.pointerY):(ge=Rt._offset+Wt.x,Te=Xt._offset+Wt.y);var we=t.readability(Wt.color,Bt)<1.5?u.contrast(Bt):Wt.color,yt=Rt.spikemode,kt=Rt.spikethickness,Tt=Rt.spikecolor||we,K=b.getPxPosition(M,Rt),ft,mt;if(yt.indexOf("toaxis")!==-1||yt.indexOf("across")!==-1){if(yt.indexOf("toaxis")!==-1&&(ft=K,mt=Te),yt.indexOf("across")!==-1){var gt=Rt._counterDomainMin,It=Rt._counterDomainMax;Rt.anchor==="free"&&(gt=Math.min(gt,Rt.position),It=Math.max(It,Rt.position)),ft=st.t+(1-It)*st.h,mt=st.t+(1-gt)*st.h}Y.insert("line",":first-child").attr({x1:ge,x2:ge,y1:ft,y2:mt,"stroke-width":kt,stroke:Tt,"stroke-dasharray":p.dashStyle(Rt.spikedash,kt)}).classed("spikeline",!0).classed("crisp",!0),Y.insert("line",":first-child").attr({x1:ge,x2:ge,y1:ft,y2:mt,"stroke-width":kt+2,stroke:Bt}).classed("spikeline",!0).classed("crisp",!0)}yt.indexOf("marker")!==-1&&Y.insert("circle",":first-child").attr({cx:ge,cy:K-(Rt.side!=="top"?kt:-kt),r:kt,fill:Tt}).classed("spikeline",!0)}}}function ht(M,S,Z){if(!Z||Z.length!==M._hoverdata.length)return!0;for(var Y=Z.length-1;Y>=0;Y--){var rt=Z[Y],st=M._hoverdata[Y];if(rt.curveNumber!==st.curveNumber||String(rt.pointNumber)!==String(st.pointNumber)||String(rt.pointNumbers)!==String(st.pointNumbers))return!0}return!1}function xt(M,S){return!0}function H(M,S){return f.plainText(M||"",{len:S,allowedTags:["br","sub","sup","b","i","em","s","u"]})}function j(M,S){for(var Z=S.charAt(0),Y=[],rt=[],st=[],ut=0;ut<M.length;ut++){var _t=M[ut];g.traceIs(_t.trace,"bar-like")||g.traceIs(_t.trace,"box-violin")?st.push(_t):_t.trace[Z+"period"]?rt.push(_t):Y.push(_t)}return Y.concat(rt).concat(st)}function A(M,S,Z){var Y=S[M+"a"],rt=S[M+"Val"],st=S.cd[0];if(Y.type==="category"||Y.type==="multicategory")rt=Y._categoriesMap[rt];else if(Y.type==="date"){var ut=S.trace[M+"periodalignment"];if(ut){var _t=S.cd[S.index],At=_t[M+"Start"];At===void 0&&(At=_t[M]);var Rt=_t[M+"End"];Rt===void 0&&(Rt=_t[M]);var Xt=Rt-At;ut==="end"?rt+=Xt:ut==="middle"&&(rt+=Xt/2)}rt=Y.d2c(rt)}return st&&st.t&&st.t.posLetter===Y._id&&(Z.boxmode==="group"||Z.violinmode==="group")&&(rt+=st.t.dPos),rt}function q(M){return M.offsetTop+M.clientTop}function R(M){return M.offsetLeft+M.clientLeft}function z(M,S){var Z=M._fullLayout,Y=S.getBoundingClientRect(),rt=Y.left,st=Y.top,ut=rt+Y.width,_t=st+Y.height,At=n.apply3DTransform(Z._invTransform)(rt,st),Rt=n.apply3DTransform(Z._invTransform)(ut,_t),Xt=At[0],Bt=At[1],Ht=Rt[0],pt=Rt[1];return{x:Xt,y:Bt,width:Ht-Xt,height:pt-Bt,top:Math.min(Bt,pt),left:Math.min(Xt,Ht),right:Math.max(Xt,Ht),bottom:Math.max(Bt,pt)}}}),Hi=Dt((F,D)=>{var i=Ce(),t=bn(),n=Qa().isUnifiedHover;D.exports=function(r,l,o,s){s=s||{};var f=l.legend;function e(p){s.font[p]||(s.font[p]=f?l.legend.font[p]:l.font[p])}l&&n(l.hovermode)&&(s.font||(s.font={}),e("size"),e("family"),e("color"),e("weight"),e("style"),e("variant"),f?(s.bgcolor||(s.bgcolor=t.combine(l.legend.bgcolor,l.paper_bgcolor)),s.bordercolor||(s.bordercolor=l.legend.bordercolor)):s.bgcolor||(s.bgcolor=l.paper_bgcolor)),o("hoverlabel.bgcolor",s.bgcolor),o("hoverlabel.bordercolor",s.bordercolor),o("hoverlabel.namelength",s.namelength),i.coerceFont(o,"hoverlabel.font",s.font),o("hoverlabel.align",s.align)}}),wc=Dt((F,D)=>{var i=Ce(),t=Hi(),n=Pr();D.exports=function(r,l){function o(s,f){return i.coerce(r,l,n,s,f)}t(r,l,o)}}),Mc=Dt((F,D)=>{var i=Ce(),t=Ti(),n=Hi();D.exports=function(r,l,o,s){function f(p,u){return i.coerce(r,l,t,p,u)}var e=i.extendFlat({},s.hoverlabel);l.hovertemplate&&(e.namelength=-1),n(r,l,f,e)}}),pl=Dt((F,D)=>{var i=Ce(),t=Pr();D.exports=function(n,r){function l(o,s){return r[o]!==void 0?r[o]:i.coerce(n,r,t,o,s)}return l("clickmode"),l("hoversubplots"),l("hovermode")}}),Tc=Dt((F,D)=>{var i=Ce(),t=Pr(),n=pl(),r=Hi();D.exports=function(l,o){function s(m,g){return i.coerce(l,o,t,m,g)}var f=n(l,o);f&&(s("hoverdistance"),s("spikedistance"));var e=s("dragmode");e==="select"&&s("selectdirection");var p=o._has("mapbox"),u=o._has("map"),h=o._has("geo"),b=o._basePlotModules.length;o.dragmode==="zoom"&&((p||u||h)&&b===1||(p||u)&&h&&b===2)&&(o.dragmode="pan"),r(l,o,s),i.coerceFont(s,"hoverlabel.grouptitlefont",o.hoverlabel.font)}}),kc=Dt((F,D)=>{var i=Ce(),t=un();D.exports=function(r){var l=r.calcdata,o=r._fullLayout;function s(h){return function(b){return i.coerceHoverinfo({hoverinfo:b},{_module:h._module},o)}}for(var f=0;f<l.length;f++){var e=l[f],p=e[0].trace;if(!t.traceIs(p,"pie-like")){var u=t.traceIs(p,"2dMap")?n:i.fillArray;u(p.hoverinfo,e,"hi",s(p)),p.hovertemplate&&u(p.hovertemplate,e,"ht"),p.hoverlabel&&(u(p.hoverlabel.bgcolor,e,"hbg"),u(p.hoverlabel.bordercolor,e,"hbc"),u(p.hoverlabel.font.size,e,"hts"),u(p.hoverlabel.font.color,e,"htc"),u(p.hoverlabel.font.family,e,"htf"),u(p.hoverlabel.font.weight,e,"htw"),u(p.hoverlabel.font.style,e,"hty"),u(p.hoverlabel.font.variant,e,"htv"),u(p.hoverlabel.namelength,e,"hnl"),u(p.hoverlabel.align,e,"hta"))}}};function n(r,l,o,s){s=s||i.identity,Array.isArray(r)&&(l[0][o]=s(r))}}),Ac=Dt((F,D)=>{var i=un(),t=hl().hover;D.exports=function(n,r,l){var o=i.getComponentMethod("annotations","onClick")(n,n._hoverdata);l!==void 0&&t(n,r,l,!0);function s(){n.emit("plotly_click",{points:n._hoverdata,event:r})}n._hoverdata&&r&&r.target&&(o&&o.then?o.then(s):s(),r.stopImmediatePropagation&&r.stopImmediatePropagation())}}),Ka=Dt((F,D)=>{var i=_n(),t=Ce(),n=Za(),r=Qa(),l=Pr(),o=hl();D.exports={moduleType:"component",name:"fx",constants:Ur(),schema:{layout:l},attributes:Ti(),layoutAttributes:l,supplyLayoutGlobalDefaults:wc(),supplyDefaults:Mc(),supplyLayoutDefaults:Tc(),calc:kc(),getDistanceFunction:r.getDistanceFunction,getClosest:r.getClosest,inbox:r.inbox,quadrature:r.quadrature,appendArrayPointValue:r.appendArrayPointValue,castHoverOption:f,castHoverinfo:e,hover:o.hover,unhover:n.unhover,loneHover:o.loneHover,loneUnhover:s,click:Ac()};function s(p){var u=t.isD3Selection(p)?p:i.select(p);u.selectAll("g.hovertext").remove(),u.selectAll(".spikeline").remove()}function f(p,u,h){return t.castOption(p,u,"hoverlabel."+h)}function e(p,u,h){function b(m){return t.coerceHoverinfo({hoverinfo:m},{_module:p._module},u)}return t.castOption(p,h,"hoverinfo",b)}}),Er=Dt(F=>{F.selectMode=function(D){return D==="lasso"||D==="select"},F.drawMode=function(D){return D==="drawclosedpath"||D==="drawopenpath"||D==="drawline"||D==="drawrect"||D==="drawcircle"},F.openMode=function(D){return D==="drawline"||D==="drawopenpath"},F.rectMode=function(D){return D==="select"||D==="drawline"||D==="drawrect"||D==="drawcircle"},F.freeMode=function(D){return D==="lasso"||D==="drawclosedpath"||D==="drawopenpath"},F.selectingOrDrawing=function(D){return F.freeMode(D)||F.rectMode(D)}}),ji=Dt((F,D)=>{D.exports=function(i){var t=i._fullLayout;t._glcanvas&&t._glcanvas.size()&&t._glcanvas.each(function(n){n.regl&&n.regl.clear({color:!0,depth:!0})})}}),Vi=Dt((F,D)=>{D.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect fill='#000' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle fill='#9EF' cx='102' cy='30' r='6'/>","  <circle fill='#BAC' cx='78' cy='30' r='6'/>","  <circle fill='#BAC' cx='78' cy='54' r='6'/>","  <circle fill='#D69' cx='54' cy='30' r='6'/>","  <circle fill='#F26' cx='30' cy='30' r='6'/>","  <circle fill='#F26' cx='30' cy='54' r='6'/>","  <path fill='#FFF' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path fill='#FFF' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path fill='#FFF' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path fill='#FFF' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}}),Yi=Dt((F,D)=>{var i=32;D.exports={CIRCLE_SIDES:i,i000:0,i090:i/4,i180:i/2,i270:i/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}}),Zi=Dt((F,D)=>{var i=Ce().strTranslate;function t(o,s){switch(o.type){case"log":return o.p2d(s);case"date":return o.p2r(s,0,o.calendar);default:return o.p2r(s)}}function n(o,s){switch(o.type){case"log":return o.d2p(s);case"date":return o.r2p(s,0,o.calendar);default:return o.r2p(s)}}function r(o){var s=o._id.charAt(0)==="y"?1:0;return function(f){return t(o,f[s])}}function l(o){return i(o.xaxis._offset,o.yaxis._offset)}D.exports={p2r:t,r2p:n,axValue:r,getTransform:l}}),dr=Dt(F=>{var D=rl(),i=Yi(),t=i.CIRCLE_SIDES,n=i.SQRT2,r=Zi(),l=r.p2r,o=r.r2p,s=[0,3,4,5,6,1,2],f=[0,3,4,1,2];F.writePaths=function(u){var h=u.length;if(!h)return"M0,0Z";for(var b="",m=0;m<h;m++)for(var g=u[m].length,y=0;y<g;y++){var v=u[m][y][0];if(v==="Z")b+="Z";else for(var c=u[m][y].length,d=0;d<c;d++){var _=d;v==="Q"||v==="S"?_=f[d]:v==="C"&&(_=s[d]),b+=u[m][y][_],d>0&&d<c-1&&(b+=",")}}return b},F.readPaths=function(u,h,b,m){var g=D(u),y=[],v=-1,c=function(){v++,y[v]=[]},d,_=0,w=0,k,$,P=function(){k=_,$=w};P();for(var O=0;O<g.length;O++){var T=[],X,I,E,N,V=g[O][0],U=V;switch(V){case"M":c(),_=+g[O][1],w=+g[O][2],T.push([U,_,w]),P();break;case"Q":case"S":X=+g[O][1],E=+g[O][2],_=+g[O][3],w=+g[O][4],T.push([U,_,w,X,E]);break;case"C":X=+g[O][1],E=+g[O][2],I=+g[O][3],N=+g[O][4],_=+g[O][5],w=+g[O][6],T.push([U,_,w,X,E,I,N]);break;case"T":case"L":_=+g[O][1],w=+g[O][2],T.push([U,_,w]);break;case"H":U="L",_=+g[O][1],T.push([U,_,w]);break;case"V":U="L",w=+g[O][1],T.push([U,_,w]);break;case"A":U="L";var G=+g[O][1],C=+g[O][2];+g[O][4]||(G=-G,C=-C);var W=_-G,J=w;for(d=1;d<=t/2;d++){var at=2*Math.PI*d/t;T.push([U,W+G*Math.cos(at),J+C*Math.sin(at)])}break;case"Z":(_!==k||w!==$)&&(_=k,w=$,T.push([U,_,w]));break}for(var et=(b||{}).domain,it=h._fullLayout._size,dt=b&&b.xsizemode==="pixel",ht=b&&b.ysizemode==="pixel",xt=m===!1,H=0;H<T.length;H++){for(d=0;d+2<7;d+=2){var j=T[H][d+1],A=T[H][d+2];j===void 0||A===void 0||(_=j,w=A,b&&(b.xaxis&&b.xaxis.p2r?(xt&&(j-=b.xaxis._offset),dt?j=o(b.xaxis,b.xanchor)+j:j=l(b.xaxis,j)):(xt&&(j-=it.l),et?j=et.x[0]+j/it.w:j=j/it.w),b.yaxis&&b.yaxis.p2r?(xt&&(A-=b.yaxis._offset),ht?A=o(b.yaxis,b.yanchor)-A:A=l(b.yaxis,A)):(xt&&(A-=it.t),et?A=et.y[1]-A/it.h:A=1-A/it.h)),T[H][d+1]=j,T[H][d+2]=A)}y[v].push(T[H].slice())}}return y};function e(u,h){return Math.abs(u-h)<=1e-6}function p(u,h){var b=h[1]-u[1],m=h[2]-u[2];return Math.sqrt(b*b+m*m)}F.pointsOnRectangle=function(u){var h=u.length;if(h!==5)return!1;for(var b=1;b<3;b++){var m=u[0][b]-u[1][b],g=u[3][b]-u[2][b];if(!e(m,g))return!1;var y=u[0][b]-u[3][b],v=u[1][b]-u[2][b];if(!e(y,v))return!1}return!e(u[0][1],u[1][1])&&!e(u[0][1],u[3][1])?!1:!!(p(u[0],u[1])*p(u[0],u[3]))},F.pointsOnEllipse=function(u){var h=u.length;if(h!==t+1)return!1;h=t;for(var b=0;b<h;b++){var m=(h*2-b)%h,g=(h/2+m)%h,y=(h/2+b)%h;if(!e(p(u[b],u[y]),p(u[m],u[g])))return!1}return!0},F.handleEllipse=function(u,h,b){if(!u)return[h,b];var m=F.ellipseOver({x0:h[0],y0:h[1],x1:b[0],y1:b[1]}),g=(m.x1+m.x0)/2,y=(m.y1+m.y0)/2,v=(m.x1-m.x0)/2,c=(m.y1-m.y0)/2;v||(v=c=c/n),c||(c=v=v/n);for(var d=[],_=0;_<t;_++){var w=_*2*Math.PI/t;d.push([g+v*Math.cos(w),y+c*Math.sin(w)])}return d},F.ellipseOver=function(u){var h=u.x0,b=u.y0,m=u.x1,g=u.y1,y=m-h,v=g-b;h-=y,b-=v;var c=(h+m)/2,d=(b+g)/2,_=n;return y*=_,v*=_,{x0:c-y,y0:d-v,x1:c+y,y1:d+v}},F.fixDatesForPaths=function(u,h,b){var m=h.type==="date",g=b.type==="date";if(!m&&!g)return u;for(var y=0;y<u.length;y++)for(var v=0;v<u[y].length;v++)for(var c=0;c+2<u[y][v].length;c+=2)m&&(u[y][v][c+1]=u[y][v][c+1].replace(" ","_")),g&&(u[y][v][c+2]=u[y][v][c+2].replace(" ","_"));return u}}),Ui=Dt((F,D)=>{var i=Er(),t=i.drawMode,n=i.openMode,r=Yi(),l=r.i000,o=r.i090,s=r.i180,f=r.i270,e=r.cos45,p=r.sin45,u=Zi(),h=u.p2r,b=u.r2p,m=cr(),g=m.clearOutline,y=dr(),v=y.readPaths,c=y.writePaths,d=y.ellipseOver,_=y.fixDatesForPaths;function w($,P){if($.length){var O=$[0][0];if(O){var T=P.gd,X=P.isActiveShape,I=P.dragmode,E=(T.layout||{}).shapes||[];if(!t(I)&&X!==void 0){var N=T._fullLayout._activeShapeIndex;if(N<E.length)switch(T._fullLayout.shapes[N].type){case"rect":I="drawrect";break;case"circle":I="drawcircle";break;case"line":I="drawline";break;case"path":var V=E[N].path||"";V[V.length-1]==="Z"?I="drawclosedpath":I="drawopenpath";break}}var U=k($,P,I);g(T);for(var G=P.editHelpers,C=(G||{}).modifyItem,W=[],J=0;J<E.length;J++){var at=T._fullLayout.shapes[J];if(W[J]=at._input,X!==void 0&&J===T._fullLayout._activeShapeIndex){var et=U;switch(at.type){case"line":case"rect":case"circle":C("x0",et.x0-(at.x0shift||0)),C("x1",et.x1-(at.x1shift||0)),C("y0",et.y0-(at.y0shift||0)),C("y1",et.y1-(at.y1shift||0));break;case"path":C("path",et.path);break}}}return X===void 0?(W.push(U),W):G?G.getUpdateObj():{}}}}function k($,P,O){var T=$[0][0],X=P.gd,I=T.getAttribute("d"),E=X._fullLayout.newshape,N=P.plotinfo,V=P.isActiveShape,U=N.xaxis,G=N.yaxis,C=!!N.domain||!N.xaxis,W=!!N.domain||!N.yaxis,J=n(O),at=v(I,X,N,V),et={editable:!0,visible:E.visible,name:E.name,showlegend:E.showlegend,legend:E.legend,legendwidth:E.legendwidth,legendgroup:E.legendgroup,legendgrouptitle:{text:E.legendgrouptitle.text,font:E.legendgrouptitle.font},legendrank:E.legendrank,label:E.label,xref:C?"paper":U._id,yref:W?"paper":G._id,layer:E.layer,opacity:E.opacity,line:{color:E.line.color,width:E.line.width,dash:E.line.dash}};J||(et.fillcolor=E.fillcolor,et.fillrule=E.fillrule);var it;if(at.length===1&&(it=at[0]),it&&it.length===5&&O==="drawrect")et.type="rect",et.x0=it[0][1],et.y0=it[0][2],et.x1=it[2][1],et.y1=it[2][2];else if(it&&O==="drawline")et.type="line",et.x0=it[0][1],et.y0=it[0][2],et.x1=it[1][1],et.y1=it[1][2];else if(it&&O==="drawcircle"){et.type="circle";var dt=it[l][1],ht=it[o][1],xt=it[s][1],H=it[f][1],j=it[l][2],A=it[o][2],q=it[s][2],R=it[f][2],z=N.xaxis&&(N.xaxis.type==="date"||N.xaxis.type==="log"),M=N.yaxis&&(N.yaxis.type==="date"||N.yaxis.type==="log");z&&(dt=b(N.xaxis,dt),ht=b(N.xaxis,ht),xt=b(N.xaxis,xt),H=b(N.xaxis,H)),M&&(j=b(N.yaxis,j),A=b(N.yaxis,A),q=b(N.yaxis,q),R=b(N.yaxis,R));var S=(ht+H)/2,Z=(j+q)/2,Y=(H-ht+xt-dt)/2,rt=(R-A+q-j)/2,st=d({x0:S,y0:Z,x1:S+Y*e,y1:Z+rt*p});z&&(st.x0=h(N.xaxis,st.x0),st.x1=h(N.xaxis,st.x1)),M&&(st.y0=h(N.yaxis,st.y0),st.y1=h(N.yaxis,st.y1)),et.x0=st.x0,et.y0=st.y0,et.x1=st.x1,et.y1=st.y1}else et.type="path",U&&G&&_(at,U,G),et.path=c(at),it=null;return et}D.exports={newShapes:w,createShapeObj:k}}),vl=Dt((F,D)=>{var i=Er(),t=i.selectMode,n=cr(),r=n.clearOutline,l=dr(),o=l.readPaths,s=l.writePaths,f=l.fixDatesForPaths;D.exports=function(e,p){if(e.length){var u=e[0][0];if(u){var h=u.getAttribute("d"),b=p.gd,m=b._fullLayout.newselection,g=p.plotinfo,y=g.xaxis,v=g.yaxis,c=p.isActiveSelection,d=p.dragmode,_=(b.layout||{}).selections||[];if(!t(d)&&c!==void 0){var w=b._fullLayout._activeSelectionIndex;if(w<_.length)switch(b._fullLayout.selections[w].type){case"rect":d="select";break;case"path":d="lasso";break}}var k=o(h,b,g,c),$={xref:y._id,yref:v._id,opacity:m.opacity,line:{color:m.line.color,width:m.line.width,dash:m.line.dash}},P;k.length===1&&(P=k[0]),P&&P.length===5&&d==="select"?($.type="rect",$.x0=P[0][1],$.y0=P[0][2],$.x1=P[2][1],$.y1=P[2][2]):($.type="path",y&&v&&f(k,y,v),$.path=s(k),P=null),r(b);for(var O=p.editHelpers,T=(O||{}).modifyItem,X=[],I=0;I<_.length;I++){var E=b._fullLayout.selections[I];if(!E){X[I]=E;continue}if(X[I]=E._input,c!==void 0&&I===b._fullLayout._activeSelectionIndex){var N=$;switch(E.type){case"rect":T("x0",N.x0),T("x1",N.x1),T("y0",N.y0),T("y1",N.y1);break;case"path":T("path",N.path);break}}}return c===void 0?(X.push($),X):O?O.getUpdateObj():{}}}}}),Qr=Dt((F,D)=>{D.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}}),hr=Dt(F=>{var D=Qr(),i=Ce(),t=Yn();F.rangeToShapePosition=function(l){return l.type==="log"?l.r2d:function(o){return o}},F.shapePositionToRange=function(l){return l.type==="log"?l.d2r:function(o){return o}},F.decodeDate=function(l){return function(o){return o.replace&&(o=o.replace("_"," ")),l(o)}},F.encodeDate=function(l){return function(o){return l(o).replace(" ","_")}},F.extractPathCoords=function(l,o,s){var f=[],e=l.match(D.segmentRE);return e.forEach(function(p){var u=o[p.charAt(0)].drawn;if(u!==void 0){var h=p.substr(1).match(D.paramRE);if(!(!h||h.length<u)){var b=h[u],m=s?b:i.cleanNumber(b);f.push(m)}}}),f},F.getDataToPixel=function(l,o,s,f,e){var p=l._fullLayout._size,u;if(o)if(e==="domain")u=function(b){return o._length*(f?1-b:b)+o._offset};else{var h=F.shapePositionToRange(o);u=function(b){var m=r(o,s);return o._offset+o.r2p(h(b,!0))+m},o.type==="date"&&(u=F.decodeDate(u))}else f?u=function(b){return p.t+p.h*(1-b)}:u=function(b){return p.l+p.w*b};return u},F.getPixelToData=function(l,o,s,f){var e=l._fullLayout._size,p;if(o)if(f==="domain")p=function(h){var b=(h-o._offset)/o._length;return s?1-b:b};else{var u=F.rangeToShapePosition(o);p=function(h){return u(o.p2r(h-o._offset))}}else s?p=function(h){return 1-(h-e.t)/e.h}:p=function(h){return(h-e.l)/e.w};return p},F.roundPositionForSharpStrokeRendering=function(l,o){var s=Math.round(o%2)===1,f=Math.round(l);return s?f+.5:f},F.makeShapesOptionsAndPlotinfo=function(l,o){var s=l._fullLayout.shapes[o]||{},f=l._fullLayout._plots[s.xref+s.yref],e=!!f;return e?f._hadPlotinfo=!0:(f={},s.xref&&s.xref!=="paper"&&(f.xaxis=l._fullLayout[s.xref+"axis"]),s.yref&&s.yref!=="paper"&&(f.yaxis=l._fullLayout[s.yref+"axis"])),f.xsizemode=s.xsizemode,f.ysizemode=s.ysizemode,f.xanchor=s.xanchor,f.yanchor=s.yanchor,{options:s,plotinfo:f}},F.makeSelectionsOptionsAndPlotinfo=function(l,o){var s=l._fullLayout.selections[o]||{},f=l._fullLayout._plots[s.xref+s.yref],e=!!f;return e?f._hadPlotinfo=!0:(f={},s.xref&&(f.xaxis=l._fullLayout[s.xref+"axis"]),s.yref&&(f.yaxis=l._fullLayout[s.yref+"axis"])),{options:s,plotinfo:f}},F.getPathString=function(l,o){var s=o.type,f=t.getRefType(o.xref),e=t.getRefType(o.yref),p=t.getFromId(l,o.xref),u=t.getFromId(l,o.yref),h=l._fullLayout._size,b,m,g,y,v=r(p,o.x0shift),c=r(p,o.x1shift),d=r(u,o.y0shift),_=r(u,o.y1shift),w,k,$,P;if(p?f==="domain"?m=function(C){return p._offset+p._length*C}:(b=F.shapePositionToRange(p),m=function(C){return p._offset+p.r2p(b(C,!0))}):m=function(C){return h.l+h.w*C},u?e==="domain"?y=function(C){return u._offset+u._length*(1-C)}:(g=F.shapePositionToRange(u),y=function(C){return u._offset+u.r2p(g(C,!0))}):y=function(C){return h.t+h.h*(1-C)},s==="path")return p&&p.type==="date"&&(m=F.decodeDate(m)),u&&u.type==="date"&&(y=F.decodeDate(y)),n(o,m,y);if(o.xsizemode==="pixel"){var O=m(o.xanchor);w=O+o.x0+v,k=O+o.x1+c}else w=m(o.x0)+v,k=m(o.x1)+c;if(o.ysizemode==="pixel"){var T=y(o.yanchor);$=T-o.y0+d,P=T-o.y1+_}else $=y(o.y0)+d,P=y(o.y1)+_;if(s==="line")return"M"+w+","+$+"L"+k+","+P;if(s==="rect")return"M"+w+","+$+"H"+k+"V"+P+"H"+w+"Z";var X=(w+k)/2,I=($+P)/2,E=Math.abs(X-w),N=Math.abs(I-$),V="A"+E+","+N,U=X+E+","+I,G=X+","+(I-N);return"M"+U+V+" 0 1,1 "+G+V+" 0 0,1 "+U+"Z"};function n(l,o,s){var f=l.path,e=l.xsizemode,p=l.ysizemode,u=l.xanchor,h=l.yanchor;return f.replace(D.segmentRE,function(b){var m=0,g=b.charAt(0),y=D.paramIsX[g],v=D.paramIsY[g],c=D.numParams[g],d=b.substr(1).replace(D.paramRE,function(_){return y[m]?e==="pixel"?_=o(u)+Number(_):_=o(_):v[m]&&(p==="pixel"?_=s(h)-Number(_):_=s(_)),m++,m>c&&(_="X"),_});return m>c&&(d=d.replace(/[\s,]*X.*/,""),i.log("Ignoring extra params in segment "+b)),g+d})}function r(l,o){o=o||0;var s=0;return o&&l&&(l.type==="category"||l.type==="multicategory")&&(s=(l.r2p(1)-l.r2p(0))*o),s}}),gl=Dt((F,D)=>{var i=Ce(),t=Yn(),n=ma(),r=Nn(),l=dr().readPaths,o=hr(),s=o.getPathString,f=Si(),e=Ta().FROM_TL;D.exports=function(h,b,m,g){if(g.selectAll(".shape-label").remove(),!!(m.label.text||m.label.texttemplate)){var y;if(m.label.texttemplate){var v={};if(m.type!=="path"){var c=t.getFromId(h,m.xref),d=t.getFromId(h,m.yref);for(var _ in f){var w=f[_](m,c,d);w!==void 0&&(v[_]=w)}}y=i.texttemplateStringForShapes(m.label.texttemplate,{},h._fullLayout._d3locale,v)}else y=m.label.text;var k={"data-index":b},$=m.label.font,P={"data-notex":1},O=g.append("g").attr(k).classed("shape-label",!0),T=O.append("text").attr(P).classed("shape-label-text",!0).text(y),X,I,E,N;if(m.path){var V=s(h,m),U=l(V,h);X=1/0,E=1/0,I=-1/0,N=-1/0;for(var G=0;G<U.length;G++)for(var C=0;C<U[G].length;C++)for(var W=U[G][C],J=1;J<W.length;J+=2){var at=W[J],et=W[J+1];X=Math.min(X,at),I=Math.max(I,at),E=Math.min(E,et),N=Math.max(N,et)}}else{var it=t.getFromId(h,m.xref),dt=m.x0shift,ht=m.x1shift,xt=t.getRefType(m.xref),H=t.getFromId(h,m.yref),j=m.y0shift,A=m.y1shift,q=t.getRefType(m.yref),R=function(ut,_t){var At=o.getDataToPixel(h,it,_t,!1,xt);return At(ut)},z=function(ut,_t){var At=o.getDataToPixel(h,H,_t,!0,q);return At(ut)};X=R(m.x0,dt),I=R(m.x1,ht),E=z(m.y0,j),N=z(m.y1,A)}var M=m.label.textangle;M==="auto"&&(m.type==="line"?M=p(X,E,I,N):M=0),T.call(function(ut){return ut.call(r.font,$).attr({}),n.convertToTspans(ut,h),ut});var S=r.bBox(T.node()),Z=u(X,E,I,N,m,M,S),Y=Z.textx,rt=Z.texty,st=Z.xanchor;T.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[st],y:rt,x:Y,transform:"rotate("+M+","+Y+","+rt+")"}).call(n.positionText,Y,rt)}};function p(h,b,m,g){var y,v;return v=Math.abs(m-h),m>=h?y=b-g:y=g-b,-180/Math.PI*Math.atan2(y,v)}function u(h,b,m,g,y,v,c){var d=y.label.textposition,_=y.label.textangle,w=y.label.padding,k=y.type,$=Math.PI/180*v,P=Math.sin($),O=Math.cos($),T=y.label.xanchor,X=y.label.yanchor,I,E,N,V;if(k==="line"){d==="start"?(I=h,E=b):d==="end"?(I=m,E=g):(I=(h+m)/2,E=(b+g)/2),T==="auto"&&(d==="start"?_==="auto"?m>h?T="left":m<h?T="right":T="center":m>h?T="right":m<h?T="left":T="center":d==="end"?_==="auto"?m>h?T="right":m<h?T="left":T="center":m>h?T="left":m<h?T="right":T="center":T="center");var U={left:1,center:0,right:-1},G={bottom:-1,middle:0,top:1};if(_==="auto"){var C=G[X];N=-w*P*C,V=w*O*C}else{var W=U[T],J=G[X];N=w*W,V=w*J}I=I+N,E=E+V}else N=w+3,d.indexOf("right")!==-1?(I=Math.max(h,m)-N,T==="auto"&&(T="right")):d.indexOf("left")!==-1?(I=Math.min(h,m)+N,T==="auto"&&(T="left")):(I=(h+m)/2,T==="auto"&&(T="center")),d.indexOf("top")!==-1?E=Math.min(b,g):d.indexOf("bottom")!==-1?E=Math.max(b,g):E=(b+g)/2,V=w,X==="bottom"?E=E-V:X==="top"&&(E=E+V);var at=e[X],et=y.label.font.size,it=c.height,dt=(it*at-et)*P,ht=-(it*at-et)*O;return{textx:I+dt,texty:E+ht,xanchor:T}}}),Gi=Dt((F,D)=>{var i=Ce(),t=i.strTranslate,n=Za(),r=Er(),l=r.drawMode,o=r.selectMode,s=un(),f=bn(),e=Yi(),p=e.i000,u=e.i090,h=e.i180,b=e.i270,m=cr(),g=m.clearOutlineControllers,y=dr(),v=y.pointsOnRectangle,c=y.pointsOnEllipse,d=y.writePaths,_=Ui().newShapes,w=Ui().createShapeObj,k=vl(),$=gl();D.exports=function X(I,E,N,V){V||(V=0);var U=N.gd;function G(){X(I,E,N,V++),(c(I[0])||N.hasText)&&C({redrawing:!0})}function C(Bt){var Ht={};N.isActiveShape!==void 0&&(N.isActiveShape=!1,Ht=_(E,N)),N.isActiveSelection!==void 0&&(N.isActiveSelection=!1,Ht=k(E,N),U._fullLayout._reselect=!0),Object.keys(Ht).length&&s.call((Bt||{}).redrawing?"relayout":"_guiRelayout",U,Ht)}var W=U._fullLayout,J=W._zoomlayer,at=N.dragmode,et=l(at),it=o(at);(et||it)&&(U._fullLayout._outlining=!0),g(U),E.attr("d",d(I));var dt,ht,xt,H,j;if(!V&&(N.isActiveShape||N.isActiveSelection)){j=P([],I);var A=J.append("g").attr("class","outline-controllers");rt(A),Xt()}if(et&&N.hasText){var q=J.select(".label-temp"),R=w(E,N,N.dragmode);$(U,"label-temp",R,q)}function z(Bt){xt=+Bt.srcElement.getAttribute("data-i"),H=+Bt.srcElement.getAttribute("data-j"),dt[xt][H].moveFn=M}function M(Bt,Ht){if(I.length){var pt=j[xt][H][1],bt=j[xt][H][2],ot=I[xt],Lt=ot.length;if(v(ot)){var Nt=Bt,Vt=Ht;if(N.isActiveSelection){var ae=O(ot,H);ae[1]===ot[H][1]?Vt=0:Nt=0}for(var Jt=0;Jt<Lt;Jt++)if(Jt!==H){var re=ot[Jt];re[1]===ot[H][1]&&(re[1]=pt+Nt),re[2]===ot[H][2]&&(re[2]=bt+Vt)}if(ot[H][1]=pt+Nt,ot[H][2]=bt+Vt,!v(ot))for(var oe=0;oe<Lt;oe++)for(var le=0;le<ot[oe].length;le++)ot[oe][le]=j[xt][oe][le]}else ot[H][1]=pt+Bt,ot[H][2]=bt+Ht;G()}}function S(){C()}function Z(){if(I.length&&I[xt]&&I[xt].length){for(var Bt=[],Ht=0;Ht<I[xt].length;Ht++)Ht!==H&&Bt.push(I[xt][Ht]);Bt.length>1&&!(Bt.length===2&&Bt[1][0]==="Z")&&(H===0&&(Bt[0][0]="M"),I[xt]=Bt,G(),C())}}function Y(Bt,Ht){if(Bt===2){xt=+Ht.srcElement.getAttribute("data-i"),H=+Ht.srcElement.getAttribute("data-j");var pt=I[xt];!v(pt)&&!c(pt)&&Z()}}function rt(Bt){dt=[];for(var Ht=0;Ht<I.length;Ht++){var pt=I[Ht],bt=v(pt),ot=!bt&&c(pt);dt[Ht]=[];for(var Lt=pt.length,Nt=0;Nt<Lt;Nt++)if(pt[Nt][0]!=="Z"&&!(ot&&Nt!==p&&Nt!==u&&Nt!==h&&Nt!==b)){var Vt=bt&&N.isActiveSelection,ae;Vt&&(ae=O(pt,Nt));var Jt=pt[Nt][1],re=pt[Nt][2],oe=Bt.append(Vt?"rect":"circle").attr("data-i",Ht).attr("data-j",Nt).style({fill:f.background,stroke:f.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(Vt){var le=ae[1]-Jt,ve=ae[2]-re,Wt=ve?5:Math.max(Math.min(25,Math.abs(le)-5),5),ge=le?5:Math.max(Math.min(25,Math.abs(ve)-5),5);oe.classed(ve?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",Wt).attr("height",ge).attr("x",Jt-Wt/2).attr("y",re-ge/2).attr("transform",t(le/2,ve/2))}else oe.classed("cursor-grab",!0).attr("r",5).attr("cx",Jt).attr("cy",re);dt[Ht][Nt]={element:oe.node(),gd:U,prepFn:z,doneFn:S,clickFn:Y},n.init(dt[Ht][Nt])}}}function st(Bt,Ht){if(I.length)for(var pt=0;pt<I.length;pt++)for(var bt=0;bt<I[pt].length;bt++)for(var ot=0;ot+2<I[pt][bt].length;ot+=2)I[pt][bt][ot+1]=j[pt][bt][ot+1]+Bt,I[pt][bt][ot+2]=j[pt][bt][ot+2]+Ht}function ut(Bt,Ht){st(Bt,Ht),G()}function _t(Bt){xt=+Bt.srcElement.getAttribute("data-i"),xt||(xt=0),ht[xt].moveFn=ut}function At(){C()}function Rt(Bt){Bt===2&&T(U)}function Xt(){if(ht=[],!!I.length){var Bt=0;ht[Bt]={element:E[0][0],gd:U,prepFn:_t,doneFn:At,clickFn:Rt},n.init(ht[Bt])}}};function P(X,I){for(var E=0;E<I.length;E++){var N=I[E];X[E]=[];for(var V=0;V<N.length;V++){X[E][V]=[];for(var U=0;U<N[V].length;U++)X[E][V][U]=N[V][U]}}return X}function O(X,I){var E=X[I][1],N=X[I][2],V=X.length,U,G,C;return U=(I+1)%V,G=X[U][1],C=X[U][2],G===E&&C===N&&(U=(I+2)%V,G=X[U][1],C=X[U][2]),[U,G,C]}function T(X){if(o(X._fullLayout.dragmode)){g(X);var I=X._fullLayout._activeSelectionIndex,E=(X.layout||{}).selections||[];if(I<E.length){for(var N=[],V=0;V<E.length;V++)V!==I&&N.push(E[V]);delete X._fullLayout._activeSelectionIndex;var U=X._fullLayout.selections[I];X._fullLayout._deselect={xref:U.xref,yref:U.yref},s.call("_guiRelayout",X,{selections:N})}}}}),Xi=Dt((F,D)=>{var i=_n(),t=un(),n=Ce(),r=Yn(),l=dr().readPaths,o=Gi(),s=gl(),f=cr().clearOutlineControllers,e=bn(),p=Nn(),u=jn().arrayEditor,h=Za(),b=fr(),m=Qr(),g=hr(),y=g.getPathString;D.exports={draw:v,drawOne:_,eraseActiveShape:T,drawLabel:s};function v(X){var I=X._fullLayout;I._shapeUpperLayer.selectAll("path").remove(),I._shapeLowerLayer.selectAll("path").remove(),I._shapeUpperLayer.selectAll("text").remove(),I._shapeLowerLayer.selectAll("text").remove();for(var E in I._plots){var N=I._plots[E].shapelayer;N&&(N.selectAll("path").remove(),N.selectAll("text").remove())}for(var V=0;V<I.shapes.length;V++)I.shapes[V].visible===!0&&_(X,V)}function c(X){return!!X._fullLayout._outlining}function d(X){return!X._context.edits.shapePosition}function _(X,I){X._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+I+'"]').remove();var E=g.makeShapesOptionsAndPlotinfo(X,I),N=E.options,V=E.plotinfo;if(!N._input||N.visible!==!0)return;if(N.layer==="above")G(X._fullLayout._shapeUpperLayer);else if(N.xref==="paper"||N.yref==="paper")G(X._fullLayout._shapeLowerLayer);else if(N.layer==="between")G(V.shapelayerBetween);else if(V._hadPlotinfo){var U=V.mainplotinfo||V;G(U.shapelayer)}else G(X._fullLayout._shapeLowerLayer);function G(C){var W=y(X,N),J={"data-index":I,"fill-rule":N.fillrule,d:W},at=N.opacity,et=N.fillcolor,it=N.line.width?N.line.color:"rgba(0,0,0,0)",dt=N.line.width,ht=N.line.dash;!dt&&N.editable===!0&&(dt=5,ht="solid");var xt=W[W.length-1]!=="Z",H=d(X)&&N.editable&&X._fullLayout._activeShapeIndex===I;H&&(et=xt?"rgba(0,0,0,0)":X._fullLayout.activeshape.fillcolor,at=X._fullLayout.activeshape.opacity);var j=C.append("g").classed("shape-group",!0).attr({"data-index":I}),A=j.append("path").attr(J).style("opacity",at).call(e.stroke,it).call(e.fill,et).call(p.dashLine,ht,dt);w(j,X,N),s(X,I,N,j);var q;if((H||X._context.edits.shapePosition)&&(q=u(X.layout,"shapes",N)),H){A.style({cursor:"move"});var R={element:A.node(),plotinfo:V,gd:X,editHelpers:q,hasText:N.label.text||N.label.texttemplate,isActiveShape:!0},z=l(W,X);o(z,A,R)}else X._context.edits.shapePosition?k(X,A,N,I,C,q):N.editable===!0&&A.style("pointer-events",xt||e.opacity(et)*at<=.5?"stroke":"all");A.node().addEventListener("click",function(){return P(X,A)})}}function w(X,I,E){var N=(E.xref+E.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");p.setClipUrl(X,N?"clip"+I._fullLayout._uid+N:null,I)}function k(X,I,E,N,V,U){var G=10,C=10,W=E.xsizemode==="pixel",J=E.ysizemode==="pixel",at=E.type==="line",et=E.type==="path",it=U.modifyItem,dt,ht,xt,H,j,A,q,R,z,M,S,Z,Y,rt,st,ut=i.select(I.node().parentNode),_t=r.getFromId(X,E.xref),At=r.getRefType(E.xref),Rt=r.getFromId(X,E.yref),Xt=r.getRefType(E.yref),Bt=E.x0shift,Ht=E.x1shift,pt=E.y0shift,bt=E.y1shift,ot=function(K,ft){var mt=g.getDataToPixel(X,_t,ft,!1,At);return mt(K)},Lt=function(K,ft){var mt=g.getDataToPixel(X,Rt,ft,!0,Xt);return mt(K)},Nt=g.getPixelToData(X,_t,!1,At),Vt=g.getPixelToData(X,Rt,!0,Xt),ae=oe(),Jt={element:ae.node(),gd:X,prepFn:Wt,doneFn:ge,clickFn:Te},re;h.init(Jt),ae.node().onmousemove=ve;function oe(){return at?le():I}function le(){var K=10,ft=Math.max(E.line.width,K),mt=V.append("g").attr("data-index",N).attr("drag-helper",!0);mt.append("path").attr("d",I.attr("d")).style({cursor:"move","stroke-width":ft,"stroke-opacity":"0"});var gt={"fill-opacity":"0"},It=Math.max(ft/2,K);return mt.append("circle").attr({"data-line-point":"start-point",cx:W?ot(E.xanchor)+E.x0:ot(E.x0,Bt),cy:J?Lt(E.yanchor)-E.y0:Lt(E.y0,pt),r:It}).style(gt).classed("cursor-grab",!0),mt.append("circle").attr({"data-line-point":"end-point",cx:W?ot(E.xanchor)+E.x1:ot(E.x1,Ht),cy:J?Lt(E.yanchor)-E.y1:Lt(E.y1,bt),r:It}).style(gt).classed("cursor-grab",!0),mt}function ve(K){if(c(X)){re=null;return}if(at)K.target.tagName==="path"?re="move":re=K.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var ft=Jt.element.getBoundingClientRect(),mt=ft.right-ft.left,gt=ft.bottom-ft.top,It=K.clientX-ft.left,Mt=K.clientY-ft.top,qt=!et&&mt>G&&gt>C&&!K.shiftKey?h.getCursor(It/mt,1-Mt/gt):"move";b(I,qt),re=qt.split("-")[0]}}function Wt(K){c(X)||(W&&(j=ot(E.xanchor)),J&&(A=Lt(E.yanchor)),E.type==="path"?st=E.path:(dt=W?E.x0:ot(E.x0),ht=J?E.y0:Lt(E.y0),xt=W?E.x1:ot(E.x1),H=J?E.y1:Lt(E.y1)),dt<xt?(z=dt,Y="x0",M=xt,rt="x1"):(z=xt,Y="x1",M=dt,rt="x0"),!J&&ht<H||J&&ht>H?(q=ht,S="y0",R=H,Z="y1"):(q=H,S="y1",R=ht,Z="y0"),ve(K),yt(V,E),Tt(I,E,X),Jt.moveFn=re==="move"?ce:we,Jt.altKey=K.altKey)}function ge(){c(X)||(b(I),kt(V),w(I,X,E),t.call("_guiRelayout",X,U.getUpdateObj()))}function Te(){c(X)||kt(V)}function ce(K,ft){if(E.type==="path"){var mt=function(Mt){return Mt},gt=mt,It=mt;W?it("xanchor",E.xanchor=Nt(j+K)):(gt=function(Mt){return Nt(ot(Mt)+K)},_t&&_t.type==="date"&&(gt=g.encodeDate(gt))),J?it("yanchor",E.yanchor=Vt(A+ft)):(It=function(Mt){return Vt(Lt(Mt)+ft)},Rt&&Rt.type==="date"&&(It=g.encodeDate(It))),it("path",E.path=$(st,gt,It))}else W?it("xanchor",E.xanchor=Nt(j+K)):(it("x0",E.x0=Nt(dt+K)),it("x1",E.x1=Nt(xt+K))),J?it("yanchor",E.yanchor=Vt(A+ft)):(it("y0",E.y0=Vt(ht+ft)),it("y1",E.y1=Vt(H+ft)));I.attr("d",y(X,E)),yt(V,E),s(X,N,E,ut)}function we(K,ft){if(et){var mt=function(Le){return Le},gt=mt,It=mt;W?it("xanchor",E.xanchor=Nt(j+K)):(gt=function(Le){return Nt(ot(Le)+K)},_t&&_t.type==="date"&&(gt=g.encodeDate(gt))),J?it("yanchor",E.yanchor=Vt(A+ft)):(It=function(Le){return Vt(Lt(Le)+ft)},Rt&&Rt.type==="date"&&(It=g.encodeDate(It))),it("path",E.path=$(st,gt,It))}else if(at){if(re==="resize-over-start-point"){var Mt=dt+K,qt=J?ht-ft:ht+ft;it("x0",E.x0=W?Mt:Nt(Mt)),it("y0",E.y0=J?qt:Vt(qt))}else if(re==="resize-over-end-point"){var $t=xt+K,ie=J?H-ft:H+ft;it("x1",E.x1=W?$t:Nt($t)),it("y1",E.y1=J?ie:Vt(ie))}}else{var zt=function(Le){return re.indexOf(Le)!==-1},ee=zt("n"),se=zt("s"),pe=zt("w"),De=zt("e"),Ne=ee?q+ft:q,Ge=se?R+ft:R,Pe=pe?z+K:z,ze=De?M+K:M;J&&(ee&&(Ne=q-ft),se&&(Ge=R-ft)),(!J&&Ge-Ne>C||J&&Ne-Ge>C)&&(it(S,E[S]=J?Ne:Vt(Ne)),it(Z,E[Z]=J?Ge:Vt(Ge))),ze-Pe>G&&(it(Y,E[Y]=W?Pe:Nt(Pe)),it(rt,E[rt]=W?ze:Nt(ze)))}I.attr("d",y(X,E)),yt(V,E),s(X,N,E,ut)}function yt(K,ft){(W||J)&&mt();function mt(){var gt=ft.type!=="path",It=K.selectAll(".visual-cue").data([0]),Mt=1;It.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":Mt}).classed("visual-cue",!0);var qt=ot(W?ft.xanchor:n.midRange(gt?[ft.x0,ft.x1]:g.extractPathCoords(ft.path,m.paramIsX))),$t=Lt(J?ft.yanchor:n.midRange(gt?[ft.y0,ft.y1]:g.extractPathCoords(ft.path,m.paramIsY)));if(qt=g.roundPositionForSharpStrokeRendering(qt,Mt),$t=g.roundPositionForSharpStrokeRendering($t,Mt),W&&J){var ie="M"+(qt-1-Mt)+","+($t-1-Mt)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";It.attr("d",ie)}else if(W){var zt="M"+(qt-1-Mt)+","+($t-9-Mt)+"v18 h2 v-18 Z";It.attr("d",zt)}else{var ee="M"+(qt-9-Mt)+","+($t-1-Mt)+"h18 v2 h-18 Z";It.attr("d",ee)}}}function kt(K){K.selectAll(".visual-cue").remove()}function Tt(K,ft,mt){var gt=ft.xref,It=ft.yref,Mt=r.getFromId(mt,gt),qt=r.getFromId(mt,It),$t="";gt!=="paper"&&!Mt.autorange&&($t+=gt),It!=="paper"&&!qt.autorange&&($t+=It),p.setClipUrl(K,$t?"clip"+mt._fullLayout._uid+$t:null,mt)}}function $(X,I,E){return X.replace(m.segmentRE,function(N){var V=0,U=N.charAt(0),G=m.paramIsX[U],C=m.paramIsY[U],W=m.numParams[U],J=N.substr(1).replace(m.paramRE,function(at){return V>=W||(G[V]?at=I(at):C[V]&&(at=E(at)),V++),at});return U+J})}function P(X,I){if(d(X)){var E=I.node(),N=+E.getAttribute("data-index");if(N>=0){if(N===X._fullLayout._activeShapeIndex){O(X);return}X._fullLayout._activeShapeIndex=N,X._fullLayout._deactivateShape=O,v(X)}}}function O(X){if(d(X)){var I=X._fullLayout._activeShapeIndex;I>=0&&(f(X),delete X._fullLayout._activeShapeIndex,v(X))}}function T(X){if(d(X)){f(X);var I=X._fullLayout._activeShapeIndex,E=(X.layout||{}).shapes||[];if(I<E.length){for(var N=[],V=0;V<E.length;V++)V!==I&&N.push(E[V]);return delete X._fullLayout._activeShapeIndex,t.call("_guiRelayout",X,{shapes:N})}}}}),yl=Dt((F,D)=>{var i=un(),t=ea(),n=ua(),r=Vi(),l=Xi().eraseActiveShape,o=Ce(),s=o._,f=D.exports={};f.toImage={name:"toImage",title:function(k){var $=k._context.toImageButtonOptions||{},P=$.format||"png";return P==="png"?s(k,"Download plot as a png"):s(k,"Download plot")},icon:r.camera,click:function(k){var $=k._context.toImageButtonOptions,P={format:$.format||"png"};o.notifier(s(k,"Taking snapshot - this may take a few seconds"),"long"),["filename","width","height","scale"].forEach(function(O){O in $&&(P[O]=$[O])}),i.call("downloadImage",k,P).then(function(O){o.notifier(s(k,"Snapshot succeeded")+" - "+O,"long")}).catch(function(){o.notifier(s(k,"Sorry, there was a problem downloading your snapshot!"),"long")})}},f.sendDataToCloud={name:"sendDataToCloud",title:function(k){return s(k,"Edit in Chart Studio")},icon:r.disk,click:function(k){t.sendDataToCloud(k)}},f.editInChartStudio={name:"editInChartStudio",title:function(k){return s(k,"Edit in Chart Studio")},icon:r.pencil,click:function(k){t.sendDataToCloud(k)}},f.zoom2d={name:"zoom2d",_cat:"zoom",title:function(k){return s(k,"Zoom")},attr:"dragmode",val:"zoom",icon:r.zoombox,click:e},f.pan2d={name:"pan2d",_cat:"pan",title:function(k){return s(k,"Pan")},attr:"dragmode",val:"pan",icon:r.pan,click:e},f.select2d={name:"select2d",_cat:"select",title:function(k){return s(k,"Box Select")},attr:"dragmode",val:"select",icon:r.selectbox,click:e},f.lasso2d={name:"lasso2d",_cat:"lasso",title:function(k){return s(k,"Lasso Select")},attr:"dragmode",val:"lasso",icon:r.lasso,click:e},f.drawclosedpath={name:"drawclosedpath",title:function(k){return s(k,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:r.drawclosedpath,click:e},f.drawopenpath={name:"drawopenpath",title:function(k){return s(k,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:r.drawopenpath,click:e},f.drawline={name:"drawline",title:function(k){return s(k,"Draw line")},attr:"dragmode",val:"drawline",icon:r.drawline,click:e},f.drawrect={name:"drawrect",title:function(k){return s(k,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:r.drawrect,click:e},f.drawcircle={name:"drawcircle",title:function(k){return s(k,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:r.drawcircle,click:e},f.eraseshape={name:"eraseshape",title:function(k){return s(k,"Erase active shape")},icon:r.eraseshape,click:l},f.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(k){return s(k,"Zoom in")},attr:"zoom",val:"in",icon:r.zoom_plus,click:e},f.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(k){return s(k,"Zoom out")},attr:"zoom",val:"out",icon:r.zoom_minus,click:e},f.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(k){return s(k,"Autoscale")},attr:"zoom",val:"auto",icon:r.autoscale,click:e},f.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(k){return s(k,"Reset axes")},attr:"zoom",val:"reset",icon:r.home,click:e},f.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(k){return s(k,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:r.tooltip_basic,gravity:"ne",click:e},f.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(k){return s(k,"Compare data on hover")},attr:"hovermode",val:function(k){return k._fullLayout._isHoriz?"y":"x"},icon:r.tooltip_compare,gravity:"ne",click:e};function e(k,$){var P=$.currentTarget,O=P.getAttribute("data-attr"),T=P.getAttribute("data-val")||!0,X=k._fullLayout,I={},E=n.list(k,null,!0),N=X._cartesianSpikesEnabled,V,U;if(O==="zoom"){var G=T==="in"?.5:2,C=(1+G)/2,W=(1-G)/2,J;for(U=0;U<E.length;U++)if(V=E[U],!V.fixedrange)if(J=V._name,T==="auto")I[J+".autorange"]=!0;else if(T==="reset")V._rangeInitial0===void 0&&V._rangeInitial1===void 0?I[J+".autorange"]=!0:V._rangeInitial0===void 0?(I[J+".autorange"]=V._autorangeInitial,I[J+".range"]=[null,V._rangeInitial1]):V._rangeInitial1===void 0?(I[J+".range"]=[V._rangeInitial0,null],I[J+".autorange"]=V._autorangeInitial):I[J+".range"]=[V._rangeInitial0,V._rangeInitial1],V._showSpikeInitial!==void 0&&(I[J+".showspikes"]=V._showSpikeInitial,N==="on"&&!V._showSpikeInitial&&(N="off"));else{var at=[V.r2l(V.range[0]),V.r2l(V.range[1])],et=[C*at[0]+W*at[1],C*at[1]+W*at[0]];I[J+".range[0]"]=V.l2r(et[0]),I[J+".range[1]"]=V.l2r(et[1])}}else O==="hovermode"&&(T==="x"||T==="y")&&(T=X._isHoriz?"y":"x",P.setAttribute("data-val",T)),I[O]=T;X._cartesianSpikesEnabled=N,i.call("_guiRelayout",k,I)}f.zoom3d={name:"zoom3d",_cat:"zoom",title:function(k){return s(k,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:r.zoombox,click:p},f.pan3d={name:"pan3d",_cat:"pan",title:function(k){return s(k,"Pan")},attr:"scene.dragmode",val:"pan",icon:r.pan,click:p},f.orbitRotation={name:"orbitRotation",title:function(k){return s(k,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:r["3d_rotate"],click:p},f.tableRotation={name:"tableRotation",title:function(k){return s(k,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:r["z-axis"],click:p};function p(k,$){for(var P=$.currentTarget,O=P.getAttribute("data-attr"),T=P.getAttribute("data-val")||!0,X=k._fullLayout._subplots.gl3d||[],I={},E=O.split("."),N=0;N<X.length;N++)I[X[N]+"."+E[1]]=T;var V=T==="pan"?T:"zoom";I.dragmode=V,i.call("_guiRelayout",k,I)}f.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(k){return s(k,"Reset camera to default")},attr:"resetDefault",icon:r.home,click:u},f.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(k){return s(k,"Reset camera to last save")},attr:"resetLastSave",icon:r.movie,click:u};function u(k,$){for(var P=$.currentTarget,O=P.getAttribute("data-attr"),T=O==="resetLastSave",X=O==="resetDefault",I=k._fullLayout,E=I._subplots.gl3d||[],N={},V=0;V<E.length;V++){var U=E[V],G=U+".camera",C=U+".aspectratio",W=U+".aspectmode",J=I[U]._scene,at;T?(N[G+".up"]=J.viewInitial.up,N[G+".eye"]=J.viewInitial.eye,N[G+".center"]=J.viewInitial.center,at=!0):X&&(N[G+".up"]=null,N[G+".eye"]=null,N[G+".center"]=null,at=!0),at&&(N[C+".x"]=J.viewInitial.aspectratio.x,N[C+".y"]=J.viewInitial.aspectratio.y,N[C+".z"]=J.viewInitial.aspectratio.z,N[W]=J.viewInitial.aspectmode)}i.call("_guiRelayout",k,N)}f.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(k){return s(k,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:r.tooltip_basic,gravity:"ne",click:b};function h(k,$){var P=$.currentTarget,O=P._previousVal,T=k._fullLayout,X=T._subplots.gl3d||[],I=["xaxis","yaxis","zaxis"],E={},N={};if(O)N=O,P._previousVal=null;else{for(var V=0;V<X.length;V++){var U=X[V],G=T[U],C=U+".hovermode";E[C]=G.hovermode,N[C]=!1;for(var W=0;W<3;W++){var J=I[W],at=U+"."+J+".showspikes";N[at]=!1,E[at]=G[J].showspikes}}P._previousVal=E}return N}function b(k,$){var P=h(k,$);i.call("_guiRelayout",k,P)}f.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(k){return s(k,"Zoom in")},attr:"zoom",val:"in",icon:r.zoom_plus,click:m},f.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(k){return s(k,"Zoom out")},attr:"zoom",val:"out",icon:r.zoom_minus,click:m},f.resetGeo={name:"resetGeo",_cat:"reset",title:function(k){return s(k,"Reset")},attr:"reset",val:null,icon:r.autoscale,click:m},f.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(k){return s(k,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:r.tooltip_basic,gravity:"ne",click:y};function m(k,$){for(var P=$.currentTarget,O=P.getAttribute("data-attr"),T=P.getAttribute("data-val")||!0,X=k._fullLayout,I=X._subplots.geo||[],E=0;E<I.length;E++){var N=I[E],V=X[N];if(O==="zoom"){var U=V.projection.scale,G=T==="in"?2*U:.5*U;i.call("_guiRelayout",k,N+".projection.scale",G)}}O==="reset"&&w(k,"geo")}f.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(k){return s(k,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:r.tooltip_basic,gravity:"ne",click:y};function g(k){var $=k._fullLayout;return $.hovermode?!1:$._has("cartesian")?$._isHoriz?"y":"x":"closest"}function y(k){var $=g(k);i.call("_guiRelayout",k,"hovermode",$)}f.resetViewSankey={name:"resetSankeyGroup",title:function(k){return s(k,"Reset view")},icon:r.home,click:function(k){for(var $={"node.groups":[],"node.x":[],"node.y":[]},P=0;P<k._fullData.length;P++){var O=k._fullData[P]._viewInitial;$["node.groups"].push(O.node.groups.slice()),$["node.x"].push(O.node.x.slice()),$["node.y"].push(O.node.y.slice())}i.call("restyle",k,$)}},f.toggleHover={name:"toggleHover",title:function(k){return s(k,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:r.tooltip_basic,gravity:"ne",click:function(k,$){var P=h(k,$);P.hovermode=g(k),i.call("_guiRelayout",k,P)}},f.resetViews={name:"resetViews",title:function(k){return s(k,"Reset views")},icon:r.home,click:function(k,$){var P=$.currentTarget;P.setAttribute("data-attr","zoom"),P.setAttribute("data-val","reset"),e(k,$),P.setAttribute("data-attr","resetLastSave"),u(k,$),w(k,"geo"),w(k,"mapbox"),w(k,"map")}},f.toggleSpikelines={name:"toggleSpikelines",title:function(k){return s(k,"Toggle Spike Lines")},icon:r.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(k){var $=k._fullLayout,P=$._cartesianSpikesEnabled;$._cartesianSpikesEnabled=P==="on"?"off":"on",i.call("_guiRelayout",k,v(k))}};function v(k){for(var $=k._fullLayout,P=$._cartesianSpikesEnabled==="on",O=n.list(k,null,!0),T={},X=0;X<O.length;X++){var I=O[X];T[I._name+".showspikes"]=P?!0:I._showSpikeInitial}return T}f.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(k){return s(k,"Reset view")},attr:"reset",icon:r.home,click:function(k){w(k,"mapbox")}},f.resetViewMap={name:"resetViewMap",_cat:"resetView",title:function(k){return s(k,"Reset view")},attr:"reset",icon:r.home,click:function(k){w(k,"map")}},f.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(k){return s(k,"Zoom in")},attr:"zoom",val:"in",icon:r.zoom_plus,click:c},f.zoomInMap={name:"zoomInMap",_cat:"zoomin",title:function(k){return s(k,"Zoom in")},attr:"zoom",val:"in",icon:r.zoom_plus,click:d},f.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(k){return s(k,"Zoom out")},attr:"zoom",val:"out",icon:r.zoom_minus,click:c},f.zoomOutMap={name:"zoomOutMap",_cat:"zoomout",title:function(k){return s(k,"Zoom out")},attr:"zoom",val:"out",icon:r.zoom_minus,click:d};function c(k,$){_(k,$,"mapbox")}function d(k,$){_(k,$,"map")}function _(k,$,P){for(var O=$.currentTarget,T=O.getAttribute("data-val"),X=k._fullLayout,I=X._subplots[P]||[],E=1.05,N={},V=0;V<I.length;V++){var U=I[V],G=X[U].zoom,C=T==="in"?E*G:G/E;N[U+".zoom"]=C}i.call("_guiRelayout",k,N)}function w(k,$){for(var P=k._fullLayout,O=P._subplots[$]||[],T={},X=0;X<O.length;X++)for(var I=O[X],E=P[I]._subplot,N=E.viewInitial,V=Object.keys(N),U=0;U<V.length;U++){var G=V[U];T[I+"."+G]=N[G]}i.call("_guiRelayout",k,T)}}),ml=Dt((F,D)=>{var i=yl(),t=Object.keys(i),n=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],r=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(n),l=[],o=function(s){if(r.indexOf(s._cat||s.name)===-1){var f=s.name,e=(s._cat||s.name).toLowerCase();l.indexOf(f)===-1&&l.push(f),l.indexOf(e)===-1&&l.push(e)}};t.forEach(function(s){o(i[s])}),l.sort(),D.exports={DRAW_MODES:n,backButtons:r,foreButtons:l}}),xl=Dt((F,D)=>{ml(),D.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}}),Lc=Dt((F,D)=>{var i=Ce(),t=bn(),n=jn(),r=xl();D.exports=function(l,o){var s=l.modebar||{},f=n.newContainer(o,"modebar");function e(u,h){return i.coerce(s,f,r,u,h)}e("orientation"),e("bgcolor",t.addOpacity(o.paper_bgcolor,.5));var p=t.contrast(t.rgb(o.modebar.bgcolor));e("color",t.addOpacity(p,.3)),e("activecolor",t.addOpacity(p,.7)),e("uirevision",o.uirevision),e("add"),e("remove")}}),Sc=Dt((F,D)=>{var i=_n(),t=wn(),n=Ce(),r=Vi(),l=_i().version,o=new DOMParser;function s(u){this.container=u.container,this.element=document.createElement("div"),this.update(u.graphInfo,u.buttons),this.container.appendChild(this.element)}var f=s.prototype;f.update=function(u,h){this.graphInfo=u;var b=this.graphInfo._context,m=this.graphInfo._fullLayout,g="modebar-"+m._uid;this.element.setAttribute("id",g),this._uid=g,this.element.className="modebar",b.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),m.modebar.orientation==="v"&&(this.element.className+=" vertical",h=h.reverse());var y=m.modebar,v="#"+g+" .modebar-group";document.querySelectorAll(v).forEach(function(k){k.style.backgroundColor=y.bgcolor});var c=!this.hasButtons(h),d=this.hasLogo!==b.displaylogo,_=this.locale!==b.locale;if(this.locale=b.locale,(c||d||_)&&(this.removeAllButtons(),this.updateButtons(h),b.watermark||b.displaylogo)){var w=this.getLogo();b.watermark&&(w.className=w.className+" watermark"),m.modebar.orientation==="v"?this.element.insertBefore(w,this.element.childNodes[0]):this.element.appendChild(w),this.hasLogo=!0}this.updateActiveButton(),n.setStyleOnHover("#"+g+" .modebar-btn",".active",".icon path","fill: "+y.activecolor,"fill: "+y.color,this.element)},f.updateButtons=function(u){var h=this;this.buttons=u,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(b){var m=h.createGroup();b.forEach(function(g){var y=g.name;if(!y)throw new Error("must provide button 'name' in button config");if(h.buttonsNames.indexOf(y)!==-1)throw new Error("button name '"+y+"' is taken");h.buttonsNames.push(y);var v=h.createButton(g);h.buttonElements.push(v),m.appendChild(v)}),h.element.appendChild(m)})},f.createGroup=function(){var u=document.createElement("div");u.className="modebar-group";var h=this.graphInfo._fullLayout.modebar;return u.style.backgroundColor=h.bgcolor,u},f.createButton=function(u){var h=this,b=document.createElement("a");b.setAttribute("rel","tooltip"),b.className="modebar-btn";var m=u.title;m===void 0?m=u.name:typeof m=="function"&&(m=m(this.graphInfo)),(m||m===0)&&b.setAttribute("data-title",m),u.attr!==void 0&&b.setAttribute("data-attr",u.attr);var g=u.val;g!==void 0&&(typeof g=="function"&&(g=g(this.graphInfo)),b.setAttribute("data-val",g));var y=u.click;if(typeof y!="function")throw new Error("must provide button 'click' function in button config");b.addEventListener("click",function(c){u.click(h.graphInfo,c),h.updateActiveButton(c.currentTarget)}),b.setAttribute("data-toggle",u.toggle||!1),u.toggle&&i.select(b).classed("active",!0);var v=u.icon;return typeof v=="function"?b.appendChild(v()):b.appendChild(this.createIcon(v||r.question)),b.setAttribute("data-gravity",u.gravity||"n"),b},f.createIcon=function(u){var h=t(u.height)?Number(u.height):u.ascent-u.descent,b="http://www.w3.org/2000/svg",m;if(u.path){m=document.createElementNS(b,"svg"),m.setAttribute("viewBox",[0,0,u.width,h].join(" ")),m.setAttribute("class","icon");var g=document.createElementNS(b,"path");g.setAttribute("d",u.path),u.transform?g.setAttribute("transform",u.transform):u.ascent!==void 0&&g.setAttribute("transform","matrix(1 0 0 -1 0 "+u.ascent+")"),m.appendChild(g)}if(u.svg){var y=o.parseFromString(u.svg,"application/xml");m=y.childNodes[0]}return m.setAttribute("height","1em"),m.setAttribute("width","1em"),m},f.updateActiveButton=function(u){var h=this.graphInfo._fullLayout,b=u!==void 0?u.getAttribute("data-attr"):null;this.buttonElements.forEach(function(m){var g=m.getAttribute("data-val")||!0,y=m.getAttribute("data-attr"),v=m.getAttribute("data-toggle")==="true",c=i.select(m),d=function(k,$){var P=h.modebar,O=k.querySelector(".icon path");O&&($||k.matches(":hover")?O.style.fill=P.activecolor:O.style.fill=P.color)};if(v){if(y===b){var _=!c.classed("active");c.classed("active",_),d(m,_)}}else{var w=y===null?y:n.nestedProperty(h,y).get();c.classed("active",w===g),d(m,w===g)}})},f.hasButtons=function(u){var h=this.buttons;if(!h||u.length!==h.length)return!1;for(var b=0;b<u.length;++b){if(u[b].length!==h[b].length)return!1;for(var m=0;m<u[b].length;m++)if(u[b][m].name!==h[b][m].name)return!1}return!0};function e(u){return u+" (v"+l+")"}f.getLogo=function(){var u=this.createGroup(),h=document.createElement("a");return h.href="https://plotly.com/",h.target="_blank",h.setAttribute("data-title",e(n._(this.graphInfo,"Produced with Plotly.js"))),h.className="modebar-btn plotlyjsicon modebar-btn--logo",h.appendChild(this.createIcon(r.newplotlylogo)),u.appendChild(h),u},f.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},f.destroy=function(){n.removeElement(this.container.querySelector(".modebar"))};function p(u,h){var b=u._fullLayout,m=new s({graphInfo:u,container:b._modebardiv.node(),buttons:h});return b._privateplot&&i.select(m.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),m}D.exports=p}),Oc=Dt((F,D)=>{var i=ua(),t=Pa(),n=un(),r=Qa().isUnifiedHover,l=Sc(),o=yl(),s=ml().DRAW_MODES,f=Ce().extendDeep;D.exports=function(g){var y=g._fullLayout,v=g._context,c=y._modeBar;if(!v.displayModeBar&&!v.watermark){c&&(c.destroy(),delete y._modeBar);return}if(!Array.isArray(v.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(v.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var d=v.modeBarButtons,_;Array.isArray(d)&&d.length?_=m(d):!v.displayModeBar&&v.watermark?_=[]:_=e(g),c?c.update(g,_):y._modeBar=l(g,_)};function e(g){var y=g._fullLayout,v=g._fullData,c=g._context;function d(M,S){if(typeof S=="string"){if(S.toLowerCase()===M.toLowerCase())return!0}else{var Z=S.name,Y=S._cat||S.name;if(Z===M||Y===M.toLowerCase())return!0}return!1}var _=y.modebar.add;typeof _=="string"&&(_=[_]);var w=y.modebar.remove;typeof w=="string"&&(w=[w]);var k=c.modeBarButtonsToAdd.concat(_.filter(function(M){for(var S=0;S<c.modeBarButtonsToRemove.length;S++)if(d(M,c.modeBarButtonsToRemove[S]))return!1;return!0})),$=c.modeBarButtonsToRemove.concat(w.filter(function(M){for(var S=0;S<c.modeBarButtonsToAdd.length;S++)if(d(M,c.modeBarButtonsToAdd[S]))return!1;return!0})),P=y._has("cartesian"),O=y._has("gl3d"),T=y._has("geo"),X=y._has("pie"),I=y._has("funnelarea"),E=y._has("ternary"),N=y._has("mapbox"),V=y._has("map"),U=y._has("polar"),G=y._has("smith"),C=y._has("sankey"),W=p(y),J=r(y.hovermode),at=[];function et(M){if(M.length){for(var S=[],Z=0;Z<M.length;Z++){for(var Y=M[Z],rt=o[Y],st=rt.name.toLowerCase(),ut=(rt._cat||rt.name).toLowerCase(),_t=!1,At=0;At<$.length;At++){var Rt=$[At].toLowerCase();if(Rt===st||Rt===ut){_t=!0;break}}_t||S.push(o[Y])}at.push(S)}}var it=["toImage"];c.showEditInChartStudio?it.push("editInChartStudio"):c.showSendToCloud&&it.push("sendDataToCloud"),et(it);var dt=[],ht=[],xt=[],H=[];(P||X||I||E)+T+O+N+V+U+G>1?(ht=["toggleHover"],xt=["resetViews"]):T?(dt=["zoomInGeo","zoomOutGeo"],ht=["hoverClosestGeo"],xt=["resetGeo"]):O?(ht=["hoverClosest3d"],xt=["resetCameraDefault3d","resetCameraLastSave3d"]):N?(dt=["zoomInMapbox","zoomOutMapbox"],ht=["toggleHover"],xt=["resetViewMapbox"]):V?(dt=["zoomInMap","zoomOutMap"],ht=["toggleHover"],xt=["resetViewMap"]):X?ht=["hoverClosestPie"]:C?(ht=["hoverClosestCartesian","hoverCompareCartesian"],xt=["resetViewSankey"]):ht=["toggleHover"],P&&ht.push("toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"),(h(v)||J)&&(ht=[]),P&&!W&&(dt=["zoomIn2d","zoomOut2d","autoScale2d"],xt[0]!=="resetViews"&&(xt=["resetScale2d"])),O?H=["zoom3d","pan3d","orbitRotation","tableRotation"]:P&&!W||E?H=["zoom2d","pan2d"]:N||V||T?H=["pan2d"]:U&&(H=["zoom2d"]),u(v)&&H.push("select2d","lasso2d");var j=[],A=function(M){j.indexOf(M)===-1&&ht.indexOf(M)!==-1&&j.push(M)};if(Array.isArray(k)){for(var q=[],R=0;R<k.length;R++){var z=k[R];typeof z=="string"?(z=z.toLowerCase(),s.indexOf(z)!==-1?(y._has("mapbox")||y._has("map")||y._has("cartesian"))&&H.push(z):z==="togglespikelines"?A("toggleSpikelines"):z==="togglehover"?A("toggleHover"):z==="hovercompare"?A("hoverCompareCartesian"):z==="hoverclosest"?(A("hoverClosestCartesian"),A("hoverClosestGeo"),A("hoverClosest3d"),A("hoverClosestPie")):z==="v1hovermode"&&(A("hoverClosestCartesian"),A("hoverCompareCartesian"),A("hoverClosestGeo"),A("hoverClosest3d"),A("hoverClosestPie"))):q.push(z)}k=q}return et(H),et(dt.concat(xt)),et(j),b(at,k)}function p(g){for(var y=i.list({_fullLayout:g},null,!0),v=0;v<y.length;v++)if(!y[v].fixedrange)return!1;return!0}function u(g){for(var y=!1,v=0;v<g.length&&!y;v++){var c=g[v];!c._module||!c._module.selectPoints||(n.traceIs(c,"scatter-like")?(t.hasMarkers(c)||t.hasText(c))&&(y=!0):n.traceIs(c,"box-violin")?(c.boxpoints==="all"||c.points==="all")&&(y=!0):y=!0)}return y}function h(g){for(var y=0;y<g.length;y++)if(!n.traceIs(g[y],"noHover"))return!1;return!0}function b(g,y){if(y.length)if(Array.isArray(y[0]))for(var v=0;v<y.length;v++)g.push(y[v]);else g.push(y);return g}function m(g){for(var y=f([],g),v=0;v<y.length;v++)for(var c=y[v],d=0;d<c.length;d++){var _=c[d];if(typeof _=="string")if(o[_]!==void 0)y[v][d]=o[_];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return y}}),bl=Dt((F,D)=>{D.exports={moduleType:"component",name:"modebar",layoutAttributes:xl(),supplyLayoutDefaults:Lc(),manage:Oc()}}),_l=Dt((F,D)=>{var i=Ta().FROM_BL;D.exports=function(t,n,r){r===void 0&&(r=i[t.constraintoward||"center"]);var l=[t.r2l(t.range[0]),t.r2l(t.range[1])],o=l[0]+(l[1]-l[0])*r;t.range=t._input.range=[t.l2r(o+(l[0]-o)*n),t.l2r(o+(l[1]-o)*n)],t.setScale()}}),Kr=Dt(F=>{var D=Ce(),i=$r(),t=ua().id2name,n=Va(),r=_l(),l=Ni(),o=oa().ALMOST_EQUAL,s=Ta().FROM_BL;F.handleDefaults=function(g,y,v){var c=v.axIds,d=v.axHasImage,_=y._axisConstraintGroups=[],w=y._axisMatchGroups=[],k,$,P,O,T,X,I,E;for(k=0;k<c.length;k++)O=t(c[k]),T=g[O],X=y[O],f(T,X,{axIds:c,layoutOut:y,hasImage:d[O]});function N(it,dt){for(k=0;k<it.length;k++){$=it[k];for(P in $)y[t(P)][dt]=$}}for(N(w,"_matchGroup"),k=0;k<_.length;k++){$=_[k];for(P in $)if(X=y[t(P)],X.fixedrange){for(var V in $){var U=t(V);(g[U]||{}).fixedrange===!1&&D.warn("fixedrange was specified as false for axis "+U+" but was overridden because another axis in its constraint group has fixedrange true"),y[U].fixedrange=!0}break}}for(k=0;k<_.length;){$=_[k];for(P in $){X=y[t(P)],X._matchGroup&&Object.keys(X._matchGroup).length===Object.keys($).length&&(_.splice(k,1),k--);break}k++}N(_,"_constraintGroup");var G=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],C=!1,W=!1;function J(){E=X[I],I==="rangebreaks"&&(W=X._hasDayOfWeekBreaks)}for(k=0;k<w.length;k++){$=w[k];for(var at=0;at<G.length;at++){I=G[at],E=null;var et;for(P in $)if(O=t(P),T=g[O],X=y[O],I in X){if(!X.matches&&(et=X,I in T)){J();break}E===null&&I in T&&J()}if(I==="range"&&E&&T.range&&T.range.length===2&&T.range[0]!==null&&T.range[1]!==null&&(C=!0),I==="autorange"&&E===null&&C&&(E=!1),E===null&&I in et&&(E=et[I]),E!==null)for(P in $)X=y[t(P)],X[I]=I==="range"?E.slice():E,I==="rangebreaks"&&(X._hasDayOfWeekBreaks=W,l(X,y))}}};function f(g,y,v){var c=v.axIds,d=v.layoutOut,_=v.hasImage,w=d._axisConstraintGroups,k=d._axisMatchGroups,$=y._id,P=$.charAt(0),O=((d._splomAxes||{})[P]||{})[$]||{},T=y._id,X=T.charAt(0)==="x";y._matchGroup=null,y._constraintGroup=null;function I(H,j){return D.coerce(g,y,n,H,j)}I("constrain",_?"domain":"range"),D.coerce(g,y,{constraintoward:{valType:"enumerated",values:X?["left","center","right"]:["bottom","middle","top"],dflt:X?"center":"middle"}},"constraintoward");var E=y.type,N,V,U=[];for(N=0;N<c.length;N++)if(V=c[N],V!==T){var G=d[t(V)];G.type===E&&U.push(V)}var C=p(w,T);if(C){var W=[];for(N=0;N<U.length;N++)V=U[N],C[V]||W.push(V);U=W}var J=U.length,at,et;J&&(g.matches||O.matches)&&(at=D.coerce(g,y,{matches:{valType:"enumerated",values:U,dflt:U.indexOf(O.matches)!==-1?O.matches:void 0}},"matches"));var it=_&&!X?y.anchor:void 0;if(J&&!at&&(g.scaleanchor||it)&&(et=D.coerce(g,y,{scaleanchor:{valType:"enumerated",values:U.concat([!1])}},"scaleanchor",it)),at){y._matchGroup=u(k,T,at,1);var dt=d[t(at)],ht=e(d,y)/e(d,dt);X!==(at.charAt(0)==="x")&&(ht=(X?"x":"y")+ht),u(w,T,at,ht)}else g.matches&&c.indexOf(g.matches)!==-1&&D.warn("ignored "+y._name+'.matches: "'+g.matches+'" to avoid an infinite loop');if(et){var xt=I("scaleratio");xt||(xt=y.scaleratio=1),u(w,T,et,xt)}else g.scaleanchor&&c.indexOf(g.scaleanchor)!==-1&&D.warn("ignored "+y._name+'.scaleanchor: "'+g.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function e(g,y){var v=y.domain;return v||(v=g[t(y.overlaying)].domain),v[1]-v[0]}function p(g,y){for(var v=0;v<g.length;v++)if(g[v][y])return g[v];return null}function u(g,y,v,c){var d,_,w,k,$,P=p(g,y);P===null?(P={},P[y]=1,$=g.length,g.push(P)):$=g.indexOf(P);var O=Object.keys(P);for(d=0;d<g.length;d++)if(w=g[d],d!==$&&w[v]){var T=w[v];for(_=0;_<O.length;_++)k=O[_],w[k]=h(T,h(c,P[k]));g.splice($,1);return}if(c!==1)for(_=0;_<O.length;_++){var X=O[_];P[X]=h(c,P[X])}P[v]=1}function h(g,y){var v="",c="",d,_;typeof g=="string"&&(v=g.match(/^[xy]*/)[0],d=v.length,g=+g.substr(d)),typeof y=="string"&&(c=y.match(/^[xy]*/)[0],_=c.length,y=+y.substr(_));var w=g*y;return!d&&!_?w:!d||!_||v.charAt(0)===c.charAt(0)?v+c+g*y:d===_?w:(d>_?v.substr(_):c.substr(d))+w}function b(g,y){for(var v=y._size,c=v.h/v.w,d={},_=Object.keys(g),w=0;w<_.length;w++){var k=_[w],$=g[k];if(typeof $=="string"){var P=$.match(/^[xy]*/)[0],O=P.length;$=+$.substr(O);for(var T=P.charAt(0)==="y"?c:1/c,X=0;X<O;X++)$*=T}d[k]=$}return d}F.enforce=function(g){var y=g._fullLayout,v=y._axisConstraintGroups||[],c,d,_,w,k,$,P,O;for(c=0;c<v.length;c++){_=b(v[c],y);var T=Object.keys(_),X=1/0,I=0,E=1/0,N={},V={},U=!1;for(d=0;d<T.length;d++)w=T[d],V[w]=k=y[t(w)],k._inputDomain?k.domain=k._inputDomain.slice():k._inputDomain=k.domain.slice(),k._inputRange||(k._inputRange=k.range.slice()),k.setScale(),N[w]=$=Math.abs(k._m)/_[w],X=Math.min(X,$),(k.constrain==="domain"||!k._constraintShrinkable)&&(E=Math.min(E,$)),delete k._constraintShrinkable,I=Math.max(I,$),k.constrain==="domain"&&(U=!0);if(!(X>o*I&&!U)){for(d=0;d<T.length;d++)if(w=T[d],$=N[w],k=V[w],P=k.constrain,$!==E||P==="domain")if(O=$/E,P==="range")r(k,O);else{var G=k._inputDomain,C=(k.domain[1]-k.domain[0])/(G[1]-G[0]),W=(k.r2l(k.range[1])-k.r2l(k.range[0]))/(k.r2l(k._inputRange[1])-k.r2l(k._inputRange[0]));if(O/=C,O*W<1){k.domain=k._input.domain=G.slice(),r(k,O);continue}if(W<1&&(k.range=k._input.range=k._inputRange.slice(),O*=W),k.autorange){var J=k.r2l(k.range[0]),at=k.r2l(k.range[1]),et=(J+at)/2,it=et,dt=et,ht=Math.abs(at-et),xt=et-ht*O*1.0001,H=et+ht*O*1.0001,j=i.makePadFn(y,k,0),A=i.makePadFn(y,k,1);m(k,O);var q=Math.abs(k._m),R=i.concatExtremes(g,k),z=R.min,M=R.max,S,Z;for(Z=0;Z<z.length;Z++)S=z[Z].val-j(z[Z])/q,S>xt&&S<it&&(it=S);for(Z=0;Z<M.length;Z++)S=M[Z].val+A(M[Z])/q,S<H&&S>dt&&(dt=S);var Y=(dt-it)/(2*ht);O/=Y,it=k.l2r(it),dt=k.l2r(dt),k.range=k._input.range=J<at?[it,dt]:[dt,it]}m(k,O)}}}},F.getAxisGroup=function(g,y){for(var v=g._axisMatchGroups,c=0;c<v.length;c++){var d=v[c];if(d[y])return"g"+c}return y},F.clean=function(g,y){if(y._inputDomain){for(var v=!1,c=y._id,d=g._fullLayout._axisConstraintGroups,_=0;_<d.length;_++)if(d[_][c]){v=!0;break}(!v||y.constrain!=="domain")&&(y._input.domain=y.domain=y._inputDomain,delete y._inputDomain)}};function m(g,y){var v=g._inputDomain,c=s[g.constraintoward],d=v[0]+(v[1]-v[0])*c;g.domain=g._input.domain=[d+(v[0]-d)/y,d+(v[1]-d)/y],g.setScale()}}),Wi=Dt(F=>{var D=_n(),i=un(),t=ea(),n=Ce(),r=ma(),l=ji(),o=bn(),s=Nn(),f=qr(),e=bl(),p=Yn(),u=Ta(),h=Kr(),b=h.enforce,m=h.clean,g=$r().doAutoRange,y="start",v="middle",c="end",d=pa().zindexSeparator;F.layoutStyles=function(C){return n.syncOrAsync([t.doAutoMargin,w],C)};function _(C,W,J){for(var at=0;at<J.length;at++){var et=J[at][0],it=J[at][1];if(!(et[0]>=C[1]||et[1]<=C[0])&&it[0]<W[1]&&it[1]>W[0])return!0}return!1}function w(C){var W=C._fullLayout,J=W._size,at=J.p,et=p.list(C,"",!0),it,dt,ht,xt,H,j;if(W._paperdiv.style({width:C._context.responsive&&W.autosize&&!C._context._hasZeroWidth&&!C.layout.width?"100%":W.width+"px",height:C._context.responsive&&W.autosize&&!C._context._hasZeroHeight&&!C.layout.height?"100%":W.height+"px"}).selectAll(".main-svg").call(s.setSize,W.width,W.height),C._context.setBackground(C,W.paper_bgcolor),F.drawMainTitle(C),e.manage(C),!W._has("cartesian"))return t.previousPromises(C);function A(Tt,K,ft){var mt=Tt._lw/2;if(Tt._id.charAt(0)==="x"){if(K){if(ft==="top")return K._offset-at-mt}else return J.t+J.h*(1-(Tt.position||0))+mt%1;return K._offset+K._length+at+mt}if(K){if(ft==="right")return K._offset+K._length+at+mt}else return J.l+J.w*(Tt.position||0)+mt%1;return K._offset-at-mt}for(it=0;it<et.length;it++){xt=et[it];var q=xt._anchorAxis;xt._linepositions={},xt._lw=s.crispRound(C,xt.linewidth,1),xt._mainLinePosition=A(xt,q,xt.side),xt._mainMirrorPosition=xt.mirror&&q?A(xt,q,u.OPPOSITE_SIDE[xt.side]):null}var R=[],z=[],M=[],S=o.opacity(W.paper_bgcolor)===1&&o.opacity(W.plot_bgcolor)===1&&W.paper_bgcolor===W.plot_bgcolor;for(dt in W._plots)if(ht=W._plots[dt],ht.mainplot)ht.bg&&ht.bg.remove(),ht.bg=void 0;else{var Z=ht.xaxis.domain,Y=ht.yaxis.domain,rt=ht.plotgroup;if(_(Z,Y,M)&&dt.indexOf(d)===-1){var st=rt.node(),ut=ht.bg=n.ensureSingle(rt,"rect","bg");st.insertBefore(ut.node(),st.childNodes[0]),z.push(dt)}else rt.select("rect.bg").remove(),M.push([Z,Y]),S||(R.push(dt),z.push(dt))}var _t=W._bgLayer.selectAll(".bg").data(R);for(_t.enter().append("rect").classed("bg",!0),_t.exit().remove(),_t.each(function(Tt){W._plots[Tt].bg=D.select(this)}),it=0;it<z.length;it++)ht=W._plots[z[it]],H=ht.xaxis,j=ht.yaxis,ht.bg&&H._offset!==void 0&&j._offset!==void 0&&ht.bg.call(s.setRect,H._offset-at,j._offset-at,H._length+2*at,j._length+2*at).call(o.fill,W.plot_bgcolor).style("stroke-width",0);if(!W._hasOnlyLargeSploms)for(dt in W._plots){ht=W._plots[dt],H=ht.xaxis,j=ht.yaxis;var At=ht.clipId="clip"+W._uid+dt+"plot",Rt=n.ensureSingleById(W._clips,"clipPath",At,function(Tt){Tt.classed("plotclip",!0).append("rect")});ht.clipRect=Rt.select("rect").attr({width:H._length,height:j._length}),s.setTranslate(ht.plot,H._offset,j._offset);var Xt,Bt;ht._hasClipOnAxisFalse?(Xt=null,Bt=At):(Xt=At,Bt=null),s.setClipUrl(ht.plot,Xt,C),ht.layerClipId=Bt}var Ht,pt,bt,ot,Lt,Nt,Vt,ae,Jt,re,oe,le,ve;function Wt(Tt){return"M"+Ht+","+Tt+"H"+pt}function ge(Tt){return"M"+H._offset+","+Tt+"h"+H._length}function Te(Tt){return"M"+Tt+","+ae+"V"+Vt}function ce(Tt){return j._shift!==void 0&&(Tt+=j._shift),"M"+Tt+","+j._offset+"v"+j._length}function we(Tt,K,ft){if(!Tt.showline||dt!==Tt._mainSubplot)return"";if(!Tt._anchorAxis)return ft(Tt._mainLinePosition);var mt=K(Tt._mainLinePosition);return Tt.mirror&&(mt+=K(Tt._mainMirrorPosition)),mt}for(dt in W._plots){ht=W._plots[dt],H=ht.xaxis,j=ht.yaxis;var yt="M0,0";k(H,dt)&&(Lt=P(H,"left",j,et),Ht=H._offset-(Lt?at+Lt:0),Nt=P(H,"right",j,et),pt=H._offset+H._length+(Nt?at+Nt:0),bt=A(H,j,"bottom"),ot=A(H,j,"top"),ve=!H._anchorAxis||dt!==H._mainSubplot,ve&&(H.mirror==="allticks"||H.mirror==="all")&&(H._linepositions[dt]=[bt,ot]),yt=we(H,Wt,ge),ve&&H.showline&&(H.mirror==="all"||H.mirror==="allticks")&&(yt+=Wt(bt)+Wt(ot)),ht.xlines.style("stroke-width",H._lw+"px").call(o.stroke,H.showline?H.linecolor:"rgba(0,0,0,0)")),ht.xlines.attr("d",yt);var kt="M0,0";k(j,dt)&&(oe=P(j,"bottom",H,et),Vt=j._offset+j._length+(oe?at:0),le=P(j,"top",H,et),ae=j._offset-(le?at:0),Jt=A(j,H,"left"),re=A(j,H,"right"),ve=!j._anchorAxis||dt!==j._mainSubplot,ve&&(j.mirror==="allticks"||j.mirror==="all")&&(j._linepositions[dt]=[Jt,re]),kt=we(j,Te,ce),ve&&j.showline&&(j.mirror==="all"||j.mirror==="allticks")&&(kt+=Te(Jt)+Te(re)),ht.ylines.style("stroke-width",j._lw+"px").call(o.stroke,j.showline?j.linecolor:"rgba(0,0,0,0)")),ht.ylines.attr("d",kt)}return p.makeClipPaths(C),t.previousPromises(C)}function k(C,W){return(C.ticks||C.showline)&&(W===C._mainSubplot||C.mirror==="all"||C.mirror==="allticks")}function $(C,W,J){if(!J.showline||!J._lw)return!1;if(J.mirror==="all"||J.mirror==="allticks")return!0;var at=J._anchorAxis;if(!at)return!1;var et=u.FROM_BL[W];return J.side===W?at.domain[et]===C.domain[et]:J.mirror&&at.domain[1-et]===C.domain[1-et]}function P(C,W,J,at){if($(C,W,J))return J._lw;for(var et=0;et<at.length;et++){var it=at[et];if(it._mainAxis===J._mainAxis&&$(C,W,it))return it._lw}return 0}F.drawMainTitle=function(C){var W=C._fullLayout.title,J=C._fullLayout,at=U(J),et=G(J),it=N(J,et),dt=E(J,at);if(f.draw(C,"gtitle",{propContainer:J,propName:"title.text",subtitlePropName:"title.subtitle.text",placeholder:J._dfltTitle.plot,subtitlePlaceholder:J._dfltTitle.subtitle,attributes:{x:dt,y:it,"text-anchor":at,dy:et}}),W.text&&W.automargin){var ht=D.selectAll(".gtitle"),xt=s.bBox(D.selectAll(".g-gtitle").node()).height,H=X(C,W,xt);if(H>0){I(C,it,H,xt),ht.attr({x:dt,y:it,"text-anchor":at,dy:V(W.yanchor)}).call(r.positionText,dt,it);var j=(W.text.match(r.BR_TAG_ALL)||[]).length;if(j){var A=u.LINE_SPACING*j+u.MID_SHIFT;W.y===0&&(A=-A),ht.selectAll(".line").each(function(){var S=+this.getAttribute("dy").slice(0,-2)-A+"em";this.setAttribute("dy",S)})}var q=D.selectAll(".gtitle-subtitle");if(q.node()){var R=ht.node().getBBox(),z=R.y+R.height,M=z+f.SUBTITLE_PADDING_EM*W.subtitle.font.size;q.attr({x:dt,y:M,"text-anchor":at,dy:V(W.yanchor)}).call(r.positionText,dt,M)}}}};function O(C,W,J,at,et){var it=W.yref==="paper"?C._fullLayout._size.h:C._fullLayout.height,dt=n.isTopAnchor(W)?at:at-et,ht=J==="b"?it-dt:dt;return n.isTopAnchor(W)&&J==="t"||n.isBottomAnchor(W)&&J==="b"?!1:ht<et}function T(C,W,J,at,et){var it=0;return J==="middle"&&(it+=et/2),C==="t"?(J==="top"&&(it+=et),it+=at-W*at):(J==="bottom"&&(it+=et),it+=W*at),it}function X(C,W,J){var at=W.y,et=W.yanchor,it=at>.5?"t":"b",dt=C._fullLayout.margin[it],ht=0;return W.yref==="paper"?ht=J+W.pad.t+W.pad.b:W.yref==="container"&&(ht=T(it,at,et,C._fullLayout.height,J)+W.pad.t+W.pad.b),ht>dt?ht:0}function I(C,W,J,at){var et="title.automargin",it=C._fullLayout.title,dt=it.y>.5?"t":"b",ht={x:it.x,y:it.y,t:0,b:0},xt={};it.yref==="paper"&&O(C,it,dt,W,at)?ht[dt]=J:it.yref==="container"&&(xt[dt]=J,C._fullLayout._reservedMargin[et]=xt),t.allowAutoMargin(C,et),t.autoMargin(C,et,ht)}function E(C,W){var J=C.title,at=C._size,et=0;switch(W===y?et=J.pad.l:W===c&&(et=-J.pad.r),J.xref){case"paper":return at.l+at.w*J.x+et;case"container":default:return C.width*J.x+et}}function N(C,W){var J=C.title,at=C._size,et=0;if(W==="0em"||!W?et=-J.pad.b:W===u.CAP_SHIFT+"em"&&(et=J.pad.t),J.y==="auto")return at.t/2;switch(J.yref){case"paper":return at.t+at.h-at.h*J.y+et;case"container":default:return C.height-C.height*J.y+et}}function V(C){return C==="top"?u.CAP_SHIFT+.3+"em":C==="bottom"?"-0.3em":u.MID_SHIFT+"em"}function U(C){var W=C.title,J=v;return n.isRightAnchor(W)?J=c:n.isLeftAnchor(W)&&(J=y),J}function G(C){var W=C.title,J="0em";return n.isTopAnchor(W)?J=u.CAP_SHIFT+"em":n.isMiddleAnchor(W)&&(J=u.MID_SHIFT+"em"),J}F.doTraceStyle=function(C){var W=C.calcdata,J=[],at;for(at=0;at<W.length;at++){var et=W[at],it=et[0]||{},dt=it.trace||{},ht=dt._module||{},xt=ht.arraysToCalcdata;xt&&xt(et,dt);var H=ht.editStyle;H&&J.push({fn:H,cd0:it})}if(J.length){for(at=0;at<J.length;at++){var j=J[at];j.fn(C,j.cd0)}l(C),F.redrawReglTraces(C)}return t.style(C),i.getComponentMethod("legend","draw")(C),t.previousPromises(C)},F.doColorBars=function(C){return i.getComponentMethod("colorbar","draw")(C),t.previousPromises(C)},F.layoutReplot=function(C){var W=C.layout;return C.layout=void 0,i.call("_doPlot",C,"",W)},F.doLegend=function(C){return i.getComponentMethod("legend","draw")(C),t.previousPromises(C)},F.doTicksRelayout=function(C){return p.draw(C,"redraw"),C._fullLayout._hasOnlyLargeSploms&&(i.subplotsRegistry.splom.updateGrid(C),l(C),F.redrawReglTraces(C)),F.drawMainTitle(C),t.previousPromises(C)},F.doModeBar=function(C){var W=C._fullLayout;e.manage(C);for(var J=0;J<W._basePlotModules.length;J++){var at=W._basePlotModules[J].updateFx;at&&at(C)}return t.previousPromises(C)},F.doCamera=function(C){for(var W=C._fullLayout,J=W._subplots.gl3d,at=0;at<J.length;at++){var et=W[J[at]],it=et._scene;it.setViewport(et)}},F.drawData=function(C){var W=C._fullLayout;l(C);for(var J=W._basePlotModules,at=0;at<J.length;at++)J[at].plot(C);return F.redrawReglTraces(C),t.style(C),i.getComponentMethod("selections","draw")(C),i.getComponentMethod("shapes","draw")(C),i.getComponentMethod("annotations","draw")(C),i.getComponentMethod("images","draw")(C),W._replotting=!1,t.previousPromises(C)},F.redrawReglTraces=function(C){var W=C._fullLayout;if(W._has("regl")){var J=C._fullData,at=[],et=[],it,dt;for(W._hasOnlyLargeSploms&&W._splomGrid.draw(),it=0;it<J.length;it++){var ht=J[it];ht.visible===!0&&ht._length!==0&&(ht.type==="splom"?W._splomScenes[ht.uid].draw():ht.type==="scattergl"?n.pushUnique(at,ht.xaxis+ht.yaxis):ht.type==="scatterpolargl"&&n.pushUnique(et,ht.subplot))}for(it=0;it<at.length;it++)dt=W._plots[at[it]],dt._scene&&dt._scene.draw();for(it=0;it<et.length;it++)dt=W[et[it]]._subplot,dt._scene&&dt._scene.draw()}},F.doAutoRangeAndConstraints=function(C){for(var W=p.list(C,"",!0),J,at={},et=0;et<W.length;et++)if(J=W[et],!at[J._id]){at[J._id]=1,m(C,J),g(C,J);var it=J._matchGroup;if(it)for(var dt in it){var ht=p.getFromId(C,dt);g(C,ht,J.range),at[dt]=1}}b(C)},F.finalDraw=function(C){i.getComponentMethod("rangeslider","draw")(C),i.getComponentMethod("rangeselector","draw")(C)},F.drawMarginPushers=function(C){i.getComponentMethod("legend","draw")(C),i.getComponentMethod("rangeselector","draw")(C),i.getComponentMethod("sliders","draw")(C),i.getComponentMethod("updatemenus","draw")(C),i.getComponentMethod("colorbar","draw")(C)}}),wl=Dt((F,D)=>{var i=dr().readPaths,t=Gi(),n=cr().clearOutlineControllers,r=bn(),l=Nn(),o=jn().arrayEditor,s=hr(),f=s.getPathString;D.exports={draw:e,drawOne:u,activateLastSelection:m};function e(y){var v=y._fullLayout;n(y),v._selectionLayer.selectAll("path").remove();for(var c in v._plots){var d=v._plots[c].selectionLayer;d&&d.selectAll("path").remove()}for(var _=0;_<v.selections.length;_++)u(y,_)}function p(y){return y._context.editSelection}function u(y,v){y._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+v+'"]').remove();var c=s.makeSelectionsOptionsAndPlotinfo(y,v),d=c.options,_=c.plotinfo;if(!d._input)return;w(y._fullLayout._selectionLayer);function w(k){var $=f(y,d),P={"data-index":v,"fill-rule":"evenodd",d:$},O=d.opacity,T="rgba(0,0,0,0)",X=d.line.color||r.contrast(y._fullLayout.plot_bgcolor),I=d.line.width,E=d.line.dash;I||(I=5,E="solid");var N=p(y)&&y._fullLayout._activeSelectionIndex===v;N&&(T=y._fullLayout.activeselection.fillcolor,O=y._fullLayout.activeselection.opacity);for(var V=[],U=1;U>=0;U--){var G=k.append("path").attr(P).style("opacity",U?.1:O).call(r.stroke,X).call(r.fill,T).call(l.dashLine,U?"solid":E,U?4+I:I);if(h(G,y,d),N){var C=o(y.layout,"selections",d);G.style({cursor:"move"});var W={element:G.node(),plotinfo:_,gd:y,editHelpers:C,isActiveSelection:!0},J=i($,y);t(J,G,W)}else G.style("pointer-events",U?"all":"none");V[U]=G}var at=V[0],et=V[1];et.node().addEventListener("click",function(){return b(y,at)})}}function h(y,v,c){var d=c.xref+c.yref;l.setClipUrl(y,"clip"+v._fullLayout._uid+d,v)}function b(y,v){if(p(y)){var c=v.node(),d=+c.getAttribute("data-index");if(d>=0){if(d===y._fullLayout._activeSelectionIndex){g(y);return}y._fullLayout._activeSelectionIndex=d,y._fullLayout._deactivateSelection=g,e(y)}}}function m(y){if(p(y)){var v=y._fullLayout.selections.length-1;y._fullLayout._activeSelectionIndex=v,y._fullLayout._deactivateSelection=g,e(y)}}function g(y){if(p(y)){var v=y._fullLayout._activeSelectionIndex;v>=0&&(n(y),delete y._fullLayout._activeSelectionIndex,e(y))}}}),Cc=Dt((F,D)=>{function i(){var t,n=0,r=!1;function l(o,s){return t.list.push({type:o,data:s?JSON.parse(JSON.stringify(s)):void 0}),t}return t={list:[],segmentId:function(){return n++},checkIntersection:function(o,s){return l("check",{seg1:o,seg2:s})},segmentChop:function(o,s){return l("div_seg",{seg:o,pt:s}),l("chop",{seg:o,pt:s})},statusRemove:function(o){return l("pop_seg",{seg:o})},segmentUpdate:function(o){return l("seg_update",{seg:o})},segmentNew:function(o,s){return l("new_seg",{seg:o,primary:s})},segmentRemove:function(o){return l("rem_seg",{seg:o})},tempStatus:function(o,s,f){return l("temp_status",{seg:o,above:s,below:f})},rewind:function(o){return l("rewind",{seg:o})},status:function(o,s,f){return l("status",{seg:o,above:s,below:f})},vert:function(o){return o===r?t:(r=o,l("vert",{x:o}))},log:function(o){return typeof o!="string"&&(o=JSON.stringify(o,!1,"  ")),l("log",{txt:o})},reset:function(){return l("reset")},selected:function(o){return l("selected",{segs:o})},chainStart:function(o){return l("chain_start",{seg:o})},chainRemoveHead:function(o,s){return l("chain_rem_head",{index:o,pt:s})},chainRemoveTail:function(o,s){return l("chain_rem_tail",{index:o,pt:s})},chainNew:function(o,s){return l("chain_new",{pt1:o,pt2:s})},chainMatch:function(o){return l("chain_match",{index:o})},chainClose:function(o){return l("chain_close",{index:o})},chainAddHead:function(o,s){return l("chain_add_head",{index:o,pt:s})},chainAddTail:function(o,s){return l("chain_add_tail",{index:o,pt:s})},chainConnect:function(o,s){return l("chain_con",{index1:o,index2:s})},chainReverse:function(o){return l("chain_rev",{index:o})},chainJoin:function(o,s){return l("chain_join",{index1:o,index2:s})},done:function(){return l("done")}},t}D.exports=i}),Dc=Dt((F,D)=>{function i(t){typeof t!="number"&&(t=1e-10);var n={epsilon:function(r){return typeof r=="number"&&(t=r),t},pointAboveOrOnLine:function(r,l,o){var s=l[0],f=l[1],e=o[0],p=o[1],u=r[0],h=r[1];return(e-s)*(h-f)-(p-f)*(u-s)>=-t},pointBetween:function(r,l,o){var s=r[1]-l[1],f=o[0]-l[0],e=r[0]-l[0],p=o[1]-l[1],u=e*f+s*p;if(u<t)return!1;var h=f*f+p*p;return!(u-h>-t)},pointsSameX:function(r,l){return Math.abs(r[0]-l[0])<t},pointsSameY:function(r,l){return Math.abs(r[1]-l[1])<t},pointsSame:function(r,l){return n.pointsSameX(r,l)&&n.pointsSameY(r,l)},pointsCompare:function(r,l){return n.pointsSameX(r,l)?n.pointsSameY(r,l)?0:r[1]<l[1]?-1:1:r[0]<l[0]?-1:1},pointsCollinear:function(r,l,o){var s=r[0]-l[0],f=r[1]-l[1],e=l[0]-o[0],p=l[1]-o[1];return Math.abs(s*p-e*f)<t},linesIntersect:function(r,l,o,s){var f=l[0]-r[0],e=l[1]-r[1],p=s[0]-o[0],u=s[1]-o[1],h=f*u-e*p;if(Math.abs(h)<t)return!1;var b=r[0]-o[0],m=r[1]-o[1],g=(p*m-u*b)/h,y=(f*m-e*b)/h,v={alongA:0,alongB:0,pt:[r[0]+g*f,r[1]+g*e]};return g<=-t?v.alongA=-2:g<t?v.alongA=-1:g-1<=-t?v.alongA=0:g-1<t?v.alongA=1:v.alongA=2,y<=-t?v.alongB=-2:y<t?v.alongB=-1:y-1<=-t?v.alongB=0:y-1<t?v.alongB=1:v.alongB=2,v},pointInsideRegion:function(r,l){for(var o=r[0],s=r[1],f=l[l.length-1][0],e=l[l.length-1][1],p=!1,u=0;u<l.length;u++){var h=l[u][0],b=l[u][1];b-s>t!=e-s>t&&(f-h)*(s-b)/(e-b)+h-o>t&&(p=!p),f=h,e=b}return p}};return n}D.exports=i}),Pc=Dt((F,D)=>{var i={create:function(){var t={root:{root:!0,next:null},exists:function(n){return!(n===null||n===t.root)},isEmpty:function(){return t.root.next===null},getHead:function(){return t.root.next},insertBefore:function(n,r){for(var l=t.root,o=t.root.next;o!==null;){if(r(o)){n.prev=o.prev,n.next=o,o.prev.next=n,o.prev=n;return}l=o,o=o.next}l.next=n,n.prev=l,n.next=null},findTransition:function(n){for(var r=t.root,l=t.root.next;l!==null&&!n(l);)r=l,l=l.next;return{before:r===t.root?null:r,after:l,insert:function(o){return o.prev=r,o.next=l,r.next=o,l!==null&&(l.prev=o),o}}}};return t},node:function(t){return t.prev=null,t.next=null,t.remove=function(){t.prev.next=t.next,t.next&&(t.next.prev=t.prev),t.prev=null,t.next=null},t}};D.exports=i}),Ic=Dt((F,D)=>{var i=Pc();function t(n,r,l){function o(v,c){return{id:l?l.segmentId():-1,start:v,end:c,myFill:{above:null,below:null},otherFill:null}}function s(v,c,d){return{id:l?l.segmentId():-1,start:v,end:c,myFill:{above:d.myFill.above,below:d.myFill.below},otherFill:null}}var f=i.create();function e(v,c,d,_,w,k){var $=r.pointsCompare(c,w);return $!==0?$:r.pointsSame(d,k)?0:v!==_?v?1:-1:r.pointAboveOrOnLine(d,_?w:k,_?k:w)?1:-1}function p(v,c){f.insertBefore(v,function(d){var _=e(v.isStart,v.pt,c,d.isStart,d.pt,d.other.pt);return _<0})}function u(v,c){var d=i.node({isStart:!0,pt:v.start,seg:v,primary:c,other:null,status:null});return p(d,v.end),d}function h(v,c,d){var _=i.node({isStart:!1,pt:c.end,seg:c,primary:d,other:v,status:null});v.other=_,p(_,v.pt)}function b(v,c){var d=u(v,c);return h(d,v,c),d}function m(v,c){l&&l.segmentChop(v.seg,c),v.other.remove(),v.seg.end=c,v.other.pt=c,p(v.other,v.pt)}function g(v,c){var d=s(c,v.seg.end,v.seg);return m(v,c),b(d,v.primary)}function y(v,c){var d=i.create();function _(G,C){var W=G.seg.start,J=G.seg.end,at=C.seg.start,et=C.seg.end;return r.pointsCollinear(W,at,et)?r.pointsCollinear(J,at,et)||r.pointAboveOrOnLine(J,at,et)?1:-1:r.pointAboveOrOnLine(W,at,et)?1:-1}function w(G){return d.findTransition(function(C){var W=_(G,C.ev);return W>0})}function k(G,C){var W=G.seg,J=C.seg,at=W.start,et=W.end,it=J.start,dt=J.end;l&&l.checkIntersection(W,J);var ht=r.linesIntersect(at,et,it,dt);if(ht===!1){if(!r.pointsCollinear(at,et,it)||r.pointsSame(at,dt)||r.pointsSame(et,it))return!1;var xt=r.pointsSame(at,it),H=r.pointsSame(et,dt);if(xt&&H)return C;var j=!xt&&r.pointBetween(at,it,dt),A=!H&&r.pointBetween(et,it,dt);if(xt)return A?g(C,et):g(G,dt),C;j&&(H||(A?g(C,et):g(G,dt)),g(C,at))}else ht.alongA===0&&(ht.alongB===-1?g(G,it):ht.alongB===0?g(G,ht.pt):ht.alongB===1&&g(G,dt)),ht.alongB===0&&(ht.alongA===-1?g(C,at):ht.alongA===0?g(C,ht.pt):ht.alongA===1&&g(C,et));return!1}for(var $=[];!f.isEmpty();){var P=f.getHead();if(l&&l.vert(P.pt[0]),P.isStart){let G=function(){if(T){var C=k(P,T);if(C)return C}return X?k(P,X):!1};l&&l.segmentNew(P.seg,P.primary);var O=w(P),T=O.before?O.before.ev:null,X=O.after?O.after.ev:null;l&&l.tempStatus(P.seg,T?T.seg:!1,X?X.seg:!1);var I=G();if(I){if(n){var E;P.seg.myFill.below===null?E=!0:E=P.seg.myFill.above!==P.seg.myFill.below,E&&(I.seg.myFill.above=!I.seg.myFill.above)}else I.seg.otherFill=P.seg.myFill;l&&l.segmentUpdate(I.seg),P.other.remove(),P.remove()}if(f.getHead()!==P){l&&l.rewind(P.seg);continue}if(n){var E;P.seg.myFill.below===null?E=!0:E=P.seg.myFill.above!==P.seg.myFill.below,X?P.seg.myFill.below=X.seg.myFill.above:P.seg.myFill.below=v,E?P.seg.myFill.above=!P.seg.myFill.below:P.seg.myFill.above=P.seg.myFill.below}else if(P.seg.otherFill===null){var N;X?P.primary===X.primary?N=X.seg.otherFill.above:N=X.seg.myFill.above:N=P.primary?c:v,P.seg.otherFill={above:N,below:N}}l&&l.status(P.seg,T?T.seg:!1,X?X.seg:!1),P.other.status=O.insert(i.node({ev:P}))}else{var V=P.status;if(V===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(d.exists(V.prev)&&d.exists(V.next)&&k(V.prev.ev,V.next.ev),l&&l.statusRemove(V.ev.seg),V.remove(),!P.primary){var U=P.seg.myFill;P.seg.myFill=P.seg.otherFill,P.seg.otherFill=U}$.push(P.seg)}f.getHead().remove()}return l&&l.done(),$}return n?{addRegion:function(v){for(var c,d=v[v.length-1],_=0;_<v.length;_++){c=d,d=v[_];var w=r.pointsCompare(c,d);w!==0&&b(o(w<0?c:d,w<0?d:c),!0)}},calculate:function(v){return y(v,!1)}}:{calculate:function(v,c,d,_){return v.forEach(function(w){b(s(w.start,w.end,w),!0)}),d.forEach(function(w){b(s(w.start,w.end,w),!1)}),y(c,_)}}}D.exports=t}),Fc=Dt((F,D)=>{function i(t,n,r){var l=[],o=[];return t.forEach(function(s){var f=s.start,e=s.end;if(n.pointsSame(f,e)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}r&&r.chainStart(s);var p={index:0,matches_head:!1,matches_pt1:!1},u={index:0,matches_head:!1,matches_pt1:!1},h=p;function b(N,V,U){return h.index=N,h.matches_head=V,h.matches_pt1=U,h===p?(h=u,!1):(h=null,!0)}for(var m=0;m<l.length;m++){var g=l[m],y=g[0];g[1];var v=g[g.length-1];if(g[g.length-2],n.pointsSame(y,f)){if(b(m,!0,!0))break}else if(n.pointsSame(y,e)){if(b(m,!0,!1))break}else if(n.pointsSame(v,f)){if(b(m,!1,!0))break}else if(n.pointsSame(v,e)&&b(m,!1,!1))break}if(h===p){l.push([f,e]),r&&r.chainNew(f,e);return}if(h===u){r&&r.chainMatch(p.index);var c=p.index,d=p.matches_pt1?e:f,_=p.matches_head,g=l[c],w=_?g[0]:g[g.length-1],k=_?g[1]:g[g.length-2],$=_?g[g.length-1]:g[0],P=_?g[g.length-2]:g[1];if(n.pointsCollinear(k,w,d)&&(_?(r&&r.chainRemoveHead(p.index,d),g.shift()):(r&&r.chainRemoveTail(p.index,d),g.pop()),w=k),n.pointsSame($,d)){l.splice(c,1),n.pointsCollinear(P,$,w)&&(_?(r&&r.chainRemoveTail(p.index,w),g.pop()):(r&&r.chainRemoveHead(p.index,w),g.shift())),r&&r.chainClose(p.index),o.push(g);return}_?(r&&r.chainAddHead(p.index,d),g.unshift(d)):(r&&r.chainAddTail(p.index,d),g.push(d));return}function O(N){r&&r.chainReverse(N),l[N].reverse()}function T(N,V){var U=l[N],G=l[V],C=U[U.length-1],W=U[U.length-2],J=G[0],at=G[1];n.pointsCollinear(W,C,J)&&(r&&r.chainRemoveTail(N,C),U.pop(),C=W),n.pointsCollinear(C,J,at)&&(r&&r.chainRemoveHead(V,J),G.shift()),r&&r.chainJoin(N,V),l[N]=U.concat(G),l.splice(V,1)}var X=p.index,I=u.index;r&&r.chainConnect(X,I);var E=l[X].length<l[I].length;p.matches_head?u.matches_head?E?(O(X),T(X,I)):(O(I),T(I,X)):T(I,X):u.matches_head?T(X,I):E?(O(X),T(I,X)):(O(I),T(X,I))}),o}D.exports=i}),Rc=Dt((F,D)=>{function i(n,r,l){var o=[];return n.forEach(function(s){var f=(s.myFill.above?8:0)+(s.myFill.below?4:0)+(s.otherFill&&s.otherFill.above?2:0)+(s.otherFill&&s.otherFill.below?1:0);r[f]!==0&&o.push({id:l?l.segmentId():-1,start:s.start,end:s.end,myFill:{above:r[f]===1,below:r[f]===2},otherFill:null})}),l&&l.selected(o),o}var t={union:function(n,r){return i(n,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],r)},intersect:function(n,r){return i(n,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],r)},difference:function(n,r){return i(n,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],r)},differenceRev:function(n,r){return i(n,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],r)},xor:function(n,r){return i(n,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],r)}};D.exports=t}),Nc=Dt((F,D)=>{var i={toPolygon:function(t,n){function r(s){if(s.length<=0)return t.segments({inverted:!1,regions:[]});function f(u){var h=u.slice(0,u.length-1);return t.segments({inverted:!1,regions:[h]})}for(var e=f(s[0]),p=1;p<s.length;p++)e=t.selectDifference(t.combine(e,f(s[p])));return e}if(n.type==="Polygon")return t.polygon(r(n.coordinates));if(n.type==="MultiPolygon"){for(var l=t.segments({inverted:!1,regions:[]}),o=0;o<n.coordinates.length;o++)l=t.selectUnion(t.combine(l,r(n.coordinates[o])));return t.polygon(l)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(t,n,r){r=t.polygon(t.segments(r));function l(g,y){return n.pointInsideRegion([(g[0][0]+g[1][0])*.5,(g[0][1]+g[1][1])*.5],y)}function o(g){return{region:g,children:[]}}var s=o(null);function f(g,y){for(var v=0;v<g.children.length;v++){var c=g.children[v];if(l(y,c.region)){f(c,y);return}}for(var d=o(y),v=0;v<g.children.length;v++){var c=g.children[v];l(c.region,y)&&(d.children.push(c),g.children.splice(v,1),v--)}g.children.push(d)}for(var e=0;e<r.regions.length;e++){var p=r.regions[e];p.length<3||f(s,p)}function u(g,y){for(var v=0,c=g[g.length-1][0],d=g[g.length-1][1],_=[],w=0;w<g.length;w++){var k=g[w][0],$=g[w][1];_.push([k,$]),v+=$*c-k*d,c=k,d=$}var P=v<0;return P!==y&&_.reverse(),_.push([_[0][0],_[0][1]]),_}var h=[];function b(g){var y=[u(g.region,!1)];h.push(y);for(var v=0;v<g.children.length;v++)y.push(m(g.children[v]))}function m(g){for(var y=0;y<g.children.length;y++)b(g.children[y]);return u(g.region,!0)}for(var e=0;e<s.children.length;e++)b(s.children[e]);return h.length<=0?{type:"Polygon",coordinates:[]}:h.length==1?{type:"Polygon",coordinates:h[0]}:{type:"MultiPolygon",coordinates:h}}};D.exports=i}),Ec=Dt((F,D)=>{var i=Cc(),t=Dc(),n=Ic(),r=Fc(),l=Rc(),o=Nc(),s=!1,f=t(),e;e={buildLog:function(u){return u===!0?s=i():u===!1&&(s=!1),s===!1?!1:s.list},epsilon:function(u){return f.epsilon(u)},segments:function(u){var h=n(!0,f,s);return u.regions.forEach(h.addRegion),{segments:h.calculate(u.inverted),inverted:u.inverted}},combine:function(u,h){var b=n(!1,f,s);return{combined:b.calculate(u.segments,u.inverted,h.segments,h.inverted),inverted1:u.inverted,inverted2:h.inverted}},selectUnion:function(u){return{segments:l.union(u.combined,s),inverted:u.inverted1||u.inverted2}},selectIntersect:function(u){return{segments:l.intersect(u.combined,s),inverted:u.inverted1&&u.inverted2}},selectDifference:function(u){return{segments:l.difference(u.combined,s),inverted:u.inverted1&&!u.inverted2}},selectDifferenceRev:function(u){return{segments:l.differenceRev(u.combined,s),inverted:!u.inverted1&&u.inverted2}},selectXor:function(u){return{segments:l.xor(u.combined,s),inverted:u.inverted1!==u.inverted2}},polygon:function(u){return{regions:r(u.segments,f,s),inverted:u.inverted}},polygonFromGeoJSON:function(u){return o.toPolygon(e,u)},polygonToGeoJSON:function(u){return o.fromPolygon(e,f,u)},union:function(u,h){return p(u,h,e.selectUnion)},intersect:function(u,h){return p(u,h,e.selectIntersect)},difference:function(u,h){return p(u,h,e.selectDifference)},differenceRev:function(u,h){return p(u,h,e.selectDifferenceRev)},xor:function(u,h){return p(u,h,e.selectXor)}};function p(u,h,b){var m=e.segments(u),g=e.segments(h),y=e.combine(m,g),v=b(y);return e.polygon(v)}typeof window=="object"&&(window.PolyBool=e),D.exports=e}),zc=Dt((F,D)=>{D.exports=function(i,t,n,r){var l=i[0],o=i[1],s=!1;n===void 0&&(n=0),r===void 0&&(r=t.length);for(var f=r-n,e=0,p=f-1;e<f;p=e++){var u=t[e+n][0],h=t[e+n][1],b=t[p+n][0],m=t[p+n][1],g=h>o!=m>o&&l<(b-u)*(o-h)/(m-h)+u;g&&(s=!s)}return s}}),Ml=Dt((F,D)=>{var i=Li().dot,t=oa().BADNUM,n=D.exports={};n.tester=function(r){var l=r.slice(),o=l[0][0],s=o,f=l[0][1],e=f,p;for((l[l.length-1][0]!==l[0][0]||l[l.length-1][1]!==l[0][1])&&l.push(l[0]),p=1;p<l.length;p++)o=Math.min(o,l[p][0]),s=Math.max(s,l[p][0]),f=Math.min(f,l[p][1]),e=Math.max(e,l[p][1]);var u=!1,h;l.length===5&&(l[0][0]===l[1][0]?l[2][0]===l[3][0]&&l[0][1]===l[3][1]&&l[1][1]===l[2][1]&&(u=!0,h=function(v){return v[0]===l[0][0]}):l[0][1]===l[1][1]&&l[2][1]===l[3][1]&&l[0][0]===l[3][0]&&l[1][0]===l[2][0]&&(u=!0,h=function(v){return v[1]===l[0][1]}));function b(v,c){var d=v[0],_=v[1];return!(d===t||d<o||d>s||_===t||_<f||_>e||c&&h(v))}function m(v,c){var d=v[0],_=v[1];if(d===t||d<o||d>s||_===t||_<f||_>e)return!1;var w=l.length,k=l[0][0],$=l[0][1],P=0,O,T,X,I,E;for(O=1;O<w;O++)if(T=k,X=$,k=l[O][0],$=l[O][1],I=Math.min(T,k),!(d<I||d>Math.max(T,k)||_>Math.max(X,$)))if(_<Math.min(X,$))d!==I&&P++;else{if(k===T?E=_:E=X+(d-T)*($-X)/(k-T),_===E)return!(O===1&&c);_<=E&&d!==I&&P++}return P%2===1}var g=!0,y=l[0];for(p=1;p<l.length;p++)if(y[0]!==l[p][0]||y[1]!==l[p][1]){g=!1;break}return{xmin:o,xmax:s,ymin:f,ymax:e,pts:l,contains:u?b:m,isRect:u,degenerate:g}},n.isSegmentBent=function(r,l,o,s){var f=r[l],e=[r[o][0]-f[0],r[o][1]-f[1]],p=i(e,e),u=Math.sqrt(p),h=[-e[1]/u,e[0]/u],b,m,g;for(b=l+1;b<o;b++)if(m=[r[b][0]-f[0],r[b][1]-f[1]],g=i(m,e),g<0||g>p||Math.abs(i(m,h))>s)return!0;return!1},n.filter=function(r,l){var o=[r[0]],s=0,f=0;function e(u){r.push(u);var h=o.length,b=s;o.splice(f+1);for(var m=b+1;m<r.length;m++)(m===r.length-1||n.isSegmentBent(r,b,m+1,l))&&(o.push(r[m]),o.length<h-2&&(s=m,f=o.length-1),b=m)}if(r.length>1){var p=r.pop();e(p)}return{addPt:e,raw:r,filtered:o}}}),Bc=Dt((F,D)=>{D.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}}),Hc=Dt((F,D)=>{var i=Ec(),t=zc(),n=un(),r=Nn().dashStyle,l=bn(),o=Ka(),s=Qa().makeEventData,f=Er(),e=f.freeMode,p=f.rectMode,u=f.drawMode,h=f.openMode,b=f.selectMode,m=hr(),g=Qr(),y=Gi(),v=cr().clearOutline,c=dr(),d=c.handleEllipse,_=c.readPaths,w=Ui().newShapes,k=vl(),$=wl().activateLastSelection,P=Ce(),O=P.sorterAsc,T=Ml(),X=Ci(),I=ua().getFromId,E=ji(),N=Wi().redrawReglTraces,V=Bc(),U=V.MINSELECT,G=T.filter,C=T.tester,W=Zi(),J=W.p2r,at=W.axValue,et=W.getTransform;function it(yt){return yt.subplot!==void 0}function dt(yt,kt,Tt,K,ft){var mt=!it(K),gt=e(ft),It=p(ft),Mt=h(ft),qt=u(ft),$t=b(ft),ie=ft==="drawline",zt=ft==="drawcircle",ee=ie||zt,se=K.gd,pe=se._fullLayout,De=$t&&pe.newselection.mode==="immediate"&&mt,Ne=pe._zoomlayer,Ge=K.element.getBoundingClientRect(),Pe=K.plotinfo,ze=et(Pe),Le=kt-Ge.left,Se=Tt-Ge.top;pe._calcInverseTransform(se);var Ye=P.apply3DTransform(pe._invTransform)(Le,Se);Le=Ye[0],Se=Ye[1];var Be=pe._invScaleX,Ze=pe._invScaleY,Fe=Le,ke=Se,je="M"+Le+","+Se,Ke=K.xaxes[0],ln=K.yaxes[0],Ve=Ke._length,nn=ln._length,an=yt.altKey&&!(u(ft)&&Mt),gn,Ae,sn,tt,lt,Yt,jt;q(yt,se,K),gt&&(gn=G([[Le,Se]],V.BENDPX));var Ot=Ne.selectAll("path.select-outline-"+Pe.id).data([1]),Pt=qt?pe.newshape:pe.newselection;qt&&(K.hasText=Pt.label.text||Pt.label.texttemplate);var Et=qt&&!Mt?Pt.fillcolor:"rgba(0,0,0,0)",Gt=Pt.line.color||(mt?l.contrast(se._fullLayout.plot_bgcolor):"#7f7f7f");Ot.enter().append("path").attr("class","select-outline select-outline-"+Pe.id).style({opacity:qt?Pt.opacity/2:1,"stroke-dasharray":r(Pt.line.dash,Pt.line.width),"stroke-width":Pt.line.width+"px","shape-rendering":"crispEdges"}).call(l.stroke,Gt).call(l.fill,Et).attr("fill-rule","evenodd").classed("cursor-move",!!qt).attr("transform",ze).attr("d",je+"Z");var Ft=Ne.append("path").attr("class","zoombox-corners").style({fill:l.background,stroke:l.defaultLine,"stroke-width":1}).attr("transform",ze).attr("d","M0,0Z");if(qt&&K.hasText){var Ut=Ne.select(".label-temp");Ut.empty()&&(Ut=Ne.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Qt=pe._uid+V.SELECTID,ne=[],ye=Z(se,K.xaxes,K.yaxes,K.subplot);De&&!yt.shiftKey&&(K._clearSubplotSelections=function(){if(mt){var Me=Ke._id,Oe=ln._id;Vt(se,Me,Oe,ye);for(var Ie=(se.layout||{}).selections||[],Je=[],Ee=!1,He=0;He<Ie.length;He++){var qe=pe.selections[He];!qe||qe.xref!==Me||qe.yref!==Oe?Je.push(Ie[He]):Ee=!0}Ee&&(se._fullLayout._noEmitSelectedAtStart=!0,n.call("_guiRelayout",se,{selections:Je}))}});var _e=ge(K);K.moveFn=function(Me,Oe){K._clearSubplotSelections&&(K._clearSubplotSelections(),K._clearSubplotSelections=void 0),Fe=Math.max(0,Math.min(Ve,Be*Me+Le)),ke=Math.max(0,Math.min(nn,Ze*Oe+Se));var Ie=Math.abs(Fe-Le),Je=Math.abs(ke-Se);if(It){var Ee,He,qe;if($t){var on=pe.selectdirection;switch(on==="any"?Je<Math.min(Ie*.6,U)?Ee="h":Ie<Math.min(Je*.6,U)?Ee="v":Ee="d":Ee=on,Ee){case"h":He=zt?nn/2:0,qe=nn;break;case"v":He=zt?Ve/2:0,qe=Ve;break}}if(qt)switch(pe.newshape.drawdirection){case"vertical":Ee="h",He=zt?nn/2:0,qe=nn;break;case"horizontal":Ee="v",He=zt?Ve/2:0,qe=Ve;break;case"ortho":Ie<Je?(Ee="h",He=Se,qe=ke):(Ee="v",He=Le,qe=Fe);break;default:Ee="d"}Ee==="h"?(tt=ee?d(zt,[Fe,He],[Fe,qe]):[[Le,He],[Le,qe],[Fe,qe],[Fe,He]],tt.xmin=ee?Fe:Math.min(Le,Fe),tt.xmax=ee?Fe:Math.max(Le,Fe),tt.ymin=Math.min(He,qe),tt.ymax=Math.max(He,qe),Ft.attr("d","M"+tt.xmin+","+(Se-U)+"h-4v"+2*U+"h4ZM"+(tt.xmax-1)+","+(Se-U)+"h4v"+2*U+"h-4Z")):Ee==="v"?(tt=ee?d(zt,[He,ke],[qe,ke]):[[He,Se],[He,ke],[qe,ke],[qe,Se]],tt.xmin=Math.min(He,qe),tt.xmax=Math.max(He,qe),tt.ymin=ee?ke:Math.min(Se,ke),tt.ymax=ee?ke:Math.max(Se,ke),Ft.attr("d","M"+(Le-U)+","+tt.ymin+"v-4h"+2*U+"v4ZM"+(Le-U)+","+(tt.ymax-1)+"v4h"+2*U+"v-4Z")):Ee==="d"&&(tt=ee?d(zt,[Le,Se],[Fe,ke]):[[Le,Se],[Le,ke],[Fe,ke],[Fe,Se]],tt.xmin=Math.min(Le,Fe),tt.xmax=Math.max(Le,Fe),tt.ymin=Math.min(Se,ke),tt.ymax=Math.max(Se,ke),Ft.attr("d","M0,0Z"))}else gt&&(gn.addPt([Fe,ke]),tt=gn.filtered);if(K.selectionDefs&&K.selectionDefs.length?(sn=Bt(K.mergedPolygons,tt,an),tt.subtract=an,Ae=A(K.selectionDefs.concat([tt]))):(sn=[tt],Ae=C(tt)),y(pt(sn,Mt),Ot,K),$t){var cn=ot(se,!1),Cn=cn.eventData?cn.eventData.points.slice():[];cn=ot(se,!1,Ae,ye,K),Ae=cn.selectionTesters,jt=cn.eventData;var yn;gn?yn=gn.filtered:yn=le(sn),X.throttle(Qt,V.SELECTDELAY,function(){ne=bt(Ae,ye);for(var Mn=ne.slice(),Xn=0;Xn<Cn.length;Xn++){for(var Wn=Cn[Xn],kn=!1,$e=0;$e<Mn.length;$e++)if(Mn[$e].curveNumber===Wn.curveNumber&&Mn[$e].pointNumber===Wn.pointNumber){kn=!0;break}kn||Mn.push(Wn)}Mn.length&&(jt||(jt={}),jt.points=Mn),_e(jt,yn),Te(se,jt)})}},K.clickFn=function(Me,Oe){if(Ft.remove(),se._fullLayout._activeShapeIndex>=0){se._fullLayout._deactivateShape(se);return}if(!qt){var Ie=pe.clickmode;X.done(Qt).then(function(){if(X.clear(Qt),Me===2){for(Ot.remove(),lt=0;lt<ye.length;lt++)Yt=ye[lt],Yt._module.selectPoints(Yt,!1);if(Rt(se,ye),M(K),we(se),ye.length){var Je=ye[0].xaxis,Ee=ye[0].yaxis;if(Je&&Ee){for(var He=[],qe=se._fullLayout.selections,on=0;on<qe.length;on++){var cn=qe[on];cn&&(cn.xref!==Je._id||cn.yref!==Ee._id)&&He.push(cn)}He.length<qe.length&&(se._fullLayout._noEmitSelectedAtStart=!0,n.call("_guiRelayout",se,{selections:He}))}}}else Ie.indexOf("select")>-1&&ht(Oe,se,K.xaxes,K.yaxes,K.subplot,K,Ot),Ie==="event"&&ce(se,void 0);o.click(se,Oe,Pe.id)}).catch(P.error)}},K.doneFn=function(){Ft.remove(),X.done(Qt).then(function(){X.clear(Qt),!De&&tt&&K.selectionDefs&&(tt.subtract=an,K.selectionDefs.push(tt),K.mergedPolygons.length=0,[].push.apply(K.mergedPolygons,sn)),(De||qt)&&M(K,De),K.doneFnCompleted&&K.doneFnCompleted(ne),$t&&ce(se,jt)}).catch(P.error)}}function ht(yt,kt,Tt,K,ft,mt,gt){var It=kt._hoverdata,Mt=kt._fullLayout,qt=Mt.clickmode,$t=qt.indexOf("event")>-1,ie=[],zt,ee,se,pe,De,Ne,Ge,Pe,ze,Le;if(rt(It)){q(yt,kt,mt),zt=Z(kt,Tt,K,ft);var Se=st(It,zt),Ye=Se.pointNumbers.length>0;if(Ye?_t(zt,Se):At(zt)&&(Ge=ut(Se))){for(gt&&gt.remove(),Le=0;Le<zt.length;Le++)ee=zt[Le],ee._module.selectPoints(ee,!1);Rt(kt,zt),M(mt),$t&&we(kt)}else{Pe=yt.shiftKey&&(Ge!==void 0?Ge:ut(Se)),se=xt(Se.pointNumber,Se.searchInfo,Pe);var Be=mt.selectionDefs.concat([se]);for(pe=A(Be),Le=0;Le<zt.length;Le++)if(De=zt[Le]._module.selectPoints(zt[Le],pe),Ne=Ht(De,zt[Le]),ie.length)for(var Ze=0;Ze<Ne.length;Ze++)ie.push(Ne[Ze]);else ie=Ne;if(ze={points:ie},Rt(kt,zt,ze),se&&mt&&mt.selectionDefs.push(se),gt){var Fe=mt.mergedPolygons,ke=h(mt.dragmode);y(pt(Fe,ke),gt,mt)}$t&&ce(kt,ze)}}}function xt(yt,kt,Tt){return{pointNumber:yt,searchInfo:kt,subtract:!!Tt}}function H(yt){return"pointNumber"in yt&&"searchInfo"in yt}function j(yt){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(kt,Tt,K,ft){var mt=yt.searchInfo.cd[0].trace.index,gt=ft.cd[0].trace.index;return gt===mt&&K===yt.pointNumber},isRect:!1,degenerate:!1,subtract:!!yt.subtract}}function A(yt){if(!yt.length)return;for(var kt=[],Tt=H(yt[0])?0:yt[0][0][0],K=Tt,ft=H(yt[0])?0:yt[0][0][1],mt=ft,gt=0;gt<yt.length;gt++)if(H(yt[gt]))kt.push(j(yt[gt]));else{var It=C(yt[gt]);It.subtract=!!yt[gt].subtract,kt.push(It),Tt=Math.min(Tt,It.xmin),K=Math.max(K,It.xmax),ft=Math.min(ft,It.ymin),mt=Math.max(mt,It.ymax)}function Mt(qt,$t,ie,zt){for(var ee=!1,se=0;se<kt.length;se++)kt[se].contains(qt,$t,ie,zt)&&(ee=!kt[se].subtract);return ee}return{xmin:Tt,xmax:K,ymin:ft,ymax:mt,pts:[],contains:Mt,isRect:!1,degenerate:!1}}function q(yt,kt,Tt){var K=kt._fullLayout,ft=Tt.plotinfo,mt=Tt.dragmode,gt=K._lastSelectedSubplot&&K._lastSelectedSubplot===ft.id,It=(yt.shiftKey||yt.altKey)&&!(u(mt)&&h(mt));gt&&It&&ft.selection&&ft.selection.selectionDefs&&!Tt.selectionDefs?(Tt.selectionDefs=ft.selection.selectionDefs,Tt.mergedPolygons=ft.selection.mergedPolygons):(!It||!ft.selection)&&M(Tt),gt||(v(kt),K._lastSelectedSubplot=ft.id)}function R(yt){return yt._fullLayout._activeShapeIndex>=0}function z(yt){return yt._fullLayout._activeSelectionIndex>=0}function M(yt,kt){var Tt=yt.dragmode,K=yt.plotinfo,ft=yt.gd;R(ft)&&ft._fullLayout._deactivateShape(ft),z(ft)&&ft._fullLayout._deactivateSelection(ft);var mt=ft._fullLayout,gt=mt._zoomlayer,It=u(Tt),Mt=b(Tt);if(It||Mt){var qt=gt.selectAll(".select-outline-"+K.id);if(qt&&ft._fullLayout._outlining){var $t;It&&($t=w(qt,yt)),$t&&n.call("_guiRelayout",ft,{shapes:$t});var ie;Mt&&!it(yt)&&(ie=k(qt,yt)),ie&&(ft._fullLayout._noEmitSelectedAtStart=!0,n.call("_guiRelayout",ft,{selections:ie}).then(function(){kt&&$(ft)})),ft._fullLayout._outlining=!1}}K.selection={},K.selection.selectionDefs=yt.selectionDefs=[],K.selection.mergedPolygons=yt.mergedPolygons=[]}function S(yt){return yt._id}function Z(yt,kt,Tt,K){if(!yt.calcdata)return[];var ft=[],mt=kt.map(S),gt=Tt.map(S),It,Mt,qt;for(qt=0;qt<yt.calcdata.length;qt++)if(It=yt.calcdata[qt],Mt=It[0].trace,!(Mt.visible!==!0||!Mt._module||!Mt._module.selectPoints))if(it({subplot:K})&&(Mt.subplot===K||Mt.geo===K))ft.push(Y(Mt._module,It,kt[0],Tt[0]));else if(Mt.type==="splom"){if(Mt._xaxes[mt[0]]&&Mt._yaxes[gt[0]]){var $t=Y(Mt._module,It,kt[0],Tt[0]);$t.scene=yt._fullLayout._splomScenes[Mt.uid],ft.push($t)}}else if(Mt.type==="sankey"){var ie=Y(Mt._module,It,kt[0],Tt[0]);ft.push(ie)}else{if(mt.indexOf(Mt.xaxis)===-1&&(!Mt._xA||!Mt._xA.overlaying)||gt.indexOf(Mt.yaxis)===-1&&(!Mt._yA||!Mt._yA.overlaying))continue;ft.push(Y(Mt._module,It,I(yt,Mt.xaxis),I(yt,Mt.yaxis)))}return ft}function Y(yt,kt,Tt,K){return{_module:yt,cd:kt,xaxis:Tt,yaxis:K}}function rt(yt){return yt&&Array.isArray(yt)&&yt[0].hoverOnBox!==!0}function st(yt,kt){var Tt=yt[0],K=-1,ft=[],mt,gt;for(gt=0;gt<kt.length;gt++)if(mt=kt[gt],Tt.fullData.index===mt.cd[0].trace.index){if(Tt.hoverOnBox===!0)break;Tt.pointNumber!==void 0?K=Tt.pointNumber:Tt.binNumber!==void 0&&(K=Tt.binNumber,ft=Tt.pointNumbers);break}return{pointNumber:K,pointNumbers:ft,searchInfo:mt}}function ut(yt){var kt=yt.searchInfo.cd[0].trace,Tt=yt.pointNumber,K=yt.pointNumbers,ft=K.length>0,mt=ft?K[0]:Tt;return kt.selectedpoints?kt.selectedpoints.indexOf(mt)>-1:!1}function _t(yt,kt){var Tt=[],K,ft,mt,gt;for(gt=0;gt<yt.length;gt++)K=yt[gt],K.cd[0].trace.selectedpoints&&K.cd[0].trace.selectedpoints.length>0&&Tt.push(K);if(Tt.length===1&&(mt=Tt[0]===kt.searchInfo,mt&&(ft=kt.searchInfo.cd[0].trace,ft.selectedpoints.length===kt.pointNumbers.length))){for(gt=0;gt<kt.pointNumbers.length;gt++)if(ft.selectedpoints.indexOf(kt.pointNumbers[gt])<0)return!1;return!0}return!1}function At(yt){var kt=0,Tt,K,ft;for(ft=0;ft<yt.length;ft++)if(Tt=yt[ft],K=Tt.cd[0].trace,K.selectedpoints&&(K.selectedpoints.length>1||(kt+=K.selectedpoints.length,kt>1)))return!1;return kt===1}function Rt(yt,kt,Tt){var K;for(K=0;K<kt.length;K++){var ft=kt[K].cd[0].trace._fullInput,mt=yt._fullLayout._tracePreGUI[ft.uid]||{};mt.selectedpoints===void 0&&(mt.selectedpoints=ft._input.selectedpoints||null)}var gt;if(Tt){var It=Tt.points||[];for(K=0;K<kt.length;K++)gt=kt[K].cd[0].trace,gt._input.selectedpoints=gt._fullInput.selectedpoints=[],gt._fullInput!==gt&&(gt.selectedpoints=[]);for(var Mt=0;Mt<It.length;Mt++){var qt=It[Mt],$t=qt.data,ie=qt.fullData,zt=qt.pointIndex,ee=qt.pointIndices;ee?([].push.apply($t.selectedpoints,ee),gt._fullInput!==gt&&[].push.apply(ie.selectedpoints,ee)):($t.selectedpoints.push(zt),gt._fullInput!==gt&&ie.selectedpoints.push(zt))}}else for(K=0;K<kt.length;K++)gt=kt[K].cd[0].trace,delete gt.selectedpoints,delete gt._input.selectedpoints,gt._fullInput!==gt&&delete gt._fullInput.selectedpoints;Xt(yt,kt)}function Xt(yt,kt){for(var Tt=!1,K=0;K<kt.length;K++){var ft=kt[K],mt=ft.cd;n.traceIs(mt[0].trace,"regl")&&(Tt=!0);var gt=ft._module,It=gt.styleOnSelect||gt.style;It&&(It(yt,mt,mt[0].node3),mt[0].nodeRangePlot3&&It(yt,mt,mt[0].nodeRangePlot3))}Tt&&(E(yt),N(yt))}function Bt(yt,kt,Tt){for(var K=Tt?i.difference:i.union,ft=K({regions:yt},{regions:[kt]}),mt=ft.regions.reverse(),gt=0;gt<mt.length;gt++){var It=mt[gt];It.subtract=re(It,mt.slice(0,gt))}return mt}function Ht(yt,kt){if(Array.isArray(yt))for(var Tt=kt.cd,K=kt.cd[0].trace,ft=0;ft<yt.length;ft++)yt[ft]=s(yt[ft],K,Tt);return yt}function pt(yt,kt){for(var Tt=[],K=0;K<yt.length;K++){Tt[K]=[];for(var ft=0;ft<yt[K].length;ft++){Tt[K][ft]=[],Tt[K][ft][0]=ft?"L":"M";for(var mt=0;mt<yt[K][ft].length;mt++)Tt[K][ft].push(yt[K][ft][mt])}kt||Tt[K].push(["Z",Tt[K][0][1],Tt[K][0][2]])}return Tt}function bt(yt,kt){for(var Tt=[],K,ft=[],mt,gt=0;gt<kt.length;gt++){var It=kt[gt];mt=It._module.selectPoints(It,yt),ft.push(mt),K=Ht(mt,It),Tt=Tt.concat(K)}return Tt}function ot(yt,kt,Tt,K,ft){var mt=!!K,gt,It,Mt;ft&&(gt=ft.plotinfo,It=ft.xaxes[0]._id,Mt=ft.yaxes[0]._id);var qt=[],$t=[],ie=Jt(yt),zt=yt._fullLayout;if(gt){var ee=zt._zoomlayer,se=zt.dragmode,pe=u(se),De=b(se);if(pe||De){var Ne=I(yt,It,"x"),Ge=I(yt,Mt,"y");if(Ne&&Ge){var Pe=ee.selectAll(".select-outline-"+gt.id);if(Pe&&yt._fullLayout._outlining&&Pe.length){for(var ze=Pe[0][0],Le=ze.getAttribute("d"),Se=_(Le,yt,gt),Ye=[],Be=0;Be<Se.length;Be++){for(var Ze=Se[Be],Fe=[],ke=0;ke<Ze.length;ke++)Fe.push([oe(Ne,Ze[ke][1]),oe(Ge,Ze[ke][2])]);Fe.xref=It,Fe.yref=Mt,Fe.subtract=re(Fe,Ye),Ye.push(Fe)}ie=ie.concat(Ye)}}}}var je=It&&Mt?[It+Mt]:zt._subplots.cartesian;Lt(yt);for(var Ke={},ln=0;ln<je.length;ln++){var Ve=je[ln],nn=Ve.indexOf("y"),an=Ve.slice(0,nn),gn=Ve.slice(nn),Ae=It&&Mt?Tt:void 0;if(Ae=ae(ie,an,gn,Ae),Ae){var sn=K;if(!mt){var tt=I(yt,an,"x"),lt=I(yt,gn,"y");sn=Z(yt,[tt],[lt],Ve);for(var Yt=0;Yt<sn.length;Yt++){var jt=sn[Yt],Ot=jt.cd[0],Pt=Ot.trace;if(jt._module.name==="scattergl"&&!Ot.t.xpx){var Et=Pt.x,Gt=Pt.y,Ft=Pt._length;Ot.t.xpx=[],Ot.t.ypx=[];for(var Ut=0;Ut<Ft;Ut++)Ot.t.xpx[Ut]=tt.c2p(Et[Ut]),Ot.t.ypx[Ut]=lt.c2p(Gt[Ut])}jt._module.name==="splom"&&(Ke[Pt.uid]||(Ke[Pt.uid]=!0))}}var Qt=bt(Ae,sn);qt=qt.concat(Qt),$t=$t.concat(sn)}}var ne={points:qt};Rt(yt,$t,ne);var ye=zt.clickmode,_e=ye.indexOf("event")>-1&&kt;if(!gt&&kt){var Me=Jt(yt,!0);if(Me.length){var Oe=Me[0].xref,Ie=Me[0].yref;if(Oe&&Ie){var Je=le(Me),Ee=Wt([I(yt,Oe,"x"),I(yt,Ie,"y")]);Ee(ne,Je)}}yt._fullLayout._noEmitSelectedAtStart?yt._fullLayout._noEmitSelectedAtStart=!1:_e&&ce(yt,ne),zt._reselect=!1}if(!gt&&zt._deselect){var He=zt._deselect;It=He.xref,Mt=He.yref,Nt(It,Mt,$t)||Vt(yt,It,Mt,K),_e&&(ne.points.length?ce(yt,ne):we(yt)),zt._deselect=!1}return{eventData:ne,selectionTesters:Tt}}function Lt(yt){var kt=yt.calcdata;if(kt)for(var Tt=0;Tt<kt.length;Tt++){var K=kt[Tt][0],ft=K.trace,mt=yt._fullLayout._splomScenes;if(mt){var gt=mt[ft.uid];gt&&(gt.selectBatch=[])}}}function Nt(yt,kt,Tt){for(var K=0;K<Tt.length;K++){var ft=Tt[K];if(ft.xaxis&&ft.xaxis._id===yt&&ft.yaxis&&ft.yaxis._id===kt)return!0}return!1}function Vt(yt,kt,Tt,K){K=Z(yt,[I(yt,kt,"x")],[I(yt,Tt,"y")],kt+Tt);for(var ft=0;ft<K.length;ft++){var mt=K[ft];mt._module.selectPoints(mt,!1)}Rt(yt,K)}function ae(yt,kt,Tt,K){for(var ft,mt=0;mt<yt.length;mt++){var gt=yt[mt];if(!(kt!==gt.xref||Tt!==gt.yref))if(ft){var It=!!gt.subtract;ft=Bt(ft,gt,It),K=A(ft)}else ft=[gt],K=C(gt)}return K}function Jt(yt,kt){for(var Tt=[],K=yt._fullLayout,ft=K.selections,mt=ft.length,gt=0;gt<mt;gt++)if(!(kt&&gt!==K._activeSelectionIndex)){var It=ft[gt];if(It){var Mt=It.xref,qt=It.yref,$t=I(yt,Mt,"x"),ie=I(yt,qt,"y"),zt,ee,se,pe,De;if(It.type==="rect"){De=[];var Ne=oe($t,It.x0),Ge=oe($t,It.x1),Pe=oe(ie,It.y0),ze=oe(ie,It.y1);De=[[Ne,Pe],[Ne,ze],[Ge,ze],[Ge,Pe]],zt=Math.min(Ne,Ge),ee=Math.max(Ne,Ge),se=Math.min(Pe,ze),pe=Math.max(Pe,ze),De.xmin=zt,De.xmax=ee,De.ymin=se,De.ymax=pe,De.xref=Mt,De.yref=qt,De.subtract=!1,De.isRect=!0,Tt.push(De)}else if(It.type==="path")for(var Le=It.path.split("Z"),Se=[],Ye=0;Ye<Le.length;Ye++){var Be=Le[Ye];if(Be){Be+="Z";var Ze=m.extractPathCoords(Be,g.paramIsX,"raw"),Fe=m.extractPathCoords(Be,g.paramIsY,"raw");zt=1/0,ee=-1/0,se=1/0,pe=-1/0,De=[];for(var ke=0;ke<Ze.length;ke++){var je=oe($t,Ze[ke]),Ke=oe(ie,Fe[ke]);De.push([je,Ke]),zt=Math.min(je,zt),ee=Math.max(je,ee),se=Math.min(Ke,se),pe=Math.max(Ke,pe)}De.xmin=zt,De.xmax=ee,De.ymin=se,De.ymax=pe,De.xref=Mt,De.yref=qt,De.subtract=re(De,Se),Se.push(De),Tt.push(De)}}}}return Tt}function re(yt,kt){for(var Tt=!1,K=0;K<kt.length;K++)for(var ft=kt[K],mt=0;mt<yt.length;mt++)if(t(yt[mt],ft)){Tt=!Tt;break}return Tt}function oe(yt,kt){return yt.type==="date"&&(kt=kt.replace("_"," ")),yt.type==="log"?yt.c2p(kt):yt.r2p(kt,null,yt.calendar)}function le(yt){for(var kt=yt.length,Tt=[],K=0;K<kt;K++){var ft=yt[K];Tt=Tt.concat(ft),Tt=Tt.concat([ft[0]])}return ve(Tt)}function ve(yt){return yt.isRect=yt.length===5&&yt[0][0]===yt[4][0]&&yt[0][1]===yt[4][1]&&yt[0][0]===yt[1][0]&&yt[2][0]===yt[3][0]&&yt[0][1]===yt[3][1]&&yt[1][1]===yt[2][1]||yt[0][1]===yt[1][1]&&yt[2][1]===yt[3][1]&&yt[0][0]===yt[3][0]&&yt[1][0]===yt[2][0],yt.isRect&&(yt.xmin=Math.min(yt[0][0],yt[2][0]),yt.xmax=Math.max(yt[0][0],yt[2][0]),yt.ymin=Math.min(yt[0][1],yt[2][1]),yt.ymax=Math.max(yt[0][1],yt[2][1])),yt}function Wt(yt){return function(kt,Tt){for(var K,ft,mt=0;mt<yt.length;mt++){var gt=yt[mt],It=gt._id,Mt=It.charAt(0);if(Tt.isRect){K||(K={});var qt=Tt[Mt+"min"],$t=Tt[Mt+"max"];qt!==void 0&&$t!==void 0&&(K[It]=[J(gt,qt),J(gt,$t)].sort(O))}else ft||(ft={}),ft[It]=Tt.map(at(gt))}K&&(kt.range=K),ft&&(kt.lassoPoints=ft)}}function ge(yt){var kt=yt.plotinfo;return kt.fillRangeItems||Wt(yt.xaxes.concat(yt.yaxes))}function Te(yt,kt){yt.emit("plotly_selecting",kt)}function ce(yt,kt){kt&&(kt.selections=(yt.layout||{}).selections||[]),yt.emit("plotly_selected",kt)}function we(yt){yt.emit("plotly_deselect",null)}D.exports={reselect:ot,prepSelect:dt,clearOutline:v,clearSelectionsCache:M,selectOnClick:ht}}),Tl=Dt((F,D)=>{D.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]}),ti=Dt((F,D)=>{D.exports={axisRefDescription:function(i,t,n){return["If set to a",i,"axis id (e.g. *"+i+"* or","*"+i+"2*), the `"+i+"` position refers to a",i,"coordinate. If set to *paper*, the `"+i+"`","position refers to the distance from the",t,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",t,"("+n+"). If set to a",i,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",t,"of the domain of that axis: e.g.,","*"+i+"2 domain* refers to the domain of the second",i," axis and a",i,"position of 0.5 refers to the","point between the",t,"and the",n,"of the domain of the","second",i,"axis."].join(" ")}}}),zr=Dt((F,D)=>{var i=Tl(),t=ha(),n=pa(),r=jn().templatedArray;ti(),D.exports=r("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:t({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:i.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:i.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",n.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",n.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",n.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",n.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:t({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc"})}),Ji=Dt((F,D)=>{D.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}}),jc=Dt((F,D)=>{D.exports=function(i){return{valType:"color",editType:"style",anim:!0}}}),Tr=Dt((F,D)=>{var i=Ii().axisHoverFormat,t=ar().texttemplateAttrs,n=ar().hovertemplateAttrs,r=Jr(),l=ha(),o=$a().dash,s=$a().pattern,f=Nn(),e=Ji(),p=la().extendFlat,u=jc();function h(g){return{valType:"any",dflt:0,editType:"calc"}}function b(g){return{valType:"any",editType:"calc"}}function m(g){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}D.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:h(),yperiod:h(),xperiod0:b(),yperiod0:b(),xperiodalignment:m(),yperiodalignment:m(),xhoverformat:i("x"),yhoverformat:i("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:t({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:n({},{keys:e.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:p({},o,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:u(!0),fillgradient:p({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:s,marker:p({symbol:{valType:"enumerated",values:f.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:p({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},r("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},r("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:l({editType:"calc",colorEditType:"style",arrayOk:!0}),zorder:{valType:"integer",dflt:0,editType:"plot"}}}),kl=Dt((F,D)=>{var i=zr(),t=Tr().line,n=$a().dash,r=la().extendFlat,l=qa().overrideAll,o=jn().templatedArray;ti(),D.exports=l(o("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:r({},i.xref,{}),yref:r({},i.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:t.color,width:r({},t.width,{min:1,dflt:1}),dash:r({},n,{dflt:"dot"})}}),"arraydraw","from-root")}),Vc=Dt((F,D)=>{var i=Ce(),t=Yn(),n=Ya(),r=kl(),l=hr();D.exports=function(s,f){n(s,f,{name:"selections",handleItemDefaults:o});for(var e=f.selections,p=0;p<e.length;p++){var u=e[p];u&&u.path===void 0&&(u.x0===void 0||u.x1===void 0||u.y0===void 0||u.y1===void 0)&&(f.selections[p]=null)}};function o(s,f,e){function p(E,N){return i.coerce(s,f,r,E,N)}var u=p("path"),h=u?"path":"rect",b=p("type",h),m=b!=="path";m&&delete f.path,p("opacity"),p("line.color"),p("line.width"),p("line.dash");for(var g=["x","y"],y=0;y<2;y++){var v=g[y],c={_fullLayout:e},d,_,w,k=t.coerceRef(s,f,c,v);if(d=t.getFromId(c,k),d._selectionIndices.push(f._index),w=l.rangeToShapePosition(d),_=l.shapePositionToRange(d),m){var $=v+"0",P=v+"1",O=s[$],T=s[P];s[$]=_(s[$],!0),s[P]=_(s[P],!0),t.coercePosition(f,c,p,k,$),t.coercePosition(f,c,p,k,P);var X=f[$],I=f[P];X!==void 0&&I!==void 0&&(f[$]=w(X),f[P]=w(I),s[$]=O,s[P]=T)}}m&&i.noneOrAll(s,f,["x0","x1","y0","y1"])}}),Yc=Dt((F,D)=>{D.exports=function(i,t,n){n("newselection.mode");var r=n("newselection.line.width");r&&(n("newselection.line.color"),n("newselection.line.dash")),n("activeselection.fillcolor"),n("activeselection.opacity")}}),ei=Dt((F,D)=>{var i=un(),t=Ce(),n=ua();D.exports=function(r){return function(l,o){var s=l[r];if(Array.isArray(s))for(var f=i.subplotsRegistry.cartesian,e=f.idRegex,p=o._subplots,u=p.xaxis,h=p.yaxis,b=p.cartesian,m=o._has("cartesian"),g=0;g<s.length;g++){var y=s[g];if(t.isPlainObject(y)){var v=n.cleanId(y.xref,"x",!1),c=n.cleanId(y.yref,"y",!1),d=e.x.test(v),_=e.y.test(c);if(d||_){m||t.pushUnique(o._basePlotModules,f);var w=!1;d&&u.indexOf(v)===-1&&(u.push(v),w=!0),_&&h.indexOf(c)===-1&&(h.push(c),w=!0),w&&d&&_&&b.push(v+c)}}}}}}),Br=Dt((F,D)=>{var i=wl(),t=Hc();D.exports={moduleType:"component",name:"selections",layoutAttributes:kl(),supplyLayoutDefaults:Vc(),supplyDrawNewSelectionDefaults:Yc(),includeBasePlot:ei()("selections"),draw:i.draw,drawOne:i.drawOne,reselect:t.reselect,prepSelect:t.prepSelect,clearOutline:t.clearOutline,clearSelectionsCache:t.clearSelectionsCache,selectOnClick:t.selectOnClick}}),Zc=Dt((F,D)=>{var i=_n(),t=Ce(),n=t.numberFormat,r=Na(),l=ll(),o=un(),s=t.strTranslate,f=ma(),e=bn(),p=Nn(),u=Ka(),h=Yn(),b=fr(),m=Za(),g=Er(),y=g.selectingOrDrawing,v=g.freeMode,c=Ta().FROM_TL,d=ji(),_=Wi().redrawReglTraces,w=ea(),k=ua().getFromId,$=Br().prepSelect,P=Br().clearOutline,O=Br().selectOnClick,T=_l(),X=pa(),I=X.MINDRAG,E=X.MINZOOM,N=!0;function V(Y,rt,st,ut,_t,At,Rt,Xt){var Bt=Y._fullLayout._zoomlayer,Ht=Rt+Xt==="nsew",pt=(Rt+Xt).length===1,bt,ot,Lt,Nt,Vt,ae,Jt,re,oe,le,ve,Wt,ge,Te,ce,we,yt,kt,Tt,K,ft,mt,gt;st+=rt.yaxis._shift;function It(){if(bt=rt.xaxis,ot=rt.yaxis,oe=bt._length,le=ot._length,Jt=bt._offset,re=ot._offset,Lt={},Lt[bt._id]=bt,Nt={},Nt[ot._id]=ot,Rt&&Xt)for(var Ot=rt.overlays,Pt=0;Pt<Ot.length;Pt++){var Et=Ot[Pt].xaxis;Lt[Et._id]=Et;var Gt=Ot[Pt].yaxis;Nt[Gt._id]=Gt}Vt=Z(Lt),ae=Z(Nt),ge=C(Vt,Xt),Te=C(ae,Rt),ce=!Te&&!ge,Wt=M(Y,Y._fullLayout._axisMatchGroups,Lt,Nt),ve=M(Y,Y._fullLayout._axisConstraintGroups,Lt,Nt,Wt);var Ft=ve.isSubplotConstrained||Wt.isSubplotConstrained;we=Xt||Ft,yt=Rt||Ft;var Ut=Y._fullLayout;kt=Ut._has("scattergl"),Tt=Ut._has("splom"),K=Ut._has("svg")}It();var Mt=it(Te+ge,Y._fullLayout.dragmode,Ht),qt=G(rt,Rt+Xt+"drag",Mt,st,ut,_t,At);if(ce&&!Ht)return qt.onmousedown=null,qt.style.pointerEvents="none",qt;var $t={element:qt,gd:Y,plotinfo:rt};$t.prepFn=function(Ot,Pt,Et){var Gt=$t.dragmode,Ft=Y._fullLayout.dragmode;Ft!==Gt&&($t.dragmode=Ft),It(),mt=Y._fullLayout._invScaleX,gt=Y._fullLayout._invScaleY,ce||(Ht?Ot.shiftKey?Ft==="pan"?Ft="zoom":y(Ft)||(Ft="pan"):Ot.ctrlKey&&(Ft="pan"):Ft="pan"),v(Ft)?$t.minDrag=1:$t.minDrag=void 0,y(Ft)?($t.xaxes=Vt,$t.yaxes=ae,$(Ot,Pt,Et,$t,Ft)):($t.clickFn=zt,y(Gt)&&ie(),ce||(Ft==="zoom"?($t.moveFn=Be,$t.doneFn=Fe,$t.minDrag=1,Ye(Ot,Pt,Et)):Ft==="pan"&&($t.moveFn=nn,$t.doneFn=sn))),Y._fullLayout._redrag=function(){var Ut=Y._dragdata;if(Ut&&Ut.element===qt){var Qt=Y._fullLayout.dragmode;y(Qt)||(It(),tt([0,0,oe,le]),$t.moveFn(Ut.dx,Ut.dy))}}};function ie(){$t.plotinfo.selection=!1,P(Y)}function zt(Ot,Pt){var Et=$t.gd;if(Et._fullLayout._activeShapeIndex>=0){Et._fullLayout._deactivateShape(Et);return}var Gt=Et._fullLayout.clickmode;if(j(Et),Ot===2&&!pt&&Ae(),Ht)Gt.indexOf("select")>-1&&O(Pt,Et,Vt,ae,rt.id,$t),Gt.indexOf("event")>-1&&u.click(Et,Pt,rt.id);else if(Ot===1&&pt){var Ft=Rt?ot:bt,Ut=Rt==="s"||Xt==="w"?0:1,Qt=Ft._name+".range["+Ut+"]",ne=W(Ft,Ut),ye="left",_e="middle";if(Ft.fixedrange)return;Rt?(_e=Rt==="n"?"top":"bottom",Ft.side==="right"&&(ye="right")):Xt==="e"&&(ye="right"),Et._context.showAxisRangeEntryBoxes&&i.select(qt).call(f.makeEditable,{gd:Et,immediate:!0,background:Et._fullLayout.paper_bgcolor,text:String(ne),fill:Ft.tickfont?Ft.tickfont.color:"#444",horizontalAlign:ye,verticalAlign:_e}).on("edit",function(Me){var Oe=Ft.d2r(Me);Oe!==void 0&&o.call("_guiRelayout",Et,Qt,Oe)})}}m.init($t);var ee,se,pe,De,Ne,Ge,Pe,ze,Le,Se;function Ye(Ot,Pt,Et){var Gt=qt.getBoundingClientRect();ee=Pt-Gt.left,se=Et-Gt.top,Y._fullLayout._calcInverseTransform(Y);var Ft=t.apply3DTransform(Y._fullLayout._invTransform)(ee,se);ee=Ft[0],se=Ft[1],pe={l:ee,r:ee,w:0,t:se,b:se,h:0},De=Y._hmpixcount?Y._hmlumcount/Y._hmpixcount:r(Y._fullLayout.plot_bgcolor).getLuminance(),Ne="M0,0H"+oe+"V"+le+"H0V0",Ge=!1,Pe="xy",Se=!1,ze=dt(Bt,De,Jt,re,Ne),Le=ht(Bt,Jt,re)}function Be(Ot,Pt){if(Y._transitioningWithDuration)return!1;var Et=Math.max(0,Math.min(oe,mt*Ot+ee)),Gt=Math.max(0,Math.min(le,gt*Pt+se)),Ft=Math.abs(Et-ee),Ut=Math.abs(Gt-se);pe.l=Math.min(ee,Et),pe.r=Math.max(ee,Et),pe.t=Math.min(se,Gt),pe.b=Math.max(se,Gt);function Qt(){Pe="",pe.r=pe.l,pe.t=pe.b,Le.attr("d","M0,0Z")}if(ve.isSubplotConstrained)Ft>E||Ut>E?(Pe="xy",Ft/oe>Ut/le?(Ut=Ft*le/oe,se>Gt?pe.t=se-Ut:pe.b=se+Ut):(Ft=Ut*oe/le,ee>Et?pe.l=ee-Ft:pe.r=ee+Ft),Le.attr("d",z(pe))):Qt();else if(Wt.isSubplotConstrained)if(Ft>E||Ut>E){Pe="xy";var ne=Math.min(pe.l/oe,(le-pe.b)/le),ye=Math.max(pe.r/oe,(le-pe.t)/le);pe.l=ne*oe,pe.r=ye*oe,pe.b=(1-ne)*le,pe.t=(1-ye)*le,Le.attr("d",z(pe))}else Qt();else!Te||Ut<Math.min(Math.max(Ft*.6,I),E)?Ft<I||!ge?Qt():(pe.t=0,pe.b=le,Pe="x",Le.attr("d",q(pe,se))):!ge||Ft<Math.min(Ut*.6,E)?(pe.l=0,pe.r=oe,Pe="y",Le.attr("d",R(pe,ee))):(Pe="xy",Le.attr("d",z(pe)));pe.w=pe.r-pe.l,pe.h=pe.b-pe.t,Pe&&(Se=!0),Y._dragged=Se,xt(ze,Le,pe,Ne,Ge,De),Ze(),Y.emit("plotly_relayouting",ft),Ge=!0}function Ze(){ft={},(Pe==="xy"||Pe==="x")&&(J(Vt,pe.l/oe,pe.r/oe,ft,ve.xaxes),an("x",ft)),(Pe==="xy"||Pe==="y")&&(J(ae,(le-pe.b)/le,(le-pe.t)/le,ft,ve.yaxes),an("y",ft))}function Fe(){Ze(),j(Y),sn(),A(Y)}var ke=[0,0,oe,le],je=null,Ke=X.REDRAWDELAY,ln=rt.mainplot?Y._fullLayout._plots[rt.mainplot]:rt;function Ve(Ot){if(!Y._context._scrollZoom.cartesian&&!Y._fullLayout._enablescrollzoom)return;if(ie(),Y._transitioningWithDuration){Ot.preventDefault(),Ot.stopPropagation();return}It(),clearTimeout(je);var Pt=-Ot.deltaY;if(isFinite(Pt)||(Pt=Ot.wheelDelta/10),!isFinite(Pt)){t.log("Did not find wheel motion attributes: ",Ot);return}var Et=Math.exp(-Math.min(Math.max(Pt,-20),20)/200),Gt=ln.draglayer.select(".nsewdrag").node().getBoundingClientRect(),Ft=(Ot.clientX-Gt.left)/Gt.width,Ut=(Gt.bottom-Ot.clientY)/Gt.height,Qt;function ne(ye,_e,Me){if(ye.fixedrange)return;var Oe=t.simpleMap(ye.range,ye.r2l),Ie=Oe[0]+(Oe[1]-Oe[0])*_e;function Je(Ee){return ye.l2r(Ie+(Ee-Ie)*Me)}ye.range=Oe.map(Je)}if(we){for(Xt||(Ft=.5),Qt=0;Qt<Vt.length;Qt++)ne(Vt[Qt],Ft,Et);an("x"),ke[2]*=Et,ke[0]+=ke[2]*Ft*(1/Et-1)}if(yt){for(Rt||(Ut=.5),Qt=0;Qt<ae.length;Qt++)ne(ae[Qt],Ut,Et);an("y"),ke[3]*=Et,ke[1]+=ke[3]*(1-Ut)*(1/Et-1)}tt(ke),gn(),Y.emit("plotly_relayouting",ft),je=setTimeout(function(){Y._fullLayout&&(ke=[0,0,oe,le],sn())},Ke),Ot.preventDefault()}Rt.length*Xt.length!==1&&S(qt,Ve);function nn(Ot,Pt){if(Ot=Ot*mt,Pt=Pt*gt,Y._transitioningWithDuration)return;if(Y._fullLayout._replotting=!0,ge==="ew"||Te==="ns"){var Et=ge?-Ot:0,Gt=Te?-Pt:0;if(Wt.isSubplotConstrained){if(ge&&Te){var Ft=(Ot/oe-Pt/le)/2;Ot=Ft*oe,Pt=-Ft*le,Et=-Ot,Gt=-Pt}Te?Et=-Gt*oe/le:Gt=-Et*le/oe}ge&&(at(Vt,Ot),an("x")),Te&&(at(ae,Pt),an("y")),tt([Et,Gt,oe,le]),gn(),Y.emit("plotly_relayouting",ft);return}function Ut(Je,Ee,He){for(var qe=1-Ee,on,cn,Cn=0;Cn<Je.length;Cn++){var yn=Je[Cn];if(!yn.fixedrange){on=yn,cn=yn._rl[qe]+(yn._rl[Ee]-yn._rl[qe])/et(He/yn._length);var Mn=yn.l2r(cn);Mn!==!1&&Mn!==void 0&&(yn.range[Ee]=Mn)}}return on._length*(on._rl[Ee]-cn)/(on._rl[Ee]-on._rl[qe])}var Qt=ge==="w"==(Te==="n")?1:-1;if(ge&&Te&&(ve.isSubplotConstrained||Wt.isSubplotConstrained)){var ne=(Ot/oe+Qt*Pt/le)/2;Ot=ne*oe,Pt=Qt*ne*le}var ye,_e;if(ge==="w"?Ot=Ut(Vt,0,Ot):ge==="e"?Ot=Ut(Vt,1,-Ot):ge||(Ot=0),Te==="n"?Pt=Ut(ae,1,Pt):Te==="s"?Pt=Ut(ae,0,-Pt):Te||(Pt=0),ye=ge==="w"?Ot:0,_e=Te==="n"?Pt:0,ve.isSubplotConstrained&&!Wt.isSubplotConstrained||Wt.isSubplotConstrained&&ge&&Te&&Qt>0){var Me;if(Wt.isSubplotConstrained||!ge&&Te.length===1){for(Me=0;Me<Vt.length;Me++)Vt[Me].range=Vt[Me]._r.slice(),T(Vt[Me],1-Pt/le);Ot=Pt*oe/le,ye=Ot/2}if(Wt.isSubplotConstrained||!Te&&ge.length===1){for(Me=0;Me<ae.length;Me++)ae[Me].range=ae[Me]._r.slice(),T(ae[Me],1-Ot/oe);Pt=Ot*le/oe,_e=Pt/2}}(!Wt.isSubplotConstrained||!Te)&&an("x"),(!Wt.isSubplotConstrained||!ge)&&an("y");var Oe=oe-Ot,Ie=le-Pt;Wt.isSubplotConstrained&&!(ge&&Te)&&(ge?(_e=ye?0:Ot*le/oe,Ie=Oe*le/oe):(ye=_e?0:Pt*oe/le,Oe=Ie*oe/le)),tt([ye,_e,Oe,Ie]),gn(),Y.emit("plotly_relayouting",ft)}function an(Ot,Pt){for(var Et=Wt.isSubplotConstrained?{x:ae,y:Vt}[Ot]:Wt[Ot+"axes"],Gt=Wt.isSubplotConstrained?{x:Vt,y:ae}[Ot]:[],Ft=0;Ft<Et.length;Ft++){var Ut=Et[Ft],Qt=Ut._id,ne=Wt.xLinks[Qt]||Wt.yLinks[Qt],ye=Gt[0]||Lt[ne]||Nt[ne];ye&&(Pt?(Pt[Ut._name+".range[0]"]=Pt[ye._name+".range[0]"],Pt[Ut._name+".range[1]"]=Pt[ye._name+".range[1]"]):Ut.range=ye.range.slice())}}function gn(){var Ot=[],Pt;function Et(Qt){for(Pt=0;Pt<Qt.length;Pt++)Qt[Pt].fixedrange||Ot.push(Qt[Pt]._id)}function Gt(Qt,ne){for(Pt=0;Pt<Qt.length;Pt++){var ye=Qt[Pt],_e=ye[ne];!ye.fixedrange&&_e.tickmode==="sync"&&Ot.push(_e._id)}}for(we&&(Et(Vt),Et(ve.xaxes),Et(Wt.xaxes),Gt(rt.overlays,"xaxis")),yt&&(Et(ae),Et(ve.yaxes),Et(Wt.yaxes),Gt(rt.overlays,"yaxis")),ft={},Pt=0;Pt<Ot.length;Pt++){var Ft=Ot[Pt],Ut=k(Y,Ft);h.drawOne(Y,Ut,{skipTitle:!0}),ft[Ut._name+".range[0]"]=Ut.range[0],ft[Ut._name+".range[1]"]=Ut.range[1]}h.redrawComponents(Y,Ot)}function Ae(){if(!Y._transitioningWithDuration){var Ot=Y._context.doubleClick,Pt=[];ge&&(Pt=Pt.concat(Vt)),Te&&(Pt=Pt.concat(ae)),Wt.xaxes&&(Pt=Pt.concat(Wt.xaxes)),Wt.yaxes&&(Pt=Pt.concat(Wt.yaxes));var Et={},Gt,Ft;if(Ot==="reset+autosize")for(Ot="autosize",Ft=0;Ft<Pt.length;Ft++){Gt=Pt[Ft];var Ut=Gt._rangeInitial0,Qt=Gt._rangeInitial1,ne=Ut!==void 0||Qt!==void 0;if(ne&&(Ut!==void 0&&Ut!==Gt.range[0]||Qt!==void 0&&Qt!==Gt.range[1])||!ne&&Gt.autorange!==!0){Ot="reset";break}}if(Ot==="autosize")for(Ft=0;Ft<Pt.length;Ft++)Gt=Pt[Ft],Gt.fixedrange||(Et[Gt._name+".autorange"]=!0);else if(Ot==="reset"){for((ge||ve.isSubplotConstrained)&&(Pt=Pt.concat(ve.xaxes)),Te&&!ve.isSubplotConstrained&&(Pt=Pt.concat(ve.yaxes)),ve.isSubplotConstrained&&(ge?Te||(Pt=Pt.concat(ae)):Pt=Pt.concat(Vt)),Ft=0;Ft<Pt.length;Ft++)if(Gt=Pt[Ft],!Gt.fixedrange){var ye=Gt._name,_e=Gt._autorangeInitial;Gt._rangeInitial0===void 0&&Gt._rangeInitial1===void 0?Et[ye+".autorange"]=!0:Gt._rangeInitial0===void 0?(Et[ye+".autorange"]=_e,Et[ye+".range"]=[null,Gt._rangeInitial1]):Gt._rangeInitial1===void 0?(Et[ye+".range"]=[Gt._rangeInitial0,null],Et[ye+".autorange"]=_e):Et[ye+".range"]=[Gt._rangeInitial0,Gt._rangeInitial1]}}Y.emit("plotly_doubleclick",null),o.call("_guiRelayout",Y,Et)}}function sn(){tt([0,0,oe,le]),t.syncOrAsync([w.previousPromises,function(){Y._fullLayout._replotting=!1,o.call("_guiRelayout",Y,ft)}],Y)}function tt(Ot){var Pt=Y._fullLayout,Et=Pt._plots,Gt=Pt._subplots.cartesian,Ft,Ut,Qt,ne;if(Tt&&o.subplotsRegistry.splom.drag(Y),kt){for(Ft=0;Ft<Gt.length;Ft++)if(Ut=Et[Gt[Ft]],Qt=Ut.xaxis,ne=Ut.yaxis,Ut._scene){Qt.limitRange&&Qt.limitRange(),ne.limitRange&&ne.limitRange();var ye=t.simpleMap(Qt.range,Qt.r2l),_e=t.simpleMap(ne.range,ne.r2l);Ut._scene.update({range:[ye[0],_e[0],ye[1],_e[1]]})}}if((Tt||kt)&&(d(Y),_(Y)),K){var Me=Ot[2]/bt._length,Oe=Ot[3]/ot._length;for(Ft=0;Ft<Gt.length;Ft++){Ut=Et[Gt[Ft]],Qt=Ut.xaxis,ne=Ut.yaxis;var Ie=(we||Wt.isSubplotConstrained)&&!Qt.fixedrange&&Lt[Qt._id],Je=(yt||Wt.isSubplotConstrained)&&!ne.fixedrange&&Nt[ne._id],Ee,He,qe,on;if(Ie?(Ee=Me,qe=Xt||Wt.isSubplotConstrained?Ot[0]:jt(Qt,Ee)):Wt.xaHash[Qt._id]?(Ee=Me,qe=Ot[0]*Qt._length/bt._length):Wt.yaHash[Qt._id]?(Ee=Oe,qe=Te==="ns"?-Ot[1]*Qt._length/ot._length:jt(Qt,Ee,{n:"top",s:"bottom"}[Te])):(Ee=lt(Qt,Me,Oe),qe=Yt(Qt,Ee)),Ee>1&&(Qt.maxallowed!==void 0&&we===(Qt.range[0]<Qt.range[1]?"e":"w")||Qt.minallowed!==void 0&&we===(Qt.range[0]<Qt.range[1]?"w":"e"))&&(Ee=1,qe=0),Je?(He=Oe,on=Rt||Wt.isSubplotConstrained?Ot[1]:jt(ne,He)):Wt.yaHash[ne._id]?(He=Oe,on=Ot[1]*ne._length/ot._length):Wt.xaHash[ne._id]?(He=Me,on=ge==="ew"?-Ot[0]*ne._length/bt._length:jt(ne,He,{e:"right",w:"left"}[ge])):(He=lt(ne,Me,Oe),on=Yt(ne,He)),He>1&&(ne.maxallowed!==void 0&&yt===(ne.range[0]<ne.range[1]?"n":"s")||ne.minallowed!==void 0&&yt===(ne.range[0]<ne.range[1]?"s":"n"))&&(He=1,on=0),!(!Ee&&!He)){Ee||(Ee=1),He||(He=1);var cn=Qt._offset-qe/Ee,Cn=ne._offset-on/He;Ut.clipRect.call(p.setTranslate,qe,on).call(p.setScale,Ee,He),Ut.plot.call(p.setTranslate,cn,Cn).call(p.setScale,1/Ee,1/He),(Ee!==Ut.xScaleFactor||He!==Ut.yScaleFactor)&&(p.setPointGroupScale(Ut.zoomScalePts,Ee,He),p.setTextPointsScale(Ut.zoomScaleTxt,Ee,He)),p.hideOutsideRangePoints(Ut.clipOnAxisFalseTraces,Ut),Ut.xScaleFactor=Ee,Ut.yScaleFactor=He}}}}function lt(Ot,Pt,Et){return Ot.fixedrange?0:we&&ve.xaHash[Ot._id]?Pt:yt&&(ve.isSubplotConstrained?ve.xaHash:ve.yaHash)[Ot._id]?Et:0}function Yt(Ot,Pt){return Pt?(Ot.range=Ot._r.slice(),T(Ot,Pt),jt(Ot,Pt)):0}function jt(Ot,Pt,Et){return Ot._length*(1-Pt)*c[Et||Ot.constraintoward||"middle"]}return qt}function U(Y,rt,st,ut){var _t=t.ensureSingle(Y.draglayer,rt,st,function(At){At.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",Y.id)});return _t.call(b,ut),_t.node()}function G(Y,rt,st,ut,_t,At,Rt){var Xt=U(Y,"rect",rt,st);return i.select(Xt).call(p.setRect,ut,_t,At,Rt),Xt}function C(Y,rt){for(var st=0;st<Y.length;st++)if(!Y[st].fixedrange)return rt;return""}function W(Y,rt){var st=Y.range[rt],ut=Math.abs(st-Y.range[1-rt]),_t;return Y.type==="date"?st:Y.type==="log"?(_t=Math.ceil(Math.max(0,-Math.log(ut)/Math.LN10))+3,n("."+_t+"g")(Math.pow(10,st))):(_t=Math.floor(Math.log(Math.abs(st))/Math.LN10)-Math.floor(Math.log(ut)/Math.LN10)+4,n("."+String(_t)+"g")(st))}function J(Y,rt,st,ut,_t){for(var At=0;At<Y.length;At++){var Rt=Y[At];if(!Rt.fixedrange)if(Rt.rangebreaks){var Xt=Rt._id.charAt(0)==="y",Bt=Xt?1-rt:rt,Ht=Xt?1-st:st;ut[Rt._name+".range[0]"]=Rt.l2r(Rt.p2l(Bt*Rt._length)),ut[Rt._name+".range[1]"]=Rt.l2r(Rt.p2l(Ht*Rt._length))}else{var pt=Rt._rl[0],bt=Rt._rl[1]-pt;ut[Rt._name+".range[0]"]=Rt.l2r(pt+bt*rt),ut[Rt._name+".range[1]"]=Rt.l2r(pt+bt*st)}}if(_t&&_t.length){var ot=(rt+(1-st))/2;J(_t,ot,1-ot,ut,[])}}function at(Y,rt){for(var st=0;st<Y.length;st++){var ut=Y[st];if(!ut.fixedrange){if(ut.rangebreaks){var _t=0,At=ut._length,Rt=ut.p2l(_t+rt)-ut.p2l(_t),Xt=ut.p2l(At+rt)-ut.p2l(At),Bt=(Rt+Xt)/2;ut.range=[ut.l2r(ut._rl[0]-Bt),ut.l2r(ut._rl[1]-Bt)]}else ut.range=[ut.l2r(ut._rl[0]-rt/ut._m),ut.l2r(ut._rl[1]-rt/ut._m)];ut.limitRange&&ut.limitRange()}}}function et(Y){return 1-(Y>=0?Math.min(Y,.9):1/(1/Math.max(Y,-.3)+3.222))}function it(Y,rt,st){return Y?Y==="nsew"?st?"":rt==="pan"?"move":"crosshair":Y.toLowerCase()+"-resize":"pointer"}function dt(Y,rt,st,ut,_t){return Y.append("path").attr("class","zoombox").style({fill:rt>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",s(st,ut)).attr("d",_t+"Z")}function ht(Y,rt,st){return Y.append("path").attr("class","zoombox-corners").style({fill:e.background,stroke:e.defaultLine,"stroke-width":1,opacity:0}).attr("transform",s(rt,st)).attr("d","M0,0Z")}function xt(Y,rt,st,ut,_t,At){Y.attr("d",ut+"M"+st.l+","+st.t+"v"+st.h+"h"+st.w+"v-"+st.h+"h-"+st.w+"Z"),H(Y,rt,_t,At)}function H(Y,rt,st,ut){st||(Y.transition().style("fill",ut>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),rt.transition().style("opacity",1).duration(200))}function j(Y){i.select(Y).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function A(Y){N&&Y.data&&Y._context.showTips&&(t.notifier(t._(Y,"Double-click to zoom back out"),"long"),N=!1)}function q(Y,rt){return"M"+(Y.l-.5)+","+(rt-E-.5)+"h-3v"+(2*E+1)+"h3ZM"+(Y.r+.5)+","+(rt-E-.5)+"h3v"+(2*E+1)+"h-3Z"}function R(Y,rt){return"M"+(rt-E-.5)+","+(Y.t-.5)+"v-3h"+(2*E+1)+"v3ZM"+(rt-E-.5)+","+(Y.b+.5)+"v3h"+(2*E+1)+"v-3Z"}function z(Y){var rt=Math.floor(Math.min(Y.b-Y.t,Y.r-Y.l,E)/2);return"M"+(Y.l-3.5)+","+(Y.t-.5+rt)+"h3v"+-rt+"h"+rt+"v-3h-"+(rt+3)+"ZM"+(Y.r+3.5)+","+(Y.t-.5+rt)+"h-3v"+-rt+"h"+-rt+"v-3h"+(rt+3)+"ZM"+(Y.r+3.5)+","+(Y.b+.5-rt)+"h-3v"+rt+"h"+-rt+"v3h"+(rt+3)+"ZM"+(Y.l-3.5)+","+(Y.b+.5-rt)+"h3v"+rt+"h"+rt+"v3h-"+(rt+3)+"Z"}function M(Y,rt,st,ut,_t){for(var At=!1,Rt={},Xt={},Bt,Ht,pt,bt,ot=(_t||{}).xaHash,Lt=(_t||{}).yaHash,Nt=0;Nt<rt.length;Nt++){var Vt=rt[Nt];for(Bt in st)if(Vt[Bt]){for(pt in Vt)!(_t&&(ot[pt]||Lt[pt]))&&!(pt.charAt(0)==="x"?st:ut)[pt]&&(Rt[pt]=Bt);for(Ht in ut)!(_t&&(ot[Ht]||Lt[Ht]))&&Vt[Ht]&&(At=!0)}for(Ht in ut)if(Vt[Ht])for(bt in Vt)!(_t&&(ot[bt]||Lt[bt]))&&!(bt.charAt(0)==="x"?st:ut)[bt]&&(Xt[bt]=Ht)}At&&(t.extendFlat(Rt,Xt),Xt={});var ae={},Jt=[];for(pt in Rt){var re=k(Y,pt);Jt.push(re),ae[re._id]=re}var oe={},le=[];for(bt in Xt){var ve=k(Y,bt);le.push(ve),oe[ve._id]=ve}return{xaHash:ae,yaHash:oe,xaxes:Jt,yaxes:le,xLinks:Rt,yLinks:Xt,isSubplotConstrained:At}}function S(Y,rt){if(!l)Y.onwheel!==void 0?Y.onwheel=rt:Y.onmousewheel!==void 0?Y.onmousewheel=rt:Y.isAddedWheelEvent||(Y.isAddedWheelEvent=!0,Y.addEventListener("wheel",rt,{passive:!1}));else{var st=Y.onwheel!==void 0?"wheel":"mousewheel";Y._onwheel&&Y.removeEventListener(st,Y._onwheel),Y._onwheel=rt,Y.addEventListener(st,rt,{passive:!1})}}function Z(Y){var rt=[];for(var st in Y)rt.push(Y[st]);return rt}D.exports={makeDragBox:V,makeDragger:U,makeRectDragger:G,makeZoombox:dt,makeCorners:ht,updateZoombox:xt,xyCorners:z,transitionZoombox:H,removeZoombox:j,showDoubleClickNotifier:A,attachWheelEventHandler:S}}),Al=Dt(F=>{var D=_n(),i=Ka(),t=Za(),n=fr(),r=Zc().makeDragBox,l=pa().DRAGGERSIZE;F.initInteractions=function(o){var s=o._fullLayout;if(o._context.staticPlot){D.select(o).selectAll(".drag").remove();return}if(!(!s._has("cartesian")&&!s._has("splom"))){var f=Object.keys(s._plots||{}).sort(function(p,u){if((s._plots[p].mainplot&&!0)===(s._plots[u].mainplot&&!0)){var h=p.split("y"),b=u.split("y");return h[0]===b[0]?Number(h[1]||1)-Number(b[1]||1):Number(h[0]||1)-Number(b[0]||1)}return s._plots[p].mainplot?1:-1});f.forEach(function(p){var u=s._plots[p],h=u.xaxis,b=u.yaxis;if(!u.mainplot){var m=r(o,u,h._offset,b._offset,h._length,b._length,"ns","ew");m.onmousemove=function(v){o._fullLayout._rehover=function(){o._fullLayout._hoversubplot===p&&o._fullLayout._plots[p]&&i.hover(o,v,p)},i.hover(o,v,p),o._fullLayout._lasthover=m,o._fullLayout._hoversubplot=p},m.onmouseout=function(v){o._dragging||(o._fullLayout._hoversubplot=null,t.unhover(o,v))},o._context.showAxisDragHandles&&(r(o,u,h._offset-l,b._offset-l,l,l,"n","w"),r(o,u,h._offset+h._length,b._offset-l,l,l,"n","e"),r(o,u,h._offset-l,b._offset+b._length,l,l,"s","w"),r(o,u,h._offset+h._length,b._offset+b._length,l,l,"s","e"))}if(o._context.showAxisDragHandles){if(p===h._mainSubplot){var g=h._mainLinePosition;h.side==="top"&&(g-=l),r(o,u,h._offset+h._length*.1,g,h._length*.8,l,"","ew"),r(o,u,h._offset,g,h._length*.1,l,"","w"),r(o,u,h._offset+h._length*.9,g,h._length*.1,l,"","e")}if(p===b._mainSubplot){var y=b._mainLinePosition;b.side!=="right"&&(y-=l),r(o,u,y,b._offset+b._length*.1,l,b._length*.8,"ns",""),r(o,u,y,b._offset+b._length*.9,l,b._length*.1,"s",""),r(o,u,y,b._offset,l,b._length*.1,"n","")}}});var e=s._hoverlayer.node();e.onmousemove=function(p){p.target=o._fullLayout._lasthover,i.hover(o,p,s._hoversubplot)},e.onclick=function(p){p.target=o._fullLayout._lasthover,i.click(o,p)},e.onmousedown=function(p){o._fullLayout._lasthover.onmousedown(p)},F.updateFx(o)}},F.updateFx=function(o){var s=o._fullLayout,f=s.dragmode==="pan"?"move":"crosshair";n(s._draggers,f)}}),Uc=Dt((F,D)=>{var i=un();D.exports=function(t){for(var n=i.layoutArrayContainers,r=i.layoutArrayRegexes,l=t.split("[")[0],o,s,f=0;f<r.length;f++)if(s=t.match(r[f]),s&&s.index===0){o=s[0];break}if(o||(o=n[n.indexOf(l)]),!o)return!1;var e=t.substr(o.length);return e?(s=e.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),s?{array:o,index:Number(s[1]),property:s[3]||""}:!1):{array:o,index:"",property:""}}}),Gc=Dt(F=>{var D=ur(),i=Ai(),t=wr(),n=Vo().sorterAsc,r=un();F.containerArrayMatch=Uc();var l=F.isAddVal=function(s){return s==="add"||D(s)},o=F.isRemoveVal=function(s){return s===null||s==="remove"};F.applyContainerArrayChanges=function(s,f,e,p,u){var h=f.astr,b=r.getComponentMethod(h,"supplyLayoutDefaults"),m=r.getComponentMethod(h,"draw"),g=r.getComponentMethod(h,"drawOne"),y=p.replot||p.recalc||b===i||m===i,v=s.layout,c=s._fullLayout;if(e[""]){Object.keys(e).length>1&&t.warn("Full array edits are incompatible with other edits",h);var d=e[""][""];if(o(d))f.set(null);else if(Array.isArray(d))f.set(d);else return t.warn("Unrecognized full array edit value",h,d),!0;return y?!1:(b(v,c),m(s),!0)}var _=Object.keys(e).map(Number).sort(n),w=f.get(),k=w||[],$=u(c,h).get(),P=[],O=-1,T=k.length,X,I,E,N,V,U,G,C;for(X=0;X<_.length;X++){if(E=_[X],N=e[E],V=Object.keys(N),U=N[""],G=l(U),E<0||E>k.length-(G?0:1)){t.warn("index out of range",h,E);continue}if(U!==void 0)V.length>1&&t.warn("Insertion & removal are incompatible with edits to the same index.",h,E),o(U)?P.push(E):G?(U==="add"&&(U={}),k.splice(E,0,U),$&&$.splice(E,0,{})):t.warn("Unrecognized full object edit value",h,E,U),O===-1&&(O=E);else for(I=0;I<V.length;I++)C=h+"["+E+"].",u(k[E],V[I],C).set(N[V[I]])}for(X=P.length-1;X>=0;X--)k.splice(P[X],1),$&&$.splice(P[X],1);if(k.length?w||f.set(k):f.set(null),y)return!1;if(b(v,c),g!==i){var W;if(O===-1)W=_;else{for(T=Math.max(k.length,T),W=[],X=0;X<_.length&&(E=_[X],!(E>=O));X++)W.push(E);for(X=O;X<T;X++)W.push(X)}for(X=0;X<W.length;X++)g(s,W[X])}else m(s);return!0}}),Xc=Dt(F=>{var D=wn();zo();var i=un(),t=Ce(),n=ea(),r=ua(),l=bn(),o=r.cleanId,s=r.getFromTrace,f=i.traceIs;F.clearPromiseQueue=function(v){Array.isArray(v._promises)&&v._promises.length>0&&t.log("Clearing previous rejected promises from queue."),v._promises=[]},F.cleanLayout=function(v){var c;v||(v={}),v.xaxis1&&(v.xaxis||(v.xaxis=v.xaxis1),delete v.xaxis1),v.yaxis1&&(v.yaxis||(v.yaxis=v.yaxis1),delete v.yaxis1),v.scene1&&(v.scene||(v.scene=v.scene1),delete v.scene1);var d=(n.subplotsRegistry.cartesian||{}).attrRegex;(n.subplotsRegistry.polar||{}).attrRegex,(n.subplotsRegistry.ternary||{}).attrRegex,(n.subplotsRegistry.gl3d||{}).attrRegex;var _=Object.keys(v);for(c=0;c<_.length;c++){var w=_[c];if(d&&d.test(w)){var k=v[w];k.anchor&&k.anchor!=="free"&&(k.anchor=o(k.anchor)),k.overlaying&&(k.overlaying=o(k.overlaying)),k.type||(k.isdate?k.type="date":k.islog?k.type="log":k.isdate===!1&&k.islog===!1&&(k.type="linear")),(k.autorange==="withzero"||k.autorange==="tozero")&&(k.autorange=!0,k.rangemode="tozero"),k.insiderange&&delete k.range,delete k.islog,delete k.isdate,delete k.categories,b(k,"domain")&&delete k.domain}}var $=Array.isArray(v.annotations)?v.annotations.length:0;for(c=0;c<$;c++){var P=v.annotations[c];t.isPlainObject(P)&&(e(P,"xref"),e(P,"yref"))}var O=Array.isArray(v.shapes)?v.shapes.length:0;for(c=0;c<O;c++){var T=v.shapes[c];t.isPlainObject(T)&&(e(T,"xref"),e(T,"yref"))}var X=Array.isArray(v.images)?v.images.length:0;for(c=0;c<X;c++){var I=v.images[c];t.isPlainObject(I)&&(e(I,"xref"),e(I,"yref"))}var E=v.legend;return E&&(E.x>3?(E.x=1.02,E.xanchor="left"):E.x<-2&&(E.x=-.02,E.xanchor="right"),E.y>3?(E.y=1.02,E.yanchor="bottom"):E.y<-2&&(E.y=-.02,E.yanchor="top")),v.dragmode==="rotate"&&(v.dragmode="orbit"),l.clean(v),v.template&&v.template.layout&&F.cleanLayout(v.template.layout),v};function e(v,c){var d=v[c],_=c.charAt(0);d&&d!=="paper"&&(v[c]=o(d,_,!0))}F.cleanData=function(v){for(var c=0;c<v.length;c++){var d=v[c],_;if(d.type==="histogramy"&&"xbins"in d&&!("ybins"in d)&&(d.ybins=d.xbins,delete d.xbins),d.type==="histogramy"&&F.swapXYData(d),(d.type==="histogramx"||d.type==="histogramy")&&(d.type="histogram"),"scl"in d&&!("colorscale"in d)&&(d.colorscale=d.scl,delete d.scl),"reversescl"in d&&!("reversescale"in d)&&(d.reversescale=d.reversescl,delete d.reversescl),d.xaxis&&(d.xaxis=o(d.xaxis,"x")),d.yaxis&&(d.yaxis=o(d.yaxis,"y")),f(d,"gl3d")&&d.scene&&(d.scene=n.subplotsRegistry.gl3d.cleanId(d.scene)),!f(d,"pie-like")&&!f(d,"bar-like"))if(Array.isArray(d.textposition))for(_=0;_<d.textposition.length;_++)d.textposition[_]=h(d.textposition[_]);else d.textposition&&(d.textposition=h(d.textposition));var w=i.getModule(d);if(w&&w.colorbar){var k=w.colorbar.container,$=k?d[k]:d;$&&$.colorscale&&($.colorscale==="YIGnBu"&&($.colorscale="YlGnBu"),$.colorscale==="YIOrRd"&&($.colorscale="YlOrRd"))}if(d.type==="surface"&&t.isPlainObject(d.contours)){var P=["x","y","z"];for(_=0;_<P.length;_++){var O=d.contours[P[_]];t.isPlainObject(O)&&(O.highlightColor&&(O.highlightcolor=O.highlightColor,delete O.highlightColor),O.highlightWidth&&(O.highlightwidth=O.highlightWidth,delete O.highlightWidth))}}if(d.type==="candlestick"||d.type==="ohlc"){var T=(d.increasing||{}).showlegend!==!1,X=(d.decreasing||{}).showlegend!==!1,I=p(d.increasing),E=p(d.decreasing);if(I!==!1&&E!==!1){var N=u(I,E,T,X);N&&(d.name=N)}else(I||E)&&!d.name&&(d.name=I||E)}b(d,"line")&&delete d.line,"marker"in d&&(b(d.marker,"line")&&delete d.marker.line,b(d,"marker")&&delete d.marker),l.clean(d),d.autobinx&&(delete d.autobinx,delete d.xbins),d.autobiny&&(delete d.autobiny,delete d.ybins)}};function p(v){if(!t.isPlainObject(v))return!1;var c=v.name;return delete v.name,delete v.showlegend,(typeof c=="string"||typeof c=="number")&&String(c)}function u(v,c,d,_){if(d&&!_)return v;if(_&&!d||!v.trim())return c;if(!c.trim())return v;var w=Math.min(v.length,c.length),k;for(k=0;k<w&&v.charAt(k)===c.charAt(k);k++);var $=v.substr(0,k);return $.trim()}function h(v){var c="middle",d="center";return typeof v=="string"&&(v.indexOf("top")!==-1?c="top":v.indexOf("bottom")!==-1&&(c="bottom"),v.indexOf("left")!==-1?d="left":v.indexOf("right")!==-1&&(d="right")),c+" "+d}function b(v,c){return c in v&&typeof v[c]=="object"&&Object.keys(v[c]).length===0}F.swapXYData=function(v){var c;if(t.swapAttrs(v,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(v.z)&&Array.isArray(v.z[0])&&(v.transpose?delete v.transpose:v.transpose=!0),v.error_x&&v.error_y){var d=v.error_y,_="copy_ystyle"in d?d.copy_ystyle:!(d.color||d.thickness||d.width);t.swapAttrs(v,["error_?.copy_ystyle"]),_&&t.swapAttrs(v,["error_?.color","error_?.thickness","error_?.width"])}if(typeof v.hoverinfo=="string"){var w=v.hoverinfo.split("+");for(c=0;c<w.length;c++)w[c]==="x"?w[c]="y":w[c]==="y"&&(w[c]="x");v.hoverinfo=w.join("+")}},F.coerceTraceIndices=function(v,c){if(D(c))return[c];if(!Array.isArray(c)||!c.length)return v.data.map(function(w,k){return k});if(Array.isArray(c)){for(var d=[],_=0;_<c.length;_++)t.isIndex(c[_],v.data.length)?d.push(c[_]):t.warn("trace index (",c[_],") is not a number or is out of bounds");return d}return c},F.manageArrayContainers=function(v,c,d){var _=v.obj,w=v.parts,k=w.length,$=w[k-1],P=D($);if(P&&c===null){var O=w.slice(0,k-1).join("."),T=t.nestedProperty(_,O).get();T.splice($,1)}else P&&v.get()===void 0&&v.get()===void 0&&(d[v.astr]=null),v.set(c)};var m=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function g(v){var c=v.search(m);if(c>0)return v.substr(0,c)}F.hasParent=function(v,c){for(var d=g(c);d;){if(d in v)return!0;d=g(d)}return!1};var y=["x","y","z"];F.clearAxisTypes=function(v,c,d){for(var _=0;_<c.length;_++)for(var w=v._fullData[_],k=0;k<3;k++){var $=s(v,w,y[k]);if($&&$.type!=="log"){var P=$._name,O=$._id.substr(1);if(O.substr(0,5)==="scene"){if(d[O]!==void 0)continue;P=O+"."+P}var T=P+".type";d[P]===void 0&&d[T]===void 0&&t.nestedProperty(v.layout,T).set(null)}}}}),Ll=Dt(F=>{var D=_n(),i=wn(),t=Uo(),n=Ce(),r=n.nestedProperty,l=Wr(),o=lc(),s=un(),f=Rr(),e=ea(),p=Yn(),u=ol(),h=Va(),b=Nn(),m=bn(),g=Al().initInteractions,y=Mr(),v=Br().clearOutline,c=_r().dfltConfig,d=Gc(),_=Xc(),w=Wi(),k=qa(),$=pa().AX_NAME_PATTERN,P=0,O=5;function T(K,ft,mt,gt){var It;if(K=n.getGraphDiv(K),l.init(K),n.isPlainObject(ft)){var Mt=ft;ft=Mt.data,mt=Mt.layout,gt=Mt.config,It=Mt.frames}var qt=l.triggerHandler(K,"plotly_beforeplot",[ft,mt,gt]);if(qt===!1)return Promise.reject();!ft&&!mt&&!n.isPlotDiv(K)&&n.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",K);function $t(){if(It)return F.addFrames(K,It)}V(K,gt),mt||(mt={}),D.select(K).classed("js-plotly-plot",!0),b.makeTester(),Array.isArray(K._promises)||(K._promises=[]);var ie=(K.data||[]).length===0&&Array.isArray(ft);Array.isArray(ft)&&(_.cleanData(ft),ie?K.data=ft:K.data.push.apply(K.data,ft),K.empty=!1),(!K.layout||ie)&&(K.layout=_.cleanLayout(mt)),e.supplyDefaults(K);var zt=K._fullLayout,ee=zt._has("cartesian");zt._replotting=!0,(ie||zt._shouldCreateBgLayer)&&(Tt(K),zt._shouldCreateBgLayer&&delete zt._shouldCreateBgLayer),b.initGradients(K),b.initPatterns(K),ie&&p.saveShowSpikeInitial(K);var se=!K.calcdata||K.calcdata.length!==(K._fullData||[]).length;se&&e.doCalcdata(K);for(var pe=0;pe<K.calcdata.length;pe++)K.calcdata[pe][0].trace=K._fullData[pe];K._context.responsive?K._responsiveChartHandler||(K._responsiveChartHandler=function(){n.isHidden(K)||e.resize(K)},window.addEventListener("resize",K._responsiveChartHandler)):n.clearResponsive(K);var De=n.extendFlat({},zt._size),Ne=0;function Ge(){for(var Fe=zt._basePlotModules,ke=0;ke<Fe.length;ke++)Fe[ke].drawFramework&&Fe[ke].drawFramework(K);!zt._glcanvas&&zt._has("gl")&&(zt._glcanvas=zt._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(Ve){return Ve.key}),zt._glcanvas.enter().append("canvas").attr("class",function(Ve){return"gl-canvas gl-canvas-"+Ve.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var je=K._context.plotGlPixelRatio;if(zt._glcanvas){zt._glcanvas.attr("width",zt.width*je).attr("height",zt.height*je).style("width",zt.width+"px").style("height",zt.height+"px");var Ke=zt._glcanvas.data()[0].regl;if(Ke&&(Math.floor(zt.width*je)!==Ke._gl.drawingBufferWidth||Math.floor(zt.height*je)!==Ke._gl.drawingBufferHeight)){var ln="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(Ne)n.error(ln);else return n.log(ln+" Clearing graph and plotting again."),e.cleanPlot([],{},K._fullData,zt),e.supplyDefaults(K),zt=K._fullLayout,e.doCalcdata(K),Ne++,Ge()}}return zt.modebar.orientation==="h"?zt._modebardiv.style("height",null).style("width","100%"):zt._modebardiv.style("width",null).style("height",zt.height+"px"),e.previousPromises(K)}function Pe(){if(e.clearAutoMarginIds(K),w.drawMarginPushers(K),p.allowAutoMargin(K),K._fullLayout.title.text&&K._fullLayout.title.automargin&&e.allowAutoMargin(K,"title.automargin"),zt._has("pie"))for(var Fe=K._fullData,ke=0;ke<Fe.length;ke++){var je=Fe[ke];je.type==="pie"&&je.automargin&&e.allowAutoMargin(K,"pie."+je.uid+".automargin")}return e.doAutoMargin(K),e.previousPromises(K)}function ze(){if(e.didMarginChange(De,zt._size))return n.syncOrAsync([Pe,w.layoutStyles],K)}function Le(){if(!se){Se();return}return n.syncOrAsync([s.getComponentMethod("shapes","calcAutorange"),s.getComponentMethod("annotations","calcAutorange"),Se],K)}function Se(){K._transitioning||(w.doAutoRangeAndConstraints(K),ie&&p.saveRangeInitial(K),s.getComponentMethod("rangeslider","calcAutorange")(K))}function Ye(){return p.draw(K,ie?"":"redraw")}var Be=[e.previousPromises,$t,Ge,Pe,ze];ee&&Be.push(Le),Be.push(w.layoutStyles),ee&&Be.push(Ye,function(Fe){var ke=Fe._fullLayout._insideTickLabelsUpdaterange;if(ke)return Fe._fullLayout._insideTickLabelsUpdaterange=void 0,rt(Fe,ke).then(function(){p.saveRangeInitial(Fe,!0)})}),Be.push(w.drawData,w.finalDraw,g,e.addLinks,e.rehover,e.redrag,e.reselect,e.doAutoMargin,e.previousPromises);var Ze=n.syncOrAsync(Be,K);return(!Ze||!Ze.then)&&(Ze=Promise.resolve()),Ze.then(function(){return X(K),K})}function X(K){var ft=K._fullLayout;ft._redrawFromAutoMarginCount?ft._redrawFromAutoMarginCount--:K.emit("plotly_afterplot")}function I(K){return n.extendFlat(c,K)}function E(K,ft){try{K._fullLayout._paper.style("background",ft)}catch(mt){n.error(mt)}}function N(K,ft){var mt=m.combine(ft,"white");E(K,mt)}function V(K,ft){if(!K._context){K._context=n.extendDeep({},c);var mt=D.select("base");K._context._baseUrl=mt.size()&&mt.attr("href")?window.location.href.split("#")[0]:""}var gt=K._context,It,Mt,qt;if(ft){for(Mt=Object.keys(ft),It=0;It<Mt.length;It++)qt=Mt[It],!(qt==="editable"||qt==="edits")&&qt in gt&&(qt==="setBackground"&&ft[qt]==="opaque"?gt[qt]=N:gt[qt]=ft[qt]);var $t=ft.editable;if($t!==void 0)for(gt.editable=$t,Mt=Object.keys(gt.edits),It=0;It<Mt.length;It++)gt.edits[Mt[It]]=$t;if(ft.edits)for(Mt=Object.keys(ft.edits),It=0;It<Mt.length;It++)qt=Mt[It],qt in gt.edits&&(gt.edits[qt]=ft.edits[qt]);gt._exportedPlot=ft._exportedPlot}gt.staticPlot&&(gt.editable=!1,gt.edits={},gt.autosizable=!1,gt.scrollZoom=!1,gt.doubleClick=!1,gt.showTips=!1,gt.showLink=!1,gt.displayModeBar=!1),gt.displayModeBar==="hover"&&!t&&(gt.displayModeBar=!0),(gt.setBackground==="transparent"||typeof gt.setBackground!="function")&&(gt.setBackground=E),gt._hasZeroHeight=gt._hasZeroHeight||K.clientHeight===0,gt._hasZeroWidth=gt._hasZeroWidth||K.clientWidth===0;var ie=gt.scrollZoom,zt=gt._scrollZoom={};if(ie===!0)zt.cartesian=1,zt.gl3d=1,zt.geo=1,zt.mapbox=1,zt.map=1;else if(typeof ie=="string"){var ee=ie.split("+");for(It=0;It<ee.length;It++)zt[ee[It]]=1}else ie!==!1&&(zt.gl3d=1,zt.geo=1,zt.mapbox=1,zt.map=1)}function U(K){if(K=n.getGraphDiv(K),!n.isPlotDiv(K))throw new Error("This element is not a Plotly plot: "+K);return _.cleanData(K.data),_.cleanLayout(K.layout),K.calcdata=void 0,F._doPlot(K).then(function(){return K.emit("plotly_redraw"),K})}function G(K,ft,mt,gt){return K=n.getGraphDiv(K),e.cleanPlot([],{},K._fullData||[],K._fullLayout||{}),e.purge(K),F._doPlot(K,ft,mt,gt)}function C(K,ft){var mt=ft+1,gt=[],It,Mt;for(It=0;It<K.length;It++)Mt=K[It],Mt<0?gt.push(mt+Mt):gt.push(Mt);return gt}function W(K,ft,mt){var gt,It;for(gt=0;gt<ft.length;gt++){if(It=ft[gt],It!==parseInt(It,10))throw new Error("all values in "+mt+" must be integers");if(It>=K.data.length||It<-K.data.length)throw new Error(mt+" must be valid indices for gd.data.");if(ft.indexOf(It,gt+1)>-1||It>=0&&ft.indexOf(-K.data.length+It)>-1||It<0&&ft.indexOf(K.data.length+It)>-1)throw new Error("each index in "+mt+" must be unique.")}}function J(K,ft,mt){if(!Array.isArray(K.data))throw new Error("gd.data must be an array.");if(typeof ft>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(ft)||(ft=[ft]),W(K,ft,"currentIndices"),typeof mt<"u"&&!Array.isArray(mt)&&(mt=[mt]),typeof mt<"u"&&W(K,mt,"newIndices"),typeof mt<"u"&&ft.length!==mt.length)throw new Error("current and new indices must be of equal length.")}function at(K,ft,mt){var gt,It;if(!Array.isArray(K.data))throw new Error("gd.data must be an array.");if(typeof ft>"u")throw new Error("traces must be defined.");for(Array.isArray(ft)||(ft=[ft]),gt=0;gt<ft.length;gt++)if(It=ft[gt],typeof It!="object"||Array.isArray(It)||It===null)throw new Error("all values in traces array must be non-array objects");if(typeof mt<"u"&&!Array.isArray(mt)&&(mt=[mt]),typeof mt<"u"&&mt.length!==ft.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function et(K,ft,mt,gt){var It=n.isPlainObject(gt);if(!Array.isArray(K.data))throw new Error("gd.data must be an array");if(!n.isPlainObject(ft))throw new Error("update must be a key:value object");if(typeof mt>"u")throw new Error("indices must be an integer or array of integers");W(K,mt,"indices");for(var Mt in ft){if(!Array.isArray(ft[Mt])||ft[Mt].length!==mt.length)throw new Error("attribute "+Mt+" must be an array of length equal to indices array length");if(It&&(!(Mt in gt)||!Array.isArray(gt[Mt])||gt[Mt].length!==ft[Mt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function it(K,ft,mt,gt){var It=n.isPlainObject(gt),Mt=[],qt,$t,ie,zt,ee;Array.isArray(mt)||(mt=[mt]),mt=C(mt,K.data.length-1);for(var se in ft)for(var pe=0;pe<mt.length;pe++){if(qt=K.data[mt[pe]],ie=r(qt,se),$t=ie.get(),zt=ft[se][pe],!n.isArrayOrTypedArray(zt))throw new Error("attribute: "+se+" index: "+pe+" must be an array");if(!n.isArrayOrTypedArray($t))throw new Error("cannot extend missing or non-array attribute: "+se);if($t.constructor!==zt.constructor)throw new Error("cannot extend array with an array of a different type: "+se);ee=It?gt[se][pe]:gt,i(ee)||(ee=-1),Mt.push({prop:ie,target:$t,insert:zt,maxp:Math.floor(ee)})}return Mt}function dt(K,ft,mt,gt,It){et(K,ft,mt,gt);for(var Mt=it(K,ft,mt,gt),qt={},$t={},ie=0;ie<Mt.length;ie++){var zt=Mt[ie].prop,ee=Mt[ie].maxp,se=It(Mt[ie].target,Mt[ie].insert,ee);zt.set(se[0]),Array.isArray(qt[zt.astr])||(qt[zt.astr]=[]),qt[zt.astr].push(se[1]),Array.isArray($t[zt.astr])||($t[zt.astr]=[]),$t[zt.astr].push(Mt[ie].target.length)}return{update:qt,maxPoints:$t}}function ht(K,ft){var mt=new K.constructor(K.length+ft.length);return mt.set(K),mt.set(ft,K.length),mt}function xt(K,ft,mt,gt){K=n.getGraphDiv(K);function It(ie,zt,ee){var se,pe;if(n.isTypedArray(ie))if(ee<0){var De=new ie.constructor(0),Ne=ht(ie,zt);ee<0?(se=Ne,pe=De):(se=De,pe=Ne)}else if(se=new ie.constructor(ee),pe=new ie.constructor(ie.length+zt.length-ee),ee===zt.length)se.set(zt),pe.set(ie);else if(ee<zt.length){var Ge=zt.length-ee;se.set(zt.subarray(Ge)),pe.set(ie),pe.set(zt.subarray(0,Ge),ie.length)}else{var Pe=ee-zt.length,ze=ie.length-Pe;se.set(ie.subarray(ze)),se.set(zt,Pe),pe.set(ie.subarray(0,ze))}else se=ie.concat(zt),pe=ee>=0&&ee<se.length?se.splice(0,se.length-ee):[];return[se,pe]}var Mt=dt(K,ft,mt,gt,It),qt=F.redraw(K),$t=[K,Mt.update,mt,Mt.maxPoints];return o.add(K,F.prependTraces,$t,xt,arguments),qt}function H(K,ft,mt,gt){K=n.getGraphDiv(K);function It(ie,zt,ee){var se,pe;if(n.isTypedArray(ie))if(ee<=0){var De=new ie.constructor(0),Ne=ht(zt,ie);ee<0?(se=Ne,pe=De):(se=De,pe=Ne)}else if(se=new ie.constructor(ee),pe=new ie.constructor(ie.length+zt.length-ee),ee===zt.length)se.set(zt),pe.set(ie);else if(ee<zt.length){var Ge=zt.length-ee;se.set(zt.subarray(0,Ge)),pe.set(zt.subarray(Ge)),pe.set(ie,Ge)}else{var Pe=ee-zt.length;se.set(zt),se.set(ie.subarray(0,Pe),zt.length),pe.set(ie.subarray(Pe))}else se=zt.concat(ie),pe=ee>=0&&ee<se.length?se.splice(ee,se.length):[];return[se,pe]}var Mt=dt(K,ft,mt,gt,It),qt=F.redraw(K),$t=[K,Mt.update,mt,Mt.maxPoints];return o.add(K,F.extendTraces,$t,H,arguments),qt}function j(K,ft,mt){K=n.getGraphDiv(K);var gt=[],It=F.deleteTraces,Mt=j,qt=[K,gt],$t=[K,ft],ie,zt;for(at(K,ft,mt),Array.isArray(ft)||(ft=[ft]),ft=ft.map(function(ee){return n.extendFlat({},ee)}),_.cleanData(ft),ie=0;ie<ft.length;ie++)K.data.push(ft[ie]);for(ie=0;ie<ft.length;ie++)gt.push(-ft.length+ie);if(typeof mt>"u")return zt=F.redraw(K),o.add(K,It,qt,Mt,$t),zt;Array.isArray(mt)||(mt=[mt]);try{J(K,gt,mt)}catch(ee){throw K.data.splice(K.data.length-ft.length,ft.length),ee}return o.startSequence(K),o.add(K,It,qt,Mt,$t),zt=F.moveTraces(K,gt,mt),o.stopSequence(K),zt}function A(K,ft){K=n.getGraphDiv(K);var mt=[],gt=F.addTraces,It=A,Mt=[K,mt,ft],qt=[K,ft],$t,ie;if(typeof ft>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(ft)||(ft=[ft]),W(K,ft,"indices"),ft=C(ft,K.data.length-1),ft.sort(n.sorterDes),$t=0;$t<ft.length;$t+=1)ie=K.data.splice(ft[$t],1)[0],mt.push(ie);var zt=F.redraw(K);return o.add(K,gt,Mt,It,qt),zt}function q(K,ft,mt){K=n.getGraphDiv(K);var gt=[],It=[],Mt=q,qt=q,$t=[K,mt,ft],ie=[K,ft,mt],zt;if(J(K,ft,mt),ft=Array.isArray(ft)?ft:[ft],typeof mt>"u")for(mt=[],zt=0;zt<ft.length;zt++)mt.push(-ft.length+zt);for(mt=Array.isArray(mt)?mt:[mt],ft=C(ft,K.data.length-1),mt=C(mt,K.data.length-1),zt=0;zt<K.data.length;zt++)ft.indexOf(zt)===-1&&gt.push(K.data[zt]);for(zt=0;zt<ft.length;zt++)It.push({newIndex:mt[zt],trace:K.data[ft[zt]]});for(It.sort(function(se,pe){return se.newIndex-pe.newIndex}),zt=0;zt<It.length;zt+=1)gt.splice(It[zt].newIndex,0,It[zt].trace);K.data=gt;var ee=F.redraw(K);return o.add(K,Mt,$t,qt,ie),ee}function R(K,ft,mt,gt){K=n.getGraphDiv(K),_.clearPromiseQueue(K);var It={};if(typeof ft=="string")It[ft]=mt;else if(n.isPlainObject(ft))It=n.extendFlat({},ft),gt===void 0&&(gt=mt);else return n.warn("Restyle fail.",ft,mt,gt),Promise.reject();Object.keys(It).length&&(K.changed=!0);var Mt=_.coerceTraceIndices(K,gt),qt=Y(K,It,Mt),$t=qt.flags;$t.calc&&(K.calcdata=void 0),$t.clearAxisTypes&&_.clearAxisTypes(K,Mt,{});var ie=[];$t.fullReplot?ie.push(F._doPlot):(ie.push(e.previousPromises),e.supplyDefaults(K),$t.markerSize&&(e.doCalcdata(K),ut(ie)),$t.style&&ie.push(w.doTraceStyle),$t.colorbars&&ie.push(w.doColorBars),ie.push(X)),ie.push(e.rehover,e.redrag,e.reselect),o.add(K,R,[K,qt.undoit,qt.traces],R,[K,qt.redoit,qt.traces]);var zt=n.syncOrAsync(ie,K);return(!zt||!zt.then)&&(zt=Promise.resolve()),zt.then(function(){return K.emit("plotly_restyle",qt.eventData),K})}function z(K){return K===void 0?null:K}function M(K,ft){return ft?function(mt,gt,It){var Mt=r(mt,gt),qt=Mt.set;return Mt.set=function($t){var ie=(It||"")+gt;S(ie,Mt.get(),$t,K),qt($t)},Mt}:r}function S(K,ft,mt,gt){if(Array.isArray(ft)||Array.isArray(mt))for(var It=Array.isArray(ft)?ft:[],Mt=Array.isArray(mt)?mt:[],qt=Math.max(It.length,Mt.length),$t=0;$t<qt;$t++)S(K+"["+$t+"]",It[$t],Mt[$t],gt);else if(n.isPlainObject(ft)||n.isPlainObject(mt)){var ie=n.isPlainObject(ft)?ft:{},zt=n.isPlainObject(mt)?mt:{},ee=n.extendFlat({},ie,zt);for(var se in ee)S(K+"."+se,ie[se],zt[se],gt)}else gt[K]===void 0&&(gt[K]=z(ft))}function Z(K,ft,mt){for(var gt in mt){var It=r(K,gt);S(gt,It.get(),mt[gt],ft)}}function Y(K,ft,mt){var gt=K._fullLayout,It=K._fullData,Mt=K.data,qt=gt._guiEditing,$t=M(gt._preGUI,qt),ie=n.extendDeepAll({},ft),zt,ee=k.traceFlags(),se={},pe={},De;function Ne(){return mt.map(function(){})}function Ge(Me){var Oe=p.id2name(Me);De.indexOf(Oe)===-1&&De.push(Oe)}function Pe(Me){return"LAYOUT"+Me+".autorange"}function ze(Me){return"LAYOUT"+Me+".range"}function Le(Me){for(var Oe=Me;Oe<It.length;Oe++)if(It[Oe]._input===Mt[Me])return It[Oe]}function Se(Me,Oe,Ie){if(Array.isArray(Me)){Me.forEach(function(qe){Se(qe,Oe,Ie)});return}if(!(Me in ft||_.hasParent(ft,Me))){var Je;if(Me.substr(0,6)==="LAYOUT")Je=$t(K.layout,Me.replace("LAYOUT",""));else{var Ee=mt[Ie],He=gt._tracePreGUI[Le(Ee)._fullInput.uid];Je=M(He,qt)(Mt[Ee],Me)}Me in pe||(pe[Me]=Ne()),pe[Me][Ie]===void 0&&(pe[Me][Ie]=z(Je.get())),Oe!==void 0&&Je.set(Oe)}}function Ye(Me){return function(Oe){return It[Oe][Me]}}function Be(Me){return function(Oe,Ie){return Oe===!1?It[mt[Ie]][Me]:null}}for(var Ze in ft){if(_.hasParent(ft,Ze))throw new Error("cannot set "+Ze+" and a parent attribute simultaneously");var Fe=ft[Ze],ke,je,Ke,ln,Ve,nn;if((Ze==="autobinx"||Ze==="autobiny")&&(Ze=Ze.charAt(Ze.length-1)+"bins",Array.isArray(Fe)?Fe=Fe.map(Be(Ze)):Fe===!1?Fe=mt.map(Ye(Ze)):Fe=null),se[Ze]=Fe,Ze.substr(0,6)==="LAYOUT"){Ke=$t(K.layout,Ze.replace("LAYOUT","")),pe[Ze]=[z(Ke.get())],Ke.set(Array.isArray(Fe)?Fe[0]:Fe),ee.calc=!0;continue}for(pe[Ze]=Ne(),zt=0;zt<mt.length;zt++){ke=Mt[mt[zt]],je=Le(mt[zt]);var an=gt._tracePreGUI[je._fullInput.uid];if(Ke=M(an,qt)(ke,Ze),ln=Ke.get(),Ve=Array.isArray(Fe)?Fe[zt%Fe.length]:Fe,Ve!==void 0){var gn=Ke.parts[Ke.parts.length-1],Ae=Ze.substr(0,Ze.length-gn.length-1),sn=Ae?Ae+".":"",tt=Ae?r(je,Ae).get():je;if(nn=f.getTraceValObject(je,Ke.parts),nn&&nn.impliedEdits&&Ve!==null)for(var lt in nn.impliedEdits)Se(n.relativeAttr(Ze,lt),nn.impliedEdits[lt],zt);else if((gn==="thicknessmode"||gn==="lenmode")&&ln!==Ve&&(Ve==="fraction"||Ve==="pixels")&&tt){var Yt=gt._size,jt=tt.orient,Ot=jt==="top"||jt==="bottom";if(gn==="thicknessmode"){var Pt=Ot?Yt.h:Yt.w;Se(sn+"thickness",tt.thickness*(Ve==="fraction"?1/Pt:Pt),zt)}else{var Et=Ot?Yt.w:Yt.h;Se(sn+"len",tt.len*(Ve==="fraction"?1/Et:Et),zt)}}else if(Ze==="type"&&(Ve==="pie"!=(ln==="pie")||Ve==="funnelarea"!=(ln==="funnelarea"))){var Gt="x",Ft="y";(Ve==="bar"||ln==="bar")&&ke.orientation==="h"&&(Gt="y",Ft="x"),n.swapAttrs(ke,["?","?src"],"labels",Gt),n.swapAttrs(ke,["d?","?0"],"label",Gt),n.swapAttrs(ke,["?","?src"],"values",Ft),ln==="pie"||ln==="funnelarea"?(r(ke,"marker.color").set(r(ke,"marker.colors").get()),gt._pielayer.selectAll("g.trace").remove()):s.traceIs(ke,"cartesian")&&r(ke,"marker.colors").set(r(ke,"marker.color").get())}pe[Ze][zt]=z(ln);var Ut=["swapxy","swapxyaxes","orientation","orientationaxes"];if(Ut.indexOf(Ze)!==-1){if(Ze==="orientation"){Ke.set(Ve);var Qt=ke.x&&!ke.y?"h":"v";if((Ke.get()||Qt)===je.orientation)continue}else Ze==="orientationaxes"&&(ke.orientation={v:"h",h:"v"}[je.orientation]);_.swapXYData(ke),ee.calc=ee.clearAxisTypes=!0}else e.dataArrayContainers.indexOf(Ke.parts[0])!==-1?(_.manageArrayContainers(Ke,Ve,pe),ee.calc=!0):(nn?nn.arrayOk&&!s.traceIs(je,"regl")&&(n.isArrayOrTypedArray(Ve)||n.isArrayOrTypedArray(ln))?ee.calc=!0:k.update(ee,nn):ee.calc=!0,Ke.set(Ve))}}if(["swapxyaxes","orientationaxes"].indexOf(Ze)!==-1&&p.swap(K,mt),Ze==="orientationaxes"){var ne=r(K.layout,"hovermode"),ye=ne.get();ye==="x"?ne.set("y"):ye==="y"?ne.set("x"):ye==="x unified"?ne.set("y unified"):ye==="y unified"&&ne.set("x unified")}if(["orientation","type"].indexOf(Ze)!==-1){for(De=[],zt=0;zt<mt.length;zt++){var _e=Mt[mt[zt]];s.traceIs(_e,"cartesian")&&(Ge(_e.xaxis||"x"),Ge(_e.yaxis||"y"))}Se(De.map(Pe),!0,0),Se(De.map(ze),[0,1],0)}}return(ee.calc||ee.plot)&&(ee.fullReplot=!0),{flags:ee,undoit:pe,redoit:se,traces:mt,eventData:n.extendDeepNoArrays([],[ie,mt])}}function rt(K,ft,mt){K=n.getGraphDiv(K),_.clearPromiseQueue(K);var gt={};if(typeof ft=="string")gt[ft]=mt;else if(n.isPlainObject(ft))gt=n.extendFlat({},ft);else return n.warn("Relayout fail.",ft,mt),Promise.reject();Object.keys(gt).length&&(K.changed=!0);var It=Xt(K,gt),Mt=It.flags;Mt.calc&&(K.calcdata=void 0);var qt=[e.previousPromises];Mt.layoutReplot?qt.push(w.layoutReplot):Object.keys(gt).length&&(st(K,Mt,It)||e.supplyDefaults(K),Mt.legend&&qt.push(w.doLegend),Mt.layoutstyle&&qt.push(w.layoutStyles),Mt.axrange&&ut(qt,It.rangesAltered),Mt.ticks&&qt.push(w.doTicksRelayout),Mt.modebar&&qt.push(w.doModeBar),Mt.camera&&qt.push(w.doCamera),Mt.colorbars&&qt.push(w.doColorBars),qt.push(X)),qt.push(e.rehover,e.redrag,e.reselect),o.add(K,rt,[K,It.undoit],rt,[K,It.redoit]);var $t=n.syncOrAsync(qt,K);return(!$t||!$t.then)&&($t=Promise.resolve(K)),$t.then(function(){return K.emit("plotly_relayout",It.eventData),K})}function st(K,ft,mt){var gt=K._fullLayout;if(!ft.axrange)return!1;for(var It in ft)if(It!=="axrange"&&ft[It])return!1;var Mt,qt,$t=function(De,Ne){return n.coerce(Mt,qt,h,De,Ne)},ie={};for(var zt in mt.rangesAltered){var ee=p.id2name(zt);if(Mt=K.layout[ee],qt=gt[ee],u(Mt,qt,$t,ie),qt._matchGroup){for(var se in qt._matchGroup)if(se!==zt){var pe=gt[p.id2name(se)];pe.autorange=qt.autorange,pe.range=qt.range.slice(),pe._input.range=qt.range.slice()}}}return!0}function ut(K,ft){var mt=ft?function(gt){var It=[],Mt=!0;for(var qt in ft){var $t=p.getFromId(gt,qt);if(It.push(qt),($t.ticklabelposition||"").indexOf("inside")!==-1&&$t._anchorAxis&&It.push($t._anchorAxis._id),$t._matchGroup)for(var ie in $t._matchGroup)ft[ie]||It.push(ie)}return p.draw(gt,It,{skipTitle:Mt})}:function(gt){return p.draw(gt,"redraw")};K.push(v,w.doAutoRangeAndConstraints,mt,w.drawData,w.finalDraw)}var _t=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,At=/^[xyz]axis[0-9]*\.autorange$/,Rt=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Xt(K,ft){var mt=K.layout,gt=K._fullLayout,It=gt._guiEditing,Mt=M(gt._preGUI,It),qt=Object.keys(ft),$t=p.list(K),ie=n.extendDeepAll({},ft),zt={},ee,se,pe;for(qt=Object.keys(ft),se=0;se<qt.length;se++)if(qt[se].indexOf("allaxes")===0){for(pe=0;pe<$t.length;pe++){var De=$t[pe]._id.substr(1),Ne=De.indexOf("scene")!==-1?De+".":"",Ge=qt[se].replace("allaxes",Ne+$t[pe]._name);ft[Ge]||(ft[Ge]=ft[qt[se]])}delete ft[qt[se]]}var Pe=k.layoutFlags(),ze={},Le={};function Se(He,qe){if(Array.isArray(He)){He.forEach(function(cn){Se(cn,qe)});return}if(!(He in ft||_.hasParent(ft,He))){var on=Mt(mt,He);He in Le||(Le[He]=z(on.get())),qe!==void 0&&on.set(qe)}}var Ye={},Be;function Ze(He){var qe=p.name2id(He.split(".")[0]);return Ye[qe]=1,qe}for(var Fe in ft){if(_.hasParent(ft,Fe))throw new Error("cannot set "+Fe+" and a parent attribute simultaneously");for(var ke=Mt(mt,Fe),je=ft[Fe],Ke=ke.parts.length,ln=Ke-1;ln>0&&typeof ke.parts[ln]!="string";)ln--;var Ve=ke.parts[ln],nn=ke.parts[ln-1]+"."+Ve,an=ke.parts.slice(0,ln).join("."),gn=r(K.layout,an).get(),Ae=r(gt,an).get(),sn=ke.get();if(je!==void 0){ze[Fe]=je,Le[Fe]=Ve==="reverse"?je:z(sn);var tt=f.getLayoutValObject(gt,ke.parts);if(tt&&tt.impliedEdits&&je!==null)for(var lt in tt.impliedEdits)Se(n.relativeAttr(Fe,lt),tt.impliedEdits[lt]);if(["width","height"].indexOf(Fe)!==-1)if(je){Se("autosize",null);var Yt=Fe==="height"?"width":"height";Se(Yt,gt[Yt])}else gt[Fe]=K._initialAutoSize[Fe];else if(Fe==="autosize")Se("width",je?null:gt.width),Se("height",je?null:gt.height);else if(nn.match(_t))Ze(nn),r(gt,an+"._inputRange").set(null);else if(nn.match(At)){Ze(nn),r(gt,an+"._inputRange").set(null);var jt=r(gt,an).get();jt._inputDomain&&(jt._input.domain=jt._inputDomain.slice())}else nn.match(Rt)&&r(gt,an+"._inputDomain").set(null);if(Ve==="type"){Be=gn;var Ot=Ae.type==="linear"&&je==="log",Pt=Ae.type==="log"&&je==="linear";if(Ot||Pt){if(!Be||!Be.range)Se(an+".autorange",!0);else if(Ae.autorange)Ot&&(Be.range=Be.range[1]>Be.range[0]?[1,2]:[2,1]);else{var Et=Be.range[0],Gt=Be.range[1];Ot?(Et<=0&&Gt<=0&&Se(an+".autorange",!0),Et<=0?Et=Gt/1e6:Gt<=0&&(Gt=Et/1e6),Se(an+".range[0]",Math.log(Et)/Math.LN10),Se(an+".range[1]",Math.log(Gt)/Math.LN10)):(Se(an+".range[0]",Math.pow(10,Et)),Se(an+".range[1]",Math.pow(10,Gt)))}Array.isArray(gt._subplots.polar)&&gt._subplots.polar.length&&gt[ke.parts[0]]&&ke.parts[1]==="radialaxis"&&delete gt[ke.parts[0]]._subplot.viewInitial["radialaxis.range"],s.getComponentMethod("annotations","convertCoords")(K,Ae,je,Se),s.getComponentMethod("images","convertCoords")(K,Ae,je,Se)}else Se(an+".autorange",!0),Se(an+".range",null);r(gt,an+"._inputRange").set(null)}else if(Ve.match($)){var Ft=r(gt,Fe).get(),Ut=(je||{}).type;(!Ut||Ut==="-")&&(Ut="linear"),s.getComponentMethod("annotations","convertCoords")(K,Ft,Ut,Se),s.getComponentMethod("images","convertCoords")(K,Ft,Ut,Se)}var Qt=d.containerArrayMatch(Fe);if(Qt){ee=Qt.array,se=Qt.index;var ne=Qt.property,ye=tt||{editType:"calc"};se!==""&&ne===""&&(d.isAddVal(je)?Le[Fe]=null:d.isRemoveVal(je)?Le[Fe]=(r(mt,ee).get()||[])[se]:n.warn("unrecognized full object value",ft)),k.update(Pe,ye),zt[ee]||(zt[ee]={});var _e=zt[ee][se];_e||(_e=zt[ee][se]={}),_e[ne]=je,delete ft[Fe]}else Ve==="reverse"?(gn.range?gn.range.reverse():(Se(an+".autorange",!0),gn.range=[1,0]),Ae.autorange?Pe.calc=!0:Pe.plot=!0):(Fe==="dragmode"&&(je===!1&&sn!==!1||je!==!1&&sn===!1)||gt._has("scatter-like")&&gt._has("regl")&&Fe==="dragmode"&&(je==="lasso"||je==="select")&&!(sn==="lasso"||sn==="select")?Pe.plot=!0:tt?k.update(Pe,tt):Pe.calc=!0,ke.set(je))}}for(ee in zt){var Me=d.applyContainerArrayChanges(K,Mt(mt,ee),zt[ee],Pe,Mt);Me||(Pe.plot=!0)}for(var Oe in Ye){Be=p.getFromId(K,Oe);var Ie=Be&&Be._constraintGroup;if(Ie){Pe.calc=!0;for(var Je in Ie)Ye[Je]||(p.getFromId(K,Je)._constraintShrinkable=!0)}}(Bt(K)||ft.height||ft.width)&&(Pe.plot=!0);var Ee=gt.shapes;for(se=0;se<Ee.length;se++)if(Ee[se].showlegend){Pe.calc=!0;break}return(Pe.plot||Pe.calc)&&(Pe.layoutReplot=!0),{flags:Pe,rangesAltered:Ye,undoit:Le,redoit:ze,eventData:ie}}function Bt(K){var ft=K._fullLayout,mt=ft.width,gt=ft.height;return K.layout.autosize&&e.plotAutoSize(K,K.layout,ft),ft.width!==mt||ft.height!==gt}function Ht(K,ft,mt,gt){K=n.getGraphDiv(K),_.clearPromiseQueue(K),n.isPlainObject(ft)||(ft={}),n.isPlainObject(mt)||(mt={}),Object.keys(ft).length&&(K.changed=!0),Object.keys(mt).length&&(K.changed=!0);var It=_.coerceTraceIndices(K,gt),Mt=Y(K,n.extendFlat({},ft),It),qt=Mt.flags,$t=Xt(K,n.extendFlat({},mt)),ie=$t.flags;(qt.calc||ie.calc)&&(K.calcdata=void 0),qt.clearAxisTypes&&_.clearAxisTypes(K,It,mt);var zt=[];ie.layoutReplot?zt.push(w.layoutReplot):qt.fullReplot?zt.push(F._doPlot):(zt.push(e.previousPromises),st(K,ie,$t)||e.supplyDefaults(K),qt.style&&zt.push(w.doTraceStyle),(qt.colorbars||ie.colorbars)&&zt.push(w.doColorBars),ie.legend&&zt.push(w.doLegend),ie.layoutstyle&&zt.push(w.layoutStyles),ie.axrange&&ut(zt,$t.rangesAltered),ie.ticks&&zt.push(w.doTicksRelayout),ie.modebar&&zt.push(w.doModeBar),ie.camera&&zt.push(w.doCamera),zt.push(X)),zt.push(e.rehover,e.redrag,e.reselect),o.add(K,Ht,[K,Mt.undoit,$t.undoit,Mt.traces],Ht,[K,Mt.redoit,$t.redoit,Mt.traces]);var ee=n.syncOrAsync(zt,K);return(!ee||!ee.then)&&(ee=Promise.resolve(K)),ee.then(function(){return K.emit("plotly_update",{data:Mt.eventData,layout:$t.eventData}),K})}function pt(K){return function(ft){ft._fullLayout._guiEditing=!0;var mt=K.apply(null,arguments);return ft._fullLayout._guiEditing=!1,mt}}var bt=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^(map\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],ot=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function Lt(K,ft){for(var mt=0;mt<ft.length;mt++){var gt=ft[mt],It=K.match(gt.pattern);if(It){var Mt=It[1]||"";return{head:Mt,tail:K.substr(Mt.length+1),attr:gt.attr}}}}function Nt(K,ft){var mt=r(ft,K).get();if(mt!==void 0)return mt;var gt=K.split(".");for(gt.pop();gt.length>1;)if(gt.pop(),mt=r(ft,gt.join(".")+".uirevision").get(),mt!==void 0)return mt;return ft.uirevision}function Vt(K,ft){for(var mt=0;mt<ft.length;mt++)if(ft[mt]._fullInput.uid===K)return mt;return-1}function ae(K,ft,mt){for(var gt=0;gt<ft.length;gt++)if(ft[gt].uid===K)return gt;return!ft[mt]||ft[mt].uid?-1:mt}function Jt(K,ft){var mt=n.isPlainObject(K),gt=Array.isArray(K);return mt||gt?(mt&&n.isPlainObject(ft)||gt&&Array.isArray(ft))&&JSON.stringify(K)===JSON.stringify(ft):K===ft}function re(K,ft,mt,gt){var It=gt._preGUI,Mt,qt,$t,ie,zt,ee,se,pe,De,Ne,Ge=[],Pe={},ze={};for(Mt in It){if(zt=Lt(Mt,bt),zt){if(De=zt.head,Ne=zt.tail,qt=zt.attr||De+".uirevision",$t=r(gt,qt).get(),ie=$t&&Nt(qt,ft),ie&&ie===$t){if(ee=It[Mt],ee===null&&(ee=void 0),se=r(ft,Mt),pe=se.get(),Jt(pe,ee)){pe===void 0&&Ne==="autorange"&&Ge.push(De),se.set(z(r(gt,Mt).get()));continue}else if(Ne==="autorange"||Ne.substr(0,6)==="range["){var Le=It[De+".range[0]"],Se=It[De+".range[1]"],Ye=It[De+".autorange"];if(Ye||Ye===null&&Le===null&&Se===null){if(!(De in Pe)){var Be=r(ft,De).get();Pe[De]=Be&&(Be.autorange||Be.autorange!==!1&&(!Be.range||Be.range.length!==2))}if(Pe[De]){se.set(z(r(gt,Mt).get()));continue}}}}}else n.warn("unrecognized GUI edit: "+Mt);delete It[Mt],zt&&zt.tail.substr(0,6)==="range["&&(ze[zt.head]=1)}for(var Ze=0;Ze<Ge.length;Ze++){var Fe=Ge[Ze];if(ze[Fe]){var ke=r(ft,Fe).get();ke&&delete ke.autorange}}var je=gt._tracePreGUI;for(var Ke in je){var ln=je[Ke],Ve=null,nn;for(Mt in ln){if(!Ve){var an=Vt(Ke,mt);if(an<0){delete je[Ke];break}var gn=mt[an];nn=gn._fullInput;var Ae=ae(Ke,K,nn.index);if(Ae<0){delete je[Ke];break}Ve=K[Ae]}if(zt=Lt(Mt,ot),zt){if(zt.attr?($t=r(gt,zt.attr).get(),ie=$t&&Nt(zt.attr,ft)):($t=nn.uirevision,ie=Ve.uirevision,ie===void 0&&(ie=ft.uirevision)),ie&&ie===$t&&(ee=ln[Mt],ee===null&&(ee=void 0),se=r(Ve,Mt),pe=se.get(),Jt(pe,ee))){se.set(z(r(nn,Mt).get()));continue}}else n.warn("unrecognized GUI edit: "+Mt+" in trace uid "+Ke);delete ln[Mt]}}}function oe(K,ft,mt,gt){var It,Mt;function qt(){return F.addFrames(K,It)}K=n.getGraphDiv(K),_.clearPromiseQueue(K);var $t=K._fullData,ie=K._fullLayout;if(!n.isPlotDiv(K)||!$t||!ie)Mt=F.newPlot(K,ft,mt,gt);else{if(n.isPlainObject(ft)){var zt=ft;ft=zt.data,mt=zt.layout,gt=zt.config,It=zt.frames}var ee=!1;if(gt){var se=n.extendDeep({},K._context);K._context=void 0,V(K,gt),ee=ge(se,K._context)}K.data=ft||[],_.cleanData(K.data),K.layout=mt||{},_.cleanLayout(K.layout),re(K.data,K.layout,$t,ie),e.supplyDefaults(K,{skipUpdateCalc:!0});var pe=K._fullData,De=K._fullLayout,Ne=De.datarevision===void 0,Ge=De.transition,Pe=ve(K,ie,De,Ne,Ge),ze=Pe.newDataRevision,Le=le(K,$t,pe,Ne,Ge,ze);if(Bt(K)&&(Pe.layoutReplot=!0),Le.calc||Pe.calc){K.calcdata=void 0;for(var Se=Object.getOwnPropertyNames(De),Ye=0;Ye<Se.length;Ye++){var Be=Se[Ye],Ze=Be.substring(0,5);if(Ze==="xaxis"||Ze==="yaxis"){var Fe=De[Be]._emptyCategories;Fe&&Fe()}}}else e.supplyDefaultsUpdateCalc(K.calcdata,pe);var ke=[];if(It&&(K._transitionData={},e.createTransitionData(K),ke.push(qt)),De.transition&&!ee&&(Le.anim||Pe.anim))Pe.ticks&&ke.push(w.doTicksRelayout),e.doCalcdata(K),w.doAutoRangeAndConstraints(K),ke.push(function(){return e.transitionFromReact(K,Le,Pe,ie)});else if(Le.fullReplot||Pe.layoutReplot||ee)K._fullLayout._skipDefaults=!0,ke.push(F._doPlot);else{for(var je in Pe.arrays){var Ke=Pe.arrays[je];if(Ke.length){var ln=s.getComponentMethod(je,"drawOne");if(ln!==n.noop)for(var Ve=0;Ve<Ke.length;Ve++)ln(K,Ke[Ve]);else{var nn=s.getComponentMethod(je,"draw");if(nn===n.noop)throw new Error("cannot draw components: "+je);nn(K)}}}ke.push(e.previousPromises),Le.style&&ke.push(w.doTraceStyle),(Le.colorbars||Pe.colorbars)&&ke.push(w.doColorBars),Pe.legend&&ke.push(w.doLegend),Pe.layoutstyle&&ke.push(w.layoutStyles),Pe.axrange&&ut(ke),Pe.ticks&&ke.push(w.doTicksRelayout),Pe.modebar&&ke.push(w.doModeBar),Pe.camera&&ke.push(w.doCamera),ke.push(X)}ke.push(e.rehover,e.redrag,e.reselect),Mt=n.syncOrAsync(ke,K),(!Mt||!Mt.then)&&(Mt=Promise.resolve(K))}return Mt.then(function(){return K.emit("plotly_react",{data:ft,layout:mt}),K})}function le(K,ft,mt,gt,It,Mt){var qt=ft.length===mt.length;if(!It&&!qt)return{fullReplot:!0,calc:!0};var $t=k.traceFlags();$t.arrays={},$t.nChanges=0,$t.nChangesAnim=0;var ie,zt;function ee(De){var Ne=f.getTraceValObject(zt,De);return!zt._module.animatable&&Ne.anim&&(Ne.anim=!1),Ne}var se={getValObject:ee,flags:$t,immutable:gt,transition:It,newDataRevision:Mt,gd:K},pe={};for(ie=0;ie<ft.length;ie++)if(mt[ie]){if(zt=mt[ie]._fullInput,pe[zt.uid])continue;pe[zt.uid]=1,Wt(ft[ie]._fullInput,zt,[],se)}return($t.calc||$t.plot)&&($t.fullReplot=!0),It&&$t.nChanges&&$t.nChangesAnim&&($t.anim=$t.nChanges===$t.nChangesAnim&&qt?"all":"some"),$t}function ve(K,ft,mt,gt,It){var Mt=k.layoutFlags();Mt.arrays={},Mt.rangesAltered={},Mt.nChanges=0,Mt.nChangesAnim=0;function qt(pe){return f.getLayoutValObject(mt,pe)}for(var $t in mt)if(!(!$t.startsWith("xaxis")&&!$t.startsWith("yaxis"))&&ft[$t]){var ie=mt[$t].domain,zt=ft[$t].domain,ee=ft[$t]._inputDomain;ft[$t]._inputDomain&&(ie[0]===ee[0]&&ie[1]===ee[1]?mt[$t].domain=ft[$t].domain:(ie[0]!==zt[0]||ie[1]!==zt[1])&&(mt[$t]._inputDomain=null))}var se={getValObject:qt,flags:Mt,immutable:gt,transition:It,gd:K};return Wt(ft,mt,[],se),(Mt.plot||Mt.calc)&&(Mt.layoutReplot=!0),It&&Mt.nChanges&&Mt.nChangesAnim&&(Mt.anim=Mt.nChanges===Mt.nChangesAnim?"all":"some"),Mt}function Wt(K,ft,mt,gt){var It,Mt,qt,$t=gt.getValObject,ie=gt.flags,zt=gt.immutable,ee=gt.inArray,se=gt.arrayIndex;function pe(){var an=It.editType;if(ee&&an.indexOf("arraydraw")!==-1){n.pushUnique(ie.arrays[ee],se);return}k.update(ie,It),an!=="none"&&ie.nChanges++,gt.transition&&It.anim&&ie.nChangesAnim++,(_t.test(qt)||At.test(qt))&&(ie.rangesAltered[mt[0]]=1),Mt==="datarevision"&&(ie.newDataRevision=1)}function De(an){return an.valType==="data_array"||an.arrayOk}for(Mt in K){if(ie.calc&&!gt.transition)return;var Ne=K[Mt],Ge=ft[Mt],Pe=mt.concat(Mt);if(qt=Pe.join("."),!(Mt.charAt(0)==="_"||typeof Ne=="function"||Ne===Ge)){if((Mt==="tick0"||Mt==="dtick")&&mt[0]!=="geo"){var ze=ft.tickmode;if(ze==="auto"||ze==="array"||!ze)continue}if(!(Mt==="range"&&ft.autorange)&&!((Mt==="zmin"||Mt==="zmax")&&ft.type==="contourcarpet")&&(It=$t(Pe),!!It&&!(It._compareAsJSON&&JSON.stringify(Ne)===JSON.stringify(Ge)))){var Le=It.valType,Se,Ye=De(It),Be=Array.isArray(Ne),Ze=Array.isArray(Ge);if(Be&&Ze){var Fe="_input_"+Mt,ke=K[Fe],je=ft[Fe];if(Array.isArray(ke)&&ke===je)continue}if(Ge===void 0)Ye&&Be?ie.calc=!0:pe();else if(It._isLinkedToArray){var Ke=[],ln=!1;ee||(ie.arrays[Mt]=Ke);var Ve=Math.min(Ne.length,Ge.length),nn=Math.max(Ne.length,Ge.length);if(Ve!==nn)if(It.editType==="arraydraw")ln=!0;else{pe();continue}for(Se=0;Se<Ve;Se++)Wt(Ne[Se],Ge[Se],Pe.concat(Se),n.extendFlat({inArray:Mt,arrayIndex:Se},gt));if(ln)for(Se=Ve;Se<nn;Se++)Ke.push(Se)}else!Le&&n.isPlainObject(Ne)?Wt(Ne,Ge,Pe,gt):Ye?Be&&Ze?(zt&&(ie.calc=!0),(zt||gt.newDataRevision)&&pe()):Be!==Ze?ie.calc=!0:pe():Be&&Ze?(Ne.length!==Ge.length||String(Ne)!==String(Ge))&&pe():pe()}}}for(Mt in ft)if(!(Mt in K||Mt.charAt(0)==="_"||typeof ft[Mt]=="function"))if(It=$t(mt.concat(Mt)),De(It)&&Array.isArray(ft[Mt])){ie.calc=!0;return}else pe()}function ge(K,ft){var mt;for(mt in K)if(mt.charAt(0)!=="_"){var gt=K[mt],It=ft[mt];if(gt!==It)if(n.isPlainObject(gt)&&n.isPlainObject(It)){if(ge(gt,It))return!0}else if(Array.isArray(gt)&&Array.isArray(It)){if(gt.length!==It.length)return!0;for(var Mt=0;Mt<gt.length;Mt++)if(gt[Mt]!==It[Mt])if(n.isPlainObject(gt[Mt])&&n.isPlainObject(It[Mt])){if(ge(gt[Mt],It[Mt]))return!0}else return!0}else return!0}}function Te(K,ft,mt){if(K=n.getGraphDiv(K),!n.isPlotDiv(K))throw new Error("This element is not a Plotly plot: "+K+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var gt=K._transitionData;gt._frameQueue||(gt._frameQueue=[]),mt=e.supplyAnimationDefaults(mt);var It=mt.transition,Mt=mt.frame;gt._frameWaitingCnt===void 0&&(gt._frameWaitingCnt=0);function qt(zt){return Array.isArray(It)?zt>=It.length?It[0]:It[zt]:It}function $t(zt){return Array.isArray(Mt)?zt>=Mt.length?Mt[0]:Mt[zt]:Mt}function ie(zt,ee){var se=0;return function(){if(zt&&++se===ee)return zt()}}return new Promise(function(zt,ee){function se(){if(gt._frameQueue.length!==0){for(;gt._frameQueue.length;){var Ve=gt._frameQueue.pop();Ve.onInterrupt&&Ve.onInterrupt()}K.emit("plotly_animationinterrupted",[])}}function pe(Ve){if(Ve.length!==0){for(var nn=0;nn<Ve.length;nn++){var an;Ve[nn].type==="byname"?an=e.computeFrame(K,Ve[nn].name):an=Ve[nn].data;var gn=$t(nn),Ae=qt(nn);Ae.duration=Math.min(Ae.duration,gn.duration);var sn={frame:an,name:Ve[nn].name,frameOpts:gn,transitionOpts:Ae};nn===Ve.length-1&&(sn.onComplete=ie(zt,2),sn.onInterrupt=ee),gt._frameQueue.push(sn)}mt.mode==="immediate"&&(gt._lastFrameAt=-1/0),gt._animationRaf||Ge()}}function De(){K.emit("plotly_animated"),window.cancelAnimationFrame(gt._animationRaf),gt._animationRaf=null}function Ne(){gt._currentFrame&&gt._currentFrame.onComplete&&gt._currentFrame.onComplete();var Ve=gt._currentFrame=gt._frameQueue.shift();if(Ve){var nn=Ve.name?Ve.name.toString():null;K._fullLayout._currentFrame=nn,gt._lastFrameAt=Date.now(),gt._timeToNext=Ve.frameOpts.duration,e.transition(K,Ve.frame.data,Ve.frame.layout,_.coerceTraceIndices(K,Ve.frame.traces),Ve.frameOpts,Ve.transitionOpts).then(function(){Ve.onComplete&&Ve.onComplete()}),K.emit("plotly_animatingframe",{name:nn,frame:Ve.frame,animation:{frame:Ve.frameOpts,transition:Ve.transitionOpts}})}else De()}function Ge(){K.emit("plotly_animating"),gt._lastFrameAt=-1/0,gt._timeToNext=0,gt._runningTransitions=0,gt._currentFrame=null;var Ve=function(){gt._animationRaf=window.requestAnimationFrame(Ve),Date.now()-gt._lastFrameAt>gt._timeToNext&&Ne()};Ve()}var Pe=0;function ze(Ve){return Array.isArray(It)?Pe>=It.length?Ve.transitionOpts=It[Pe]:Ve.transitionOpts=It[0]:Ve.transitionOpts=It,Pe++,Ve}var Le,Se,Ye=[],Be=ft==null,Ze=Array.isArray(ft),Fe=!Be&&!Ze&&n.isPlainObject(ft);if(Fe)Ye.push({type:"object",data:ze(n.extendFlat({},ft))});else if(Be||["string","number"].indexOf(typeof ft)!==-1)for(Le=0;Le<gt._frames.length;Le++)Se=gt._frames[Le],Se&&(Be||String(Se.group)===String(ft))&&Ye.push({type:"byname",name:String(Se.name),data:ze({name:Se.name})});else if(Ze)for(Le=0;Le<ft.length;Le++){var ke=ft[Le];["number","string"].indexOf(typeof ke)!==-1?(ke=String(ke),Ye.push({type:"byname",name:ke,data:ze({name:ke})})):n.isPlainObject(ke)&&Ye.push({type:"object",data:ze(n.extendFlat({},ke))})}for(Le=0;Le<Ye.length;Le++)if(Se=Ye[Le],Se.type==="byname"&&!gt._frameHash[Se.data.name]){n.warn('animate failure: frame not found: "'+Se.data.name+'"'),ee();return}["next","immediate"].indexOf(mt.mode)!==-1&&se(),mt.direction==="reverse"&&Ye.reverse();var je=K._fullLayout._currentFrame;if(je&&mt.fromcurrent){var Ke=-1;for(Le=0;Le<Ye.length;Le++)if(Se=Ye[Le],Se.type==="byname"&&Se.name===je){Ke=Le;break}if(Ke>0&&Ke<Ye.length-1){var ln=[];for(Le=0;Le<Ye.length;Le++)Se=Ye[Le],(Ye[Le].type!=="byname"||Le>Ke)&&ln.push(Se);Ye=ln}}Ye.length>0?pe(Ye):(K.emit("plotly_animated"),zt())})}function ce(K,ft,mt){if(K=n.getGraphDiv(K),ft==null)return Promise.resolve();if(!n.isPlotDiv(K))throw new Error("This element is not a Plotly plot: "+K+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var gt,It,Mt,qt,$t=K._transitionData._frames,ie=K._transitionData._frameHash;if(!Array.isArray(ft))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+ft);var zt=$t.length+ft.length*2,ee=[],se={};for(gt=ft.length-1;gt>=0;gt--)if(n.isPlainObject(ft[gt])){var pe=ft[gt].name,De=(ie[pe]||se[pe]||{}).name,Ne=ft[gt].name,Ge=ie[De]||se[De];De&&Ne&&typeof Ne=="number"&&Ge&&P<O&&(P++,n.warn('addFrames: overwriting frame "'+(ie[De]||se[De]).name+'" with a frame whose name of type "number" also equates to "'+De+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),P===O&&n.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),se[pe]={name:pe},ee.push({frame:e.supplyFrameDefaults(ft[gt]),index:mt&&mt[gt]!==void 0&&mt[gt]!==null?mt[gt]:zt+gt})}ee.sort(function(Fe,ke){return Fe.index>ke.index?-1:Fe.index<ke.index?1:0});var Pe=[],ze=[],Le=$t.length;for(gt=ee.length-1;gt>=0;gt--){if(It=ee[gt].frame,typeof It.name=="number"&&n.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!It.name)for(;ie[It.name="frame "+K._transitionData._counter++];);if(ie[It.name]){for(Mt=0;Mt<$t.length&&($t[Mt]||{}).name!==It.name;Mt++);Pe.push({type:"replace",index:Mt,value:It}),ze.unshift({type:"replace",index:Mt,value:$t[Mt]})}else qt=Math.max(0,Math.min(ee[gt].index,Le)),Pe.push({type:"insert",index:qt,value:It}),ze.unshift({type:"delete",index:qt}),Le++}var Se=e.modifyFrames,Ye=e.modifyFrames,Be=[K,ze],Ze=[K,Pe];return o&&o.add(K,Se,Be,Ye,Ze),e.modifyFrames(K,Pe)}function we(K,ft){if(K=n.getGraphDiv(K),!n.isPlotDiv(K))throw new Error("This element is not a Plotly plot: "+K);var mt,gt,It=K._transitionData._frames,Mt=[],qt=[];if(!ft)for(ft=[],mt=0;mt<It.length;mt++)ft.push(mt);for(ft=ft.slice(),ft.sort(),mt=ft.length-1;mt>=0;mt--)gt=ft[mt],Mt.push({type:"delete",index:gt}),qt.unshift({type:"insert",index:gt,value:It[gt]});var $t=e.modifyFrames,ie=e.modifyFrames,zt=[K,qt],ee=[K,Mt];return o&&o.add(K,$t,zt,ie,ee),e.modifyFrames(K,Mt)}function yt(K){K=n.getGraphDiv(K);var ft=K._fullLayout||{},mt=K._fullData||[];return e.cleanPlot([],{},mt,ft),e.purge(K),l.purge(K),ft._container&&ft._container.remove(),delete K._context,K}function kt(K){var ft=K._fullLayout,mt=K.getBoundingClientRect();if(!n.equalDomRects(mt,ft._lastBBox)){var gt=ft._invTransform=n.inverseTransformMatrix(n.getFullTransformMatrix(K));ft._invScaleX=Math.sqrt(gt[0][0]*gt[0][0]+gt[0][1]*gt[0][1]+gt[0][2]*gt[0][2]),ft._invScaleY=Math.sqrt(gt[1][0]*gt[1][0]+gt[1][1]*gt[1][1]+gt[1][2]*gt[1][2]),ft._lastBBox=mt}}function Tt(K){var ft=D.select(K),mt=K._fullLayout;if(mt._calcInverseTransform=kt,mt._calcInverseTransform(K),mt._container=ft.selectAll(".plot-container").data([0]),mt._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0).style({width:"100%",height:"100%"}),mt._paperdiv=mt._container.selectAll(".svg-container").data([0]),mt._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),mt._glcontainer=mt._paperdiv.selectAll(".gl-container").data([{}]),mt._glcontainer.enter().append("div").classed("gl-container",!0),mt._paperdiv.selectAll(".main-svg").remove(),mt._paperdiv.select(".modebar-container").remove(),mt._paper=mt._paperdiv.insert("svg",":first-child").classed("main-svg",!0),mt._toppaper=mt._paperdiv.append("svg").classed("main-svg",!0),mt._modebardiv=mt._paperdiv.append("div"),delete mt._modeBar,mt._hoverpaper=mt._paperdiv.append("svg").classed("main-svg",!0),!mt._uid){var gt={};D.selectAll("defs").each(function(){this.id&&(gt[this.id.split("-")[1]]=1)}),mt._uid=n.randstr(gt)}mt._paperdiv.selectAll(".main-svg").attr(y.svgAttrs),mt._defs=mt._paper.append("defs").attr("id","defs-"+mt._uid),mt._clips=mt._defs.append("g").classed("clips",!0),mt._topdefs=mt._toppaper.append("defs").attr("id","topdefs-"+mt._uid),mt._topclips=mt._topdefs.append("g").classed("clips",!0),mt._bgLayer=mt._paper.append("g").classed("bglayer",!0),mt._draggers=mt._paper.append("g").classed("draglayer",!0);var It=mt._paper.append("g").classed("layer-below",!0);mt._imageLowerLayer=It.append("g").classed("imagelayer",!0),mt._shapeLowerLayer=It.append("g").classed("shapelayer",!0),mt._cartesianlayer=mt._paper.append("g").classed("cartesianlayer",!0),mt._polarlayer=mt._paper.append("g").classed("polarlayer",!0),mt._smithlayer=mt._paper.append("g").classed("smithlayer",!0),mt._ternarylayer=mt._paper.append("g").classed("ternarylayer",!0),mt._geolayer=mt._paper.append("g").classed("geolayer",!0),mt._funnelarealayer=mt._paper.append("g").classed("funnelarealayer",!0),mt._pielayer=mt._paper.append("g").classed("pielayer",!0),mt._iciclelayer=mt._paper.append("g").classed("iciclelayer",!0),mt._treemaplayer=mt._paper.append("g").classed("treemaplayer",!0),mt._sunburstlayer=mt._paper.append("g").classed("sunburstlayer",!0),mt._indicatorlayer=mt._toppaper.append("g").classed("indicatorlayer",!0),mt._glimages=mt._paper.append("g").classed("glimages",!0);var Mt=mt._toppaper.append("g").classed("layer-above",!0);mt._imageUpperLayer=Mt.append("g").classed("imagelayer",!0),mt._shapeUpperLayer=Mt.append("g").classed("shapelayer",!0),mt._selectionLayer=mt._toppaper.append("g").classed("selectionlayer",!0),mt._infolayer=mt._toppaper.append("g").classed("infolayer",!0),mt._menulayer=mt._toppaper.append("g").classed("menulayer",!0),mt._zoomlayer=mt._toppaper.append("g").classed("zoomlayer",!0),mt._hoverlayer=mt._hoverpaper.append("g").classed("hoverlayer",!0),mt._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),K.emit("plotly_framework")}F.animate=Te,F.addFrames=ce,F.deleteFrames=we,F.addTraces=j,F.deleteTraces=A,F.extendTraces=xt,F.moveTraces=q,F.prependTraces=H,F.newPlot=G,F._doPlot=T,F.purge=yt,F.react=oe,F.redraw=U,F.relayout=rt,F.restyle=R,F.setPlotConfig=I,F.update=Ht,F._guiRelayout=pt(rt),F._guiRestyle=pt(R),F._guiUpdate=pt(Ht),F._storeDirectGUIEdit=Z}),kr=Dt(F=>{var D=un();F.getDelay=function(n){return n._has&&(n._has("gl3d")||n._has("mapbox")||n._has("map"))?500:0},F.getRedrawFunc=function(n){return function(){D.getComponentMethod("colorbar","draw")(n)}},F.encodeSVG=function(n){return"data:image/svg+xml,"+encodeURIComponent(n)},F.encodeJSON=function(n){return"data:application/json,"+encodeURIComponent(n)};var i=window.URL||window.webkitURL;F.createObjectURL=function(n){return i.createObjectURL(n)},F.revokeObjectURL=function(n){return i.revokeObjectURL(n)},F.createBlob=function(n,r){if(r==="svg")return new window.Blob([n],{type:"image/svg+xml;charset=utf-8"});if(r==="full-json")return new window.Blob([n],{type:"application/json;charset=utf-8"});var l=t(window.atob(n));return new window.Blob([l],{type:"image/"+r})},F.octetStream=function(n){document.location.href="data:application/octet-stream"+n};function t(n){for(var r=n.length,l=new ArrayBuffer(r),o=new Uint8Array(l),s=0;s<r;s++)o[s]=n.charCodeAt(s);return l}F.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/}),qi=Dt((F,D)=>{var i=_n();Ce();var t=Nn(),n=bn();Mr();var r=/"/g,l="TOBESTRIPPED",o=new RegExp('("'+l+")|("+l+'")',"g");function s(e){var p=i.select("body").append("div").style({display:"none"}).html(""),u=e.replace(/(&[^;]*;)/gi,function(h){return h==="&lt;"?"&#60;":h==="&rt;"?"&#62;":h.indexOf("<")!==-1||h.indexOf(">")!==-1?"":p.html(h).text()});return p.remove(),u}function f(e){return e.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}D.exports=function(e,p,u){var h=e._fullLayout,b=h._paper,m=h._toppaper,g=h.width,y=h.height,v;b.insert("rect",":first-child").call(t.setRect,0,0,g,y).call(n.fill,h.paper_bgcolor);var c=h._basePlotModules||[];for(v=0;v<c.length;v++){var d=c[v];d.toSVG&&d.toSVG(e)}if(m){var _=m.node().childNodes,w=Array.prototype.slice.call(_);for(v=0;v<w.length;v++){var k=w[v];k.childNodes.length&&b.node().appendChild(k)}}h._draggers&&h._draggers.remove(),b.node().style.background="",b.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var P=i.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){P.remove();return}else P.style({visibility:null,display:null});var O=this.style.fontFamily;O&&O.indexOf('"')!==-1&&P.style("font-family",O.replace(r,l));var T=this.style.fontWeight;T&&(T==="normal"||T==="400")&&P.style("font-weight",void 0);var X=this.style.fontStyle;X&&X==="normal"&&P.style("font-style",void 0);var I=this.style.fontVariant;I&&I==="normal"&&P.style("font-variant",void 0)}),b.selectAll(".gradient_filled,.pattern_filled").each(function(){var P=i.select(this),O=this.style.fill;O&&O.indexOf("url(")!==-1&&P.style("fill",O.replace(r,l));var T=this.style.stroke;T&&T.indexOf("url(")!==-1&&P.style("stroke",T.replace(r,l))}),(p==="pdf"||p==="eps")&&b.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),p==="svg"&&u&&(b.attr("width",u*g),b.attr("height",u*y),b.attr("viewBox","0 0 "+g+" "+y));var $=new window.XMLSerializer().serializeToString(b.node());return $=s($),$=f($),$=$.replace(o,"'"),$}}),$i=Dt((F,D)=>{var i=Ce(),t=Di().EventEmitter,n=kr();function r(l){var o=l.emitter||new t,s=new Promise(function(f,e){var p=window.Image,u=l.svg,h=l.format||"png",b=l.canvas,m=l.scale||1,g=l.width||300,y=l.height||150,v=m*g,c=m*y,d=b.getContext("2d",{willReadFrequently:!0}),_=new p,w,k;h==="svg"||i.isSafari()?k=n.encodeSVG(u):(w=n.createBlob(u,"svg"),k=n.createObjectURL(w)),b.width=v,b.height=c,_.onload=function(){var $;switch(w=null,n.revokeObjectURL(k),h!=="svg"&&d.drawImage(_,0,0,v,c),h){case"jpeg":$=b.toDataURL("image/jpeg");break;case"png":$=b.toDataURL("image/png");break;case"webp":$=b.toDataURL("image/webp");break;case"svg":$=k;break;default:var P="Image format is not jpeg, png, svg or webp.";if(e(new Error(P)),!l.promise)return o.emit("error",P)}f($),l.promise||o.emit("success",$)},_.onerror=function($){if(w=null,n.revokeObjectURL(k),e($),!l.promise)return o.emit("error",$)},_.src=k});return l.promise?s:o}D.exports=r}),Sl=Dt((F,D)=>{var i=wn(),t=Ll(),n=ea(),r=Ce(),l=kr(),o=qi(),s=$i(),f=_i().version,e={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function p(u,h){h=h||{};var b,m,g,y;r.isPlainObject(u)?(b=u.data||[],m=u.layout||{},g=u.config||{},y={}):(u=r.getGraphDiv(u),b=r.extendDeep([],u.data),m=r.extendDeep({},u.layout),g=u._context,y=u._fullLayout||{});function v(G){return!(G in h)||r.validate(h[G],e[G])}if(!v("width")&&h.width!==null||!v("height")&&h.height!==null)throw new Error("Height and width should be pixel values.");if(!v("format"))throw new Error("Export format is not "+r.join2(e.format.values,", "," or ")+".");var c={};function d(G,C){return r.coerce(h,c,e,G,C)}var _=d("format"),w=d("width"),k=d("height"),$=d("scale"),P=d("setBackground"),O=d("imageDataOnly"),T=document.createElement("div");T.style.position="absolute",T.style.left="-5000px",document.body.appendChild(T);var X=r.extendFlat({},m);w?X.width=w:h.width===null&&i(y.width)&&(X.width=y.width),k?X.height=k:h.height===null&&i(y.height)&&(X.height=y.height);var I=r.extendFlat({},g,{_exportedPlot:!0,staticPlot:!0,setBackground:P}),E=l.getRedrawFunc(T);function N(){return new Promise(function(G){setTimeout(G,l.getDelay(T._fullLayout))})}function V(){return new Promise(function(G,C){var W=o(T,_,$),J=T._fullLayout.width,at=T._fullLayout.height;function et(){t.purge(T),document.body.removeChild(T)}if(_==="full-json"){var it=n.graphJson(T,!1,"keepdata","object",!0,!0);return it.version=f,it=JSON.stringify(it),et(),G(O?it:l.encodeJSON(it))}if(et(),_==="svg")return G(O?W:l.encodeSVG(W));var dt=document.createElement("canvas");dt.id=r.randstr(),s({format:_,width:J,height:at,scale:$,canvas:dt,svg:W,promise:!0}).then(G).catch(C)})}function U(G){return O?G.replace(l.IMAGE_URL_PREFIX,""):G}return new Promise(function(G,C){t.newPlot(T,b,X,I).then(E).then(N).then(V).then(function(W){G(U(W))}).catch(function(W){C(W)})})}D.exports=p}),Wc=Dt((F,D)=>{var i=Ce(),t=ea(),n=Rr(),r=_r().dfltConfig,l=i.isPlainObject,o=Array.isArray,s=i.isArrayOrTypedArray;D.exports=function(c,d){c===void 0&&(c=[]),d===void 0&&(d={});var _=n.get(),w=[],k={_context:i.extendFlat({},r)},$,P;o(c)?(k.data=i.extendDeep([],c),$=c):(k.data=[],$=[],w.push(h("array","data"))),l(d)?(k.layout=i.extendDeep({},d),P=d):(k.layout={},P={},arguments.length>1&&w.push(h("object","layout"))),t.supplyDefaults(k);for(var O=k._fullData,T=$.length,X=0;X<T;X++){var I=$[X],E=["data",X];if(!l(I)){w.push(h("object",E));continue}var N=O[X],V=N.type,U=_.traces[V].attributes;U.type={valType:"enumerated",values:[V]},N.visible===!1&&I.visible!==!1&&w.push(h("invisible",E)),f(I,N,U,w,E)}var G=k._fullLayout,C=e(_,O);return f(P,G,C,w,"layout"),w.length===0?void 0:w};function f(c,d,_,w,k,$){$=$||[];for(var P=Object.keys(c),O=0;O<P.length;O++){var T=P[O],X=$.slice();X.push(T);var I=c[T],E=d[T],N=m(_,T),V=(N||{}).valType,U=V==="info_array",G=V==="colorscale",C=(N||{}).items;if(!b(_,T))w.push(h("schema",k,X));else if(l(I)&&l(E)&&V!=="any")f(I,E,N,w,k,X);else if(U&&o(I)){I.length>E.length&&w.push(h("unused",k,X.concat(E.length)));var W=E.length,J=Array.isArray(C);J&&(W=Math.min(W,C.length));var at,et,it,dt,ht;if(N.dimensions===2)for(et=0;et<W;et++)if(o(I[et])){I[et].length>E[et].length&&w.push(h("unused",k,X.concat(et,E[et].length)));var xt=E[et].length;for(at=0;at<(J?Math.min(xt,C[et].length):xt);at++)it=J?C[et][at]:C,dt=I[et][at],ht=E[et][at],i.validate(dt,it)?ht!==dt&&ht!==+dt&&w.push(h("dynamic",k,X.concat(et,at),dt,ht)):w.push(h("value",k,X.concat(et,at),dt))}else w.push(h("array",k,X.concat(et),I[et]));else for(et=0;et<W;et++)it=J?C[et]:C,dt=I[et],ht=E[et],i.validate(dt,it)?ht!==dt&&ht!==+dt&&w.push(h("dynamic",k,X.concat(et),dt,ht)):w.push(h("value",k,X.concat(et),dt))}else if(N.items&&!U&&o(I)){var H=C[Object.keys(C)[0]],j=[],A,q;for(A=0;A<E.length;A++){var R=E[A]._index||A;if(q=X.slice(),q.push(R),l(I[R])&&l(E[A])){j.push(R);var z=I[R],M=E[A];l(z)&&z.visible!==!1&&M.visible===!1?w.push(h("invisible",k,q)):f(z,M,H,w,k,q)}}for(A=0;A<I.length;A++)q=X.slice(),q.push(A),l(I[A])?j.indexOf(A)===-1&&w.push(h("unused",k,q)):w.push(h("object",k,q,I[A]))}else!l(I)&&l(E)?w.push(h("object",k,X,I)):!s(I)&&s(E)&&!U&&!G?w.push(h("array",k,X,I)):T in d?i.validate(I,N)?N.valType==="enumerated"&&(N.coerceNumber&&I!==+E||I!==E)&&w.push(h("dynamic",k,X,I,E)):w.push(h("value",k,X,I)):w.push(h("unused",k,X,I))}return w}function e(c,d){for(var _=c.layout.layoutAttributes,w=0;w<d.length;w++){var k=d[w],$=c.traces[k.type],P=$.layoutAttributes;P&&(k.subplot?i.extendFlat(_[$.attributes.subplot.dflt],P):i.extendFlat(_,P))}return _}var p={object:function(c,d){var _;return c==="layout"&&d===""?_="The layout argument":c[0]==="data"&&d===""?_="Trace "+c[1]+" in the data argument":_=u(c)+"key "+d,_+" must be linked to an object container"},array:function(c,d){var _;return c==="data"?_="The data argument":_=u(c)+"key "+d,_+" must be linked to an array container"},schema:function(c,d){return u(c)+"key "+d+" is not part of the schema"},unused:function(c,d,_){var w=l(_)?"container":"key";return u(c)+w+" "+d+" did not get coerced"},dynamic:function(c,d,_,w){return[u(c)+"key",d,"(set to '"+_+"')","got reset to","'"+w+"'","during defaults."].join(" ")},invisible:function(c,d){return(d?u(c)+"item "+d:"Trace "+c[1])+" got defaulted to be not visible"},value:function(c,d,_){return[u(c)+"key "+d,"is set to an invalid value ("+_+")"].join(" ")}};function u(c){return o(c)?"In data trace "+c[1]+", ":"In "+c+", "}function h(c,d,_,w,k){_=_||"";var $,P;o(d)?($=d[0],P=d[1]):($=d,P=null);var O=v(_),T=p[c](d,O,w,k);return i.log(T),{code:c,container:$,trace:P,path:_,astr:O,msg:T}}function b(c,d){var _=y(d),w=_.keyMinusId,k=_.id;return w in c&&c[w]._isSubplotObj&&k?!0:d in c}function m(c,d){if(d in c)return c[d];var _=y(d);return c[_.keyMinusId]}var g=i.counterRegex("([a-z]+)");function y(c){var d=c.match(g);return{keyMinusId:d&&d[1],id:d&&d[2]}}function v(c){if(!o(c))return String(c);for(var d="",_=0;_<c.length;_++){var w=c[_];typeof w=="number"?d=d.substr(0,d.length-1)+"["+w+"]":d+=w,_<c.length-1&&(d+=".")}return d}}),Jc=Dt((F,D)=>{var i=Ce(),t=kr();function n(r,l,o){var s=document.createElement("a"),f="download"in s,e=new Promise(function(p,u){var h,b;if(f)return h=t.createBlob(r,o),b=t.createObjectURL(h),s.href=b,s.download=l,document.body.appendChild(s),s.click(),document.body.removeChild(s),t.revokeObjectURL(b),h=null,p(l);if(i.isSafari()){var m=o==="svg"?",":";base64,";return t.octetStream(m+encodeURIComponent(r)),p(l)}u(new Error("download error"))});return e}D.exports=n}),Ol=Dt((F,D)=>{var i=Ce(),t=Sl(),n=Jc();kr();function r(l,o){var s;return i.isPlainObject(l)||(s=i.getGraphDiv(l)),o=o||{},o.format=o.format||"png",o.width=o.width||null,o.height=o.height||null,o.imageDataOnly=!0,new Promise(function(f,e){s&&s._snapshotInProgress&&e(new Error("Snapshotting already in progress.")),s&&(s._snapshotInProgress=!0);var p=t(l,o),u=o.filename||l.fn||"newplot";u+="."+o.format.replace("-","."),p.then(function(h){return s&&(s._snapshotInProgress=!1),n(h,u,o.format)}).then(function(h){f(h)}).catch(function(h){s&&(s._snapshotInProgress=!1),e(h)})})}D.exports=r}),qc=Dt(F=>{var D=Ce(),i=D.isPlainObject,t=Rr(),n=ea(),r=ja(),l=jn(),o=_r().dfltConfig;F.makeTemplate=function(g){g=D.isPlainObject(g)?g:D.getGraphDiv(g),g=D.extendDeep({_context:o},{data:g.data,layout:g.layout}),n.supplyDefaults(g);var y=g.data||[],v=g.layout||{};v._basePlotModules=g._fullLayout._basePlotModules,v._modules=g._fullLayout._modules;var c={data:{},layout:{}};y.forEach(function(I){var E={};e(I,E,u.bind(null,I));var N=D.coerce(I,{},r,"type"),V=c.data[N];V||(V=c.data[N]=[]),V.push(E)}),e(v,c.layout,p.bind(null,v)),delete c.layout.template;var d=v.template;if(i(d)){var _=d.layout,w,k,$,P,O,T;i(_)&&s(_,c.layout);var X=d.data;if(i(X)){for(k in c.data)if($=X[k],Array.isArray($)){for(O=c.data[k],T=O.length,P=$.length,w=0;w<T;w++)s($[w%P],O[w]);for(w=T;w<P;w++)O.push(D.extendDeep({},$[w]))}for(k in X)k in c.data||(c.data[k]=D.extendDeep([],X[k]))}}return c};function s(g,y){g=D.extendDeep({},g);var v=Object.keys(g).sort(),c,d;function _(O,T,X){if(i(T)&&i(O))s(O,T);else if(Array.isArray(T)&&Array.isArray(O)){var I=l.arrayTemplater({_template:g},X);for(d=0;d<T.length;d++){var E=T[d],N=I.newItem(E)._template;N&&s(N,E)}var V=I.defaultItems();for(d=0;d<V.length;d++)T.push(V[d]._template);for(d=0;d<T.length;d++)delete T[d].templateitemname}}for(c=0;c<v.length;c++){var w=v[c],k=g[w];if(w in y?_(k,y[w],w):y[w]=k,f(w)===w)for(var $ in y){var P=f($);$!==P&&P===w&&!($ in g)&&_(k,y[$],w)}}}function f(g){return g.replace(/[0-9]+$/,"")}function e(g,y,v,c,d){var _=d&&v(d);for(var w in g){var k=g[w],$=h(g,w,c),P=h(g,w,d),O=v(P);if(!O){var T=f(w);T!==w&&(P=h(g,T,d),O=v(P))}if(!(_&&_===O)&&!(!O||O._noTemplating||O.valType==="data_array"||O.arrayOk&&Array.isArray(k)))if(!O.valType&&i(k))e(k,y,v,$,P);else if(O._isLinkedToArray&&Array.isArray(k))for(var X=!1,I=0,E={},N=0;N<k.length;N++){var V=k[N];if(i(V)){var U=V.name;if(U)E[U]||(e(V,y,v,h(k,I,$),h(k,I,P)),I++,E[U]=1);else if(!X){var G=l.arrayDefaultKey(w),C=h(g,G,c),W=h(k,I,$);e(V,y,v,W,h(k,I,P));var J=D.nestedProperty(y,W),at=D.nestedProperty(y,C);at.set(J.get()),J.set(null),X=!0}}}else{var et=D.nestedProperty(y,$);et.set(k)}}}function p(g,y){return t.getLayoutValObject(g,D.nestedProperty({},y).parts)}function u(g,y){return t.getTraceValObject(g,D.nestedProperty({},y).parts)}function h(g,y,v){var c;return v?Array.isArray(g)?c=v+"["+y+"]":c=v+"."+y:c=y,c}F.validateTemplate=function(g,y){var v=D.extendDeep({},{_context:o,data:g.data,layout:g.layout}),c=v.layout||{};i(y)||(y=c.template||{});var d=y.layout,_=y.data,w=[];v.layout=c,v.layout.template=y,n.supplyDefaults(v);var k=v._fullLayout,$=v._fullData,P={};function O(C,W){for(var J in C)if(J.charAt(0)!=="_"&&i(C[J])){var at=f(J),et=[],it;for(it=0;it<W.length;it++)et.push(h(C,J,W[it])),at!==J&&et.push(h(C,at,W[it]));for(it=0;it<et.length;it++)P[et[it]]=1;O(C[J],et)}}function T(C,W){for(var J in C)if(J.indexOf("defaults")===-1&&i(C[J])){var at=h(C,J,W);P[at]?T(C[J],at):w.push({code:"unused",path:at})}}if(i(d)?(O(k,["layout"]),T(d,"layout")):w.push({code:"layout"}),!i(_))w.push({code:"data"});else{for(var X={},I,E=0;E<$.length;E++){var N=$[E];I=N.type,X[I]=(X[I]||0)+1,N._fullInput._template||w.push({code:"missing",index:N.index,traceType:I})}for(I in _){var V=_[I].length,U=X[I]||0;V>U?w.push({code:"unused",traceType:I,templateCount:V,dataCount:U}):U>V&&w.push({code:"reused",traceType:I,templateCount:V,dataCount:U})}}function G(C,W){for(var J in C)if(J.charAt(0)!=="_"){var at=C[J],et=h(C,J,W);i(at)?(Array.isArray(C)&&at._template===!1&&at.templateitemname&&w.push({code:"missing",path:et,templateitemname:at.templateitemname}),G(at,et)):Array.isArray(at)&&b(at)&&G(at,et)}}if(G({data:$,layout:k},""),w.length)return w.map(m)};function b(g){for(var y=0;y<g.length;y++)if(i(g[y]))return!0}function m(g){var y;switch(g.code){case"data":y="The template has no key data.";break;case"layout":y="The template has no key layout.";break;case"missing":g.path?y="There are no templates for item "+g.path+" with name "+g.templateitemname:y="There are no templates for trace "+g.index+", of type "+g.traceType+".";break;case"unused":g.path?y="The template item at "+g.path+" was not used in constructing the plot.":g.dataCount?y="Some of the templates of type "+g.traceType+" were not used. The template has "+g.templateCount+" traces, the data only has "+g.dataCount+" of this type.":y="The template has "+g.templateCount+" traces of type "+g.traceType+" but there are none in the data.";break;case"reused":y="Some of the templates of type "+g.traceType+" were used more than once. The template has "+g.templateCount+" traces, the data has "+g.dataCount+" of this type.";break}return g.msg=y,g}}),$c=Dt(F=>{var D=Ll();F._doPlot=D._doPlot,F.newPlot=D.newPlot,F.restyle=D.restyle,F.relayout=D.relayout,F.redraw=D.redraw,F.update=D.update,F._guiRestyle=D._guiRestyle,F._guiRelayout=D._guiRelayout,F._guiUpdate=D._guiUpdate,F._storeDirectGUIEdit=D._storeDirectGUIEdit,F.react=D.react,F.extendTraces=D.extendTraces,F.prependTraces=D.prependTraces,F.addTraces=D.addTraces,F.deleteTraces=D.deleteTraces,F.moveTraces=D.moveTraces,F.purge=D.purge,F.addFrames=D.addFrames,F.deleteFrames=D.deleteFrames,F.animate=D.animate,F.setPlotConfig=D.setPlotConfig;var i=Gr().getGraphDiv,t=Xi().eraseActiveShape;F.deleteActiveShape=function(r){return t(i(r))},F.toImage=Sl(),F.validate=Wc(),F.downloadImage=Ol();var n=qc();F.makeTemplate=n.makeTemplate,F.validateTemplate=n.validateTemplate}),Cl=Dt((F,D)=>{var i=Ce(),t=un();D.exports=function(n,r,l,o){var s=o("x"),f=o("y"),e,p=t.getComponentMethod("calendars","handleTraceDefaults");if(p(n,r,["x","y"],l),s){var u=i.minRowLength(s);f?e=Math.min(u,i.minRowLength(f)):(e=u,o("y0"),o("dy"))}else{if(!f)return 0;e=i.minRowLength(f),o("x0"),o("dx")}return r._length=e,e}}),Dl=Dt((F,D)=>{var i=Ce().dateTick0,t=oa(),n=t.ONEWEEK;function r(l,o){return l%n===0?i(o,1):i(o,0)}D.exports=function(l,o,s,f,e){if(e||(e={x:!0,y:!0}),e.x){var p=f("xperiod");p&&(f("xperiod0",r(p,o.xcalendar)),f("xperiodalignment"))}if(e.y){var u=f("yperiod");u&&(f("yperiod0",r(u,o.ycalendar)),f("yperiodalignment"))}}}),Qc=Dt((F,D)=>{var i=["orientation","groupnorm","stackgaps"];D.exports=function(t,n,r,l){var o=r._scatterStackOpts,s=l("stackgroup");if(s){var f=n.xaxis+n.yaxis,e=o[f];e||(e=o[f]={});var p=e[s],u=!1;p?p.traces.push(n):(p=e[s]={traceIndices:[],traces:[n]},u=!0);for(var h={orientation:n.x&&!n.y?"h":"v"},b=0;b<i.length;b++){var m=i[b],g=m+"Found";if(!p[g]){var y=t[m]!==void 0,v=m==="orientation";if((y||u)&&(p[m]=l(m,h[m]),v&&(p.fillDflt=p[m]==="h"?"tonextx":"tonexty"),y&&(p[g]=!0,!u&&(delete p.traces[0][m],v))))for(var c=0;c<p.traces.length-1;c++){var d=p.traces[c];d._input.fill!==d.fill&&(d.fill=p.fillDflt)}}}return p}}}),Kc=Dt((F,D)=>{var i=bn(),t=Ea().hasColorscale,n=Nr(),r=Pa();D.exports=function(l,o,s,f,e,p){var u=r.isBubble(l),h=(l.line||{}).color,b;if(p=p||{},h&&(s=h),e("marker.symbol"),e("marker.opacity",u?.7:1),e("marker.size"),p.noAngle||(e("marker.angle"),p.noAngleRef||e("marker.angleref"),p.noStandOff||e("marker.standoff")),e("marker.color",s),t(l,"marker")&&n(l,o,f,e,{prefix:"marker.",cLetter:"c"}),p.noSelect||(e("selected.marker.color"),e("unselected.marker.color"),e("selected.marker.size"),e("unselected.marker.size")),p.noLine||(h&&!Array.isArray(h)&&o.marker.color!==h?b=h:u?b=i.background:b=i.defaultLine,e("marker.line.color",b),t(l,"marker.line")&&n(l,o,f,e,{prefix:"marker.line.",cLetter:"c"}),e("marker.line.width",u?1:0)),u&&(e("marker.sizeref"),e("marker.sizemin"),e("marker.sizemode")),p.gradient){var m=e("marker.gradient.type");m!=="none"&&e("marker.gradient.color")}}}),tf=Dt((F,D)=>{var i=Ce().isArrayOrTypedArray,t=Ea().hasColorscale,n=Nr();D.exports=function(r,l,o,s,f,e){e||(e={});var p=(r.marker||{}).color;if(p&&p._inputArray&&(p=p._inputArray),f("line.color",o),t(r,"line"))n(r,l,s,f,{prefix:"line.",cLetter:"c"});else{var u=(i(p)?!1:p)||o;f("line.color",u)}f("line.width"),e.noDash||f("line.dash"),e.backoff&&f("line.backoff")}}),ef=Dt((F,D)=>{D.exports=function(i,t,n){var r=n("line.shape");r==="spline"&&n("line.smoothing")}}),nf=Dt((F,D)=>{var i=Ce();D.exports=function(t,n,r,l,o){o=o||{},l("textposition"),i.coerceFont(l,"textfont",o.font||r.font,o),o.noSelect||(l("selected.textfont.color"),l("unselected.textfont.color"))}}),af=Dt((F,D)=>{var i=bn(),t=Ce().isArrayOrTypedArray;function n(r){for(var l=i.interpolate(r[0][1],r[1][1],.5),o=2;o<r.length;o++){var s=i.interpolate(r[o-1][1],r[o][1],.5);l=i.interpolate(l,s,r[o-1][0]/r[o][0])}return l}D.exports=function(r,l,o,s,f){f||(f={});var e=!1;if(l.marker){var p=l.marker.color,u=(l.marker.line||{}).color;p&&!t(p)?e=p:u&&!t(u)&&(e=u)}var h;if(f.moduleHasFillgradient){var b=s("fillgradient.type");if(b!=="none"){s("fillgradient.start"),s("fillgradient.stop");var m=s("fillgradient.colorscale");m&&(h=n(m))}}s("fillcolor",i.addOpacity((l.line||{}).color||e||h||o,.5))}}),rf=Dt((F,D)=>{var i=Ce(),t=un(),n=Tr(),r=Ji(),l=Pa(),o=Cl(),s=Dl(),f=Qc(),e=Kc(),p=tf(),u=ef(),h=nf(),b=af(),m=Ce().coercePattern;D.exports=function(g,y,v,c){function d(X,I){return i.coerce(g,y,n,X,I)}var _=o(g,y,c,d);if(_||(y.visible=!1),!!y.visible){s(g,y,c,d),d("xhoverformat"),d("yhoverformat"),d("zorder");var w=f(g,y,c,d);c.scattermode==="group"&&y.orientation===void 0&&d("orientation","v");var k=!w&&_<r.PTS_LINESONLY?"lines+markers":"lines";d("text"),d("hovertext"),d("mode",k),l.hasMarkers(y)&&e(g,y,v,c,d,{gradient:!0}),l.hasLines(y)&&(p(g,y,v,c,d,{backoff:!0}),u(g,y,d),d("connectgaps"),d("line.simplify")),l.hasText(y)&&(d("texttemplate"),h(g,y,c,d));var $=[];(l.hasMarkers(y)||l.hasText(y))&&(d("cliponaxis"),d("marker.maxdisplayed"),$.push("points")),d("fill",w?w.fillDflt:"none"),y.fill!=="none"&&(b(g,y,v,d,{moduleHasFillgradient:!0}),l.hasLines(y)||u(g,y,d),m(d,"fillpattern",y.fillcolor,!1));var P=(y.line||{}).color,O=(y.marker||{}).color;(y.fill==="tonext"||y.fill==="toself")&&$.push("fills"),d("hoveron",$.join("+")||"points"),y.hoveron!=="fills"&&d("hovertemplate");var T=t.getComponentMethod("errorbars","supplyDefaults");T(g,y,P||O||v,{axis:"y"}),T(g,y,P||O||v,{axis:"x",inherit:"y"}),i.coerceSelectionMarkerOpacity(y,d)}}}),Pl=Dt((F,D)=>{var i=Kr().getAxisGroup;D.exports=function(t,n,r,l,o){var s=n.orientation,f=n[{v:"x",h:"y"}[s]+"axis"],e=i(r,f)+s,p=r._alignmentOpts||{},u=l("alignmentgroup"),h=p[e];h||(h=p[e]={});var b=h[u];b?b.traces.push(n):b=h[u]={traces:[n],alignmentIndex:Object.keys(h).length,offsetGroups:{}};var m=l("offsetgroup")||"",g=b.offsetGroups,y=g[m];n._offsetIndex=0,(o!=="group"||m)&&(y||(y=g[m]={offsetIndex:Object.keys(g).length}),n._offsetIndex=y.offsetIndex)}}),of=Dt((F,D)=>{var i=Ce(),t=Pl(),n=Tr();D.exports=function(r,l){var o,s,f,e=l.scattermode;function p(g){return i.coerce(s._input,s,n,g)}if(l.scattermode==="group")for(f=0;f<r.length;f++)s=r[f],s.type==="scatter"&&(o=s._input,t(o,s,l,p,e));for(f=0;f<r.length;f++){var u=r[f];if(u.type==="scatter"){var h=u.fill;if(!(h==="none"||h==="toself")&&(u.opacity=void 0,h==="tonexty"||h==="tonextx"))for(var b=f-1;b>=0;b--){var m=r[b];if(m.type==="scatter"&&m.xaxis===u.xaxis&&m.yaxis===u.yaxis){m.opacity=void 0;break}}}}}}),lf=Dt((F,D)=>{var i=Ce(),t=Pi();D.exports=function(n,r){function l(s,f){return i.coerce(n,r,t,s,f)}var o=r.barmode==="group";r.scattermode==="group"&&l("scattergap",o?r.bargap:.2)}}),Il=Dt((F,D)=>{var i=wn(),t=Ce(),n=t.dateTime2ms,r=t.incrementMonth,l=oa(),o=l.ONEAVGMONTH;D.exports=function(s,f,e,p){if(f.type!=="date")return{vals:p};var u=s[e+"periodalignment"];if(!u)return{vals:p};var h=s[e+"period"],b;if(i(h)){if(h=+h,h<=0)return{vals:p}}else if(typeof h=="string"&&h.charAt(0)==="M"){var m=+h.substring(1);if(m>0&&Math.round(m)===m)b=m;else return{vals:p}}for(var g=f.calendar,y=u==="start",v=u==="end",c=s[e+"period0"],d=n(c,g)||0,_=[],w=[],k=[],$=p.length,P=0;P<$;P++){var O=p[P],T,X,I;if(b){for(T=Math.round((O-d)/(b*o)),I=r(d,b*T,g);I>O;)I=r(I,-b,g);for(;I<=O;)I=r(I,b,g);X=r(I,-b,g)}else{for(T=Math.round((O-d)/h),I=d+T*h;I>O;)I-=h;for(;I<=O;)I+=h;X=I-h}_[P]=y?X:v?I:(X+I)/2,w[P]=X,k[P]=I}return{vals:_,starts:w,ends:k}}}),sf=Dt((F,D)=>{var i=Ea().hasColorscale,t=Ri(),n=Pa();D.exports=function(r,l){n.hasLines(l)&&i(l,"line")&&t(r,l,{vals:l.line.color,containerStr:"line",cLetter:"c"}),n.hasMarkers(l)&&(i(l,"marker")&&t(r,l,{vals:l.marker.color,containerStr:"marker",cLetter:"c"}),i(l,"marker.line")&&t(r,l,{vals:l.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}}),Fl=Dt((F,D)=>{var i=Ce();D.exports=function(t,n){for(var r=0;r<t.length;r++)t[r].i=r;i.mergeArray(n.text,t,"tx"),i.mergeArray(n.texttemplate,t,"txt"),i.mergeArray(n.hovertext,t,"htx"),i.mergeArray(n.customdata,t,"data"),i.mergeArray(n.textposition,t,"tp"),n.textfont&&(i.mergeArrayCastPositive(n.textfont.size,t,"ts"),i.mergeArray(n.textfont.color,t,"tc"),i.mergeArray(n.textfont.family,t,"tf"),i.mergeArray(n.textfont.weight,t,"tw"),i.mergeArray(n.textfont.style,t,"ty"),i.mergeArray(n.textfont.variant,t,"tv"),i.mergeArray(n.textfont.textcase,t,"tC"),i.mergeArray(n.textfont.lineposition,t,"tE"),i.mergeArray(n.textfont.shadow,t,"tS"));var l=n.marker;if(l){i.mergeArrayCastPositive(l.size,t,"ms"),i.mergeArrayCastPositive(l.opacity,t,"mo"),i.mergeArray(l.symbol,t,"mx"),i.mergeArray(l.angle,t,"ma"),i.mergeArray(l.standoff,t,"mf"),i.mergeArray(l.color,t,"mc");var o=l.line;l.line&&(i.mergeArray(o.color,t,"mlc"),i.mergeArrayCastPositive(o.width,t,"mlw"));var s=l.gradient;s&&s.type!=="none"&&(i.mergeArray(s.type,t,"mgt"),i.mergeArray(s.color,t,"mgc"))}}}),Rl=Dt((F,D)=>{var i=Ce();D.exports=function(t,n){i.isArrayOrTypedArray(n.selectedpoints)&&i.tagSelected(t,n)}}),Nl=Dt((F,D)=>{var i=wn(),t=Ce(),n=Yn(),r=Il(),l=oa().BADNUM,o=Pa(),s=sf(),f=Fl(),e=Rl();function p(y,v){var c=y._fullLayout,d=v._xA=n.getFromId(y,v.xaxis||"x","x"),_=v._yA=n.getFromId(y,v.yaxis||"y","y"),w=d.makeCalcdata(v,"x"),k=_.makeCalcdata(v,"y"),$=r(v,d,"x",w),P=r(v,_,"y",k),O=$.vals,T=P.vals,X=v._length,I=new Array(X),E=v.ids,N=g(v,c,d,_),V=!1,U,G,C,W,J,at;b(c,v);var et="x",it="y",dt;if(N)t.pushUnique(N.traceIndices,v.index),U=N.orientation==="v",U?(it="s",dt="x"):(et="s",dt="y"),J=N.stackgaps==="interpolate";else{var ht=h(v,X);u(y,v,d,_,O,T,ht)}var xt=!!v.xperiodalignment,H=!!v.yperiodalignment;for(G=0;G<X;G++){var j=I[G]={},A=i(O[G]),q=i(T[G]);A&&q?(j[et]=O[G],j[it]=T[G],xt&&(j.orig_x=w[G],j.xEnd=$.ends[G],j.xStart=$.starts[G]),H&&(j.orig_y=k[G],j.yEnd=P.ends[G],j.yStart=P.starts[G])):N&&(U?A:q)?(j[dt]=U?O[G]:T[G],j.gap=!0,J?(j.s=l,V=!0):j.s=0):j[et]=j[it]=l,E&&(j.id=String(E[G]))}if(f(I,v),s(y,v),e(I,v),N){for(G=0;G<I.length;)I[G][dt]===l?I.splice(G,1):G++;if(t.sort(I,function(S,Z){return S[dt]-Z[dt]||S.i-Z.i}),V){for(G=0;G<I.length-1&&I[G].gap;)G++;for(at=I[G].s,at||(at=I[G].s=0),C=0;C<G;C++)I[C].s=at;for(W=I.length-1;W>G&&I[W].gap;)W--;for(at=I[W].s,C=I.length-1;C>W;C--)I[C].s=at;for(;G<W;)if(G++,I[G].gap){for(C=G+1;I[C].gap;)C++;for(var R=I[G-1][dt],z=I[G-1].s,M=(I[C].s-z)/(I[C][dt]-R);G<C;)I[G].s=z+(I[G][dt]-R)*M,G++}}}return I}function u(y,v,c,d,_,w,k){var $=v._length,P=y._fullLayout,O=c._id,T=d._id,X=P._firstScatter[m(v)]===v.uid,I=(g(v,P,c,d)||{}).orientation,E=v.fill;c._minDtick=0,d._minDtick=0;var N={padded:!0},V={padded:!0};k&&(N.ppad=V.ppad=k);var U=$<2||_[0]!==_[$-1]||w[0]!==w[$-1];U&&(E==="tozerox"||E==="tonextx"&&(X||I==="h"))?N.tozero=!0:!(v.error_y||{}).visible&&(E==="tonexty"||E==="tozeroy"||!o.hasMarkers(v)&&!o.hasText(v))&&(N.padded=!1,N.ppad=0),U&&(E==="tozeroy"||E==="tonexty"&&(X||I==="v"))?V.tozero=!0:(E==="tonextx"||E==="tozerox")&&(V.padded=!1),O&&(v._extremes[O]=n.findExtremes(c,_,N)),T&&(v._extremes[T]=n.findExtremes(d,w,V))}function h(y,v){if(o.hasMarkers(y)){var c=y.marker,d=1.6*(y.marker.sizeref||1),_;if(y.marker.sizemode==="area"?_=function(O){return Math.max(Math.sqrt((O||0)/d),3)}:_=function(O){return Math.max((O||0)/d,3)},t.isArrayOrTypedArray(c.size)){var w={type:"linear"};n.setConvert(w);for(var k=w.makeCalcdata(y.marker,"size"),$=new Array(v),P=0;P<v;P++)$[P]=_(k[P]);return $}else return _(c.size)}}function b(y,v){var c=m(v),d=y._firstScatter;d[c]||(d[c]=v.uid)}function m(y){var v=y.stackgroup;return y.xaxis+y.yaxis+y.type+(v?"-"+v:"")}function g(y,v,c,d){var _=y.stackgroup;if(_){var w=v._scatterStackOpts[c._id+d._id][_],k=w.orientation==="v"?d:c;if(k.type==="linear"||k.type==="log")return w}}D.exports={calc:p,calcMarkerSize:h,calcAxisExpansion:u,setFirstScatter:b,getStackOpts:g}}),uf=Dt((F,D)=>{D.exports=t;var i=Ce().distinctVals;function t(n,r){this.traces=n,this.sepNegVal=r.sepNegVal,this.overlapNoMerge=r.overlapNoMerge;for(var l=1/0,o=r.posAxis._id.charAt(0),s=[],f=0;f<n.length;f++){for(var e=n[f],p=0;p<e.length;p++){var u=e[p],h=u.p;h===void 0&&(h=u[o]),h!==void 0&&s.push(h)}e[0]&&e[0].width1&&(l=Math.min(e[0].width1,l))}this.positions=s;var b=i(s);this.distinctPositions=b.vals,b.vals.length===1&&l!==1/0?this.minDiff=l:this.minDiff=Math.min(b.minDiff,l);var m=(r.posAxis||{}).type;(m==="category"||m==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}t.prototype.put=function(n,r,l){var o=this.getLabel(n,r,l),s=this.bins[o]||0;return this.bins[o]=s+l,s},t.prototype.get=function(n,r,l){var o=this.getLabel(n,r,l);return this.bins[o]||0},t.prototype.getLabel=function(n,r,l){var o=l<0&&this.sepNegVal?"v":"^",s=this.overlapNoMerge?n:Math.round(n/this.binWidth);return o+s+"g"+r}}),El=Dt((F,D)=>{var i=wn(),t=Ce().isArrayOrTypedArray,n=oa().BADNUM,r=un(),l=Yn(),o=Kr().getAxisGroup,s=uf();function f(I,E){for(var N=E.xaxis,V=E.yaxis,U=I._fullLayout,G=I._fullData,C=I.calcdata,W=[],J=[],at=0;at<G.length;at++){var et=G[at];if(et.visible===!0&&r.traceIs(et,"bar")&&et.xaxis===N._id&&et.yaxis===V._id&&(et.orientation==="h"?W.push(C[at]):J.push(C[at]),et._computePh))for(var it=I.calcdata[at],dt=0;dt<it.length;dt++)typeof it[dt].ph0=="function"&&(it[dt].ph0=it[dt].ph0()),typeof it[dt].ph1=="function"&&(it[dt].ph1=it[dt].ph1())}var ht={xCat:N.type==="category"||N.type==="multicategory",yCat:V.type==="category"||V.type==="multicategory",mode:U.barmode,norm:U.barnorm,gap:U.bargap,groupgap:U.bargroupgap};e(I,N,V,J,ht),e(I,V,N,W,ht)}function e(I,E,N,V,U){if(V.length){var G,C,W,J,at;switch(h(N,V),U.mode){case"overlay":b(I,E,N,V,U);break;case"group":for(G=[],C=[],W=0;W<V.length;W++)J=V[W],at=J[0].trace,at.offset===void 0?C.push(J):G.push(J);C.length&&m(I,E,N,C,U),G.length&&b(I,E,N,G,U);break;case"stack":case"relative":for(G=[],C=[],W=0;W<V.length;W++)J=V[W],at=J[0].trace,at.base===void 0?C.push(J):G.push(J);u(C),C.length&&g(I,E,N,C,U),G.length&&b(I,E,N,G,U);break}p(V),T(V,E)}}function p(I){var E,N,V,U,G,C,W;for(E=0;E<I.length;E++)N=I[E],V=N[0].trace,U=N[0].t,U.cornerradiusvalue===void 0&&(G=V.marker?V.marker.cornerradius:void 0,G!==void 0&&(C=i(G)?+G:+G.slice(0,-1),W=i(G)?"px":"%",U.cornerradiusvalue=C,U.cornerradiusform=W))}function u(I){if(!(I.length<2)){var E,N,V,U,G,C,W;for(E=0;E<I.length&&(N=I[E],V=N[0].trace,G=V.marker?V.marker.cornerradius:void 0,G===void 0);E++);if(G!==void 0)for(C=i(G)?+G:+G.slice(0,-1),W=i(G)?"px":"%",E=0;E<I.length;E++)N=I[E],U=N[0].t,U.cornerradiusvalue=C,U.cornerradiusform=W}}function h(I,E){var N,V;for(N=0;N<E.length;N++){var U=E[N],G=U[0].trace,C=G.type==="funnel"?G._base:G.base,W,J=G.orientation==="h"?G.xcalendar:G.ycalendar,at=I.type==="category"||I.type==="multicategory"?function(){return null}:I.d2c;if(t(C)){for(V=0;V<Math.min(C.length,U.length);V++)W=at(C[V],0,J),i(W)?(U[V].b=+W,U[V].hasB=1):U[V].b=0;for(;V<U.length;V++)U[V].b=0}else{W=at(C,0,J);var et=i(W);for(W=et?W:0,V=0;V<U.length;V++)U[V].b=W,et&&(U[V].hasB=1)}}}function b(I,E,N,V,U){for(var G=0;G<V.length;G++){var C=V[G],W=new s([C],{posAxis:E,sepNegVal:!1,overlapNoMerge:!U.norm});y(I,E,W,U),U.norm?(k(W),P(N,W,U)):_(N,W)}}function m(I,E,N,V,U){var G=new s(V,{posAxis:E,sepNegVal:!1,overlapNoMerge:!U.norm});y(I,E,G,U),$(G,E),U.norm?(k(G),P(N,G,U)):_(N,G)}function g(I,E,N,V,U){var G=new s(V,{posAxis:E,sepNegVal:U.mode==="relative",overlapNoMerge:!(U.norm||U.mode==="stack"||U.mode==="relative")});y(I,E,G,U),w(N,G,U);for(var C=0;C<V.length;C++)for(var W=V[C],J=W[0].t.offsetindex,at=0;at<W.length;at++){var et=W[at];if(et.s!==n){var it=et.b+et.s===G.get(et.p,J,et.s);it&&(et._outmost=!0)}}U.norm&&P(N,G,U)}function y(I,E,N,V){var U=I._fullLayout,G=N.positions,C=N.distinctPositions,W=N.minDiff,J=N.traces,at=J.length,et=G.length!==C.length,it=W*(1-V.gap),dt,ht,xt,H;if(E._id==="angularaxis")dt=it,ht=dt*(1-(V.groupgap||0)),xt=-ht/2;else{var j=o(U,E._id)+J[0][0].trace.orientation;H=U._alignmentOpts[j]||{}}for(var A=0;A<at;A++){var q=J[A],R=q[0].trace;if(E._id!=="angularaxis"){var z=H[R.alignmentgroup]||{},M=Object.keys(z.offsetGroups||{}).length;M?dt=it/M:dt=et?it/at:it,ht=dt*(1-(V.groupgap||0)),M?xt=((2*R._offsetIndex+1-M)*dt-ht)/2:xt=et?((2*A+1-at)*dt-ht)/2:-ht/2}var S=q[0].t;S.barwidth=ht,S.offsetindex=R._offsetIndex||0,S.poffset=xt,S.bargroupwidth=it,S.bardelta=W}N.binWidth=J[0][0].t.barwidth/100,v(N),c(E,N),E._id==="angularaxis"?d(E,N):d(E,N,et)}function v(I){var E=I.traces,N,V;for(N=0;N<E.length;N++){var U=E[N],G=U[0],C=G.trace,W=G.t,J=C._offset||C.offset,at=W.poffset,et;if(t(J)){for(et=Array.prototype.slice.call(J,0,U.length),V=0;V<et.length;V++)i(et[V])||(et[V]=at);for(V=et.length;V<U.length;V++)et.push(at);W.poffset=et}else J!==void 0&&(W.poffset=J);var it=C._width||C.width,dt=W.barwidth;if(t(it)){var ht=Array.prototype.slice.call(it,0,U.length);for(V=0;V<ht.length;V++)i(ht[V])||(ht[V]=dt);for(V=ht.length;V<U.length;V++)ht.push(dt);if(W.barwidth=ht,J===void 0){for(et=[],V=0;V<U.length;V++)et.push(at+(dt-ht[V])/2);W.poffset=et}}else it!==void 0&&(W.barwidth=it,J===void 0&&(W.poffset=at+(dt-it)/2))}}function c(I,E){for(var N=E.traces,V=X(I),U=0;U<N.length;U++)for(var G=N[U],C=G[0].t,W=C.poffset,J=t(W),at=C.barwidth,et=t(at),it=0;it<G.length;it++){var dt=G[it],ht=dt.w=et?at[it]:at;dt.p===void 0&&(dt.p=dt[V],dt["orig_"+V]=dt[V]);var xt=(J?W[it]:W)+ht/2;dt[V]=dt.p+xt}}function d(I,E,N){var V=E.traces,U=E.minDiff,G=U/2;l.minDtick(I,E.minDiff,E.distinctPositions[0],N);for(var C=0;C<V.length;C++){var W=V[C],J=W[0],at=J.trace,et=[],it,dt,ht,xt;for(xt=0;xt<W.length;xt++)it=W[xt],dt=it.p-G,ht=it.p+G,et.push(dt,ht);if(at.width||at.offset){var H=J.t,j=H.poffset,A=H.barwidth,q=t(j),R=t(A);for(xt=0;xt<W.length;xt++){it=W[xt];var z=q?j[xt]:j,M=R?A[xt]:A;dt=it.p+z,ht=dt+M,et.push(dt,ht)}}at._extremes[I._id]=l.findExtremes(I,et,{padded:!1})}}function _(I,E){for(var N=E.traces,V=X(I),U=0;U<N.length;U++){for(var G=N[U],C=G[0].trace,W=C.type==="scatter",J=C.orientation==="v",at=[],et=!1,it=0;it<G.length;it++){var dt=G[it],ht=W?0:dt.b,xt=W?J?dt.y:dt.x:ht+dt.s;dt[V]=xt,at.push(xt),dt.hasB&&at.push(ht),(!dt.hasB||!dt.b)&&(et=!0)}C._extremes[I._id]=l.findExtremes(I,at,{tozero:et,padded:!0})}}function w(I,E,N){var V=X(I),U=E.traces,G,C,W,J,at,et,it;for(J=0;J<U.length;J++)if(G=U[J],C=G[0].trace,C.type==="funnel")for(it=G[0].t.offsetindex,at=0;at<G.length;at++)et=G[at],et.s!==n&&E.put(et.p,it,-.5*et.s);for(J=0;J<U.length;J++){G=U[J],C=G[0].trace,W=C.type==="funnel",it=C.type==="barpolar"?0:G[0].t.offsetindex;var dt=[];for(at=0;at<G.length;at++)if(et=G[at],et.s!==n){var ht;W?ht=et.s:ht=et.s+et.b;var xt=E.put(et.p,it,ht),H=xt+ht;et.b=xt,et[V]=H,N.norm||(dt.push(H),et.hasB&&dt.push(xt))}N.norm||(C._extremes[I._id]=l.findExtremes(I,dt,{tozero:!0,padded:!0}))}}function k(I){for(var E=I.traces,N=0;N<E.length;N++)for(var V=E[N],U=V[0].t.offsetindex,G=0;G<V.length;G++){var C=V[G];C.s!==n&&I.put(C.p,U,C.b+C.s)}}function $(I,E){for(var N=I.traces,V=0;V<N.length;V++){var U=N[V],G=U[0].trace,C=U[0].t.offsetindex;if(G.base===void 0)for(var W=new s([U],{posAxis:E,sepNegVal:!0,overlapNoMerge:!0}),J=0;J<U.length;J++){var at=U[J];if(at.p!==n){var et=W.put(at.p,C,at.b+at.s);et&&(at.b=et)}}}}function P(I,E,N){var V=E.traces,U=X(I),G=N.norm==="fraction"?1:100,C=G/1e9,W=I.l2c(I.c2l(0)),J=N.mode==="stack"?G:W;function at(S){return i(I.c2l(S))&&(S<W-C||S>J+C||!i(W))}for(var et=0;et<V.length;et++){for(var it=V[et],dt=it[0].t.offsetindex,ht=it[0].trace,xt=[],H=!1,j=!1,A=0;A<it.length;A++){var q=it[A];if(q.s!==n){var R=Math.abs(G/E.get(q.p,dt,q.s));q.b*=R,q.s*=R;var z=q.b,M=z+q.s;q[U]=M,xt.push(M),j=j||at(M),q.hasB&&(xt.push(z),j=j||at(z)),(!q.hasB||!q.b)&&(H=!0)}}ht._extremes[I._id]=l.findExtremes(I,xt,{tozero:H,padded:j})}}function O(I,E,N,V){for(var U=X(V),G=0;G<I.length;G++)for(var C=I[G],W=0;W<C.length;W++){var J=C[W],at=J[U];J._sMin=E[at],J._sMax=N[at]}}function T(I,E){var N=X(E),V={},U,G,C,W=1/0,J=-1/0;for(U=0;U<I.length;U++)for(C=I[U],G=0;G<C.length;G++){var at=C[G].p;i(at)&&(W=Math.min(W,at),J=Math.max(J,at))}var et=1e4/(J-W),it=V.round=function(Y){return String(Math.round(et*(Y-W)))},dt={},ht={},xt=I.some(function(Y){var rt=Y[0].trace;return"marker"in rt&&rt.marker.cornerradius});for(U=0;U<I.length;U++){C=I[U],C[0].t.extents=V;var H=C[0].t.poffset,j=t(H);for(G=0;G<C.length;G++){var A=C[G],q=A[N]-A.w/2;if(i(q)){var R=A[N]+A.w/2,z=it(A.p);V[z]?V[z]=[Math.min(q,V[z][0]),Math.max(R,V[z][1])]:V[z]=[q,R]}if(A.p0=A.p+(j?H[G]:H),A.p1=A.p0+A.w,A.s0=A.b,A.s1=A.s0+A.s,xt){var M=Math.min(A.s0,A.s1)||0,S=Math.max(A.s0,A.s1)||0,Z=A[N];dt[Z]=Z in dt?Math.min(dt[Z],M):M,ht[Z]=Z in ht?Math.max(ht[Z],S):S}}}xt&&O(I,dt,ht,E)}function X(I){return I._id.charAt(0)}D.exports={crossTraceCalc:f,setGroupPositions:e}}),cf=Dt((F,D)=>{var i=Nl(),t=El().setGroupPositions;function n(o,s){for(var f=s.xaxis,e=s.yaxis,p=o._fullLayout,u=o._fullData,h=o.calcdata,b=[],m=[],g=0;g<u.length;g++){var y=u[g];y.visible===!0&&y.type==="scatter"&&y.xaxis===f._id&&y.yaxis===e._id&&(y.orientation==="h"?b.push(h[g]):y.orientation==="v"&&m.push(h[g]))}var v={mode:p.scattermode,gap:p.scattergap};t(o,f,e,m,v),t(o,e,f,b,v)}D.exports=function(o,s){o._fullLayout.scattermode==="group"&&n(o,s);var f=s.xaxis,e=s.yaxis,p=f._id+e._id,u=o._fullLayout._scatterStackOpts[p];if(u){var h=o.calcdata,b,m,g,y,v,c,d,_,w,k,$,P,O,T,X;for(var I in u){k=u[I];var E=k.traceIndices;if(E.length){for($=k.stackgaps==="interpolate",P=k.groupnorm,k.orientation==="v"?(O="x",T="y"):(O="y",T="x"),X=new Array(E.length),b=0;b<X.length;b++)X[b]=!1;c=h[E[0]];var N=new Array(c.length);for(b=0;b<c.length;b++)N[b]=c[b][O];for(b=1;b<E.length;b++){for(v=h[E[b]],m=g=0;m<v.length;m++){for(d=v[m][O];d>N[g]&&g<N.length;g++)r(v,m,N[g],b,X,$,O),m++;if(d!==N[g]){for(y=0;y<b;y++)r(h[E[y]],g,d,y,X,$,O);N.splice(g,0,d)}g++}for(;g<N.length;g++)r(v,m,N[g],b,X,$,O),m++}var V=N.length;for(m=0;m<c.length;m++){for(_=c[m][T]=c[m].s,b=1;b<E.length;b++)v=h[E[b]],v[0].trace._rawLength=v[0].trace._length,v[0].trace._length=V,_+=v[m].s,v[m][T]=_;if(P)for(w=(P==="fraction"?_:_/100)||1,b=0;b<E.length;b++){var U=h[E[b]][m];U[T]/=w,U.sNorm=U.s/w}}for(b=0;b<E.length;b++){v=h[E[b]];var G=v[0].trace,C=i.calcMarkerSize(G,G._rawLength),W=Array.isArray(C);if(C&&X[b]||W){var J=C;for(C=new Array(V),m=0;m<V;m++)C[m]=v[m].gap?0:W?J[v[m].i]:J}var at=new Array(V),et=new Array(V);for(m=0;m<V;m++)at[m]=v[m].x,et[m]=v[m].y;i.calcAxisExpansion(o,G,f,e,at,et,C),v[0].t.orientation=k.orientation}}}}};function r(o,s,f,e,p,u,h){p[e]=!0;var b={i:null,gap:!0,s:0};if(b[h]=f,o.splice(s,0,b),s&&f===o[s-1][h]){var m=o[s-1];b.s=m.s,b.i=m.i,b.gap=m.gap}else u&&(b.s=l(o,s,f,h));s||(o[0].t=o[1].t,o[0].trace=o[1].trace,delete o[1].t,delete o[1].trace)}function l(o,s,f,e){var p=o[s-1],u=o[s+1];return u?p?p.s+(u.s-p.s)*(f-p[e])/(u[e]-p[e]):u.s:p.s}}),ff=Dt((F,D)=>{var i=Nn(),t=oa(),n=t.BADNUM,r=t.LOG_CLIP,l=r+.5,o=r-.5,s=Ce(),f=s.segmentsIntersect,e=s.constrain,p=Ji();D.exports=function(u,h){var b=h.trace||{},m=h.xaxis,g=h.yaxis,y=m.type==="log",v=g.type==="log",c=m._length,d=g._length,_=h.backoff,w=b.marker,k=h.connectGaps,$=h.baseTolerance,P=h.shape,O=P==="linear",T=b.fill&&b.fill!=="none",X=[],I=p.minTolerance,E=u.length,N=new Array(E),V=0,U,G,C,W,J,at,et,it,dt,ht,xt,H,j,A,q,R;function z(Mt){var qt=u[Mt];if(!qt)return!1;var $t=h.linearized?m.l2p(qt.x):m.c2p(qt.x),ie=h.linearized?g.l2p(qt.y):g.c2p(qt.y);if($t===n){if(y&&($t=m.c2p(qt.x,!0)),$t===n)return!1;v&&ie===n&&($t*=Math.abs(m._m*d*(m._m>0?l:o)/(g._m*c*(g._m>0?l:o)))),$t*=1e3}if(ie===n){if(v&&(ie=g.c2p(qt.y,!0)),ie===n)return!1;ie*=1e3}return[$t,ie]}function M(Mt,qt,$t,ie){var zt=$t-Mt,ee=ie-qt,se=.5-Mt,pe=.5-qt,De=zt*zt+ee*ee,Ne=zt*se+ee*pe;if(Ne>0&&Ne<De){var Ge=se*ee-pe*zt;if(Ge*Ge<De)return!0}}var S,Z;function Y(Mt,qt){var $t=Mt[0]/c,ie=Mt[1]/d,zt=Math.max(0,-$t,$t-1,-ie,ie-1);return zt&&S!==void 0&&M($t,ie,S,Z)&&(zt=0),zt&&qt&&M($t,ie,qt[0]/c,qt[1]/d)&&(zt=0),(1+p.toleranceGrowth*zt)*$}function rt(Mt,qt){var $t=Mt[0]-qt[0],ie=Mt[1]-qt[1];return Math.sqrt($t*$t+ie*ie)}var st=p.maxScreensAway,ut=-c*st,_t=c*(1+st),At=-d*st,Rt=d*(1+st),Xt=[[ut,At,_t,At],[_t,At,_t,Rt],[_t,Rt,ut,Rt],[ut,Rt,ut,At]],Bt,Ht,pt,bt,ot,Lt;function Nt(Mt,qt){for(var $t=[],ie=0,zt=0;zt<4;zt++){var ee=Xt[zt],se=f(Mt[0],Mt[1],qt[0],qt[1],ee[0],ee[1],ee[2],ee[3]);se&&(!ie||Math.abs(se.x-$t[0][0])>1||Math.abs(se.y-$t[0][1])>1)&&(se=[se.x,se.y],ie&&rt(se,Mt)<rt($t[0],Mt)?$t.unshift(se):$t.push(se),ie++)}return $t}function Vt(Mt){if(Mt[0]<ut||Mt[0]>_t||Mt[1]<At||Mt[1]>Rt)return[e(Mt[0],ut,_t),e(Mt[1],At,Rt)]}function ae(Mt,qt){if(Mt[0]===qt[0]&&(Mt[0]===ut||Mt[0]===_t)||Mt[1]===qt[1]&&(Mt[1]===At||Mt[1]===Rt))return!0}function Jt(Mt,qt){var $t=[],ie=Vt(Mt),zt=Vt(qt);return ie&&zt&&ae(ie,zt)||(ie&&$t.push(ie),zt&&$t.push(zt)),$t}function re(Mt,qt,$t){return function(ie,zt){var ee=Vt(ie),se=Vt(zt),pe=[];if(ee&&se&&ae(ee,se))return pe;ee&&pe.push(ee),se&&pe.push(se);var De=2*s.constrain((ie[Mt]+zt[Mt])/2,qt,$t)-((ee||ie)[Mt]+(se||zt)[Mt]);if(De){var Ne;ee&&se?Ne=De>0==ee[Mt]>se[Mt]?ee:se:Ne=ee||se,Ne[Mt]+=De}return pe}}var oe;P==="linear"||P==="spline"?oe=Nt:P==="hv"||P==="vh"?oe=Jt:P==="hvh"?oe=re(0,ut,_t):P==="vhv"&&(oe=re(1,At,Rt));function le(Mt,qt){var $t=qt[0]-Mt[0],ie=(qt[1]-Mt[1])/$t,zt=(Mt[1]*qt[0]-qt[1]*Mt[0])/$t;return zt>0?[ie>0?ut:_t,Rt]:[ie>0?_t:ut,At]}function ve(Mt){var qt=Mt[0],$t=Mt[1],ie=qt===N[V-1][0],zt=$t===N[V-1][1];if(!(ie&&zt))if(V>1){var ee=qt===N[V-2][0],se=$t===N[V-2][1];ie&&(qt===ut||qt===_t)&&ee?se?V--:N[V-1]=Mt:zt&&($t===At||$t===Rt)&&se?ee?V--:N[V-1]=Mt:N[V++]=Mt}else N[V++]=Mt}function Wt(Mt){N[V-1][0]!==Mt[0]&&N[V-1][1]!==Mt[1]&&ve([pt,bt]),ve(Mt),ot=null,pt=bt=0}var ge=s.isArrayOrTypedArray(w);function Te(Mt){if(Mt&&_&&(Mt.i=U,Mt.d=u,Mt.trace=b,Mt.marker=ge?w[Mt.i]:w,Mt.backoff=_),S=Mt[0]/c,Z=Mt[1]/d,Bt=Mt[0]<ut?ut:Mt[0]>_t?_t:0,Ht=Mt[1]<At?At:Mt[1]>Rt?Rt:0,Bt||Ht){if(!V)N[V++]=[Bt||Mt[0],Ht||Mt[1]];else if(ot){var qt=oe(ot,Mt);qt.length>1&&(Wt(qt[0]),N[V++]=qt[1])}else Lt=oe(N[V-1],Mt)[0],N[V++]=Lt;var $t=N[V-1];Bt&&Ht&&($t[0]!==Bt||$t[1]!==Ht)?(ot&&(pt!==Bt&&bt!==Ht?ve(pt&&bt?le(ot,Mt):[pt||Bt,bt||Ht]):pt&&bt&&ve([pt,bt])),ve([Bt,Ht])):pt-Bt&&bt-Ht&&ve([Bt||pt,Ht||bt]),ot=Mt,pt=Bt,bt=Ht}else ot&&Wt(oe(ot,Mt)[0]),N[V++]=Mt}for(U=0;U<E;U++)if(G=z(U),!!G){for(V=0,ot=null,Te(G),U++;U<E;U++){if(W=z(U),!W){if(k)continue;break}if(!O||!h.simplify){Te(W);continue}var ce=z(U+1);if(ht=rt(W,G),!(!(T&&(V===0||V===E-1))&&ht<Y(W,ce)*I)){for(it=[(W[0]-G[0])/ht,(W[1]-G[1])/ht],J=G,xt=ht,H=A=q=0,et=!1,C=W,U++;U<u.length;U++){if(at=ce,ce=z(U+1),!at){if(k)continue;break}if(dt=[at[0]-G[0],at[1]-G[1]],R=dt[0]*it[1]-dt[1]*it[0],A=Math.min(A,R),q=Math.max(q,R),q-A>Y(at,ce))break;C=at,j=dt[0]*it[0]+dt[1]*it[1],j>xt?(xt=j,W=at,et=!1):j<H&&(H=j,J=at,et=!0)}if(et?(Te(W),C!==J&&Te(J)):(J!==G&&Te(J),C!==W&&Te(W)),Te(C),U>=u.length||!at)break;Te(at),G=at}}ot&&ve([pt||ot[0],bt||ot[1]]),X.push(N.slice(0,V))}var we=P.slice(P.length-1);if(_&&we!=="h"&&we!=="v"){for(var yt=!1,kt=-1,Tt=[],K=0;K<X.length;K++)for(var ft=0;ft<X[K].length-1;ft++){var mt=X[K][ft],gt=X[K][ft+1],It=i.applyBackoff(gt,mt);(It[0]!==gt[0]||It[1]!==gt[1])&&(yt=!0),Tt[kt+1]||(kt++,Tt[kt]=[mt,[It[0],It[1]]])}return yt?Tt:X}return X}}),df=Dt((F,D)=>{var i={tonextx:1,tonexty:1,tonext:1};D.exports=function(t,n,r){var l,o,s,f,e,p={},u=!1,h=-1,b=0,m=-1;for(o=0;o<r.length;o++)l=r[o][0].trace,s=l.stackgroup||"",s?s in p?e=p[s]:(e=p[s]=b,b++):l.fill in i&&m>=0?e=m:(e=m=b,b++),e<h&&(u=!0),l._groupIndex=h=e;var g=r.slice();u&&g.sort(function(v,c){var d=v[0].trace,_=c[0].trace;return d._groupIndex-_._groupIndex||d.index-_.index});var y={};for(o=0;o<g.length;o++)l=g[o][0].trace,s=l.stackgroup||"",l.visible===!0?(l._nexttrace=null,l.fill in i&&(f=y[s],l._prevtrace=f||null,f&&(f._nexttrace=l)),l._ownfill=l.fill&&(l.fill.substr(0,6)==="tozero"||l.fill==="toself"||l.fill.substr(0,2)==="to"&&!l._prevtrace),y[s]=l):l._prevtrace=l._nexttrace=l._ownfill=null;return g}}),hf=Dt((F,D)=>{var i=_n(),t=un(),n=Ce(),r=n.ensureSingle,l=n.identity,o=Nn(),s=Pa(),f=ff(),e=df(),p=Ml().tester;D.exports=function(m,g,y,v,c,d){var _,w,k=!c,$=!!c&&c.duration>0,P=e(m,g,y);if(_=v.selectAll("g.trace").data(P,function(T){return T[0].trace.uid}),_.enter().append("g").attr("class",function(T){return"trace scatter trace"+T[0].trace.uid}).style("stroke-miterlimit",2),_.order(),u(m,_,g),$){d&&(w=d());var O=i.transition().duration(c.duration).ease(c.easing).each("end",function(){w&&w()}).each("interrupt",function(){w&&w()});O.each(function(){v.selectAll("g.trace").each(function(T,X){h(m,X,g,T,P,this,c)})})}else _.each(function(T,X){h(m,X,g,T,P,this,c)});k&&_.exit().remove(),v.selectAll("path:not([d])").remove()};function u(m,g,y){g.each(function(v){var c=r(i.select(this),"g","fills");o.setClipUrl(c,y.layerClipId,m);var d=v[0].trace,_=[];d._ownfill&&_.push("_ownFill"),d._nexttrace&&_.push("_nextFill");var w=c.selectAll("g").data(_,l);w.enter().append("g"),w.exit().each(function(k){d[k]=null}).remove(),w.order().each(function(k){d[k]=r(i.select(this),"path","js-fill")})})}function h(m,g,y,v,c,d,_){var w=m._context.staticPlot,k;b(m,g,y,v,c);var $=!!_&&_.duration>0;function P(Wt){return $?Wt.transition():Wt}var O=y.xaxis,T=y.yaxis,X=v[0].trace,I=X.line,E=i.select(d),N=r(E,"g","errorbars"),V=r(E,"g","lines"),U=r(E,"g","points"),G=r(E,"g","text");if(t.getComponentMethod("errorbars","plot")(m,N,y,_),X.visible!==!0)return;P(E).style("opacity",X.opacity);var C,W,J=X.fill.charAt(X.fill.length-1);J!=="x"&&J!=="y"&&(J="");var at,et;J==="y"?(at=1,et=T.c2p(0,!0)):J==="x"&&(at=0,et=O.c2p(0,!0)),v[0][y.isRangePlot?"nodeRangePlot3":"node3"]=E;var it="",dt=[],ht=X._prevtrace,xt=null,H=null;ht&&(it=ht._prevRevpath||"",W=ht._nextFill,dt=ht._ownPolygons,xt=ht._fillsegments,H=ht._fillElement);var j,A,q="",R="",z,M,S,Z,Y,rt,st=[];X._polygons=[];var ut=[],_t=[],At=n.noop;if(C=X._ownFill,s.hasLines(X)||X.fill!=="none"){W&&W.datum(v),["hv","vh","hvh","vhv"].indexOf(I.shape)!==-1?(z=o.steps(I.shape),M=o.steps(I.shape.split("").reverse().join(""))):I.shape==="spline"?z=M=function(Wt){var ge=Wt[Wt.length-1];return Wt.length>1&&Wt[0][0]===ge[0]&&Wt[0][1]===ge[1]?o.smoothclosed(Wt.slice(1),I.smoothing):o.smoothopen(Wt,I.smoothing)}:z=M=function(Wt){return"M"+Wt.join("L")},S=function(Wt){return M(Wt.reverse())},_t=f(v,{xaxis:O,yaxis:T,trace:X,connectGaps:X.connectgaps,baseTolerance:Math.max(I.width||1,3)/4,shape:I.shape,backoff:I.backoff,simplify:I.simplify,fill:X.fill}),ut=new Array(_t.length);var Rt=0;for(k=0;k<_t.length;k++){var Xt,Bt=_t[k];!Xt||!J?(Xt=Bt.slice(),ut[Rt]=Xt,Rt++):Xt.push.apply(Xt,Bt)}X._fillElement=null,X._fillExclusionElement=H,X._fillsegments=ut.slice(0,Rt),ut=X._fillsegments,_t.length&&(Z=_t[0][0].slice(),Y=_t[_t.length-1],rt=Y[Y.length-1].slice()),At=function(Wt){return function(ge){if(j=z(ge),A=S(ge),q?J?(q+="L"+j.substr(1),R=A+("L"+R.substr(1))):(q+="Z"+j,R=A+"Z"+R):(q=j,R=A),s.hasLines(X)){var Te=i.select(this);if(Te.datum(v),Wt)P(Te.style("opacity",0).attr("d",j).call(o.lineGroupStyle)).style("opacity",1);else{var ce=P(Te);ce.attr("d",j),o.singleLineStyle(v,ce)}}}}}var Ht=V.selectAll(".js-line").data(_t);P(Ht.exit()).style("opacity",0).remove(),Ht.each(At(!1)),Ht.enter().append("path").classed("js-line",!0).style("vector-effect",w?"none":"non-scaling-stroke").call(o.lineGroupStyle).each(At(!0)),o.setClipUrl(Ht,y.layerClipId,m);function pt(Wt){P(Wt).attr("d","M0,0Z")}var bt=function(){var Wt=new Array(ut.length);for(k=0;k<ut.length;k++)Wt[k]=p(ut[k]);return Wt},ot=function(Wt){var ge,Te;if(!Wt||Wt.length===0)for(ge=new Array(ut.length),Te=0;Te<ut.length;Te++){var ce=ut[Te][0].slice(),we=ut[Te][ut[Te].length-1].slice();ce[at]=we[at]=et;var yt=[we,ce],kt=yt.concat(ut[Te]);ge[Te]=p(kt)}else{for(ge=new Array(Wt.length-1+ut.length),Te=0;Te<Wt.length-1;Te++)ge[Te]=p(Wt[Te]);var Tt=Wt[Wt.length-1].slice();for(Tt.reverse(),Te=0;Te<ut.length;Te++)ge[Wt.length-1+Te]=p(ut[Te].concat(Tt))}return ge};_t.length?(C?(C.datum(v),Z&&rt&&(J?(Z[at]=rt[at]=et,P(C).attr("d","M"+rt+"L"+Z+"L"+q.substr(1)).call(o.singleFillStyle,m),st=ot(null)):(P(C).attr("d",q+"Z").call(o.singleFillStyle,m),st=bt())),X._polygons=st,X._fillElement=C):W&&(X.fill.substr(0,6)==="tonext"&&q&&it?(X.fill==="tonext"?(P(W).attr("d",q+"Z"+it+"Z").call(o.singleFillStyle,m),st=bt(),X._polygons=st.concat(dt)):(P(W).attr("d",q+"L"+it.substr(1)+"Z").call(o.singleFillStyle,m),st=ot(xt),X._polygons=st),X._fillElement=W):pt(W)),X._prevRevpath=R):(C?pt(C):W&&pt(W),X._prevRevpath=null),X._ownPolygons=st;function Lt(Wt){return Wt.filter(function(ge){return!ge.gap&&ge.vis})}function Nt(Wt){return Wt.filter(function(ge){return ge.vis})}function Vt(Wt){return Wt.filter(function(ge){return!ge.gap})}function ae(Wt){return Wt.id}function Jt(Wt){if(Wt.ids)return ae}function re(){return!1}function oe(Wt,ge,Te){var ce,we,yt,kt=Te[0].trace,Tt=s.hasMarkers(kt),K=s.hasText(kt),ft=Jt(kt),mt=re,gt=re;if(Tt||K){var It=l,Mt=kt.stackgroup,qt=Mt&&m._fullLayout._scatterStackOpts[O._id+T._id][Mt].stackgaps==="infer zero";kt.marker.maxdisplayed||kt._needsCull?It=qt?Nt:Lt:Mt&&!qt&&(It=Vt),Tt&&(mt=It),K&&(gt=It)}we=Wt.selectAll("path.point"),ce=we.data(mt,ft);var $t=ce.enter().append("path").classed("point",!0);$&&$t.call(o.pointStyle,kt,m).call(o.translatePoints,O,T).style("opacity",0).transition().style("opacity",1),ce.order();var ie;Tt&&(ie=o.makePointStyleFns(kt)),ce.each(function(zt){var ee=i.select(this),se=P(ee);yt=o.translatePoint(zt,se,O,T),yt?(o.singlePointStyle(zt,se,kt,ie,m),y.layerClipId&&o.hideOutsideRangePoint(zt,se,O,T,kt.xcalendar,kt.ycalendar),kt.customdata&&ee.classed("plotly-customdata",zt.data!==null&&zt.data!==void 0)):se.remove()}),$?ce.exit().transition().style("opacity",0).remove():ce.exit().remove(),we=ge.selectAll("g"),ce=we.data(gt,ft),ce.enter().append("g").classed("textpoint",!0).append("text"),ce.order(),ce.each(function(zt){var ee=i.select(this),se=P(ee.select("text"));yt=o.translatePoint(zt,se,O,T),yt?y.layerClipId&&o.hideOutsideRangePoint(zt,ee,O,T,kt.xcalendar,kt.ycalendar):ee.remove()}),ce.selectAll("text").call(o.textPointStyle,kt,m).each(function(zt){var ee=O.c2p(zt.x),se=T.c2p(zt.y);i.select(this).selectAll("tspan.line").each(function(){P(i.select(this)).attr({x:ee,y:se})})}),ce.exit().remove()}U.datum(v),G.datum(v),oe(U,G,v);var le=X.cliponaxis===!1,ve=le?null:y.layerClipId;o.setClipUrl(U,ve,m),o.setClipUrl(G,ve,m)}function b(m,g,y,v,c){var d=y.xaxis,_=y.yaxis,w=i.extent(n.simpleMap(d.range,d.r2c)),k=i.extent(n.simpleMap(_.range,_.r2c)),$=v[0].trace;if(s.hasMarkers($)){var P=$.marker.maxdisplayed;if(P!==0){var O=v.filter(function(E){return E.x>=w[0]&&E.x<=w[1]&&E.y>=k[0]&&E.y<=k[1]}),T=Math.ceil(O.length/P),X=0;c.forEach(function(E,N){var V=E[0].trace;s.hasMarkers(V)&&V.marker.maxdisplayed>0&&N<g&&X++});var I=Math.round(X*T/3+Math.floor(X/3)*T/7.1);v.forEach(function(E){delete E.vis}),O.forEach(function(E,N){Math.round((N+I)%T)===0&&(E.vis=!0)})}}}}),zl=Dt((F,D)=>{D.exports={container:"marker",min:"cmin",max:"cmax"}}),pf=Dt((F,D)=>{var i=Yn();D.exports=function(t,n,r){var l={},o={_fullLayout:r},s=i.getFromTrace(o,n,"x"),f=i.getFromTrace(o,n,"y"),e=t.orig_x;e===void 0&&(e=t.x);var p=t.orig_y;return p===void 0&&(p=t.y),l.xLabel=i.tickText(s,s.c2l(e),!0).text,l.yLabel=i.tickText(f,f.c2l(p),!0).text,l}}),Bl=Dt((F,D)=>{var i=_n(),t=Nn(),n=un();function r(f){var e=i.select(f).selectAll("g.trace.scatter");e.style("opacity",function(p){return p[0].trace.opacity}),e.selectAll("g.points").each(function(p){var u=i.select(this),h=p.trace||p[0].trace;l(u,h,f)}),e.selectAll("g.text").each(function(p){var u=i.select(this),h=p.trace||p[0].trace;o(u,h,f)}),e.selectAll("g.trace path.js-line").call(t.lineGroupStyle),e.selectAll("g.trace path.js-fill").call(t.fillGroupStyle,f,!1),n.getComponentMethod("errorbars","style")(e)}function l(f,e,p){t.pointStyle(f.selectAll("path.point"),e,p)}function o(f,e,p){t.textPointStyle(f.selectAll("text"),e,p)}function s(f,e,p){var u=e[0].trace;u.selectedpoints?(t.selectedPointStyle(p.selectAll("path.point"),u),t.selectedTextStyle(p.selectAll("text"),u)):(l(p,u,f),o(p,u,f))}D.exports={style:r,stylePoints:l,styleText:o,styleOnSelect:s}}),vf=Dt((F,D)=>{var i=bn(),t=Pa();D.exports=function(n,r){var l,o;if(n.mode==="lines")return l=n.line.color,l&&i.opacity(l)?l:n.fillcolor;if(n.mode==="none")return n.fill?n.fillcolor:"";var s=r.mcc||(n.marker||{}).color,f=r.mlcc||((n.marker||{}).line||{}).color;return o=s&&i.opacity(s)?s:f&&i.opacity(f)&&(r.mlw||((n.marker||{}).line||{}).width)?f:"",o?i.opacity(o)<.3?i.addOpacity(o,.3):o:(l=(n.line||{}).color,l&&i.opacity(l)&&t.hasLines(n)&&n.line.width?l:n.fillcolor)}}),gf=Dt((F,D)=>{var i=Ce(),t=Ka(),n=un(),r=vf(),l=bn(),o=i.fillText;D.exports=function(s,f,e,p){var u=s.cd,h=u[0].trace,b=s.xa,m=s.ya,g=b.c2p(f),y=m.c2p(e),v=[g,y],c=h.hoveron||"",d=h.mode.indexOf("markers")!==-1?3:.5,_=!!h.xperiodalignment,w=!!h.yperiodalignment;if(c.indexOf("points")!==-1){var k=function(it){if(_){var dt=b.c2p(it.xStart),ht=b.c2p(it.xEnd);return g>=Math.min(dt,ht)&&g<=Math.max(dt,ht)?0:1/0}var xt=Math.max(3,it.mrc||0),H=1-1/xt,j=Math.abs(b.c2p(it.x)-g);return j<xt?H*j/xt:j-xt+H},$=function(it){if(w){var dt=m.c2p(it.yStart),ht=m.c2p(it.yEnd);return y>=Math.min(dt,ht)&&y<=Math.max(dt,ht)?0:1/0}var xt=Math.max(3,it.mrc||0),H=1-1/xt,j=Math.abs(m.c2p(it.y)-y);return j<xt?H*j/xt:j-xt+H},P=function(it){var dt=Math.max(d,it.mrc||0),ht=b.c2p(it.x)-g,xt=m.c2p(it.y)-y;return Math.max(Math.sqrt(ht*ht+xt*xt)-dt,1-d/dt)},O=t.getDistanceFunction(p,k,$,P);if(t.getClosest(u,O,s),s.index!==!1){var T=u[s.index],X=b.c2p(T.x,!0),I=m.c2p(T.y,!0),E=T.mrc||1;s.index=T.i;var N=u[0].t.orientation,V=N&&(T.sNorm||T.s),U=N==="h"?V:T.orig_x!==void 0?T.orig_x:T.x,G=N==="v"?V:T.orig_y!==void 0?T.orig_y:T.y;return i.extendFlat(s,{color:r(h,T),x0:X-E,x1:X+E,xLabelVal:U,y0:I-E,y1:I+E,yLabelVal:G,spikeDistance:P(T),hovertemplate:h.hovertemplate}),o(T,h,s),n.getComponentMethod("errorbars","hoverInfo")(T,h,s),[s]}}function C(it){if(!it)return!1;var dt=it.node();try{var ht=new DOMPoint(v[0],v[1]);return dt.isPointInFill(ht)}catch{var xt=dt.ownerSVGElement.createSVGPoint();return xt.x=v[0],xt.y=v[1],dt.isPointInFill(xt)}}function W(it){var dt,ht=[],xt=1/0,H=-1/0,j=1/0,A=-1/0,q;for(dt=0;dt<it.length;dt++){var R=it[dt];R.contains(v)&&(ht.push(R),j=Math.min(j,R.ymin),A=Math.max(A,R.ymax))}if(ht.length===0)return null;j=Math.max(j,0),A=Math.min(A,m._length),q=(j+A)/2;var z,M,S,Z,Y,rt,st;for(dt=0;dt<ht.length;dt++)for(M=ht[dt].pts,z=1;z<M.length;z++)rt=M[z-1][1],st=M[z][1],rt>q!=st>=q&&(Z=M[z-1][0],Y=M[z][0],st-rt&&(S=Z+(Y-Z)*(q-rt)/(st-rt),xt=Math.min(xt,S),H=Math.max(H,S)));return xt=Math.max(xt,0),H=Math.min(H,b._length),{x0:xt,x1:H,y0:q,y1:q}}if(c.indexOf("fills")!==-1&&h._fillElement){var J=C(h._fillElement)&&!C(h._fillExclusionElement);if(J){var at=W(h._polygons);at===null&&(at={x0:v[0],x1:v[0],y0:v[1],y1:v[1]});var et=l.defaultLine;return l.opacity(h.fillcolor)?et=h.fillcolor:l.opacity((h.line||{}).color)&&(et=h.line.color),i.extendFlat(s,{distance:s.maxHoverDistance,x0:at.x0,x1:at.x1,y0:at.y0,y1:at.y1,color:et,hovertemplate:!1}),delete s.index,h.text&&!i.isArrayOrTypedArray(h.text)?s.text=String(h.text):s.text=h.name,[s]}}}}),yf=Dt((F,D)=>{var i=Pa();D.exports=function(t,n){var r=t.cd,l=t.xaxis,o=t.yaxis,s=[],f=r[0].trace,e,p,u,h,b=!i.hasMarkers(f)&&!i.hasText(f);if(b)return[];if(n===!1)for(e=0;e<r.length;e++)r[e].selected=0;else for(e=0;e<r.length;e++)p=r[e],u=l.c2p(p.x),h=o.c2p(p.y),p.i!==null&&n.contains([u,h],!1,e,t)?(s.push({pointNumber:p.i,x:l.c2d(p.x),y:o.c2d(p.y)}),p.selected=1):p.selected=0;return s}}),mf=Dt((F,D)=>{D.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}}),xf=Dt((F,D)=>{var i=un().traceIs,t=il();D.exports=function(s,f,e,p){e("autotypenumbers",p.autotypenumbersDflt);var u=e("type",(p.splomStash||{}).type);u==="-"&&(n(f,p.data),f.type==="-"?f.type="linear":s.type=f.type)};function n(s,f){if(s.type==="-"){var e=s._id,p=e.charAt(0),u;e.indexOf("scene")!==-1&&(e=p);var h=r(f,e,p);if(h){if(h.type==="histogram"&&p==={v:"y",h:"x"}[h.orientation||"v"]){s.type="linear";return}var b=p+"calendar",m=h[b],g={noMultiCategory:!i(h,"cartesian")||i(h,"noMultiCategory")};if(h.type==="box"&&h._hasPreCompStats&&p==={h:"x",v:"y"}[h.orientation||"v"]&&(g.noMultiCategory=!0),g.autotypenumbers=s.autotypenumbers,o(h,p)){var y=l(h),v=[];for(u=0;u<f.length;u++){var c=f[u];!i(c,"box-violin")||(c[p+"axis"]||p)!==e||(c[y]!==void 0?v.push(c[y][0]):c.name!==void 0?v.push(c.name):v.push("text"),c[b]!==m&&(m=void 0))}s.type=t(v,m,g)}else if(h.type==="splom"){var d=h.dimensions,_=d[h._axesDim[e]];_.visible&&(s.type=t(_.values,m,g))}else s.type=t(h[p]||[h[p+"0"]],m,g)}}}function r(s,f,e){for(var p=0;p<s.length;p++){var u=s[p];if(u.type==="splom"&&u._length>0&&(u["_"+e+"axes"]||{})[f]||(u[e+"axis"]||e)===f&&(o(u,e)||(u[e]||[]).length||u[e+"0"]))return u}}function l(s){return{v:"x",h:"y"}[s.orientation||"v"]}function o(s,f){var e=l(s),p=i(s,"box-violin"),u=i(s._fullInput||{},"candlestick");return p&&!u&&f===e&&s[e]===void 0&&s[e+"0"]===void 0}}),bf=Dt((F,D)=>{var i=Da().isTypedArraySpec;function t(n,r){var l=r.dataAttr||n._id.charAt(0),o={},s,f,e;if(r.axData)s=r.axData;else for(s=[],f=0;f<r.data.length;f++){var p=r.data[f];p[l+"axis"]===n._id&&s.push(p)}for(f=0;f<s.length;f++){var u=s[f][l];for(e=0;e<u.length;e++){var h=u[e];h!=null&&(o[h]=1)}}return Object.keys(o)}D.exports=function(n,r,l,o){if(r.type==="category"){var s=n.categoryarray,f=Array.isArray(s)&&s.length>0||i(s),e;f&&(e="array");var p=l("categoryorder",e),u;p==="array"&&(u=l("categoryarray")),!f&&p==="array"&&(p=r.categoryorder="trace"),p==="trace"?r._initialCategories=[]:p==="array"?r._initialCategories=u.slice():(u=t(r,o).sort(),p==="category ascending"?r._initialCategories=u:p==="category descending"&&(r._initialCategories=u.reverse()))}}}),_f=Dt((F,D)=>{var i=Na().mix,t=Ja(),n=Ce();D.exports=function(r,l,o,s){s=s||{};var f=s.dfltColor;function e(T,X){return n.coerce2(r,l,s.attributes,T,X)}var p=e("linecolor",f),u=e("linewidth"),h=o("showline",s.showLine||!!p||!!u);h||(delete l.linecolor,delete l.linewidth);var b=i(f,s.bgColor,s.blend||t.lightFraction).toRgbString(),m=e("gridcolor",b),g=e("gridwidth"),y=e("griddash"),v=o("showgrid",s.showGrid||!!m||!!g||!!y);if(v||(delete l.gridcolor,delete l.gridwidth,delete l.griddash),s.hasMinor){var c=i(l.gridcolor,s.bgColor,67).toRgbString(),d=e("minor.gridcolor",c),_=e("minor.gridwidth",l.gridwidth||1),w=e("minor.griddash",l.griddash||"solid"),k=o("minor.showgrid",!!d||!!_||!!w);k||(delete l.minor.gridcolor,delete l.minor.gridwidth,delete l.minor.griddash)}if(!s.noZeroLine){var $=e("zerolinecolor",f),P=e("zerolinewidth"),O=o("zeroline",s.showGrid||!!$||!!P);O||(delete l.zerolinecolor,delete l.zerolinewidth)}}}),Hl=Dt((F,D)=>{var i=wn(),t=un(),n=Ce(),r=jn(),l=Ya(),o=Va(),s=$o(),f=Qo(),e=tl(),p=el(),u=bf(),h=_f(),b=ol(),m=Ni(),g=pa().WEEKDAY_PATTERN,y=pa().HOUR_PATTERN;D.exports=function(_,w,k,$,P){var O=$.letter,T=$.font||{},X=$.splomStash||{},I=k("visible",!$.visibleDflt),E=w._template||{},N=w.type||E.type||"-",V;if(N==="date"){var U=t.getComponentMethod("calendars","handleDefaults");U(_,w,"calendar",$.calendar),$.noTicklabelmode||(V=k("ticklabelmode"))}!$.noTicklabelindex&&(N==="date"||N==="linear")&&k("ticklabelindex");var G="";(!$.noTicklabelposition||N==="multicategory")&&(G=n.coerce(_,w,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:V==="period"?["outside","inside"]:O==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),$.noTicklabeloverflow||k("ticklabeloverflow",G.indexOf("inside")!==-1?"hide past domain":N==="category"||N==="multicategory"?"allow":"hide past div"),m(w,P),b(_,w,k,$),u(_,w,k,$),N!=="category"&&!$.noHover&&k("hoverformat");var C=k("color"),W=C!==o.color.dflt?C:T.color,J=X.label||P._dfltTitle[O];if(p(_,w,k,N,$),!I)return w;k("title.text",J),n.coerceFont(k,"title.font",T,{overrideDflt:{size:n.bigFont(T.size),color:W}}),s(_,w,k,N);var at=$.hasMinor;if(at&&(r.newContainer(w,"minor"),s(_,w,k,N,{isMinor:!0})),e(_,w,k,N,$),f(_,w,k,$),at){var et=$.isMinor;$.isMinor=!0,f(_,w,k,$),$.isMinor=et}h(_,w,k,{dfltColor:C,bgColor:$.bgColor,showGrid:$.showGrid,hasMinor:at,attributes:o}),at&&!w.minor.ticks&&!w.minor.showgrid&&delete w.minor,(w.showline||w.ticks)&&k("mirror");var it=N==="multicategory";if(!$.noTickson&&(N==="category"||it)&&(w.ticks||w.showgrid)){var dt;it&&(dt="boundaries");var ht=k("tickson",dt);ht==="boundaries"&&delete w.ticklabelposition}if(it){var xt=k("showdividers");xt&&(k("dividercolor"),k("dividerwidth"))}if(N==="date")if(l(_,w,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:v}),!w.rangebreaks.length)delete w.rangebreaks;else{for(var H=0;H<w.rangebreaks.length;H++)if(w.rangebreaks[H].pattern===g){w._hasDayOfWeekBreaks=!0;break}if(m(w,P),P._has("scattergl")||P._has("splom"))for(var j=0;j<$.data.length;j++){var A=$.data[j];(A.type==="scattergl"||A.type==="splom")&&(A.visible=!1,n.warn(A.type+" traces do not work on axes with rangebreaks. Setting trace "+A.index+" to `visible: false`."))}}return w};function v(_,w,k){function $(U,G){return n.coerce(_,w,o.rangebreaks,U,G)}var P=$("enabled");if(P){var O=$("bounds");if(O&&O.length>=2){var T="",X,I;if(O.length===2){for(X=0;X<2;X++)if(I=d(O[X]),I){T=g;break}}var E=$("pattern",T);if(E===g)for(X=0;X<2;X++)I=d(O[X]),I&&(w.bounds[X]=O[X]=I-1);if(E)for(X=0;X<2;X++)switch(I=O[X],E){case g:if(!i(I)){w.enabled=!1;return}if(I=+I,I!==Math.floor(I)||I<0||I>=7){w.enabled=!1;return}w.bounds[X]=O[X]=I;break;case y:if(!i(I)){w.enabled=!1;return}if(I=+I,I<0||I>24){w.enabled=!1;return}w.bounds[X]=O[X]=I;break}if(k.autorange===!1){var N=k.range;if(N[0]<N[1]){if(O[0]<N[0]&&O[1]>N[1]){w.enabled=!1;return}}else if(O[0]>N[0]&&O[1]<N[1]){w.enabled=!1;return}}}else{var V=$("values");if(V&&V.length)$("dvalue");else{w.enabled=!1;return}}}}var c={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function d(_){if(typeof _=="string")return c[_.substr(0,3).toLowerCase()]}}),jl=Dt((F,D)=>{var i=wn(),t=Ce();D.exports=function(n,r,l,o){var s=o.counterAxes||[],f=o.overlayableAxes||[],e=o.letter,p=o.grid,u=o.overlayingDomain,h,b,m,g,y,v;p&&(b=p._domains[e][p._axisMap[r._id]],h=p._anchors[r._id],b&&(m=p[e+"side"].split(" ")[0],g=p.domain[e][m==="right"||m==="top"?1:0])),b=b||[0,1],h=h||(i(n.position)?"free":s[0]||"free"),m=m||(e==="x"?"bottom":"left"),g=g||0,y=0,v=!1;var c=t.coerce(n,r,{anchor:{valType:"enumerated",values:["free"].concat(s),dflt:h}},"anchor"),d=t.coerce(n,r,{side:{valType:"enumerated",values:e==="x"?["bottom","top"]:["left","right"],dflt:m}},"side");if(c==="free"){if(e==="y"){var _=l("autoshift");_&&(g=d==="left"?u[0]:u[1],v=r.automargin?r.automargin:!0,y=d==="left"?-3:3),l("shift",y)}l("position",g)}l("automargin",v);var w=!1;if(f.length&&(w=t.coerce(n,r,{overlaying:{valType:"enumerated",values:[!1].concat(f),dflt:!1}},"overlaying")),!w){var k=l("domain",b);k[0]>k[1]-1/4096&&(r.domain=b),t.noneOrAll(n.domain,r.domain,b),r.tickmode==="sync"&&(r.tickmode="auto")}return l("layer"),r}}),wf=Dt((F,D)=>{var i=Ce(),t=bn(),n=Qa().isUnifiedHover,r=pl(),l=jn(),o=Fr(),s=Va(),f=xf(),e=Hl(),p=Kr(),u=jl(),h=ua(),b=h.id2name,m=h.name2id,g=pa().AX_ID_PATTERN,y=un(),v=y.traceIs,c=y.getComponentMethod;function d(_,w,k){Array.isArray(_[w])?_[w].push(k):_[w]=[k]}D.exports=function(_,w,k){var $=w.autotypenumbers,P={},O={},T={},X={},I={},E={},N={},V={},U={},G={},C,W;for(C=0;C<k.length;C++){var J=k[C];if(v(J,"cartesian")){var at;if(J.xaxis)at=b(J.xaxis),d(P,at,J);else if(J.xaxes)for(W=0;W<J.xaxes.length;W++)d(P,b(J.xaxes[W]),J);var et;if(J.yaxis)et=b(J.yaxis),d(P,et,J);else if(J.yaxes)for(W=0;W<J.yaxes.length;W++)d(P,b(J.yaxes[W]),J);if(J.type==="funnel"?J.orientation==="h"?(at&&(O[at]=!0),et&&(N[et]=!0)):et&&(T[et]=!0):J.type==="image"?(et&&(V[et]=!0),at&&(V[at]=!0)):(et&&(I[et]=!0,E[et]=!0),(!v(J,"carpet")||J.type==="carpet"&&!J._cheater)&&at&&(X[at]=!0)),J.type==="carpet"&&J._cheater&&at&&(O[at]=!0),v(J,"2dMap")&&(U[at]=!0,U[et]=!0),v(J,"oriented")){var it=J.orientation==="h"?et:at;G[it]=!0}}}var dt=w._subplots,ht=dt.xaxis,xt=dt.yaxis,H=i.simpleMap(ht,b),j=i.simpleMap(xt,b),A=H.concat(j),q=t.background;ht.length&&xt.length&&(q=i.coerce(_,w,o,"plot_bgcolor"));var R=t.combine(q,w.paper_bgcolor),z,M,S,Z,Y;function rt(){var ft=P[z]||[];Y._traceIndices=ft.map(function(mt){return mt.index}),Y._annIndices=[],Y._shapeIndices=[],Y._selectionIndices=[],Y._imgIndices=[],Y._subplotsWith=[],Y._counterAxes=[],Y._name=Y._attr=z,Y._id=M}function st(ft,mt){return i.coerce(Z,Y,s,ft,mt)}function ut(ft,mt){return i.coerce2(Z,Y,s,ft,mt)}function _t(ft){return ft==="x"?xt:ht}function At(ft,mt){for(var gt=ft==="x"?H:j,It=[],Mt=0;Mt<gt.length;Mt++){var qt=gt[Mt];qt!==mt&&!(_[qt]||{}).overlaying&&It.push(m(qt))}return It}var Rt={x:_t("x"),y:_t("y")},Xt=Rt.x.concat(Rt.y),Bt={},Ht=[];function pt(){var ft=Z.matches;g.test(ft)&&Xt.indexOf(ft)===-1&&(Bt[ft]=Z.type,Ht=Object.keys(Bt))}var bt=r(_,w),ot=n(bt);for(C=0;C<A.length;C++){z=A[C],M=m(z),S=z.charAt(0),i.isPlainObject(_[z])||(_[z]={}),Z=_[z],Y=l.newContainer(w,z,S+"axis"),rt();var Lt=S==="x"&&!X[z]&&O[z]||S==="y"&&!I[z]&&T[z],Nt=S==="y"&&(!E[z]&&N[z]||V[z]),Vt={hasMinor:!0,letter:S,font:w.font,outerTicks:U[z],showGrid:!G[z],data:P[z]||[],bgColor:R,calendar:w.calendar,automargin:!0,visibleDflt:Lt,reverseDflt:Nt,autotypenumbersDflt:$,splomStash:((w._splomAxes||{})[S]||{})[M],noAutotickangles:S==="y"};st("uirevision",w.uirevision),f(Z,Y,st,Vt),e(Z,Y,st,Vt,w);var ae=ot&&S===bt.charAt(0),Jt=ut("spikecolor",ot?Y.color:void 0),re=ut("spikethickness",ot?1.5:void 0),oe=ut("spikedash",ot?"dot":void 0),le=ut("spikemode",ot?"across":void 0),ve=ut("spikesnap"),Wt=st("showspikes",!!ae||!!Jt||!!re||!!oe||!!le||!!ve);Wt||(delete Y.spikecolor,delete Y.spikethickness,delete Y.spikedash,delete Y.spikemode,delete Y.spikesnap);var ge=b(Z.overlaying),Te=[0,1];if(w[ge]!==void 0){var ce=b(w[ge].anchor);w[ce]!==void 0&&(Te=w[ce].domain)}u(Z,Y,st,{letter:S,counterAxes:Rt[S],overlayableAxes:At(S,z),grid:w.grid,overlayingDomain:Te}),st("title.standoff"),pt(),Y._input=Z}for(C=0;C<Ht.length;){M=Ht[C++],z=b(M),S=z.charAt(0),i.isPlainObject(_[z])||(_[z]={}),Z=_[z],Y=l.newContainer(w,z,S+"axis"),rt();var we={letter:S,font:w.font,outerTicks:U[z],showGrid:!G[z],data:[],bgColor:R,calendar:w.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:$,splomStash:((w._splomAxes||{})[S]||{})[M]};st("uirevision",w.uirevision),Y.type=Bt[M]||"linear",e(Z,Y,st,we,w),u(Z,Y,st,{letter:S,counterAxes:Rt[S],overlayableAxes:At(S,z),grid:w.grid}),st("fixedrange"),pt(),Y._input=Z}var yt=c("rangeslider","handleDefaults"),kt=c("rangeselector","handleDefaults");for(C=0;C<H.length;C++)z=H[C],Z=_[z],Y=w[z],yt(_,w,z),Y.type==="date"&&kt(Z,Y,w,j,Y.calendar),st("fixedrange");for(C=0;C<j.length;C++){z=j[C],Z=_[z],Y=w[z];var Tt=w[b(Y.anchor)],K=c("rangeslider","isVisible")(Tt);st("fixedrange",K)}p.handleDefaults(_,w,{axIds:Xt.concat(Ht).sort(h.idSort),axHasImage:V})}}),Mf=Dt((F,D)=>{var i=_n(),t=un(),n=Ce(),r=Nn(),l=Yn();D.exports=function(o,s,f,e){var p=o._fullLayout;if(s.length===0){l.redrawComponents(o);return}function u(w){var k=w.xaxis,$=w.yaxis;p._defs.select("#"+w.clipId+"> rect").call(r.setTranslate,0,0).call(r.setScale,1,1),w.plot.call(r.setTranslate,k._offset,$._offset).call(r.setScale,1,1);var P=w.plot.selectAll(".scatterlayer .trace");P.selectAll(".point").call(r.setPointGroupScale,1,1),P.selectAll(".textpoint").call(r.setTextPointsScale,1,1),P.call(r.hideOutsideRangePoints,w)}function h(w,k){var $=w.plotinfo,P=$.xaxis,O=$.yaxis,T=P._length,X=O._length,I=!!w.xr1,E=!!w.yr1,N=[];if(I){var V=n.simpleMap(w.xr0,P.r2l),U=n.simpleMap(w.xr1,P.r2l),G=V[1]-V[0],C=U[1]-U[0];N[0]=(V[0]*(1-k)+k*U[0]-V[0])/(V[1]-V[0])*T,N[2]=T*(1-k+k*C/G),P.range[0]=P.l2r(V[0]*(1-k)+k*U[0]),P.range[1]=P.l2r(V[1]*(1-k)+k*U[1])}else N[0]=0,N[2]=T;if(E){var W=n.simpleMap(w.yr0,O.r2l),J=n.simpleMap(w.yr1,O.r2l),at=W[1]-W[0],et=J[1]-J[0];N[1]=(W[1]*(1-k)+k*J[1]-W[1])/(W[0]-W[1])*X,N[3]=X*(1-k+k*et/at),O.range[0]=P.l2r(W[0]*(1-k)+k*J[0]),O.range[1]=O.l2r(W[1]*(1-k)+k*J[1])}else N[1]=0,N[3]=X;l.drawOne(o,P,{skipTitle:!0}),l.drawOne(o,O,{skipTitle:!0}),l.redrawComponents(o,[P._id,O._id]);var it=I?T/N[2]:1,dt=E?X/N[3]:1,ht=I?N[0]:0,xt=E?N[1]:0,H=I?N[0]/N[2]*T:0,j=E?N[1]/N[3]*X:0,A=P._offset-H,q=O._offset-j;$.clipRect.call(r.setTranslate,ht,xt).call(r.setScale,1/it,1/dt),$.plot.call(r.setTranslate,A,q).call(r.setScale,it,dt),r.setPointGroupScale($.zoomScalePts,1/it,1/dt),r.setTextPointsScale($.zoomScaleTxt,1/it,1/dt)}var b;e&&(b=e());function m(){for(var w={},k=0;k<s.length;k++){var $=s[k],P=$.plotinfo.xaxis,O=$.plotinfo.yaxis;$.xr1&&(w[P._name+".range"]=$.xr1.slice()),$.yr1&&(w[O._name+".range"]=$.yr1.slice())}return b&&b(),t.call("relayout",o,w).then(function(){for(var T=0;T<s.length;T++)u(s[T].plotinfo)})}function g(){for(var w={},k=0;k<s.length;k++){var $=s[k],P=$.plotinfo.xaxis,O=$.plotinfo.yaxis;$.xr0&&(w[P._name+".range"]=$.xr0.slice()),$.yr0&&(w[O._name+".range"]=$.yr0.slice())}return t.call("relayout",o,w).then(function(){for(var T=0;T<s.length;T++)u(s[T].plotinfo)})}var y,v,c,d=i.ease(f.easing);o._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(c),c=null,g()});function _(){v=Date.now();for(var w=Math.min(1,(v-y)/f.duration),k=d(w),$=0;$<s.length;$++)h(s[$],k);v-y>f.duration?(m(),c=window.cancelAnimationFrame(_)):c=window.requestAnimationFrame(_)}return y=Date.now(),c=window.requestAnimationFrame(_),Promise.resolve()}}),Qi=Dt(F=>{var D=_n(),i=un(),t=Ce(),n=ea(),r=Nn(),l=Xo().getModuleCalcData,o=ua(),s=pa(),f=Mr(),e=t.ensureSingle;function p(v,c,d){return t.ensureSingle(v,c,d,function(_){_.datum(d)})}var u=s.zindexSeparator;F.name="cartesian",F.attr=["xaxis","yaxis"],F.idRoot=["x","y"],F.idRegex=s.idRegex,F.attrRegex=s.attrRegex,F.attributes=mf(),F.layoutAttributes=Va(),F.supplyLayoutDefaults=wf(),F.transitionAxes=Mf(),F.finalizeSubplots=function(v,c){var d=c._subplots,_=d.xaxis,w=d.yaxis,k=d.cartesian,$=k,P={},O={},T,X,I;for(T=0;T<$.length;T++){var E=$[T].split("y");P[E[0]]=1,O["y"+E[1]]=1}for(T=0;T<_.length;T++)X=_[T],P[X]||(I=(v[o.id2name(X)]||{}).anchor,s.idRegex.y.test(I)||(I="y"),k.push(X+I),$.push(X+I),O[I]||(O[I]=1,t.pushUnique(w,I)));for(T=0;T<w.length;T++)I=w[T],O[I]||(X=(v[o.id2name(I)]||{}).anchor,s.idRegex.x.test(X)||(X="x"),k.push(X+I),$.push(X+I),P[X]||(P[X]=1,t.pushUnique(_,X)));if(!$.length){X="",I="";for(var N in v)if(s.attrRegex.test(N)){var V=N.charAt(0);V==="x"?(!X||+N.substr(5)<+X.substr(5))&&(X=N):(!I||+N.substr(5)<+I.substr(5))&&(I=N)}X=X?o.name2id(X):"x",I=I?o.name2id(I):"y",_.push(X),w.push(I),k.push(X+I)}},F.plot=function(v,c,d,_){var w=v._fullLayout,k=w._subplots.cartesian,$=v.calcdata,P;if(!Array.isArray(c))for(c=[],P=0;P<$.length;P++)c.push(P);for(var O=w._zindices,T=0;T<O.length;T++){var X=O[T];for(P=0;P<k.length;P++){var I=k[P],E=w._plots[I];if(T>0){var N=E.id;if(N.indexOf(u)!==-1)continue;N+=u+(T+1),E=t.extendFlat({},E,{id:N,plot:w._cartesianlayer.selectAll(".subplot").select("."+N)})}for(var V=[],U,G=0;G<$.length;G++){var C=$[G],W=C[0].trace;X===(W.zorder||0)&&W.xaxis+W.yaxis===I&&((c.indexOf(W.index)!==-1||W.carpet)&&(U&&U[0].trace.xaxis+U[0].trace.yaxis===I&&["tonextx","tonexty","tonext"].indexOf(W.fill)!==-1&&V.indexOf(U)===-1&&V.push(U),V.push(C)),U=C)}h(v,E,V,d,_)}}};function h(v,c,d,_,w){for(var k=s.traceLayerClasses,$=v._fullLayout,P=$._zindices,O=$._modules,T,X,I,E=[],N=[],V=0;V<P.length;V++)for(var U=P[V],G=0;G<O.length;G++){T=O[G];var C=T.name,W=i.modules[C].categories;if(W.svg){var J=T.layerName||C+"layer",at=J+(V?Number(V)+1:""),et=T.plot;X=l(d,et,U),I=X[0],d=X[1],I.length&&E.push({i:k.indexOf(J),zindex:V,className:at,plotMethod:et,cdModule:I}),W.zoomScale&&N.push("."+at)}}E.sort(function(ht,xt){return(ht.zindex||0)-(xt.zindex||0)||ht.i-xt.i});var it=c.plot.selectAll("g.mlayer").data(E,function(ht){return ht.className});if(it.enter().append("g").attr("class",function(ht){return ht.className}).classed("mlayer",!0).classed("rangeplot",c.isRangePlot),it.exit().remove(),it.order(),it.each(function(ht){var xt=D.select(this),H=ht.className;ht.plotMethod(v,c,ht.cdModule,xt,_,w),s.clipOnAxisFalseQuery.indexOf("."+H)===-1&&r.setClipUrl(xt,c.layerClipId,v)}),$._has("scattergl")&&(T=i.getModule("scattergl"),I=l(d,T)[0],T.plot(v,c,I)),!v._context.staticPlot&&(c._hasClipOnAxisFalse&&(c.clipOnAxisFalseTraces=c.plot.selectAll(s.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),N.length)){var dt=c.plot.selectAll(N.join(",")).selectAll(".trace");c.zoomScalePts=dt.selectAll("path.point"),c.zoomScaleTxt=dt.selectAll(".textpoint")}}F.clean=function(v,c,d,_){var w=_._plots||{},k=c._plots||{},$=_._subplots||{},P,O,T;if(_._hasOnlyLargeSploms&&!c._hasOnlyLargeSploms)for(T in w)P=w[T],P.plotgroup&&P.plotgroup.remove();var X=_._has&&_._has("gl"),I=c._has&&c._has("gl");if(X&&!I)for(T in w)P=w[T],P._scene&&P._scene.destroy();if($.xaxis&&$.yaxis){var E=o.listIds({_fullLayout:_});for(O=0;O<E.length;O++){var N=E[O];c[o.id2name(N)]||_._infolayer.selectAll(".g-"+N+"title").remove()}}var V=_._has&&_._has("cartesian"),U=c._has&&c._has("cartesian");if(V&&!U)g(_._cartesianlayer.selectAll(".subplot"),_),_._defs.selectAll(".axesclip").remove(),delete _._axisConstraintGroups,delete _._axisMatchGroups;else if($.cartesian)for(O=0;O<$.cartesian.length;O++){var G=$.cartesian[O];if(G.indexOf(u)===-1&&!k[G]){var C="."+G+",."+G+"-x,."+G+"-y";_._cartesianlayer.selectAll(C).remove(),y(G,_)}}},F.drawFramework=function(v){var c=v._fullLayout,d=v.calcdata,_,w={};for(_=0;_<d.length;_++){var k=d[_][0],$=k.trace,P=$.zorder||0;w[P]||(w[P]=[]),w[P].push(k)}var O=Object.keys(w).map(Number).sort(t.sorterAsc);O.length||(O=[0]),c._zindices=O;var T=b(v),X=T.length,I=[];for(_=0;_<X;_++)I[_]=T[_].slice();for(var E=1;E<O.length;E++){var N=[];for(_=0;_<X;_++)N[_]=T[_].slice(),N[_][0]+=u+(E+1);I=I.concat(N)}var V=c._cartesianlayer.selectAll(".subplot").data(I,String);V.enter().append("g").attr("class",function(U){return"subplot "+U[0]}),V.order(),V.exit().call(g,c),V.each(function(U){var G=U[0],C=G.indexOf(u),W=C!==-1,J=W?G.slice(0,C):G,at=c._plots[G];at||(at=t.extendFlat({},c._plots[J]),at&&(at.id=G,c._plots[G]=at,c._subplots.cartesian.push(G))),at&&(at.plotgroup=D.select(this),m(v,at),W||(at.draglayer=e(c._draggers,"g",G)))})},F.rangePlot=function(v,c,d){m(v,c),h(v,c,d),n.style(v)};function b(v){var c=v._fullLayout,d=c._zindices.length,_=c._subplots.cartesian,w=_.length,k,$,P,O,T,X,I=[],E=[];for(k=0;k<w;k++){P=_[k],O=c._plots[P],T=O.xaxis,X=O.yaxis;var N=T._mainAxis,V=X._mainAxis,U=N._id+V._id,G=c._plots[U];O.overlays=[],U!==P&&G?(O.mainplot=U,O.mainplotinfo=G,E.push(P)):(O.mainplot=void 0,O.mainplotinfo=void 0,I.push(P))}for(k=0;k<E.length;k++)P=E[k],O=c._plots[P],O.mainplotinfo.overlays.push(O);var C=I.concat(E),W=[];for(k=0;k<w;k++){P=C[k],O=c._plots[P],T=O.xaxis,X=O.yaxis;for(var J=[],at=1;at<=d;at++){var et="";for(at>1&&(et+=u+at),J.push(P+et),$=0;$<O.overlays.length;$++)J.push(O.overlays[$].id+et)}J=J.concat([T.layer,X.layer,T.overlaying||"",X.overlaying||""]),W.push(J)}return W}function m(v,c){var d=v._fullLayout,_=c.plotgroup,w=c.id,k=w.indexOf(u),$=k!==-1,P=s.layerValue2layerClass[c.xaxis.layer],O=s.layerValue2layerClass[c.yaxis.layer],T=d._hasOnlyLargeSploms,X=d._zindices.length>1,I=c.mainplotinfo;if(!c.mainplot||X)if(T)c.xlines=e(_,"path","xlines-above"),c.ylines=e(_,"path","ylines-above"),c.xaxislayer=e(_,"g","xaxislayer-above"),c.yaxislayer=e(_,"g","yaxislayer-above");else{if(!$){var E=e(_,"g","layer-subplot");c.shapelayer=e(E,"g","shapelayer"),c.imagelayer=e(E,"g","imagelayer"),I&&X?(c.minorGridlayer=I.minorGridlayer,c.gridlayer=I.gridlayer,c.zerolinelayer=I.zerolinelayer):(c.minorGridlayer=e(_,"g","minor-gridlayer"),c.gridlayer=e(_,"g","gridlayer"),c.zerolinelayer=e(_,"g","zerolinelayer"));var N=e(_,"g","layer-between");c.shapelayerBetween=e(N,"g","shapelayer"),c.imagelayerBetween=e(N,"g","imagelayer"),e(_,"path","xlines-below"),e(_,"path","ylines-below"),c.overlinesBelow=e(_,"g","overlines-below"),e(_,"g","xaxislayer-below"),e(_,"g","yaxislayer-below"),c.overaxesBelow=e(_,"g","overaxes-below")}c.overplot=e(_,"g","overplot"),c.plot=e(c.overplot,"g",w),$||(c.xlines=e(_,"path","xlines-above"),c.ylines=e(_,"path","ylines-above"),c.overlinesAbove=e(_,"g","overlines-above"),e(_,"g","xaxislayer-above"),e(_,"g","yaxislayer-above"),c.overaxesAbove=e(_,"g","overaxes-above"),c.xlines=_.select(".xlines-"+P),c.ylines=_.select(".ylines-"+O),c.xaxislayer=_.select(".xaxislayer-"+P),c.yaxislayer=_.select(".yaxislayer-"+O))}else{var V=I.plotgroup,U=w+"-x",G=w+"-y";c.minorGridlayer=I.minorGridlayer,c.gridlayer=I.gridlayer,c.zerolinelayer=I.zerolinelayer,e(I.overlinesBelow,"path",U),e(I.overlinesBelow,"path",G),e(I.overaxesBelow,"g",U),e(I.overaxesBelow,"g",G),c.plot=e(I.overplot,"g",w),e(I.overlinesAbove,"path",U),e(I.overlinesAbove,"path",G),e(I.overaxesAbove,"g",U),e(I.overaxesAbove,"g",G),c.xlines=V.select(".overlines-"+P).select("."+U),c.ylines=V.select(".overlines-"+O).select("."+G),c.xaxislayer=V.select(".overaxes-"+P).select("."+U),c.yaxislayer=V.select(".overaxes-"+O).select("."+G)}$||(T||(p(c.minorGridlayer,"g",c.xaxis._id),p(c.minorGridlayer,"g",c.yaxis._id),c.minorGridlayer.selectAll("g").map(function(C){return C[0]}).sort(o.idSort),p(c.gridlayer,"g",c.xaxis._id),p(c.gridlayer,"g",c.yaxis._id),c.gridlayer.selectAll("g").map(function(C){return C[0]}).sort(o.idSort)),c.xlines.style("fill","none").classed("crisp",!0),c.ylines.style("fill","none").classed("crisp",!0))}function g(v,c){if(v){var d={};v.each(function(O){var T=O[0],X=D.select(this);X.remove(),y(T,c),d[T]=!0});for(var _ in c._plots)for(var w=c._plots[_],k=w.overlays||[],$=0;$<k.length;$++){var P=k[$];d[P.id]&&P.plot.selectAll(".trace").remove()}}}function y(v,c){c._draggers.selectAll("g."+v).remove(),c._defs.select("#clip"+c._uid+v+"plot").remove()}F.toSVG=function(v){var c=v._fullLayout._glimages,d=D.select(v).selectAll(".svg-container"),_=d.filter(function(k,$){return $===d.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function w(){var k=this,$=k.toDataURL("image/png"),P=c.append("svg:image");P.attr({xmlns:f.svg,"xlink:href":$,preserveAspectRatio:"none",x:0,y:0,width:k.style.width,height:k.style.height})}_.each(w)},F.updateFx=Al().updateFx}),Tf=Dt((F,D)=>{var i=Pa();D.exports={hasLines:i.hasLines,hasMarkers:i.hasMarkers,hasText:i.hasText,isBubble:i.isBubble,attributes:Tr(),layoutAttributes:Pi(),supplyDefaults:rf(),crossTraceDefaults:of(),supplyLayoutDefaults:lf(),calc:Nl().calc,crossTraceCalc:cf(),arraysToCalcdata:Fl(),plot:hf(),colorbar:zl(),formatLabels:pf(),style:Bl().style,styleOnSelect:Bl().styleOnSelect,hoverPoints:gf(),selectPoints:yf(),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:Qi(),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}}),kf=Dt((F,D)=>{var i=_n(),t=bn(),n=Tl(),r=Ce(),l=r.strScale,o=r.strRotate,s=r.strTranslate;D.exports=function(f,e,p){var u=f.node(),h=n[p.arrowhead||0],b=n[p.startarrowhead||0],m=(p.arrowwidth||1)*(p.arrowsize||1),g=(p.arrowwidth||1)*(p.startarrowsize||1),y=e.indexOf("start")>=0,v=e.indexOf("end")>=0,c=h.backoff*m+p.standoff,d=b.backoff*g+p.startstandoff,_,w,k,$;if(u.nodeName==="line"){_={x:+f.attr("x1"),y:+f.attr("y1")},w={x:+f.attr("x2"),y:+f.attr("y2")};var P=_.x-w.x,O=_.y-w.y;if(k=Math.atan2(O,P),$=k+Math.PI,c&&d&&c+d>Math.sqrt(P*P+O*O)){at();return}if(c){if(c*c>P*P+O*O){at();return}var T=c*Math.cos(k),X=c*Math.sin(k);w.x+=T,w.y+=X,f.attr({x2:w.x,y2:w.y})}if(d){if(d*d>P*P+O*O){at();return}var I=d*Math.cos(k),E=d*Math.sin(k);_.x-=I,_.y-=E,f.attr({x1:_.x,y1:_.y})}}else if(u.nodeName==="path"){var N=u.getTotalLength(),V="";if(N<c+d){at();return}var U=u.getPointAtLength(0),G=u.getPointAtLength(.1);k=Math.atan2(U.y-G.y,U.x-G.x),_=u.getPointAtLength(Math.min(d,N)),V="0px,"+d+"px,";var C=u.getPointAtLength(N),W=u.getPointAtLength(N-.1);$=Math.atan2(C.y-W.y,C.x-W.x),w=u.getPointAtLength(Math.max(0,N-c));var J=V?d+c:c;V+=N-J+"px,"+N+"px",f.style("stroke-dasharray",V)}function at(){f.style("stroke-dasharray","0px,100px")}function et(it,dt,ht,xt){it.path&&(it.noRotate&&(ht=0),i.select(u.parentNode).append("path").attr({class:f.attr("class"),d:it.path,transform:s(dt.x,dt.y)+o(ht*180/Math.PI)+l(xt)}).style({fill:t.rgb(p.arrowcolor),"stroke-width":0}))}y&&et(b,_,k,g),v&&et(h,w,$,m)}}),Ki=Dt((F,D)=>{var i=_n(),t=un(),n=ea(),r=Ce(),l=r.strTranslate,o=Yn(),s=bn(),f=Nn(),e=Ka(),p=ma(),u=fr(),h=Za(),b=jn().arrayEditor,m=kf();D.exports={draw:g,drawOne:y,drawRaw:c};function g(d){var _=d._fullLayout;_._infolayer.selectAll(".annotation").remove();for(var w=0;w<_.annotations.length;w++)_.annotations[w].visible&&y(d,w);return n.previousPromises(d)}function y(d,_){var w=d._fullLayout,k=w.annotations[_]||{},$=o.getFromId(d,k.xref),P=o.getFromId(d,k.yref);$&&$.setScale(),P&&P.setScale(),c(d,k,_,!1,$,P)}function v(d,_,w,k,$){var P=$[w],O=$[w+"ref"],T=w.indexOf("y")!==-1,X=o.getRefType(O)==="domain",I=T?k.h:k.w;return d?X?P+(T?-_:_)/d._length:d.p2r(d.r2p(P)+_):P+(T?-_:_)/I}function c(d,_,w,k,$,P){var O=d._fullLayout,T=d._fullLayout._size,X=d._context.edits,I,E;k?(I="annotation-"+k,E=k+".annotations"):(I="annotation",E="annotations");var N=b(d.layout,E,_),V=N.modifyBase,U=N.modifyItem,G=N.getUpdateObj;O._infolayer.selectAll("."+I+'[data-index="'+w+'"]').remove();var C="clip"+O._uid+"_ann"+w;if(!_._input||_.visible===!1){i.selectAll("#"+C).remove();return}var W={x:{},y:{}},J=+_.textangle||0,at=O._infolayer.append("g").classed(I,!0).attr("data-index",String(w)).style("opacity",_.opacity),et=at.append("g").classed("annotation-text-g",!0),it=X[_.showarrow?"annotationTail":"annotationPosition"],dt=_.captureevents||X.annotationText||it;function ht(st){var ut={index:w,annotation:_._input,fullAnnotation:_,event:st};return k&&(ut.subplotId=k),ut}var xt=et.append("g").style("pointer-events",dt?"all":null).call(u,"pointer").on("click",function(){d._dragging=!1,d.emit("plotly_clickannotation",ht(i.event))});_.hovertext&&xt.on("mouseover",function(){var st=_.hoverlabel,ut=st.font,_t=this.getBoundingClientRect(),At=d.getBoundingClientRect();e.loneHover({x0:_t.left-At.left,x1:_t.right-At.left,y:(_t.top+_t.bottom)/2-At.top,text:_.hovertext,color:st.bgcolor,borderColor:st.bordercolor,fontFamily:ut.family,fontSize:ut.size,fontColor:ut.color,fontWeight:ut.weight,fontStyle:ut.style,fontVariant:ut.variant,fontShadow:ut.fontShadow,fontLineposition:ut.fontLineposition,fontTextcase:ut.fontTextcase},{container:O._hoverlayer.node(),outerContainer:O._paper.node(),gd:d})}).on("mouseout",function(){e.loneUnhover(O._hoverlayer.node())});var H=_.borderwidth,j=_.borderpad,A=H+j,q=xt.append("rect").attr("class","bg").style("stroke-width",H+"px").call(s.stroke,_.bordercolor).call(s.fill,_.bgcolor),R=_.width||_.height,z=O._topclips.selectAll("#"+C).data(R?[0]:[]);z.enter().append("clipPath").classed("annclip",!0).attr("id",C).append("rect"),z.exit().remove();var M=_.font,S=O._meta?r.templateString(_.text,O._meta):_.text,Z=xt.append("text").classed("annotation-text",!0).text(S);function Y(st){return st.call(f.font,M).attr({"text-anchor":{left:"start",right:"end"}[_.align]||"middle"}),p.convertToTspans(st,d,rt),st}function rt(){var st=Z.selectAll("a");if(st.size()===1&&st.text()===Z.text()){var ut=xt.insert("a",":first-child").attr({"xlink:xlink:href":st.attr("xlink:href"),"xlink:xlink:show":st.attr("xlink:show")}).style({cursor:"pointer"});ut.node().appendChild(q.node())}var _t=xt.select(".annotation-text-math-group"),At=!_t.empty(),Rt=f.bBox((At?_t:Z).node()),Xt=Rt.width,Bt=Rt.height,Ht=_.width||Xt,pt=_.height||Bt,bt=Math.round(Ht+2*A),ot=Math.round(pt+2*A);function Lt(ze,Le){return Le==="auto"&&(ze<1/3?Le="left":ze>2/3?Le="right":Le="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[Le]}for(var Nt=!1,Vt=["x","y"],ae=0;ae<Vt.length;ae++){var Jt=Vt[ae],re=_[Jt+"ref"]||Jt,oe=_["a"+Jt+"ref"],le={x:$,y:P}[Jt],ve=(J+(Jt==="x"?0:-90))*Math.PI/180,Wt=bt*Math.cos(ve),ge=ot*Math.sin(ve),Te=Math.abs(Wt)+Math.abs(ge),ce=_[Jt+"anchor"],we=_[Jt+"shift"]*(Jt==="x"?1:-1),yt=W[Jt],kt,Tt,K,ft,mt,gt=o.getRefType(re);if(le&&gt!=="domain"){var It=le.r2fraction(_[Jt]);(It<0||It>1)&&(oe===re?(It=le.r2fraction(_["a"+Jt]),(It<0||It>1)&&(Nt=!0)):Nt=!0),kt=le._offset+le.r2p(_[Jt]),ft=.5}else{var Mt=gt==="domain";Jt==="x"?(K=_[Jt],kt=Mt?le._offset+le._length*K:kt=T.l+T.w*K):(K=1-_[Jt],kt=Mt?le._offset+le._length*K:kt=T.t+T.h*K),ft=_.showarrow?.5:K}if(_.showarrow){yt.head=kt;var qt=_["a"+Jt];if(mt=Wt*Lt(.5,_.xanchor)-ge*Lt(.5,_.yanchor),oe===re){var $t=o.getRefType(oe);$t==="domain"?(Jt==="y"&&(qt=1-qt),yt.tail=le._offset+le._length*qt):$t==="paper"?Jt==="y"?(qt=1-qt,yt.tail=T.t+T.h*qt):yt.tail=T.l+T.w*qt:yt.tail=le._offset+le.r2p(qt),Tt=mt}else yt.tail=kt+qt,Tt=mt+qt;yt.text=yt.tail+mt;var ie=O[Jt==="x"?"width":"height"];if(re==="paper"&&(yt.head=r.constrain(yt.head,1,ie-1)),oe==="pixel"){var zt=-Math.max(yt.tail-3,yt.text),ee=Math.min(yt.tail+3,yt.text)-ie;zt>0?(yt.tail+=zt,yt.text+=zt):ee>0&&(yt.tail-=ee,yt.text-=ee)}yt.tail+=we,yt.head+=we}else mt=Te*Lt(ft,ce),Tt=mt,yt.text=kt+mt;yt.text+=we,mt+=we,Tt+=we,_["_"+Jt+"padplus"]=Te/2+Tt,_["_"+Jt+"padminus"]=Te/2-Tt,_["_"+Jt+"size"]=Te,_["_"+Jt+"shift"]=mt}if(Nt){xt.remove();return}var se=0,pe=0;if(_.align!=="left"&&(se=(Ht-Xt)*(_.align==="center"?.5:1)),_.valign!=="top"&&(pe=(pt-Bt)*(_.valign==="middle"?.5:1)),At)_t.select("svg").attr({x:A+se-1,y:A+pe}).call(f.setClipUrl,R?C:null,d);else{var De=A+pe-Rt.top,Ne=A+se-Rt.left;Z.call(p.positionText,Ne,De).call(f.setClipUrl,R?C:null,d)}z.select("rect").call(f.setRect,A,A,Ht,pt),q.call(f.setRect,H/2,H/2,bt-H,ot-H),xt.call(f.setTranslate,Math.round(W.x.text-bt/2),Math.round(W.y.text-ot/2)),et.attr({transform:"rotate("+J+","+W.x.text+","+W.y.text+")"});var Ge=function(ze,Le){at.selectAll(".annotation-arrow-g").remove();var Se=W.x.head,Ye=W.y.head,Be=W.x.tail+ze,Ze=W.y.tail+Le,Fe=W.x.text+ze,ke=W.y.text+Le,je=r.rotationXYMatrix(J,Fe,ke),Ke=r.apply2DTransform(je),ln=r.apply2DTransform2(je),Ve=+q.attr("width"),nn=+q.attr("height"),an=Fe-.5*Ve,gn=an+Ve,Ae=ke-.5*nn,sn=Ae+nn,tt=[[an,Ae,an,sn],[an,sn,gn,sn],[gn,sn,gn,Ae],[gn,Ae,an,Ae]].map(ln);if(!tt.reduce(function(ye,_e){return ye^!!r.segmentsIntersect(Se,Ye,Se+1e6,Ye+1e6,_e[0],_e[1],_e[2],_e[3])},!1)){tt.forEach(function(ye){var _e=r.segmentsIntersect(Be,Ze,Se,Ye,ye[0],ye[1],ye[2],ye[3]);_e&&(Be=_e.x,Ze=_e.y)});var lt=_.arrowwidth,Yt=_.arrowcolor,jt=_.arrowside,Ot=at.append("g").style({opacity:s.opacity(Yt)}).classed("annotation-arrow-g",!0),Pt=Ot.append("path").attr("d","M"+Be+","+Ze+"L"+Se+","+Ye).style("stroke-width",lt+"px").call(s.stroke,s.rgb(Yt));if(m(Pt,jt,_),X.annotationPosition&&Pt.node().parentNode&&!k){var Et=Se,Gt=Ye;if(_.standoff){var Ft=Math.sqrt(Math.pow(Se-Be,2)+Math.pow(Ye-Ze,2));Et+=_.standoff*(Be-Se)/Ft,Gt+=_.standoff*(Ze-Ye)/Ft}var Ut=Ot.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(Be-Et)+","+(Ze-Gt),transform:l(Et,Gt)}).style("stroke-width",lt+6+"px").call(s.stroke,"rgba(0,0,0,0)").call(s.fill,"rgba(0,0,0,0)"),Qt,ne;h.init({element:Ut.node(),gd:d,prepFn:function(){var ye=f.getTranslate(xt);Qt=ye.x,ne=ye.y,$&&$.autorange&&V($._name+".autorange",!0),P&&P.autorange&&V(P._name+".autorange",!0)},moveFn:function(ye,_e){var Me=Ke(Qt,ne),Oe=Me[0]+ye,Ie=Me[1]+_e;xt.call(f.setTranslate,Oe,Ie),U("x",v($,ye,"x",T,_)),U("y",v(P,_e,"y",T,_)),_.axref===_.xref&&U("ax",v($,ye,"ax",T,_)),_.ayref===_.yref&&U("ay",v(P,_e,"ay",T,_)),Ot.attr("transform",l(ye,_e)),et.attr({transform:"rotate("+J+","+Oe+","+Ie+")"})},doneFn:function(){t.call("_guiRelayout",d,G());var ye=document.querySelector(".js-notes-box-panel");ye&&ye.redraw(ye.selectedObj)}})}}};if(_.showarrow&&Ge(0,0),it){var Pe;h.init({element:xt.node(),gd:d,prepFn:function(){Pe=et.attr("transform")},moveFn:function(ze,Le){var Se="pointer";if(_.showarrow)_.axref===_.xref?U("ax",v($,ze,"ax",T,_)):U("ax",_.ax+ze),_.ayref===_.yref?U("ay",v(P,Le,"ay",T.w,_)):U("ay",_.ay+Le),Ge(ze,Le);else{if(k)return;var Ye,Be;if($)Ye=v($,ze,"x",T,_);else{var Ze=_._xsize/T.w,Fe=_.x+(_._xshift-_.xshift)/T.w-Ze/2;Ye=h.align(Fe+ze/T.w,Ze,0,1,_.xanchor)}if(P)Be=v(P,Le,"y",T,_);else{var ke=_._ysize/T.h,je=_.y-(_._yshift+_.yshift)/T.h-ke/2;Be=h.align(je-Le/T.h,ke,0,1,_.yanchor)}U("x",Ye),U("y",Be),(!$||!P)&&(Se=h.getCursor($?.5:Ye,P?.5:Be,_.xanchor,_.yanchor))}et.attr({transform:l(ze,Le)+Pe}),u(xt,Se)},clickFn:function(ze,Le){_.captureevents&&d.emit("plotly_clickannotation",ht(Le))},doneFn:function(){u(xt),t.call("_guiRelayout",d,G());var ze=document.querySelector(".js-notes-box-panel");ze&&ze.redraw(ze.selectedObj)}})}}X.annotationText?Z.call(p.makeEditable,{delegate:xt,gd:d}).call(Y).on("edit",function(st){_.text=st,this.call(Y),U("text",st),$&&$.autorange&&V($._name+".autorange",!0),P&&P.autorange&&V(P._name+".autorange",!0),t.call("_guiRelayout",d,G())}):Z.call(Y)}}),Af=Dt((F,D)=>{var i=Ce(),t=un(),n=jn().arrayEditor;D.exports={hasClickToShow:r,onClick:l};function r(f,e){var p=o(f,e);return p.on.length>0||p.explicitOff.length>0}function l(f,e){var p=o(f,e),u=p.on,h=p.off.concat(p.explicitOff),b={},m=f._fullLayout.annotations,g,y;if(u.length||h.length){for(g=0;g<u.length;g++)y=n(f.layout,"annotations",m[u[g]]),y.modifyItem("visible",!0),i.extendFlat(b,y.getUpdateObj());for(g=0;g<h.length;g++)y=n(f.layout,"annotations",m[h[g]]),y.modifyItem("visible",!1),i.extendFlat(b,y.getUpdateObj());return t.call("update",f,{},b)}}function o(f,e){var p=f._fullLayout.annotations,u=[],h=[],b=[],m=(e||[]).length,g,y,v,c,d,_,w,k;for(g=0;g<p.length;g++)if(v=p[g],c=v.clicktoshow,c){for(y=0;y<m;y++)if(d=e[y],_=d.xaxis,w=d.yaxis,_._id===v.xref&&w._id===v.yref&&_.d2r(d.x)===s(v._xclick,_)&&w.d2r(d.y)===s(v._yclick,w)){v.visible?c==="onout"?k=h:k=b:k=u,k.push(g);break}y===m&&v.visible&&c==="onout"&&h.push(g)}return{on:u,off:h,explicitOff:b}}function s(f,e){return e.type==="log"?e.l2r(f):e.d2r(f)}}),Vl=Dt((F,D)=>{var i=Ce(),t=bn();D.exports=function(n,r,l,o){o("opacity");var s=o("bgcolor"),f=o("bordercolor"),e=t.opacity(f);o("borderpad");var p=o("borderwidth"),u=o("showarrow");o("text",u?" ":l._dfltTitle.annotation),o("textangle"),i.coerceFont(o,"font",l.font),o("width"),o("align");var h=o("height");if(h&&o("valign"),u){var b=o("arrowside"),m,g;b.indexOf("end")!==-1&&(m=o("arrowhead"),g=o("arrowsize")),b.indexOf("start")!==-1&&(o("startarrowhead",m),o("startarrowsize",g)),o("arrowcolor",e?r.bordercolor:t.defaultLine),o("arrowwidth",(e&&p||1)*2),o("standoff"),o("startstandoff")}var y=o("hovertext"),v=l.hoverlabel||{};if(y){var c=o("hoverlabel.bgcolor",v.bgcolor||(t.opacity(s)?t.rgb(s):t.defaultLine)),d=o("hoverlabel.bordercolor",v.bordercolor||t.contrast(c)),_=i.extendFlat({},v.font);_.color||(_.color=d),i.coerceFont(o,"hoverlabel.font",_)}o("captureevents",!!y)}}),Lf=Dt((F,D)=>{var i=Ce(),t=Yn(),n=Ya(),r=Vl(),l=zr();D.exports=function(s,f){n(s,f,{name:"annotations",handleItemDefaults:o})};function o(s,f,e){function p(T,X){return i.coerce(s,f,l,T,X)}var u=p("visible"),h=p("clicktoshow");if(u||h){r(s,f,e,p);for(var b=f.showarrow,m=["x","y"],g=[-10,-30],y={_fullLayout:e},v=0;v<2;v++){var c=m[v],d=t.coerceRef(s,f,y,c,"","paper");if(d!=="paper"){var _=t.getFromId(y,d);_._annIndices.push(f._index)}if(t.coercePosition(f,y,p,d,c,.5),b){var w="a"+c,k=t.coerceRef(s,f,y,w,"pixel",["pixel","paper"]);k!=="pixel"&&k!==d&&(k=f[w]="pixel");var $=k==="pixel"?g[v]:.4;t.coercePosition(f,y,p,k,w,$)}p(c+"anchor"),p(c+"shift")}if(i.noneOrAll(s,f,["x","y"]),b&&i.noneOrAll(s,f,["ax","ay"]),h){var P=p("xclick"),O=p("yclick");f._xclick=P===void 0?f.x:t.cleanPosition(P,y,f.xref),f._yclick=O===void 0?f.y:t.cleanPosition(O,y,f.yref)}}}}),Sf=Dt((F,D)=>{var i=Ce(),t=Yn(),n=Ki().draw;D.exports=function(o){var s=o._fullLayout,f=i.filterVisible(s.annotations);if(f.length&&o._fullData.length)return i.syncOrAsync([n,r],o)};function r(o){var s=o._fullLayout;i.filterVisible(s.annotations).forEach(function(f){var e=t.getFromId(o,f.xref),p=t.getFromId(o,f.yref),u=t.getRefType(f.xref),h=t.getRefType(f.yref);f._extremes={},u==="range"&&l(f,e),h==="range"&&l(f,p)})}function l(o,s){var f=s._id,e=f.charAt(0),p=o[e],u=o["a"+e],h=o[e+"ref"],b=o["a"+e+"ref"],m=o["_"+e+"padplus"],g=o["_"+e+"padminus"],y={x:1,y:-1}[e]*o[e+"shift"],v=3*o.arrowsize*o.arrowwidth||0,c=v+y,d=v-y,_=3*o.startarrowsize*o.arrowwidth||0,w=_+y,k=_-y,$;if(b===h){var P=t.findExtremes(s,[s.r2c(p)],{ppadplus:c,ppadminus:d}),O=t.findExtremes(s,[s.r2c(u)],{ppadplus:Math.max(m,w),ppadminus:Math.max(g,k)});$={min:[P.min[0],O.min[0]],max:[P.max[0],O.max[0]]}}else w=u?w+u:w,k=u?k-u:k,$=t.findExtremes(s,[s.r2c(p)],{ppadplus:Math.max(m,c,w),ppadminus:Math.max(g,d,k)});o._extremes[f]=$}}),Of=Dt((F,D)=>{var i=wn(),t=Mi();D.exports=function(n,r,l,o){r=r||{};var s=l==="log"&&r.type==="linear",f=l==="linear"&&r.type==="log";if(!(s||f))return;var e=n._fullLayout.annotations,p=r._id.charAt(0),u,h;function b(g){var y=u[g],v=null;s?v=t(y,r.range):v=Math.pow(10,y),i(v)||(v=null),o(h+g,v)}for(var m=0;m<e.length;m++)u=e[m],h="annotations["+m+"].",u[p+"ref"]===r._id&&b(p),u["a"+p+"ref"]===r._id&&b("a"+p)}}),Cf=Dt((F,D)=>{var i=Ki(),t=Af();D.exports={moduleType:"component",name:"annotations",layoutAttributes:zr(),supplyLayoutDefaults:Lf(),includeBasePlot:ei()("annotations"),calcAutorange:Sf(),draw:i.draw,drawOne:i.drawOne,drawRaw:i.drawRaw,hasClickToShow:t.hasClickToShow,onClick:t.onClick,convertCoords:Of()}}),to=Dt((F,D)=>{var i=zr(),t=qa().overrideAll,n=jn().templatedArray;D.exports=t(n("annotation",{visible:i.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:i.xanchor,xshift:i.xshift,yanchor:i.yanchor,yshift:i.yshift,text:i.text,textangle:i.textangle,font:i.font,width:i.width,height:i.height,opacity:i.opacity,align:i.align,valign:i.valign,bgcolor:i.bgcolor,bordercolor:i.bordercolor,borderpad:i.borderpad,borderwidth:i.borderwidth,showarrow:i.showarrow,arrowcolor:i.arrowcolor,arrowhead:i.arrowhead,startarrowhead:i.startarrowhead,arrowside:i.arrowside,arrowsize:i.arrowsize,startarrowsize:i.startarrowsize,arrowwidth:i.arrowwidth,standoff:i.standoff,startstandoff:i.startstandoff,hovertext:i.hovertext,hoverlabel:i.hoverlabel,captureevents:i.captureevents}),"calc","from-root")}),Df=Dt((F,D)=>{var i=Ce(),t=Yn(),n=Ya(),r=Vl(),l=to();D.exports=function(s,f,e){n(s,f,{name:"annotations",handleItemDefaults:o,fullLayout:e.fullLayout})};function o(s,f,e,p){function u(m,g){return i.coerce(s,f,l,m,g)}function h(m){var g=m+"axis",y={_fullLayout:{}};return y._fullLayout[g]=e[g],t.coercePosition(f,y,u,m,m,.5)}var b=u("visible");b&&(r(s,f,p.fullLayout,u),h("x"),h("y"),h("z"),i.noneOrAll(s,f,["x","y","z"]),f.xref="x",f.yref="y",f.zref="z",u("xanchor"),u("yanchor"),u("xshift"),u("yshift"),f.showarrow&&(f.axref="pixel",f.ayref="pixel",u("ax",-10),u("ay",-30),i.noneOrAll(s,f,["ax","ay"])))}}),Pf=Dt((F,D)=>{var i=Ce(),t=Yn();D.exports=function(r){for(var l=r.fullSceneLayout,o=l.annotations,s=0;s<o.length;s++)n(o[s],r);r.fullLayout._infolayer.selectAll(".annotation-"+r.id).remove()};function n(r,l){var o=l.fullSceneLayout,s=o.domain,f=l.fullLayout._size,e={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};r._xa={},i.extendFlat(r._xa,e),t.setConvert(r._xa),r._xa._offset=f.l+s.x[0]*f.w,r._xa.l2p=function(){return .5*(1+r._pdata[0]/r._pdata[3])*f.w*(s.x[1]-s.x[0])},r._ya={},i.extendFlat(r._ya,e),t.setConvert(r._ya),r._ya._offset=f.t+(1-s.y[1])*f.h,r._ya.l2p=function(){return .5*(1-r._pdata[1]/r._pdata[3])*f.h*(s.y[1]-s.y[0])}}}),If=Dt((F,D)=>{function i(n,r){var l=[0,0,0,0],o,s;for(o=0;o<4;++o)for(s=0;s<4;++s)l[s]+=n[4*o+s]*r[o];return l}function t(n,r){var l=i(n.projection,i(n.view,i(n.model,[r[0],r[1],r[2],1])));return l}D.exports=t}),Ff=Dt((F,D)=>{var i=Ki().drawRaw,t=If(),n=["x","y","z"];D.exports=function(r){for(var l=r.fullSceneLayout,o=r.dataScale,s=l.annotations,f=0;f<s.length;f++){for(var e=s[f],p=!1,u=0;u<3;u++){var h=n[u],b=e[h],m=l[h+"axis"],g=m.r2fraction(b);if(g<0||g>1){p=!0;break}}p?r.fullLayout._infolayer.select(".annotation-"+r.id+'[data-index="'+f+'"]').remove():(e._pdata=t(r.glplot.cameraParams,[l.xaxis.r2l(e.x)*o[0],l.yaxis.r2l(e.y)*o[1],l.zaxis.r2l(e.z)*o[2]]),i(r.graphDiv,e,f,r.id,e._xa,e._ya))}}}),Rf=Dt((F,D)=>{var i=un(),t=Ce();D.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:to()}}},layoutAttributes:to(),handleDefaults:Df(),includeBasePlot:n,convert:Pf(),draw:Ff()};function n(r,l){var o=i.subplotsRegistry.gl3d;if(o)for(var s=o.attrRegex,f=Object.keys(r),e=0;e<f.length;e++){var p=f[e];s.test(p)&&(r[p].annotations||[]).length&&(t.pushUnique(l._basePlotModules,o),t.pushUnique(l._subplots.gl3d,p))}}}),Yl=Dt((F,D)=>{var i=zr(),t=ha(),n=Tr().line,r=$a().dash,l=la().extendFlat,o=jn().templatedArray;ti();var s=ja(),f=ar().shapeTexttemplateAttrs,e=Si();D.exports=o("shape",{visible:l({},s.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:l({},s.legend,{editType:"calc+arraydraw"}),legendgroup:l({},s.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:l({},s.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:t({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:l({},s.legendrank,{editType:"calc+arraydraw"}),legendwidth:l({},s.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above",editType:"arraydraw"},xref:l({},i.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},x0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},x1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},yref:l({},i.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},y0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},y1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:l({},n.color,{editType:"arraydraw"}),width:l({},n.width,{editType:"calc+arraydraw"}),dash:l({},r,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:f({},{keys:Object.keys(e)}),font:t({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})}),Nf=Dt((F,D)=>{var i=Ce(),t=Yn(),n=Ya(),r=Yl(),l=hr();D.exports=function(f,e){n(f,e,{name:"shapes",handleItemDefaults:s})};function o(f,e){return f?"bottom":e.indexOf("top")!==-1?"top":e.indexOf("bottom")!==-1?"bottom":"middle"}function s(f,e,p){function u(H,j){return i.coerce(f,e,r,H,j)}e._isShape=!0;var h=u("visible");if(h){var b=u("showlegend");b&&(u("legend"),u("legendwidth"),u("legendgroup"),u("legendgrouptitle.text"),i.coerceFont(u,"legendgrouptitle.font"),u("legendrank"));var m=u("path"),g=m?"path":"rect",y=u("type",g),v=y!=="path";v&&delete e.path,u("editable"),u("layer"),u("opacity"),u("fillcolor"),u("fillrule");var c=u("line.width");c&&(u("line.color"),u("line.dash"));for(var d=u("xsizemode"),_=u("ysizemode"),w=["x","y"],k=0;k<2;k++){var $=w[k],P=$+"anchor",O=$==="x"?d:_,T={_fullLayout:p},X,I,E,N=t.coerceRef(f,e,T,$,void 0,"paper"),V=t.getRefType(N);if(V==="range"?(X=t.getFromId(T,N),X._shapeIndices.push(e._index),E=l.rangeToShapePosition(X),I=l.shapePositionToRange(X),(X.type==="category"||X.type==="multicategory")&&(u($+"0shift"),u($+"1shift"))):I=E=i.identity,v){var U=.25,G=.75,C=$+"0",W=$+"1",J=f[C],at=f[W];f[C]=I(f[C],!0),f[W]=I(f[W],!0),O==="pixel"?(u(C,0),u(W,10)):(t.coercePosition(e,T,u,N,C,U),t.coercePosition(e,T,u,N,W,G)),e[C]=E(e[C]),e[W]=E(e[W]),f[C]=J,f[W]=at}if(O==="pixel"){var et=f[P];f[P]=I(f[P],!0),t.coercePosition(e,T,u,N,P,.25),e[P]=E(e[P]),f[P]=et}}v&&i.noneOrAll(f,e,["x0","x1","y0","y1"]);var it=y==="line",dt,ht;if(v&&(dt=u("label.texttemplate")),dt||(ht=u("label.text")),ht||dt){u("label.textangle");var xt=u("label.textposition",it?"middle":"middle center");u("label.xanchor"),u("label.yanchor",o(it,xt)),u("label.padding"),i.coerceFont(u,"label.font",p.font)}}}}),Ef=Dt((F,D)=>{var i=bn(),t=Ce();function n(r,l){return r?"bottom":l.indexOf("top")!==-1?"top":l.indexOf("bottom")!==-1?"bottom":"middle"}D.exports=function(r,l,o){o("newshape.visible"),o("newshape.name"),o("newshape.showlegend"),o("newshape.legend"),o("newshape.legendwidth"),o("newshape.legendgroup"),o("newshape.legendgrouptitle.text"),t.coerceFont(o,"newshape.legendgrouptitle.font"),o("newshape.legendrank"),o("newshape.drawdirection"),o("newshape.layer"),o("newshape.fillcolor"),o("newshape.fillrule"),o("newshape.opacity");var s=o("newshape.line.width");if(s){var f=(r||{}).plot_bgcolor||"#FFF";o("newshape.line.color",i.contrast(f)),o("newshape.line.dash")}var e=r.dragmode==="drawline",p=o("newshape.label.text"),u=o("newshape.label.texttemplate");if(p||u){o("newshape.label.textangle");var h=o("newshape.label.textposition",e?"middle":"middle center");o("newshape.label.xanchor"),o("newshape.label.yanchor",n(e,h)),o("newshape.label.padding"),t.coerceFont(o,"newshape.label.font",l.font)}o("activeshape.fillcolor"),o("activeshape.opacity")}}),zf=Dt((F,D)=>{var i=Ce(),t=Yn(),n=Qr(),r=hr();D.exports=function(e){var p=e._fullLayout,u=i.filterVisible(p.shapes);if(!(!u.length||!e._fullData.length))for(var h=0;h<u.length;h++){var b=u[h];b._extremes={};var m,g,y=t.getRefType(b.xref),v=t.getRefType(b.yref);b.xref!=="paper"&&y!=="domain"&&(m=t.getFromId(e,b.xref),g=f(m,b,n.paramIsX),g&&(b._extremes[m._id]=t.findExtremes(m,g,l(b)))),b.yref!=="paper"&&v!=="domain"&&(m=t.getFromId(e,b.yref),g=f(m,b,n.paramIsY),g&&(b._extremes[m._id]=t.findExtremes(m,g,o(b))))}};function l(e){return s(e.line.width,e.xsizemode,e.x0,e.x1,e.path,!1)}function o(e){return s(e.line.width,e.ysizemode,e.y0,e.y1,e.path,!0)}function s(e,p,u,h,b,m){var g=e/2,y=m;if(p==="pixel"){var v=b?r.extractPathCoords(b,m?n.paramIsY:n.paramIsX):[u,h],c=i.aggNums(Math.max,null,v),d=i.aggNums(Math.min,null,v),_=d<0?Math.abs(d)+g:g,w=c>0?c+g:g;return{ppad:g,ppadplus:y?_:w,ppadminus:y?w:_}}else return{ppad:g}}function f(e,p,u){var h=e._id.charAt(0)==="x"?"x":"y",b=e.type==="category"||e.type==="multicategory",m,g,y=0,v=0,c=b?e.r2c:e.d2c,d=p[h+"sizemode"]==="scaled";if(d?(m=p[h+"0"],g=p[h+"1"],b&&(y=p[h+"0shift"],v=p[h+"1shift"])):(m=p[h+"anchor"],g=p[h+"anchor"]),m!==void 0)return[c(m)+y,c(g)+v];if(p.path){var _=1/0,w=-1/0,k=p.path.match(n.segmentRE),$,P,O,T,X;for(e.type==="date"&&(c=r.decodeDate(c)),$=0;$<k.length;$++)P=k[$],O=u[P.charAt(0)].drawn,O!==void 0&&(T=k[$].substr(1).match(n.paramRE),!(!T||T.length<O)&&(X=c(T[O]),X<_&&(_=X),X>w&&(w=X)));if(w>=_)return[_,w]}}}),Bf=Dt((F,D)=>{var i=Xi();D.exports={moduleType:"component",name:"shapes",layoutAttributes:Yl(),supplyLayoutDefaults:Nf(),supplyDrawNewShapeDefaults:Ef(),includeBasePlot:ei()("shapes"),calcAutorange:zf(),draw:i.draw,drawOne:i.drawOne}}),Zl=Dt((F,D)=>{var i=pa(),t=jn().templatedArray;ti(),D.exports=t("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",i.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",i.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})}),Hf=Dt((F,D)=>{var i=Ce(),t=Yn(),n=Ya(),r=Zl(),l="images";D.exports=function(s,f){var e={name:l,handleItemDefaults:o};n(s,f,e)};function o(s,f,e){function p(d,_){return i.coerce(s,f,r,d,_)}var u=p("source"),h=p("visible",!!u);if(!h)return f;p("layer"),p("xanchor"),p("yanchor"),p("sizex"),p("sizey"),p("sizing"),p("opacity");for(var b={_fullLayout:e},m=["x","y"],g=0;g<2;g++){var y=m[g],v=t.coerceRef(s,f,b,y,"paper",void 0);if(v!=="paper"){var c=t.getFromId(b,v);c._imgIndices.push(f._index)}t.coercePosition(f,b,p,v,y,0)}return f}}),jf=Dt((F,D)=>{var i=_n(),t=Nn(),n=Yn(),r=ua(),l=Mr();D.exports=function(o){var s=o._fullLayout,f=[],e={},p=[],u,h;for(h=0;h<s.images.length;h++){var b=s.images[h];if(b.visible)if(b.layer==="below"&&b.xref!=="paper"&&b.yref!=="paper"){u=r.ref2id(b.xref)+r.ref2id(b.yref);var m=s._plots[u];if(!m){p.push(b);continue}m.mainplot&&(u=m.mainplot.id),e[u]||(e[u]=[]),e[u].push(b)}else b.layer==="above"?f.push(b):p.push(b)}var g={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function y(O){var T=i.select(this);if(this._imgSrc!==O.source)if(T.attr("xmlns",l.svg),!o._context.staticPlot||O.source&&O.source.slice(0,5)==="data:")T.attr("xlink:href",O.source),this._imgSrc=O.source;else{var X=new Promise((function(I){var E=new Image;this.img=E,E.setAttribute("crossOrigin","anonymous"),E.onerror=N,E.onload=function(){var V=document.createElement("canvas");V.width=this.width,V.height=this.height;var U=V.getContext("2d",{willReadFrequently:!0});U.drawImage(this,0,0);var G=V.toDataURL("image/png");T.attr("xlink:href",G),I()},T.on("error",N),E.src=O.source,this._imgSrc=O.source;function N(){T.remove(),I()}}).bind(this));o._promises.push(X)}}function v(O){var T=i.select(this),X=n.getFromId(o,O.xref),I=n.getFromId(o,O.yref),E=n.getRefType(O.xref)==="domain",N=n.getRefType(O.yref)==="domain",V=s._size,U,G;X!==void 0?U=typeof O.xref=="string"&&E?X._length*O.sizex:Math.abs(X.l2p(O.sizex)-X.l2p(0)):U=O.sizex*V.w,I!==void 0?G=typeof O.yref=="string"&&N?I._length*O.sizey:Math.abs(I.l2p(O.sizey)-I.l2p(0)):G=O.sizey*V.h;var C=U*g.x[O.xanchor].offset,W=G*g.y[O.yanchor].offset,J=g.x[O.xanchor].sizing+g.y[O.yanchor].sizing,at,et;switch(X!==void 0?at=typeof O.xref=="string"&&E?X._length*O.x+X._offset:X.r2p(O.x)+X._offset:at=O.x*V.w+V.l,at+=C,I!==void 0?et=typeof O.yref=="string"&&N?I._length*(1-O.y)+I._offset:I.r2p(O.y)+I._offset:et=V.h-O.y*V.h+V.t,et+=W,O.sizing){case"fill":J+=" slice";break;case"stretch":J="none";break}T.attr({x:at,y:et,width:U,height:G,preserveAspectRatio:J,opacity:O.opacity});var it=X&&n.getRefType(O.xref)!=="domain"?X._id:"",dt=I&&n.getRefType(O.yref)!=="domain"?I._id:"",ht=it+dt;t.setClipUrl(T,ht?"clip"+s._uid+ht:null,o)}function c(O){return[O.xref,O.x,O.sizex,O.yref,O.y,O.sizey].join("_")}function d(O,T){return O._index-T._index}var _=s._imageLowerLayer.selectAll("image").data(p,c),w=s._imageUpperLayer.selectAll("image").data(f,c);_.enter().append("image"),w.enter().append("image"),_.exit().remove(),w.exit().remove(),_.each(function(O){y.bind(this)(O),v.bind(this)(O)}),w.each(function(O){y.bind(this)(O),v.bind(this)(O)}),_.sort(d),w.sort(d);var k=Object.keys(s._plots);for(h=0;h<k.length;h++){u=k[h];var $=s._plots[u];if($.imagelayer){var P=$.imagelayer.selectAll("image").data(e[u]||[],c);P.enter().append("image"),P.exit().remove(),P.each(function(O){y.bind(this)(O),v.bind(this)(O)}),P.sort(d)}}}}),Vf=Dt((F,D)=>{var i=wn(),t=Mi();D.exports=function(n,r,l,o){r=r||{};var s=l==="log"&&r.type==="linear",f=l==="linear"&&r.type==="log";if(s||f){for(var e=n._fullLayout.images,p=r._id.charAt(0),u,h,b=0;b<e.length;b++)if(u=e[b],h="images["+b+"].",u[p+"ref"]===r._id){var m=u[p],g=u["size"+p],y=null,v=null;if(s){y=t(m,r.range);var c=g/Math.pow(10,y)/2;v=2*Math.log(c+Math.sqrt(1+c*c))/Math.LN10}else y=Math.pow(10,m),v=y*(Math.pow(10,g/2)-Math.pow(10,-g/2));i(y)?i(v)||(v=null):(y=null,v=null),o(h+p,y),o(h+"size"+p,v)}}}}),Yf=Dt((F,D)=>{D.exports={moduleType:"component",name:"images",layoutAttributes:Zl(),supplyLayoutDefaults:Hf(),includeBasePlot:ei()("images"),draw:jf(),convertCoords:Vf()}}),eo=Dt((F,D)=>{D.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"",right:"",up:"",down:""}}}),Ul=Dt((F,D)=>{var i=ha(),t=Ja(),n=la().extendFlat,r=qa().overrideAll,l=Oi(),o=jn().templatedArray,s=o("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});D.exports=r(o("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:s,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:n(l({editType:"arraydraw"}),{}),font:i({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:t.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")}),Zf=Dt((F,D)=>{var i=Ce(),t=Ya(),n=Ul(),r=eo(),l=r.name,o=n.buttons;D.exports=function(e,p){var u={name:l,handleItemDefaults:s};t(e,p,u)};function s(e,p,u){function h(g,y){return i.coerce(e,p,n,g,y)}var b=t(e,p,{name:"buttons",handleItemDefaults:f}),m=h("visible",b.length>0);m&&(h("active"),h("direction"),h("type"),h("showactive"),h("x"),h("y"),i.noneOrAll(e,p,["x","y"]),h("xanchor"),h("yanchor"),h("pad.t"),h("pad.r"),h("pad.b"),h("pad.l"),i.coerceFont(h,"font",u.font),h("bgcolor",u.paper_bgcolor),h("bordercolor"),h("borderwidth"))}function f(e,p){function u(b,m){return i.coerce(e,p,o,b,m)}var h=u("visible",e.method==="skip"||Array.isArray(e.args));h&&(u("method"),u("args"),u("args2"),u("label"),u("execute"))}}),Uf=Dt((F,D)=>{D.exports=l;var i=_n(),t=bn(),n=Nn(),r=Ce();function l(o,s,f){this.gd=o,this.container=s,this.id=f,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}l.barWidth=2,l.barLength=20,l.barRadius=2,l.barPad=1,l.barColor="#808BA4",l.prototype.enable=function(o,s,f){var e=this.gd._fullLayout,p=e.width,u=e.height;this.position=o;var h=this.position.l,b=this.position.w,m=this.position.t,g=this.position.h,y=this.position.direction,v=y==="down",c=y==="left",d=y==="right",_=y==="up",w=b,k=g,$,P,O,T;!v&&!c&&!d&&!_&&(this.position.direction="down",v=!0);var X=v||_;X?($=h,P=$+w,v?(O=m,T=Math.min(O+k,u),k=T-O):(T=m+k,O=Math.max(T-k,0),k=T-O)):(O=m,T=O+k,c?(P=h+w,$=Math.max(P-w,0),w=P-$):($=h,P=Math.min($+w,p),w=P-$)),this._box={l:$,t:O,w,h:k};var I=b>w,E=l.barLength+2*l.barPad,N=l.barWidth+2*l.barPad,V=h,U=m+g;U+N>u&&(U=u-N);var G=this.container.selectAll("rect.scrollbar-horizontal").data(I?[0]:[]);G.exit().on(".drag",null).remove(),G.enter().append("rect").classed("scrollbar-horizontal",!0).call(t.fill,l.barColor),I?(this.hbar=G.attr({rx:l.barRadius,ry:l.barRadius,x:V,y:U,width:E,height:N}),this._hbarXMin=V+E/2,this._hbarTranslateMax=w-E):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var C=g>k,W=l.barWidth+2*l.barPad,J=l.barLength+2*l.barPad,at=h+b,et=m;at+W>p&&(at=p-W);var it=this.container.selectAll("rect.scrollbar-vertical").data(C?[0]:[]);it.exit().on(".drag",null).remove(),it.enter().append("rect").classed("scrollbar-vertical",!0).call(t.fill,l.barColor),C?(this.vbar=it.attr({rx:l.barRadius,ry:l.barRadius,x:at,y:et,width:W,height:J}),this._vbarYMin=et+J/2,this._vbarTranslateMax=k-J):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var dt=this.id,ht=$-.5,xt=C?P+W+.5:P+.5,H=O-.5,j=I?T+N+.5:T+.5,A=e._topdefs.selectAll("#"+dt).data(I||C?[0]:[]);if(A.exit().remove(),A.enter().append("clipPath").attr("id",dt).append("rect"),I||C?(this._clipRect=A.select("rect").attr({x:Math.floor(ht),y:Math.floor(H),width:Math.ceil(xt)-Math.floor(ht),height:Math.ceil(j)-Math.floor(H)}),this.container.call(n.setClipUrl,dt,this.gd),this.bg.attr({x:h,y:m,width:b,height:g})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(n.setClipUrl,null),delete this._clipRect),I||C){var q=i.behavior.drag().on("dragstart",function(){i.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(q);var R=i.behavior.drag().on("dragstart",function(){i.event.sourceEvent.preventDefault(),i.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));I&&this.hbar.on(".drag",null).call(R),C&&this.vbar.on(".drag",null).call(R)}this.setTranslate(s,f)},l.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(n.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},l.prototype._onBoxDrag=function(){var o=this.translateX,s=this.translateY;this.hbar&&(o-=i.event.dx),this.vbar&&(s-=i.event.dy),this.setTranslate(o,s)},l.prototype._onBoxWheel=function(){var o=this.translateX,s=this.translateY;this.hbar&&(o+=i.event.deltaY),this.vbar&&(s+=i.event.deltaY),this.setTranslate(o,s)},l.prototype._onBarDrag=function(){var o=this.translateX,s=this.translateY;if(this.hbar){var f=o+this._hbarXMin,e=f+this._hbarTranslateMax,p=r.constrain(i.event.x,f,e),u=(p-f)/(e-f),h=this.position.w-this._box.w;o=u*h}if(this.vbar){var b=s+this._vbarYMin,m=b+this._vbarTranslateMax,g=r.constrain(i.event.y,b,m),y=(g-b)/(m-b),v=this.position.h-this._box.h;s=y*v}this.setTranslate(o,s)},l.prototype.setTranslate=function(o,s){var f=this.position.w-this._box.w,e=this.position.h-this._box.h;if(o=r.constrain(o||0,0,f),s=r.constrain(s||0,0,e),this.translateX=o,this.translateY=s,this.container.call(n.setTranslate,this._box.l-this.position.l-o,this._box.t-this.position.t-s),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+o-.5),y:Math.floor(this.position.t+s-.5)}),this.hbar){var p=o/f;this.hbar.call(n.setTranslate,o+p*this._hbarTranslateMax,s)}if(this.vbar){var u=s/e;this.vbar.call(n.setTranslate,o,s+u*this._vbarTranslateMax)}}}),Gf=Dt((F,D)=>{var i=_n(),t=ea(),n=bn(),r=Nn(),l=Ce(),o=ma(),s=jn().arrayEditor,f=Ta().LINE_SPACING,e=eo(),p=Uf();D.exports=function(E){var N=E._fullLayout,V=l.filterVisible(N[e.name]);function U(dt){t.autoMargin(E,T(dt))}var G=N._menulayer.selectAll("g."+e.containerClassName).data(V.length>0?[0]:[]);if(G.enter().append("g").classed(e.containerClassName,!0).style("cursor","pointer"),G.exit().each(function(){i.select(this).selectAll("g."+e.headerGroupClassName).each(U)}).remove(),V.length!==0){var C=G.selectAll("g."+e.headerGroupClassName).data(V,u);C.enter().append("g").classed(e.headerGroupClassName,!0);for(var W=l.ensureSingle(G,"g",e.dropdownButtonGroupClassName,function(dt){dt.style("pointer-events","all")}),J=0;J<V.length;J++){var at=V[J];O(E,at)}var et="updatemenus"+N._uid,it=new p(E,W,et);C.enter().size()&&(W.node().parentNode.appendChild(W.node()),W.call(I)),C.exit().each(function(dt){W.call(I),U(dt)}).remove(),C.each(function(dt){var ht=i.select(this),xt=dt.type==="dropdown"?W:null;t.manageCommandObserver(E,dt,dt.buttons,function(H){m(E,dt,dt.buttons[H.index],ht,xt,it,H.index,!0)}),dt.type==="dropdown"?(g(E,ht,W,it,dt),b(W,dt)&&y(E,ht,W,it,dt)):y(E,ht,null,null,dt)})}};function u(E){return E._index}function h(E){return+E.attr(e.menuIndexAttrName)==-1}function b(E,N){return+E.attr(e.menuIndexAttrName)===N._index}function m(E,N,V,U,G,C,W,J){N.active=W,s(E.layout,e.name,N).applyUpdate("active",W),N.type==="buttons"?y(E,U,null,null,N):N.type==="dropdown"&&(G.attr(e.menuIndexAttrName,"-1"),g(E,U,G,C,N),J||y(E,U,G,C,N))}function g(E,N,V,U,G){var C=l.ensureSingle(N,"g",e.headerClassName,function(ht){ht.style("pointer-events","all")}),W=G._dims,J=G.active,at=G.buttons[J]||e.blankHeaderOpts,et={y:G.pad.t,yPad:0,x:G.pad.l,xPad:0,index:0},it={width:W.headerWidth,height:W.headerHeight};C.call(d,G,at,E).call(X,G,et,it);var dt=l.ensureSingle(N,"text",e.headerArrowClassName,function(ht){ht.attr("text-anchor","end").call(r.font,G.font).text(e.arrowSymbol[G.direction])});dt.attr({x:W.headerWidth-e.arrowOffsetX+G.pad.l,y:W.headerHeight/2+e.textOffsetY+G.pad.t}),C.on("click",function(){V.call(I,String(b(V,G)?-1:G._index)),y(E,N,V,U,G)}),C.on("mouseover",function(){C.call($)}),C.on("mouseout",function(){C.call(P,G)}),r.setTranslate(N,W.lx,W.ly)}function y(E,N,V,U,G){V||(V=N,V.attr("pointer-events","all"));var C=!h(V)||G.type==="buttons"?G.buttons:[],W=G.type==="dropdown"?e.dropdownButtonClassName:e.buttonClassName,J=V.selectAll("g."+W).data(l.filterVisible(C)),at=J.enter().append("g").classed(W,!0),et=J.exit();G.type==="dropdown"?(at.attr("opacity","0").transition().attr("opacity","1"),et.transition().attr("opacity","0").remove()):et.remove();var it=0,dt=0,ht=G._dims,xt=["up","down"].indexOf(G.direction)!==-1;G.type==="dropdown"&&(xt?dt=ht.headerHeight+e.gapButtonHeader:it=ht.headerWidth+e.gapButtonHeader),G.type==="dropdown"&&G.direction==="up"&&(dt=-e.gapButtonHeader+e.gapButton-ht.openHeight),G.type==="dropdown"&&G.direction==="left"&&(it=-e.gapButtonHeader+e.gapButton-ht.openWidth);var H={x:ht.lx+it+G.pad.l,y:ht.ly+dt+G.pad.t,yPad:e.gapButton,xPad:e.gapButton,index:0},j={l:H.x+G.borderwidth,t:H.y+G.borderwidth};J.each(function(A,q){var R=i.select(this);R.call(d,G,A,E).call(X,G,H),R.on("click",function(){i.event.defaultPrevented||(A.execute&&(A.args2&&G.active===q?(m(E,G,A,N,V,U,-1),t.executeAPICommand(E,A.method,A.args2)):(m(E,G,A,N,V,U,q),t.executeAPICommand(E,A.method,A.args))),E.emit("plotly_buttonclicked",{menu:G,button:A,active:G.active}))}),R.on("mouseover",function(){R.call($)}),R.on("mouseout",function(){R.call(P,G),J.call(k,G)})}),J.call(k,G),xt?(j.w=Math.max(ht.openWidth,ht.headerWidth),j.h=H.y-j.t):(j.w=H.x-j.l,j.h=Math.max(ht.openHeight,ht.headerHeight)),j.direction=G.direction,U&&(J.size()?v(E,N,V,U,G,j):c(U))}function v(E,N,V,U,G,C){var W=G.direction,J=W==="up"||W==="down",at=G._dims,et=G.active,it,dt,ht;if(J)for(dt=0,ht=0;ht<et;ht++)dt+=at.heights[ht]+e.gapButton;else for(it=0,ht=0;ht<et;ht++)it+=at.widths[ht]+e.gapButton;U.enable(C,it,dt),U.hbar&&U.hbar.attr("opacity","0").transition().attr("opacity","1"),U.vbar&&U.vbar.attr("opacity","0").transition().attr("opacity","1")}function c(E){var N=!!E.hbar,V=!!E.vbar;N&&E.hbar.transition().attr("opacity","0").each("end",function(){N=!1,V||E.disable()}),V&&E.vbar.transition().attr("opacity","0").each("end",function(){V=!1,N||E.disable()})}function d(E,N,V,U){E.call(_,N).call(w,N,V,U)}function _(E,N){var V=l.ensureSingle(E,"rect",e.itemRectClassName,function(U){U.attr({rx:e.rx,ry:e.ry,"shape-rendering":"crispEdges"})});V.call(n.stroke,N.bordercolor).call(n.fill,N.bgcolor).style("stroke-width",N.borderwidth+"px")}function w(E,N,V,U){var G=l.ensureSingle(E,"text",e.itemTextClassName,function(J){J.attr({"text-anchor":"start","data-notex":1})}),C=V.label,W=U._fullLayout._meta;W&&(C=l.templateString(C,W)),G.call(r.font,N.font).text(C).call(o.convertToTspans,U)}function k(E,N){var V=N.active;E.each(function(U,G){var C=i.select(this);G===V&&N.showactive&&C.select("rect."+e.itemRectClassName).call(n.fill,e.activeColor)})}function $(E){E.select("rect."+e.itemRectClassName).call(n.fill,e.hoverColor)}function P(E,N){E.select("rect."+e.itemRectClassName).call(n.fill,N.bgcolor)}function O(E,N){var V=N._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},U=r.tester.selectAll("g."+e.dropdownButtonClassName).data(l.filterVisible(N.buttons));U.enter().append("g").classed(e.dropdownButtonClassName,!0);var G=["up","down"].indexOf(N.direction)!==-1;U.each(function(it,dt){var ht=i.select(this);ht.call(d,N,it,E);var xt=ht.select("."+e.itemTextClassName),H=xt.node()&&r.bBox(xt.node()).width,j=Math.max(H+e.textPadX,e.minWidth),A=N.font.size*f,q=o.lineCount(xt),R=Math.max(A*q,e.minHeight)+e.textOffsetY;R=Math.ceil(R),j=Math.ceil(j),V.widths[dt]=j,V.heights[dt]=R,V.height1=Math.max(V.height1,R),V.width1=Math.max(V.width1,j),G?(V.totalWidth=Math.max(V.totalWidth,j),V.openWidth=V.totalWidth,V.totalHeight+=R+e.gapButton,V.openHeight+=R+e.gapButton):(V.totalWidth+=j+e.gapButton,V.openWidth+=j+e.gapButton,V.totalHeight=Math.max(V.totalHeight,R),V.openHeight=V.totalHeight)}),G?V.totalHeight-=e.gapButton:V.totalWidth-=e.gapButton,V.headerWidth=V.width1+e.arrowPadX,V.headerHeight=V.height1,N.type==="dropdown"&&(G?(V.width1+=e.arrowPadX,V.totalHeight=V.height1):V.totalWidth=V.width1,V.totalWidth+=e.arrowPadX),U.remove();var C=V.totalWidth+N.pad.l+N.pad.r,W=V.totalHeight+N.pad.t+N.pad.b,J=E._fullLayout._size;V.lx=J.l+J.w*N.x,V.ly=J.t+J.h*(1-N.y);var at="left";l.isRightAnchor(N)&&(V.lx-=C,at="right"),l.isCenterAnchor(N)&&(V.lx-=C/2,at="center");var et="top";l.isBottomAnchor(N)&&(V.ly-=W,et="bottom"),l.isMiddleAnchor(N)&&(V.ly-=W/2,et="middle"),V.totalWidth=Math.ceil(V.totalWidth),V.totalHeight=Math.ceil(V.totalHeight),V.lx=Math.round(V.lx),V.ly=Math.round(V.ly),t.autoMargin(E,T(N),{x:N.x,y:N.y,l:C*({right:1,center:.5}[at]||0),r:C*({left:1,center:.5}[at]||0),b:W*({top:1,middle:.5}[et]||0),t:W*({bottom:1,middle:.5}[et]||0)})}function T(E){return e.autoMarginIdRoot+E._index}function X(E,N,V,U){U=U||{};var G=E.select("."+e.itemRectClassName),C=E.select("."+e.itemTextClassName),W=N.borderwidth,J=V.index,at=N._dims;r.setTranslate(E,W+V.x,W+V.y);var et=["up","down"].indexOf(N.direction)!==-1,it=U.height||(et?at.heights[J]:at.height1);G.attr({x:0,y:0,width:U.width||(et?at.width1:at.widths[J]),height:it});var dt=N.font.size*f,ht=o.lineCount(C),xt=(ht-1)*dt/2;o.positionText(C,e.textOffsetX,it/2-xt+e.textOffsetY),et?V.y+=at.heights[J]+V.yPad:V.x+=at.widths[J]+V.xPad,V.index++}function I(E,N){E.attr(e.menuIndexAttrName,N||"-1").selectAll("g."+e.dropdownButtonClassName).remove()}}),Xf=Dt((F,D)=>{var i=eo();D.exports={moduleType:"component",name:i.name,layoutAttributes:Ul(),supplyLayoutDefaults:Zf(),draw:Gf()}}),ni=Dt((F,D)=>{D.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}}),Gl=Dt((F,D)=>{var i=ha(),t=Oi(),n=la().extendDeepAll,r=qa().overrideAll,l=Xr(),o=jn().templatedArray,s=ni(),f=o("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});D.exports=r(o("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:f,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:n(t({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:l.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:i({})},font:i({}),activebgcolor:{valType:"color",dflt:s.gripBgActiveColor},bgcolor:{valType:"color",dflt:s.railBgColor},bordercolor:{valType:"color",dflt:s.railBorderColor},borderwidth:{valType:"number",min:0,dflt:s.railBorderWidth},ticklen:{valType:"number",min:0,dflt:s.tickLength},tickcolor:{valType:"color",dflt:s.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:s.minorTickLength}}),"arraydraw","from-root")}),Wf=Dt((F,D)=>{var i=Ce(),t=Ya(),n=Gl(),r=ni(),l=r.name,o=n.steps;D.exports=function(e,p){t(e,p,{name:l,handleItemDefaults:s})};function s(e,p,u){function h(_,w){return i.coerce(e,p,n,_,w)}for(var b=t(e,p,{name:"steps",handleItemDefaults:f}),m=0,g=0;g<b.length;g++)b[g].visible&&m++;var y;if(m<2?y=p.visible=!1:y=h("visible"),!!y){p._stepCount=m;var v=p._visibleSteps=i.filterVisible(b),c=h("active");(b[c]||{}).visible||(p.active=v[0]._index),h("x"),h("y"),i.noneOrAll(e,p,["x","y"]),h("xanchor"),h("yanchor"),h("len"),h("lenmode"),h("pad.t"),h("pad.r"),h("pad.b"),h("pad.l"),i.coerceFont(h,"font",u.font);var d=h("currentvalue.visible");d&&(h("currentvalue.xanchor"),h("currentvalue.prefix"),h("currentvalue.suffix"),h("currentvalue.offset"),i.coerceFont(h,"currentvalue.font",p.font)),h("transition.duration"),h("transition.easing"),h("bgcolor"),h("activebgcolor"),h("bordercolor"),h("borderwidth"),h("ticklen"),h("tickwidth"),h("tickcolor"),h("minorticklen")}}function f(e,p){function u(m,g){return i.coerce(e,p,o,m,g)}var h;if(e.method!=="skip"&&!Array.isArray(e.args)?h=p.visible=!1:h=u("visible"),h){u("method"),u("args");var b=u("label","step-"+p._index);u("value",b),u("execute")}}}),Jf=Dt((F,D)=>{var i=_n(),t=ea(),n=bn(),r=Nn(),l=Ce(),o=l.strTranslate,s=ma(),f=jn().arrayEditor,e=ni(),p=Ta(),u=p.LINE_SPACING,h=p.FROM_TL,b=p.FROM_BR;D.exports=function(G){var C=G._context.staticPlot,W=G._fullLayout,J=g(W,G),at=W._infolayer.selectAll("g."+e.containerClassName).data(J.length>0?[0]:[]);at.enter().append("g").classed(e.containerClassName,!0).style("cursor",C?null:"ew-resize");function et(xt){xt._commandObserver&&(xt._commandObserver.remove(),delete xt._commandObserver),t.autoMargin(G,m(xt))}if(at.exit().each(function(){i.select(this).selectAll("g."+e.groupClassName).each(et)}).remove(),J.length!==0){var it=at.selectAll("g."+e.groupClassName).data(J,y);it.enter().append("g").classed(e.groupClassName,!0),it.exit().each(et).remove();for(var dt=0;dt<J.length;dt++){var ht=J[dt];v(G,ht)}it.each(function(xt){var H=i.select(this);X(xt),t.manageCommandObserver(G,xt,xt._visibleSteps,function(j){var A=H.data()[0];A.active!==j.index&&(A._dragging||P(G,H,A,j.index,!1,!0))}),c(G,i.select(this),xt)})}};function m(G){return e.autoMarginIdRoot+G._index}function g(G,C){for(var W=G[e.name],J=[],at=0;at<W.length;at++){var et=W[at];et.visible&&(et._gd=C,J.push(et))}return J}function y(G){return G._index}function v(G,C){var W=r.tester.selectAll("g."+e.labelGroupClass).data(C._visibleSteps);W.enter().append("g").classed(e.labelGroupClass,!0);var J=0,at=0;W.each(function(R){var z=i.select(this),M=w(z,{step:R},C),S=M.node();if(S){var Z=r.bBox(S);at=Math.max(at,Z.height),J=Math.max(J,Z.width)}}),W.remove();var et=C._dims={};et.inputAreaWidth=Math.max(e.railWidth,e.gripHeight);var it=G._fullLayout._size;et.lx=it.l+it.w*C.x,et.ly=it.t+it.h*(1-C.y),C.lenmode==="fraction"?et.outerLength=Math.round(it.w*C.len):et.outerLength=C.len,et.inputAreaStart=0,et.inputAreaLength=Math.round(et.outerLength-C.pad.l-C.pad.r);var dt=et.inputAreaLength-2*e.stepInset,ht=dt/(C._stepCount-1),xt=J+e.labelPadding;if(et.labelStride=Math.max(1,Math.ceil(xt/ht)),et.labelHeight=at,et.currentValueMaxWidth=0,et.currentValueHeight=0,et.currentValueTotalHeight=0,et.currentValueMaxLines=1,C.currentvalue.visible){var H=r.tester.append("g");W.each(function(R){var z=d(H,C,R.label),M=z.node()&&r.bBox(z.node())||{width:0,height:0},S=s.lineCount(z);et.currentValueMaxWidth=Math.max(et.currentValueMaxWidth,Math.ceil(M.width)),et.currentValueHeight=Math.max(et.currentValueHeight,Math.ceil(M.height)),et.currentValueMaxLines=Math.max(et.currentValueMaxLines,S)}),et.currentValueTotalHeight=et.currentValueHeight+C.currentvalue.offset,H.remove()}et.height=et.currentValueTotalHeight+e.tickOffset+C.ticklen+e.labelOffset+et.labelHeight+C.pad.t+C.pad.b;var j="left";l.isRightAnchor(C)&&(et.lx-=et.outerLength,j="right"),l.isCenterAnchor(C)&&(et.lx-=et.outerLength/2,j="center");var A="top";l.isBottomAnchor(C)&&(et.ly-=et.height,A="bottom"),l.isMiddleAnchor(C)&&(et.ly-=et.height/2,A="middle"),et.outerLength=Math.ceil(et.outerLength),et.height=Math.ceil(et.height),et.lx=Math.round(et.lx),et.ly=Math.round(et.ly);var q={y:C.y,b:et.height*b[A],t:et.height*h[A]};C.lenmode==="fraction"?(q.l=0,q.xl=C.x-C.len*h[j],q.r=0,q.xr=C.x+C.len*b[j]):(q.x=C.x,q.l=et.outerLength*h[j],q.r=et.outerLength*b[j]),t.autoMargin(G,m(C),q)}function c(G,C,W){(W.steps[W.active]||{}).visible||(W.active=W._visibleSteps[0]._index),C.call(d,W).call(U,W).call(k,W).call(T,W).call(V,G,W).call(_,G,W);var J=W._dims;r.setTranslate(C,J.lx+W.pad.l,J.ly+W.pad.t),C.call(I,W,!1),C.call(d,W)}function d(G,C,W){if(C.currentvalue.visible){var J=C._dims,at,et;switch(C.currentvalue.xanchor){case"right":at=J.inputAreaLength-e.currentValueInset-J.currentValueMaxWidth,et="left";break;case"center":at=J.inputAreaLength*.5,et="middle";break;default:at=e.currentValueInset,et="left"}var it=l.ensureSingle(G,"text",e.labelClass,function(A){A.attr({"text-anchor":et,"data-notex":1})}),dt=C.currentvalue.prefix?C.currentvalue.prefix:"";if(typeof W=="string")dt+=W;else{var ht=C.steps[C.active].label,xt=C._gd._fullLayout._meta;xt&&(ht=l.templateString(ht,xt)),dt+=ht}C.currentvalue.suffix&&(dt+=C.currentvalue.suffix),it.call(r.font,C.currentvalue.font).text(dt).call(s.convertToTspans,C._gd);var H=s.lineCount(it),j=(J.currentValueMaxLines+1-H)*C.currentvalue.font.size*u;return s.positionText(it,at,j),it}}function _(G,C,W){var J=l.ensureSingle(G,"rect",e.gripRectClass,function(at){at.call(O,C,G,W).style("pointer-events","all")});J.attr({width:e.gripWidth,height:e.gripHeight,rx:e.gripRadius,ry:e.gripRadius}).call(n.stroke,W.bordercolor).call(n.fill,W.bgcolor).style("stroke-width",W.borderwidth+"px")}function w(G,C,W){var J=l.ensureSingle(G,"text",e.labelClass,function(it){it.attr({"text-anchor":"middle","data-notex":1})}),at=C.step.label,et=W._gd._fullLayout._meta;return et&&(at=l.templateString(at,et)),J.call(r.font,W.font).text(at).call(s.convertToTspans,W._gd),J}function k(G,C){var W=l.ensureSingle(G,"g",e.labelsClass),J=C._dims,at=W.selectAll("g."+e.labelGroupClass).data(J.labelSteps);at.enter().append("g").classed(e.labelGroupClass,!0),at.exit().remove(),at.each(function(et){var it=i.select(this);it.call(w,et,C),r.setTranslate(it,E(C,et.fraction),e.tickOffset+C.ticklen+C.font.size*u+e.labelOffset+J.currentValueTotalHeight)})}function $(G,C,W,J,at){var et=Math.round(J*(W._stepCount-1)),it=W._visibleSteps[et]._index;it!==W.active&&P(G,C,W,it,!0,at)}function P(G,C,W,J,at,et){var it=W.active;W.active=J,f(G.layout,e.name,W).applyUpdate("active",J);var dt=W.steps[W.active];C.call(I,W,et),C.call(d,W),G.emit("plotly_sliderchange",{slider:W,step:W.steps[W.active],interaction:at,previousActive:it}),dt&&dt.method&&at&&(C._nextMethod?(C._nextMethod.step=dt,C._nextMethod.doCallback=at,C._nextMethod.doTransition=et):(C._nextMethod={step:dt,doCallback:at,doTransition:et},C._nextMethodRaf=window.requestAnimationFrame(function(){var ht=C._nextMethod.step;ht.method&&(ht.execute&&t.executeAPICommand(G,ht.method,ht.args),C._nextMethod=null,C._nextMethodRaf=null)})))}function O(G,C,W){if(C._context.staticPlot)return;var J=W.node(),at=i.select(C);function et(){return W.data()[0]}function it(){var dt=et();C.emit("plotly_sliderstart",{slider:dt});var ht=W.select("."+e.gripRectClass);i.event.stopPropagation(),i.event.preventDefault(),ht.call(n.fill,dt.activebgcolor);var xt=N(dt,i.mouse(J)[0]);$(C,W,dt,xt,!0),dt._dragging=!0;function H(){var A=et(),q=N(A,i.mouse(J)[0]);$(C,W,A,q,!1)}at.on("mousemove",H),at.on("touchmove",H);function j(){var A=et();A._dragging=!1,ht.call(n.fill,A.bgcolor),at.on("mouseup",null),at.on("mousemove",null),at.on("touchend",null),at.on("touchmove",null),C.emit("plotly_sliderend",{slider:A,step:A.steps[A.active]})}at.on("mouseup",j),at.on("touchend",j)}G.on("mousedown",it),G.on("touchstart",it)}function T(G,C){var W=G.selectAll("rect."+e.tickRectClass).data(C._visibleSteps),J=C._dims;W.enter().append("rect").classed(e.tickRectClass,!0),W.exit().remove(),W.attr({width:C.tickwidth+"px","shape-rendering":"crispEdges"}),W.each(function(at,et){var it=et%J.labelStride===0,dt=i.select(this);dt.attr({height:it?C.ticklen:C.minorticklen}).call(n.fill,C.tickcolor),r.setTranslate(dt,E(C,et/(C._stepCount-1))-.5*C.tickwidth,(it?e.tickOffset:e.minorTickOffset)+J.currentValueTotalHeight)})}function X(G){var C=G._dims;C.labelSteps=[];for(var W=G._stepCount,J=0;J<W;J+=C.labelStride)C.labelSteps.push({fraction:J/(W-1),step:G._visibleSteps[J]})}function I(G,C,W){for(var J=G.select("rect."+e.gripRectClass),at=0,et=0;et<C._stepCount;et++)if(C._visibleSteps[et]._index===C.active){at=et;break}var it=E(C,at/(C._stepCount-1));if(!C._invokingCommand){var dt=J;W&&C.transition.duration>0&&(dt=dt.transition().duration(C.transition.duration).ease(C.transition.easing)),dt.attr("transform",o(it-e.gripWidth*.5,C._dims.currentValueTotalHeight))}}function E(G,C){var W=G._dims;return W.inputAreaStart+e.stepInset+(W.inputAreaLength-2*e.stepInset)*Math.min(1,Math.max(0,C))}function N(G,C){var W=G._dims;return Math.min(1,Math.max(0,(C-e.stepInset-W.inputAreaStart)/(W.inputAreaLength-2*e.stepInset-2*W.inputAreaStart)))}function V(G,C,W){var J=W._dims,at=l.ensureSingle(G,"rect",e.railTouchRectClass,function(et){et.call(O,C,G,W).style("pointer-events","all")});at.attr({width:J.inputAreaLength,height:Math.max(J.inputAreaWidth,e.tickOffset+W.ticklen+J.labelHeight)}).call(n.fill,W.bgcolor).attr("opacity",0),r.setTranslate(at,0,J.currentValueTotalHeight)}function U(G,C){var W=C._dims,J=W.inputAreaLength-e.railInset*2,at=l.ensureSingle(G,"rect",e.railRectClass);at.attr({width:J,height:e.railWidth,rx:e.railRadius,ry:e.railRadius,"shape-rendering":"crispEdges"}).call(n.stroke,C.bordercolor).call(n.fill,C.bgcolor).style("stroke-width",C.borderwidth+"px"),r.setTranslate(at,e.railInset,(W.inputAreaWidth-e.railWidth)*.5+W.currentValueTotalHeight)}}),qf=Dt((F,D)=>{var i=ni();D.exports={moduleType:"component",name:i.name,layoutAttributes:Gl(),supplyLayoutDefaults:Wf(),draw:Jf()}}),no=Dt((F,D)=>{var i=Ja();D.exports={bgcolor:{valType:"color",dflt:i.background,editType:"plot"},bordercolor:{valType:"color",dflt:i.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}}),Xl=Dt((F,D)=>{D.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}}),ao=Dt((F,D)=>{D.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}}),$f=Dt(F=>{var D=ua(),i=ma(),t=ao(),n=Ta().LINE_SPACING,r=t.name;function l(o){var s=o&&o[r];return s&&s.visible}F.isVisible=l,F.makeData=function(o){for(var s=D.list({_fullLayout:o},"x",!0),f=o.margin,e=[],p=0;p<s.length;p++){var u=s[p];if(l(u)){e.push(u);var h=u[r];h._id=r+u._id,h._height=(o.height-f.b-f.t)*h.thickness,h._offsetShift=Math.floor(h.borderwidth/2)}}o._rangeSliderData=e},F.autoMarginOpts=function(o,s){var f=o._fullLayout,e=s[r],p=s._id.charAt(0),u=0,h=0;if(s.side==="bottom"&&(u=s._depth,s.title.text!==f._dfltTitle[p])){h=1.5*s.title.font.size+10+e._offsetShift;var b=(s.title.text.match(i.BR_TAG_ALL)||[]).length;h+=b*s.title.font.size*n}return{x:0,y:s._counterDomainMin,l:0,r:0,t:0,b:e._height+u+Math.max(f.margin.b,h),pad:t.extraPad+e._offsetShift*2}}}),Qf=Dt((F,D)=>{var i=Ce(),t=jn(),n=ua(),r=no(),l=Xl();D.exports=function(o,s,f){var e=o[f],p=s[f];if(!(e.rangeslider||s._requestRangeslider[p._id]))return;i.isPlainObject(e.rangeslider)||(e.rangeslider={});var u=e.rangeslider,h=t.newContainer(p,"rangeslider");function b(T,X){return i.coerce(u,h,r,T,X)}var m,g;function y(T,X){return i.coerce(m,g,l,T,X)}var v=b("visible");if(v){b("bgcolor",s.plot_bgcolor),b("bordercolor"),b("borderwidth"),b("thickness"),b("autorange",!p.isValidRange(u.range)),b("range");var c=s._subplots;if(c)for(var d=c.cartesian.filter(function(T){return T.substr(0,T.indexOf("y"))===n.name2id(f)}).map(function(T){return T.substr(T.indexOf("y"),T.length)}),_=i.simpleMap(d,n.id2name),w=0;w<_.length;w++){var k=_[w];m=u[k]||{},g=t.newContainer(h,k,"yaxis");var $=s[k],P;m.range&&$.isValidRange(m.range)&&(P="fixed");var O=y("rangemode",P);O!=="match"&&y("range",$.range.slice())}h._input=u}}}),Kf=Dt((F,D)=>{var i=ua().list,t=$r().getAutoRange,n=ao();D.exports=function(r){for(var l=i(r,"x",!0),o=0;o<l.length;o++){var s=l[o],f=s[n.name];f&&f.visible&&f.autorange&&(f._input.autorange=!0,f._input.range=f.range=t(r,s))}}}),td=Dt((F,D)=>{var i=_n(),t=un(),n=ea(),r=Ce(),l=r.strTranslate,o=Nn(),s=bn(),f=qr(),e=Qi(),p=ua(),u=Za(),h=fr(),b=ao();D.exports=function(O){for(var T=O._fullLayout,X=T._rangeSliderData,I=0;I<X.length;I++){var E=X[I][b.name];E._clipId=E._id+"-"+T._uid}function N(U){return U._name}var V=T._infolayer.selectAll("g."+b.containerClassName).data(X,N);V.exit().each(function(U){var G=U[b.name];T._topdefs.select("#"+G._clipId).remove()}).remove(),X.length!==0&&(V.enter().append("g").classed(b.containerClassName,!0).attr("pointer-events","all"),V.each(function(U){var G=i.select(this),C=U[b.name],W=T[p.id2name(U.anchor)],J=C[p.id2name(U.anchor)];if(C.range){var at=r.simpleMap(C.range,U.r2l),et=r.simpleMap(U.range,U.r2l),it;et[0]<et[1]?it=[Math.min(at[0],et[0]),Math.max(at[1],et[1])]:it=[Math.max(at[0],et[0]),Math.min(at[1],et[1])],C.range=C._input.range=r.simpleMap(it,U.l2r)}U.cleanRange("rangeslider.range");var dt=T._size,ht=U.domain;C._width=dt.w*(ht[1]-ht[0]);var xt=Math.round(dt.l+dt.w*ht[0]),H=Math.round(dt.t+dt.h*(1-U._counterDomainMin)+(U.side==="bottom"?U._depth:0)+C._offsetShift+b.extraPad);G.attr("transform",l(xt,H)),C._rl=r.simpleMap(C.range,U.r2l);var j=C._rl[0],A=C._rl[1],q=A-j;if(C.p2d=function(_t){return _t/C._width*q+j},C.d2p=function(_t){return(_t-j)/q*C._width},U.rangebreaks){var R=U.locateBreaks(j,A);if(R.length){var z,M,S=0;for(z=0;z<R.length;z++)M=R[z],S+=M.max-M.min;var Z=C._width/(A-j-S),Y=[-Z*j];for(z=0;z<R.length;z++)M=R[z],Y.push(Y[Y.length-1]-Z*(M.max-M.min));for(C.d2p=function(_t){for(var At=Y[0],Rt=0;Rt<R.length;Rt++){var Xt=R[Rt];if(_t>=Xt.max)At=Y[Rt+1];else if(_t<Xt.min)break}return At+Z*_t},z=0;z<R.length;z++)M=R[z],M.pmin=C.d2p(M.min),M.pmax=C.d2p(M.max);C.p2d=function(_t){for(var At=Y[0],Rt=0;Rt<R.length;Rt++){var Xt=R[Rt];if(_t>=Xt.pmax)At=Y[Rt+1];else if(_t<Xt.pmin)break}return(_t-At)/Z}}}if(J.rangemode!=="match"){var rt=W.r2l(J.range[0]),st=W.r2l(J.range[1]),ut=st-rt;C.d2pOppAxis=function(_t){return(_t-rt)/ut*C._height}}G.call(c,O,U,C).call(d,O,U,C).call(_,O,U,C).call(k,O,U,C,J).call($,O,U,C).call(P,O,U,C),g(G,O,U,C),v(G,O,U,C,W,J),U.side==="bottom"&&f.draw(O,U._id+"title",{propContainer:U,propName:U._name+".title",placeholder:T._dfltTitle.x,attributes:{x:U._offset+U._length/2,y:H+C._height+C._offsetShift+10+1.5*U.title.font.size,"text-anchor":"middle"}})}))};function m(O){return typeof O.clientX=="number"?O.clientX:O.touches&&O.touches.length>0?O.touches[0].clientX:0}function g(O,T,X,I){if(T._context.staticPlot)return;var E=O.select("rect."+b.slideBoxClassName).node(),N=O.select("rect."+b.grabAreaMinClassName).node(),V=O.select("rect."+b.grabAreaMaxClassName).node();function U(){var G=i.event,C=G.target,W=m(G),J=W-O.node().getBoundingClientRect().left,at=I.d2p(X._rl[0]),et=I.d2p(X._rl[1]),it=u.coverSlip();this.addEventListener("touchmove",dt),this.addEventListener("touchend",ht),it.addEventListener("mousemove",dt),it.addEventListener("mouseup",ht);function dt(xt){var H=m(xt),j=+H-W,A,q,R;switch(C){case E:if(R="ew-resize",at+j>X._length||et+j<0)return;A=at+j,q=et+j;break;case N:if(R="col-resize",at+j>X._length)return;A=at+j,q=et;break;case V:if(R="col-resize",et+j<0)return;A=at,q=et+j;break;default:R="ew-resize",A=J,q=J+j;break}if(q<A){var z=q;q=A,A=z}I._pixelMin=A,I._pixelMax=q,h(i.select(it),R),y(O,T,X,I)}function ht(){it.removeEventListener("mousemove",dt),it.removeEventListener("mouseup",ht),this.removeEventListener("touchmove",dt),this.removeEventListener("touchend",ht),r.removeElement(it)}}O.on("mousedown",U),O.on("touchstart",U)}function y(O,T,X,I){function E(U){return X.l2r(r.constrain(U,I._rl[0],I._rl[1]))}var N=E(I.p2d(I._pixelMin)),V=E(I.p2d(I._pixelMax));window.requestAnimationFrame(function(){t.call("_guiRelayout",T,X._name+".range",[N,V])})}function v(O,T,X,I,E,N){var V=b.handleWidth/2;function U(xt){return r.constrain(xt,0,I._width)}function G(xt){return r.constrain(xt,0,I._height)}function C(xt){return r.constrain(xt,-V,I._width+V)}var W=U(I.d2p(X._rl[0])),J=U(I.d2p(X._rl[1]));if(O.select("rect."+b.slideBoxClassName).attr("x",W).attr("width",J-W),O.select("rect."+b.maskMinClassName).attr("width",W),O.select("rect."+b.maskMaxClassName).attr("x",J).attr("width",I._width-J),N.rangemode!=="match"){var at=I._height-G(I.d2pOppAxis(E._rl[1])),et=I._height-G(I.d2pOppAxis(E._rl[0]));O.select("rect."+b.maskMinOppAxisClassName).attr("x",W).attr("height",at).attr("width",J-W),O.select("rect."+b.maskMaxOppAxisClassName).attr("x",W).attr("y",et).attr("height",I._height-et).attr("width",J-W),O.select("rect."+b.slideBoxClassName).attr("y",at).attr("height",et-at)}var it=.5,dt=Math.round(C(W-V))-it,ht=Math.round(C(J-V))+it;O.select("g."+b.grabberMinClassName).attr("transform",l(dt,it)),O.select("g."+b.grabberMaxClassName).attr("transform",l(ht,it))}function c(O,T,X,I){var E=r.ensureSingle(O,"rect",b.bgClassName,function(G){G.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),N=I.borderwidth%2===0?I.borderwidth:I.borderwidth-1,V=-I._offsetShift,U=o.crispRound(T,I.borderwidth);E.attr({width:I._width+N,height:I._height+N,transform:l(V,V),"stroke-width":U}).call(s.stroke,I.bordercolor).call(s.fill,I.bgcolor)}function d(O,T,X,I){var E=T._fullLayout,N=r.ensureSingleById(E._topdefs,"clipPath",I._clipId,function(V){V.append("rect").attr({x:0,y:0})});N.select("rect").attr({width:I._width,height:I._height})}function _(O,T,X,I){var E=T.calcdata,N=O.selectAll("g."+b.rangePlotClassName).data(X._subplotsWith,r.identity);N.enter().append("g").attr("class",function(U){return b.rangePlotClassName+" "+U}).call(o.setClipUrl,I._clipId,T),N.order(),N.exit().remove();var V;N.each(function(U,G){var C=i.select(this),W=G===0,J=p.getFromId(T,U,"y"),at=J._name,et=I[at],it={data:[],layout:{xaxis:{type:X.type,domain:[0,1],range:I.range.slice(),calendar:X.calendar},width:I._width,height:I._height,margin:{t:0,b:0,l:0,r:0}},_context:T._context};X.rangebreaks&&(it.layout.xaxis.rangebreaks=X.rangebreaks),it.layout[at]={type:J.type,domain:[0,1],range:et.rangemode!=="match"?et.range.slice():J.range.slice(),calendar:J.calendar},J.rangebreaks&&(it.layout[at].rangebreaks=J.rangebreaks),n.supplyDefaults(it);var dt=it._fullLayout.xaxis,ht=it._fullLayout[at];dt.clearCalc(),dt.setScale(),ht.clearCalc(),ht.setScale();var xt={id:U,plotgroup:C,xaxis:dt,yaxis:ht,isRangePlot:!0};W?V=xt:(xt.mainplot="xy",xt.mainplotinfo=V),e.rangePlot(T,xt,w(E,U))})}function w(O,T){for(var X=[],I=0;I<O.length;I++){var E=O[I],N=E[0].trace;N.xaxis+N.yaxis===T&&X.push(E)}return X}function k(O,T,X,I,E){var N=r.ensureSingle(O,"rect",b.maskMinClassName,function(C){C.attr({x:0,y:0,"shape-rendering":"crispEdges"})});N.attr("height",I._height).call(s.fill,b.maskColor);var V=r.ensureSingle(O,"rect",b.maskMaxClassName,function(C){C.attr({y:0,"shape-rendering":"crispEdges"})});if(V.attr("height",I._height).call(s.fill,b.maskColor),E.rangemode!=="match"){var U=r.ensureSingle(O,"rect",b.maskMinOppAxisClassName,function(C){C.attr({y:0,"shape-rendering":"crispEdges"})});U.attr("width",I._width).call(s.fill,b.maskOppAxisColor);var G=r.ensureSingle(O,"rect",b.maskMaxOppAxisClassName,function(C){C.attr({y:0,"shape-rendering":"crispEdges"})});G.attr("width",I._width).style("border-top",b.maskOppBorder).call(s.fill,b.maskOppAxisColor)}}function $(O,T,X,I){if(!T._context.staticPlot){var E=r.ensureSingle(O,"rect",b.slideBoxClassName,function(N){N.attr({y:0,cursor:b.slideBoxCursor,"shape-rendering":"crispEdges"})});E.attr({height:I._height,fill:b.slideBoxFill})}}function P(O,T,X,I){var E=r.ensureSingle(O,"g",b.grabberMinClassName),N=r.ensureSingle(O,"g",b.grabberMaxClassName),V={x:0,width:b.handleWidth,rx:b.handleRadius,fill:s.background,stroke:s.defaultLine,"stroke-width":b.handleStrokeWidth,"shape-rendering":"crispEdges"},U={y:Math.round(I._height/4),height:Math.round(I._height/2)},G=r.ensureSingle(E,"rect",b.handleMinClassName,function(et){et.attr(V)});G.attr(U);var C=r.ensureSingle(N,"rect",b.handleMaxClassName,function(et){et.attr(V)});C.attr(U);var W={width:b.grabAreaWidth,x:0,y:0,fill:b.grabAreaFill,cursor:T._context.staticPlot?void 0:b.grabAreaCursor},J=r.ensureSingle(E,"rect",b.grabAreaMinClassName,function(et){et.attr(W)});J.attr("height",I._height);var at=r.ensureSingle(N,"rect",b.grabAreaMaxClassName,function(et){et.attr(W)});at.attr("height",I._height)}}),ed=Dt((F,D)=>{var i=Ce(),t=no(),n=Xl(),r=$f();D.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:i.extendFlat({},t,{yaxis:n})}}},layoutAttributes:no(),handleDefaults:Qf(),calcAutorange:Kf(),draw:td(),isVisible:r.isVisible,makeData:r.makeData,autoMarginOpts:r.autoMarginOpts}}),ro=Dt((F,D)=>{var i=ha(),t=Ja(),n=jn().templatedArray,r=n("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});D.exports={visible:{valType:"boolean",editType:"plot"},buttons:r,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:i({editType:"plot"}),bgcolor:{valType:"color",dflt:t.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:t.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}}),Wl=Dt((F,D)=>{D.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}}),nd=Dt((F,D)=>{var i=Ce(),t=bn(),n=jn(),r=Ya(),l=ro(),o=Wl();D.exports=function(e,p,u,h,b){var m=e.rangeselector||{},g=n.newContainer(p,"rangeselector");function y(w,k){return i.coerce(m,g,l,w,k)}var v=r(m,g,{name:"buttons",handleItemDefaults:s,calendar:b}),c=y("visible",v.length>0);if(c){var d=f(p,u,h);y("x",d[0]),y("y",d[1]),i.noneOrAll(e,p,["x","y"]),y("xanchor"),y("yanchor"),i.coerceFont(y,"font",u.font);var _=y("bgcolor");y("activecolor",t.contrast(_,o.lightAmount,o.darkAmount)),y("bordercolor"),y("borderwidth")}};function s(e,p,u,h){var b=h.calendar;function m(v,c){return i.coerce(e,p,l.buttons,v,c)}var g=m("visible");if(g){var y=m("step");y!=="all"&&(b&&b!=="gregorian"&&(y==="month"||y==="year")?p.stepmode="backward":m("stepmode"),m("count")),m("label")}}function f(e,p,u){for(var h=u.filter(function(y){return p[y].anchor===e._id}),b=0,m=0;m<h.length;m++){var g=p[h[m]].domain;g&&(b=Math.max(g[1],b))}return[e.domain[0],b+o.yPad]}}),ad=Dt((F,D)=>{var i=Po(),t=Ce().titleCase;D.exports=function(r,l){var o=r._name,s={};if(l.step==="all")s[o+".autorange"]=!0;else{var f=n(r,l);s[o+".range[0]"]=f[0],s[o+".range[1]"]=f[1]}return s};function n(r,l){var o=r.range,s=new Date(r.r2l(o[1])),f=l.step,e=i["utc"+t(f)],p=l.count,u;switch(l.stepmode){case"backward":u=r.l2r(+e.offset(s,-p));break;case"todate":var h=e.offset(s,-p);u=r.l2r(+e.ceil(h));break}var b=o[1];return[u,b]}}),rd=Dt((F,D)=>{var i=_n(),t=un(),n=ea(),r=bn(),l=Nn(),o=Ce(),s=o.strTranslate,f=ma(),e=ua(),p=Ta(),u=p.LINE_SPACING,h=p.FROM_TL,b=p.FROM_BR,m=Wl(),g=ad();D.exports=function(P){var O=P._fullLayout,T=O._infolayer.selectAll(".rangeselector").data(y(P),v);T.enter().append("g").classed("rangeselector",!0),T.exit().remove(),T.style({cursor:"pointer","pointer-events":"all"}),T.each(function(X){var I=i.select(this),E=X,N=E.rangeselector,V=I.selectAll("g.button").data(o.filterVisible(N.buttons));V.enter().append("g").classed("button",!0),V.exit().remove(),V.each(function(U){var G=i.select(this),C=g(E,U);U._isActive=c(E,U,C),G.call(d,N,U),G.call(w,N,U,P),G.on("click",function(){P._dragged||t.call("_guiRelayout",P,C)}),G.on("mouseover",function(){U._isHovered=!0,G.call(d,N,U)}),G.on("mouseout",function(){U._isHovered=!1,G.call(d,N,U)})}),$(P,V,N,E._name,I)})};function y(P){for(var O=e.list(P,"x",!0),T=[],X=0;X<O.length;X++){var I=O[X];I.rangeselector&&I.rangeselector.visible&&T.push(I)}return T}function v(P){return P._id}function c(P,O,T){if(O.step==="all")return P.autorange===!0;var X=Object.keys(T);return P.range[0]===T[X[0]]&&P.range[1]===T[X[1]]}function d(P,O,T){var X=o.ensureSingle(P,"rect","selector-rect",function(I){I.attr("shape-rendering","crispEdges")});X.attr({rx:m.rx,ry:m.ry}),X.call(r.stroke,O.bordercolor).call(r.fill,_(O,T)).style("stroke-width",O.borderwidth+"px")}function _(P,O){return O._isActive||O._isHovered?P.activecolor:P.bgcolor}function w(P,O,T,X){function I(N){f.convertToTspans(N,X)}var E=o.ensureSingle(P,"text","selector-text",function(N){N.attr("text-anchor","middle")});E.call(l.font,O.font).text(k(T,X._fullLayout._meta)).call(I)}function k(P,O){return P.label?O?o.templateString(P.label,O):P.label:P.step==="all"?"all":P.count+P.step.charAt(0)}function $(P,O,T,X,I){var E=0,N=0,V=T.borderwidth;O.each(function(){var at=i.select(this),et=at.select(".selector-text"),it=T.font.size*u,dt=Math.max(it*f.lineCount(et),16)+3;N=Math.max(N,dt)}),O.each(function(){var at=i.select(this),et=at.select(".selector-rect"),it=at.select(".selector-text"),dt=it.node()&&l.bBox(it.node()).width,ht=T.font.size*u,xt=f.lineCount(it),H=Math.max(dt+10,m.minButtonWidth);at.attr("transform",s(V+E,V)),et.attr({x:0,y:0,width:H,height:N}),f.positionText(it,H/2,N/2-(xt-1)*ht/2+3),E+=H+5});var U=P._fullLayout._size,G=U.l+U.w*T.x,C=U.t+U.h*(1-T.y),W="left";o.isRightAnchor(T)&&(G-=E,W="right"),o.isCenterAnchor(T)&&(G-=E/2,W="center");var J="top";o.isBottomAnchor(T)&&(C-=N,J="bottom"),o.isMiddleAnchor(T)&&(C-=N/2,J="middle"),E=Math.ceil(E),N=Math.ceil(N),G=Math.round(G),C=Math.round(C),n.autoMargin(P,X+"-range-selector",{x:T.x,y:T.y,l:E*h[W],r:E*b[W],b:N*b[J],t:N*h[J]}),I.attr("transform",s(G,C))}}),id=Dt((F,D)=>{D.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:ro()}}},layoutAttributes:ro(),handleDefaults:nd(),draw:rd()}}),io=Dt(F=>{var D=la().extendFlat;F.attributes=function(i,t){i=i||{},t=t||{};var n={valType:"info_array",editType:i.editType,items:[{valType:"number",min:0,max:1,editType:i.editType},{valType:"number",min:0,max:1,editType:i.editType}],dflt:[0,1]};i.name&&i.name+"",i.trace,t.description&&""+t.description;var r={x:D({},n,{}),y:D({},n,{}),editType:i.editType};return i.noGridCell||(r.row={valType:"integer",min:0,dflt:0,editType:i.editType},r.column={valType:"integer",min:0,dflt:0,editType:i.editType}),r},F.defaults=function(i,t,n,r){var l=r&&r.x||[0,1],o=r&&r.y||[0,1],s=t.grid;if(s){var f=n("domain.column");f!==void 0&&(f<s.columns?l=s._domains.x[f]:delete i.domain.column);var e=n("domain.row");e!==void 0&&(e<s.rows?o=s._domains.y[e]:delete i.domain.row)}var p=n("domain.x",l),u=n("domain.y",o);p[0]<p[1]||(i.domain.x=l.slice()),u[0]<u[1]||(i.domain.y=o.slice())}}),od=Dt((F,D)=>{var i=Ce(),t=Ir().counter,n=io().attributes,r=pa().idRegex,l=jn(),o={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[t("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[r.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[r.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:n({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function s(h,b,m){var g=b[m+"axes"],y=Object.keys((h._splomAxes||{})[m]||{});if(Array.isArray(g))return g;if(y.length)return y}function f(h,b){var m=h.grid||{},g=s(b,m,"x"),y=s(b,m,"y");if(!h.grid&&!g&&!y)return;var v=Array.isArray(m.subplots)&&Array.isArray(m.subplots[0]),c=Array.isArray(g),d=Array.isArray(y),_=c&&g!==m.xaxes&&d&&y!==m.yaxes,w,k;v?(w=m.subplots.length,k=m.subplots[0].length):(d&&(w=y.length),c&&(k=g.length));var $=l.newContainer(b,"grid");function P(C,W){return i.coerce(m,$,o,C,W)}var O=P("rows",w),T=P("columns",k);if(!(O*T>1)){delete b.grid;return}if(!v&&!c&&!d){var X=P("pattern")==="independent";X&&(v=!0)}$._hasSubplotGrid=v;var I=P("roworder"),E=I==="top to bottom",N=v?.2:.1,V=v?.3:.1,U,G;_&&b._splomGridDflt&&(U=b._splomGridDflt.xside,G=b._splomGridDflt.yside),$._domains={x:e("x",P,N,U,T),y:e("y",P,V,G,O,E)}}function e(h,b,m,g,y,v){var c=b(h+"gap",m),d=b("domain."+h);b(h+"side",g);for(var _=new Array(y),w=d[0],k=(d[1]-w)/(y-c),$=k*(1-c),P=0;P<y;P++){var O=w+k*P;_[v?y-1-P:P]=[O,O+$]}return _}function p(h,b){var m=b.grid;if(!(!m||!m._domains)){var g=h.grid||{},y=b._subplots,v=m._hasSubplotGrid,c=m.rows,d=m.columns,_=m.pattern==="independent",w,k,$,P,O,T,X,I=m._axisMap={};if(v){var E=g.subplots||[];T=m.subplots=new Array(c);var N=1;for(w=0;w<c;w++){var V=T[w]=new Array(d),U=E[w]||[];for(k=0;k<d;k++)if(_?(O=N===1?"xy":"x"+N+"y"+N,N++):O=U[k],V[k]="",y.cartesian.indexOf(O)!==-1){if(X=O.indexOf("y"),$=O.slice(0,X),P=O.slice(X),I[$]!==void 0&&I[$]!==k||I[P]!==void 0&&I[P]!==w)continue;V[k]=O,I[$]=k,I[P]=w}}}else{var G=s(b,g,"x"),C=s(b,g,"y");m.xaxes=u(G,y.xaxis,d,I,"x"),m.yaxes=u(C,y.yaxis,c,I,"y")}var W=m._anchors={},J=m.roworder==="top to bottom";for(var at in I){var et=at.charAt(0),it=m[et+"side"],dt,ht,xt;if(it.length<8)W[at]="free";else if(et==="x"){if(it.charAt(0)==="t"===J?(dt=0,ht=1,xt=c):(dt=c-1,ht=-1,xt=-1),v){var H=I[at];for(w=dt;w!==xt;w+=ht)if(O=T[w][H],!!O&&(X=O.indexOf("y"),O.slice(0,X)===at)){W[at]=O.slice(X);break}}else for(w=dt;w!==xt;w+=ht)if(P=m.yaxes[w],y.cartesian.indexOf(at+P)!==-1){W[at]=P;break}}else if(it.charAt(0)==="l"?(dt=0,ht=1,xt=d):(dt=d-1,ht=-1,xt=-1),v){var j=I[at];for(w=dt;w!==xt;w+=ht)if(O=T[j][w],!!O&&(X=O.indexOf("y"),O.slice(X)===at)){W[at]=O.slice(0,X);break}}else for(w=dt;w!==xt;w+=ht)if($=m.xaxes[w],y.cartesian.indexOf($+at)!==-1){W[at]=$;break}}}}function u(h,b,m,g,y){var v=new Array(m),c;function d(_,w){b.indexOf(w)!==-1&&g[w]===void 0?(v[_]=w,g[w]=_):v[_]=""}if(Array.isArray(h))for(c=0;c<m;c++)d(c,h[c]);else for(d(0,y),c=1;c<m;c++)d(c,y+(c+1));return v}D.exports={moduleType:"component",name:"grid",schema:{layout:{grid:o}},layoutAttributes:o,sizeDefaults:f,contentDefaults:p}}),Jl=Dt((F,D)=>{D.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc"}}),ld=Dt((F,D)=>{var i=wn(),t=un(),n=Ce(),r=jn(),l=Jl();D.exports=function(o,s,f,e){var p="error_"+e.axis,u=r.newContainer(s,p),h=o[p]||{};function b(_,w){return n.coerce(h,u,l,_,w)}var m=h.array!==void 0||h.value!==void 0||h.type==="sqrt",g=b("visible",m);if(g!==!1){var y=b("type","array"in h?"data":"percent"),v=!0;y!=="sqrt"&&(v=b("symmetric",!((y==="data"?"arrayminus":"valueminus")in h))),y==="data"?(b("array"),b("traceref"),v||(b("arrayminus"),b("tracerefminus"))):(y==="percent"||y==="constant")&&(b("value"),v||b("valueminus"));var c="copy_"+e.inherit+"style";if(e.inherit){var d=s["error_"+e.inherit];(d||{}).visible&&b(c,!(h.color||i(h.thickness)||i(h.width)))}(!e.inherit||!u[c])&&(b("color",f),b("thickness"),b("width",t.traceIs(s,"gl3d")?0:4))}}}),ql=Dt((F,D)=>{D.exports=function(t){var n=t.type,r=t.symmetric;if(n==="data"){var l=t.array||[];if(r)return function(e,p){var u=+l[p];return[u,u]};var o=t.arrayminus||[];return function(e,p){var u=+l[p],h=+o[p];return!isNaN(u)||!isNaN(h)?[h||0,u||0]:[NaN,NaN]}}else{var s=i(n,t.value),f=i(n,t.valueminus);return r||t.valueminus===void 0?function(e){var p=s(e);return[p,p]}:function(e){return[f(e),s(e)]}}};function i(t,n){if(t==="percent")return function(r){return Math.abs(r*n/100)};if(t==="constant")return function(){return Math.abs(n)};if(t==="sqrt")return function(r){return Math.sqrt(Math.abs(r))}}}),sd=Dt((F,D)=>{var i=wn(),t=un(),n=Yn(),r=Ce(),l=ql();D.exports=function(s){for(var f=s.calcdata,e=0;e<f.length;e++){var p=f[e],u=p[0].trace;if(u.visible===!0&&t.traceIs(u,"errorBarsOK")){var h=n.getFromId(s,u.xaxis),b=n.getFromId(s,u.yaxis);o(p,u,h,"x"),o(p,u,b,"y")}}};function o(s,f,e,p){var u=f["error_"+p]||{},h=u.visible&&["linear","log"].indexOf(e.type)!==-1,b=[];if(h){for(var m=l(u),g=0;g<s.length;g++){var y=s[g],v=y.i;if(v===void 0)v=g;else if(v===null)continue;var c=y[p];if(i(e.c2l(c))){var d=m(c,v);if(i(d[0])&&i(d[1])){var _=y[p+"s"]=c-d[0],w=y[p+"h"]=c+d[1];b.push(_,w)}}}var k=e._id,$=f._extremes[k],P=n.findExtremes(e,b,r.extendFlat({tozero:$.opts.tozero},{padded:!0}));$.min=$.min.concat(P.min),$.max=$.max.concat(P.max)}}}),ud=Dt((F,D)=>{var i=_n(),t=wn(),n=Nn(),r=Pa();D.exports=function(o,s,f,e){var p,u=f.xaxis,h=f.yaxis,b=e&&e.duration>0,m=o._context.staticPlot;s.each(function(g){var y=g[0].trace,v=y.error_x||{},c=y.error_y||{},d;y.ids&&(d=function($){return $.id});var _=r.hasMarkers(y)&&y.marker.maxdisplayed>0;!c.visible&&!v.visible&&(g=[]);var w=i.select(this).selectAll("g.errorbar").data(g,d);if(w.exit().remove(),!!g.length){v.visible||w.selectAll("path.xerror").remove(),c.visible||w.selectAll("path.yerror").remove(),w.style("opacity",1);var k=w.enter().append("g").classed("errorbar",!0);b&&k.style("opacity",0).transition().duration(e.duration).style("opacity",1),n.setClipUrl(w,f.layerClipId,o),w.each(function($){var P=i.select(this),O=l($,u,h);if(!(_&&!$.vis)){var T,X=P.select("path.yerror");if(c.visible&&t(O.x)&&t(O.yh)&&t(O.ys)){var I=c.width;T="M"+(O.x-I)+","+O.yh+"h"+2*I+"m-"+I+",0V"+O.ys,O.noYS||(T+="m-"+I+",0h"+2*I),p=!X.size(),p?X=P.append("path").style("vector-effect",m?"none":"non-scaling-stroke").classed("yerror",!0):b&&(X=X.transition().duration(e.duration).ease(e.easing)),X.attr("d",T)}else X.remove();var E=P.select("path.xerror");if(v.visible&&t(O.y)&&t(O.xh)&&t(O.xs)){var N=(v.copy_ystyle?c:v).width;T="M"+O.xh+","+(O.y-N)+"v"+2*N+"m0,-"+N+"H"+O.xs,O.noXS||(T+="m0,-"+N+"v"+2*N),p=!E.size(),p?E=P.append("path").style("vector-effect",m?"none":"non-scaling-stroke").classed("xerror",!0):b&&(E=E.transition().duration(e.duration).ease(e.easing)),E.attr("d",T)}else E.remove()}})}})};function l(o,s,f){var e={x:s.c2p(o.x),y:f.c2p(o.y)};return o.yh!==void 0&&(e.yh=f.c2p(o.yh),e.ys=f.c2p(o.ys),t(e.ys)||(e.noYS=!0,e.ys=f.c2p(o.ys,!0))),o.xh!==void 0&&(e.xh=s.c2p(o.xh),e.xs=s.c2p(o.xs),t(e.xs)||(e.noXS=!0,e.xs=s.c2p(o.xs,!0))),e}}),cd=Dt((F,D)=>{var i=_n(),t=bn();D.exports=function(n){n.each(function(r){var l=r[0].trace,o=l.error_y||{},s=l.error_x||{},f=i.select(this);f.selectAll("path.yerror").style("stroke-width",o.thickness+"px").call(t.stroke,o.color),s.copy_ystyle&&(s=o),f.selectAll("path.xerror").style("stroke-width",s.thickness+"px").call(t.stroke,s.color)})}}),fd=Dt((F,D)=>{var i=Ce(),t=qa().overrideAll,n=Jl(),r={error_x:i.extendFlat({},n),error_y:i.extendFlat({},n)};delete r.error_x.copy_zstyle,delete r.error_y.copy_zstyle,delete r.error_y.copy_ystyle;var l={error_x:i.extendFlat({},n),error_y:i.extendFlat({},n),error_z:i.extendFlat({},n)};delete l.error_x.copy_ystyle,delete l.error_y.copy_ystyle,delete l.error_z.copy_ystyle,delete l.error_z.copy_zstyle,D.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:r,bar:r,histogram:r,scatter3d:t(l,"calc","nested"),scattergl:t(r,"calc","nested")}},supplyDefaults:ld(),calc:sd(),makeComputeError:ql(),plot:ud(),style:cd(),hoverInfo:o};function o(s,f,e){(f.error_y||{}).visible&&(e.yerr=s.yh-s.y,f.error_y.symmetric||(e.yerrneg=s.y-s.ys)),(f.error_x||{}).visible&&(e.xerr=s.xh-s.x,f.error_x.symmetric||(e.xerrneg=s.x-s.xs))}}),dd=Dt((F,D)=>{D.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}}),hd=Dt((F,D)=>{var i=_n(),t=Na(),n=ea(),r=un(),l=Yn(),o=Za(),s=Ce(),f=s.strTranslate,e=la().extendFlat,p=fr(),u=Nn(),h=bn(),b=qr(),m=ma(),g=Ea().flipScale,y=Hl(),v=jl(),c=Va(),d=Ta(),_=d.LINE_SPACING,w=d.FROM_TL,k=d.FROM_BR,$=dd().cn;function P(N){var V=N._fullLayout,U=V._infolayer.selectAll("g."+$.colorbar).data(O(N),function(G){return G._id});U.enter().append("g").attr("class",function(G){return G._id}).classed($.colorbar,!0),U.each(function(G){var C=i.select(this);s.ensureSingle(C,"rect",$.cbbg),s.ensureSingle(C,"g",$.cbfills),s.ensureSingle(C,"g",$.cblines),s.ensureSingle(C,"g",$.cbaxis,function(J){J.classed($.crisp,!0)}),s.ensureSingle(C,"g",$.cbtitleunshift,function(J){J.append("g").classed($.cbtitle,!0)}),s.ensureSingle(C,"rect",$.cboutline);var W=T(C,G,N);W&&W.then&&(N._promises||[]).push(W),N._context.edits.colorbarPosition&&X(C,G,N)}),U.exit().each(function(G){n.autoMargin(N,G._id)}).remove(),U.order()}function O(N){var V=N._fullLayout,U=N.calcdata,G=[],C,W,J,at;function et(M){return e(M,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function it(){typeof at.calc=="function"?at.calc(N,J,C):(C._fillgradient=W.reversescale?g(W.colorscale):W.colorscale,C._zrange=[W[at.min],W[at.max]])}for(var dt=0;dt<U.length;dt++){var ht=U[dt];if(J=ht[0].trace,!!J._module){var xt=J._module.colorbar;if(J.visible===!0&&xt)for(var H=Array.isArray(xt),j=H?xt:[xt],A=0;A<j.length;A++){at=j[A];var q=at.container;W=q?J[q]:J,W&&W.showscale&&(C=et(W.colorbar),C._id="cb"+J.uid+(H&&q?"-"+q:""),C._traceIndex=J.index,C._propPrefix=(q?q+".":"")+"colorbar.",C._meta=J._meta,it(),G.push(C))}}}for(var R in V._colorAxes)if(W=V[R],W.showscale){var z=V._colorAxes[R];C=et(W.colorbar),C._id="cb"+R,C._propPrefix=R+".colorbar.",C._meta=V._meta,at={min:"cmin",max:"cmax"},z[0]!=="heatmap"&&(J=z[1],at.calc=J._module.colorbar.calc),it(),G.push(C)}return G}function T(N,V,U){var G=V.orientation==="v",C=V.len,W=V.lenmode,J=V.thickness,at=V.thicknessmode,et=V.outlinewidth,it=V.borderwidth,dt=V.bgcolor,ht=V.xanchor,xt=V.yanchor,H=V.xpad,j=V.ypad,A=V.x,q=G?V.y:1-V.y,R=V.yref==="paper",z=V.xref==="paper",M=U._fullLayout,S=M._size,Z=V._fillcolor,Y=V._line,rt=V.title,st=rt.side,ut=V._zrange||i.extent((typeof Z=="function"?Z:Y.color).domain()),_t=typeof Y.color=="function"?Y.color:function(){return Y.color},At=typeof Z=="function"?Z:function(){return Z},Rt=V._levels,Xt=I(U,V,ut),Bt=Xt.fill,Ht=Xt.line,pt=Math.round(J*(at==="fraction"?G?S.w:S.h:1)),bt=pt/(G?S.w:S.h),ot=Math.round(C*(W==="fraction"?G?S.h:S.w:1)),Lt=ot/(G?S.h:S.w),Nt=z?S.w:U._fullLayout.width,Vt=R?S.h:U._fullLayout.height,ae=Math.round(G?A*Nt+H:q*Vt+j),Jt={center:.5,right:1}[ht]||0,re={top:1,middle:.5}[xt]||0,oe=G?A-Jt*bt:q-re*bt,le=G?q-re*Lt:A-Jt*Lt,ve=Math.round(G?Vt*(1-le):Nt*le);V._lenFrac=Lt,V._thickFrac=bt,V._uFrac=oe,V._vFrac=le;var Wt=V._axis=E(U,V,ut);Wt.position=bt+(G?A+H/S.w:q+j/S.h);var ge=["top","bottom"].indexOf(st)!==-1;if(G&&ge&&(Wt.title.side=st,Wt.titlex=A+H/S.w,Wt.titley=le+(rt.side==="top"?Lt-j/S.h:j/S.h)),!G&&!ge&&(Wt.title.side=st,Wt.titley=q+j/S.h,Wt.titlex=le+H/S.w),Y.color&&V.tickmode==="auto"){Wt.tickmode="linear",Wt.tick0=Rt.start;var Te=Rt.size,ce=s.constrain(ot/50,4,15)+1,we=(ut[1]-ut[0])/((V.nticks||ce)*Te);if(we>1){var yt=Math.pow(10,Math.floor(Math.log(we)/Math.LN10));Te*=yt*s.roundUp(we/yt,[2,5,10]),(Math.abs(Rt.start)/Rt.size+1e-6)%1<2e-6&&(Wt.tick0=0)}Wt.dtick=Te}Wt.domain=G?[le+j/S.h,le+Lt-j/S.h]:[le+H/S.w,le+Lt-H/S.w],Wt.setScale(),N.attr("transform",f(Math.round(S.l),Math.round(S.t)));var kt=N.select("."+$.cbtitleunshift).attr("transform",f(-Math.round(S.l),-Math.round(S.t))),Tt=Wt.ticklabelposition,K=Wt.title.font.size,ft=N.select("."+$.cbaxis),mt,gt=0,It=0;function Mt(ee,se){var pe={propContainer:Wt,propName:V._propPrefix+"title",traceIndex:V._traceIndex,_meta:V._meta,placeholder:M._dfltTitle.colorbar,containerGroup:N.select("."+$.cbtitle)},De=ee.charAt(0)==="h"?ee.substr(1):"h"+ee;N.selectAll("."+De+",."+De+"-math-group").remove(),b.draw(U,ee,e(pe,se||{}))}function qt(){if(G&&ge||!G&&!ge){var ee,se;st==="top"&&(ee=H+S.l+Nt*A,se=j+S.t+Vt*(1-le-Lt)+3+K*.75),st==="bottom"&&(ee=H+S.l+Nt*A,se=j+S.t+Vt*(1-le)-3-K*.25),st==="right"&&(se=j+S.t+Vt*q+3+K*.75,ee=H+S.l+Nt*le),Mt(Wt._id+"title",{attributes:{x:ee,y:se,"text-anchor":G?"start":"middle"}})}}function $t(){if(G&&!ge||!G&&ge){var ee=Wt.position||0,se=Wt._offset+Wt._length/2,pe,De;if(st==="right")De=se,pe=S.l+Nt*ee+10+K*(Wt.showticklabels?1:.5);else if(pe=se,st==="bottom"&&(De=S.t+Vt*ee+10+(Tt.indexOf("inside")===-1?Wt.tickfont.size:0)+(Wt.ticks!=="intside"&&V.ticklen||0)),st==="top"){var Ne=rt.text.split("<br>").length;De=S.t+Vt*ee+10-pt-_*K*Ne}Mt((G?"h":"v")+Wt._id+"title",{avoid:{selection:i.select(U).selectAll("g."+Wt._id+"tick"),side:st,offsetTop:G?0:S.t,offsetLeft:G?S.l:0,maxShift:G?M.width:M.height},attributes:{x:pe,y:De,"text-anchor":"middle"},transform:{rotate:G?-90:0,offset:0}})}}function ie(){if(!G&&!ge||G&&ge){var ee=N.select("."+$.cbtitle),se=ee.select("text"),pe=[-et/2,et/2],De=ee.select(".h"+Wt._id+"title-math-group").node(),Ne=15.6;se.node()&&(Ne=parseInt(se.node().style.fontSize,10)*_);var Ge;if(De?(Ge=u.bBox(De),It=Ge.width,gt=Ge.height,gt>Ne&&(pe[1]-=(gt-Ne)/2)):se.node()&&!se.classed($.jsPlaceholder)&&(Ge=u.bBox(se.node()),It=Ge.width,gt=Ge.height),G){if(gt){if(gt+=5,st==="top")Wt.domain[1]-=gt/S.h,pe[1]*=-1;else{Wt.domain[0]+=gt/S.h;var Pe=m.lineCount(se);pe[1]+=(1-Pe)*Ne}ee.attr("transform",f(pe[0],pe[1])),Wt.setScale()}}else It&&(st==="right"&&(Wt.domain[0]+=(It+K/2)/S.w),ee.attr("transform",f(pe[0],pe[1])),Wt.setScale())}N.selectAll("."+$.cbfills+",."+$.cblines).attr("transform",G?f(0,Math.round(S.h*(1-Wt.domain[1]))):f(Math.round(S.w*Wt.domain[0]),0)),ft.attr("transform",G?f(0,Math.round(-S.t)):f(Math.round(-S.l),0));var ze=N.select("."+$.cbfills).selectAll("rect."+$.cbfill).attr("style","").data(Bt);ze.enter().append("rect").classed($.cbfill,!0).attr("style",""),ze.exit().remove();var Le=ut.map(Wt.c2p).map(Math.round).sort(function(Fe,ke){return Fe-ke});ze.each(function(Fe,ke){var je=[ke===0?ut[0]:(Bt[ke]+Bt[ke-1])/2,ke===Bt.length-1?ut[1]:(Bt[ke]+Bt[ke+1])/2].map(Wt.c2p).map(Math.round);G&&(je[1]=s.constrain(je[1]+(je[1]>je[0])?1:-1,Le[0],Le[1]));var Ke=i.select(this).attr(G?"x":"y",ae).attr(G?"y":"x",i.min(je)).attr(G?"width":"height",Math.max(pt,2)).attr(G?"height":"width",Math.max(i.max(je)-i.min(je),2));if(V._fillgradient)u.gradient(Ke,U,V._id,G?"vertical":"horizontalreversed",V._fillgradient,"fill");else{var ln=At(Fe).replace("e-","");Ke.attr("fill",t(ln).toHexString())}});var Se=N.select("."+$.cblines).selectAll("path."+$.cbline).data(Y.color&&Y.width?Ht:[]);Se.enter().append("path").classed($.cbline,!0),Se.exit().remove(),Se.each(function(Fe){var ke=ae,je=Math.round(Wt.c2p(Fe))+Y.width/2%1;i.select(this).attr("d","M"+(G?ke+","+je:je+","+ke)+(G?"h":"v")+pt).call(u.lineGroupStyle,Y.width,_t(Fe),Y.dash)}),ft.selectAll("g."+Wt._id+"tick,path").remove();var Ye=ae+pt+(et||0)/2-(V.ticks==="outside"?1:0),Be=l.calcTicks(Wt),Ze=l.getTickSigns(Wt)[2];return l.drawTicks(U,Wt,{vals:Wt.ticks==="inside"?l.clipEnds(Wt,Be):Be,layer:ft,path:l.makeTickPath(Wt,Ye,Ze),transFn:l.makeTransTickFn(Wt)}),l.drawLabels(U,Wt,{vals:Be,layer:ft,transFn:l.makeTransTickLabelFn(Wt),labelFns:l.makeLabelFns(Wt,Ye)})}function zt(){var ee,se=pt+et/2;Tt.indexOf("inside")===-1&&(ee=u.bBox(ft.node()),se+=G?ee.width:ee.height),mt=kt.select("text");var pe=0,De=G&&st==="top",Ne=!G&&st==="right",Ge=0;if(mt.node()&&!mt.classed($.jsPlaceholder)){var Pe,ze=kt.select(".h"+Wt._id+"title-math-group").node();ze&&(G&&ge||!G&&!ge)?(ee=u.bBox(ze),pe=ee.width,Pe=ee.height):(ee=u.bBox(kt.node()),pe=ee.right-S.l-(G?ae:ve),Pe=ee.bottom-S.t-(G?ve:ae),!G&&st==="top"&&(se+=ee.height,Ge=ee.height)),Ne&&(mt.attr("transform",f(pe/2+K/2,0)),pe*=2),se=Math.max(se,G?pe:Pe)}var Le=(G?H:j)*2+se+it+et/2,Se=0;!G&&rt.text&&xt==="bottom"&&q<=0&&(Se=Le/2,Le+=Se,Ge+=Se),M._hColorbarMoveTitle=Se,M._hColorbarMoveCBTitle=Ge;var Ye=it+et,Be=(G?ae:ve)-Ye/2-(G?H:0),Ze=(G?ve:ae)-(G?ot:j+Ge-Se);N.select("."+$.cbbg).attr("x",Be).attr("y",Ze).attr(G?"width":"height",Math.max(Le-Se,2)).attr(G?"height":"width",Math.max(ot+Ye,2)).call(h.fill,dt).call(h.stroke,V.bordercolor).style("stroke-width",it);var Fe=Ne?Math.max(pe-10,0):0;N.selectAll("."+$.cboutline).attr("x",(G?ae:ve+H)+Fe).attr("y",(G?ve+j-ot:ae)+(De?gt:0)).attr(G?"width":"height",Math.max(pt,2)).attr(G?"height":"width",Math.max(ot-(G?2*j+gt:2*H+Fe),2)).call(h.stroke,V.outlinecolor).style({fill:"none","stroke-width":et});var ke=G?Jt*Le:0,je=G?0:(1-re)*Le-Ge;if(ke=z?S.l-ke:-ke,je=R?S.t-je:-je,N.attr("transform",f(ke,je)),!G&&(it||t(dt).getAlpha()&&!t.equals(M.paper_bgcolor,dt))){var Ke=ft.selectAll("text"),ln=Ke[0].length,Ve=N.select("."+$.cbbg).node(),nn=u.bBox(Ve),an=u.getTranslate(N),gn=2;Ke.each(function(Gt,Ft){var Ut=0,Qt=ln-1;if(Ft===Ut||Ft===Qt){var ne=u.bBox(this),ye=u.getTranslate(this),_e;if(Ft===Qt){var Me=ne.right+ye.x,Oe=nn.right+an.x+ve-it-gn+A;_e=Oe-Me,_e>0&&(_e=0)}else if(Ft===Ut){var Ie=ne.left+ye.x,Je=nn.left+an.x+ve+it+gn;_e=Je-Ie,_e<0&&(_e=0)}_e&&(ln<3?this.setAttribute("transform","translate("+_e+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Ae={},sn=w[ht],tt=k[ht],lt=w[xt],Yt=k[xt],jt=Le-pt;G?(W==="pixels"?(Ae.y=q,Ae.t=ot*lt,Ae.b=ot*Yt):(Ae.t=Ae.b=0,Ae.yt=q+C*lt,Ae.yb=q-C*Yt),at==="pixels"?(Ae.x=A,Ae.l=Le*sn,Ae.r=Le*tt):(Ae.l=jt*sn,Ae.r=jt*tt,Ae.xl=A-J*sn,Ae.xr=A+J*tt)):(W==="pixels"?(Ae.x=A,Ae.l=ot*sn,Ae.r=ot*tt):(Ae.l=Ae.r=0,Ae.xl=A+C*sn,Ae.xr=A-C*tt),at==="pixels"?(Ae.y=1-q,Ae.t=Le*lt,Ae.b=Le*Yt):(Ae.t=jt*lt,Ae.b=jt*Yt,Ae.yt=q-J*lt,Ae.yb=q+J*Yt));var Ot=V.y<.5?"b":"t",Pt=V.x<.5?"l":"r";U._fullLayout._reservedMargin[V._id]={};var Et={r:M.width-Be-ke,l:Be+Ae.r,b:M.height-Ze-je,t:Ze+Ae.b};z&&R?n.autoMargin(U,V._id,Ae):z?U._fullLayout._reservedMargin[V._id][Ot]=Et[Ot]:R||G?U._fullLayout._reservedMargin[V._id][Pt]=Et[Pt]:U._fullLayout._reservedMargin[V._id][Ot]=Et[Ot]}return s.syncOrAsync([n.previousPromises,qt,ie,$t,n.previousPromises,zt],U)}function X(N,V,U){var G=V.orientation==="v",C=U._fullLayout,W=C._size,J,at,et;o.init({element:N.node(),gd:U,prepFn:function(){J=N.attr("transform"),p(N)},moveFn:function(it,dt){N.attr("transform",J+f(it,dt)),at=o.align((G?V._uFrac:V._vFrac)+it/W.w,G?V._thickFrac:V._lenFrac,0,1,V.xanchor),et=o.align((G?V._vFrac:1-V._uFrac)-dt/W.h,G?V._lenFrac:V._thickFrac,0,1,V.yanchor);var ht=o.getCursor(at,et,V.xanchor,V.yanchor);p(N,ht)},doneFn:function(){if(p(N),at!==void 0&&et!==void 0){var it={};it[V._propPrefix+"x"]=at,it[V._propPrefix+"y"]=et,V._traceIndex!==void 0?r.call("_guiRestyle",U,it,V._traceIndex):r.call("_guiRelayout",U,it)}}})}function I(N,V,U){var G=V._levels,C=[],W=[],J,at,et=G.end+G.size/100,it=G.size,dt=1.001*U[0]-.001*U[1],ht=1.001*U[1]-.001*U[0];for(at=0;at<1e5&&(J=G.start+at*it,!(it>0?J>=et:J<=et));at++)J>dt&&J<ht&&C.push(J);if(V._fillgradient)W=[0];else if(typeof V._fillcolor=="function"){var xt=V._filllevels;if(xt)for(et=xt.end+xt.size/100,it=xt.size,at=0;at<1e5&&(J=xt.start+at*it,!(it>0?J>=et:J<=et));at++)J>U[0]&&J<U[1]&&W.push(J);else W=C.map(function(H){return H-G.size/2}),W.push(W[W.length-1]+G.size)}else V._fillcolor&&typeof V._fillcolor=="string"&&(W=[0]);return G.size<0&&(C.reverse(),W.reverse()),{line:C,fill:W}}function E(N,V,U){var G=N._fullLayout,C=V.orientation==="v",W={type:"linear",range:U,tickmode:V.tickmode,nticks:V.nticks,tick0:V.tick0,dtick:V.dtick,tickvals:V.tickvals,ticktext:V.ticktext,ticks:V.ticks,ticklen:V.ticklen,tickwidth:V.tickwidth,tickcolor:V.tickcolor,showticklabels:V.showticklabels,labelalias:V.labelalias,ticklabelposition:V.ticklabelposition,ticklabeloverflow:V.ticklabeloverflow,ticklabelstep:V.ticklabelstep,tickfont:V.tickfont,tickangle:V.tickangle,tickformat:V.tickformat,exponentformat:V.exponentformat,minexponent:V.minexponent,separatethousands:V.separatethousands,showexponent:V.showexponent,showtickprefix:V.showtickprefix,tickprefix:V.tickprefix,showticksuffix:V.showticksuffix,ticksuffix:V.ticksuffix,title:V.title,showline:!0,anchor:"free",side:C?"right":"bottom",position:1},J=C?"y":"x",at={type:"linear",_id:J+V._id},et={letter:J,font:G.font,noAutotickangles:J==="y",noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:G.calendar};function it(dt,ht){return s.coerce(W,at,c,dt,ht)}return y(W,at,it,et,G),v(W,at,it,et),at}D.exports={draw:P}}),pd=Dt((F,D)=>{D.exports={moduleType:"component",name:"colorbar",attributes:Fi(),supplyDefaults:nl(),draw:hd().draw,hasColorbar:Jo()}}),vd=Dt((F,D)=>{D.exports={moduleType:"component",name:"legend",layoutAttributes:sl(),supplyLayoutDefaults:ul(),draw:dl(),style:fl()}}),gd=Dt((F,D)=>{D.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}}),yd=Dt((F,D)=>{D.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}}),$l=Dt((F,D)=>{var i=un(),t=Ce(),n=t.extendFlat,r=t.extendDeep;function l(s){var f;switch(s){case"themes__thumb":f={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":f={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:f={}}return f}function o(s){var f=["xaxis","yaxis","zaxis"];return f.indexOf(s.slice(0,5))>-1}D.exports=function(s,f){var e,p=s.data,u=s.layout,h=r([],p),b=r({},u,l(f.tileClass)),m=s._context||{};if(f.width&&(b.width=f.width),f.height&&(b.height=f.height),f.tileClass==="thumbnail"||f.tileClass==="themes__thumb"){b.annotations=[];var g=Object.keys(b);for(e=0;e<g.length;e++)o(g[e])&&(b[g[e]].title={text:""});for(e=0;e<h.length;e++){var y=h[e];y.showscale=!1,y.marker&&(y.marker.showscale=!1),i.traceIs(y,"pie-like")&&(y.textposition="none")}}if(Array.isArray(f.annotations))for(e=0;e<f.annotations.length;e++)b.annotations.push(f.annotations[e]);var v=Object.keys(b).filter(function(k){return k.match(/^scene\d*$/)});if(v.length){var c={};for(f.tileClass==="thumbnail"&&(c={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),e=0;e<v.length;e++){var d=b[v[e]];d.xaxis||(d.xaxis={}),d.yaxis||(d.yaxis={}),d.zaxis||(d.zaxis={}),n(d.xaxis,c),n(d.yaxis,c),n(d.zaxis,c),d._scene=null}}var _=document.createElement("div");f.tileClass&&(_.className=f.tileClass);var w={gd:_,td:_,layout:b,data:h,config:{staticPlot:f.staticPlot===void 0?!0:f.staticPlot,plotGlPixelRatio:f.plotGlPixelRatio===void 0?2:f.plotGlPixelRatio,displaylogo:f.displaylogo||!1,showLink:f.showLink||!1,showTips:f.showTips||!1,mapboxAccessToken:m.mapboxAccessToken}};return f.setBackground!=="transparent"&&(w.config.setBackground=f.setBackground||"opaque"),w.gd.defaultLayout=l(f.tileClass),w}}),md=Dt((F,D)=>{var i=Di().EventEmitter,t=un(),n=Ce(),r=kr(),l=$l(),o=qi(),s=$i();function f(e,p){var u=new i,h=l(e,{format:"png"}),b=h.gd;b.style.position="absolute",b.style.left="-5000px",document.body.appendChild(b);function m(){var y=r.getDelay(b._fullLayout);setTimeout(function(){var v=o(b),c=document.createElement("canvas");c.id=n.randstr(),u=s({format:p.format,width:b._fullLayout.width,height:b._fullLayout.height,canvas:c,emitter:u,svg:v}),u.clean=function(){b&&document.body.removeChild(b)}},y)}var g=r.getRedrawFunc(b);return t.call("_doPlot",b,h.data,h.layout,h.config).then(g).then(m).catch(function(y){u.emit("error",y)}),u}D.exports=f}),xd=Dt((F,D)=>{var i=kr(),t={getDelay:i.getDelay,getRedrawFunc:i.getRedrawFunc,clone:$l(),toSVG:qi(),svgToImg:$i(),toImage:md(),downloadImage:Ol()};D.exports=t}),bd=Dt(F=>{F.version=_i().version,su(),oc();var D=un(),i=F.register=D.register,t=$c(),n=Object.keys(t);for(l=0;l<n.length;l++)r=n[l],r.charAt(0)!=="_"&&(F[r]=t[r]),i({moduleType:"apiMethod",name:r,fn:t[r]});var r,l;i(Tf()),i([Cf(),Rf(),Br(),Bf(),Yf(),Xf(),qf(),ed(),id(),od(),fd(),al(),pd(),vd(),Ka(),bl()]),i([gd(),yd()]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(i(window.PlotlyLocales),delete window.PlotlyLocales),F.Icons=Vi();var o=Ka(),s=ea();F.Plots={resize:s.resize,graphJson:s.graphJson,sendDataToCloud:s.sendDataToCloud},F.Fx={hover:o.hover,unhover:o.unhover,loneHover:o.loneHover,loneUnhover:o.loneUnhover},F.Snapshot=xd(),F.PlotSchema=Rr()}),_d=Dt((F,D)=>{D.exports=bd()}),oo=Dt((F,D)=>{D.exports={TEXTPAD:3,eventDataKeys:["value","label"]}}),ai=Dt((F,D)=>{var i=Tr(),t=Ii().axisHoverFormat,n=ar().hovertemplateAttrs,r=ar().texttemplateAttrs,l=Jr(),o=ha(),s=oo(),f=$a().pattern,e=la().extendFlat,p=o({editType:"calc",arrayOk:!0,colorEditType:"style"}),u=i.marker,h=u.line,b=e({},h.width,{dflt:0}),m=e({width:b,editType:"calc"},l("marker.line")),g=e({line:m,editType:"calc"},l("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:f,cornerradius:{valType:"any",editType:"calc"}});D.exports={x:i.x,x0:i.x0,dx:i.dx,y:i.y,y0:i.y0,dy:i.dy,xperiod:i.xperiod,yperiod:i.yperiod,xperiod0:i.xperiod0,yperiod0:i.yperiod0,xperiodalignment:i.xperiodalignment,yperiodalignment:i.yperiodalignment,xhoverformat:t("x"),yhoverformat:t("y"),text:i.text,texttemplate:r({editType:"plot"},{keys:s.eventDataKeys}),hovertext:i.hovertext,hovertemplate:n({},{keys:s.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:e({},p,{}),insidetextfont:e({},p,{}),outsidetextfont:e({},p,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:e({},i.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:g,offsetgroup:i.offsetgroup,alignmentgroup:i.alignmentgroup,selected:{marker:{opacity:i.selected.marker.opacity,color:i.selected.marker.color,editType:"style"},textfont:i.selected.textfont,editType:"style"},unselected:{marker:{opacity:i.unselected.marker.opacity,color:i.unselected.marker.color,editType:"style"},textfont:i.unselected.textfont,editType:"style"},zorder:i.zorder}}),Ql=Dt((F,D)=>{D.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},barcornerradius:{valType:"any",editType:"calc"}}}),wd=Dt((F,D)=>{var i=bn(),t=Ea().hasColorscale,n=Nr(),r=Ce().coercePattern;D.exports=function(l,o,s,f,e){var p=s("marker.color",f),u=t(l,"marker");u&&n(l,o,e,s,{prefix:"marker.",cLetter:"c"}),s("marker.line.color",i.defaultLine),t(l,"marker.line")&&n(l,o,e,s,{prefix:"marker.line.",cLetter:"c"}),s("marker.line.width"),s("marker.opacity"),r(s,"marker.pattern",p,u),s("selected.marker.color"),s("unselected.marker.color")}}),ri=Dt((F,D)=>{var i=wn(),t=Ce(),n=bn(),r=un(),l=Cl(),o=Dl(),s=wd(),f=Pl(),e=ai(),p=t.coerceFont;function u(g,y,v,c){function d(P,O){return t.coerce(g,y,e,P,O)}var _=l(g,y,c,d);if(!_){y.visible=!1;return}o(g,y,c,d),d("xhoverformat"),d("yhoverformat"),d("zorder"),d("orientation",y.x&&!y.y?"h":"v"),d("base"),d("offset"),d("width"),d("text"),d("hovertext"),d("hovertemplate");var w=d("textposition");m(g,y,c,d,w,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),s(g,y,d,v,c);var k=(y.marker.line||{}).color,$=r.getComponentMethod("errorbars","supplyDefaults");$(g,y,k||n.defaultLine,{axis:"y"}),$(g,y,k||n.defaultLine,{axis:"x",inherit:"y"}),t.coerceSelectionMarkerOpacity(y,d)}function h(g,y){var v,c;function d(k,$){return t.coerce(c._input,c,e,k,$)}for(var _=0;_<g.length;_++)if(c=g[_],c.type==="bar"){v=c._input;var w=d("marker.cornerradius",y.barcornerradius);c.marker&&(c.marker.cornerradius=b(w)),f(v,c,y,d,y.barmode)}}function b(g){if(i(g)){if(g=+g,g>=0)return g}else if(typeof g=="string"&&(g=g.trim(),g.slice(-1)==="%"&&i(g.slice(0,-1))&&(g=+g.slice(0,-1),g>=0)))return g+"%"}function m(g,y,v,c,d,_){_=_||{};var w=_.moduleHasSelected!==!1,k=_.moduleHasUnselected!==!1,$=_.moduleHasConstrain!==!1,P=_.moduleHasCliponaxis!==!1,O=_.moduleHasTextangle!==!1,T=_.moduleHasInsideanchor!==!1,X=!!_.hasPathbar,I=Array.isArray(d)||d==="auto",E=I||d==="inside",N=I||d==="outside";if(E||N){var V=p(c,"textfont",v.font),U=t.extendFlat({},V),G=g.textfont&&g.textfont.color,C=!G;if(C&&delete U.color,p(c,"insidetextfont",U),X){var W=t.extendFlat({},V);C&&delete W.color,p(c,"pathbar.textfont",W)}N&&p(c,"outsidetextfont",V),w&&c("selected.textfont.color"),k&&c("unselected.textfont.color"),$&&c("constraintext"),P&&c("cliponaxis"),O&&c("textangle"),c("texttemplate")}E&&T&&c("insidetextanchor")}D.exports={supplyDefaults:u,crossTraceDefaults:h,handleText:m,validateCornerradius:b}}),Md=Dt((F,D)=>{var i=un(),t=Yn(),n=Ce(),r=Ql(),l=ri().validateCornerradius;D.exports=function(o,s,f){function e(w,k){return n.coerce(o,s,r,w,k)}for(var p=!1,u=!1,h=!1,b={},m=e("barmode"),g=m==="group",y=0;y<f.length;y++){var v=f[y];if(i.traceIs(v,"bar")&&v.visible)p=!0;else continue;var c=v.xaxis+v.yaxis;if(g?(b[c]&&(h=!0),b[c]=!0):(c+=v._input.offsetgroup,b.length>0&&!b[c]&&(h=!0),b[c]=!0),v.visible&&v.type==="histogram"){var d=t.getFromId({_fullLayout:s},v[v.orientation==="v"?"xaxis":"yaxis"]);d.type!=="category"&&(u=!0)}}if(!p){delete s.barmode;return}m!=="overlay"&&e("barnorm"),e("bargap",u&&!h?0:.2),e("bargroupgap");var _=e("barcornerradius");s.barcornerradius=l(_)}}),Kl=Dt((F,D)=>{var i=Ce();D.exports=function(t,n){for(var r=0;r<t.length;r++)t[r].i=r;i.mergeArray(n.text,t,"tx"),i.mergeArray(n.hovertext,t,"htx");var l=n.marker;if(l){i.mergeArray(l.opacity,t,"mo",!0),i.mergeArray(l.color,t,"mc");var o=l.line;o&&(i.mergeArray(o.color,t,"mlc"),i.mergeArrayCastPositive(o.width,t,"mlw"))}}}),Td=Dt((F,D)=>{var i=Yn(),t=Il(),n=Ea().hasColorscale,r=Ri(),l=Kl(),o=Rl();D.exports=function(s,f){var e=i.getFromId(s,f.xaxis||"x"),p=i.getFromId(s,f.yaxis||"y"),u,h,b,m,g,y,v={msUTC:!!(f.base||f.base===0)};f.orientation==="h"?(u=e.makeCalcdata(f,"x",v),b=p.makeCalcdata(f,"y"),m=t(f,p,"y",b),g=!!f.yperiodalignment,y="y"):(u=p.makeCalcdata(f,"y",v),b=e.makeCalcdata(f,"x"),m=t(f,e,"x",b),g=!!f.xperiodalignment,y="x"),h=m.vals;for(var c=Math.min(h.length,u.length),d=new Array(c),_=0;_<c;_++)d[_]={p:h[_],s:u[_]},g&&(d[_].orig_p=b[_],d[_][y+"End"]=m.ends[_],d[_][y+"Start"]=m.starts[_]),f.ids&&(d[_].id=String(f.ids[_]));return n(f,"marker")&&r(s,f,{vals:f.marker.color,containerStr:"marker",cLetter:"c"}),n(f,"marker.line")&&r(s,f,{vals:f.marker.line.color,containerStr:"marker.line",cLetter:"c"}),l(d,f),o(d,f),d}}),ii=Dt((F,D)=>{var i=_n(),t=Ce();function n(s,f,e){var p=s._fullLayout,u=p["_"+e+"Text_minsize"];if(u){var h=p.uniformtext.mode==="hide",b;switch(e){case"funnelarea":case"pie":case"sunburst":b="g.slice";break;case"treemap":case"icicle":b="g.slice, g.pathbar";break;default:b="g.points > g.point"}f.selectAll(b).each(function(m){var g=m.transform;if(g){g.scale=h&&g.hide?0:u/g.fontSize;var y=i.select(this).select("text");t.setTransormAndDisplay(y,g)}})}}function r(s,f,e){if(e.uniformtext.mode){var p=o(s),u=e.uniformtext.minsize,h=f.scale*f.fontSize;f.hide=h<u,e[p]=e[p]||1/0,f.hide||(e[p]=Math.min(e[p],Math.max(h,u)))}}function l(s,f){var e=o(s);f[e]=void 0}function o(s){return"_"+s+"Text_minsize"}D.exports={recordMinTextSize:r,clearMinTextSize:l,resizeText:n}}),lo=Dt(F=>{var D=wn(),i=Na(),t=Ce().isArrayOrTypedArray;F.coerceString=function(n,r,l){if(typeof r=="string"){if(r||!n.noBlank)return r}else if((typeof r=="number"||r===!0)&&!n.strict)return String(r);return l!==void 0?l:n.dflt},F.coerceNumber=function(n,r,l){if(D(r)){r=+r;var o=n.min,s=n.max,f=o!==void 0&&r<o||s!==void 0&&r>s;if(!f)return r}return l!==void 0?l:n.dflt},F.coerceColor=function(n,r,l){return i(r).isValid()?r:l!==void 0?l:n.dflt},F.coerceEnumerated=function(n,r,l){return n.coerceNumber&&(r=+r),n.values.indexOf(r)!==-1?r:l!==void 0?l:n.dflt},F.getValue=function(n,r){var l;return t(n)?r<n.length&&(l=n[r]):l=n,l},F.getLineWidth=function(n,r){var l=0<r.mlw?r.mlw:t(n.marker.line.width)?0:n.marker.line.width;return l}}),so=Dt((F,D)=>{var i=_n(),t=bn(),n=Nn(),r=Ce(),l=un(),o=ii().resizeText,s=ai(),f=s.textfont,e=s.insidetextfont,p=s.outsidetextfont,u=lo();function h(P){var O=i.select(P).selectAll('g[class^="barlayer"]').selectAll("g.trace");o(P,O,"bar");var T=O.size(),X=P._fullLayout;O.style("opacity",function(I){return I[0].trace.opacity}).each(function(I){(X.barmode==="stack"&&T>1||X.bargap===0&&X.bargroupgap===0&&!I[0].trace.marker.line.width)&&i.select(this).attr("shape-rendering","crispEdges")}),O.selectAll("g.points").each(function(I){var E=i.select(this),N=I[0].trace;b(E,N,P)}),l.getComponentMethod("errorbars","style")(O)}function b(P,O,T){n.pointStyle(P.selectAll("path"),O,T),m(P,O,T)}function m(P,O,T){P.selectAll("text").each(function(X){var I=i.select(this),E=r.ensureUniformFontSize(T,c(I,X,O,T));n.font(I,E)})}function g(P,O,T){var X=O[0].trace;X.selectedpoints?y(T,X,P):(b(T,X,P),l.getComponentMethod("errorbars","style")(T))}function y(P,O,T){n.selectedPointStyle(P.selectAll("path"),O),v(P.selectAll("text"),O,T)}function v(P,O,T){P.each(function(X){var I=i.select(this),E;if(X.selected){E=r.ensureUniformFontSize(T,c(I,X,O,T));var N=O.selected.textfont&&O.selected.textfont.color;N&&(E.color=N),n.font(I,E)}else n.selectedTextStyle(I,O)})}function c(P,O,T,X){var I=X._fullLayout.font,E=T.textfont;if(P.classed("bartext-inside")){var N=$(O,T);E=_(T,O.i,I,N)}else P.classed("bartext-outside")&&(E=w(T,O.i,I));return E}function d(P,O,T){return k(f,P.textfont,O,T)}function _(P,O,T,X){var I=d(P,O,T),E=P._input.textfont===void 0||P._input.textfont.color===void 0||Array.isArray(P.textfont.color)&&P.textfont.color[O]===void 0;return E&&(I={color:t.contrast(X),family:I.family,size:I.size,weight:I.weight,style:I.style,variant:I.variant,textcase:I.textcase,lineposition:I.lineposition,shadow:I.shadow}),k(e,P.insidetextfont,O,I)}function w(P,O,T){var X=d(P,O,T);return k(p,P.outsidetextfont,O,X)}function k(P,O,T,X){O=O||{};var I=u.getValue(O.family,T),E=u.getValue(O.size,T),N=u.getValue(O.color,T),V=u.getValue(O.weight,T),U=u.getValue(O.style,T),G=u.getValue(O.variant,T),C=u.getValue(O.textcase,T),W=u.getValue(O.lineposition,T),J=u.getValue(O.shadow,T);return{family:u.coerceString(P.family,I,X.family),size:u.coerceNumber(P.size,E,X.size),color:u.coerceColor(P.color,N,X.color),weight:u.coerceString(P.weight,V,X.weight),style:u.coerceString(P.style,U,X.style),variant:u.coerceString(P.variant,G,X.variant),textcase:u.coerceString(P.variant,C,X.textcase),lineposition:u.coerceString(P.variant,W,X.lineposition),shadow:u.coerceString(P.variant,J,X.shadow)}}function $(P,O){return O.type==="waterfall"?O[P.dir].marker.color:P.mcc||P.mc||O.marker.color}D.exports={style:h,styleTextPoints:m,styleOnSelect:g,getInsideTextFont:_,getOutsideTextFont:w,getBarColor:$,resizeText:o}}),kd=Dt((F,D)=>{var i=_n(),t=wn(),n=Ce(),r=ma(),l=bn(),o=Nn(),s=un(),f=Yn().tickText,e=ii(),p=e.recordMinTextSize,u=e.clearMinTextSize,h=so(),b=lo(),m=oo(),g=ai(),y=g.text,v=g.textposition,c=Qa().appendArrayPointValue,d=m.TEXTPAD;function _(it){return it.id}function w(it){if(it.ids)return _}function k(it){return(it>0)-(it<0)}function $(it,dt){return it<dt?1:-1}function P(it,dt,ht,xt){var H=[],j=[],A=xt?dt:ht,q=xt?ht:dt;return H[0]=A.c2p(it.s0,!0),j[0]=q.c2p(it.p0,!0),H[1]=A.c2p(it.s1,!0),j[1]=q.c2p(it.p1,!0),xt?[H,j]:[j,H]}function O(it,dt,ht,xt){if(!dt.uniformtext.mode&&T(ht)){var H;return xt&&(H=xt()),it.transition().duration(ht.duration).ease(ht.easing).each("end",function(){H&&H()}).each("interrupt",function(){H&&H()})}else return it}function T(it){return it&&it.duration>0}function X(it,dt,ht,xt,H,j){var A=dt.xaxis,q=dt.yaxis,R=it._fullLayout,z=it._context.staticPlot;H||(H={mode:R.barmode,norm:R.barmode,gap:R.bargap,groupgap:R.bargroupgap},u("bar",R));var M=n.makeTraceGroups(xt,ht,"trace bars").each(function(S){var Z=i.select(this),Y=S[0].trace,rt=S[0].t,st=Y.type==="waterfall",ut=Y.type==="funnel",_t=Y.type==="histogram",At=Y.type==="bar",Rt=At||ut,Xt=0;st&&Y.connector.visible&&Y.connector.mode==="between"&&(Xt=Y.connector.line.width/2);var Bt=Y.orientation==="h",Ht=T(H),pt=n.ensureSingle(Z,"g","points"),bt=w(Y),ot=pt.selectAll("g.point").data(n.identity,bt);ot.enter().append("g").classed("point",!0),ot.exit().remove(),ot.each(function(Nt,Vt){var ae=i.select(this),Jt=P(Nt,A,q,Bt),re=Jt[0][0],oe=Jt[0][1],le=Jt[1][0],ve=Jt[1][1],Wt=(Bt?oe-re:ve-le)===0;Wt&&Rt&&b.getLineWidth(Y,Nt)&&(Wt=!1),Wt||(Wt=!t(re)||!t(oe)||!t(le)||!t(ve)),Nt.isBlank=Wt,Wt&&(Bt?oe=re:ve=le),Xt&&!Wt&&(Bt?(re-=$(re,oe)*Xt,oe+=$(re,oe)*Xt):(le-=$(le,ve)*Xt,ve+=$(le,ve)*Xt));var ge,Te;if(Y.type==="waterfall"){if(!Wt){var ce=Y[Nt.dir].marker;ge=ce.line.width,Te=ce.color}}else ge=b.getLineWidth(Y,Nt),Te=Nt.mc||Y.marker.color;function we(Ye){var Be=i.round(ge/2%1,2);return H.gap===0&&H.groupgap===0?i.round(Math.round(Ye)-Be,2):Ye}function yt(Ye,Be,Ze){return Ze&&Ye===Be?Ye:Math.abs(Ye-Be)>=2?we(Ye):Ye>Be?Math.ceil(Ye):Math.floor(Ye)}var kt=l.opacity(Te),Tt=kt<1||ge>.01?we:yt;it._context.staticPlot||(re=Tt(re,oe,Bt),oe=Tt(oe,re,Bt),le=Tt(le,ve,!Bt),ve=Tt(ve,le,!Bt));var K=Bt?A.c2p:q.c2p,ft;Nt.s0>0?ft=Nt._sMax:Nt.s0<0?ft=Nt._sMin:ft=Nt.s1>0?Nt._sMax:Nt._sMin;function mt(Ye,Be){if(!Ye)return 0;var Ze=Math.abs(Bt?ve-le:oe-re),Fe=Math.abs(Bt?oe-re:ve-le),ke=Tt(Math.abs(K(ft,!0)-K(0,!0))),je=Nt.hasB?Math.min(Ze/2,Fe/2):Math.min(Ze/2,ke),Ke;if(Be==="%"){var ln=Math.min(50,Ye);Ke=Ze*(ln/100)}else Ke=Ye;return Tt(Math.max(Math.min(Ke,je),0))}var gt=At||_t?mt(rt.cornerradiusvalue,rt.cornerradiusform):0,It,Mt,qt="M"+re+","+le+"V"+ve+"H"+oe+"V"+le+"Z",$t=0;if(gt&&Nt.s){var ie=k(Nt.s0)===0||k(Nt.s)===k(Nt.s0)?Nt.s1:Nt.s0;if($t=Tt(Nt.hasB?0:Math.abs(K(ft,!0)-K(ie,!0))),$t<gt){var zt=$(re,oe),ee=$(le,ve),se=zt===-ee?1:0;if(Bt)if(Nt.hasB)It="M"+(re+gt*zt)+","+le+"A "+gt+","+gt+" 0 0 "+se+" "+re+","+(le+gt*ee)+"V"+(ve-gt*ee)+"A "+gt+","+gt+" 0 0 "+se+" "+(re+gt*zt)+","+ve+"H"+(oe-gt*zt)+"A "+gt+","+gt+" 0 0 "+se+" "+oe+","+(ve-gt*ee)+"V"+(le+gt*ee)+"A "+gt+","+gt+" 0 0 "+se+" "+(oe-gt*zt)+","+le+"Z";else{Mt=Math.abs(oe-re)+$t;var pe=Mt<gt?gt-Math.sqrt(Mt*(2*gt-Mt)):0,De=$t>0?Math.sqrt($t*(2*gt-$t)):0,Ne=zt>0?Math.max:Math.min;It="M"+re+","+le+"V"+(ve-pe*ee)+"H"+Ne(oe-(gt-$t)*zt,re)+"A "+gt+","+gt+" 0 0 "+se+" "+oe+","+(ve-gt*ee-De)+"V"+(le+gt*ee+De)+"A "+gt+","+gt+" 0 0 "+se+" "+Ne(oe-(gt-$t)*zt,re)+","+(le+pe*ee)+"Z"}else if(Nt.hasB)It="M"+(re+gt*zt)+","+le+"A "+gt+","+gt+" 0 0 "+se+" "+re+","+(le+gt*ee)+"V"+(ve-gt*ee)+"A "+gt+","+gt+" 0 0 "+se+" "+(re+gt*zt)+","+ve+"H"+(oe-gt*zt)+"A "+gt+","+gt+" 0 0 "+se+" "+oe+","+(ve-gt*ee)+"V"+(le+gt*ee)+"A "+gt+","+gt+" 0 0 "+se+" "+(oe-gt*zt)+","+le+"Z";else{Mt=Math.abs(ve-le)+$t;var Ge=Mt<gt?gt-Math.sqrt(Mt*(2*gt-Mt)):0,Pe=$t>0?Math.sqrt($t*(2*gt-$t)):0,ze=ee>0?Math.max:Math.min;It="M"+(re+Ge*zt)+","+le+"V"+ze(ve-(gt-$t)*ee,le)+"A "+gt+","+gt+" 0 0 "+se+" "+(re+gt*zt-Pe)+","+ve+"H"+(oe-gt*zt+Pe)+"A "+gt+","+gt+" 0 0 "+se+" "+(oe-Ge*zt)+","+ze(ve-(gt-$t)*ee,le)+"V"+le+"Z"}}else It=qt}else It=qt;var Le=O(n.ensureSingle(ae,"path"),R,H,j);if(Le.style("vector-effect",z?"none":"non-scaling-stroke").attr("d",isNaN((oe-re)*(ve-le))||Wt&&it._context.staticPlot?"M0,0Z":It).call(o.setClipUrl,dt.layerClipId,it),!R.uniformtext.mode&&Ht){var Se=o.makePointStyleFns(Y);o.singlePointStyle(Nt,Le,Y,Se,it)}I(it,dt,ae,S,Vt,re,oe,le,ve,gt,$t,H,j),dt.layerClipId&&o.hideOutsideRangePoint(Nt,ae.select("text"),A,q,Y.xcalendar,Y.ycalendar)});var Lt=Y.cliponaxis===!1;o.setClipUrl(Z,Lt?null:dt.layerClipId,it)});s.getComponentMethod("errorbars","plot")(it,M,dt,H)}function I(it,dt,ht,xt,H,j,A,q,R,z,M,S,Z){var Y=dt.xaxis,rt=dt.yaxis,st=it._fullLayout,ut;function _t(Mt,qt,$t){var ie=n.ensureSingle(Mt,"text").text(qt).attr({class:"bartext bartext-"+ut,"text-anchor":"middle","data-notex":1}).call(o.font,$t).call(r.convertToTspans,it);return ie}var At=xt[0].trace,Rt=At.orientation==="h",Xt=W(st,xt,H,Y,rt);ut=J(At,H);var Bt=S.mode==="stack"||S.mode==="relative",Ht=xt[H],pt=!Bt||Ht._outmost,bt=Ht.hasB,ot=z&&z-M>d;if(!Xt||ut==="none"||(Ht.isBlank||j===A||q===R)&&(ut==="auto"||ut==="inside")){ht.select("text").remove();return}var Lt=st.font,Nt=h.getBarColor(xt[H],At),Vt=h.getInsideTextFont(At,H,Lt,Nt),ae=h.getOutsideTextFont(At,H,Lt),Jt=At.insidetextanchor||"end",re=ht.datum();Rt?Y.type==="log"&&re.s0<=0&&(Y.range[0]<Y.range[1]?j=0:j=Y._length):rt.type==="log"&&re.s0<=0&&(rt.range[0]<rt.range[1]?q=rt._length:q=0);var oe=Math.abs(A-j),le=Math.abs(R-q),ve=oe-2*d,Wt=le-2*d,ge,Te,ce,we,yt;if(ut==="outside"&&!pt&&!Ht.hasB&&(ut="inside"),ut==="auto")if(pt){ut="inside",yt=n.ensureUniformFontSize(it,Vt),ge=_t(ht,Xt,yt),Te=o.bBox(ge.node()),ce=Te.width,we=Te.height;var kt=ce>0&&we>0,Tt;ot?bt?Tt=E(ve-2*z,Wt,ce,we,Rt)||E(ve,Wt-2*z,ce,we,Rt):Rt?Tt=E(ve-(z-M),Wt,ce,we,Rt)||E(ve,Wt-2*(z-M),ce,we,Rt):Tt=E(ve,Wt-(z-M),ce,we,Rt)||E(ve-2*(z-M),Wt,ce,we,Rt):Tt=E(ve,Wt,ce,we,Rt),kt&&Tt?ut="inside":(ut="outside",ge.remove(),ge=null)}else ut="inside";if(!ge){yt=n.ensureUniformFontSize(it,ut==="outside"?ae:Vt),ge=_t(ht,Xt,yt);var K=ge.attr("transform");if(ge.attr("transform",""),Te=o.bBox(ge.node()),ce=Te.width,we=Te.height,ge.attr("transform",K),ce<=0||we<=0){ge.remove();return}}var ft=At.textangle,mt,gt;ut==="outside"?(gt=At.constraintext==="both"||At.constraintext==="outside",mt=C(j,A,q,R,Te,{isHorizontal:Rt,constrained:gt,angle:ft})):(gt=At.constraintext==="both"||At.constraintext==="inside",mt=U(j,A,q,R,Te,{isHorizontal:Rt,constrained:gt,angle:ft,anchor:Jt,hasB:bt,r:z,overhead:M})),mt.fontSize=yt.size,p(At.type==="histogram"?"bar":At.type,mt,st),Ht.transform=mt;var It=O(ge,st,S,Z);n.setTransormAndDisplay(It,mt)}function E(it,dt,ht,xt,H){if(it<0||dt<0)return!1;var j=ht<=it&&xt<=dt,A=ht<=dt&&xt<=it,q=H?it>=ht*(dt/xt):dt>=xt*(it/ht);return j||A||q}function N(it){return it==="auto"?0:it}function V(it,dt){var ht=Math.PI/180*dt,xt=Math.abs(Math.sin(ht)),H=Math.abs(Math.cos(ht));return{x:it.width*H+it.height*xt,y:it.width*xt+it.height*H}}function U(it,dt,ht,xt,H,j){var A=!!j.isHorizontal,q=!!j.constrained,R=j.angle||0,z=j.anchor,M=z==="end",S=z==="start",Z=j.leftToRight||0,Y=(Z+1)/2,rt=1-Y,st=j.hasB,ut=j.r,_t=j.overhead,At=H.width,Rt=H.height,Xt=Math.abs(dt-it),Bt=Math.abs(xt-ht),Ht=Xt>2*d&&Bt>2*d?d:0;Xt-=2*Ht,Bt-=2*Ht;var pt=N(R);R==="auto"&&!(At<=Xt&&Rt<=Bt)&&(At>Xt||Rt>Bt)&&(!(At>Bt||Rt>Xt)||At<Rt!=Xt<Bt)&&(pt+=90);var bt=V(H,pt),ot,Lt;if(ut&&ut-_t>d){var Nt=G(it,dt,ht,xt,bt,ut,_t,A,st);ot=Nt.scale,Lt=Nt.pad}else ot=1,q&&(ot=Math.min(1,Xt/bt.x,Bt/bt.y)),Lt=0;var Vt=H.left*rt+H.right*Y,ae=(H.top+H.bottom)/2,Jt=(it+d)*rt+(dt-d)*Y,re=(ht+xt)/2,oe=0,le=0;if(S||M){var ve=(A?bt.x:bt.y)/2;ut&&(M||st)&&(Ht+=Lt);var Wt=A?$(it,dt):$(ht,xt);A?S?(Jt=it+Wt*Ht,oe=-Wt*ve):(Jt=dt-Wt*Ht,oe=Wt*ve):S?(re=ht+Wt*Ht,le=-Wt*ve):(re=xt-Wt*Ht,le=Wt*ve)}return{textX:Vt,textY:ae,targetX:Jt,targetY:re,anchorX:oe,anchorY:le,scale:ot,rotate:pt}}function G(it,dt,ht,xt,H,j,A,q,R){var z=Math.max(0,Math.abs(dt-it)-2*d),M=Math.max(0,Math.abs(xt-ht)-2*d),S=j-d,Z=A?S-Math.sqrt(S*S-(S-A)*(S-A)):S,Y=R?S*2:q?S-A:2*Z,rt=R?S*2:q?2*Z:S-A,st,ut,_t,At,Rt;return H.y/H.x>=M/(z-Y)?At=M/H.y:H.y/H.x<=(M-rt)/z?At=z/H.x:!R&&q?(st=H.x*H.x+H.y*H.y/4,ut=-2*H.x*(z-S)-H.y*(M/2-S),_t=(z-S)*(z-S)+(M/2-S)*(M/2-S)-S*S,At=(-ut+Math.sqrt(ut*ut-4*st*_t))/(2*st)):R?(st=(H.x*H.x+H.y*H.y)/4,ut=-H.x*(z/2-S)-H.y*(M/2-S),_t=(z/2-S)*(z/2-S)+(M/2-S)*(M/2-S)-S*S,At=(-ut+Math.sqrt(ut*ut-4*st*_t))/(2*st)):(st=H.x*H.x/4+H.y*H.y,ut=-H.x*(z/2-S)-2*H.y*(M-S),_t=(z/2-S)*(z/2-S)+(M-S)*(M-S)-S*S,At=(-ut+Math.sqrt(ut*ut-4*st*_t))/(2*st)),At=Math.min(1,At),q?Rt=Math.max(0,S-Math.sqrt(Math.max(0,S*S-(S-(M-H.y*At)/2)*(S-(M-H.y*At)/2)))-A):Rt=Math.max(0,S-Math.sqrt(Math.max(0,S*S-(S-(z-H.x*At)/2)*(S-(z-H.x*At)/2)))-A),{scale:At,pad:Rt}}function C(it,dt,ht,xt,H,j){var A=!!j.isHorizontal,q=!!j.constrained,R=j.angle||0,z=H.width,M=H.height,S=Math.abs(dt-it),Z=Math.abs(xt-ht),Y;A?Y=Z>2*d?d:0:Y=S>2*d?d:0;var rt=1;q&&(rt=A?Math.min(1,Z/M):Math.min(1,S/z));var st=N(R),ut=V(H,st),_t=(A?ut.x:ut.y)/2,At=(H.left+H.right)/2,Rt=(H.top+H.bottom)/2,Xt=(it+dt)/2,Bt=(ht+xt)/2,Ht=0,pt=0,bt=A?$(dt,it):$(ht,xt);return A?(Xt=dt-bt*Y,Ht=bt*_t):(Bt=xt+bt*Y,pt=-bt*_t),{textX:At,textY:Rt,targetX:Xt,targetY:Bt,anchorX:Ht,anchorY:pt,scale:rt,rotate:st}}function W(it,dt,ht,xt,H){var j=dt[0].trace,A=j.texttemplate,q;return A?q=at(it,dt,ht,xt,H):j.textinfo?q=et(dt,ht,xt,H):q=b.getValue(j.text,ht),b.coerceString(y,q)}function J(it,dt){var ht=b.getValue(it.textposition,dt);return b.coerceEnumerated(v,ht)}function at(it,dt,ht,xt,H){var j=dt[0].trace,A=n.castOption(j,ht,"texttemplate");if(!A)return"";var q=j.type==="histogram",R=j.type==="waterfall",z=j.type==="funnel",M=j.orientation==="h",S,Z,Y,rt;M?(S="y",Z=H,Y="x",rt=xt):(S="x",Z=xt,Y="y",rt=H);function st(Ht){return f(Z,Z.c2l(Ht),!0).text}function ut(Ht){return f(rt,rt.c2l(Ht),!0).text}var _t=dt[ht],At={};At.label=_t.p,At.labelLabel=At[S+"Label"]=st(_t.p);var Rt=n.castOption(j,_t.i,"text");(Rt===0||Rt)&&(At.text=Rt),At.value=_t.s,At.valueLabel=At[Y+"Label"]=ut(_t.s);var Xt={};c(Xt,j,_t.i),(q||Xt.x===void 0)&&(Xt.x=M?At.value:At.label),(q||Xt.y===void 0)&&(Xt.y=M?At.label:At.value),(q||Xt.xLabel===void 0)&&(Xt.xLabel=M?At.valueLabel:At.labelLabel),(q||Xt.yLabel===void 0)&&(Xt.yLabel=M?At.labelLabel:At.valueLabel),R&&(At.delta=+_t.rawS||_t.s,At.deltaLabel=ut(At.delta),At.final=_t.v,At.finalLabel=ut(At.final),At.initial=At.final-At.delta,At.initialLabel=ut(At.initial)),z&&(At.value=_t.s,At.valueLabel=ut(At.value),At.percentInitial=_t.begR,At.percentInitialLabel=n.formatPercent(_t.begR),At.percentPrevious=_t.difR,At.percentPreviousLabel=n.formatPercent(_t.difR),At.percentTotal=_t.sumR,At.percenTotalLabel=n.formatPercent(_t.sumR));var Bt=n.castOption(j,_t.i,"customdata");return Bt&&(At.customdata=Bt),n.texttemplateString(A,At,it._d3locale,Xt,At,j._meta||{})}function et(it,dt,ht,xt){var H=it[0].trace,j=H.orientation==="h",A=H.type==="waterfall",q=H.type==="funnel";function R(Bt){var Ht=j?xt:ht;return f(Ht,Bt,!0).text}function z(Bt){var Ht=j?ht:xt;return f(Ht,+Bt,!0).text}var M=H.textinfo,S=it[dt],Z=M.split("+"),Y=[],rt,st=function(Bt){return Z.indexOf(Bt)!==-1};if(st("label")&&Y.push(R(it[dt].p)),st("text")&&(rt=n.castOption(H,S.i,"text"),(rt===0||rt)&&Y.push(rt)),A){var ut=+S.rawS||S.s,_t=S.v,At=_t-ut;st("initial")&&Y.push(z(At)),st("delta")&&Y.push(z(ut)),st("final")&&Y.push(z(_t))}if(q){st("value")&&Y.push(z(S.s));var Rt=0;st("percent initial")&&Rt++,st("percent previous")&&Rt++,st("percent total")&&Rt++;var Xt=Rt>1;st("percent initial")&&(rt=n.formatPercent(S.begR),Xt&&(rt+=" of initial"),Y.push(rt)),st("percent previous")&&(rt=n.formatPercent(S.difR),Xt&&(rt+=" of previous"),Y.push(rt)),st("percent total")&&(rt=n.formatPercent(S.sumR),Xt&&(rt+=" of total"),Y.push(rt))}return Y.join("<br>")}D.exports={plot:X,toMoveInsideBar:U}}),Ad=Dt((F,D)=>{var i=Ka(),t=un(),n=bn(),r=Ce().fillText,l=lo().getLineWidth,o=Yn().hoverLabelText,s=oa().BADNUM;function f(u,h,b,m,g){var y=e(u,h,b,m,g);if(y){var v=y.cd,c=v[0].trace,d=v[y.index];return y.color=p(c,d),t.getComponentMethod("errorbars","hoverInfo")(d,c,y),[y]}}function e(u,h,b,m,g){var y=u.cd,v=y[0].trace,c=y[0].t,d=m==="closest",_=v.type==="waterfall",w=u.maxHoverDistance,k=u.maxSpikeDistance,$,P,O,T,X,I,E;v.orientation==="h"?($=b,P=h,O="y",T="x",X=xt,I=it):($=h,P=b,O="x",T="y",I=xt,X=it);var N=v[O+"period"],V=d||N;function U(rt){return C(rt,-1)}function G(rt){return C(rt,1)}function C(rt,st){var ut=rt.w;return rt[O]+st*ut/2}function W(rt){return rt[O+"End"]-rt[O+"Start"]}var J=d?U:N?function(rt){return rt.p-W(rt)/2}:function(rt){return Math.min(U(rt),rt.p-c.bardelta/2)},at=d?G:N?function(rt){return rt.p+W(rt)/2}:function(rt){return Math.max(G(rt),rt.p+c.bardelta/2)};function et(rt,st,ut){return g.finiteRange&&(ut=0),i.inbox(rt-$,st-$,ut+Math.min(1,Math.abs(st-rt)/E)-1)}function it(rt){return et(J(rt),at(rt),w)}function dt(rt){return et(U(rt),G(rt),k)}function ht(rt){var st=rt[T];if(_){var ut=Math.abs(rt.rawS)||0;P>0?st+=ut:P<0&&(st-=ut)}return st}function xt(rt){var st=P,ut=rt.b,_t=ht(rt);return i.inbox(ut-st,_t-st,w+(_t-st)/(_t-ut)-1)}function H(rt){var st=P,ut=rt.b,_t=ht(rt);return i.inbox(ut-st,_t-st,k+(_t-st)/(_t-ut)-1)}var j=u[O+"a"],A=u[T+"a"];E=Math.abs(j.r2c(j.range[1])-j.r2c(j.range[0]));function q(rt){return(X(rt)+I(rt))/2}var R=i.getDistanceFunction(m,X,I,q);if(i.getClosest(y,R,u),u.index!==!1&&y[u.index].p!==s){V||(J=function(rt){return Math.min(U(rt),rt.p-c.bargroupwidth/2)},at=function(rt){return Math.max(G(rt),rt.p+c.bargroupwidth/2)});var z=u.index,M=y[z],S=v.base?M.b+M.s:M.s;u[T+"0"]=u[T+"1"]=A.c2p(M[T],!0),u[T+"LabelVal"]=S;var Z=c.extents[c.extents.round(M.p)];u[O+"0"]=j.c2p(d?J(M):Z[0],!0),u[O+"1"]=j.c2p(d?at(M):Z[1],!0);var Y=M.orig_p!==void 0;return u[O+"LabelVal"]=Y?M.orig_p:M.p,u.labelLabel=o(j,u[O+"LabelVal"],v[O+"hoverformat"]),u.valueLabel=o(A,u[T+"LabelVal"],v[T+"hoverformat"]),u.baseLabel=o(A,M.b,v[T+"hoverformat"]),u.spikeDistance=(H(M)+dt(M))/2,u[O+"Spike"]=j.c2p(M.p,!0),r(M,v,u),u.hovertemplate=v.hovertemplate,u}}function p(u,h){var b=h.mcc||u.marker.color,m=h.mlcc||u.marker.line.color,g=l(u,h);if(n.opacity(b))return b;if(n.opacity(m)&&g)return m}D.exports={hoverPoints:f,hoverOnBars:e,getTraceColor:p}}),Ld=Dt((F,D)=>{D.exports=function(i,t,n){return i.x="xVal"in t?t.xVal:t.x,i.y="yVal"in t?t.yVal:t.y,t.xa&&(i.xaxis=t.xa),t.ya&&(i.yaxis=t.ya),n.orientation==="h"?(i.label=i.y,i.value=i.x):(i.label=i.x,i.value=i.y),i}}),Sd=Dt((F,D)=>{D.exports=function(t,n){var r=t.cd,l=t.xaxis,o=t.yaxis,s=r[0].trace,f=s.type==="funnel",e=s.orientation==="h",p=[],u;if(n===!1)for(u=0;u<r.length;u++)r[u].selected=0;else for(u=0;u<r.length;u++){var h=r[u],b="ct"in h?h.ct:i(h,l,o,e,f);n.contains(b,!1,u,t)?(p.push({pointNumber:u,x:l.c2d(h.x),y:o.c2d(h.y)}),h.selected=1):h.selected=0}return p};function i(t,n,r,l,o){var s=n.c2p(l?t.s0:t.p0,!0),f=n.c2p(l?t.s1:t.p1,!0),e=r.c2p(l?t.p0:t.s0,!0),p=r.c2p(l?t.p1:t.s1,!0);return o?[(s+f)/2,(e+p)/2]:l?[f,(e+p)/2]:[(s+f)/2,p]}}),Od=Dt((F,D)=>{D.exports={attributes:ai(),layoutAttributes:Ql(),supplyDefaults:ri().supplyDefaults,crossTraceDefaults:ri().crossTraceDefaults,supplyLayoutDefaults:Md(),calc:Td(),crossTraceCalc:El().crossTraceCalc,colorbar:zl(),arraysToCalcdata:Kl(),plot:kd().plot,style:so().style,styleOnSelect:so().styleOnSelect,hoverPoints:Ad().hoverPoints,eventData:Ld(),selectPoints:Sd(),moduleType:"trace",name:"bar",basePlotModule:Qi(),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}}),Cd=Dt((F,D)=>{D.exports=Od()}),ts=Dt((F,D)=>{var i=ja(),t=io().attributes,n=ha(),r=Ja(),l=ar().hovertemplateAttrs,o=ar().texttemplateAttrs,s=la().extendFlat,f=$a().pattern,e=n({editType:"plot",arrayOk:!0,colorEditType:"plot"});D.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:r.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:f,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:s({},i.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:l({},{keys:["label","color","value","percent","text"]}),texttemplate:o({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:s({},e,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:s({},e,{}),outsidetextfont:s({},e,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:s({},e,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:t({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"}}}),Dd=Dt((F,D)=>{var i=wn(),t=Ce(),n=ts(),r=io().defaults,l=ri().handleText,o=Ce().coercePattern;function s(p,u){var h=t.isArrayOrTypedArray(p),b=t.isArrayOrTypedArray(u),m=Math.min(h?p.length:1/0,b?u.length:1/0);if(isFinite(m)||(m=0),m&&b){for(var g,y=0;y<m;y++){var v=u[y];if(i(v)&&v>0){g=!0;break}}g||(m=0)}return{hasLabels:h,hasValues:b,len:m}}function f(p,u,h,b,m){var g=b("marker.line.width");g&&b("marker.line.color",m?void 0:h.paper_bgcolor);var y=b("marker.colors");o(b,"marker.pattern",y),p.marker&&!u.marker.pattern.fgcolor&&(u.marker.pattern.fgcolor=p.marker.colors),u.marker.pattern.bgcolor||(u.marker.pattern.bgcolor=h.paper_bgcolor)}function e(p,u,h,b){function m(I,E){return t.coerce(p,u,n,I,E)}var g=m("labels"),y=m("values"),v=s(g,y),c=v.len;if(u._hasLabels=v.hasLabels,u._hasValues=v.hasValues,!u._hasLabels&&u._hasValues&&(m("label0"),m("dlabel")),!c){u.visible=!1;return}u._length=c,f(p,u,b,m,!0),m("scalegroup");var d=m("text"),_=m("texttemplate"),w;if(_||(w=m("textinfo",t.isArrayOrTypedArray(d)?"text+percent":"percent")),m("hovertext"),m("hovertemplate"),_||w&&w!=="none"){var k=m("textposition");l(p,u,b,m,k,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var $=Array.isArray(k)||k==="auto",P=$||k==="outside";P&&m("automargin"),(k==="inside"||k==="auto"||Array.isArray(k))&&m("insidetextorientation")}else w==="none"&&m("textposition","none");r(u,b,m);var O=m("hole"),T=m("title.text");if(T){var X=m("title.position",O?"middle center":"top center");!O&&X==="middle center"&&(u.title.position="top center"),t.coerceFont(m,"title.font",b.font)}m("sort"),m("direction"),m("rotation"),m("pull")}D.exports={handleLabelsAndValues:s,handleMarkerDefaults:f,supplyDefaults:e}}),es=Dt((F,D)=>{D.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}}),Pd=Dt((F,D)=>{var i=Ce(),t=es();D.exports=function(n,r){function l(o,s){return i.coerce(n,r,t,o,s)}l("hiddenlabels"),l("piecolorway",r.colorway),l("extendpiecolors")}}),ns=Dt((F,D)=>{var i=wn(),t=Na(),n=bn(),r={};function l(e,p){var u=[],h=e._fullLayout,b=h.hiddenlabels||[],m=p.labels,g=p.marker.colors||[],y=p.values,v=p._length,c=p._hasValues&&v,d,_;if(p.dlabel)for(m=new Array(v),d=0;d<v;d++)m[d]=String(p.label0+d*p.dlabel);var w={},k=o(h["_"+p.type+"colormap"]),$=0,P=!1;for(d=0;d<v;d++){var O,T,X;if(c){if(O=y[d],!i(O))continue;O=+O}else O=1;T=m[d],(T===void 0||T==="")&&(T=d),T=String(T);var I=w[T];I===void 0?(w[T]=u.length,X=b.indexOf(T)!==-1,X||($+=O),u.push({v:O,label:T,color:k(g[d],T),i:d,pts:[d],hidden:X})):(P=!0,_=u[I],_.v+=O,_.pts.push(d),_.hidden||($+=O),_.color===!1&&g[d]&&(_.color=k(g[d],T)))}u=u.filter(function(N){return N.v>=0});var E=p.type==="funnelarea"?P:p.sort;return E&&u.sort(function(N,V){return V.v-N.v}),u[0]&&(u[0].vTotal=$),u}function o(e){return function(p,u){return!p||(p=t(p),!p.isValid())?!1:(p=n.addOpacity(p,p.getAlpha()),e[u]||(e[u]=p),p)}}function s(e,p){var u=(p||{}).type;u||(u="pie");var h=e._fullLayout,b=e.calcdata,m=h[u+"colorway"],g=h["_"+u+"colormap"];h["extend"+u+"colors"]&&(m=f(m,r));for(var y=0,v=0;v<b.length;v++){var c=b[v],d=c[0].trace.type;if(d===u)for(var _=0;_<c.length;_++){var w=c[_];w.color===!1&&(g[w.label]?w.color=g[w.label]:(g[w.label]=w.color=m[y%m.length],y++))}}}function f(e,p){var u,h=JSON.stringify(e),b=p[h];if(!b){for(b=e.slice(),u=0;u<e.length;u++)b.push(t(e[u]).lighten(20).toHexString());for(u=0;u<e.length;u++)b.push(t(e[u]).darken(20).toHexString());p[h]=b}return b}D.exports={calc:l,crossTraceCalc:s,makePullColorFn:o,generateExtendedColors:f}}),Id=Dt((F,D)=>{var i=Qa().appendArrayMultiPointValues;D.exports=function(t,n){var r={curveNumber:n.index,pointNumbers:t.pts,data:n._input,fullData:n,label:t.label,color:t.color,value:t.v,percent:t.percent,text:t.text,bbox:t.bbox,v:t.v};return t.pts.length===1&&(r.pointNumber=r.i=t.pts[0]),i(r,n,t.pts),n.type==="funnelarea"&&(delete r.v,delete r.i),r}}),Fd=Dt((F,D)=>{var i=_n(),t=ea(),n=Ka(),r=bn(),l=Nn(),o=Ce(),s=o.strScale,f=o.strTranslate,e=ma(),p=ii(),u=p.recordMinTextSize,h=p.clearMinTextSize,b=oo().TEXTPAD,m=zi(),g=Id(),y=Ce().isValidTextValue;function v(j,A){var q=j._context.staticPlot,R=j._fullLayout,z=R._size;h("pie",R),k(A,j),et(A,z);var M=o.makeTraceGroups(R._pielayer,A,"trace").each(function(S){var Z=i.select(this),Y=S[0],rt=Y.trace;dt(S),Z.attr("stroke-linejoin","round"),Z.each(function(){var st=i.select(this).selectAll("g.slice").data(S);st.enter().append("g").classed("slice",!0),st.exit().remove();var ut=[[[],[]],[[],[]]],_t=!1;st.each(function(ot,Lt){if(ot.hidden){i.select(this).selectAll("path,g").remove();return}ot.pointNumber=ot.i,ot.curveNumber=rt.index,ut[ot.pxmid[1]<0?0:1][ot.pxmid[0]<0?0:1].push(ot);var Nt=Y.cx,Vt=Y.cy,ae=i.select(this),Jt=ae.selectAll("path.surface").data([ot]);if(Jt.enter().append("path").classed("surface",!0).style({"pointer-events":q?"none":"all"}),ae.call(d,j,S),rt.pull){var re=+m.castOption(rt.pull,ot.pts)||0;re>0&&(Nt+=re*ot.pxmid[0],Vt+=re*ot.pxmid[1])}ot.cxFinal=Nt,ot.cyFinal=Vt;function oe(we,yt,kt,Tt){var K=Tt*(yt[0]-we[0]),ft=Tt*(yt[1]-we[1]);return"a"+Tt*Y.r+","+Tt*Y.r+" 0 "+ot.largeArc+(kt?" 1 ":" 0 ")+K+","+ft}var le=rt.hole;if(ot.v===Y.vTotal){var ve="M"+(Nt+ot.px0[0])+","+(Vt+ot.px0[1])+oe(ot.px0,ot.pxmid,!0,1)+oe(ot.pxmid,ot.px0,!0,1)+"Z";le?Jt.attr("d","M"+(Nt+le*ot.px0[0])+","+(Vt+le*ot.px0[1])+oe(ot.px0,ot.pxmid,!1,le)+oe(ot.pxmid,ot.px0,!1,le)+"Z"+ve):Jt.attr("d",ve)}else{var Wt=oe(ot.px0,ot.px1,!0,1);if(le){var ge=1-le;Jt.attr("d","M"+(Nt+le*ot.px1[0])+","+(Vt+le*ot.px1[1])+oe(ot.px1,ot.px0,!1,le)+"l"+ge*ot.px0[0]+","+ge*ot.px0[1]+Wt+"Z")}else Jt.attr("d","M"+Nt+","+Vt+"l"+ot.px0[0]+","+ot.px0[1]+Wt+"Z")}xt(j,ot,Y);var Te=m.castOption(rt.textposition,ot.pts),ce=ae.selectAll("g.slicetext").data(ot.text&&Te!=="none"?[0]:[]);ce.enter().append("g").classed("slicetext",!0),ce.exit().remove(),ce.each(function(){var we=o.ensureSingle(i.select(this),"text","",function(It){It.attr("data-notex",1)}),yt=o.ensureUniformFontSize(j,Te==="outside"?_(rt,ot,R.font):w(rt,ot,R.font));we.text(ot.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(l.font,yt).call(e.convertToTspans,j);var kt=l.bBox(we.node()),Tt;if(Te==="outside")Tt=V(kt,ot);else if(Tt=$(kt,ot,Y),Te==="auto"&&Tt.scale<1){var K=o.ensureUniformFontSize(j,rt.outsidetextfont);we.call(l.font,K),kt=l.bBox(we.node()),Tt=V(kt,ot)}var ft=Tt.textPosAngle,mt=ft===void 0?ot.pxmid:ht(Y.r,ft);if(Tt.targetX=Nt+mt[0]*Tt.rCenter+(Tt.x||0),Tt.targetY=Vt+mt[1]*Tt.rCenter+(Tt.y||0),H(Tt,kt),Tt.outside){var gt=Tt.targetY;ot.yLabelMin=gt-kt.height/2,ot.yLabelMid=gt,ot.yLabelMax=gt+kt.height/2,ot.labelExtraX=0,ot.labelExtraY=0,_t=!0}Tt.fontSize=yt.size,u(rt.type,Tt,R),S[Lt].transform=Tt,o.setTransormAndDisplay(we,Tt)})});var At=i.select(this).selectAll("g.titletext").data(rt.title.text?[0]:[]);if(At.enter().append("g").classed("titletext",!0),At.exit().remove(),At.each(function(){var ot=o.ensureSingle(i.select(this),"text","",function(Vt){Vt.attr("data-notex",1)}),Lt=rt.title.text;rt._meta&&(Lt=o.templateString(Lt,rt._meta)),ot.text(Lt).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(l.font,rt.title.font).call(e.convertToTspans,j);var Nt;rt.title.position==="middle center"?Nt=U(Y):Nt=G(Y,z),ot.attr("transform",f(Nt.x,Nt.y)+s(Math.min(1,Nt.scale))+f(Nt.tx,Nt.ty))}),_t&&at(ut,rt),c(st,rt),_t&&rt.automargin){var Rt=l.bBox(Z.node()),Xt=rt.domain,Bt=z.w*(Xt.x[1]-Xt.x[0]),Ht=z.h*(Xt.y[1]-Xt.y[0]),pt=(.5*Bt-Y.r)/z.w,bt=(.5*Ht-Y.r)/z.h;t.autoMargin(j,"pie."+rt.uid+".automargin",{xl:Xt.x[0]-pt,xr:Xt.x[1]+pt,yb:Xt.y[0]-bt,yt:Xt.y[1]+bt,l:Math.max(Y.cx-Y.r-Rt.left,0),r:Math.max(Rt.right-(Y.cx+Y.r),0),b:Math.max(Rt.bottom-(Y.cy+Y.r),0),t:Math.max(Y.cy-Y.r-Rt.top,0),pad:5})}})});setTimeout(function(){M.selectAll("tspan").each(function(){var S=i.select(this);S.attr("dy")&&S.attr("dy",S.attr("dy"))})},0)}function c(j,A){j.each(function(q){var R=i.select(this);if(!q.labelExtraX&&!q.labelExtraY){R.select("path.textline").remove();return}var z=R.select("g.slicetext text");q.transform.targetX+=q.labelExtraX,q.transform.targetY+=q.labelExtraY,o.setTransormAndDisplay(z,q.transform);var M=q.cxFinal+q.pxmid[0],S=q.cyFinal+q.pxmid[1],Z="M"+M+","+S,Y=(q.yLabelMax-q.yLabelMin)*(q.pxmid[0]<0?-1:1)/4;if(q.labelExtraX){var rt=q.labelExtraX*q.pxmid[1]/q.pxmid[0],st=q.yLabelMid+q.labelExtraY-(q.cyFinal+q.pxmid[1]);Math.abs(rt)>Math.abs(st)?Z+="l"+st*q.pxmid[0]/q.pxmid[1]+","+st+"H"+(M+q.labelExtraX+Y):Z+="l"+q.labelExtraX+","+rt+"v"+(st-rt)+"h"+Y}else Z+="V"+(q.yLabelMid+q.labelExtraY)+"h"+Y;o.ensureSingle(R,"path","textline").call(r.stroke,A.outsidetextfont.color).attr({"stroke-width":Math.min(2,A.outsidetextfont.size/8),d:Z,fill:"none"})})}function d(j,A,q){var R=q[0],z=R.cx,M=R.cy,S=R.trace,Z=S.type==="funnelarea";"_hasHoverLabel"in S||(S._hasHoverLabel=!1),"_hasHoverEvent"in S||(S._hasHoverEvent=!1),j.on("mouseover",function(Y){var rt=A._fullLayout,st=A._fullData[S.index];if(!(A._dragging||rt.hovermode===!1)){var ut=st.hoverinfo;if(Array.isArray(ut)&&(ut=n.castHoverinfo({hoverinfo:[m.castOption(ut,Y.pts)],_module:S._module},rt,0)),ut==="all"&&(ut="label+text+value+percent+name"),st.hovertemplate||ut!=="none"&&ut!=="skip"&&ut){var _t=Y.rInscribed||0,At=z+Y.pxmid[0]*(1-_t),Rt=M+Y.pxmid[1]*(1-_t),Xt=rt.separators,Bt=[];if(ut&&ut.indexOf("label")!==-1&&Bt.push(Y.label),Y.text=m.castOption(st.hovertext||st.text,Y.pts),ut&&ut.indexOf("text")!==-1){var Ht=Y.text;o.isValidTextValue(Ht)&&Bt.push(Ht)}Y.value=Y.v,Y.valueLabel=m.formatPieValue(Y.v,Xt),ut&&ut.indexOf("value")!==-1&&Bt.push(Y.valueLabel),Y.percent=Y.v/R.vTotal,Y.percentLabel=m.formatPiePercent(Y.percent,Xt),ut&&ut.indexOf("percent")!==-1&&Bt.push(Y.percentLabel);var pt=st.hoverlabel,bt=pt.font,ot=[];n.loneHover({trace:S,x0:At-_t*R.r,x1:At+_t*R.r,y:Rt,_x0:Z?z+Y.TL[0]:At-_t*R.r,_x1:Z?z+Y.TR[0]:At+_t*R.r,_y0:Z?M+Y.TL[1]:Rt-_t*R.r,_y1:Z?M+Y.BL[1]:Rt+_t*R.r,text:Bt.join("<br>"),name:st.hovertemplate||ut.indexOf("name")!==-1?st.name:void 0,idealAlign:Y.pxmid[0]<0?"left":"right",color:m.castOption(pt.bgcolor,Y.pts)||Y.color,borderColor:m.castOption(pt.bordercolor,Y.pts),fontFamily:m.castOption(bt.family,Y.pts),fontSize:m.castOption(bt.size,Y.pts),fontColor:m.castOption(bt.color,Y.pts),nameLength:m.castOption(pt.namelength,Y.pts),textAlign:m.castOption(pt.align,Y.pts),hovertemplate:m.castOption(st.hovertemplate,Y.pts),hovertemplateLabels:Y,eventData:[g(Y,st)]},{container:rt._hoverlayer.node(),outerContainer:rt._paper.node(),gd:A,inOut_bbox:ot}),Y.bbox=ot[0],S._hasHoverLabel=!0}S._hasHoverEvent=!0,A.emit("plotly_hover",{points:[g(Y,st)],event:i.event})}}),j.on("mouseout",function(Y){var rt=A._fullLayout,st=A._fullData[S.index],ut=i.select(this).datum();S._hasHoverEvent&&(Y.originalEvent=i.event,A.emit("plotly_unhover",{points:[g(ut,st)],event:i.event}),S._hasHoverEvent=!1),S._hasHoverLabel&&(n.loneUnhover(rt._hoverlayer.node()),S._hasHoverLabel=!1)}),j.on("click",function(Y){var rt=A._fullLayout,st=A._fullData[S.index];A._dragging||rt.hovermode===!1||(A._hoverdata=[g(Y,st)],n.click(A,i.event))})}function _(j,A,q){var R=m.castOption(j.outsidetextfont.color,A.pts)||m.castOption(j.textfont.color,A.pts)||q.color,z=m.castOption(j.outsidetextfont.family,A.pts)||m.castOption(j.textfont.family,A.pts)||q.family,M=m.castOption(j.outsidetextfont.size,A.pts)||m.castOption(j.textfont.size,A.pts)||q.size,S=m.castOption(j.outsidetextfont.weight,A.pts)||m.castOption(j.textfont.weight,A.pts)||q.weight,Z=m.castOption(j.outsidetextfont.style,A.pts)||m.castOption(j.textfont.style,A.pts)||q.style,Y=m.castOption(j.outsidetextfont.variant,A.pts)||m.castOption(j.textfont.variant,A.pts)||q.variant,rt=m.castOption(j.outsidetextfont.textcase,A.pts)||m.castOption(j.textfont.textcase,A.pts)||q.textcase,st=m.castOption(j.outsidetextfont.lineposition,A.pts)||m.castOption(j.textfont.lineposition,A.pts)||q.lineposition,ut=m.castOption(j.outsidetextfont.shadow,A.pts)||m.castOption(j.textfont.shadow,A.pts)||q.shadow;return{color:R,family:z,size:M,weight:S,style:Z,variant:Y,textcase:rt,lineposition:st,shadow:ut}}function w(j,A,q){var R=m.castOption(j.insidetextfont.color,A.pts);!R&&j._input.textfont&&(R=m.castOption(j._input.textfont.color,A.pts));var z=m.castOption(j.insidetextfont.family,A.pts)||m.castOption(j.textfont.family,A.pts)||q.family,M=m.castOption(j.insidetextfont.size,A.pts)||m.castOption(j.textfont.size,A.pts)||q.size,S=m.castOption(j.insidetextfont.weight,A.pts)||m.castOption(j.textfont.weight,A.pts)||q.weight,Z=m.castOption(j.insidetextfont.style,A.pts)||m.castOption(j.textfont.style,A.pts)||q.style,Y=m.castOption(j.insidetextfont.variant,A.pts)||m.castOption(j.textfont.variant,A.pts)||q.variant,rt=m.castOption(j.insidetextfont.textcase,A.pts)||m.castOption(j.textfont.textcase,A.pts)||q.textcase,st=m.castOption(j.insidetextfont.lineposition,A.pts)||m.castOption(j.textfont.lineposition,A.pts)||q.lineposition,ut=m.castOption(j.insidetextfont.shadow,A.pts)||m.castOption(j.textfont.shadow,A.pts)||q.shadow;return{color:R||r.contrast(A.color),family:z,size:M,weight:S,style:Z,variant:Y,textcase:rt,lineposition:st,shadow:ut}}function k(j,A){for(var q,R,z=0;z<j.length;z++)if(q=j[z][0],R=q.trace,R.title.text){var M=R.title.text;R._meta&&(M=o.templateString(M,R._meta));var S=l.tester.append("text").attr("data-notex",1).text(M).call(l.font,R.title.font).call(e.convertToTspans,A),Z=l.bBox(S.node(),!0);q.titleBox={width:Z.width,height:Z.height},S.remove()}}function $(j,A,q){var R=q.r||A.rpx1,z=A.rInscribed,M=A.startangle===A.stopangle;if(M)return{rCenter:1-z,scale:0,rotate:0,textPosAngle:0};var S=A.ring,Z=S===1&&Math.abs(A.startangle-A.stopangle)===Math.PI*2,Y=A.halfangle,rt=A.midangle,st=q.trace.insidetextorientation,ut=st==="horizontal",_t=st==="tangential",At=st==="radial",Rt=st==="auto",Xt=[],Bt;if(!Rt){var Ht=function(ae,Jt){if(P(A,ae)){var re=Math.abs(ae-A.startangle),oe=Math.abs(ae-A.stopangle),le=re<oe?re:oe;Jt==="tan"?Bt=T(j,R,S,le,0):Bt=O(j,R,S,le,Math.PI/2),Bt.textPosAngle=ae,Xt.push(Bt)}},pt;if(ut||_t){for(pt=4;pt>=-4;pt-=2)Ht(Math.PI*pt,"tan");for(pt=4;pt>=-4;pt-=2)Ht(Math.PI*(pt+1),"tan")}if(ut||At){for(pt=4;pt>=-4;pt-=2)Ht(Math.PI*(pt+1.5),"rad");for(pt=4;pt>=-4;pt-=2)Ht(Math.PI*(pt+.5),"rad")}}if(Z||Rt||ut){var bt=Math.sqrt(j.width*j.width+j.height*j.height);if(Bt={scale:z*R*2/bt,rCenter:1-z,rotate:0},Bt.textPosAngle=(A.startangle+A.stopangle)/2,Bt.scale>=1)return Bt;Xt.push(Bt)}(Rt||At)&&(Bt=O(j,R,S,Y,rt),Bt.textPosAngle=(A.startangle+A.stopangle)/2,Xt.push(Bt)),(Rt||_t)&&(Bt=T(j,R,S,Y,rt),Bt.textPosAngle=(A.startangle+A.stopangle)/2,Xt.push(Bt));for(var ot=0,Lt=0,Nt=0;Nt<Xt.length;Nt++){var Vt=Xt[Nt].scale;if(Lt<Vt&&(Lt=Vt,ot=Nt),!Rt&&Lt>=1)break}return Xt[ot]}function P(j,A){var q=j.startangle,R=j.stopangle;return q>A&&A>R||q<A&&A<R}function O(j,A,q,R,z){A=Math.max(0,A-2*b);var M=j.width/j.height,S=E(M,R,A,q);return{scale:S*2/j.height,rCenter:X(M,S/A),rotate:I(z)}}function T(j,A,q,R,z){A=Math.max(0,A-2*b);var M=j.height/j.width,S=E(M,R,A,q);return{scale:S*2/j.width,rCenter:X(M,S/A),rotate:I(z+Math.PI/2)}}function X(j,A){return Math.cos(A)-j*A}function I(j){return(180/Math.PI*j+720)%180-90}function E(j,A,q,R){var z=j+1/(2*Math.tan(A));return q*Math.min(1/(Math.sqrt(z*z+.5)+z),R/(Math.sqrt(j*j+R/2)+j))}function N(j,A){return j.v===A.vTotal&&!A.trace.hole?1:Math.min(1/(1+1/Math.sin(j.halfangle)),j.ring/2)}function V(j,A){var q=A.pxmid[0],R=A.pxmid[1],z=j.width/2,M=j.height/2;return q<0&&(z*=-1),R<0&&(M*=-1),{scale:1,rCenter:1,rotate:0,x:z+Math.abs(M)*(z>0?1:-1)/2,y:M/(1+q*q/(R*R)),outside:!0}}function U(j){var A=Math.sqrt(j.titleBox.width*j.titleBox.width+j.titleBox.height*j.titleBox.height);return{x:j.cx,y:j.cy,scale:j.trace.hole*j.r*2/A,tx:0,ty:-j.titleBox.height/2+j.trace.title.font.size}}function G(j,A){var q=1,R=1,z,M=j.trace,S={x:j.cx,y:j.cy},Z={tx:0,ty:0};Z.ty+=M.title.font.size,z=J(M),M.title.position.indexOf("top")!==-1?(S.y-=(1+z)*j.r,Z.ty-=j.titleBox.height):M.title.position.indexOf("bottom")!==-1&&(S.y+=(1+z)*j.r);var Y=C(j.r,j.trace.aspectratio),rt=A.w*(M.domain.x[1]-M.domain.x[0])/2;return M.title.position.indexOf("left")!==-1?(rt=rt+Y,S.x-=(1+z)*Y,Z.tx+=j.titleBox.width/2):M.title.position.indexOf("center")!==-1?rt*=2:M.title.position.indexOf("right")!==-1&&(rt=rt+Y,S.x+=(1+z)*Y,Z.tx-=j.titleBox.width/2),q=rt/j.titleBox.width,R=W(j,A)/j.titleBox.height,{x:S.x,y:S.y,scale:Math.min(q,R),tx:Z.tx,ty:Z.ty}}function C(j,A){return j/(A===void 0?1:A)}function W(j,A){var q=j.trace,R=A.h*(q.domain.y[1]-q.domain.y[0]);return Math.min(j.titleBox.height,R/2)}function J(j){var A=j.pull;if(!A)return 0;var q;if(o.isArrayOrTypedArray(A))for(A=0,q=0;q<j.pull.length;q++)j.pull[q]>A&&(A=j.pull[q]);return A}function at(j,A){var q,R,z,M,S,Z,Y,rt,st,ut,_t,At,Rt;function Xt(bt,ot){return bt.pxmid[1]-ot.pxmid[1]}function Bt(bt,ot){return ot.pxmid[1]-bt.pxmid[1]}function Ht(bt,ot){ot||(ot={});var Lt=ot.labelExtraY+(R?ot.yLabelMax:ot.yLabelMin),Nt=R?bt.yLabelMin:bt.yLabelMax,Vt=R?bt.yLabelMax:bt.yLabelMin,ae=bt.cyFinal+S(bt.px0[1],bt.px1[1]),Jt=Lt-Nt,re,oe,le,ve,Wt,ge;if(Jt*Y>0&&(bt.labelExtraY=Jt),!!o.isArrayOrTypedArray(A.pull))for(oe=0;oe<ut.length;oe++)le=ut[oe],!(le===bt||(m.castOption(A.pull,bt.pts)||0)>=(m.castOption(A.pull,le.pts)||0))&&((bt.pxmid[1]-le.pxmid[1])*Y>0?(ve=le.cyFinal+S(le.px0[1],le.px1[1]),Jt=ve-Nt-bt.labelExtraY,Jt*Y>0&&(bt.labelExtraY+=Jt)):(Vt+bt.labelExtraY-ae)*Y>0&&(re=3*Z*Math.abs(oe-ut.indexOf(bt)),Wt=le.cxFinal+M(le.px0[0],le.px1[0]),ge=Wt+re-(bt.cxFinal+bt.pxmid[0])-bt.labelExtraX,ge*Z>0&&(bt.labelExtraX+=ge)))}for(R=0;R<2;R++)for(z=R?Xt:Bt,S=R?Math.max:Math.min,Y=R?1:-1,q=0;q<2;q++){for(M=q?Math.max:Math.min,Z=q?1:-1,rt=j[R][q],rt.sort(z),st=j[1-R][q],ut=st.concat(rt),At=[],_t=0;_t<rt.length;_t++)rt[_t].yLabelMid!==void 0&&At.push(rt[_t]);for(Rt=!1,_t=0;R&&_t<st.length;_t++)if(st[_t].yLabelMid!==void 0){Rt=st[_t];break}for(_t=0;_t<At.length;_t++){var pt=_t&&At[_t-1];Rt&&!_t&&(pt=Rt),Ht(At[_t],pt)}}}function et(j,A){for(var q=[],R=0;R<j.length;R++){var z=j[R][0],M=z.trace,S=M.domain,Z=A.w*(S.x[1]-S.x[0]),Y=A.h*(S.y[1]-S.y[0]);M.title.text&&M.title.position!=="middle center"&&(Y-=W(z,A));var rt=Z/2,st=Y/2;M.type==="funnelarea"&&!M.scalegroup&&(st/=M.aspectratio),z.r=Math.min(rt,st)/(1+J(M)),z.cx=A.l+A.w*(M.domain.x[1]+M.domain.x[0])/2,z.cy=A.t+A.h*(1-M.domain.y[0])-Y/2,M.title.text&&M.title.position.indexOf("bottom")!==-1&&(z.cy-=W(z,A)),M.scalegroup&&q.indexOf(M.scalegroup)===-1&&q.push(M.scalegroup)}it(j,q)}function it(j,A){for(var q,R,z,M=0;M<A.length;M++){var S=1/0,Z=A[M];for(R=0;R<j.length;R++)if(q=j[R][0],z=q.trace,z.scalegroup===Z){var Y;if(z.type==="pie")Y=q.r*q.r;else if(z.type==="funnelarea"){var rt,st;z.aspectratio>1?(rt=q.r,st=rt/z.aspectratio):(st=q.r,rt=st*z.aspectratio),rt*=(1+z.baseratio)/2,Y=rt*st}S=Math.min(S,Y/q.vTotal)}for(R=0;R<j.length;R++)if(q=j[R][0],z=q.trace,z.scalegroup===Z){var ut=S*q.vTotal;z.type==="funnelarea"&&(ut/=(1+z.baseratio)/2,ut/=z.aspectratio),q.r=Math.sqrt(ut)}}}function dt(j){var A=j[0],q=A.r,R=A.trace,z=m.getRotationAngle(R.rotation),M=2*Math.PI/A.vTotal,S="px0",Z="px1",Y,rt,st;if(R.direction==="counterclockwise"){for(Y=0;Y<j.length&&j[Y].hidden;Y++);if(Y===j.length)return;z+=M*j[Y].v,M*=-1,S="px1",Z="px0"}for(st=ht(q,z),Y=0;Y<j.length;Y++)rt=j[Y],!rt.hidden&&(rt[S]=st,rt.startangle=z,z+=M*rt.v/2,rt.pxmid=ht(q,z),rt.midangle=z,z+=M*rt.v/2,st=ht(q,z),rt.stopangle=z,rt[Z]=st,rt.largeArc=rt.v>A.vTotal/2?1:0,rt.halfangle=Math.PI*Math.min(rt.v/A.vTotal,.5),rt.ring=1-R.hole,rt.rInscribed=N(rt,A))}function ht(j,A){return[j*Math.sin(A),-j*Math.cos(A)]}function xt(j,A,q){var R=j._fullLayout,z=q.trace,M=z.texttemplate,S=z.textinfo;if(!M&&S&&S!=="none"){var Z=S.split("+"),Y=function(ot){return Z.indexOf(ot)!==-1},rt=Y("label"),st=Y("text"),ut=Y("value"),_t=Y("percent"),At=R.separators,Rt;if(Rt=rt?[A.label]:[],st){var Xt=m.getFirstFilled(z.text,A.pts);y(Xt)&&Rt.push(Xt)}ut&&Rt.push(m.formatPieValue(A.v,At)),_t&&Rt.push(m.formatPiePercent(A.v/q.vTotal,At)),A.text=Rt.join("<br>")}function Bt(ot){return{label:ot.label,value:ot.v,valueLabel:m.formatPieValue(ot.v,R.separators),percent:ot.v/q.vTotal,percentLabel:m.formatPiePercent(ot.v/q.vTotal,R.separators),color:ot.color,text:ot.text,customdata:o.castOption(z,ot.i,"customdata")}}if(M){var Ht=o.castOption(z,A.i,"texttemplate");if(!Ht)A.text="";else{var pt=Bt(A),bt=m.getFirstFilled(z.text,A.pts);(y(bt)||bt==="")&&(pt.text=bt),A.text=o.texttemplateString(Ht,pt,j._fullLayout._d3locale,pt,z._meta||{})}}}function H(j,A){var q=j.rotate*Math.PI/180,R=Math.cos(q),z=Math.sin(q),M=(A.left+A.right)/2,S=(A.top+A.bottom)/2;j.textX=M*R-S*z,j.textY=M*z+S*R,j.noCenter=!0}D.exports={plot:v,formatSliceLabel:xt,transformInsideText:$,determineInsideTextFont:w,positionTitleOutside:G,prerenderTitles:k,layoutAreas:et,attachFxHandlers:d,computeTransform:H}}),Rd=Dt((F,D)=>{var i=_n(),t=Bi(),n=ii().resizeText;D.exports=function(r){var l=r._fullLayout._pielayer.selectAll(".trace");n(r,l,"pie"),l.each(function(o){var s=o[0],f=s.trace,e=i.select(this);e.style({opacity:f.opacity}),e.selectAll("path.surface").each(function(p){i.select(this).call(t,p,f,r)})})}}),Nd=Dt(F=>{var D=ea();F.name="pie",F.plot=function(i,t,n,r){D.plotBasePlot(F.name,i,t,n,r)},F.clean=function(i,t,n,r){D.cleanBasePlot(F.name,i,t,n,r)}}),Ed=Dt((F,D)=>{D.exports={attributes:ts(),supplyDefaults:Dd().supplyDefaults,supplyLayoutDefaults:Pd(),layoutAttributes:es(),calc:ns().calc,crossTraceCalc:ns().crossTraceCalc,plot:Fd().plot,style:Rd(),styleOne:Bi(),moduleType:"trace",name:"pie",basePlotModule:Nd(),categories:["pie-like","pie","showLegend"],meta:{}}}),zd=Dt((F,D)=>{D.exports=Ed()}),xa=Dt((F,D)=>{var i=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(o){if(o==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(o)}function l(){try{if(!Object.assign)return!1;var o=new String("abc");if(o[5]="de",Object.getOwnPropertyNames(o)[0]==="5")return!1;for(var s={},f=0;f<10;f++)s["_"+String.fromCharCode(f)]=f;var e=Object.getOwnPropertyNames(s).map(function(u){return s[u]});if(e.join("")!=="0123456789")return!1;var p={};return"abcdefghijklmnopqrst".split("").forEach(function(u){p[u]=u}),Object.keys(Object.assign({},p)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}D.exports=l()?Object.assign:function(o,s){for(var f,e=r(o),p,u=1;u<arguments.length;u++){f=Object(arguments[u]);for(var h in f)t.call(f,h)&&(e[h]=f[h]);if(i){p=i(f);for(var b=0;b<p.length;b++)n.call(f,p[b])&&(e[p[b]]=f[p[b]])}}return e}}),ba=Dt((F,D)=>{var i=xa();function t(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}i(t.prototype,{instance:function(f,e){f=(f||"gregorian").toLowerCase(),e=e||"";var p=this._localCals[f+"-"+e];if(!p&&this.calendars[f]&&(p=new this.calendars[f](e),this._localCals[f+"-"+e]=p),!p)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,f);return p},newDate:function(f,e,p,u,h){return u=(f!=null&&f.year?f.calendar():typeof u=="string"?this.instance(u,h):u)||this.instance(),u.newDate(f,e,p)},substituteDigits:function(f){return function(e){return(e+"").replace(/[0-9]/g,function(p){return f[p]})}},substituteChineseDigits:function(f,e){return function(p){for(var u="",h=0;p>0;){var b=p%10;u=(b===0?"":f[b]+e[h])+u,h++,p=Math.floor(p/10)}return u.indexOf(f[1]+e[1])===0&&(u=u.substr(1)),u||f[0]}}});function n(f,e,p,u){if(this._calendar=f,this._year=e,this._month=p,this._day=u,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(s.local.invalidDate||s.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function r(f,e){return f=""+f,"000000".substring(0,e-f.length)+f}i(n.prototype,{newDate:function(f,e,p){return this._calendar.newDate(f??this,e,p)},year:function(f){return arguments.length===0?this._year:this.set(f,"y")},month:function(f){return arguments.length===0?this._month:this.set(f,"m")},day:function(f){return arguments.length===0?this._day:this.set(f,"d")},date:function(f,e,p){if(!this._calendar.isValid(f,e,p))throw(s.local.invalidDate||s.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=f,this._month=e,this._day=p,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(f,e){return this._calendar.add(this,f,e)},set:function(f,e){return this._calendar.set(this,f,e)},compareTo:function(f){if(this._calendar.name!==f._calendar.name)throw(s.local.differentCalendars||s.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,f._calendar.local.name);var e=this._year!==f._year?this._year-f._year:this._month!==f._month?this.monthOfYear()-f.monthOfYear():this._day-f._day;return e===0?0:e<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(f){return this._calendar.fromJD(f)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(f){return this._calendar.fromJSDate(f)},toString:function(){return(this.year()<0?"-":"")+r(Math.abs(this.year()),4)+"-"+r(this.month(),2)+"-"+r(this.day(),2)}});function l(){this.shortYearCutoff="+10"}i(l.prototype,{_validateLevel:0,newDate:function(f,e,p){return f==null?this.today():(f.year&&(this._validate(f,e,p,s.local.invalidDate||s.regionalOptions[""].invalidDate),p=f.day(),e=f.month(),f=f.year()),new n(this,f,e,p))},today:function(){return this.fromJSDate(new Date)},epoch:function(f){var e=this._validate(f,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return e.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(f){var e=this._validate(f,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return(e.year()<0?"-":"")+r(Math.abs(e.year()),4)},monthsInYear:function(f){return this._validate(f,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear),12},monthOfYear:function(f,e){var p=this._validate(f,e,this.minDay,s.local.invalidMonth||s.regionalOptions[""].invalidMonth);return(p.month()+this.monthsInYear(p)-this.firstMonth)%this.monthsInYear(p)+this.minMonth},fromMonthOfYear:function(f,e){var p=(e+this.firstMonth-2*this.minMonth)%this.monthsInYear(f)+this.minMonth;return this._validate(f,p,this.minDay,s.local.invalidMonth||s.regionalOptions[""].invalidMonth),p},daysInYear:function(f){var e=this._validate(f,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return this.leapYear(e)?366:365},dayOfYear:function(f,e,p){var u=this._validate(f,e,p,s.local.invalidDate||s.regionalOptions[""].invalidDate);return u.toJD()-this.newDate(u.year(),this.fromMonthOfYear(u.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(f,e,p){var u=this._validate(f,e,p,s.local.invalidDate||s.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(u))+2)%this.daysInWeek()},extraInfo:function(f,e,p){return this._validate(f,e,p,s.local.invalidDate||s.regionalOptions[""].invalidDate),{}},add:function(f,e,p){return this._validate(f,this.minMonth,this.minDay,s.local.invalidDate||s.regionalOptions[""].invalidDate),this._correctAdd(f,this._add(f,e,p),e,p)},_add:function(f,e,p){if(this._validateLevel++,p==="d"||p==="w"){var u=f.toJD()+e*(p==="w"?this.daysInWeek():1),h=f.calendar().fromJD(u);return this._validateLevel--,[h.year(),h.month(),h.day()]}try{var b=f.year()+(p==="y"?e:0),m=f.monthOfYear()+(p==="m"?e:0),h=f.day(),g=function(c){for(;m<c.minMonth;)b--,m+=c.monthsInYear(b);for(var d=c.monthsInYear(b);m>d-1+c.minMonth;)b++,m-=d,d=c.monthsInYear(b)};p==="y"?(f.month()!==this.fromMonthOfYear(b,m)&&(m=this.newDate(b,f.month(),this.minDay).monthOfYear()),m=Math.min(m,this.monthsInYear(b)),h=Math.min(h,this.daysInMonth(b,this.fromMonthOfYear(b,m)))):p==="m"&&(g(this),h=Math.min(h,this.daysInMonth(b,this.fromMonthOfYear(b,m))));var y=[b,this.fromMonthOfYear(b,m),h];return this._validateLevel--,y}catch(v){throw this._validateLevel--,v}},_correctAdd:function(f,e,p,u){if(!this.hasYearZero&&(u==="y"||u==="m")&&(e[0]===0||f.year()>0!=e[0]>0)){var h={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[u],b=p<0?-1:1;e=this._add(f,p*h[0]+b*h[1],h[2])}return f.date(e[0],e[1],e[2])},set:function(f,e,p){this._validate(f,this.minMonth,this.minDay,s.local.invalidDate||s.regionalOptions[""].invalidDate);var u=p==="y"?e:f.year(),h=p==="m"?e:f.month(),b=p==="d"?e:f.day();return(p==="y"||p==="m")&&(b=Math.min(b,this.daysInMonth(u,h))),f.date(u,h,b)},isValid:function(f,e,p){this._validateLevel++;var u=this.hasYearZero||f!==0;if(u){var h=this.newDate(f,e,this.minDay);u=e>=this.minMonth&&e-this.minMonth<this.monthsInYear(h)&&p>=this.minDay&&p-this.minDay<this.daysInMonth(h)}return this._validateLevel--,u},toJSDate:function(f,e,p){var u=this._validate(f,e,p,s.local.invalidDate||s.regionalOptions[""].invalidDate);return s.instance().fromJD(this.toJD(u)).toJSDate()},fromJSDate:function(f){return this.fromJD(s.instance().fromJSDate(f).toJD())},_validate:function(f,e,p,u){if(f.year){if(this._validateLevel===0&&this.name!==f.calendar().name)throw(s.local.differentCalendars||s.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,f.calendar().local.name);return f}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(f,e,p))throw u.replace(/\{0\}/,this.local.name);var h=this.newDate(f,e,p);return this._validateLevel--,h}catch(b){throw this._validateLevel--,b}}});function o(f){this.local=this.regionalOptions[f]||this.regionalOptions[""]}o.prototype=new l,i(o.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(p){var e=this._validate(p,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear),p=e.year()+(e.year()<0?1:0);return p%4===0&&(p%100!==0||p%400===0)},weekOfYear:function(f,e,p){var u=this.newDate(f,e,p);return u.add(4-(u.dayOfWeek()||7),"d"),Math.floor((u.dayOfYear()-1)/7)+1},daysInMonth:function(f,e){var p=this._validate(f,e,this.minDay,s.local.invalidMonth||s.regionalOptions[""].invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===2&&this.leapYear(p.year())?1:0)},weekDay:function(f,e,p){return(this.dayOfWeek(f,e,p)||7)<6},toJD:function(f,e,p){var u=this._validate(f,e,p,s.local.invalidDate||s.regionalOptions[""].invalidDate);f=u.year(),e=u.month(),p=u.day(),f<0&&f++,e<3&&(e+=12,f--);var h=Math.floor(f/100),b=2-h+Math.floor(h/4);return Math.floor(365.25*(f+4716))+Math.floor(30.6001*(e+1))+p+b-1524.5},fromJD:function(f){var e=Math.floor(f+.5),p=Math.floor((e-186721625e-2)/36524.25);p=e+1+p-Math.floor(p/4);var u=p+1524,h=Math.floor((u-122.1)/365.25),b=Math.floor(365.25*h),m=Math.floor((u-b)/30.6001),g=u-b-Math.floor(m*30.6001),y=m-(m>13.5?13:1),v=h-(y>2.5?4716:4715);return v<=0&&v--,this.newDate(v,y,g)},toJSDate:function(f,e,p){var u=this._validate(f,e,p,s.local.invalidDate||s.regionalOptions[""].invalidDate),h=new Date(u.year(),u.month()-1,u.day());return h.setHours(0),h.setMinutes(0),h.setSeconds(0),h.setMilliseconds(0),h.setHours(h.getHours()>12?h.getHours()+2:0),h},fromJSDate:function(f){return this.newDate(f.getFullYear(),f.getMonth()+1,f.getDate())}});var s=D.exports=new t;s.cdate=n,s.baseCalendar=l,s.calendars.gregorian=o}),Bd=Dt(()=>{var F=xa(),D=ba();F(D.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),D.local=D.regionalOptions[""],F(D.cdate.prototype,{formatDate:function(i,t){return typeof i!="string"&&(t=i,i=""),this._calendar.formatDate(i||"",this,t)}}),F(D.baseCalendar.prototype,{UNIX_EPOCH:D.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:24*60*60,TICKS_EPOCH:D.instance().jdEpoch,TICKS_PER_DAY:24*60*60*1e7,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(i,t,n){if(typeof i!="string"&&(n=t,t=i,i=""),!t)return"";if(t.calendar()!==this)throw D.local.invalidFormat||D.regionalOptions[""].invalidFormat;i=i||this.local.dateFormat,n=n||{};for(var r=n.dayNamesShort||this.local.dayNamesShort,l=n.dayNames||this.local.dayNames,o=n.monthNumbers||this.local.monthNumbers,s=n.monthNamesShort||this.local.monthNamesShort,f=n.monthNames||this.local.monthNames,e=n.calculateWeek||this.local.calculateWeek,p=function(w,k){for(var $=1;_+$<i.length&&i.charAt(_+$)===w;)$++;return _+=$-1,Math.floor($/(k||1))>1},u=function(w,k,$,P){var O=""+k;if(p(w,P))for(;O.length<$;)O="0"+O;return O},h=function(w,k,$,P){return p(w)?P[k]:$[k]},b=this,m=function(w){return typeof o=="function"?o.call(b,w,p("m")):v(u("m",w.month(),2))},g=function(w,k){return k?typeof f=="function"?f.call(b,w):f[w.month()-b.minMonth]:typeof s=="function"?s.call(b,w):s[w.month()-b.minMonth]},y=this.local.digits,v=function(w){return n.localNumbers&&y?y(w):w},c="",d=!1,_=0;_<i.length;_++)if(d)i.charAt(_)==="'"&&!p("'")?d=!1:c+=i.charAt(_);else switch(i.charAt(_)){case"d":c+=v(u("d",t.day(),2));break;case"D":c+=h("D",t.dayOfWeek(),r,l);break;case"o":c+=u("o",t.dayOfYear(),3);break;case"w":c+=u("w",t.weekOfYear(),2);break;case"m":c+=m(t);break;case"M":c+=g(t,p("M"));break;case"y":c+=p("y",2)?t.year():(t.year()%100<10?"0":"")+t.year()%100;break;case"Y":p("Y",2),c+=t.formatYear();break;case"J":c+=t.toJD();break;case"@":c+=(t.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":c+=(t.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":p("'")?c+="'":d=!0;break;default:c+=i.charAt(_)}return c},parseDate:function(i,t,n){if(t==null)throw D.local.invalidArguments||D.regionalOptions[""].invalidArguments;if(t=typeof t=="object"?t.toString():t+"",t==="")return null;i=i||this.local.dateFormat,n=n||{};var r=n.shortYearCutoff||this.shortYearCutoff;r=typeof r!="string"?r:this.today().year()%100+parseInt(r,10);for(var l=n.dayNamesShort||this.local.dayNamesShort,o=n.dayNames||this.local.dayNames,s=n.parseMonth||this.local.parseMonth,f=n.monthNumbers||this.local.monthNumbers,e=n.monthNamesShort||this.local.monthNamesShort,p=n.monthNames||this.local.monthNames,u=-1,h=-1,b=-1,m=-1,g=-1,y=!1,v=!1,c=function(E,N){for(var V=1;T+V<i.length&&i.charAt(T+V)===E;)V++;return T+=V-1,Math.floor(V/(N||1))>1},d=function(E,N){var V=c(E,N),U=[2,3,V?4:2,V?4:2,10,11,20]["oyYJ@!".indexOf(E)+1],G=new RegExp("^-?\\d{1,"+U+"}"),C=t.substring(O).match(G);if(!C)throw(D.local.missingNumberAt||D.regionalOptions[""].missingNumberAt).replace(/\{0\}/,O);return O+=C[0].length,parseInt(C[0],10)},_=this,w=function(){if(typeof f=="function"){c("m");var E=f.call(_,t.substring(O));return O+=E.length,E}return d("m")},k=function(E,N,V,U){for(var G=c(E,U)?V:N,C=0;C<G.length;C++)if(t.substr(O,G[C].length).toLowerCase()===G[C].toLowerCase())return O+=G[C].length,C+_.minMonth;throw(D.local.unknownNameAt||D.regionalOptions[""].unknownNameAt).replace(/\{0\}/,O)},$=function(){if(typeof p=="function"){var E=c("M")?p.call(_,t.substring(O)):e.call(_,t.substring(O));return O+=E.length,E}return k("M",e,p)},P=function(){if(t.charAt(O)!==i.charAt(T))throw(D.local.unexpectedLiteralAt||D.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,O);O++},O=0,T=0;T<i.length;T++)if(v)i.charAt(T)==="'"&&!c("'")?v=!1:P();else switch(i.charAt(T)){case"d":m=d("d");break;case"D":k("D",l,o);break;case"o":g=d("o");break;case"w":d("w");break;case"m":b=w();break;case"M":b=$();break;case"y":var X=T;y=!c("y",2),T=X,h=d("y",2);break;case"Y":h=d("Y",2);break;case"J":u=d("J")+.5,t.charAt(O)==="."&&(O++,d("J"));break;case"@":u=d("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":u=d("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":O=t.length;break;case"'":c("'")?P():v=!0;break;default:P()}if(O<t.length)throw D.local.unexpectedText||D.regionalOptions[""].unexpectedText;if(h===-1?h=this.today().year():h<100&&y&&(h+=r===-1?1900:this.today().year()-this.today().year()%100-(h<=r?0:100)),typeof b=="string"&&(b=s.call(this,h,b)),g>-1){b=1,m=g;for(var I=this.daysInMonth(h,b);m>I;I=this.daysInMonth(h,b))b++,m-=I}return u>-1?this.fromJD(u):this.newDate(h,b,m)},determineDate:function(i,t,n,r,l){n&&typeof n!="object"&&(l=r,r=n,n=null),typeof r!="string"&&(l=r,r="");var o=this,s=function(f){try{return o.parseDate(r,f,l)}catch{}f=f.toLowerCase();for(var e=(f.match(/^c/)&&n?n.newDate():null)||o.today(),p=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,u=p.exec(f);u;)e.add(parseInt(u[1],10),u[2]||"d"),u=p.exec(f);return e};return t=t?t.newDate():null,i=i==null?t:typeof i=="string"?s(i):typeof i=="number"?isNaN(i)||i===1/0||i===-1/0?t:o.today().add(i,"d"):o.newDate(i),i}})}),Hd=Dt(()=>{var F=ba(),D=xa(),i=F.instance();function t(u){this.local=this.regionalOptions[u||""]||this.regionalOptions[""]}t.prototype=new F.baseCalendar,D(t.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(u,h){if(typeof u=="string"){var b=u.match(r);return b?b[0]:""}var m=this._validateYear(u),g=u.month(),y=""+this.toChineseMonth(m,g);return h&&y.length<2&&(y="0"+y),this.isIntercalaryMonth(m,g)&&(y+="i"),y},monthNames:function(u){if(typeof u=="string"){var h=u.match(l);return h?h[0]:""}var b=this._validateYear(u),m=u.month(),g=this.toChineseMonth(b,m),y=["","","","","","","","","","","",""][g-1];return this.isIntercalaryMonth(b,m)&&(y=""+y),y},monthNamesShort:function(u){if(typeof u=="string"){var h=u.match(o);return h?h[0]:""}var b=this._validateYear(u),m=u.month(),g=this.toChineseMonth(b,m),y=["","","","","","","","","","","",""][g-1];return this.isIntercalaryMonth(b,m)&&(y=""+y),y},parseMonth:function(u,h){u=this._validateYear(u);var b=parseInt(h),m;if(isNaN(b))h[0]===""&&(m=!0,h=h.substring(1)),h[h.length-1]===""&&(h=h.substring(0,h.length-1)),b=1+["","","","","","","","","","","",""].indexOf(h);else{var g=h[h.length-1];m=g==="i"||g==="I"}var y=this.toMonthIndex(u,b,m);return y},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(u,h){if(u.year&&(u=u.year()),typeof u!="number"||u<1888||u>2111)throw h.replace(/\{0\}/,this.local.name);return u},toMonthIndex:function(u,h,b){var m=this.intercalaryMonth(u),g=b&&h!==m;if(g||h<1||h>12)throw F.local.invalidMonth.replace(/\{0\}/,this.local.name);var y;return m?!b&&h<=m?y=h-1:y=h:y=h-1,y},toChineseMonth:function(u,h){u.year&&(u=u.year(),h=u.month());var b=this.intercalaryMonth(u),m=b?12:11;if(h<0||h>m)throw F.local.invalidMonth.replace(/\{0\}/,this.local.name);var g;return b?h<b?g=h+1:g=h:g=h+1,g},intercalaryMonth:function(u){u=this._validateYear(u);var h=s[u-s[0]],b=h>>13;return b},isIntercalaryMonth:function(u,h){u.year&&(u=u.year(),h=u.month());var b=this.intercalaryMonth(u);return!!b&&b===h},leapYear:function(u){return this.intercalaryMonth(u)!==0},weekOfYear:function(u,h,b){var m=this._validateYear(u,F.local.invalidyear),g=f[m-f[0]],y=g>>9&4095,v=g>>5&15,c=g&31,d;d=i.newDate(y,v,c),d.add(4-(d.dayOfWeek()||7),"d");var _=this.toJD(u,h,b)-d.toJD();return 1+Math.floor(_/7)},monthsInYear:function(u){return this.leapYear(u)?13:12},daysInMonth:function(u,h){u.year&&(h=u.month(),u=u.year()),u=this._validateYear(u);var b=s[u-s[0]],m=b>>13,g=m?12:11;if(h>g)throw F.local.invalidMonth.replace(/\{0\}/,this.local.name);var y=b&1<<12-h?30:29;return y},weekDay:function(u,h,b){return(this.dayOfWeek(u,h,b)||7)<6},toJD:function(u,h,b){var m=this._validate(u,y,b,F.local.invalidDate);u=this._validateYear(m.year()),h=m.month(),b=m.day();var g=this.isIntercalaryMonth(u,h),y=this.toChineseMonth(u,h),v=p(u,y,b,g);return i.toJD(v.year,v.month,v.day)},fromJD:function(u){var h=i.fromJD(u),b=e(h.year(),h.month(),h.day()),m=this.toMonthIndex(b.year,b.month,b.isIntercalary);return this.newDate(b.year,m,b.day)},fromString:function(u){var h=u.match(n),b=this._validateYear(+h[1]),m=+h[2],g=!!h[3],y=this.toMonthIndex(b,m,g),v=+h[4];return this.newDate(b,y,v)},add:function(u,h,b){var m=u.year(),g=u.month(),y=this.isIntercalaryMonth(m,g),v=this.toChineseMonth(m,g),c=Object.getPrototypeOf(t.prototype).add.call(this,u,h,b);if(b==="y"){var d=c.year(),_=c.month(),w=this.isIntercalaryMonth(d,v),k=y&&w?this.toMonthIndex(d,v,!0):this.toMonthIndex(d,v,!1);k!==_&&c.month(k)}return c}});var n=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,r=/^\d?\d[iI]?/m,l=/^??[]?/m,o=/^??[]?/m;F.calendars.chinese=t;var s=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],f=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function e(u,h,b,m){var g,y;if(typeof u=="object")g=u,y=h||{};else{var v=typeof u=="number"&&u>=1888&&u<=2111;if(!v)throw new Error("Solar year outside range 1888-2111");var c=typeof h=="number"&&h>=1&&h<=12;if(!c)throw new Error("Solar month outside range 1 - 12");var d=typeof b=="number"&&b>=1&&b<=31;if(!d)throw new Error("Solar day outside range 1 - 31");g={year:u,month:h,day:b},y={}}var _=f[g.year-f[0]],w=g.year<<9|g.month<<5|g.day;y.year=w>=_?g.year:g.year-1,_=f[y.year-f[0]];var k=_>>9&4095,$=_>>5&15,P=_&31,O,T=new Date(k,$-1,P),X=new Date(g.year,g.month-1,g.day);O=Math.round((X-T)/(24*3600*1e3));var I=s[y.year-s[0]],E;for(E=0;E<13;E++){var N=I&1<<12-E?30:29;if(O<N)break;O-=N}var V=I>>13;return!V||E<V?(y.isIntercalary=!1,y.month=1+E):E===V?(y.isIntercalary=!0,y.month=E):(y.isIntercalary=!1,y.month=E),y.day=1+O,y}function p(u,h,b,m,g){var y,v;if(typeof u=="object")v=u,y=h||{};else{var c=typeof u=="number"&&u>=1888&&u<=2111;if(!c)throw new Error("Lunar year outside range 1888-2111");var d=typeof h=="number"&&h>=1&&h<=12;if(!d)throw new Error("Lunar month outside range 1 - 12");var _=typeof b=="number"&&b>=1&&b<=30;if(!_)throw new Error("Lunar day outside range 1 - 30");var w;typeof m=="object"?(w=!1,y=m):(w=!!m,y={}),v={year:u,month:h,day:b,isIntercalary:w}}var k;k=v.day-1;var $=s[v.year-s[0]],P=$>>13,O;P&&(v.month>P||v.isIntercalary)?O=v.month:O=v.month-1;for(var T=0;T<O;T++){var X=$&1<<12-T?30:29;k+=X}var I=f[v.year-f[0]],E=I>>9&4095,N=I>>5&15,V=I&31,U=new Date(E,N-1,V+k);return y.year=U.getFullYear(),y.month=1+U.getMonth(),y.day=U.getDate(),y}}),jd=Dt(()=>{var F=ba(),D=xa();function i(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}i.prototype=new F.baseCalendar,D(i.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(r){var n=this._validate(r,this.minMonth,this.minDay,F.local.invalidYear),r=n.year()+(n.year()<0?1:0);return r%4===3||r%4===-1},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,F.local.invalidYear||F.regionalOptions[""].invalidYear),13},weekOfYear:function(t,n,r){var l=this.newDate(t,n,r);return l.add(-l.dayOfWeek(),"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInMonth:function(t,n){var r=this._validate(t,n,this.minDay,F.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(r.month()===13&&this.leapYear(r.year())?1:0)},weekDay:function(t,n,r){return(this.dayOfWeek(t,n,r)||7)<6},toJD:function(t,n,r){var l=this._validate(t,n,r,F.local.invalidDate);return t=l.year(),t<0&&t++,l.day()+(l.month()-1)*30+(t-1)*365+Math.floor(t/4)+this.jdEpoch-1},fromJD:function(t){var n=Math.floor(t)+.5-this.jdEpoch,r=Math.floor((n-Math.floor((n+366)/1461))/365)+1;r<=0&&r--,n=Math.floor(t)+.5-this.newDate(r,1,1).toJD();var l=Math.floor(n/30)+1,o=n-(l-1)*30+1;return this.newDate(r,l,o)}}),F.calendars.coptic=i}),Vd=Dt(()=>{var F=ba(),D=xa();function i(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}i.prototype=new F.baseCalendar,D(i.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(n){return this._validate(n,this.minMonth,this.minDay,F.local.invalidYear),!1},monthsInYear:function(n){return this._validate(n,this.minMonth,this.minDay,F.local.invalidYear),13},daysInYear:function(n){return this._validate(n,this.minMonth,this.minDay,F.local.invalidYear),400},weekOfYear:function(n,r,l){var o=this.newDate(n,r,l);return o.add(-o.dayOfWeek(),"d"),Math.floor((o.dayOfYear()-1)/8)+1},daysInMonth:function(n,r){var l=this._validate(n,r,this.minDay,F.local.invalidMonth);return this.daysPerMonth[l.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(n,r,l){var o=this._validate(n,r,l,F.local.invalidDate);return(o.day()+1)%8},weekDay:function(n,r,l){var o=this.dayOfWeek(n,r,l);return o>=2&&o<=6},extraInfo:function(n,r,l){var o=this._validate(n,r,l,F.local.invalidDate);return{century:t[Math.floor((o.year()-1)/100)+1]||""}},toJD:function(n,r,l){var o=this._validate(n,r,l,F.local.invalidDate);return n=o.year()+(o.year()<0?1:0),r=o.month(),l=o.day(),l+(r>1?16:0)+(r>2?(r-2)*32:0)+(n-1)*400+this.jdEpoch-1},fromJD:function(n){n=Math.floor(n+.5)-Math.floor(this.jdEpoch)-1;var r=Math.floor(n/400)+1;n-=(r-1)*400,n+=n>15?16:0;var l=Math.floor(n/32)+1,o=n-(l-1)*32+1;return this.newDate(r<=0?r-1:r,l,o)}});var t={20:"Fruitbat",21:"Anchovy"};F.calendars.discworld=i}),Yd=Dt(()=>{var F=ba(),D=xa();function i(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}i.prototype=new F.baseCalendar,D(i.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(r){var n=this._validate(r,this.minMonth,this.minDay,F.local.invalidYear),r=n.year()+(n.year()<0?1:0);return r%4===3||r%4===-1},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,F.local.invalidYear||F.regionalOptions[""].invalidYear),13},weekOfYear:function(t,n,r){var l=this.newDate(t,n,r);return l.add(-l.dayOfWeek(),"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInMonth:function(t,n){var r=this._validate(t,n,this.minDay,F.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(r.month()===13&&this.leapYear(r.year())?1:0)},weekDay:function(t,n,r){return(this.dayOfWeek(t,n,r)||7)<6},toJD:function(t,n,r){var l=this._validate(t,n,r,F.local.invalidDate);return t=l.year(),t<0&&t++,l.day()+(l.month()-1)*30+(t-1)*365+Math.floor(t/4)+this.jdEpoch-1},fromJD:function(t){var n=Math.floor(t)+.5-this.jdEpoch,r=Math.floor((n-Math.floor((n+366)/1461))/365)+1;r<=0&&r--,n=Math.floor(t)+.5-this.newDate(r,1,1).toJD();var l=Math.floor(n/30)+1,o=n-(l-1)*30+1;return this.newDate(r,l,o)}}),F.calendars.ethiopian=i}),Zd=Dt(()=>{var F=ba(),D=xa();function i(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}i.prototype=new F.baseCalendar,D(i.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(n){var r=this._validate(n,this.minMonth,this.minDay,F.local.invalidYear);return this._leapYear(r.year())},_leapYear:function(n){return n=n<0?n+1:n,t(n*7+1,19)<7},monthsInYear:function(n){return this._validate(n,this.minMonth,this.minDay,F.local.invalidYear),this._leapYear(n.year?n.year():n)?13:12},weekOfYear:function(n,r,l){var o=this.newDate(n,r,l);return o.add(-o.dayOfWeek(),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInYear:function(n){var r=this._validate(n,this.minMonth,this.minDay,F.local.invalidYear);return n=r.year(),this.toJD(n===-1?1:n+1,7,1)-this.toJD(n,7,1)},daysInMonth:function(n,r){return n.year&&(r=n.month(),n=n.year()),this._validate(n,r,this.minDay,F.local.invalidMonth),r===12&&this.leapYear(n)||r===8&&t(this.daysInYear(n),10)===5?30:r===9&&t(this.daysInYear(n),10)===3?29:this.daysPerMonth[r-1]},weekDay:function(n,r,l){return this.dayOfWeek(n,r,l)!==6},extraInfo:function(n,r,l){var o=this._validate(n,r,l,F.local.invalidDate);return{yearType:(this.leapYear(o)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(o)%10-3]}},toJD:function(n,r,l){var o=this._validate(n,r,l,F.local.invalidDate);n=o.year(),r=o.month(),l=o.day();var s=n<=0?n+1:n,f=this.jdEpoch+this._delay1(s)+this._delay2(s)+l+1;if(r<7){for(var e=7;e<=this.monthsInYear(n);e++)f+=this.daysInMonth(n,e);for(var e=1;e<r;e++)f+=this.daysInMonth(n,e)}else for(var e=7;e<r;e++)f+=this.daysInMonth(n,e);return f},_delay1:function(n){var r=Math.floor((235*n-234)/19),l=12084+13753*r,o=r*29+Math.floor(l/25920);return t(3*(o+1),7)<3&&o++,o},_delay2:function(n){var r=this._delay1(n-1),l=this._delay1(n),o=this._delay1(n+1);return o-l===356?2:l-r===382?1:0},fromJD:function(n){n=Math.floor(n)+.5;for(var r=Math.floor((n-this.jdEpoch)*98496/35975351)-1;n>=this.toJD(r===-1?1:r+1,7,1);)r++;for(var l=n<this.toJD(r,1,1)?7:1;n>this.toJD(r,l,this.daysInMonth(r,l));)l++;var o=n-this.toJD(r,l,1)+1;return this.newDate(r,l,o)}});function t(n,r){return n-r*Math.floor(n/r)}F.calendars.hebrew=i}),Ud=Dt(()=>{var F=ba(),D=xa();function i(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}i.prototype=new F.baseCalendar,D(i.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khams","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(t){var n=this._validate(t,this.minMonth,this.minDay,F.local.invalidYear);return(n.year()*11+14)%30<11},weekOfYear:function(t,n,r){var l=this.newDate(t,n,r);return l.add(-l.dayOfWeek(),"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInYear:function(t){return this.leapYear(t)?355:354},daysInMonth:function(t,n){var r=this._validate(t,n,this.minDay,F.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(r.month()===12&&this.leapYear(r.year())?1:0)},weekDay:function(t,n,r){return this.dayOfWeek(t,n,r)!==5},toJD:function(t,n,r){var l=this._validate(t,n,r,F.local.invalidDate);return t=l.year(),n=l.month(),r=l.day(),t=t<=0?t+1:t,r+Math.ceil(29.5*(n-1))+(t-1)*354+Math.floor((3+11*t)/30)+this.jdEpoch-1},fromJD:function(t){t=Math.floor(t)+.5;var n=Math.floor((30*(t-this.jdEpoch)+10646)/10631);n=n<=0?n-1:n;var r=Math.min(12,Math.ceil((t-29-this.toJD(n,1,1))/29.5)+1),l=t-this.toJD(n,r,1)+1;return this.newDate(n,r,l)}}),F.calendars.islamic=i}),Gd=Dt(()=>{var F=ba(),D=xa();function i(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}i.prototype=new F.baseCalendar,D(i.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(r){var n=this._validate(r,this.minMonth,this.minDay,F.local.invalidYear),r=n.year()<0?n.year()+1:n.year();return r%4===0},weekOfYear:function(t,n,r){var l=this.newDate(t,n,r);return l.add(4-(l.dayOfWeek()||7),"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInMonth:function(t,n){var r=this._validate(t,n,this.minDay,F.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(r.month()===2&&this.leapYear(r.year())?1:0)},weekDay:function(t,n,r){return(this.dayOfWeek(t,n,r)||7)<6},toJD:function(t,n,r){var l=this._validate(t,n,r,F.local.invalidDate);return t=l.year(),n=l.month(),r=l.day(),t<0&&t++,n<=2&&(t--,n+=12),Math.floor(365.25*(t+4716))+Math.floor(30.6001*(n+1))+r-1524.5},fromJD:function(t){var n=Math.floor(t+.5),r=n+1524,l=Math.floor((r-122.1)/365.25),o=Math.floor(365.25*l),s=Math.floor((r-o)/30.6001),f=s-Math.floor(s<14?1:13),e=l-Math.floor(f>2?4716:4715),p=r-o-Math.floor(30.6001*s);return e<=0&&e--,this.newDate(e,f,p)}}),F.calendars.julian=i}),Xd=Dt(()=>{var F=ba(),D=xa();function i(r){this.local=this.regionalOptions[r||""]||this.regionalOptions[""]}i.prototype=new F.baseCalendar,D(i.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(r){return this._validate(r,this.minMonth,this.minDay,F.local.invalidYear),!1},formatYear:function(r){var l=this._validate(r,this.minMonth,this.minDay,F.local.invalidYear);r=l.year();var o=Math.floor(r/400);r=r%400,r+=r<0?400:0;var s=Math.floor(r/20);return o+"."+s+"."+r%20},forYear:function(r){if(r=r.split("."),r.length<3)throw"Invalid Mayan year";for(var l=0,o=0;o<r.length;o++){var s=parseInt(r[o],10);if(Math.abs(s)>19||o>0&&s<0)throw"Invalid Mayan year";l=l*20+s}return l},monthsInYear:function(r){return this._validate(r,this.minMonth,this.minDay,F.local.invalidYear),18},weekOfYear:function(r,l,o){return this._validate(r,l,o,F.local.invalidDate),0},daysInYear:function(r){return this._validate(r,this.minMonth,this.minDay,F.local.invalidYear),360},daysInMonth:function(r,l){return this._validate(r,l,this.minDay,F.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(r,l,o){var s=this._validate(r,l,o,F.local.invalidDate);return s.day()},weekDay:function(r,l,o){return this._validate(r,l,o,F.local.invalidDate),!0},extraInfo:function(r,l,o){var s=this._validate(r,l,o,F.local.invalidDate),f=s.toJD(),e=this._toHaab(f),p=this._toTzolkin(f);return{haabMonthName:this.local.haabMonths[e[0]-1],haabMonth:e[0],haabDay:e[1],tzolkinDayName:this.local.tzolkinMonths[p[0]-1],tzolkinDay:p[0],tzolkinTrecena:p[1]}},_toHaab:function(r){r-=this.jdEpoch;var l=t(r+8+17*20,365);return[Math.floor(l/20)+1,t(l,20)]},_toTzolkin:function(r){return r-=this.jdEpoch,[n(r+20,20),n(r+4,13)]},toJD:function(r,l,o){var s=this._validate(r,l,o,F.local.invalidDate);return s.day()+s.month()*20+s.year()*360+this.jdEpoch},fromJD:function(r){r=Math.floor(r)+.5-this.jdEpoch;var l=Math.floor(r/360);r=r%360,r+=r<0?360:0;var o=Math.floor(r/20),s=r%20;return this.newDate(l,o,s)}});function t(r,l){return r-l*Math.floor(r/l)}function n(r,l){return t(r-1,l)+1}F.calendars.mayan=i}),Wd=Dt(()=>{var F=ba(),D=xa();function i(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}i.prototype=new F.baseCalendar;var t=F.instance("gregorian");D(i.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(n){var r=this._validate(n,this.minMonth,this.minDay,F.local.invalidYear||F.regionalOptions[""].invalidYear);return t.leapYear(r.year()+(r.year()<1?1:0)+1469)},weekOfYear:function(n,r,l){var o=this.newDate(n,r,l);return o.add(1-(o.dayOfWeek()||7),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInMonth:function(n,r){var l=this._validate(n,r,this.minDay,F.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(l.month()===12&&this.leapYear(l.year())?1:0)},weekDay:function(n,r,l){return(this.dayOfWeek(n,r,l)||7)<6},toJD:function(s,r,l){var o=this._validate(s,r,l,F.local.invalidMonth),s=o.year();s<0&&s++;for(var f=o.day(),e=1;e<o.month();e++)f+=this.daysPerMonth[e-1];return f+t.toJD(s+1468,3,13)},fromJD:function(n){n=Math.floor(n+.5);for(var r=Math.floor((n-(this.jdEpoch-1))/366);n>=this.toJD(r+1,1,1);)r++;for(var l=n-Math.floor(this.toJD(r,1,1)+.5)+1,o=1;l>this.daysInMonth(r,o);)l-=this.daysInMonth(r,o),o++;return this.newDate(r,o,l)}}),F.calendars.nanakshahi=i}),Jd=Dt(()=>{var F=ba(),D=xa();function i(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}i.prototype=new F.baseCalendar,D(i.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(t){return this.daysInYear(t)!==this.daysPerYear},weekOfYear:function(t,n,r){var l=this.newDate(t,n,r);return l.add(-l.dayOfWeek(),"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInYear:function(t){var n=this._validate(t,this.minMonth,this.minDay,F.local.invalidYear);if(t=n.year(),typeof this.NEPALI_CALENDAR_DATA[t]>"u")return this.daysPerYear;for(var r=0,l=this.minMonth;l<=12;l++)r+=this.NEPALI_CALENDAR_DATA[t][l];return r},daysInMonth:function(t,n){return t.year&&(n=t.month(),t=t.year()),this._validate(t,n,this.minDay,F.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[t]>"u"?this.daysPerMonth[n-1]:this.NEPALI_CALENDAR_DATA[t][n]},weekDay:function(t,n,r){return this.dayOfWeek(t,n,r)!==6},toJD:function(t,n,r){var l=this._validate(t,n,r,F.local.invalidDate);t=l.year(),n=l.month(),r=l.day();var o=F.instance(),s=0,f=n,e=t;this._createMissingCalendarData(t);var p=t-(f>9||f===9&&r>=this.NEPALI_CALENDAR_DATA[e][0]?56:57);for(n!==9&&(s=r,f--);f!==9;)f<=0&&(f=12,e--),s+=this.NEPALI_CALENDAR_DATA[e][f],f--;return n===9?(s+=r-this.NEPALI_CALENDAR_DATA[e][0],s<0&&(s+=o.daysInYear(p))):s+=this.NEPALI_CALENDAR_DATA[e][9]-this.NEPALI_CALENDAR_DATA[e][0],o.newDate(p,1,1).add(s,"d").toJD()},fromJD:function(t){var n=F.instance(),r=n.fromJD(t),l=r.year(),o=r.dayOfYear(),s=l+56;this._createMissingCalendarData(s);for(var f=9,e=this.NEPALI_CALENDAR_DATA[s][0],p=this.NEPALI_CALENDAR_DATA[s][f]-e+1;o>p;)f++,f>12&&(f=1,s++),p+=this.NEPALI_CALENDAR_DATA[s][f];var u=this.NEPALI_CALENDAR_DATA[s][f]-(p-o);return this.newDate(s,f,u)},_createMissingCalendarData:function(t){var n=this.daysPerMonth.slice(0);n.unshift(17);for(var r=t-1;r<t+2;r++)typeof this.NEPALI_CALENDAR_DATA[r]>"u"&&(this.NEPALI_CALENDAR_DATA[r]=n)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),F.calendars.nepali=i}),qd=Dt(()=>{var F=ba(),D=xa();function i(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}i.prototype=new F.baseCalendar,D(i.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(n){var r=this._validate(n,this.minMonth,this.minDay,F.local.invalidYear);return((r.year()-(r.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(n,r,l){var o=this.newDate(n,r,l);return o.add(-((o.dayOfWeek()+1)%7),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInMonth:function(n,r){var l=this._validate(n,r,this.minDay,F.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(l.month()===12&&this.leapYear(l.year())?1:0)},weekDay:function(n,r,l){return this.dayOfWeek(n,r,l)!==5},toJD:function(n,r,l){var o=this._validate(n,r,l,F.local.invalidDate);n=o.year(),r=o.month(),l=o.day();var s=n-(n>=0?474:473),f=474+t(s,2820);return l+(r<=7?(r-1)*31:(r-1)*30+6)+Math.floor((f*682-110)/2816)+(f-1)*365+Math.floor(s/2820)*1029983+this.jdEpoch-1},fromJD:function(n){n=Math.floor(n)+.5;var r=n-this.toJD(475,1,1),l=Math.floor(r/1029983),o=t(r,1029983),s=2820;if(o!==1029982){var f=Math.floor(o/366),e=t(o,366);s=Math.floor((2134*f+2816*e+2815)/1028522)+f+1}var p=s+2820*l+474;p=p<=0?p-1:p;var u=n-this.toJD(p,1,1)+1,h=u<=186?Math.ceil(u/31):Math.ceil((u-6)/30),b=n-this.toJD(p,h,1)+1;return this.newDate(p,h,b)}});function t(n,r){return n-r*Math.floor(n/r)}F.calendars.persian=i,F.calendars.jalali=i}),$d=Dt(()=>{var F=ba(),D=xa(),i=F.instance();function t(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}t.prototype=new F.baseCalendar,D(t.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(l){var r=this._validate(l,this.minMonth,this.minDay,F.local.invalidYear),l=this._t2gYear(r.year());return i.leapYear(l)},weekOfYear:function(s,r,l){var o=this._validate(s,this.minMonth,this.minDay,F.local.invalidYear),s=this._t2gYear(o.year());return i.weekOfYear(s,o.month(),o.day())},daysInMonth:function(n,r){var l=this._validate(n,r,this.minDay,F.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(l.month()===2&&this.leapYear(l.year())?1:0)},weekDay:function(n,r,l){return(this.dayOfWeek(n,r,l)||7)<6},toJD:function(s,r,l){var o=this._validate(s,r,l,F.local.invalidDate),s=this._t2gYear(o.year());return i.toJD(s,o.month(),o.day())},fromJD:function(n){var r=i.fromJD(n),l=this._g2tYear(r.year());return this.newDate(l,r.month(),r.day())},_t2gYear:function(n){return n+this.yearsOffset+(n>=-this.yearsOffset&&n<=-1?1:0)},_g2tYear:function(n){return n-this.yearsOffset-(n>=1&&n<=this.yearsOffset?1:0)}}),F.calendars.taiwan=t}),Qd=Dt(()=>{var F=ba(),D=xa(),i=F.instance();function t(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}t.prototype=new F.baseCalendar,D(t.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(l){var r=this._validate(l,this.minMonth,this.minDay,F.local.invalidYear),l=this._t2gYear(r.year());return i.leapYear(l)},weekOfYear:function(s,r,l){var o=this._validate(s,this.minMonth,this.minDay,F.local.invalidYear),s=this._t2gYear(o.year());return i.weekOfYear(s,o.month(),o.day())},daysInMonth:function(n,r){var l=this._validate(n,r,this.minDay,F.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(l.month()===2&&this.leapYear(l.year())?1:0)},weekDay:function(n,r,l){return(this.dayOfWeek(n,r,l)||7)<6},toJD:function(s,r,l){var o=this._validate(s,r,l,F.local.invalidDate),s=this._t2gYear(o.year());return i.toJD(s,o.month(),o.day())},fromJD:function(n){var r=i.fromJD(n),l=this._g2tYear(r.year());return this.newDate(l,r.month(),r.day())},_t2gYear:function(n){return n-this.yearsOffset-(n>=1&&n<=this.yearsOffset?1:0)},_g2tYear:function(n){return n+this.yearsOffset+(n>=-this.yearsOffset&&n<=-1?1:0)}}),F.calendars.thai=t}),Kd=Dt(()=>{var F=ba(),D=xa();function i(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}i.prototype=new F.baseCalendar,D(i.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalth","Yawm al-Arba","Yawm al-Khams","Yawm al-Juma","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(n){var r=this._validate(n,this.minMonth,this.minDay,F.local.invalidYear);return this.daysInYear(r.year())===355},weekOfYear:function(n,r,l){var o=this.newDate(n,r,l);return o.add(-o.dayOfWeek(),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInYear:function(n){for(var r=0,l=1;l<=12;l++)r+=this.daysInMonth(n,l);return r},daysInMonth:function(n,r){for(var l=this._validate(n,r,this.minDay,F.local.invalidMonth),o=l.toJD()-24e5+.5,s=0,f=0;f<t.length;f++){if(t[f]>o)return t[s]-t[s-1];s++}return 30},weekDay:function(n,r,l){return this.dayOfWeek(n,r,l)!==5},toJD:function(n,r,l){var o=this._validate(n,r,l,F.local.invalidDate),s=12*(o.year()-1)+o.month()-15292,f=o.day()+t[s-1]-1;return f+24e5-.5},fromJD:function(n){for(var r=n-24e5+.5,l=0,o=0;o<t.length&&!(t[o]>r);o++)l++;var s=l+15292,f=Math.floor((s-1)/12),e=f+1,p=s-12*f,u=r-t[l-1]+1;return this.newDate(e,p,u)},isValid:function(n,r,l){var o=F.baseCalendar.prototype.isValid.apply(this,arguments);return o&&(n=n.year!=null?n.year:n,o=n>=1276&&n<=1500),o},_validate:function(n,r,l,o){var s=F.baseCalendar.prototype._validate.apply(this,arguments);if(s.year<1276||s.year>1500)throw o.replace(/\{0\}/,this.local.name);return s}}),F.calendars.ummalqura=i;var t=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]}),th=Dt((F,D)=>{D.exports=ba(),Bd(),Hd(),jd(),Vd(),Yd(),Zd(),Ud(),Gd(),Xd(),Wd(),Jd(),qd(),$d(),Qd(),Kd()}),eh=Dt((F,D)=>{var i=th(),t=Ce(),n=oa(),r=n.EPOCHJD,l=n.ONEDAY,o={valType:"enumerated",values:t.sortObjectKeys(i.calendars),editType:"calc",dflt:"gregorian"},s=function($,P,O,T){var X={};return X[O]=o,t.coerce($,P,X,O,T)},f=function($,P,O,T){for(var X=0;X<O.length;X++)s($,P,O[X]+"calendar",T.calendar)},e={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},p={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},u={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},h="##",b={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:h,w:h,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function m($,P,O){for(var T=Math.floor((P+.05)/l)+r,X=y(O).fromJD(T),I=0,E,N,V,U,G;(I=$.indexOf("%",I))!==-1;)E=$.charAt(I+1),E==="0"||E==="-"||E==="_"?(V=3,N=$.charAt(I+2),E==="_"&&(E="-")):(N=E,E="0",V=2),U=b[N],U?(U===h?G=h:G=X.formatDate(U[E]),$=$.substr(0,I)+G+$.substr(I+V),I+=G.length):I+=V;return $}var g={};function y($){var P=g[$];return P||(P=g[$]=i.instance($),P)}function v($){return t.extendFlat({},o,{description:$})}function c($){return"Sets the calendar system to use with `"+$+"` date data."}var d={xcalendar:v(c("x"))},_=t.extendFlat({},d,{ycalendar:v(c("y"))}),w=t.extendFlat({},_,{zcalendar:v(c("z"))}),k=v(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));D.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:_,bar:_,box:_,heatmap:_,contour:_,histogram:_,histogram2d:_,histogram2dcontour:_,scatter3d:w,surface:w,mesh3d:w,scattergl:_,ohlc:d,candlestick:d},layout:{calendar:v(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:k},yaxis:{calendar:k},scene:{xaxis:{calendar:k},yaxis:{calendar:k},zaxis:{calendar:k}},polar:{radialaxis:{calendar:k}}}},layoutAttributes:o,handleDefaults:s,handleTraceDefaults:f,CANONICAL_SUNDAY:p,CANONICAL_TICK:e,DFLTRANGE:u,getCal:y,worldCalFmt:m}}),nh=Dt((F,D)=>{D.exports=eh()}),ah=Dt((F,D)=>{var i=_d();i.register([Cd(),zd(),nh()]),D.exports=i});return ah()})();/*! Bundled license information:

	native-promise-only/lib/npo.src.js:
	  (*! Native Promise Only
	      v0.8.1 (c) Kyle Simpson
	      MIT License: http://getify.mit-license.org
	  *)

	polybooljs/index.js:
	  (*
	   * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
	   * @license MIT
	   * @preserve Project Home: https://github.com/voidqk/polybooljs
	   *)

	object-assign/index.js:
	  (*
	  object-assign
	  (c) Sindre Sorhus
	  @license MIT
	  *)
	*/return window.Plotly=or,or})})(ru);var iu=ru.exports;const Up=Zp(iu),Gp=Vp({__proto__:null,default:Up},[iu]);export{Gp as p};
