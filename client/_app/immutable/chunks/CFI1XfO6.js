import"./Bzak7iHL.js";import{p as ye,i as X,o as ke,l as p,k as l,u as _,h as g,f as k,d as c,s as f,r as d,t as H,b as y,c as Se}from"./DhSNEPDw.js";import{d as Le,s as Y,e as Z}from"./DVtHS8ol.js";import{i as D}from"./BG76zvuN.js";import{e as $,i as Oe}from"./ByI6iVq5.js";import{r as q,b as ee,d as le}from"./aV0zye_u.js";import{b as we}from"./DPXw0ygh.js";import{b as te}from"./C0kNAPzX.js";import{p as u}from"./DpjY2ypC.js";import{L as re}from"./CzbepVLR.js";function Ae(S,r,s,a){r()(l(s)),l(a).scrollTop=0}function Ce(S,r,s,a){r([...r(),...s()].sort()),s([]),a(20)}function He(S,r,s,a,i){var v;r()&&((v=r())==null?void 0:v.length)!==0?(s(r()),a([]),i(20)):(s([...s(),...a()]),a([]),i(20))}var De=k('<button id="select-all" class="btn preset-outlined-surface-500 hover:preset-filled-primary-500 ml-2 text-sm">Select All</button>'),Ie=k('<label class="p-1 m-1 block cursor-pointer hover:preset-tonal-surface hover:rounded-md" role="listitem"><input type="checkbox" class="mr-1 float-left"/> </label>'),Te=k('<button id="clear" class="btn preset-outlined-surface-500 hover:preset-filled-primary-500 ml-2 text-sm">Clear</button>'),Be=k('<label class="p-1 m-1 block hover:preset-tonal-surface hover:rounded-md cursor-pointer" role="listitem"><input type="checkbox" class="mr-1" checked/> </label>'),Me=k('<div data-testid="optional-selection-list" class="flex w-full"><div class="flex flex-1 flex-col h-full p-3 m-1 card bg-surface-100 rounded-xl"><header class="flex pb-1"><input class="input text-sm" type="search" name="search" placeholder="Search..."/> <!></header> <section class="card-body"><div id="options-container" class="overflow-scroll scrollbar-color h-25vh svelte-11wlxkk"><!> <!></div></section></div> <div class="flex flex-1 flex-col h-full p-3 m-1 card bg-surface-100 rounded-xl"><header class="flex justify-between pb-1"><div class="py-2">Selected:</div> <!></header> <section class="card-body"><div id="selected-options-container" class="overflow-scroll scrollbar-color h-25vh svelte-11wlxkk"><!> <!></div></section></div></div>');function Pe(S,r){ye(r,!0);let s=g(""),a=u(r,"unselectedOptions",31,()=>X([])),i=u(r,"selectedOptions",31,()=>X([])),v=u(r,"selectedOptionEndLocation",15,20),F=u(r,"currentlyLoading",11,!1),ae=u(r,"showClearAll",3,!0),oe=u(r,"showSelectAll",3,!0),se=u(r,"allOptionsLoaded",3,!1),I=u(r,"allOptions",3,void 0),G=u(r,"onscroll",3,()=>{}),T=g(!1),m=g(void 0),L=g(void 0),B=g(!1);function J(e,t){const o=e.scrollTop,n=e.clientHeight,b=e.scrollHeight;return!t&&b-(o+n)<=30}function ie(){l(m)&&!F()&&J(l(m),l(ue))&&G()(l(s))}function ne(){l(L)&&(p(T,!0),J(l(L),l(B))&&v(v()+20),p(T,!1))}function ce(e){return t=>{t.preventDefault(),a(a().filter(o=>o!==e)),i([...i(),e].sort())}}function de(e){return t=>{t.preventDefault(),i(i().filter(o=>o!==e)),a([e,...a()])}}function K(e){return e.replaceAll(" ","-").toLowerCase()}let M=_(()=>I()===void 0),fe=_(()=>{var e;return l(M)?1/0:(((e=I())==null?void 0:e.length)||0)-i().length}),ue=_(()=>l(M)?se():a().length>=l(fe)),N=_(()=>i().slice(0,v()));ke(()=>{p(B,l(M)?l(B):l(N).length>=i().length,!0)});var U=Me(),j=c(U),z=c(j),O=c(z);q(O),O.__input=[Ae,G,s,m];var ve=f(O,2);{var he=e=>{var t=De();t.__click=[He,I,i,a,v],H(()=>t.disabled=a().length===0),y(e,t)};D(ve,e=>{oe()&&e(he)})}d(z);var P=f(z,2),w=c(P),Q=c(w);$(Q,17,a,Oe,(e,t)=>{var o=Ie(),n=c(o);q(n);var b=_(()=>ce(l(t)));n.__click=function(...h){var x;(x=l(b))==null||x.apply(this,h)};var C=f(n);d(o),H(h=>{ee(o,"id",`option-${h??""}`),le(n,l(t)),Y(C,` ${l(t)??""}`)},[()=>K(l(t))]),y(e,o)});var pe=f(Q,2);{var _e=e=>{re(e,{ring:!0,size:"small"})};D(pe,e=>{F()&&e(_e)})}d(w),te(w,e=>p(m,e),()=>l(m)),d(P),d(j);var R=f(j,2),E=c(R),me=f(c(E),2);{var be=e=>{var t=Te();t.__click=[Ce,a,i,v],H(()=>t.disabled=i().length===0),y(e,t)};D(me,e=>{ae()&&e(be)})}d(E);var V=f(E,2),A=c(V),W=c(A);$(W,16,()=>l(N),e=>e,(e,t)=>{var o=Be(),n=c(o);q(n);var b=_(()=>de(t));n.__click=function(...h){var x;(x=l(b))==null||x.apply(this,h)};var C=f(n);d(o),H(h=>{ee(o,"id",`option-${h??""}`),le(n,t),Y(C,` ${t??""}`)},[()=>K(t)]),y(e,o)});var xe=f(W,2);{var ge=e=>{re(e,{})};D(xe,e=>{l(T)&&e(ge)})}d(A),te(A,e=>p(L,e),()=>l(L)),d(V),d(R),d(U),we(O,()=>l(s),e=>p(s,e)),Z("scroll",w,ie),Z("scroll",A,ne),y(S,U),Se()}Le(["input","click"]);export{Pe as O};
