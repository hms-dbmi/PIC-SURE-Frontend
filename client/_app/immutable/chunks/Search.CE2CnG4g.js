import{w as l}from"./entry.Bvh0VnfG.js";import{s as h}from"./dictionary.CBe-qwhx.js";import{r as u}from"./scheduler.bui7uCNy.js";const p=l(Promise.resolve(void 0)),m=l(""),i=l([]),s=l("");async function d(e,c,r){if(!e&&(!c||!c.length))return r==null||r.setTotalRows(0),[];const n=h(e.trim(),c,{pageNumber:r!=null&&r.pageNumber?(r==null?void 0:r.pageNumber)-1:0,pageSize:r==null?void 0:r.rowsPerPage});p.set(n);const o=await n.catch(a=>{throw console.error(a),r==null||r.setTotalRows(0),s.set("An error occurred while searching. If the problem persists, please contact an administrator."),a});return o||s.set("An error occurred while searching. If the problem persists, please contact an administrator."),r==null||r.setTotalRows((o==null?void 0:o.totalElements)??0),(o==null?void 0:o.content)??[]}async function f(e){const c=u(i);e.forEach(r=>{const n=c.findIndex(o=>o.name===r.name);n!==-1?c.splice(n,1):c.push(r)}),i.set(c.sort((r,n)=>n.count-r.count))}function g(){m.set(""),i.set([]),s.set("")}const S={selectedFacets:i,searchTerm:m,error:s,search:d,updateFacets:f,resetSearch:g};export{S,m as a,p as l,g as r,i as s};
