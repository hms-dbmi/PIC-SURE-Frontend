import{w as c,g as b}from"./DpyMT7OB.js";import{g as f,u as v}from"./BpV1Tt4c.js";import"./BD7x6Jnt.js";const D=c(!1),w=c([]),y=c([]),I=c({});function R(){return f("picsure/proxy/dictionary-api/dashboard")}function h(){return!!localStorage.getItem("token")}async function L(){var d,u;const n=await R();w.set(n.columns);const t=b(v),s=h()&&(t==null?void 0:t.queryTemplate);let e=[];s&&(e=((u=(d=t.queryTemplate)==null?void 0:d.categoryFilters)==null?void 0:u["\\_consents\\"])||[]);const r=n.rows.map(G(e)).sort((a,i)=>{var p,g;const l=(((p=a.program_name)==null?void 0:p.toString().toLowerCase())||"")==="anvil",m=(((g=i.program_name)==null?void 0:g.toString().toLowerCase())||"")==="anvil";return l!==m?l?1:-1:a.consentGranted===i.consentGranted?S(a,i):a.consentGranted?-1:1});y.set(r)}function G(n){return t=>{if(!t.accession)return{...t,consentGranted:!1};const s=t.accession.toString();if(/^phs\d+\.v\d+\.p\d+\.c\d+$/.test(s)){const o=s.replace(/\.v\d+\.p\d+/,"");return{...t,consentGranted:n.includes(o)}}return{...t,consentGranted:n.includes(s)}}}function S(n,t){var o,r;const s=((o=n.abbreviation)==null?void 0:o.toString())||"",e=((r=t.abbreviation)==null?void 0:r.toString())||"";return s.localeCompare(e)}export{I as a,w as c,L as l,D as o,y as r};
