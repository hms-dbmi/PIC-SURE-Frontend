import{d as xt,p as _t,f as D,a as R,c as oe,t as ye}from"./CtfeAAbw.js";import{o as kt}from"./DlIBaGjY.js";import{j as le,k as We,z as Be,i as Pt,E as Et,x as Tt,aQ as St,K as Ft,I as Lt,v as Ge,q as Ye,P as At,y as Rt,w as Ht,G as It,p as ie,g as b,h as q,c as W,F as rt,r as V,t as K,a as ne,s as Y,f as X,b as pe,e as re,n as Me,d as ot,u as Bt}from"./B4GrenNm.js";import{d as Nt,e as ze,s as he}from"./DxSOTiY2.js";import{i as U}from"./CSsnQ7i2.js";import{d as Ce}from"./D7VV4X-8.js";import{p as G,r as at,s as me,a as Z,c as Te}from"./DvPjbdiY.js";import{p as Ve}from"./DRUiW6Zw.js";import{g as it}from"./CsA2x4iF.js";import{f as Se,b as Vt}from"./CHRSknKA.js";import{S as Dt,o as Pe,u as Ot,a as He,h as Mt,i as Wt,s as be,j as Gt,k as Ue,r as Yt,t as qe,l as zt,m as Ut}from"./BtrPhJEK.js";import{e as Ee,b as ae,s as ee,r as nt,d as qt,g as Kt,a as Ke}from"./BPiAbArq.js";import{s as $t}from"./CGq3ekOq.js";import{E as jt,c as Zt}from"./BK8ReYLX.js";import{p as st}from"./M_WnVc2Q.js";import{v as Xt,d as Jt}from"./CwvcP1kx.js";import{R as Qt}from"./DuKdFHkL.js";import{S as er}from"./C8xXU9Aq.js";import{a as tr}from"./bf3FOAR_.js";import{e as ce,i as de}from"./BdG0KSB2.js";import{s as fe}from"./BWMYve5J.js";import{G as rr,H as or,aq as ar,V as ir,W as nr,$ as sr,a0 as lr,aA as cr,aB as dr,O as ur,a3 as pr,Q as vr,M as ve,Z as fr,aC as hr,aD as mr}from"./yAhaO9Md.js";import{c as lt,u as gr,n as br,L as yr}from"./B7pZD2Tm.js";import{t as ct,s as wr,b as Cr}from"./C4-uZRU6.js";import{E as dt}from"./BVg5wqNm.js";import{c as xr}from"./10UUyb-S.js";import{b as _r}from"./CJCVGGPV.js";import{e as kr}from"./BqrDejZS.js";import{h as Pr}from"./BeImZ7I_.js";import{p as Er}from"./CEVJ7K31.js";import{M as Tr}from"./CtCNvYvu.js";function Sr(t,e,r,o,a,s){let h=le;le&&We();var m,p,c=null;le&&Be.nodeType===1&&(c=Be,We());var w=le?Be:t,C;Pt(()=>{const i=e()||null;var n=i==="svg"?St:null;i!==m&&(C&&(i===null?Rt(C,()=>{C=null,p=null}):i===p?Ht(C):(It(C),ze(!1))),i&&i!==p&&(C=Tt(()=>{if(c=le?c:n?document.createElementNS(n,i):document.createElement(i),xt(c,c),o){le&&Nt(i)&&c.append(document.createComment(""));var d=le?Ft(c):c.appendChild(Lt());le&&(d===null?Ge(!1):Ye(d)),o(c,d)}At.nodes_end=c,w.before(c)})),m=i,m&&(p=m),ze(!0))},Et),h&&(Ge(!0),Ye(w))}var Fr=ur("accordion").parts("root","item","itemTrigger","itemContent","itemIndicator"),ge=Fr.build(),Fe=t=>{var e;return((e=t.ids)==null?void 0:e.root)??`accordion:${t.id}`},Lr=(t,e)=>{var r,o;return((o=(r=t.ids)==null?void 0:r.item)==null?void 0:o.call(r,e))??`accordion:${t.id}:item:${e}`},$e=(t,e)=>{var r,o;return((o=(r=t.ids)==null?void 0:r.itemContent)==null?void 0:o.call(r,e))??`accordion:${t.id}:content:${e}`},Le=(t,e)=>{var r,o;return((o=(r=t.ids)==null?void 0:r.itemTrigger)==null?void 0:o.call(r,e))??`accordion:${t.id}:trigger:${e}`},Ar=t=>t.getById(Fe(t)),Ie=t=>{const r=`[aria-controls][data-ownedby='${CSS.escape(Fe(t))}']:not([disabled])`;return fr(Ar(t),r)},Rr=t=>lr(Ie(t)),Hr=t=>sr(Ie(t)),Ir=(t,e)=>nr(Ie(t),Le(t,e)),Br=(t,e)=>ir(Ie(t),Le(t,e));function Nr(t,e){const{send:r,context:o,prop:a,scope:s,computed:h}=t,m=o.get("focusedValue"),p=o.get("value"),c=a("multiple");function w(i){let n=i;!c&&n.length>1&&(n=[n[0]]),r({type:"VALUE.SET",value:n})}function C(i){return{expanded:p.includes(i.value),focused:m===i.value,disabled:!!(i.disabled??a("disabled"))}}return{focusedValue:m,value:p,setValue:w,getItemState:C,getRootProps(){return e.element({...ge.root.attrs,dir:a("dir"),id:Fe(s),"data-orientation":a("orientation")})},getItemProps(i){const n=C(i);return e.element({...ge.item.attrs,dir:a("dir"),id:Lr(s,i.value),"data-state":n.expanded?"open":"closed","data-focus":ve(n.focused),"data-disabled":ve(n.disabled),"data-orientation":a("orientation")})},getItemContentProps(i){const n=C(i);return e.element({...ge.itemContent.attrs,dir:a("dir"),role:"region",id:$e(s,i.value),"aria-labelledby":Le(s,i.value),hidden:!n.expanded,"data-state":n.expanded?"open":"closed","data-disabled":ve(n.disabled),"data-focus":ve(n.focused),"data-orientation":a("orientation")})},getItemIndicatorProps(i){const n=C(i);return e.element({...ge.itemIndicator.attrs,dir:a("dir"),"aria-hidden":!0,"data-state":n.expanded?"open":"closed","data-disabled":ve(n.disabled),"data-focus":ve(n.focused),"data-orientation":a("orientation")})},getItemTriggerProps(i){const{value:n}=i,d=C(i);return e.button({...ge.itemTrigger.attrs,type:"button",dir:a("dir"),id:Le(s,n),"aria-controls":$e(s,n),"aria-expanded":d.expanded,disabled:d.disabled,"data-orientation":a("orientation"),"aria-disabled":d.disabled,"data-state":d.expanded?"open":"closed","data-ownedby":Fe(s),onFocus(){d.disabled||r({type:"TRIGGER.FOCUS",value:n})},onBlur(){d.disabled||r({type:"TRIGGER.BLUR"})},onClick(v){d.disabled||(vr()&&v.currentTarget.focus(),r({type:"TRIGGER.CLICK",value:n}))},onKeyDown(v){if(v.defaultPrevented||d.disabled)return;const u={ArrowDown(){h("isHorizontal")||r({type:"GOTO.NEXT",value:n})},ArrowUp(){h("isHorizontal")||r({type:"GOTO.PREV",value:n})},ArrowRight(){h("isHorizontal")&&r({type:"GOTO.NEXT",value:n})},ArrowLeft(){h("isHorizontal")&&r({type:"GOTO.PREV",value:n})},Home(){r({type:"GOTO.FIRST",value:n})},End(){r({type:"GOTO.LAST",value:n})}},y=pr(v,{dir:a("dir"),orientation:a("orientation")}),T=u[y];T&&(T(v),v.preventDefault())}})}}}var{and:Vr,not:Dr}=or(),Or=rr({props({props:t}){return{collapsible:!1,multiple:!1,orientation:"vertical",defaultValue:[],...t}},initialState(){return"idle"},context({prop:t,bindable:e}){return{focusedValue:e(()=>({defaultValue:null,sync:!0,onChange(r){var o;(o=t("onFocusChange"))==null||o({value:r})}})),value:e(()=>({defaultValue:t("defaultValue"),value:t("value"),onChange(r){var o;(o=t("onValueChange"))==null||o({value:r})}}))}},computed:{isHorizontal:({prop:t})=>t("orientation")==="horizontal"},on:{"VALUE.SET":{actions:["setValue"]}},states:{idle:{on:{"TRIGGER.FOCUS":{target:"focused",actions:["setFocusedValue"]}}},focused:{on:{"GOTO.NEXT":{actions:["focusNextTrigger"]},"GOTO.PREV":{actions:["focusPrevTrigger"]},"TRIGGER.CLICK":[{guard:Vr("isExpanded","canToggle"),actions:["collapse"]},{guard:Dr("isExpanded"),actions:["expand"]}],"GOTO.FIRST":{actions:["focusFirstTrigger"]},"GOTO.LAST":{actions:["focusLastTrigger"]},"TRIGGER.BLUR":{target:"idle",actions:["clearFocusedValue"]}}}},implementations:{guards:{canToggle:({prop:t})=>!!t("collapsible")||!!t("multiple"),isExpanded:({context:t,event:e})=>t.get("value").includes(e.value)},actions:{collapse({context:t,prop:e,event:r}){const o=e("multiple")?dr(t.get("value"),r.value):[];t.set("value",o)},expand({context:t,prop:e,event:r}){const o=e("multiple")?cr(t.get("value"),r.value):[r.value];t.set("value",o)},focusFirstTrigger({scope:t}){var e;(e=Rr(t))==null||e.focus()},focusLastTrigger({scope:t}){var e;(e=Hr(t))==null||e.focus()},focusNextTrigger({context:t,scope:e}){const r=t.get("focusedValue");if(!r)return;const o=Ir(e,r);o==null||o.focus()},focusPrevTrigger({context:t,scope:e}){const r=t.get("focusedValue");if(!r)return;const o=Br(e,r);o==null||o.focus()},setFocusedValue({context:t,event:e}){t.set("focusedValue",e.value)},clearFocusedValue({context:t}){t.set("focusedValue",null)},setValue({context:t,event:e}){t.set("value",e.value)},coarseValue({context:t,prop:e}){!e("multiple")&&t.get("value").length>1&&(ar("The value of accordion should be a single value when multiple is false."),t.set("value",[t.get("value")[0]]))}}}});lt()(["collapsible","dir","disabled","getRootNode","id","ids","multiple","onFocusChange","onValueChange","orientation","value","defaultValue"]);lt()(["value","disabled"]);var Mr=D("<div><!></div>");function Wr(t,e){const r=_t();ie(e,!0);const o=G(e,"animationConfig",19,()=>({duration:200})),a=G(e,"base",3,""),s=G(e,"padding",3,""),h=G(e,"spaceY",3,"space-y-2"),m=G(e,"rounded",3,"rounded-base"),p=G(e,"width",3,"w-full"),c=G(e,"classes",3,""),w=at(e,["$$slots","$$events","$$legacy","animationConfig","base","padding","spaceY","rounded","width","classes","children","iconOpen","iconClosed"]),C=gr(Or,()=>({id:r,...w})),i=q(()=>Nr(C,br));hr({get api(){return b(i)},get animationConfig(){return o()},get iconClosed(){return e.iconClosed},get iconOpen(){return e.iconOpen}});var n=Mr();let d;var v=W(n);fe(v,()=>e.children??rt),V(n),K(u=>d=Ee(n,d,{class:`${a()??""} ${s()??""} ${h()??""} ${m()??""} ${p()??""} ${c()??""}`,...u,"data-testid":"accordion"}),[()=>b(i).getRootProps()]),R(t,n),ne()}var Gr=D('<div data-testid="accordion-lead"><!></div>'),Yr=D('<button><!> <div data-testid="accordion-control"><!></div> <div data-testid="accordion-indicator"><!></div></button>'),zr=D("<div><!></div>"),Ur=D("<div><!> <!></div>");function qr(t,e){ie(e,!0);const r=G(e,"headingLevel",3,3),o=G(e,"controlBase",3,"flex text-start items-center space-x-4 w-full"),a=G(e,"controlHover",3,"hover:preset-tonal-primary"),s=G(e,"controlPadding",3,"py-2 px-4"),h=G(e,"controlRounded",3,"rounded-base"),m=G(e,"leadBase",3,""),p=G(e,"leadClasses",3,""),c=G(e,"contentBase",3,"flex-1"),w=G(e,"contentClasses",3,""),C=G(e,"indicatorBase",3,""),i=G(e,"indicatorClasses",3,""),n=G(e,"panelPadding",3,"py-2 px-4"),d=at(e,["$$slots","$$events","$$legacy","headingLevel","base","spaceY","classes","controlBase","controlHover","controlPadding","controlRounded","controlClasses","leadBase","leadClasses","contentBase","contentClasses","indicatorBase","indicatorClasses","panelBase","panelPadding","panelRounded","panelClasses","control","lead","panel"]),v=mr();var u=Ur();let y;var T=W(u);Sr(T,()=>`h${r()}`,!1,(F,l)=>{var g=Yr();let P;var H=W(g);{var M=k=>{var B=Gr(),z=W(B);fe(z,()=>e.lead),V(B),K(()=>ae(B,1,`${m()??""} ${p()??""}`)),R(k,B)};U(H,k=>{e.lead&&k(M)})}var f=Y(H,2),x=W(f);fe(x,()=>e.control),V(f);var A=Y(f,2),E=W(A);{var N=k=>{var B=oe(),z=X(B);{var $=Q=>{var se=oe(),xe=X(se);fe(xe,()=>v.iconOpen),R(Q,se)},J=Q=>{var se=ye("−");R(Q,se)};U(z,Q=>{v.iconOpen?Q($):Q(J,!1)})}R(k,B)},O=(k,B)=>{{var z=J=>{var Q=oe(),se=X(Q);fe(se,()=>v.iconClosed),R(J,Q)},$=J=>{var Q=ye("+");R(J,Q)};U(k,J=>{v.iconClosed?J(z):J($,!1)},B)}};U(E,k=>{v.api.value.includes(e.value)?k(N):k(O,!1)})}V(A),V(g),K(k=>{P=Ee(g,P,{class:`${o()??""} ${a()??""} ${s()??""} ${h()??""} ${e.controlClasses??""}`,...k,"data-testid":"accordion-control"}),ae(f,1,`${c()??""} ${w()??""}`),ae(A,1,`${C()??""} ${i()??""}`)},[()=>v.api.getItemTriggerProps(d)]),R(l,g)});var I=Y(T,2);{var L=F=>{var l=zr();let g;var P=W(l);fe(P,()=>e.panel??rt),V(l),K(H=>g=Ee(l,g,{class:`${e.panelBase??""} ${n()??""} ${e.panelRounded??""} ${e.panelClasses??""}`,...H,"data-testid":"accordion-panel"}),[()=>v.api.getItemContentProps(d)]),ct(3,l,()=>wr,()=>v.animationConfig),R(F,l)};U(I,F=>{v.api.value.includes(e.value)&&F(L)})}V(u),K(F=>y=Ee(u,y,{class:`${e.base??""} ${e.spaceY??""} ${e.classes??""}`,...F,"data-testid":"accordion-item"}),[()=>v.api.getItemProps(d)]),R(t,u),ne()}const De=Object.assign(Wr,{Item:qr});function Kr(t,e,r,o,a,s,h){t.stopPropagation(),e().includes(b(o))?a(b(o).id):(s(b(o)),Te(st,!0))}var $r=D('<button type="button" title="Data Hierarchy" class="btn-icon-color"><i class="fa-solid fa-sitemap fa-xl"></i> <span class="sr-only">View Data Hierarchy</span></button>'),jr=D('<i class="fa-regular fa-square-check fa-xl"></i>'),Zr=D('<i class="fa-solid fa-right-from-bracket fa-xl"></i>'),Xr=D('<button type="button" class="btn-icon-color"><!></button>'),Jr=D('<button type="button" title="Information" class="btn-icon-color"><i class="fa-solid fa-circle-info fa-xl"></i> <span class="sr-only">View Information</span></button> <button type="button" class="btn-icon-color"><i class="fa-solid fa-filter fa-xl"></i> <span class="sr-only"> </span></button> <!> <!>',1);function Qr(t,e){ie(e,!0);const[r,o]=me(),a=()=>Z(h,"$exports",r),s=()=>Z(st,"$panelOpen",r);let{exports:h,addExport:m,removeExport:p}=jt,c=G(e,"data",19,()=>({})),w=q(()=>({id:Xt(),searchResult:c().row,display:c().row.display||c().row.name,conceptPath:c().row.conceptPath}));function C(f){return x=>{var A;x.stopPropagation(),$t({row:c().row.conceptPath,component:f,table:(A=c())==null?void 0:A.tableName})}}const i=C("info"),n=C("filter"),d=C("hierarchy");let v=q(()=>Ve.url.pathname.includes("/discover")),u=q(()=>a().map(f=>f.conceptPath).includes(b(w).conceptPath)),y=q(()=>b(v)&&!c().row.allowFiltering);var T=Jr(),I=X(T);I.__click=i;var L=Y(I,2);L.__click=n;var F=Y(W(L),2),l=W(F,!0);V(F),V(L);var g=Y(L,2);{var P=f=>{var x=$r();x.__click=d,R(f,x)};U(g,f=>{Se.explorer.enableHierarchy&&f(P)})}var H=Y(g,2);{var M=f=>{var x=Xr();x.__click=[Kr,a,h,w,p,m,s];var A=W(x);{var E=O=>{var k=jr();R(O,k)},N=O=>{var k=Zr();R(O,k)};U(A,O=>{b(u)?O(E):O(N,!1)})}V(x),K(()=>ee(x,"title",b(u)?"Remove from Analysis":"Add for Analysis")),R(f,x)};U(H,f=>{Se.explorer.exportsEnableExport&&!b(v)&&f(M)})}K(()=>{ee(L,"title",b(y)?"Filtering is not available for this variable":"Filter"),L.disabled=b(y),he(l,b(y)?"Filtering is not available for this variable":"View Filter")}),R(t,T),ne(),o()}Ce(["click"]);function eo(t,e){re(e,!b(e))}function to(t,e,r,o,a){var s,h,m;(s=e.facet)!=null&&s.children&&((m=(h=e.facet)==null?void 0:h.children)==null?void 0:m.length)>0?b(r)(e.facet.name)==="indeterminate"?o(a()):o(e.facet.children):o([e.facet])}var ro=D('<button type="button" class="arrow-button svelte-15i2cro"><i></i></button>'),oo=D('<div class="flex flex-col ml-4"></div>'),ao=D('<label class="flex gap-1 m-1 leading-[normal]"><!> <input type="checkbox"/> <span style="word-wrap: break-word;"> </span></label> <!>',1);function ut(t,e){ie(e,!0);const[r,o]=me(),a=()=>Z(h,"$selectedFacets",r);let{updateFacets:s,selectedFacets:h}=Dt,m=pe(!1);function p(){var l;return((l=e.facet.children)==null?void 0:l.filter(g=>a().some(P=>P.name===g.name)))??[]}let c=q(()=>l=>{var f;const g=e.facet.children&&e.facet.children.some(x=>a().some(A=>A.name===x.name));let P=!1;g&&(P=((f=e.facet.children)==null?void 0:f.every(x=>a().some(A=>A.name===x.name)))??!1);const H=g&&!P;return a().some(x=>x.name===l)||P?"true":H?"indeterminate":"false"}),w=q(()=>b(c)(e.facet.name)==="true"),C=q(()=>e.facet.children?[...e.facet.children.filter(l=>{var P;return(!e.textFilterValue||l.display.toLowerCase().includes(e.textFilterValue.toLowerCase())||l.name.toLowerCase().includes(e.textFilterValue.toLowerCase())||((P=l.description)==null?void 0:P.toLowerCase().includes(e.textFilterValue.toLowerCase())))&&a().some(H=>H.name===l.name)}).sort((l,g)=>(g.count||0)-(l.count||0)),...e.facet.children.filter(l=>{var P;return(!e.textFilterValue||l.display.toLowerCase().includes(e.textFilterValue.toLowerCase())||l.name.toLowerCase().includes(e.textFilterValue.toLowerCase())||((P=l.description)==null?void 0:P.toLowerCase().includes(e.textFilterValue.toLowerCase())))&&!a().some(H=>H.name===l.name)}).sort((l,g)=>(g.count||0)-(l.count||0))]:[]);var i=ao(),n=X(i),d=W(n);{var v=l=>{var g=ro();g.__click=[eo,m];var P=W(g);V(g),K(()=>{ee(g,"aria-label",`Toggle Facet ${b(m)?"open":"closed"}`),ee(g,"data-testid",`facet-${e.facet.name}-arrow`),ae(P,1,`fa-solid ${b(m)?"fa-angle-down":"fa-angle-right"}`)}),R(l,g)};U(d,l=>{var g,P,H;((g=e.facet)==null?void 0:g.children)!==void 0&&((H=(P=e.facet)==null?void 0:P.children)==null?void 0:H.length)>0&&l(v)})}var u=Y(d,2);nt(u),u.__click=[to,e,c,s,p];var y=Y(u,2);let T;var I=W(y,!0);V(y),V(n);var L=Y(n,2);{var F=l=>{var g=oo();ce(g,21,()=>b(C),de,(P,H)=>{ut(P,{get facet(){return b(H)},get facetCategory(){return e.facetCategory},get textFilterValue(){return e.textFilterValue}})}),V(g),K(()=>ee(g,"data-testid",`facet-${e.facet.name}-children`)),R(l,g)};U(L,l=>{var g;b(m)&&b(C)!==void 0&&((g=b(C))==null?void 0:g.length)>0&&l(F)})}K((l,g,P)=>{ee(n,"data-testid",`facet-${e.facet.name}-label`),ee(n,"for",e.facet.name),ae(u,1,l,"svelte-15i2cro"),ee(u,"id",e.facet.name),ee(u,"name",e.facet.name),qt(u,e.facet),Kt(u,b(w)),u.disabled=e.facet.count===0&&!b(w),ee(u,"aria-checked",b(w)),T=ae(y,1,"",null,T,g),he(I,P)},[()=>`&[aria-disabled=“true”]:opacity-75 ${b(c)(e.facet.name)}`,()=>({"opacity-75":e.facet.count===0}),()=>{var l;return`${e.facet.display} (${(l=e.facet.count)==null?void 0:l.toLocaleString()})`}]),R(t,i),ne(),o()}Ce(["click"]);var io=D('<input class="text-sm" type="search" name="facet-fitler"/>'),no=(t,e)=>re(e,!b(e)),so=D('<button data-testId="show-more-facets" class="show-more w-fit mx-auto my-1 svelte-ba0j3b"> <i></i></button>'),lo=D('<div class="flex flex-col"><!> <!> <!></div>'),co=(t,e)=>Ot([b(e)]),uo=D('<span class="badge z-10 preset-outlined-surface-500 py-2 overflow-hidden"><span class="overflow-hidden text-ellipsis whitespace-nowrap min-w-0"> </span> <button class="chip-close ml-1 shrink-0" aria-label="Remove Facet"><i class="fa-solid fa-times hover:text-secondary-500"></i></button></span>'),po=D('<div class="mb-2 flex flex-wrap gap-2"></div>'),vo=D("<!> <!>",1);function je(t,e){ie(e,!0);const[r,o]=me(),a=()=>Z(Mt,"$hiddenFacets",r),s=()=>Z(He,"$selectedFacets",r),h=()=>Z(Pe,"$openFacets",r);let m=G(e,"facets",19,()=>e.facetCategory.facets),p=G(e,"numFacetsToShow",3,5),c=pe(""),w=pe(!1),C=q(()=>m().filter(l=>!(a()[e.facetCategory.name]||[]).includes(l.name))),i=q(()=>b(C).length>p()),n=q(()=>(m()||b(c)||b(w)||s()||e.facetCategory)&&y()),d=q(()=>s().filter(l=>{var g,P;return((g=l==null?void 0:l.categoryRef)==null?void 0:g.name)===((P=e.facetCategory)==null?void 0:P.name)}));function v(l){var H,M;const g=((H=l.children)==null?void 0:H.some(f=>s().some(x=>x.name===f.name)))??!1,P=(M=l.children)!=null&&M.length?l.children.every(f=>s().some(x=>x.name===f.name)):!1;return g&&!P}function u(l){return m().some(P=>{var H;return!P.children||((H=P==null?void 0:P.children)==null?void 0:H.length)===0?!1:P.children.every(M=>M.name===l||s().some(f=>f.name===M.name))})}function y(){let l=[...b(C)];const g=new Map(s().map(E=>[E.name,E])),P=l.filter(v),H=new Map(P.map(E=>[E.name,E])),M=E=>P.some(N=>{var O;return(O=N.children)==null?void 0:O.some(k=>k.name===E)});l=l.filter(E=>!g.has(E.name)&&!M(E.name)&&!H.has(E.name)&&!u(E.name));const f=s().filter(E=>E.category===e.facetCategory.name&&!M(E.name)&&!u(E.name));f.forEach(E=>{var N;E.count=((N=m().find(O=>O.name===E.name))==null?void 0:N.count)||0});const x=m().filter(E=>{var N;return((N=E.children)==null?void 0:N.length)&&E.children.every(O=>s().some(k=>k.name===O.name))});x.forEach(E=>{var N;E.count=((N=m().find(O=>O.name===E.name))==null?void 0:N.count)||0});const A=P.filter(E=>E.category===e.facetCategory.name);if(A.forEach(E=>{var N;E.count=((N=m().find(O=>O.name===E.name))==null?void 0:N.count)||0}),l.unshift(...f,...x,...A),b(c)){const E=b(c).toLowerCase();l=l.filter(N=>{var B,z;const O=N.display.toLowerCase().includes(E)||N.name.toLowerCase().includes(E)||((B=N.description)==null?void 0:B.toLowerCase().includes(E)),k=(z=N.children)==null?void 0:z.some($=>{var J;return $.display.toLowerCase().includes(E)||$.name.toLowerCase().includes(E)||((J=$.description)==null?void 0:J.toLowerCase().includes(E))});return O||k})}else b(w)||(l=l.slice(0,p()));return l}var T=vo(),I=X(T);xr(I,()=>De.Item,(l,g)=>{g(l,{get value(){return e.facetCategory.name},headingLevel:6,controlRounded:"rounded-t-xl aria-expanded:rounded-b-none rounded-b-xl",controlClasses:"h6 bg-primary-100-900 hover:bg-secondary-200-800",panelClasses:"bg-surface-100",panelRounded:"rounded-b-xl",control:M=>{Me();var f=ye();K(()=>he(f,e.facetCategory.display)),R(M,f)},panel:M=>{var f=lo(),x=W(f);{var A=k=>{var B=io();nt(B),K(()=>{ee(B,"placeholder","Filter "+e.facetCategory.display),ee(B,"id",e.facetCategory.name+"-filter")}),_r(B,()=>b(c),z=>re(c,z)),R(k,B)};U(x,k=>{b(i)&&k(A)})}var E=Y(x,2);ce(E,17,()=>b(n),de,(k,B)=>{ut(k,{get facet(){return b(B)},get facetCategory(){return e.facetCategory},get textFilterValue(){return b(c)}})});var N=Y(E,2);{var O=k=>{var B=so();B.__click=[no,w];var z=W(B),$=Y(z);V(B),K(()=>{he(z,`${b(w)?"Show Less":"Show More"} `),ae($,1,`ml-1 fa-solid fa-angle-${b(w)?"up":"down"}`)}),R(k,B)};U(N,k=>{b(i)&&!b(c)&&k(O)})}V(f),R(M,f)},$$slots:{control:!0,panel:!0}})});var L=Y(I,2);{var F=l=>{var g=po();ce(g,21,()=>b(d),de,(P,H)=>{var M=uo(),f=W(M),x=W(f,!0);V(f);var A=Y(f,2);A.__click=[co,H],V(M),K(()=>{ee(M,"id",b(H).name),he(x,b(H).display)}),R(P,M)}),V(g),ct(3,g,()=>Cr,()=>({easing:kr})),R(l,g)};U(L,l=>{h().includes(e.facetCategory.name)||l(F)})}R(t,T),ne(),o()}Ce(["click"]);var fo=D('<div data-testid="facet-placeholder-search-button" class="placeholder h-8 w-full animate-pulse rounded-full mb-3"></div>'),ho=D('<div class="flex items-center space-x-3"><div class="placeholder size-4 animate-pulse rounded-sm"></div> <div></div></div>'),mo=D('<div data-testid="facet-placeholder-show-more-button" class="flex justify-center mt-3"><div class="placeholder h-8 w-24 animate-pulse rounded-full"></div></div>'),go=D('<div data-testid="facet-placeholder"><div data-testid="facet-placeholder-header" class="flex items-center justify-between h6 bg-surface-100-900 p-4 rounded-t-xl border-b border-surface-200-800"><div class="placeholder h-5 w-32 animate-pulse rounded"></div> <div class="placeholder w-4 h-4 animate-pulse rounded"></div></div> <div data-testid="facet-placeholder-content"><!> <div class="space-y-3 mt-1"></div> <!></div></div>');function Ze(t,e){let r=G(e,"className",3,""),o=G(e,"numFacets",3,3),a=G(e,"showSearchAndButton",19,()=>o()>5),s=G(e,"fadeEffect",3,!1);const h=["w-32","w-28","w-36","w-24","w-40","w-30"];var m=go(),p=Y(W(m),2),c=W(p);{var w=d=>{var v=fo();R(d,v)};U(c,d=>{a()&&d(w)})}var C=Y(c,2);ce(C,21,()=>Array(a()?Math.min(o(),5):o()),de,(d,v,u)=>{var y=ho();const T=q(()=>s()?Math.max(0,1-u/(o()-1)*.8):1);ee(y,"data-testid",`facet-placeholder-item-${u}`);var I=Y(W(y),2);V(y),K(()=>{Ke(y,`opacity: ${b(T)??""}`),ae(I,1,`placeholder h-4 ${h[u%h.length]??""} animate-pulse rounded`)}),R(d,y)}),V(C);var i=Y(C,2);{var n=d=>{var v=mo();K(()=>Ke(v,`opacity: ${s()?.1:1}`)),R(d,v)};U(i,d=>{a()&&d(n)})}V(p),V(m),K(()=>{ae(m,1,`space-y-0 rounded-xl ${r()??""}`),ae(p,1,`p-4 rounded-b-xl ${s()?"bg-gradient-to-b from-surface-100 via-surface-100/30 to-transparent":"bg-surface-100"}`)}),R(t,m)}var bo=D('<div class="flex flex-col gap-4"><!></div>');function yo(t,e){var n,d;ie(e,!0);let r=G(e,"fadeEffect",3,!1),o=G(e,"numCategories",3,2),a=G(e,"previousCategories",19,()=>[]);const s=((n=a())==null?void 0:n.length)>0,h=s?((d=a())==null?void 0:d.length)||1:o(),m=s?!1:r(),p=1+h;var c=bo(),w=W(c);{var C=v=>{var u=oe(),y=X(u);ce(y,17,a,de,(T,I,L)=>{const F=q(()=>{var g;return((g=b(I))==null?void 0:g.numFacets)||5}),l=q(()=>m&&L===a().length-1);Ze(T,{get numFacets(){return b(F)},get fadeEffect(){return b(l)}})}),R(v,u)},i=v=>{var u=oe(),y=X(u);ce(y,17,()=>Array(h),de,(T,I,L)=>{Ze(T,{numFacets:p-L>1?p-L:2,fadeEffect:m&&L===h-1})}),R(v,u)};U(w,v=>{s?v(C):v(i,!1)})}V(c),R(t,c),ne()}var wo=D('<i class="fa-solid fa-angle-up"></i>'),Co=D('<i class="fa-solid fa-angle-down"></i>'),xo=D('<i class="fa-solid fa-angle-up"></i>'),_o=D('<i class="fa-solid fa-angle-down"></i>');function ko(t,e){ie(e,!0);const[r,o]=me(),a=()=>Z(Wt,"$facetsPromise",r),s=()=>Z(He,"$selectedFacets",r),h=()=>Z(Pe,"$openFacets",r);let m=pe(ot([]));Bt(()=>{var C;(C=a())==null||C.then(i=>{(i==null?void 0:i.length)>0&&re(m,i.map(n=>({numFacets:n.facets.length,showSearchAndButton:n.facets.length>5})),!0)})});function p(){let C=[];return s().forEach(i=>{var d,v;let n=C.find(u=>u.display===i.category);n?n.facets.push(i):C.push({display:((d=i==null?void 0:i.categoryRef)==null?void 0:d.display)||i.category,facets:[i],description:((v=i==null?void 0:i.categoryRef)==null?void 0:v.description)||"",name:i.category})}),C}var c=oe(),w=X(c);tr(w,a,C=>{const i=q(()=>b(m).length>0?b(m):[]);yo(C,{numCategories:2,fadeEffect:!0,get previousCategories(){return b(i)}})},(C,i)=>{var n=oe(),d=X(n);{var v=y=>{De(y,{multiple:!0,get value(){return h()},onValueChange:L=>Te(Pe,L.value),iconOpen:L=>{var F=wo();R(L,F)},iconClosed:L=>{var F=Co();R(L,F)},children:(L,F)=>{var l=oe(),g=X(l);ce(g,17,()=>b(i),de,(P,H)=>{je(P,{get facetCategory(){return b(H)}})}),R(L,l)},$$slots:{iconOpen:!0,iconClosed:!0,default:!0}})},u=y=>{De(y,{multiple:!0,get value(){return h()},onValueChange:L=>Te(Pe,L.value),iconOpen:L=>{var F=xo();R(L,F)},iconClosed:L=>{var F=_o();R(L,F)},children:(L,F)=>{var l=oe(),g=X(l);ce(g,17,p,de,(P,H)=>{je(P,{get facetCategory(){return b(H)}})}),R(L,l)},$$slots:{iconOpen:!0,iconClosed:!0,default:!0}})};U(d,y=>{var T;((T=b(i))==null?void 0:T.length)>0?y(v):y(u,!1)})}R(C,n)},C=>{dt(C,{title:"Something went wrong loading your search options.",color:"secondary",children:(i,n)=>{Me();var d=ye("Please wait a moment, refresh the page, and try again.");R(i,d)},$$slots:{default:!0}})}),R(t,c),ne(),o()}let Oe={},pt;function Ne(t={}){Oe={animate:!0,allowClose:!0,overlayClickBehavior:"close",overlayOpacity:.7,smoothScroll:!1,disableActiveInteraction:!1,showProgress:!1,stagePadding:10,stageRadius:5,popoverOffset:10,showButtons:["next","previous","close"],disableButtons:[],overlayColor:"#000",...t}}function _(t){return t?Oe[t]:Oe}function Po(t){pt=t}function te(){return pt}let Ae={};function _e(t,e){Ae[t]=e}function ue(t){var e;(e=Ae[t])==null||e.call(Ae)}function Eo(){Ae={}}function ke(t,e,r,o){return(t/=o/2)<1?r/2*t*t+e:-r/2*(--t*(t-2)-1)+e}function vt(t){const e='a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])';return t.flatMap(r=>{const o=r.matches(e),a=Array.from(r.querySelectorAll(e));return[...o?[r]:[],...a]}).filter(r=>getComputedStyle(r).pointerEvents!=="none"&&Fo(r))}function ft(t){if(!t||So(t))return;const e=_("smoothScroll"),r=t.offsetHeight>window.innerHeight;t.scrollIntoView({behavior:!e||To(t)?"auto":"smooth",inline:"center",block:r?"start":"center"})}function To(t){if(!t||!t.parentElement)return;const e=t.parentElement;return e.scrollHeight>e.clientHeight}function So(t){const e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}function Fo(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)}let Re={};function j(t,e){Re[t]=e}function S(t){return t?Re[t]:Re}function Xe(){Re={}}function Lo(t,e,r,o){let a=S("__activeStagePosition");const s=a||r.getBoundingClientRect(),h=o.getBoundingClientRect(),m=ke(t,s.x,h.x-s.x,e),p=ke(t,s.y,h.y-s.y,e),c=ke(t,s.width,h.width-s.width,e),w=ke(t,s.height,h.height-s.height,e);a={x:m,y:p,width:c,height:w},mt(a),j("__activeStagePosition",a)}function ht(t){if(!t)return;const e=t.getBoundingClientRect(),r={x:e.x,y:e.y,width:e.width,height:e.height};j("__activeStagePosition",r),mt(r)}function Ao(){const t=S("__activeStagePosition"),e=S("__overlaySvg");if(!t)return;if(!e){console.warn("No stage svg found.");return}const r=window.innerWidth,o=window.innerHeight;e.setAttribute("viewBox",`0 0 ${r} ${o}`)}function Ro(t){const e=Ho(t);document.body.appendChild(e),yt(e,r=>{r.target.tagName==="path"&&ue("overlayClick")}),j("__overlaySvg",e)}function mt(t){const e=S("__overlaySvg");if(!e){Ro(t);return}const r=e.firstElementChild;if((r==null?void 0:r.tagName)!=="path")throw new Error("no path element found in stage svg");r.setAttribute("d",gt(t))}function Ho(t){const e=window.innerWidth,r=window.innerHeight,o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.classList.add("driver-overlay","driver-overlay-animated"),o.setAttribute("viewBox",`0 0 ${e} ${r}`),o.setAttribute("xmlSpace","preserve"),o.setAttribute("xmlnsXlink","http://www.w3.org/1999/xlink"),o.setAttribute("version","1.1"),o.setAttribute("preserveAspectRatio","xMinYMin slice"),o.style.fillRule="evenodd",o.style.clipRule="evenodd",o.style.strokeLinejoin="round",o.style.strokeMiterlimit="2",o.style.zIndex="10000",o.style.position="fixed",o.style.top="0",o.style.left="0",o.style.width="100%",o.style.height="100%";const a=document.createElementNS("http://www.w3.org/2000/svg","path");return a.setAttribute("d",gt(t)),a.style.fill=_("overlayColor")||"rgb(0,0,0)",a.style.opacity=`${_("overlayOpacity")}`,a.style.pointerEvents="auto",a.style.cursor="auto",o.appendChild(a),o}function gt(t){const e=window.innerWidth,r=window.innerHeight,o=_("stagePadding")||0,a=_("stageRadius")||0,s=t.width+o*2,h=t.height+o*2,m=Math.min(a,s/2,h/2),p=Math.floor(Math.max(m,0)),c=t.x-o+p,w=t.y-o,C=s-p*2,i=h-p*2;return`M${e},0L0,0L0,${r}L${e},${r}L${e},0Z
    M${c},${w} h${C} a${p},${p} 0 0 1 ${p},${p} v${i} a${p},${p} 0 0 1 -${p},${p} h-${C} a${p},${p} 0 0 1 -${p},-${p} v-${i} a${p},${p} 0 0 1 ${p},-${p} z`}function Io(){const t=S("__overlaySvg");t&&t.remove()}function Bo(){const t=document.getElementById("driver-dummy-element");if(t)return t;let e=document.createElement("div");return e.id="driver-dummy-element",e.style.width="0",e.style.height="0",e.style.pointerEvents="none",e.style.opacity="0",e.style.position="fixed",e.style.top="50%",e.style.left="50%",document.body.appendChild(e),e}function Je(t){const{element:e}=t;let r=typeof e=="function"?e():typeof e=="string"?document.querySelector(e):e;r||(r=Bo()),Vo(r,t)}function No(){const t=S("__activeElement"),e=S("__activeStep");t&&(ht(t),Ao(),Ct(t,e))}function Vo(t,e){var r;const o=Date.now(),a=S("__activeStep"),s=S("__activeElement")||t,h=!s||s===t,m=t.id==="driver-dummy-element",p=s.id==="driver-dummy-element",c=_("animate"),w=e.onHighlightStarted||_("onHighlightStarted"),C=(e==null?void 0:e.onHighlighted)||_("onHighlighted"),i=(a==null?void 0:a.onDeselected)||_("onDeselected"),n=_(),d=S();!h&&i&&i(p?void 0:s,a,{config:n,state:d,driver:te()}),w&&w(m?void 0:t,e,{config:n,state:d,driver:te()});const v=!h&&c;let u=!1;Go(),j("previousStep",a),j("previousElement",s),j("activeStep",e),j("activeElement",t);const y=()=>{if(S("__transitionCallback")!==y)return;const T=Date.now()-o,I=400-T<=400/2;e.popover&&I&&!u&&v&&(Qe(t,e),u=!0),_("animate")&&T<400?Lo(T,400,s,t):(ht(t),C&&C(m?void 0:t,e,{config:_(),state:S(),driver:te()}),j("__transitionCallback",void 0),j("__previousStep",a),j("__previousElement",s),j("__activeStep",e),j("__activeElement",t)),window.requestAnimationFrame(y)};j("__transitionCallback",y),window.requestAnimationFrame(y),ft(t),!v&&e.popover&&Qe(t,e),s.classList.remove("driver-active-element","driver-no-interaction"),s.removeAttribute("aria-haspopup"),s.removeAttribute("aria-expanded"),s.removeAttribute("aria-controls"),((r=e.disableActiveInteraction)!=null?r:_("disableActiveInteraction"))&&t.classList.add("driver-no-interaction"),t.classList.add("driver-active-element"),t.setAttribute("aria-haspopup","dialog"),t.setAttribute("aria-expanded","true"),t.setAttribute("aria-controls","driver-popover-content")}function Do(){var t;(t=document.getElementById("driver-dummy-element"))==null||t.remove(),document.querySelectorAll(".driver-active-element").forEach(e=>{e.classList.remove("driver-active-element","driver-no-interaction"),e.removeAttribute("aria-haspopup"),e.removeAttribute("aria-expanded"),e.removeAttribute("aria-controls")})}function we(){const t=S("__resizeTimeout");t&&window.cancelAnimationFrame(t),j("__resizeTimeout",window.requestAnimationFrame(No))}function Oo(t){var e;if(!S("isInitialized")||!(t.key==="Tab"||t.keyCode===9))return;const r=S("__activeElement"),o=(e=S("popover"))==null?void 0:e.wrapper,a=vt([...o?[o]:[],...r?[r]:[]]),s=a[0],h=a[a.length-1];if(t.preventDefault(),t.shiftKey){const m=a[a.indexOf(document.activeElement)-1]||h;m==null||m.focus()}else{const m=a[a.indexOf(document.activeElement)+1]||s;m==null||m.focus()}}function bt(t){var e;((e=_("allowKeyboardControl"))==null||e)&&(t.key==="Escape"?ue("escapePress"):t.key==="ArrowRight"?ue("arrowRightPress"):t.key==="ArrowLeft"&&ue("arrowLeftPress"))}function yt(t,e,r){const o=(a,s)=>{const h=a.target;t.contains(h)&&((!r||r(h))&&(a.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation()),s==null||s(a))};document.addEventListener("pointerdown",o,!0),document.addEventListener("mousedown",o,!0),document.addEventListener("pointerup",o,!0),document.addEventListener("mouseup",o,!0),document.addEventListener("click",a=>{o(a,e)},!0)}function Mo(){window.addEventListener("keyup",bt,!1),window.addEventListener("keydown",Oo,!1),window.addEventListener("resize",we),window.addEventListener("scroll",we)}function Wo(){window.removeEventListener("keyup",bt),window.removeEventListener("resize",we),window.removeEventListener("scroll",we)}function Go(){const t=S("popover");t&&(t.wrapper.style.display="none")}function Qe(t,e){var r,o;let a=S("popover");a&&document.body.removeChild(a.wrapper),a=zo(),document.body.appendChild(a.wrapper);const{title:s,description:h,showButtons:m,disableButtons:p,showProgress:c,nextBtnText:w=_("nextBtnText")||"Next &rarr;",prevBtnText:C=_("prevBtnText")||"&larr; Previous",progressText:i=_("progressText")||"{current} of {total}"}=e.popover||{};a.nextButton.innerHTML=w,a.previousButton.innerHTML=C,a.progress.innerHTML=i,s?(a.title.innerHTML=s,a.title.style.display="block"):a.title.style.display="none",h?(a.description.innerHTML=h,a.description.style.display="block"):a.description.style.display="none";const n=m||_("showButtons"),d=c||_("showProgress")||!1,v=(n==null?void 0:n.includes("next"))||(n==null?void 0:n.includes("previous"))||d;a.closeButton.style.display=n.includes("close")?"block":"none",v?(a.footer.style.display="flex",a.progress.style.display=d?"block":"none",a.nextButton.style.display=n.includes("next")?"block":"none",a.previousButton.style.display=n.includes("previous")?"block":"none"):a.footer.style.display="none";const u=p||_("disableButtons")||[];u!=null&&u.includes("next")&&(a.nextButton.disabled=!0,a.nextButton.classList.add("driver-popover-btn-disabled")),u!=null&&u.includes("previous")&&(a.previousButton.disabled=!0,a.previousButton.classList.add("driver-popover-btn-disabled")),u!=null&&u.includes("close")&&(a.closeButton.disabled=!0,a.closeButton.classList.add("driver-popover-btn-disabled"));const y=a.wrapper;y.style.display="block",y.style.left="",y.style.top="",y.style.bottom="",y.style.right="",y.id="driver-popover-content",y.setAttribute("role","dialog"),y.setAttribute("aria-labelledby","driver-popover-title"),y.setAttribute("aria-describedby","driver-popover-description");const T=a.arrow;T.className="driver-popover-arrow";const I=((r=e.popover)==null?void 0:r.popoverClass)||_("popoverClass")||"";y.className=`driver-popover ${I}`.trim(),yt(a.wrapper,g=>{var P,H,M;const f=g.target,x=((P=e.popover)==null?void 0:P.onNextClick)||_("onNextClick"),A=((H=e.popover)==null?void 0:H.onPrevClick)||_("onPrevClick"),E=((M=e.popover)==null?void 0:M.onCloseClick)||_("onCloseClick");if(f.closest(".driver-popover-next-btn"))return x?x(t,e,{config:_(),state:S(),driver:te()}):ue("nextClick");if(f.closest(".driver-popover-prev-btn"))return A?A(t,e,{config:_(),state:S(),driver:te()}):ue("prevClick");if(f.closest(".driver-popover-close-btn"))return E?E(t,e,{config:_(),state:S(),driver:te()}):ue("closeClick")},g=>!(a!=null&&a.description.contains(g))&&!(a!=null&&a.title.contains(g))&&typeof g.className=="string"&&g.className.includes("driver-popover")),j("popover",a);const L=((o=e.popover)==null?void 0:o.onPopoverRender)||_("onPopoverRender");L&&L(a,{config:_(),state:S(),driver:te()}),Ct(t,e),ft(y);const F=t.classList.contains("driver-dummy-element"),l=vt([y,...F?[]:[t]]);l.length>0&&l[0].focus()}function wt(){const t=S("popover");if(!(t!=null&&t.wrapper))return;const e=t.wrapper.getBoundingClientRect(),r=_("stagePadding")||0,o=_("popoverOffset")||0;return{width:e.width+r+o,height:e.height+r+o,realWidth:e.width,realHeight:e.height}}function et(t,e){const{elementDimensions:r,popoverDimensions:o,popoverPadding:a,popoverArrowDimensions:s}=e;return t==="start"?Math.max(Math.min(r.top-a,window.innerHeight-o.realHeight-s.width),s.width):t==="end"?Math.max(Math.min(r.top-(o==null?void 0:o.realHeight)+r.height+a,window.innerHeight-(o==null?void 0:o.realHeight)-s.width),s.width):t==="center"?Math.max(Math.min(r.top+r.height/2-(o==null?void 0:o.realHeight)/2,window.innerHeight-(o==null?void 0:o.realHeight)-s.width),s.width):0}function tt(t,e){const{elementDimensions:r,popoverDimensions:o,popoverPadding:a,popoverArrowDimensions:s}=e;return t==="start"?Math.max(Math.min(r.left-a,window.innerWidth-o.realWidth-s.width),s.width):t==="end"?Math.max(Math.min(r.left-(o==null?void 0:o.realWidth)+r.width+a,window.innerWidth-(o==null?void 0:o.realWidth)-s.width),s.width):t==="center"?Math.max(Math.min(r.left+r.width/2-(o==null?void 0:o.realWidth)/2,window.innerWidth-(o==null?void 0:o.realWidth)-s.width),s.width):0}function Ct(t,e){const r=S("popover");if(!r)return;const{align:o="start",side:a="left"}=(e==null?void 0:e.popover)||{},s=o,h=t.id==="driver-dummy-element"?"over":a,m=_("stagePadding")||0,p=wt(),c=r.arrow.getBoundingClientRect(),w=t.getBoundingClientRect(),C=w.top-p.height;let i=C>=0;const n=window.innerHeight-(w.bottom+p.height);let d=n>=0;const v=w.left-p.width;let u=v>=0;const y=window.innerWidth-(w.right+p.width);let T=y>=0;const I=!i&&!d&&!u&&!T;let L=h;if(h==="top"&&i?T=u=d=!1:h==="bottom"&&d?T=u=i=!1:h==="left"&&u?T=i=d=!1:h==="right"&&T&&(u=i=d=!1),h==="over"){const F=window.innerWidth/2-p.realWidth/2,l=window.innerHeight/2-p.realHeight/2;r.wrapper.style.left=`${F}px`,r.wrapper.style.right="auto",r.wrapper.style.top=`${l}px`,r.wrapper.style.bottom="auto"}else if(I){const F=window.innerWidth/2-(p==null?void 0:p.realWidth)/2,l=10;r.wrapper.style.left=`${F}px`,r.wrapper.style.right="auto",r.wrapper.style.bottom=`${l}px`,r.wrapper.style.top="auto"}else if(u){const F=Math.min(v,window.innerWidth-(p==null?void 0:p.realWidth)-c.width),l=et(s,{elementDimensions:w,popoverDimensions:p,popoverPadding:m,popoverArrowDimensions:c});r.wrapper.style.left=`${F}px`,r.wrapper.style.top=`${l}px`,r.wrapper.style.bottom="auto",r.wrapper.style.right="auto",L="left"}else if(T){const F=Math.min(y,window.innerWidth-(p==null?void 0:p.realWidth)-c.width),l=et(s,{elementDimensions:w,popoverDimensions:p,popoverPadding:m,popoverArrowDimensions:c});r.wrapper.style.right=`${F}px`,r.wrapper.style.top=`${l}px`,r.wrapper.style.bottom="auto",r.wrapper.style.left="auto",L="right"}else if(i){const F=Math.min(C,window.innerHeight-p.realHeight-c.width);let l=tt(s,{elementDimensions:w,popoverDimensions:p,popoverPadding:m,popoverArrowDimensions:c});r.wrapper.style.top=`${F}px`,r.wrapper.style.left=`${l}px`,r.wrapper.style.bottom="auto",r.wrapper.style.right="auto",L="top"}else if(d){const F=Math.min(n,window.innerHeight-(p==null?void 0:p.realHeight)-c.width);let l=tt(s,{elementDimensions:w,popoverDimensions:p,popoverPadding:m,popoverArrowDimensions:c});r.wrapper.style.left=`${l}px`,r.wrapper.style.bottom=`${F}px`,r.wrapper.style.top="auto",r.wrapper.style.right="auto",L="bottom"}I?r.arrow.classList.add("driver-popover-arrow-none"):Yo(s,L,t)}function Yo(t,e,r){const o=S("popover");if(!o)return;const a=r.getBoundingClientRect(),s=wt(),h=o.arrow,m=s.width,p=window.innerWidth,c=a.width,w=a.left,C=s.height,i=window.innerHeight,n=a.top,d=a.height;h.className="driver-popover-arrow";let v=e,u=t;if(e==="top"?(w+c<=0?(v="right",u="end"):w+c-m<=0&&(v="top",u="start"),w>=p?(v="left",u="end"):w+m>=p&&(v="top",u="end")):e==="bottom"?(w+c<=0?(v="right",u="start"):w+c-m<=0&&(v="bottom",u="start"),w>=p?(v="left",u="start"):w+m>=p&&(v="bottom",u="end")):e==="left"?(n+d<=0?(v="bottom",u="end"):n+d-C<=0&&(v="left",u="start"),n>=i?(v="top",u="end"):n+C>=i&&(v="left",u="end")):e==="right"&&(n+d<=0?(v="bottom",u="start"):n+d-C<=0&&(v="right",u="start"),n>=i?(v="top",u="start"):n+C>=i&&(v="right",u="end")),!v)h.classList.add("driver-popover-arrow-none");else{h.classList.add(`driver-popover-arrow-side-${v}`),h.classList.add(`driver-popover-arrow-align-${u}`);const y=r.getBoundingClientRect(),T=h.getBoundingClientRect(),I=_("stagePadding")||0,L=y.left-I<window.innerWidth&&y.right+I>0&&y.top-I<window.innerHeight&&y.bottom+I>0;e==="bottom"&&L&&(T.x>y.x&&T.x+T.width<y.x+y.width?o.wrapper.style.transform="translateY(0)":(h.classList.remove(`driver-popover-arrow-align-${u}`),h.classList.add("driver-popover-arrow-none"),o.wrapper.style.transform=`translateY(-${I/2}px)`))}}function zo(){const t=document.createElement("div");t.classList.add("driver-popover");const e=document.createElement("div");e.classList.add("driver-popover-arrow");const r=document.createElement("header");r.id="driver-popover-title",r.classList.add("driver-popover-title"),r.style.display="none",r.innerText="Popover Title";const o=document.createElement("div");o.id="driver-popover-description",o.classList.add("driver-popover-description"),o.style.display="none",o.innerText="Popover description is here";const a=document.createElement("button");a.type="button",a.classList.add("driver-popover-close-btn"),a.setAttribute("aria-label","Close"),a.innerHTML="&times;";const s=document.createElement("footer");s.classList.add("driver-popover-footer");const h=document.createElement("span");h.classList.add("driver-popover-progress-text"),h.innerText="";const m=document.createElement("span");m.classList.add("driver-popover-navigation-btns");const p=document.createElement("button");p.type="button",p.classList.add("driver-popover-prev-btn"),p.innerHTML="&larr; Previous";const c=document.createElement("button");return c.type="button",c.classList.add("driver-popover-next-btn"),c.innerHTML="Next &rarr;",m.appendChild(p),m.appendChild(c),s.appendChild(h),s.appendChild(m),t.appendChild(a),t.appendChild(e),t.appendChild(r),t.appendChild(o),t.appendChild(s),{wrapper:t,arrow:e,title:r,description:o,footer:s,previousButton:p,nextButton:c,closeButton:a,footerButtons:m,progress:h}}function Uo(){var t;const e=S("popover");e&&((t=e.wrapper.parentElement)==null||t.removeChild(e.wrapper))}function qo(t={}){Ne(t);function e(){_("allowClose")&&w()}function r(){const i=_("overlayClickBehavior");if(_("allowClose")&&i==="close"){w();return}i==="nextStep"&&o()}function o(){const i=S("activeIndex"),n=_("steps")||[];if(typeof i>"u")return;const d=i+1;n[d]?c(d):w()}function a(){const i=S("activeIndex"),n=_("steps")||[];if(typeof i>"u")return;const d=i-1;n[d]?c(d):w()}function s(i){(_("steps")||[])[i]?c(i):w()}function h(){var i;if(S("__transitionCallback"))return;const n=S("activeIndex"),d=S("__activeStep"),v=S("__activeElement");if(typeof n>"u"||typeof d>"u"||typeof S("activeIndex")>"u")return;const u=((i=d.popover)==null?void 0:i.onPrevClick)||_("onPrevClick");if(u)return u(v,d,{config:_(),state:S(),driver:te()});a()}function m(){var i;if(S("__transitionCallback"))return;const n=S("activeIndex"),d=S("__activeStep"),v=S("__activeElement");if(typeof n>"u"||typeof d>"u")return;const u=((i=d.popover)==null?void 0:i.onNextClick)||_("onNextClick");if(u)return u(v,d,{config:_(),state:S(),driver:te()});o()}function p(){S("isInitialized")||(j("isInitialized",!0),document.body.classList.add("driver-active",_("animate")?"driver-fade":"driver-simple"),Mo(),_e("overlayClick",r),_e("escapePress",e),_e("arrowLeftPress",h),_e("arrowRightPress",m))}function c(i=0){var n,d,v,u,y,T,I,L;const F=_("steps");if(!F){console.error("No steps to drive through"),w();return}if(!F[i]){w();return}j("__activeOnDestroyed",document.activeElement),j("activeIndex",i);const l=F[i],g=F[i+1],P=F[i-1],H=((n=l.popover)==null?void 0:n.doneBtnText)||_("doneBtnText")||"Done",M=_("allowClose"),f=typeof((d=l.popover)==null?void 0:d.showProgress)<"u"?(v=l.popover)==null?void 0:v.showProgress:_("showProgress"),x=(((u=l.popover)==null?void 0:u.progressText)||_("progressText")||"{{current}} of {{total}}").replace("{{current}}",`${i+1}`).replace("{{total}}",`${F.length}`),A=((y=l.popover)==null?void 0:y.showButtons)||_("showButtons"),E=["next","previous",...M?["close"]:[]].filter(B=>!(A!=null&&A.length)||A.includes(B)),N=((T=l.popover)==null?void 0:T.onNextClick)||_("onNextClick"),O=((I=l.popover)==null?void 0:I.onPrevClick)||_("onPrevClick"),k=((L=l.popover)==null?void 0:L.onCloseClick)||_("onCloseClick");Je({...l,popover:{showButtons:E,nextBtnText:g?void 0:H,disableButtons:[...P?[]:["previous"]],showProgress:f,progressText:x,onNextClick:N||(()=>{g?c(i+1):w()}),onPrevClick:O||(()=>{c(i-1)}),onCloseClick:k||(()=>{w()}),...(l==null?void 0:l.popover)||{}}})}function w(i=!0){const n=S("__activeElement"),d=S("__activeStep"),v=S("__activeOnDestroyed"),u=_("onDestroyStarted");if(i&&u){const I=!n||(n==null?void 0:n.id)==="driver-dummy-element";u(I?void 0:n,d,{config:_(),state:S(),driver:te()});return}const y=(d==null?void 0:d.onDeselected)||_("onDeselected"),T=_("onDestroyed");if(document.body.classList.remove("driver-active","driver-fade","driver-simple"),Wo(),Uo(),Do(),Io(),Eo(),Xe(),n&&d){const I=n.id==="driver-dummy-element";y&&y(I?void 0:n,d,{config:_(),state:S(),driver:te()}),T&&T(I?void 0:n,d,{config:_(),state:S(),driver:te()})}v&&v.focus()}const C={isActive:()=>S("isInitialized")||!1,refresh:we,drive:(i=0)=>{p(),c(i)},setConfig:Ne,setSteps:i=>{Xe(),Ne({..._(),steps:i})},getConfig:_,getState:S,getActiveIndex:()=>S("activeIndex"),isFirstStep:()=>S("activeIndex")===0,isLastStep:()=>{const i=_("steps")||[],n=S("activeIndex");return n!==void 0&&n===i.length-1},getActiveStep:()=>S("activeStep"),getActiveElement:()=>S("activeElement"),getPreviousElement:()=>S("previousElement"),getPreviousStep:()=>S("previousStep"),moveNext:o,movePrevious:a,moveTo:s,hasNextStep:()=>{const i=_("steps")||[],n=S("activeIndex");return n!==void 0&&!!i[n+1]},hasPreviousStep:()=>{const i=_("steps")||[],n=S("activeIndex");return n!==void 0&&!!i[n-1]},highlight:i=>{p(),Je({...i,popover:i.popover?{showButtons:[],showProgress:!1,progressText:"",...i.popover}:void 0})},destroy:()=>{w(!1)}};return Po(C),C}var Ko=(t,e)=>re(e,!1),$o=D('<p><!></p> <footer class="modal-footer flex justify-end space-x-2 mt-6"><button type="button" class="btn border preset-tonal-primary hover:preset-filled-primary-500">Cancel</button> <button type="button" class="btn preset-filled-primary-500">Start Tour</button></footer>',1),jo=(t,e,r)=>{re(e,!1),re(r,!0)},Zo=D('<!> <button type="button" data-testid="explorer-tour-btn" id="tourBtn" class="btn preset-filled-secondary-500 text-black hover:text-white">Take a Tour</button>',1);function Xo(t,e){ie(e,!0);const[r,o]=me(),a=()=>Z(Gt,"$searchPromise",r);let s=pe(!1),h=pe(!1);const m=()=>{},p=f=>{f==null||f.click()},c=f=>{f==null||f.click(),F.moveNext()},w=f=>x=>{f?x.classList.add("highlight"):x.classList.remove("highlight")};function C(){be.set(""),Jt(),Zt()}const i=f=>{document.querySelector(`#${f} [data-testid="add-filter"]`).click(),F.moveNext()},n=f=>{const x=document.querySelector(`#${f} #select-all`);x==null||x.click(),setTimeout(()=>{const A=document.querySelector(`#${f} [data-testid="add-filter"]`);A==null||A.click(),F.moveNext()},200)};function d(){document.querySelector("#results-panel-toggle").click()}const v=f=>{const x=f==null?void 0:f.id;(document.querySelector(`#${x} [data-testid="numerical-filter"]`)?"numerical":"categorical")==="numerical"?i(x):n(x)};function u(f,x){return f.replace(/\{\{searchTerm\}\}/g,x)}const y=()=>{const x=document.querySelector("#ExplorerTable-table").querySelectorAll("tr");for(let A=0;A<x.length;A++){const E=x[A];if(E.querySelector('button[title="Filter"]')){E.classList.add("non-stigmatized-row");break}}F.moveNext()},T={disablePrevious:m,clickElement:p,clickElementThenNext:c,addHighlightClass:w(!0),removeHighlightClass:w(!1),resetSearch:C,applyFilterThenNext:v,findAndSetFirstNonStigmatizedAvailableFilterThenNext:y};function I(f){return f.map(x=>{var O,k;const{popover:A,...E}=x,N={...E,popover:{...A,title:u(A.title,(O=e.tourConfig)==null?void 0:O.searchTerm),description:u(A.description,(k=e.tourConfig)==null?void 0:k.searchTerm)}};return A.onPrevClick&&(N.popover.onPrevClick=T[A.onPrevClick]),A.onNextClick&&(N.popover.onNextClick=T[A.onNextClick]),x.onHighlightStarted&&(N.onHighlightStarted=T[x.onHighlightStarted]),x.removeHighlightClass&&(N.removeHighlightClass=T[x.removeHighlightClass]),N})}const L=I(e.tourConfig.steps),F=qo({showProgress:!0,popoverClass:"picsure-theme",overlayColor:"var(--color-surface-400)",nextBtnText:'Next <i class="fa-solid fa-arrow-right ml-1"></i>',showButtons:["next","close"],disableButtons:["previous"],steps:L,onDestroyed:()=>{var A;C(),He.set([]),document.querySelector("#side-panel").classList.contains("open-panel")&&((A=document.querySelector("#results-panel-toggle"))==null||A.click());const x=document.querySelector("#explorer-search-box");x.value="",x.focus()}});async function l(){re(s,!0),d(),C();const f=document.querySelector("#explorer-search-box");f.value=e.tourConfig.searchTerm,Te(be,e.tourConfig.searchTerm),await a().then(()=>F.drive()).catch(()=>console.error("API returned error during tour."))}var g=Zo(),P=X(g);const H=q(()=>{var f;return(f=e.tourConfig)==null?void 0:f.title});Tr(P,{get title(){return b(H)},confirmText:"Start Tour",onconfirm:l,withDefault:!1,width:"w-1/3",get open(){return b(h)},set open(f){re(h,f,!0)},children:(f,x)=>{var A=oe(),E=X(A);{var N=k=>{yr(k,{ring:!0,size:"large"})},O=k=>{var B=$o(),z=X(B),$=W(z);Pr($,()=>{var xe;return Er.sanitize((xe=e.tourConfig)==null?void 0:xe.description)}),V(z);var J=Y(z,2),Q=W(J);Q.__click=[Ko,h];var se=Y(Q,2);se.__click=l,V(J),R(k,B)};U(E,k=>{b(s)?k(N):k(O,!1)})}R(f,A)},$$slots:{default:!0}});var M=Y(P,2);M.__click=[jo,s,h],R(t,g),ne(),o()}Ce(["click"]);function Jo(t,e,r){Yt(),re(e,""),it(b(r))}var Qo=D('<a data-testid="genomic-filter-btn" class="btn preset-tonal-primary border border-primary-500 hover:preset-filled-primary-500" href="/explorer/genome-filter">Genomic Filtering</a>'),ea=D('<div id="explorer-tour" class="text-center mt-4"><!></div>'),ta=D('<section id="search-container" class="flex gap-9"><div id="facet-side-bar" class="flex-none flex-col items-center w-64"><!></div> <div id="search-results-col" class="flex-auto"><div id="search-bar" class="flex gap-2 mb-6"><div class="flex-auto"><!></div> <div class="flex-none"><!> <button type="button" class="btn preset-tonal-error border border-error-500 hover:preset-filled-error-500" aria-label="You are on the reset button">Reset</button></div></div> <!> <!></div></section>');function Ha(t,e){ie(e,!0);const[r,o]=me(),a=()=>Z(be,"$searchTerm",r),s=()=>Z(Ue,"$error",r),h=()=>Z(He,"$selectedFacets",r),m=()=>Z(Ut,"$isLoading",r),p=()=>Z(zt,"$tour",r);let c=pe(ot(Ve.url.searchParams.get("search")||a()||""));const w="ExplorerTable",i=[...Vt.explorePage.columns||[],{dataElement:"id",label:"Actions",class:"w-36 text-center"}],n={id:Qr};let d=q(()=>Ve.url.pathname.includes("/discover")),v=q(()=>b(d)?"/discover":"/explorer");function u(){s()&&Ue.set(""),be.set(b(c)),it(b(c)?`${b(v)}?search=${b(c)}`:`${b(v)}`,{replaceState:!0})}kt(()=>{b(c)&&b(c)!==a()?be.set(b(c)):qe.invalidate()});var y=ta(),T=W(y),I=W(T);ko(I,{}),V(T);var L=Y(T,2),F=W(L),l=W(F),g=W(l);er(g,{search:u,get searchTerm(){return b(c)},set searchTerm(k){re(c,k,!0)}}),V(l);var P=Y(l,2),H=W(P);{var M=k=>{var B=Qo();R(k,B)};U(H,k=>{!b(d)&&Se.enableGENEQuery&&k(M)})}var f=Y(H,2);f.__click=[Jo,c,v],V(P),V(F);var x=Y(F,2);{var A=k=>{dt(k,{title:"Sorry, we could not retrieve your search results.",color:"secondary",children:(B,z)=>{Me();var $=ye();K(()=>he($,s())),R(B,$)},$$slots:{default:!0}})},E=(k,B)=>{{var z=$=>{Qt($,{isClickable:!0,tableName:w,handler:qe,columns:i,cellOverides:n,get isLoading(){return m()},expandable:!0})};U(k,$=>{(a()||h().length>0)&&$(z)},B)}};U(x,k=>{s()?k(A):k(E,!1)})}var N=Y(x,2);{var O=k=>{var B=ea(),z=W(B);Xo(z,{get tourConfig(){return e.tourConfig}}),V(B),R(k,B)};U(N,k=>{Se.explorer.enableTour&&p()&&k(O)})}V(L),V(y),K(()=>f.disabled=!b(c)&&h().length===0),R(t,y),ne(),o()}Ce(["click"]);const Ia={"NHANES-Auth":{searchTerm:"Age",title:"Welcome to PIC-SURE",description:"PIC-SURE allows you to explore variables, apply filters, and prepare data for analysis. When applying filters, participants are selected that meet those criteria. <br /><br />This tour demonstrates how to search, apply filters, and interpret results using PIC-SURE. <br /><br />Once the tour starts, you can press the escape key to stop the tour at any point. You may also use the arrow keys, enter key, or the spacebar to navigate the tour.",steps:[{element:"#explorer-search-box",popover:{title:"Search",description:'Search clinical variables of interest. Here, the term "{{searchTerm}}" was used to get all demographics-related results.',onPrevClick:"disablePrevious"}},{element:"#facet-side-bar",popover:{title:"Refine Search",description:"Use the options displayed here to further refine your search results using facets.",onPrevClick:"disablePrevious"}},{element:"#ExplorerTable-table",popover:{title:"Search Results",description:"The search results are displayed in this area. Each row describes a different variable that matches your search term and/or facets.",onPrevClick:"disablePrevious"}},{element:"#ExplorerTable-table #row-0",onHighlightStarted:"clickElement",popover:{title:"Variable Details",description:"To learn more about a variable, click on the row or click the information icon.",onPrevClick:"disablePrevious"}},{element:"#ExplorerTable-table #active-row-0",popover:{title:"Variable Details",description:"This displays information about the variable, including dataset information and study information.",onPrevClick:"disablePrevious",onNextClick:"clickElementThenNext"}},{element:'#row-0 button[title="Filter"]',onHighlightStarted:"clickElement",popover:{title:"Apply Filters",description:"Click the filter icon to apply inclusion criteria to build your cohort.",onPrevClick:"disablePrevious"}},{element:"#ExplorerTable-table .expandable-row",popover:{title:"Apply Filters",description:"You can add filters by selecting different values or specifying a numeric range here, then clicking the “+” button.",onPrevClick:"disablePrevious",onNextClick:"applyFilterThenNext"}},{element:'#row-0 button[title="Data Hierarchy"]',onHighlightStarted:"clickElement",popover:{title:"Variable Hierarchy",description:"Click the Variable Hierarchy icon to filter at different levels of the variable path.",onPrevClick:"disablePrevious"}},{element:"#ExplorerTable-table .expandable-row",popover:{title:"Variable Hierarchy",description:"You can filter on different levels of the variable hierarchy by clicking a level here, then clicking the “+” button.",onPrevClick:"disablePrevious"}},{element:'#row-0 button[title="Add for Analysis"]',popover:{title:"Export Variable",description:"Click the export icon to add a variable to your export without applying a filter.",onPrevClick:"disablePrevious"}},{element:"#sidebar-right",popover:{title:"Cohort Summary",description:"You can view the summary of the filtered cohort based on the applied variable filters. Additionally, you can also view variable distributions and prepare your cohort for analysis.",onPrevClick:"disablePrevious"}},{element:"#nav-link-help",popover:{title:"Help Resources",description:"To learn more about PIC-SURE, please consult the <a href='https://pic-sure.gitbook.io/pic-sure' class='anchor' target='_blank'>user guide</a> and <a href='https://www.youtube.com/@pic-sure446/featured' class='anchor' target='_blank'>video</a> demonstrations. You can also find these resources on the help page.",onPrevClick:"disablePrevious"}}]},"BDC-Open":{searchTerm:"RECOVER",title:"Welcome to BioData Catalyst Powered by PIC-SURE",description:"BioData Catalyst Powered by PIC-SURE allows you to explore variables, apply filters, and prepare data for analysis. When applying filters, participants are selected that meet those criteria. <br /><br />This tour demonstrates how to search, apply filters, and interpret results using PIC-SURE. This tour uses the Researching COVID to Enhance Recovery (RECOVER) dataset as an example. The RECOVER initiative is focused on understanding, diagnosing, treating, and preventing Long COVID. <br /><br />Once the tour starts, you can click “Next” or use the arrow keys to navigate the tour. You can press any other key or click anywhere on the screen to escape the tour.",steps:[{element:"#explorer-search-box",popover:{title:"Search",description:'Search clinical variables of interest. Here, the term "{{searchTerm}}" was used to get all {{searchTerm}}-related results.',onPrevClick:"disablePrevious"}},{element:"#facet-side-bar",popover:{title:"Refine Search",description:"Use the options displayed here to further refine your search results using facets.",onPrevClick:"disablePrevious"}},{element:"#ExplorerTable-table",popover:{title:"Search Results",description:"The search results are displayed in this area. Each row describes a different variable that matches your search term and/or facets.",onPrevClick:"disablePrevious",onNextClick:"findAndSetFirstNonStigmatizedAvailableFilterThenNext"}},{element:"#ExplorerTable-table .non-stigmatized-row",onHighlightStarted:"clickElement",popover:{title:"Variable Details",description:"To learn more about a variable, click on the row or click the information icon.",onPrevClick:"disablePrevious"}},{element:"#ExplorerTable-table .expandable-row",popover:{title:"Variable Details",description:"This displays information about the variable, including dataset information and study information.",onPrevClick:"disablePrevious"}},{element:'#ExplorerTable-table .non-stigmatized-row button[title="Filter"]',onHighlightStarted:"clickElement",popover:{title:"Apply Filters",description:"Click the filter icon to apply inclusion criteria to build your cohort.",onPrevClick:"disablePrevious"}},{element:"#ExplorerTable-table .expandable-row",popover:{title:"Apply Filters",description:"You can add filters by selecting different values or specifying a numeric range here, then clicking the “+” button.",onPrevClick:"disablePrevious",onNextClick:"applyFilterThenNext"}},{element:"#sidebar-right",popover:{title:"Cohort Summary",description:"You can view the summary of the filtered cohort based on the applied variable filters. Additionally, you can also view variable distributions and counts per study. Note that this count is obfuscated to protect participant-level data.",onPrevClick:"disablePrevious"}},{element:"#nav-link-help",popover:{title:"Help Resources",description:"To learn more about PIC-SURE, please consult the <a href='https://pic-sure.gitbook.io/nhlbi-biodata-catalyst-powered-by-pic-sure' class='anchor' target='_blank'>user guide</a> and <a href='https://www.youtube.com/playlist?list=PLJ6YccH8TEufZ5L-ctxzFF7vuZRLVacKw' class='anchor' target='_blank'>video</a> demonstrations. You can also find these resources on the help page.",onPrevClick:"disablePrevious"}}]},"BDC-Auth":{searchTerm:"cardiac surgery",title:"Welcome to BioData Catalyst Powered by PIC-SURE",description:"BioData Catalyst Powered by PIC-SURE allows you to explore variables, apply filters, and prepare data for analysis. When applying filters, participants are selected that meet those criteria. <br /><br />This tour demonstrates how to search, apply filters, and interpret results using PIC-SURE. <br /><br />Once the tour starts, you can click “Next” or use the arrow keys to navigate the tour. You can press any other key or click anywhere on the screen to escape the tour.",steps:[{element:"#explorer-search-box",popover:{title:"Search",description:'Search clinical variables of interest. Here, the term "{{searchTerm}}" was used to get all results related to {{searchTerm}}.',onPrevClick:"disablePrevious"}},{element:"#facet-side-bar",popover:{title:"Refine Search",description:"Use the options displayed here to further refine your search results using facets.",onPrevClick:"disablePrevious"}},{element:"#ExplorerTable-table",popover:{title:"Search Results",description:"The search results are displayed in this area. Each row describes a different variable that matches your search term and/or facets.",onPrevClick:"disablePrevious"}},{element:"#ExplorerTable-table #row-0",onHighlightStarted:"clickElement",popover:{title:"Variable Details",description:"To learn more about a variable, click on the row or click the information icon.",onPrevClick:"disablePrevious"}},{element:"#ExplorerTable-table #active-row-0",popover:{title:"Variable Details",description:"This displays information about the variable, including dataset information and study information.",onPrevClick:"disablePrevious",onNextClick:"clickElementThenNext"}},{element:'#row-0 button[title="Filter"]',onHighlightStarted:"clickElement",popover:{title:"Apply Filters",description:"Click the filter icon to apply inclusion criteria to build your cohort.",onPrevClick:"disablePrevious"}},{element:"#active-row-0",popover:{title:"Apply Filters",description:"You can add filters by selecting different values or specifying a numeric range here, then clicking the “+” button.",onPrevClick:"disablePrevious",onNextClick:"applyFilterThenNext"}},{element:'#row-0 button[title="Add for Analysis"]',popover:{title:"Export Variable",description:"Click the export icon to add a variable to your export without applying a filter.",onPrevClick:"disablePrevious"}},{element:"#sidebar-right",popover:{title:"Cohort Summary",description:"You can view the summary of the filtered cohort based on the applied variable filters. Additionally, you can also view variable distributions and prepare your cohort for analysis.",onPrevClick:"disablePrevious"}},{element:"#nav-link-help",popover:{title:"Help Resources",description:"To learn more about PIC-SURE, please consult the <a href='https://pic-sure.gitbook.io/nhlbi-biodata-catalyst-powered-by-pic-sure' class='anchor' target='_blank'>user guide</a> and <a href='https://www.youtube.com/playlist?list=PLJ6YccH8TEufZ5L-ctxzFF7vuZRLVacKw' class='anchor' target='_blank'>video</a> demonstrations. You can also find these resources on the help page.",onPrevClick:"disablePrevious"}}]},"GIC-Common":{searchTerm:"cancer",title:"Welcome to GIC",description:'The Genomic Information Commons (GIC) Cohort Builder allows you to explore clinical, genomic, and biosample data from broadly consented cohorts across multiple sites of care. You can search variables, apply filters, and prepare to request access to patient-level data. When applying filters, patients are selected who meet those criteria. <br /><br />This tour demonstrates how to search, apply filters, and interpret results. Once the tour starts, you can click "Next" or use the arrow keys to navigate the tour. You can press any other key or click anywhere on the screen to escape the tour.',steps:[{element:"#explorer-search-box",popover:{title:"Search",description:'Search clinical variables of interest. Here, the term "cancer" was used.',onPrevClick:"disablePrevious"}},{element:"#facet-side-bar",popover:{title:"Refine Search",description:"Use the options displayed here to further refine your search results using facets.",onPrevClick:"disablePrevious"}},{element:"#ExplorerTable-table",popover:{title:"Search Results",description:"The search results are displayed in this area. Each row describes a different variable that matches your search term and/or facets.",onPrevClick:"disablePrevious"}},{element:"#ExplorerTable-table #row-0",onHighlightStarted:"clickElement",popover:{title:"Variable Details",description:"To learn more about a variable, click on the row or click the information icon.",onPrevClick:"disablePrevious"}},{element:"#ExplorerTable-table #active-row-0",popover:{title:"Variable Details",description:"This displays information about the variable, including dataset information and study information.",onPrevClick:"disablePrevious",onNextClick:"clickElementThenNext"}},{element:'#row-0 button[title="Filter"]',onHighlightStarted:"clickElement",popover:{title:"Apply Filters",description:"Click the filter icon to apply inclusion criteria to build your cohort.",onPrevClick:"disablePrevious"}},{element:"#ExplorerTable-table .expandable-row",popover:{title:"Apply Filters",description:'You can add filters by selecting different values or specifying a numeric range here, then clicking the "+" button.',onPrevClick:"disablePrevious",onNextClick:"applyFilterThenNext"}},{element:'#row-0 button[title="Data Hierarchy"]',onHighlightStarted:"clickElement",popover:{title:"Variable Hierarchy",description:"Click the Variable Hierarchy icon to filter at different levels of the variable path.",onPrevClick:"disablePrevious"}},{element:"#ExplorerTable-table .expandable-row",popover:{title:"Variable Hierarchy",description:'You can filter on different levels of the variable hierarchy by clicking a level here, then clicking the "+" button.',onPrevClick:"disablePrevious"}},{element:'#row-0 button[title="Add for Analysis"]',popover:{title:"Export Variable",description:"Click the export icon to add a variable to your export without applying a filter.",onPrevClick:"disablePrevious"}},{element:"#sidebar-right",popover:{title:"Cohort Summary",description:"You can view the summary of the filtered cohort based on the applied variable filters. Additionally, you can also view the patient counts per site with varying biosample and genomic data types using the Cohort Details tool.",onPrevClick:"disablePrevious"}},{element:"#nav-link-help",popover:{title:"Help Resources",description:"To learn more about PIC-SURE, please consult the <a href='https://pic-sure.gitbook.io/genomic-information-commons' class='anchor' target='_blank'>user guide</a> and <a href='https://www.youtube.com/playlist?list=PLJ6YccH8TEudynChXcDUKveAvqyK-N3SN' class='anchor' target='_blank'>video</a> demonstrations. You can also find these resources on the help page.",onPrevClick:"disablePrevious"}}]}};export{Ha as E,Ia as T};
