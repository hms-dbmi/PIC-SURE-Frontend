var In=Object.defineProperty;var Dn=(e,t,r)=>t in e?In(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Fe=(e,t,r)=>Dn(e,typeof t!="symbol"?t+"":t,r);import{A as xn}from"./AuthProviderRegistry.C01toUd8.js";import{p as Pn,l as Rn}from"./User.D1BG6p9P.js";import{c as Un}from"./configuration.CIpdfyUx.js";var Mn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Be(e,t){return e(t={exports:{}},t.exports),t.exports}var J=Be(function(e){var t,r;t=Mn,r=function(){function n(o){var a=[];if(o.length===0)return"";if(typeof o[0]!="string")throw new TypeError("Url must be a string. Received "+o[0]);if(o[0].match(/^[^/:]+:\/*$/)&&o.length>1){var c=o.shift();o[0]=c+o[0]}o[0].match(/^file:\/\/\//)?o[0]=o[0].replace(/^([^/:]+):\/*/,"$1:///"):o[0]=o[0].replace(/^([^/:]+):\/*/,"$1://");for(var p=0;p<o.length;p++){var l=o[p];if(typeof l!="string")throw new TypeError("Url must be a string. Received "+l);l!==""&&(p>0&&(l=l.replace(/^[\/]+/,"")),l=p<o.length-1?l.replace(/[\/]+$/,""):l.replace(/[\/]+$/,"/"),a.push(l))}var f=a.join("/"),d=(f=f.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return f=d.shift()+(d.length>0?"?":"")+d.join("&")}return function(){return n(typeof arguments[0]=="object"?arguments[0]:[].slice.call(arguments))}},e.exports?e.exports=r():t.urljoin=r()}),gr=typeof Symbol<"u"&&Symbol,vr={foo:{}},qn=Object,Bn="Function.prototype.bind called on incompatible ",Ln=Object.prototype.toString,Nn=Math.max,wr=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var o=0;o<t.length;o+=1)r[o+e.length]=t[o];return r},Hn=function(e,t){for(var r=[],n=t,o=0;n<e.length;n+=1,o+=1)r[o]=e[n];return r},Fn=function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r},we=Function.prototype.bind||function(e){var t=this;if(typeof t!="function"||Ln.apply(t)!=="[object Function]")throw new TypeError(Bn+t);for(var r,n=Hn(arguments,1),o=function(){if(this instanceof r){var f=t.apply(this,wr(n,arguments));return Object(f)===f?f:this}return t.apply(e,wr(n,arguments))},a=Nn(0,t.length-n.length),c=[],p=0;p<a;p++)c[p]="$"+p;if(r=Function("binder","return function ("+Fn(c,",")+"){ return binder.apply(this,arguments); }")(o),t.prototype){var l=function(){};l.prototype=t.prototype,r.prototype=new l,l.prototype=null}return r},Pt=we.call(Function.call,Object.prototype.hasOwnProperty),tt=SyntaxError,hn=Function,Ze=TypeError,qt=function(e){try{return hn('"use strict"; return ('+e+").constructor;")()}catch{}},Re=Object.getOwnPropertyDescriptor;if(Re)try{Re({},"")}catch{Re=null}var Bt=function(){throw new Ze},jn=Re?function(){try{return Bt}catch{try{return Re(arguments,"callee").get}catch{return Bt}}}():Bt,je=typeof gr=="function"&&typeof Symbol=="function"&&typeof gr("foo")=="symbol"&&typeof Symbol("bar")=="symbol"&&function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),r=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;for(t in e[t]=42,e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var n=Object.getOwnPropertySymbols(e);if(n.length!==1||n[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==42||o.enumerable!==!0)return!1}return!0}(),Wn={__proto__:vr}.foo===vr.foo&&!({__proto__:null}instanceof qn),K=Object.getPrototypeOf||(Wn?function(e){return e.__proto__}:null),Je={},$n=typeof Uint8Array<"u"&&K?K(Uint8Array):void 0,Ue={"%AggregateError%":typeof AggregateError>"u"?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":je&&K?K([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":Je,"%AsyncGenerator%":Je,"%AsyncGeneratorFunction%":Je,"%AsyncIteratorPrototype%":Je,"%Atomics%":typeof Atomics>"u"?void 0:Atomics,"%BigInt%":typeof BigInt>"u"?void 0:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?void 0:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?void 0:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?void 0:Float32Array,"%Float64Array%":typeof Float64Array>"u"?void 0:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?void 0:FinalizationRegistry,"%Function%":hn,"%GeneratorFunction%":Je,"%Int8Array%":typeof Int8Array>"u"?void 0:Int8Array,"%Int16Array%":typeof Int16Array>"u"?void 0:Int16Array,"%Int32Array%":typeof Int32Array>"u"?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":je&&K?K(K([][Symbol.iterator]())):void 0,"%JSON%":typeof JSON=="object"?JSON:void 0,"%Map%":typeof Map>"u"?void 0:Map,"%MapIteratorPrototype%":typeof Map<"u"&&je&&K?K(new Map()[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?void 0:Promise,"%Proxy%":typeof Proxy>"u"?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?void 0:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?void 0:Set,"%SetIteratorPrototype%":typeof Set<"u"&&je&&K?K(new Set()[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":je&&K?K(""[Symbol.iterator]()):void 0,"%Symbol%":je?Symbol:void 0,"%SyntaxError%":tt,"%ThrowTypeError%":jn,"%TypedArray%":$n,"%TypeError%":Ze,"%Uint8Array%":typeof Uint8Array>"u"?void 0:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?void 0:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?void 0:WeakMap,"%WeakRef%":typeof WeakRef>"u"?void 0:WeakRef,"%WeakSet%":typeof WeakSet>"u"?void 0:WeakSet};if(K)try{null.error}catch(e){var zn=K(K(e));Ue["%Error.prototype%"]=zn}var br={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Vn=we.call(Function.call,Array.prototype.concat),Jn=we.call(Function.apply,Array.prototype.splice),_r=we.call(Function.call,String.prototype.replace),Rt=we.call(Function.call,String.prototype.slice),Gn=we.call(Function.call,RegExp.prototype.exec),Xn=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Qn=/\\(\\)?/g,Zn=function(e){var t=Rt(e,0,1),r=Rt(e,-1);if(t==="%"&&r!=="%")throw new tt("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&t!=="%")throw new tt("invalid intrinsic syntax, expected opening `%`");var n=[];return _r(e,Xn,function(o,a,c,p){n[n.length]=c?_r(p,Qn,"$1"):a||o}),n},Kn=function(e,t){var r,n=e;if(Pt(br,n)&&(n="%"+(r=br[n])[0]+"%"),Pt(Ue,n)){var o=Ue[n];if(o===Je&&(o=function a(c){var p;if(c==="%AsyncFunction%")p=qt("async function () {}");else if(c==="%GeneratorFunction%")p=qt("function* () {}");else if(c==="%AsyncGeneratorFunction%")p=qt("async function* () {}");else if(c==="%AsyncGenerator%"){var l=a("%AsyncGeneratorFunction%");l&&(p=l.prototype)}else if(c==="%AsyncIteratorPrototype%"){var f=a("%AsyncGenerator%");f&&K&&(p=K(f.prototype))}return Ue[c]=p,p}(n)),o===void 0&&!t)throw new Ze("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new tt("intrinsic "+e+" does not exist!")},pe=function(e,t){if(typeof e!="string"||e.length===0)throw new Ze("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new Ze('"allowMissing" argument must be a boolean');if(Gn(/^%?[^%]*%?$/,e)===null)throw new tt("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=Zn(e),n=r.length>0?r[0]:"",o=Kn("%"+n+"%",t),a=o.name,c=o.value,p=!1,l=o.alias;l&&(n=l[0],Jn(r,Vn([0,1],l)));for(var f=1,d=!0;f<r.length;f+=1){var y=r[f],v=Rt(y,0,1),A=Rt(y,-1);if((v==='"'||v==="'"||v==="`"||A==='"'||A==="'"||A==="`")&&v!==A)throw new tt("property names with quotes must have matching quotes");if(y!=="constructor"&&d||(p=!0),Pt(Ue,a="%"+(n+="."+y)+"%"))c=Ue[a];else if(c!=null){if(!(y in c)){if(!t)throw new Ze("base intrinsic for "+e+" exists, but the property is not available.");return}if(Re&&f+1>=r.length){var b=Re(c,y);c=(d=!!b)&&"get"in b&&!("originalValue"in b.get)?b.get:c[y]}else d=Pt(c,y),c=c[y];d&&!p&&(Ue[a]=c)}}return c},Kt=Be(function(e){var t=pe("%Function.prototype.apply%"),r=pe("%Function.prototype.call%"),n=pe("%Reflect.apply%",!0)||we.call(r,t),o=pe("%Object.getOwnPropertyDescriptor%",!0),a=pe("%Object.defineProperty%",!0),c=pe("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}e.exports=function(l){var f=n(we,r,arguments);if(o&&a){var d=o(f,"length");d.configurable&&a(f,"length",{value:1+c(0,l.length-(arguments.length-1))})}return f};var p=function(){return n(we,t,arguments)};a?a(e.exports,"apply",{value:p}):e.exports.apply=p}),Yn=(Kt.apply,Kt(pe("String.prototype.indexOf"))),nt=function(e,t){var r=pe(e,!!t);return typeof r=="function"&&Yn(e,".prototype.")>-1?Kt(r):r},Ke=function(e){return e&&e.default||e}(Object.freeze({__proto__:null,default:{}})),hr=typeof Map=="function"&&Map.prototype,Lt=Object.getOwnPropertyDescriptor&&hr?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,wt=hr&&Lt&&typeof Lt.get=="function"?Lt.get:null,Tr=hr&&Map.prototype.forEach,fr=typeof Set=="function"&&Set.prototype,Nt=Object.getOwnPropertyDescriptor&&fr?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,bt=fr&&Nt&&typeof Nt.get=="function"?Nt.get:null,Or=fr&&Set.prototype.forEach,st=typeof WeakMap=="function"&&WeakMap.prototype?WeakMap.prototype.has:null,at=typeof WeakSet=="function"&&WeakSet.prototype?WeakSet.prototype.has:null,Sr=typeof WeakRef=="function"&&WeakRef.prototype?WeakRef.prototype.deref:null,ei=Boolean.prototype.valueOf,ti=Object.prototype.toString,ri=Function.prototype.toString,ni=String.prototype.match,Yt=String.prototype.slice,Oe=String.prototype.replace,ii=String.prototype.toUpperCase,Ar=String.prototype.toLowerCase,fn=RegExp.prototype.test,Cr=Array.prototype.concat,fe=Array.prototype.join,oi=Array.prototype.slice,Er=Math.floor,Ht=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Ft=Object.getOwnPropertySymbols,er=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,rt=typeof Symbol=="function"&&typeof Symbol.iterator=="object",re=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===rt||!0)?Symbol.toStringTag:null,dn=Object.prototype.propertyIsEnumerable,kr=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function Ir(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||fn.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var n=e<0?-Er(-e):Er(e);if(n!==e){var o=String(n),a=Yt.call(t,o.length+1);return Oe.call(o,r,"$&_")+"."+Oe.call(Oe.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Oe.call(t,r,"$&_")}var Dr=Ke.custom,xr=yn(Dr)?Dr:null,si=function e(t,r,n,o){var a=r||{};if(_e(a,"quoteStyle")&&a.quoteStyle!=="single"&&a.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(_e(a,"maxStringLength")&&(typeof a.maxStringLength=="number"?a.maxStringLength<0&&a.maxStringLength!==1/0:a.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var c=!_e(a,"customInspect")||a.customInspect;if(typeof c!="boolean"&&c!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(_e(a,"indent")&&a.indent!==null&&a.indent!=="	"&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(_e(a,"numericSeparator")&&typeof a.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var p=a.numericSeparator;if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return function k(L,U){if(L.length>U.maxStringLength){var W=L.length-U.maxStringLength,Y="... "+W+" more character"+(W>1?"s":"");return k(Yt.call(L,0,U.maxStringLength),U)+Y}return Pr(Oe.call(Oe.call(L,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,ci),"single",U)}(t,a);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var l=String(t);return p?Ir(t,l):l}if(typeof t=="bigint"){var f=String(t)+"n";return p?Ir(t,f):f}var d=a.depth===void 0?5:a.depth;if(n===void 0&&(n=0),n>=d&&d>0&&typeof t=="object")return tr(t)?"[Array]":"[Object]";var y=function(k,L){var U;if(k.indent==="	")U="	";else{if(!(typeof k.indent=="number"&&k.indent>0))return null;U=fe.call(Array(k.indent+1)," ")}return{base:U,prev:fe.call(Array(L+1),U)}}(a,n);if(o===void 0)o=[];else if(Ur(o,t)>=0)return"[Circular]";function v(k,L,U){if(L&&(o=oi.call(o)).push(L),U){var W={depth:a.depth};return _e(a,"quoteStyle")&&(W.quoteStyle=a.quoteStyle),e(k,W,n+1,o)}return e(k,a,n+1,o)}if(typeof t=="function"&&!Rr(t)){var A=function(k){if(k.name)return k.name;var L=ni.call(ri.call(k),/^function\s*([\w$]+)/);return L?L[1]:null}(t),b=_t(t,v);return"[Function"+(A?": "+A:" (anonymous)")+"]"+(b.length>0?" { "+fe.call(b,", ")+" }":"")}if(yn(t)){var S=rt?Oe.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):er.call(t);return typeof t!="object"||rt?S:ut(S)}if(function(k){return!k||typeof k!="object"?!1:typeof HTMLElement<"u"&&k instanceof HTMLElement?!0:typeof k.nodeName=="string"&&typeof k.getAttribute=="function"}(t)){for(var D="<"+Ar.call(String(t.nodeName)),C=t.attributes||[],_=0;_<C.length;_++)D+=" "+C[_].name+"="+Pr(ai(C[_].value),"double",a);return D+=">",t.childNodes&&t.childNodes.length&&(D+="..."),D+="</"+Ar.call(String(t.nodeName))+">"}if(tr(t)){if(t.length===0)return"[]";var x=_t(t,v);return y&&!function(k){for(var L=0;L<k.length;L++)if(Ur(k[L],`
`)>=0)return!1;return!0}(x)?"["+rr(x,y)+"]":"[ "+fe.call(x,", ")+" ]"}if(function(k){return!(Te(k)!=="[object Error]"||re&&typeof k=="object"&&re in k)}(t)){var B=_t(t,v);return"cause"in Error.prototype||!("cause"in t)||dn.call(t,"cause")?B.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+fe.call(B,", ")+" }":"{ ["+String(t)+"] "+fe.call(Cr.call("[cause]: "+v(t.cause),B),", ")+" }"}if(typeof t=="object"&&c){if(xr&&typeof t[xr]=="function"&&Ke)return Ke(t,{depth:d-n});if(c!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(function(k){if(!wt||!k||typeof k!="object")return!1;try{wt.call(k);try{bt.call(k)}catch{return!0}return k instanceof Map}catch{}return!1}(t)){var N=[];return Tr&&Tr.call(t,function(k,L){N.push(v(L,t,!0)+" => "+v(k,t))}),Mr("Map",wt.call(t),N,y)}if(function(k){if(!bt||!k||typeof k!="object")return!1;try{bt.call(k);try{wt.call(k)}catch{return!0}return k instanceof Set}catch{}return!1}(t)){var g=[];return Or&&Or.call(t,function(k){g.push(v(k,t))}),Mr("Set",bt.call(t),g,y)}if(function(k){if(!st||!k||typeof k!="object")return!1;try{st.call(k,st);try{at.call(k,at)}catch{return!0}return k instanceof WeakMap}catch{}return!1}(t))return jt("WeakMap");if(function(k){if(!at||!k||typeof k!="object")return!1;try{at.call(k,at);try{st.call(k,st)}catch{return!0}return k instanceof WeakSet}catch{}return!1}(t))return jt("WeakSet");if(function(k){if(!Sr||!k||typeof k!="object")return!1;try{return Sr.call(k),!0}catch{}return!1}(t))return jt("WeakRef");if(function(k){return!(Te(k)!=="[object Number]"||re&&typeof k=="object"&&re in k)}(t))return ut(v(Number(t)));if(function(k){if(!k||typeof k!="object"||!Ht)return!1;try{return Ht.call(k),!0}catch{}return!1}(t))return ut(v(Ht.call(t)));if(function(k){return!(Te(k)!=="[object Boolean]"||re&&typeof k=="object"&&re in k)}(t))return ut(ei.call(t));if(function(k){return!(Te(k)!=="[object String]"||re&&typeof k=="object"&&re in k)}(t))return ut(v(String(t)));if(!function(k){return!(Te(k)!=="[object Date]"||re&&typeof k=="object"&&re in k)}(t)&&!Rr(t)){var w=_t(t,v),O=kr?kr(t)===Object.prototype:t instanceof Object||t.constructor===Object,I=t instanceof Object?"":"null prototype",P=!O&&re&&Object(t)===t&&re in t?Yt.call(Te(t),8,-1):I?"Object":"",M=(O||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"")+(P||I?"["+fe.call(Cr.call([],P||[],I||[]),": ")+"] ":"");return w.length===0?M+"{}":y?M+"{"+rr(w,y)+"}":M+"{ "+fe.call(w,", ")+" }"}return String(t)};function Pr(e,t,r){var n=(r.quoteStyle||t)==="double"?'"':"'";return n+e+n}function ai(e){return Oe.call(String(e),/"/g,"&quot;")}function tr(e){return!(Te(e)!=="[object Array]"||re&&typeof e=="object"&&re in e)}function Rr(e){return!(Te(e)!=="[object RegExp]"||re&&typeof e=="object"&&re in e)}function yn(e){if(rt)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!er)return!1;try{return er.call(e),!0}catch{}return!1}var ui=Object.prototype.hasOwnProperty||function(e){return e in this};function _e(e,t){return ui.call(e,t)}function Te(e){return ti.call(e)}function Ur(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function ci(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+ii.call(t.toString(16))}function ut(e){return"Object("+e+")"}function jt(e){return e+" { ? }"}function Mr(e,t,r,n){return e+" ("+t+") {"+(n?rr(r,n):fe.call(r,", "))+"}"}function rr(e,t){if(e.length===0)return"";var r=`
`+t.prev+t.base;return r+fe.call(e,","+r)+`
`+t.prev}function _t(e,t){var r=tr(e),n=[];if(r){n.length=e.length;for(var o=0;o<e.length;o++)n[o]=_e(e,o)?t(e[o],e):""}var a,c=typeof Ft=="function"?Ft(e):[];if(rt){a={};for(var p=0;p<c.length;p++)a["$"+c[p]]=c[p]}for(var l in e)_e(e,l)&&(r&&String(Number(l))===l&&l<e.length||rt&&a["$"+l]instanceof Symbol||(fn.call(/[^\w$]/,l)?n.push(t(l,e)+": "+t(e[l],e)):n.push(l+": "+t(e[l],e))));if(typeof Ft=="function")for(var f=0;f<c.length;f++)dn.call(e,c[f])&&n.push("["+t(c[f])+"]: "+t(e[c[f]],e));return n}var pi=pe("%TypeError%"),Tt=pe("%WeakMap%",!0),Ot=pe("%Map%",!0),li=nt("WeakMap.prototype.get",!0),hi=nt("WeakMap.prototype.set",!0),fi=nt("WeakMap.prototype.has",!0),di=nt("Map.prototype.get",!0),yi=nt("Map.prototype.set",!0),mi=nt("Map.prototype.has",!0),Wt=function(e,t){for(var r,n=e;(r=n.next)!==null;n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r},mn=function(){var e,t,r,n={assert:function(o){if(!n.has(o))throw new pi("Side channel does not contain "+si(o))},get:function(o){if(Tt&&o&&(typeof o=="object"||typeof o=="function")){if(e)return li(e,o)}else if(Ot){if(t)return di(t,o)}else if(r)return function(a,c){var p=Wt(a,c);return p&&p.value}(r,o)},has:function(o){if(Tt&&o&&(typeof o=="object"||typeof o=="function")){if(e)return fi(e,o)}else if(Ot){if(t)return mi(t,o)}else if(r)return function(a,c){return!!Wt(a,c)}(r,o);return!1},set:function(o,a){Tt&&o&&(typeof o=="object"||typeof o=="function")?(e||(e=new Tt),hi(e,o,a)):Ot?(t||(t=new Ot),yi(t,o,a)):(r||(r={key:{},next:null}),function(c,p,l){var f=Wt(c,p);f?f.value=l:c.next={key:p,next:c.next,value:l}}(r,o,a))}};return n},gi=String.prototype.replace,vi=/%20/g,qr="RFC3986",Ie={default:qr,formatters:{RFC1738:function(e){return gi.call(e,vi,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:qr},$t=Object.prototype.hasOwnProperty,Ce=Array.isArray,le=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),Br=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)e[n]!==void 0&&(r[n]=e[n]);return r},ye={arrayToObject:Br,assign:function(e,t){return Object.keys(t).reduce(function(r,n){return r[n]=t[n],r},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var o=t[n],a=o.obj[o.prop],c=Object.keys(a),p=0;p<c.length;++p){var l=c[p],f=a[l];typeof f=="object"&&f!==null&&r.indexOf(f)===-1&&(t.push({obj:a,prop:l}),r.push(f))}return function(d){for(;d.length>1;){var y=d.pop(),v=y.obj[y.prop];if(Ce(v)){for(var A=[],b=0;b<v.length;++b)v[b]!==void 0&&A.push(v[b]);y.obj[y.prop]=A}}}(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},encode:function(e,t,r,n,o){if(e.length===0)return e;var a=e;if(typeof e=="symbol"?a=Symbol.prototype.toString.call(e):typeof e!="string"&&(a=String(e)),r==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(f){return"%26%23"+parseInt(f.slice(2),16)+"%3B"});for(var c="",p=0;p<a.length;++p){var l=a.charCodeAt(p);l===45||l===46||l===95||l===126||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||o===Ie.RFC1738&&(l===40||l===41)?c+=a.charAt(p):l<128?c+=le[l]:l<2048?c+=le[192|l>>6]+le[128|63&l]:l<55296||l>=57344?c+=le[224|l>>12]+le[128|l>>6&63]+le[128|63&l]:(p+=1,l=65536+((1023&l)<<10|1023&a.charCodeAt(p)),c+=le[240|l>>18]+le[128|l>>12&63]+le[128|l>>6&63]+le[128|63&l])}return c},isBuffer:function(e){return!(!e||typeof e!="object")&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},maybeMap:function(e,t){if(Ce(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)},merge:function e(t,r,n){if(!r)return t;if(typeof r!="object"){if(Ce(t))t.push(r);else{if(!t||typeof t!="object")return[t,r];(n&&(n.plainObjects||n.allowPrototypes)||!$t.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||typeof t!="object")return[t].concat(r);var o=t;return Ce(t)&&!Ce(r)&&(o=Br(t,n)),Ce(t)&&Ce(r)?(r.forEach(function(a,c){if($t.call(t,c)){var p=t[c];p&&typeof p=="object"&&a&&typeof a=="object"?t[c]=e(p,a,n):t.push(a)}else t[c]=a}),t):Object.keys(r).reduce(function(a,c){var p=r[c];return $t.call(a,c)?a[c]=e(a[c],p,n):a[c]=p,a},o)}},wi=Object.prototype.hasOwnProperty,Lr={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},ve=Array.isArray,bi=Array.prototype.push,gn=function(e,t){bi.apply(e,ve(t)?t:[t])},_i=Date.prototype.toISOString,Nr=Ie.default,te={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:ye.encode,encodeValuesOnly:!1,format:Nr,formatter:Ie.formatters[Nr],indices:!1,serializeDate:function(e){return _i.call(e)},skipNulls:!1,strictNullHandling:!1},zt={},Ti=function e(t,r,n,o,a,c,p,l,f,d,y,v,A,b,S,D){for(var C=t,_=D,x=0,B=!1;(_=_.get(zt))!==void 0&&!B;){var N=_.get(t);if(x+=1,N!==void 0){if(N===x)throw new RangeError("Cyclic object value");B=!0}_.get(zt)===void 0&&(x=0)}if(typeof l=="function"?C=l(r,C):C instanceof Date?C=y(C):n==="comma"&&ve(C)&&(C=ye.maybeMap(C,function(W){return W instanceof Date?y(W):W})),C===null){if(a)return p&&!b?p(r,te.encoder,S,"key",v):r;C=""}if(function(W){return typeof W=="string"||typeof W=="number"||typeof W=="boolean"||typeof W=="symbol"||typeof W=="bigint"}(C)||ye.isBuffer(C))return p?[A(b?r:p(r,te.encoder,S,"key",v))+"="+A(p(C,te.encoder,S,"value",v))]:[A(r)+"="+A(String(C))];var g,w=[];if(C===void 0)return w;if(n==="comma"&&ve(C))b&&p&&(C=ye.maybeMap(C,p)),g=[{value:C.length>0?C.join(",")||null:void 0}];else if(ve(l))g=l;else{var O=Object.keys(C);g=f?O.sort(f):O}for(var I=o&&ve(C)&&C.length===1?r+"[]":r,P=0;P<g.length;++P){var M=g[P],k=typeof M=="object"&&M.value!==void 0?M.value:C[M];if(!c||k!==null){var L=ve(C)?typeof n=="function"?n(I,M):I:I+(d?"."+M:"["+M+"]");D.set(t,x);var U=mn();U.set(zt,D),gn(w,e(k,L,n,o,a,c,n==="comma"&&b&&ve(C)?null:p,l,f,d,y,v,A,b,S,U))}}return w},nr=Object.prototype.hasOwnProperty,Oi=Array.isArray,Z={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:ye.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Si=function(e){return e.replace(/&#(\d+);/g,function(t,r){return String.fromCharCode(parseInt(r,10))})},vn=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},Ai=function(e,t,r,n){if(e){var o=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,c=r.depth>0&&/(\[[^[\]]*])/.exec(o),p=c?o.slice(0,c.index):o,l=[];if(p){if(!r.plainObjects&&nr.call(Object.prototype,p)&&!r.allowPrototypes)return;l.push(p)}for(var f=0;r.depth>0&&(c=a.exec(o))!==null&&f<r.depth;){if(f+=1,!r.plainObjects&&nr.call(Object.prototype,c[1].slice(1,-1))&&!r.allowPrototypes)return;l.push(c[1])}return c&&l.push("["+o.slice(c.index)+"]"),function(d,y,v,A){for(var b=A?y:vn(y,v),S=d.length-1;S>=0;--S){var D,C=d[S];if(C==="[]"&&v.parseArrays)D=[].concat(b);else{D=v.plainObjects?Object.create(null):{};var _=C.charAt(0)==="["&&C.charAt(C.length-1)==="]"?C.slice(1,-1):C,x=parseInt(_,10);v.parseArrays||_!==""?!isNaN(x)&&C!==_&&String(x)===_&&x>=0&&v.parseArrays&&x<=v.arrayLimit?(D=[])[x]=b:_!=="__proto__"&&(D[_]=b):D={0:b}}b=D}return b}(l,t,r,n)}},Se={formats:Ie,parse:function(e,t){var r=function(f){if(!f)return Z;if(f.decoder!==null&&f.decoder!==void 0&&typeof f.decoder!="function")throw new TypeError("Decoder has to be a function.");if(f.charset!==void 0&&f.charset!=="utf-8"&&f.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var d=f.charset===void 0?Z.charset:f.charset;return{allowDots:f.allowDots===void 0?Z.allowDots:!!f.allowDots,allowPrototypes:typeof f.allowPrototypes=="boolean"?f.allowPrototypes:Z.allowPrototypes,allowSparse:typeof f.allowSparse=="boolean"?f.allowSparse:Z.allowSparse,arrayLimit:typeof f.arrayLimit=="number"?f.arrayLimit:Z.arrayLimit,charset:d,charsetSentinel:typeof f.charsetSentinel=="boolean"?f.charsetSentinel:Z.charsetSentinel,comma:typeof f.comma=="boolean"?f.comma:Z.comma,decoder:typeof f.decoder=="function"?f.decoder:Z.decoder,delimiter:typeof f.delimiter=="string"||ye.isRegExp(f.delimiter)?f.delimiter:Z.delimiter,depth:typeof f.depth=="number"||f.depth===!1?+f.depth:Z.depth,ignoreQueryPrefix:f.ignoreQueryPrefix===!0,interpretNumericEntities:typeof f.interpretNumericEntities=="boolean"?f.interpretNumericEntities:Z.interpretNumericEntities,parameterLimit:typeof f.parameterLimit=="number"?f.parameterLimit:Z.parameterLimit,parseArrays:f.parseArrays!==!1,plainObjects:typeof f.plainObjects=="boolean"?f.plainObjects:Z.plainObjects,strictNullHandling:typeof f.strictNullHandling=="boolean"?f.strictNullHandling:Z.strictNullHandling}}(t);if(e===""||e==null)return r.plainObjects?Object.create(null):{};for(var n=typeof e=="string"?function(f,d){var y,v={__proto__:null},A=d.ignoreQueryPrefix?f.replace(/^\?/,""):f,b=d.parameterLimit===1/0?void 0:d.parameterLimit,S=A.split(d.delimiter,b),D=-1,C=d.charset;if(d.charsetSentinel)for(y=0;y<S.length;++y)S[y].indexOf("utf8=")===0&&(S[y]==="utf8=%E2%9C%93"?C="utf-8":S[y]==="utf8=%26%2310003%3B"&&(C="iso-8859-1"),D=y,y=S.length);for(y=0;y<S.length;++y)if(y!==D){var _,x,B=S[y],N=B.indexOf("]="),g=N===-1?B.indexOf("="):N+1;g===-1?(_=d.decoder(B,Z.decoder,C,"key"),x=d.strictNullHandling?null:""):(_=d.decoder(B.slice(0,g),Z.decoder,C,"key"),x=ye.maybeMap(vn(B.slice(g+1),d),function(w){return d.decoder(w,Z.decoder,C,"value")})),x&&d.interpretNumericEntities&&C==="iso-8859-1"&&(x=Si(x)),B.indexOf("[]=")>-1&&(x=Oi(x)?[x]:x),nr.call(v,_)?v[_]=ye.combine(v[_],x):v[_]=x}return v}(e,r):e,o=r.plainObjects?Object.create(null):{},a=Object.keys(n),c=0;c<a.length;++c){var p=a[c],l=Ai(p,n[p],r,typeof e=="string");o=ye.merge(o,l,r)}return r.allowSparse===!0?o:ye.compact(o)},stringify:function(e,t){var r,n=e,o=function(b){if(!b)return te;if(b.encoder!==null&&b.encoder!==void 0&&typeof b.encoder!="function")throw new TypeError("Encoder has to be a function.");var S=b.charset||te.charset;if(b.charset!==void 0&&b.charset!=="utf-8"&&b.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var D=Ie.default;if(b.format!==void 0){if(!wi.call(Ie.formatters,b.format))throw new TypeError("Unknown format option provided.");D=b.format}var C=Ie.formatters[D],_=te.filter;return(typeof b.filter=="function"||ve(b.filter))&&(_=b.filter),{addQueryPrefix:typeof b.addQueryPrefix=="boolean"?b.addQueryPrefix:te.addQueryPrefix,allowDots:b.allowDots===void 0?te.allowDots:!!b.allowDots,charset:S,charsetSentinel:typeof b.charsetSentinel=="boolean"?b.charsetSentinel:te.charsetSentinel,delimiter:b.delimiter===void 0?te.delimiter:b.delimiter,encode:typeof b.encode=="boolean"?b.encode:te.encode,encoder:typeof b.encoder=="function"?b.encoder:te.encoder,encodeValuesOnly:typeof b.encodeValuesOnly=="boolean"?b.encodeValuesOnly:te.encodeValuesOnly,filter:_,format:D,formatter:C,serializeDate:typeof b.serializeDate=="function"?b.serializeDate:te.serializeDate,skipNulls:typeof b.skipNulls=="boolean"?b.skipNulls:te.skipNulls,sort:typeof b.sort=="function"?b.sort:null,strictNullHandling:typeof b.strictNullHandling=="boolean"?b.strictNullHandling:te.strictNullHandling}}(t);typeof o.filter=="function"?n=(0,o.filter)("",n):ve(o.filter)&&(r=o.filter);var a,c=[];if(typeof n!="object"||n===null)return"";a=t&&t.arrayFormat in Lr?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var p=Lr[a];if(t&&"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var l=p==="comma"&&t&&t.commaRoundTrip;r||(r=Object.keys(n)),o.sort&&r.sort(o.sort);for(var f=mn(),d=0;d<r.length;++d){var y=r[d];o.skipNulls&&n[y]===null||gn(c,Ti(n[y],y,p,l,o.strictNullHandling,o.skipNulls,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.format,o.formatter,o.encodeValuesOnly,o.charset,f))}var v=c.join(o.delimiter),A=o.addQueryPrefix===!0?"?":"";return o.charsetSentinel&&(o.charset==="iso-8859-1"?A+="utf8=%26%2310003%3B&":A+="utf8=%E2%9C%93&"),v.length>0?A+v:""}},Ci=Be(function(e){function t(r){if(r)return function(n){for(var o in t.prototype)n[o]=t.prototype[o];return n}(r)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(r,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(n),this},t.prototype.once=function(r,n){function o(){this.off(r,o),n.apply(this,arguments)}return o.fn=n,this.on(r,o),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(r,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var o,a=this._callbacks["$"+r];if(!a)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var c=0;c<a.length;c++)if((o=a[c])===n||o.fn===n){a.splice(c,1);break}return a.length===0&&delete this._callbacks["$"+r],this},t.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),o=this._callbacks["$"+r],a=1;a<arguments.length;a++)n[a-1]=arguments[a];if(o){a=0;for(var c=(o=o.slice(0)).length;a<c;++a)o[a].apply(this,n)}return this},t.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]},t.prototype.hasListeners=function(r){return!!this.listeners(r).length}}),Ei=ct;ct.default=ct,ct.stable=Hr,ct.stableStringify=Hr;var Me=[],De=[];function wn(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function ct(e,t,r,n){var o;n===void 0&&(n=wn()),function c(p,l,f,d,y,v,A){var b;if(v+=1,typeof p=="object"&&p!==null){for(b=0;b<d.length;b++)if(d[b]===p)return void Ye("[Circular]",p,l,y);if(A.depthLimit!==void 0&&v>A.depthLimit||A.edgesLimit!==void 0&&f+1>A.edgesLimit)return void Ye("[...]",p,l,y);if(d.push(p),Array.isArray(p))for(b=0;b<p.length;b++)c(p[b],b,b,d,p,v,A);else{var S=Object.keys(p);for(b=0;b<S.length;b++){var D=S[b];c(p[D],D,b,d,p,v,A)}}d.pop()}}(e,"",0,[],void 0,0,n);try{o=De.length===0?JSON.stringify(e,t,r):JSON.stringify(e,bn(t),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Me.length!==0;){var a=Me.pop();a.length===4?Object.defineProperty(a[0],a[1],a[3]):a[0][a[1]]=a[2]}}return o}function Ye(e,t,r,n){var o=Object.getOwnPropertyDescriptor(n,r);o.get!==void 0?o.configurable?(Object.defineProperty(n,r,{value:e}),Me.push([n,r,t,o])):De.push([t,r,e]):(n[r]=e,Me.push([n,r,t]))}function ki(e,t){return e<t?-1:e>t?1:0}function Hr(e,t,r,n){n===void 0&&(n=wn());var o,a=function p(l,f,d,y,v,A,b){var S;if(A+=1,typeof l=="object"&&l!==null){for(S=0;S<y.length;S++)if(y[S]===l)return void Ye("[Circular]",l,f,v);try{if(typeof l.toJSON=="function")return}catch{return}if(b.depthLimit!==void 0&&A>b.depthLimit||b.edgesLimit!==void 0&&d+1>b.edgesLimit)return void Ye("[...]",l,f,v);if(y.push(l),Array.isArray(l))for(S=0;S<l.length;S++)p(l[S],S,S,y,l,A,b);else{var D={},C=Object.keys(l).sort(ki);for(S=0;S<C.length;S++){var _=C[S];p(l[_],_,S,y,l,A,b),D[_]=l[_]}if(v===void 0)return D;Me.push([v,f,l]),v[f]=D}y.pop()}}(e,"",0,[],void 0,0,n)||e;try{o=De.length===0?JSON.stringify(a,t,r):JSON.stringify(a,bn(t),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Me.length!==0;){var c=Me.pop();c.length===4?Object.defineProperty(c[0],c[1],c[3]):c[0][c[1]]=c[2]}}return o}function bn(e){return e=e!==void 0?e:function(t,r){return r},function(t,r){if(De.length>0)for(var n=0;n<De.length;n++){var o=De[n];if(o[1]===t&&o[0]===r){r=o[2],De.splice(n,1);break}}return e.call(this,t,r)}}var ne=Be(function(e,t){function r(a){return(r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(a)}function n(a,c){var p=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!p){if(Array.isArray(a)||(p=function(A,b){if(A){if(typeof A=="string")return o(A,b);var S=Object.prototype.toString.call(A).slice(8,-1);if(S==="Object"&&A.constructor&&(S=A.constructor.name),S==="Map"||S==="Set")return Array.from(A);if(S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return o(A,b)}}(a))||c){p&&(a=p);var l=0,f=function(){};return{s:f,n:function(){return l>=a.length?{done:!0}:{done:!1,value:a[l++]}},e:function(A){throw A},f}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var d,y=!0,v=!1;return{s:function(){p=p.call(a)},n:function(){var A=p.next();return y=A.done,A},e:function(A){v=!0,d=A},f:function(){try{y||p.return==null||p.return()}finally{if(v)throw d}}}}function o(a,c){(c==null||c>a.length)&&(c=a.length);for(var p=0,l=new Array(c);p<c;p++)l[p]=a[p];return l}t.type=function(a){return a.split(/ *; */).shift()},t.params=function(a){var c,p={},l=n(a.split(/ *; */));try{for(l.s();!(c=l.n()).done;){var f=c.value.split(/ *= */),d=f.shift(),y=f.shift();d&&y&&(p[d]=y)}}catch(v){l.e(v)}finally{l.f()}return p},t.parseLinks=function(a){var c,p={},l=n(a.split(/ *, */));try{for(l.s();!(c=l.n()).done;){var f=c.value.split(/ *; */),d=f[0].slice(1,-1);p[f[1].split(/ *= */)[1].slice(1,-1)]=d}}catch(y){l.e(y)}finally{l.f()}return p},t.cleanHeader=function(a,c){return delete a["content-type"],delete a["content-length"],delete a["transfer-encoding"],delete a.host,c&&(delete a.authorization,delete a.cookie),a},t.isObject=function(a){return a!==null&&r(a)==="object"},t.hasOwn=Object.hasOwn||function(a,c){if(a==null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(new Object(a),c)},t.mixin=function(a,c){for(var p in c)t.hasOwn(c,p)&&(a[p]=c[p])}});ne.type,ne.params,ne.parseLinks,ne.cleanHeader,ne.isObject,ne.hasOwn,ne.mixin;function _n(e){return(_n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}var St=ne.isObject,pt=ne.hasOwn,Ii=j;function j(){}j.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this},j.prototype.parse=function(e){return this._parser=e,this},j.prototype.responseType=function(e){return this._responseType=e,this},j.prototype.serialize=function(e){return this._serializer=e,this},j.prototype.timeout=function(e){if(!e||_n(e)!=="object")return this._timeout=e,this._responseTimeout=0,this._uploadTimeout=0,this;for(var t in e)if(pt(e,t))switch(t){case"deadline":this._timeout=e.deadline;break;case"response":this._responseTimeout=e.response;break;case"upload":this._uploadTimeout=e.upload;break;default:console.warn("Unknown timeout option",t)}return this},j.prototype.retry=function(e,t){return arguments.length!==0&&e!==!0||(e=1),e<=0&&(e=0),this._maxRetries=e,this._retries=0,this._retryCallback=t,this};var Di=new Set(["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"]),xi=new Set([408,413,429,500,502,503,504,521,522,524]);j.prototype._shouldRetry=function(e,t){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var r=this._retryCallback(e,t);if(r===!0)return!0;if(r===!1)return!1}catch(n){console.error(n)}return!!(t&&t.status&&xi.has(t.status)||e&&(e.code&&Di.has(e.code)||e.timeout&&e.code==="ECONNABORTED"||e.crossDomain))},j.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()},j.prototype.then=function(e,t){var r=this;if(!this._fullfilledPromise){var n=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(o,a){n.on("abort",function(){if(!(r._maxRetries&&r._maxRetries>r._retries))if(r.timedout&&r.timedoutError)a(r.timedoutError);else{var c=new Error("Aborted");c.code="ABORTED",c.status=r.status,c.method=r.method,c.url=r.url,a(c)}}),n.end(function(c,p){c?a(c):o(p)})})}return this._fullfilledPromise.then(e,t)},j.prototype.catch=function(e){return this.then(void 0,e)},j.prototype.use=function(e){return e(this),this},j.prototype.ok=function(e){if(typeof e!="function")throw new Error("Callback required");return this._okCallback=e,this},j.prototype._isResponseOK=function(e){return!!e&&(this._okCallback?this._okCallback(e):e.status>=200&&e.status<300)},j.prototype.get=function(e){return this._header[e.toLowerCase()]},j.prototype.getHeader=j.prototype.get,j.prototype.set=function(e,t){if(St(e)){for(var r in e)pt(e,r)&&this.set(r,e[r]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},j.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},j.prototype.field=function(e,t,r){if(e==null)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(St(e)){for(var n in e)pt(e,n)&&this.field(n,e[n]);return this}if(Array.isArray(t)){for(var o in t)pt(t,o)&&this.field(e,t[o]);return this}if(t==null)throw new Error(".field(name, val) val can not be empty");return typeof t=="boolean"&&(t=String(t)),r?this._getFormData().append(e,t,r):this._getFormData().append(e,t),this},j.prototype.abort=function(){if(this._aborted)return this;if(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req){if(Ke.gte(process.version,"v13.0.0")&&Ke.lt(process.version,"v14.0.0"))throw new Error("Superagent does not work in v13 properly with abort() due to Node.js core changes");Ke.gte(process.version,"v14.0.0")&&(this.req.destroyed=!0),this.req.abort()}return this.clearTimeout(),this.emit("abort"),this},j.prototype._auth=function(e,t,r,n){switch(r.type){case"basic":this.set("Authorization","Basic ".concat(n("".concat(e,":").concat(t))));break;case"auto":this.username=e,this.password=t;break;case"bearer":this.set("Authorization","Bearer ".concat(e))}return this},j.prototype.withCredentials=function(e){return e===void 0&&(e=!0),this._withCredentials=e,this},j.prototype.redirects=function(e){return this._maxRedirects=e,this},j.prototype.maxResponseSize=function(e){if(typeof e!="number")throw new TypeError("Invalid argument");return this._maxResponseSize=e,this},j.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},j.prototype.send=function(e){var t=St(e),r=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(t&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(t&&St(this._data))for(var n in e)pt(e,n)&&(this._data[n]=e[n]);else typeof e=="string"?(r||this.type("form"),(r=this._header["content-type"])&&(r=r.toLowerCase().trim()),this._data=r==="application/x-www-form-urlencoded"?this._data?"".concat(this._data,"&").concat(e):e:(this._data||"")+e):this._data=e;return!t||this._isHost(e)||r||this.type("json"),this},j.prototype.sortQuery=function(e){return this._sort=e===void 0||e,this},j.prototype._finalizeQueryString=function(){var e=this._query.join("&");if(e&&(this.url+=(this.url.includes("?")?"&":"?")+e),this._query.length=0,this._sort){var t=this.url.indexOf("?");if(t>=0){var r=this.url.slice(t+1).split("&");typeof this._sort=="function"?r.sort(this._sort):r.sort(),this.url=this.url.slice(0,t)+"?"+r.join("&")}}},j.prototype._appendQueryString=function(){console.warn("Unsupported")},j.prototype._timeoutError=function(e,t,r){if(!this._aborted){var n=new Error("".concat(e+t,"ms exceeded"));n.timeout=t,n.code="ECONNABORTED",n.errno=r,this.timedout=!0,this.timedoutError=n,this.abort(),this.callback(n)}},j.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){e._timeoutError("Timeout of ",e._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){e._timeoutError("Response timeout of ",e._responseTimeout,"ETIMEDOUT")},this._responseTimeout))};var Pi=It;function It(){}function Ri(e){return function(t){if(Array.isArray(t))return ir(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||Tn(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Tn(e,t){if(e){if(typeof e=="string")return ir(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ir(e,t):void 0}}function ir(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dr(){this._defaults=[]}It.prototype.get=function(e){return this.header[e.toLowerCase()]},It.prototype._setHeaderProperties=function(e){var t=e["content-type"]||"";this.type=ne.type(t);var r=ne.params(t);for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(this[n]=r[n]);this.links={};try{e.link&&(this.links=ne.parseLinks(e.link))}catch{}},It.prototype._setStatusProperties=function(e){var t=Math.trunc(e/100);this.statusCode=e,this.status=this.statusCode,this.statusType=t,this.info=t===1,this.ok=t===2,this.redirect=t===3,this.clientError=t===4,this.serverError=t===5,this.error=(t===4||t===5)&&this.toError(),this.created=e===201,this.accepted=e===202,this.noContent=e===204,this.badRequest=e===400,this.unauthorized=e===401,this.notAcceptable=e===406,this.forbidden=e===403,this.notFound=e===404,this.unprocessableEntity=e===422};for(var Ui=function(){var e=Fr[Vt];dr.prototype[e]=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this._defaults.push({fn:e,args:r}),this}},Vt=0,Fr=["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"];Vt<Fr.length;Vt++)Ui();dr.prototype._setDefaults=function(e){var t,r=function(o,a){var c=typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(!c){if(Array.isArray(o)||(c=Tn(o))||a){c&&(o=c);var p=0,l=function(){};return{s:l,n:function(){return p>=o.length?{done:!0}:{done:!1,value:o[p++]}},e:function(v){throw v},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var f,d=!0,y=!1;return{s:function(){c=c.call(o)},n:function(){var v=c.next();return d=v.done,v},e:function(v){y=!0,f=v},f:function(){try{d||c.return==null||c.return()}finally{if(y)throw f}}}}(this._defaults);try{for(r.s();!(t=r.n()).done;){var n=t.value;e[n.fn].apply(e,Ri(n.args))}}catch(o){r.e(o)}finally{r.f()}};for(var At=dr,Dt=Be(function(e,t){function r(g){return(r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(g)}function n(g,w){var O=typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(!O){if(Array.isArray(g)||(O=function(U,W){if(U){if(typeof U=="string")return o(U,W);var Y=Object.prototype.toString.call(U).slice(8,-1);if(Y==="Object"&&U.constructor&&(Y=U.constructor.name),Y==="Map"||Y==="Set")return Array.from(U);if(Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return o(U,W)}}(g))||w){O&&(g=O);var I=0,P=function(){};return{s:P,n:function(){return I>=g.length?{done:!0}:{done:!1,value:g[I++]}},e:function(U){throw U},f:P}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var M,k=!0,L=!1;return{s:function(){O=O.call(g)},n:function(){var U=O.next();return k=U.done,U},e:function(U){L=!0,M=U},f:function(){try{k||O.return==null||O.return()}finally{if(L)throw M}}}}function o(g,w){(w==null||w>g.length)&&(w=g.length);for(var O=0,I=new Array(w);O<w;O++)I[O]=g[O];return I}var a;typeof window<"u"?a=window:typeof self>"u"?(console.warn("Using browser-only version of superagent in non-browser environment"),a=void 0):a=self;var c=ne.isObject,p=ne.mixin,l=ne.hasOwn;function f(){}e.exports=function(g,w){return typeof w=="function"?new t.Request("GET",g).end(w):arguments.length===1?new t.Request("GET",g):new t.Request(g,w)};var d=t=e.exports;t.Request=C,d.getXHR=function(){if(a.XMLHttpRequest&&(!a.location||a.location.protocol!=="file:"||!a.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch{}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch{}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch{}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch{}throw new Error("Browser-only version of superagent could not find XHR")};var y="".trim?function(g){return g.trim()}:function(g){return g.replace(/(^\s*|\s*$)/g,"")};function v(g){if(!c(g))return g;var w=[];for(var O in g)l(g,O)&&A(w,O,g[O]);return w.join("&")}function A(g,w,O){if(O!==void 0)if(O!==null)if(Array.isArray(O)){var I,P=n(O);try{for(P.s();!(I=P.n()).done;)A(g,w,I.value)}catch(k){P.e(k)}finally{P.f()}}else if(c(O))for(var M in O)l(O,M)&&A(g,"".concat(w,"[").concat(M,"]"),O[M]);else g.push(encodeURI(w)+"="+encodeURIComponent(O));else g.push(encodeURI(w))}function b(g){for(var w,O,I={},P=g.split("&"),M=0,k=P.length;M<k;++M)(O=(w=P[M]).indexOf("="))===-1?I[decodeURIComponent(w)]="":I[decodeURIComponent(w.slice(0,O))]=decodeURIComponent(w.slice(O+1));return I}function S(g){return/[/+]json($|[^-\w])/i.test(g)}function D(g){this.req=g,this.xhr=this.req.xhr,this.text=this.req.method!=="HEAD"&&(this.xhr.responseType===""||this.xhr.responseType==="text")||this.xhr.responseType===void 0?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var w=this.xhr.status;w===1223&&(w=204),this._setStatusProperties(w),this.headers=function(O){for(var I,P,M,k,L=O.split(/\r?\n/),U={},W=0,Y=L.length;W<Y;++W)(I=(P=L[W]).indexOf(":"))!==-1&&(M=P.slice(0,I).toLowerCase(),k=y(P.slice(I+1)),U[M]=k);return U}(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),this.text===null&&g._responseType?this.body=this.xhr.response:this.body=this.req.method==="HEAD"?null:this._parseBody(this.text?this.text:this.xhr.response)}function C(g,w){var O=this;this._query=this._query||[],this.method=g,this.url=w,this.header={},this._header={},this.on("end",function(){var I,P=null,M=null;try{M=new D(O)}catch(k){return(P=new Error("Parser is unable to parse the response")).parse=!0,P.original=k,O.xhr?(P.rawResponse=O.xhr.responseType===void 0?O.xhr.responseText:O.xhr.response,P.status=O.xhr.status?O.xhr.status:null,P.statusCode=P.status):(P.rawResponse=null,P.status=null),O.callback(P)}O.emit("response",M);try{O._isResponseOK(M)||(I=new Error(M.statusText||M.text||"Unsuccessful HTTP response"))}catch(k){I=k}I?(I.original=P,I.response=M,I.status=M.status,O.callback(I,M)):O.callback(null,M)})}d.serializeObject=v,d.parseString=b,d.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},d.serialize={"application/x-www-form-urlencoded":Se.stringify,"application/json":Ei},d.parse={"application/x-www-form-urlencoded":b,"application/json":JSON.parse},p(D.prototype,Pi.prototype),D.prototype._parseBody=function(g){var w=d.parse[this.type];return this.req._parser?this.req._parser(this,g):(!w&&S(this.type)&&(w=d.parse["application/json"]),w&&g&&(g.length>0||g instanceof Object)?w(g):null)},D.prototype.toError=function(){var g=this.req,w=g.method,O=g.url,I="cannot ".concat(w," ").concat(O," (").concat(this.status,")"),P=new Error(I);return P.status=this.status,P.method=w,P.url=O,P},d.Response=D,Ci(C.prototype),p(C.prototype,Ii.prototype),C.prototype.type=function(g){return this.set("Content-Type",d.types[g]||g),this},C.prototype.accept=function(g){return this.set("Accept",d.types[g]||g),this},C.prototype.auth=function(g,w,O){arguments.length===1&&(w=""),r(w)==="object"&&w!==null&&(O=w,w=""),O||(O={type:typeof btoa=="function"?"basic":"auto"});var I=O.encoder?O.encoder:function(P){if(typeof btoa=="function")return btoa(P);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(g,w,O,I)},C.prototype.query=function(g){return typeof g!="string"&&(g=v(g)),g&&this._query.push(g),this},C.prototype.attach=function(g,w,O){if(w){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(g,w,O||w.name)}return this},C.prototype._getFormData=function(){return this._formData||(this._formData=new a.FormData),this._formData},C.prototype.callback=function(g,w){if(this._shouldRetry(g,w))return this._retry();var O=this._callback;this.clearTimeout(),g&&(this._maxRetries&&(g.retries=this._retries-1),this.emit("error",g)),O(g,w)},C.prototype.crossDomainError=function(){var g=new Error(`Request has been terminated
Possible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.`);g.crossDomain=!0,g.status=this.status,g.method=this.method,g.url=this.url,this.callback(g)},C.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},C.prototype.ca=C.prototype.agent,C.prototype.buffer=C.prototype.ca,C.prototype.write=function(){throw new Error("Streaming is not supported in browser version of superagent")},C.prototype.pipe=C.prototype.write,C.prototype._isHost=function(g){return g&&r(g)==="object"&&!Array.isArray(g)&&Object.prototype.toString.call(g)!=="[object Object]"},C.prototype.end=function(g){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=g||f,this._finalizeQueryString(),this._end()},C.prototype._setUploadTimeout=function(){var g=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout(function(){g._timeoutError("Upload timeout of ",g._uploadTimeout,"ETIMEDOUT")},this._uploadTimeout))},C.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));var g=this;this.xhr=d.getXHR();var w=this.xhr,O=this._formData||this._data;this._setTimeouts(),w.addEventListener("readystatechange",function(){var L=w.readyState;if(L>=2&&g._responseTimeoutTimer&&clearTimeout(g._responseTimeoutTimer),L===4){var U;try{U=w.status}catch{U=0}if(!U)return g.timedout||g._aborted?void 0:g.crossDomainError();g.emit("end")}});var I=function(L,U){U.total>0&&(U.percent=U.loaded/U.total*100,U.percent===100&&clearTimeout(g._uploadTimeoutTimer)),U.direction=L,g.emit("progress",U)};if(this.hasListeners("progress"))try{w.addEventListener("progress",I.bind(null,"download")),w.upload&&w.upload.addEventListener("progress",I.bind(null,"upload"))}catch{}w.upload&&this._setUploadTimeout();try{this.username&&this.password?w.open(this.method,this.url,!0,this.username,this.password):w.open(this.method,this.url,!0)}catch(L){return this.callback(L)}if(this._withCredentials&&(w.withCredentials=!0),!this._formData&&this.method!=="GET"&&this.method!=="HEAD"&&typeof O!="string"&&!this._isHost(O)){var P=this._header["content-type"],M=this._serializer||d.serialize[P?P.split(";")[0]:""];!M&&S(P)&&(M=d.serialize["application/json"]),M&&(O=M(O))}for(var k in this.header)this.header[k]!==null&&l(this.header,k)&&w.setRequestHeader(k,this.header[k]);this._responseType&&(w.responseType=this._responseType),this.emit("request",this),w.send(O===void 0?null:O)},d.agent=function(){return new At};for(var _=function(){var g=B[x];At.prototype[g.toLowerCase()]=function(w,O){var I=new d.Request(g,w);return this._setDefaults(I),O&&I.end(O),I}},x=0,B=["GET","POST","OPTIONS","PATCH","PUT","DELETE"];x<B.length;x++)_();function N(g,w,O){var I=d("DELETE",g);return typeof w=="function"&&(O=w,w=null),w&&I.send(w),O&&I.end(O),I}At.prototype.del=At.prototype.delete,d.get=function(g,w,O){var I=d("GET",g);return typeof w=="function"&&(O=w,w=null),w&&I.query(w),O&&I.end(O),I},d.head=function(g,w,O){var I=d("HEAD",g);return typeof w=="function"&&(O=w,w=null),w&&I.query(w),O&&I.end(O),I},d.options=function(g,w,O){var I=d("OPTIONS",g);return typeof w=="function"&&(O=w,w=null),w&&I.send(w),O&&I.end(O),I},d.del=N,d.delete=N,d.patch=function(g,w,O){var I=d("PATCH",g);return typeof w=="function"&&(O=w,w=null),w&&I.send(w),O&&I.end(O),I},d.post=function(g,w,O){var I=d("POST",g);return typeof w=="function"&&(O=w,w=null),w&&I.send(w),O&&I.end(O),I},d.put=function(g,w,O){var I=d("PUT",g);return typeof w=="function"&&(O=w,w=null),w&&I.send(w),O&&I.end(O),I}}),Mi=(Dt.Request,function(e){var t=jr(e),r=t[0],n=t[1];return 3*(r+n)/4-n}),qi=function(e){var t,r,n=jr(e),o=n[0],a=n[1],c=new Li(function(f,d,y){return 3*(d+y)/4-y}(0,o,a)),p=0,l=a>0?o-4:o;for(r=0;r<l;r+=4)t=ue[e.charCodeAt(r)]<<18|ue[e.charCodeAt(r+1)]<<12|ue[e.charCodeAt(r+2)]<<6|ue[e.charCodeAt(r+3)],c[p++]=t>>16&255,c[p++]=t>>8&255,c[p++]=255&t;return a===2&&(t=ue[e.charCodeAt(r)]<<2|ue[e.charCodeAt(r+1)]>>4,c[p++]=255&t),a===1&&(t=ue[e.charCodeAt(r)]<<10|ue[e.charCodeAt(r+1)]<<4|ue[e.charCodeAt(r+2)]>>2,c[p++]=t>>8&255,c[p++]=255&t),c},Bi=function(e){for(var t,r=e.length,n=r%3,o=[],a=0,c=r-n;a<c;a+=16383)o.push(Hi(e,a,a+16383>c?c:a+16383));return n===1?(t=e[r-1],o.push(de[t>>2]+de[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],o.push(de[t>>10]+de[t>>4&63]+de[t<<2&63]+"=")),o.join("")},de=[],ue=[],Li=typeof Uint8Array<"u"?Uint8Array:Array,Jt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",We=0,Ni=Jt.length;We<Ni;++We)de[We]=Jt[We],ue[Jt.charCodeAt(We)]=We;function jr(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return r===-1&&(r=t),[r,r===t?0:4-r%4]}function Hi(e,t,r){for(var n,o,a=[],c=t;c<r;c+=3)n=(e[c]<<16&16711680)+(e[c+1]<<8&65280)+(255&e[c+2]),a.push(de[(o=n)>>18&63]+de[o>>12&63]+de[o>>6&63]+de[63&o]);return a.join("")}ue[45]=62,ue[95]=63;var Wr={byteLength:Mi,toByteArray:qi,fromByteArray:Bi},Fi={encode:function(e){return Wr.fromByteArray(function(t){for(var r=new Array(t.length),n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r}(e)).replace(/\+/g,"-").replace(/\//g,"_")},decode:function(e){return e=function(t){var r=t.length%4;return r===0?t:t+new Array(1+(4-r)).join("=")}(e).replace(/-/g,"+").replace(/_/g,"/"),function(t){for(var r="",n=0;n<t.length;n++)r+=String.fromCharCode(t[n]);return r}(Wr.toByteArray(e))}},yt={raw:"9.24.1"},ji=Object.prototype.toString;function $r(e,t,r,n){if(r=r==="array"?"object":r,e&&typeof e[t]!==r)throw new Error(n)}function zr(e,t,r){if(typeof e!==t)throw new Error(r)}function Vr(e,t,r){if(t.indexOf(e)===-1)throw new Error(r)}var H={check:function(e,t,r){if(t.optional&&!e||zr(e,t.type,t.message),t.type==="object"&&r)for(var n=Object.keys(r),o=0;o<n.length;o++){var a=n[o];r[a].optional&&!e[a]||r[a].condition&&!r[a].condition(e)||($r(e,a,r[a].type,r[a].message),r[a].values&&Vr(e[a],r[a].values,r[a].value_message))}},attribute:$r,variable:zr,value:Vr,isArray:function(e){return this.supportsIsArray()?Array.isArray(e):ji.call(e)==="[object Array]"},supportsIsArray:function(){return Array.isArray!=null}};function Jr(e){if(e==null)throw new TypeError("Cannot convert first argument to object");for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(n!=null)for(var o=Object.keys(Object(n)),a=0,c=o.length;a<c;a++){var p=o[a],l=Object.getOwnPropertyDescriptor(n,p);l!==void 0&&l.enumerable&&(t[p]=n[p])}}return t}var Wi={get:function(){return Object.assign?Object.assign:Jr},objectAssignPolyfill:Jr};function Gt(e,t){return t.reduce(function(r,n){return e[n]&&(r[n]=e[n]),r},{})}function $i(e){var t=[];for(var r in e)t.push(e[r]);return t}function or(){var e=$i(arguments);return e.unshift({}),Wi.get().apply(void 0,e)}function Gr(e){var t=e.match(/^(https?:|file:|chrome-extension:)\/\/(([^:/?#]*)(?::([0-9]+))?)([/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/);return t&&{href:e,protocol:t[1],host:t[2],hostname:t[3],port:t[4],pathname:t[5],search:t[6],hash:t[7]}}function zi(e,t){var r=or(e);return e[t]&&(r[t]=e[t].trim()),r}var q={toSnakeCase:function e(t,r){return typeof t!="object"||H.isArray(t)||t===null?t:(r=r||[],Object.keys(t).reduce(function(n,o){return n[r.indexOf(o)===-1?function(a){for(var c,p="",l=0,f=!0,d=!0;l<a.length;)c=a.charCodeAt(l),(!d&&c>=65&&c<=90||!f&&c>=48&&c<=57)&&(p+="_"),p+=a[l].toLowerCase(),f=c>=48&&c<=57,d=c>=65&&c<=90,l++;return p}(o):o]=e(t[o]),n},{}))},toCamelCase:function e(t,r,n){return typeof t!="object"||H.isArray(t)||t===null?t:(r=r||[],n=n||{},Object.keys(t).reduce(function(o,a){var c,p=r.indexOf(a)===-1?(c=a.split("_")).reduce(function(l,f){return l+f.charAt(0).toUpperCase()+f.slice(1)},c.shift()):a;return o[p]=e(t[p]||t[a],[],n),n.keepOriginal&&(o[a]=e(t[a],[],n)),o},{}))},blacklist:function(e,t){return Object.keys(e).reduce(function(r,n){return t.indexOf(n)===-1&&(r[n]=e[n]),r},{})},merge:function(e,t){return{base:t?Gt(e,t):e,with:function(r,n){return r=n?Gt(r,n):r,or(this.base,r)}}},pick:Gt,getKeysNotIn:function(e,t){var r=[];for(var n in e)t.indexOf(n)===-1&&r.push(n);return r},extend:or,getOriginFromUrl:function(e){if(e){var t=Gr(e);if(!t)return null;var r=t.protocol+"//"+t.hostname;return t.port&&(r+=":"+t.port),r}},getLocationFromUrl:Gr,trimUserDetails:function(e){return function(t,r){return r.reduce(zi,t)}(e,["username","email","phoneNumber"])},updatePropertyOn:function e(t,r,n){typeof r=="string"&&(r=r.split("."));var o=r[0];t.hasOwnProperty(o)&&(r.length===1?t[o]=n:e(t[o],r.slice(1),n))}};function $e(e){this.request=e,this.method=e.method,this.url=e.url,this.body=e._data,this.headers=e._header}function Ee(e){this.request=e}function me(e){this._sendTelemetry=e._sendTelemetry!==!1||e._sendTelemetry,this._telemetryInfo=e._telemetryInfo||null,this._timesToRetryFailedRequests=e._timesToRetryFailedRequests,this.headers=e.headers||{},this._universalLoginPage=e.universalLoginPage}function Ct(){return window}$e.prototype.abort=function(){this.request.abort()},$e.prototype.getMethod=function(){return this.method},$e.prototype.getBody=function(){return this.body},$e.prototype.getUrl=function(){return this.url},$e.prototype.getHeaders=function(){return this.headers},Ee.prototype.set=function(e,t){return this.request=this.request.set(e,t),this},Ee.prototype.send=function(e){return this.request=this.request.send(q.trimUserDetails(e)),this},Ee.prototype.withCredentials=function(){return this.request=this.request.withCredentials(),this},Ee.prototype.end=function(e){return this.request.end(e),new $e(this.request)},me.prototype.setCommonConfiguration=function(e,t){if(t=t||{},this._timesToRetryFailedRequests>0&&(e=e.retry(this._timesToRetryFailedRequests)),t.noHeaders)return e;var r=this.headers;e=e.set("Content-Type","application/json"),t.xRequestLanguage&&(e=e.set("X-Request-Language",t.xRequestLanguage));for(var n=Object.keys(this.headers),o=0;o<n.length;o++)e=e.set(n[o],r[n[o]]);return this._sendTelemetry&&(e=e.set("Auth0-Client",this.getTelemetryData())),e},me.prototype.getTelemetryData=function(){var e=this._universalLoginPage?"auth0.js-ulp":"auth0.js",t={name:e,version:yt.raw};this._telemetryInfo&&((t=q.extend({},this._telemetryInfo)).env=q.extend({},this._telemetryInfo.env),t.env[e]=yt.raw);var r=JSON.stringify(t);return Fi.encode(r)},me.prototype.get=function(e,t){return new Ee(this.setCommonConfiguration(Dt.get(e),t))},me.prototype.post=function(e,t){return new Ee(this.setCommonConfiguration(Dt.post(e),t))},me.prototype.patch=function(e,t){return new Ee(this.setCommonConfiguration(Dt.patch(e),t))};var $={redirect:function(e){Ct().location=e},getDocument:function(){return Ct().document},getWindow:Ct,getOrigin:function(){var e=Ct().location,t=e.origin;return t||(t=q.getOriginFromUrl(e.href)),t}};function dt(){}dt.prototype.getItem=function(){return null},dt.prototype.removeItem=function(){},dt.prototype.setItem=function(){};var ze=Be(function(e,t){var r;r=function(){function n(){for(var a=0,c={};a<arguments.length;a++){var p=arguments[a];for(var l in p)c[l]=p[l]}return c}function o(a){return a.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function a(c){function p(){}function l(d,y,v){if(typeof document<"u"){typeof(v=n({path:"/"},p.defaults,v)).expires=="number"&&(v.expires=new Date(1*new Date+864e5*v.expires)),v.expires=v.expires?v.expires.toUTCString():"";try{var A=JSON.stringify(y);/^[\{\[]/.test(A)&&(y=A)}catch{}y=c.write?c.write(y,d):encodeURIComponent(String(y)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),d=encodeURIComponent(String(d)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var b="";for(var S in v)v[S]&&(b+="; "+S,v[S]!==!0&&(b+="="+v[S].split(";")[0]));return document.cookie=d+"="+y+b}}function f(d,y){if(typeof document<"u"){for(var v={},A=document.cookie?document.cookie.split("; "):[],b=0;b<A.length;b++){var S=A[b].split("="),D=S.slice(1).join("=");y||D.charAt(0)!=='"'||(D=D.slice(1,-1));try{var C=o(S[0]);if(D=(c.read||c)(D,C)||o(D),y)try{D=JSON.parse(D)}catch{}if(v[C]=D,d===C)break}catch{}}return d?v[d]:v}}return p.set=l,p.get=function(d){return f(d,!1)},p.getJSON=function(d){return f(d,!0)},p.remove=function(d,y){l(d,"",n(y,{expires:-1}))},p.defaults={},p.withConverter=a,p}(function(){})},e.exports=r()});function Xt(e){return"_"+e+"_compat"}function Ge(e){this._options=e||{}}function Le(e){this.disableWarnings=e.disableWarnings}function lt(e){if(this.warn=new Le({}),this.storage=new Ge(e),e.__tryLocalStorageFirst===!0)try{var t=$.getWindow().localStorage;t&&(this.storage=t)}catch(r){this.warn.warning(r),this.warn.warning("Can't use localStorage. Using CookieStorage instead.")}}function et(e){this.handler=new lt(e)}function Ut(e){this.storage=new et(e)}function Xr(e,t){return{error:e,errorDescription:t}}Ge.prototype.getItem=function(e){return ze.get(e)||ze.get(Xt(e))},Ge.prototype.removeItem=function(e){var t={};this._options.cookieDomain&&(t.domain=this._options.cookieDomain),ze.remove(e,t),ze.remove(Xt(e),t)},Ge.prototype.setItem=function(e,t,r){var n=q.extend({expires:1},r);if($.getWindow().location.protocol==="https:"&&(n.secure=!0,n.sameSite="none",this._options.legacySameSiteCookie)){var o=q.blacklist(n,["sameSite"]);ze.set(Xt(e),t,o)}this._options.cookieDomain&&(n.domain=this._options.cookieDomain),ze.set(e,t,n)},Le.prototype.warning=function(e){this.disableWarnings||console.warn(e)},lt.prototype.failover=function(){this.storage instanceof dt?this.warn.warning("DummyStorage: ignore failover"):this.storage instanceof Ge?(this.warn.warning("CookieStorage: failing over DummyStorage"),this.storage=new dt):(this.warn.warning("LocalStorage: failing over CookieStorage"),this.storage=new Ge)},lt.prototype.getItem=function(e){try{return this.storage.getItem(e)}catch(t){return this.warn.warning(t),this.failover(),this.getItem(e)}},lt.prototype.removeItem=function(e){try{return this.storage.removeItem(e)}catch(t){return this.warn.warning(t),this.failover(),this.removeItem(e)}},lt.prototype.setItem=function(e,t,r){try{return this.storage.setItem(e,t,r)}catch(n){return this.warn.warning(n),this.failover(),this.setItem(e,t,r)}},et.prototype.getItem=function(e){var t=this.handler.getItem(e);try{return JSON.parse(t)}catch{return t}},et.prototype.removeItem=function(e){return this.handler.removeItem(e)},et.prototype.setItem=function(e,t,r){var n=JSON.stringify(t);return this.handler.setItem(e,n,r)},Ut.prototype.set=function(e,t){var r={lastUsedConnection:e,lastUsedSub:t};this.storage.setItem("auth0.ssodata",JSON.stringify(r))},Ut.prototype.get=function(){var e=this.storage.getItem("auth0.ssodata");if(e)return JSON.parse(e)};var he={buildResponse:Xr,invalidToken:function(e){return Xr("invalid_token",e)}};function G(e,t){return(t=t||{}).ignoreCasing=!!t.ignoreCasing&&t.ignoreCasing,function(r,n){var o;return r||n?(!r&&n.err&&(r=n.err,n=null),!r&&n.error&&(r=n,n=null),r?(o={original:r},q.updatePropertyOn(o,"original.response.req._data.password","*****"),r.response&&r.response.statusCode&&(o.statusCode=r.response.statusCode),r.response&&r.response.statusText&&(o.statusText=r.response.statusText),r.response&&r.response.body&&(r=r.response.body),r.err&&(r=r.err),o.code=r.code||r.error||r.error_code||r.status||null,o.description=r.errorDescription||r.error_description||r.description||r.error||r.details||r.err||null,t.forceLegacyError&&(o.error=o.code,o.error_description=o.description),r.error_codes&&r.error_details&&(o.errorDetails={codes:r.error_codes,details:r.error_details}),r.name&&(o.name=r.name),r.policy&&(o.policy=r.policy),e(o)):!n.type||n.type!=="text/html"&&n.type!=="text/plain"?t.ignoreCasing?e(null,n.body||n):e(null,q.toCamelCase(n.body||n,[],{keepOriginal:t.keepOriginalCasing})):e(null,n.text)):e(he.buildResponse("generic_error","Something went wrong"))}}var Vi=["realm","audience","otp","client_id","client_secret","redirect_uri","scope","code","grant_type","username","password","refresh_token","assertion","client_assertion","client_assertion_type","code_verifier"],Ji=["connection","connection_scope","auth0Client","owp","device","realm","organization","invitation","protocol","_csrf","_intstate","login_ticket","client_id","response_type","response_mode","redirect_uri","audience","scope","state","nonce","display","prompt","screen_hint","max_age","ui_locales","claims_locales","id_token_hint","login_hint","acr_values","claims","registration","request","request_uri","code_challenge","code_challenge_method","access_type","display"],Qr={oauthTokenParams:function(e,t){return q.pick(t,Vi)},oauthAuthorizeParams:function(e,t){var r=q.getKeysNotIn(t,Ji);return r.length>0&&e.warning("Following parameters are not allowed on the `/authorize` endpoint: ["+r.join(",")+"]"),t}},qe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ne(e){var t={exports:{}};return e(t,t.exports),t.exports}var Gi=Ne(function(e,t){e.exports=function(){function r(i){return typeof i=="function"}var n=Array.isArray?Array.isArray:function(i){return Object.prototype.toString.call(i)==="[object Array]"},o=0,a=void 0,c=void 0,p=function(i,u){b[o]=i,b[o+1]=u,(o+=2)===2&&(c?c(S):B())},l=typeof window<"u"?window:void 0,f=l||{},d=f.MutationObserver||f.WebKitMutationObserver,y=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",v=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function A(){var i=setTimeout;return function(){return i(S,1)}}var b=new Array(1e3);function S(){for(var i=0;i<o;i+=2)(0,b[i])(b[i+1]),b[i]=void 0,b[i+1]=void 0;o=0}var D,C,_,x,B=void 0;function N(i,u){var h=this,m=new this.constructor(O);m[w]===void 0&&He(m);var T=h._state;if(T){var E=arguments[T-1];p(function(){return gt(T,m,E,h._result)})}else W(h,m,i,u);return m}function g(i){if(i&&typeof i=="object"&&i.constructor===this)return i;var u=new this(O);return M(u,i),u}B=y?function(){return process.nextTick(S)}:d?(C=0,_=new d(S),x=document.createTextNode(""),_.observe(x,{characterData:!0}),function(){x.data=C=++C%2}):v?((D=new MessageChannel).port1.onmessage=S,function(){return D.port2.postMessage(0)}):l===void 0?function(){try{var i=Function("return this")().require("vertx");return(a=i.runOnLoop||i.runOnContext)!==void 0?function(){a(S)}:A()}catch{return A()}}():A();var w=Math.random().toString(36).substring(2);function O(){}var I=void 0;function P(i,u,h){u.constructor===i.constructor&&h===N&&u.constructor.resolve===g?function(m,T){T._state===1?L(m,T._result):T._state===2?U(m,T._result):W(T,void 0,function(E){return M(m,E)},function(E){return U(m,E)})}(i,u):h===void 0?L(i,u):r(h)?function(m,T,E){p(function(R){var F=!1,z=function(Q,se,Ae,ie){try{Q.call(se,function(ae){F||(F=!0,T!==ae?M(R,ae):L(R,ae))},function(ae){F||(F=!0,U(R,ae))})}catch(ae){return ae}}(E,T);!F&&z&&(F=!0,U(R,z))},m)}(i,u,h):L(i,u)}function M(i,u){if(i===u)U(i,new TypeError("You cannot resolve a promise with itself"));else if(T=typeof(m=u),m===null||T!=="object"&&T!=="function")L(i,u);else{var h=void 0;try{h=u.then}catch(E){return void U(i,E)}P(i,u,h)}var m,T}function k(i){i._onerror&&i._onerror(i._result),Y(i)}function L(i,u){i._state===I&&(i._result=u,i._state=1,i._subscribers.length!==0&&p(Y,i))}function U(i,u){i._state===I&&(i._state=2,i._result=u,p(k,i))}function W(i,u,h,m){var T=i._subscribers,E=T.length;i._onerror=null,T[E]=u,T[E+1]=h,T[E+2]=m,E===0&&i._state&&p(Y,i)}function Y(i){var u=i._subscribers,h=i._state;if(u.length!==0){for(var m=void 0,T=void 0,E=i._result,R=0;R<u.length;R+=3)T=u[R+h],(m=u[R])?gt(h,m,T,E):T(E);i._subscribers.length=0}}function gt(i,u,h,m){var T=r(h),E=void 0,R=void 0,F=!0;if(T){try{E=h(m)}catch(z){F=!1,R=z}if(u===E)return void U(u,new TypeError("A promises callback cannot return that same promise."))}else E=m;u._state!==I||(T&&F?M(u,E):F===!1?U(u,R):i===1?L(u,E):i===2&&U(u,E))}var it=0;function He(i){i[w]=it++,i._state=void 0,i._result=void 0,i._subscribers=[]}var ot=function(){function i(u,h){this._instanceConstructor=u,this.promise=new u(O),this.promise[w]||He(this.promise),n(h)?(this.length=h.length,this._remaining=h.length,this._result=new Array(this.length),this.length===0?L(this.promise,this._result):(this.length=this.length||0,this._enumerate(h),this._remaining===0&&L(this.promise,this._result))):U(this.promise,new Error("Array Methods must be provided an Array"))}return i.prototype._enumerate=function(u){for(var h=0;this._state===I&&h<u.length;h++)this._eachEntry(u[h],h)},i.prototype._eachEntry=function(u,h){var m=this._instanceConstructor,T=m.resolve;if(T===g){var E=void 0,R=void 0,F=!1;try{E=u.then}catch(Q){F=!0,R=Q}if(E===N&&u._state!==I)this._settledAt(u._state,h,u._result);else if(typeof E!="function")this._remaining--,this._result[h]=u;else if(m===s){var z=new m(O);F?U(z,R):P(z,u,E),this._willSettleAt(z,h)}else this._willSettleAt(new m(function(Q){return Q(u)}),h)}else this._willSettleAt(T(u),h)},i.prototype._settledAt=function(u,h,m){var T=this.promise;T._state===I&&(this._remaining--,u===2?U(T,m):this._result[h]=m),this._remaining===0&&L(T,this._result)},i.prototype._willSettleAt=function(u,h){var m=this;W(u,void 0,function(T){return m._settledAt(1,h,T)},function(T){return m._settledAt(2,h,T)})},i}(),s=function(){function i(u){this[w]=it++,this._result=this._state=void 0,this._subscribers=[],O!==u&&(typeof u!="function"&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof i?function(h,m){try{m(function(T){M(h,T)},function(T){U(h,T)})}catch(T){U(h,T)}}(this,u):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return i.prototype.catch=function(u){return this.then(null,u)},i.prototype.finally=function(u){var h=this,m=h.constructor;return r(u)?h.then(function(T){return m.resolve(u()).then(function(){return T})},function(T){return m.resolve(u()).then(function(){throw T})}):h.then(u,u)},i}();return s.prototype.then=N,s.all=function(i){return new ot(this,i).promise},s.race=function(i){var u=this;return n(i)?new u(function(h,m){for(var T=i.length,E=0;E<T;E++)u.resolve(i[E]).then(h,m)}):new u(function(h,m){return m(new TypeError("You must pass an array to race."))})},s.resolve=g,s.reject=function(i){var u=new this(O);return U(u,i),u},s._setScheduler=function(i){c=i},s._setAsap=function(i){p=i},s._asap=p,s.polyfill=function(){var i=void 0;if(qe!==void 0)i=qe;else if(typeof self<"u")i=self;else try{i=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var u=i.Promise;if(u){var h=null;try{h=Object.prototype.toString.call(u.resolve())}catch{}if(h==="[object Promise]"&&!u.cast)return}i.Promise=s},s.Promise=s,s}()}),Xi={__proto__:null,default:{}},yr=Ne(function(e,t){var r;e.exports=r=r||function(n,o){var a;if(typeof window<"u"&&window.crypto&&(a=window.crypto),typeof self<"u"&&self.crypto&&(a=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(a=globalThis.crypto),!a&&typeof window<"u"&&window.msCrypto&&(a=window.msCrypto),!a&&qe!==void 0&&qe.crypto&&(a=qe.crypto),!a)try{a=Xi}catch{}var c=function(){if(a){if(typeof a.getRandomValues=="function")try{return a.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof a.randomBytes=="function")try{return a.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},p=Object.create||function(){function _(){}return function(x){var B;return _.prototype=x,B=new _,_.prototype=null,B}}(),l={},f=l.lib={},d=f.Base={extend:function(_){var x=p(this);return _&&x.mixIn(_),x.hasOwnProperty("init")&&this.init!==x.init||(x.init=function(){x.$super.init.apply(this,arguments)}),x.init.prototype=x,x.$super=this,x},create:function(){var _=this.extend();return _.init.apply(_,arguments),_},init:function(){},mixIn:function(_){for(var x in _)_.hasOwnProperty(x)&&(this[x]=_[x]);_.hasOwnProperty("toString")&&(this.toString=_.toString)},clone:function(){return this.init.prototype.extend(this)}},y=f.WordArray=d.extend({init:function(_,x){_=this.words=_||[],this.sigBytes=x??4*_.length},toString:function(_){return(_||A).stringify(this)},concat:function(_){var x=this.words,B=_.words,N=this.sigBytes,g=_.sigBytes;if(this.clamp(),N%4)for(var w=0;w<g;w++)x[N+w>>>2]|=(B[w>>>2]>>>24-w%4*8&255)<<24-(N+w)%4*8;else for(var O=0;O<g;O+=4)x[N+O>>>2]=B[O>>>2];return this.sigBytes+=g,this},clamp:function(){var _=this.words,x=this.sigBytes;_[x>>>2]&=4294967295<<32-x%4*8,_.length=n.ceil(x/4)},clone:function(){var _=d.clone.call(this);return _.words=this.words.slice(0),_},random:function(_){for(var x=[],B=0;B<_;B+=4)x.push(c());return new y.init(x,_)}}),v=l.enc={},A=v.Hex={stringify:function(_){for(var x=_.words,B=_.sigBytes,N=[],g=0;g<B;g++){var w=x[g>>>2]>>>24-g%4*8&255;N.push((w>>>4).toString(16)),N.push((15&w).toString(16))}return N.join("")},parse:function(_){for(var x=_.length,B=[],N=0;N<x;N+=2)B[N>>>3]|=parseInt(_.substr(N,2),16)<<24-N%8*4;return new y.init(B,x/2)}},b=v.Latin1={stringify:function(_){for(var x=_.words,B=_.sigBytes,N=[],g=0;g<B;g++)N.push(String.fromCharCode(x[g>>>2]>>>24-g%4*8&255));return N.join("")},parse:function(_){for(var x=_.length,B=[],N=0;N<x;N++)B[N>>>2]|=(255&_.charCodeAt(N))<<24-N%4*8;return new y.init(B,x)}},S=v.Utf8={stringify:function(_){try{return decodeURIComponent(escape(b.stringify(_)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(_){return b.parse(unescape(encodeURIComponent(_)))}},D=f.BufferedBlockAlgorithm=d.extend({reset:function(){this._data=new y.init,this._nDataBytes=0},_append:function(_){typeof _=="string"&&(_=S.parse(_)),this._data.concat(_),this._nDataBytes+=_.sigBytes},_process:function(_){var x,B=this._data,N=B.words,g=B.sigBytes,w=this.blockSize,O=g/(4*w),I=(O=_?n.ceil(O):n.max((0|O)-this._minBufferSize,0))*w,P=n.min(4*I,g);if(I){for(var M=0;M<I;M+=w)this._doProcessBlock(N,M);x=N.splice(0,I),B.sigBytes-=P}return new y.init(x,P)},clone:function(){var _=d.clone.call(this);return _._data=this._data.clone(),_},_minBufferSize:0});f.Hasher=D.extend({cfg:d.extend(),init:function(_){this.cfg=this.cfg.extend(_),this.reset()},reset:function(){D.reset.call(this),this._doReset()},update:function(_){return this._append(_),this._process(),this},finalize:function(_){return _&&this._append(_),this._doFinalize()},blockSize:16,_createHelper:function(_){return function(x,B){return new _.init(B).finalize(x)}},_createHmacHelper:function(_){return function(x,B){return new C.HMAC.init(_,B).finalize(x)}}});var C=l.algo={};return l}(Math)}),On=Ne(function(e,t){var r;e.exports=(r=yr,function(n){var o=r,a=o.lib,c=a.WordArray,p=a.Hasher,l=o.algo,f=[],d=[];(function(){function A(C){for(var _=n.sqrt(C),x=2;x<=_;x++)if(!(C%x))return!1;return!0}function b(C){return 4294967296*(C-(0|C))|0}for(var S=2,D=0;D<64;)A(S)&&(D<8&&(f[D]=b(n.pow(S,.5))),d[D]=b(n.pow(S,1/3)),D++),S++})();var y=[],v=l.SHA256=p.extend({_doReset:function(){this._hash=new c.init(f.slice(0))},_doProcessBlock:function(A,b){for(var S=this._hash.words,D=S[0],C=S[1],_=S[2],x=S[3],B=S[4],N=S[5],g=S[6],w=S[7],O=0;O<64;O++){if(O<16)y[O]=0|A[b+O];else{var I=y[O-15],P=y[O-2];y[O]=((I<<25|I>>>7)^(I<<14|I>>>18)^I>>>3)+y[O-7]+((P<<15|P>>>17)^(P<<13|P>>>19)^P>>>10)+y[O-16]}var M=D&C^D&_^C&_,k=w+((B<<26|B>>>6)^(B<<21|B>>>11)^(B<<7|B>>>25))+(B&N^~B&g)+d[O]+y[O];w=g,g=N,N=B,B=x+k|0,x=_,_=C,C=D,D=k+(((D<<30|D>>>2)^(D<<19|D>>>13)^(D<<10|D>>>22))+M)|0}S[0]=S[0]+D|0,S[1]=S[1]+C|0,S[2]=S[2]+_|0,S[3]=S[3]+x|0,S[4]=S[4]+B|0,S[5]=S[5]+N|0,S[6]=S[6]+g|0,S[7]=S[7]+w|0},_doFinalize:function(){var A=this._data,b=A.words,S=8*this._nDataBytes,D=8*A.sigBytes;return b[D>>>5]|=128<<24-D%32,b[14+(D+64>>>9<<4)]=n.floor(S/4294967296),b[15+(D+64>>>9<<4)]=S,A.sigBytes=4*b.length,this._process(),this._hash},clone:function(){var A=p.clone.call(this);return A._hash=this._hash.clone(),A}});o.SHA256=p._createHelper(v),o.HmacSHA256=p._createHmacHelper(v)}(Math),r.SHA256)}),Qi=Ne(function(e,t){var r,n;e.exports=(n=(r=yr).lib.WordArray,r.enc.Base64={stringify:function(o){var a=o.words,c=o.sigBytes,p=this._map;o.clamp();for(var l=[],f=0;f<c;f+=3)for(var d=(a[f>>>2]>>>24-f%4*8&255)<<16|(a[f+1>>>2]>>>24-(f+1)%4*8&255)<<8|a[f+2>>>2]>>>24-(f+2)%4*8&255,y=0;y<4&&f+.75*y<c;y++)l.push(p.charAt(d>>>6*(3-y)&63));var v=p.charAt(64);if(v)for(;l.length%4;)l.push(v);return l.join("")},parse:function(o){var a=o.length,c=this._map,p=this._reverseMap;if(!p){p=this._reverseMap=[];for(var l=0;l<c.length;l++)p[c.charCodeAt(l)]=l}var f=c.charAt(64);if(f){var d=o.indexOf(f);d!==-1&&(a=d)}return function(y,v,A){for(var b=[],S=0,D=0;D<v;D++)if(D%4){var C=A[y.charCodeAt(D-1)]<<D%4*2,_=A[y.charCodeAt(D)]>>>6-D%4*2;b[S>>>2]|=(C|_)<<24-S%4*8,S++}return n.create(b,S)}(o,a,p)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},r.enc.Base64)}),Zr=Ne(function(e,t){e.exports=yr.enc.Hex}),Sn=Ne(function(e,t){(function(){var r;function n(s,i,u){s!=null&&(typeof s=="number"?this.fromNumber(s,i,u):this.fromString(s,i==null&&typeof s!="string"?256:i))}function o(){return new n(null)}var a=typeof navigator<"u";a&&navigator.appName=="Microsoft Internet Explorer"?(n.prototype.am=function(s,i,u,h,m,T){for(var E=32767&i,R=i>>15;--T>=0;){var F=32767&this[s],z=this[s++]>>15,Q=R*F+z*E;m=((F=E*F+((32767&Q)<<15)+u[h]+(1073741823&m))>>>30)+(Q>>>15)+R*z+(m>>>30),u[h++]=1073741823&F}return m},r=30):a&&navigator.appName!="Netscape"?(n.prototype.am=function(s,i,u,h,m,T){for(;--T>=0;){var E=i*this[s++]+u[h]+m;m=Math.floor(E/67108864),u[h++]=67108863&E}return m},r=26):(n.prototype.am=function(s,i,u,h,m,T){for(var E=16383&i,R=i>>14;--T>=0;){var F=16383&this[s],z=this[s++]>>14,Q=R*F+z*E;m=((F=E*F+((16383&Q)<<14)+u[h]+m)>>28)+(Q>>14)+R*z,u[h++]=268435455&F}return m},r=28),n.prototype.DB=r,n.prototype.DM=(1<<r)-1,n.prototype.DV=1<<r,n.prototype.FV=Math.pow(2,52),n.prototype.F1=52-r,n.prototype.F2=2*r-52;var c,p,l=new Array;for(c=48,p=0;p<=9;++p)l[c++]=p;for(c=97,p=10;p<36;++p)l[c++]=p;for(c=65,p=10;p<36;++p)l[c++]=p;function f(s){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(s)}function d(s,i){var u=l[s.charCodeAt(i)];return u??-1}function y(s){var i=o();return i.fromInt(s),i}function v(s){var i,u=1;return(i=s>>>16)!=0&&(s=i,u+=16),(i=s>>8)!=0&&(s=i,u+=8),(i=s>>4)!=0&&(s=i,u+=4),(i=s>>2)!=0&&(s=i,u+=2),(i=s>>1)!=0&&(s=i,u+=1),u}function A(s){this.m=s}function b(s){this.m=s,this.mp=s.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<s.DB-15)-1,this.mt2=2*s.t}function S(s,i){return s&i}function D(s,i){return s|i}function C(s,i){return s^i}function _(s,i){return s&~i}function x(s){if(s==0)return-1;var i=0;return!(65535&s)&&(s>>=16,i+=16),!(255&s)&&(s>>=8,i+=8),!(15&s)&&(s>>=4,i+=4),!(3&s)&&(s>>=2,i+=2),!(1&s)&&++i,i}function B(s){for(var i=0;s!=0;)s&=s-1,++i;return i}function N(){}function g(s){return s}function w(s){this.r2=o(),this.q3=o(),n.ONE.dlShiftTo(2*s.t,this.r2),this.mu=this.r2.divide(s),this.m=s}A.prototype.convert=function(s){return s.s<0||s.compareTo(this.m)>=0?s.mod(this.m):s},A.prototype.revert=function(s){return s},A.prototype.reduce=function(s){s.divRemTo(this.m,null,s)},A.prototype.mulTo=function(s,i,u){s.multiplyTo(i,u),this.reduce(u)},A.prototype.sqrTo=function(s,i){s.squareTo(i),this.reduce(i)},b.prototype.convert=function(s){var i=o();return s.abs().dlShiftTo(this.m.t,i),i.divRemTo(this.m,null,i),s.s<0&&i.compareTo(n.ZERO)>0&&this.m.subTo(i,i),i},b.prototype.revert=function(s){var i=o();return s.copyTo(i),this.reduce(i),i},b.prototype.reduce=function(s){for(;s.t<=this.mt2;)s[s.t++]=0;for(var i=0;i<this.m.t;++i){var u=32767&s[i],h=u*this.mpl+((u*this.mph+(s[i]>>15)*this.mpl&this.um)<<15)&s.DM;for(s[u=i+this.m.t]+=this.m.am(0,h,s,i,0,this.m.t);s[u]>=s.DV;)s[u]-=s.DV,s[++u]++}s.clamp(),s.drShiftTo(this.m.t,s),s.compareTo(this.m)>=0&&s.subTo(this.m,s)},b.prototype.mulTo=function(s,i,u){s.multiplyTo(i,u),this.reduce(u)},b.prototype.sqrTo=function(s,i){s.squareTo(i),this.reduce(i)},n.prototype.copyTo=function(s){for(var i=this.t-1;i>=0;--i)s[i]=this[i];s.t=this.t,s.s=this.s},n.prototype.fromInt=function(s){this.t=1,this.s=s<0?-1:0,s>0?this[0]=s:s<-1?this[0]=s+this.DV:this.t=0},n.prototype.fromString=function(s,i){var u;if(i==16)u=4;else if(i==8)u=3;else if(i==256)u=8;else if(i==2)u=1;else if(i==32)u=5;else{if(i!=4)return void this.fromRadix(s,i);u=2}this.t=0,this.s=0;for(var h=s.length,m=!1,T=0;--h>=0;){var E=u==8?255&s[h]:d(s,h);E<0?s.charAt(h)=="-"&&(m=!0):(m=!1,T==0?this[this.t++]=E:T+u>this.DB?(this[this.t-1]|=(E&(1<<this.DB-T)-1)<<T,this[this.t++]=E>>this.DB-T):this[this.t-1]|=E<<T,(T+=u)>=this.DB&&(T-=this.DB))}u==8&&128&s[0]&&(this.s=-1,T>0&&(this[this.t-1]|=(1<<this.DB-T)-1<<T)),this.clamp(),m&&n.ZERO.subTo(this,this)},n.prototype.clamp=function(){for(var s=this.s&this.DM;this.t>0&&this[this.t-1]==s;)--this.t},n.prototype.dlShiftTo=function(s,i){var u;for(u=this.t-1;u>=0;--u)i[u+s]=this[u];for(u=s-1;u>=0;--u)i[u]=0;i.t=this.t+s,i.s=this.s},n.prototype.drShiftTo=function(s,i){for(var u=s;u<this.t;++u)i[u-s]=this[u];i.t=Math.max(this.t-s,0),i.s=this.s},n.prototype.lShiftTo=function(s,i){var u,h=s%this.DB,m=this.DB-h,T=(1<<m)-1,E=Math.floor(s/this.DB),R=this.s<<h&this.DM;for(u=this.t-1;u>=0;--u)i[u+E+1]=this[u]>>m|R,R=(this[u]&T)<<h;for(u=E-1;u>=0;--u)i[u]=0;i[E]=R,i.t=this.t+E+1,i.s=this.s,i.clamp()},n.prototype.rShiftTo=function(s,i){i.s=this.s;var u=Math.floor(s/this.DB);if(u>=this.t)i.t=0;else{var h=s%this.DB,m=this.DB-h,T=(1<<h)-1;i[0]=this[u]>>h;for(var E=u+1;E<this.t;++E)i[E-u-1]|=(this[E]&T)<<m,i[E-u]=this[E]>>h;h>0&&(i[this.t-u-1]|=(this.s&T)<<m),i.t=this.t-u,i.clamp()}},n.prototype.subTo=function(s,i){for(var u=0,h=0,m=Math.min(s.t,this.t);u<m;)h+=this[u]-s[u],i[u++]=h&this.DM,h>>=this.DB;if(s.t<this.t){for(h-=s.s;u<this.t;)h+=this[u],i[u++]=h&this.DM,h>>=this.DB;h+=this.s}else{for(h+=this.s;u<s.t;)h-=s[u],i[u++]=h&this.DM,h>>=this.DB;h-=s.s}i.s=h<0?-1:0,h<-1?i[u++]=this.DV+h:h>0&&(i[u++]=h),i.t=u,i.clamp()},n.prototype.multiplyTo=function(s,i){var u=this.abs(),h=s.abs(),m=u.t;for(i.t=m+h.t;--m>=0;)i[m]=0;for(m=0;m<h.t;++m)i[m+u.t]=u.am(0,h[m],i,m,0,u.t);i.s=0,i.clamp(),this.s!=s.s&&n.ZERO.subTo(i,i)},n.prototype.squareTo=function(s){for(var i=this.abs(),u=s.t=2*i.t;--u>=0;)s[u]=0;for(u=0;u<i.t-1;++u){var h=i.am(u,i[u],s,2*u,0,1);(s[u+i.t]+=i.am(u+1,2*i[u],s,2*u+1,h,i.t-u-1))>=i.DV&&(s[u+i.t]-=i.DV,s[u+i.t+1]=1)}s.t>0&&(s[s.t-1]+=i.am(u,i[u],s,2*u,0,1)),s.s=0,s.clamp()},n.prototype.divRemTo=function(s,i,u){var h=s.abs();if(!(h.t<=0)){var m=this.abs();if(m.t<h.t)return i!=null&&i.fromInt(0),void(u!=null&&this.copyTo(u));u==null&&(u=o());var T=o(),E=this.s,R=s.s,F=this.DB-v(h[h.t-1]);F>0?(h.lShiftTo(F,T),m.lShiftTo(F,u)):(h.copyTo(T),m.copyTo(u));var z=T.t,Q=T[z-1];if(Q!=0){var se=Q*(1<<this.F1)+(z>1?T[z-2]>>this.F2:0),Ae=this.FV/se,ie=(1<<this.F1)/se,ae=1<<this.F2,ee=u.t,vt=ee-z,be=i??o();for(T.dlShiftTo(vt,be),u.compareTo(be)>=0&&(u[u.t++]=1,u.subTo(be,u)),n.ONE.dlShiftTo(z,be),be.subTo(T,T);T.t<z;)T[T.t++]=0;for(;--vt>=0;){var Mt=u[--ee]==Q?this.DM:Math.floor(u[ee]*Ae+(u[ee-1]+ae)*ie);if((u[ee]+=T.am(0,Mt,u,vt,0,z))<Mt)for(T.dlShiftTo(vt,be),u.subTo(be,u);u[ee]<--Mt;)u.subTo(be,u)}i!=null&&(u.drShiftTo(z,i),E!=R&&n.ZERO.subTo(i,i)),u.t=z,u.clamp(),F>0&&u.rShiftTo(F,u),E<0&&n.ZERO.subTo(u,u)}}},n.prototype.invDigit=function(){if(this.t<1)return 0;var s=this[0];if(!(1&s))return 0;var i=3&s;return(i=(i=(i=(i=i*(2-(15&s)*i)&15)*(2-(255&s)*i)&255)*(2-((65535&s)*i&65535))&65535)*(2-s*i%this.DV)%this.DV)>0?this.DV-i:-i},n.prototype.isEven=function(){return(this.t>0?1&this[0]:this.s)==0},n.prototype.exp=function(s,i){if(s>4294967295||s<1)return n.ONE;var u=o(),h=o(),m=i.convert(this),T=v(s)-1;for(m.copyTo(u);--T>=0;)if(i.sqrTo(u,h),(s&1<<T)>0)i.mulTo(h,m,u);else{var E=u;u=h,h=E}return i.revert(u)},n.prototype.toString=function(s){if(this.s<0)return"-"+this.negate().toString(s);var i;if(s==16)i=4;else if(s==8)i=3;else if(s==2)i=1;else if(s==32)i=5;else{if(s!=4)return this.toRadix(s);i=2}var u,h=(1<<i)-1,m=!1,T="",E=this.t,R=this.DB-E*this.DB%i;if(E-- >0)for(R<this.DB&&(u=this[E]>>R)>0&&(m=!0,T=f(u));E>=0;)R<i?(u=(this[E]&(1<<R)-1)<<i-R,u|=this[--E]>>(R+=this.DB-i)):(u=this[E]>>(R-=i)&h,R<=0&&(R+=this.DB,--E)),u>0&&(m=!0),m&&(T+=f(u));return m?T:"0"},n.prototype.negate=function(){var s=o();return n.ZERO.subTo(this,s),s},n.prototype.abs=function(){return this.s<0?this.negate():this},n.prototype.compareTo=function(s){var i=this.s-s.s;if(i!=0)return i;var u=this.t;if((i=u-s.t)!=0)return this.s<0?-i:i;for(;--u>=0;)if((i=this[u]-s[u])!=0)return i;return 0},n.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+v(this[this.t-1]^this.s&this.DM)},n.prototype.mod=function(s){var i=o();return this.abs().divRemTo(s,null,i),this.s<0&&i.compareTo(n.ZERO)>0&&s.subTo(i,i),i},n.prototype.modPowInt=function(s,i){var u;return u=s<256||i.isEven()?new A(i):new b(i),this.exp(s,u)},n.ZERO=y(0),n.ONE=y(1),N.prototype.convert=g,N.prototype.revert=g,N.prototype.mulTo=function(s,i,u){s.multiplyTo(i,u)},N.prototype.sqrTo=function(s,i){s.squareTo(i)},w.prototype.convert=function(s){if(s.s<0||s.t>2*this.m.t)return s.mod(this.m);if(s.compareTo(this.m)<0)return s;var i=o();return s.copyTo(i),this.reduce(i),i},w.prototype.revert=function(s){return s},w.prototype.reduce=function(s){for(s.drShiftTo(this.m.t-1,this.r2),s.t>this.m.t+1&&(s.t=this.m.t+1,s.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);s.compareTo(this.r2)<0;)s.dAddOffset(1,this.m.t+1);for(s.subTo(this.r2,s);s.compareTo(this.m)>=0;)s.subTo(this.m,s)},w.prototype.mulTo=function(s,i,u){s.multiplyTo(i,u),this.reduce(u)},w.prototype.sqrTo=function(s,i){s.squareTo(i),this.reduce(i)};var O,I,P,M=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],k=(1<<26)/M[M.length-1];function L(){var s;s=new Date().getTime(),I[P++]^=255&s,I[P++]^=s>>8&255,I[P++]^=s>>16&255,I[P++]^=s>>24&255,P>=ot&&(P-=ot)}if(n.prototype.chunkSize=function(s){return Math.floor(Math.LN2*this.DB/Math.log(s))},n.prototype.toRadix=function(s){if(s==null&&(s=10),this.signum()==0||s<2||s>36)return"0";var i=this.chunkSize(s),u=Math.pow(s,i),h=y(u),m=o(),T=o(),E="";for(this.divRemTo(h,m,T);m.signum()>0;)E=(u+T.intValue()).toString(s).substr(1)+E,m.divRemTo(h,m,T);return T.intValue().toString(s)+E},n.prototype.fromRadix=function(s,i){this.fromInt(0),i==null&&(i=10);for(var u=this.chunkSize(i),h=Math.pow(i,u),m=!1,T=0,E=0,R=0;R<s.length;++R){var F=d(s,R);F<0?s.charAt(R)=="-"&&this.signum()==0&&(m=!0):(E=i*E+F,++T>=u&&(this.dMultiply(h),this.dAddOffset(E,0),T=0,E=0))}T>0&&(this.dMultiply(Math.pow(i,T)),this.dAddOffset(E,0)),m&&n.ZERO.subTo(this,this)},n.prototype.fromNumber=function(s,i,u){if(typeof i=="number")if(s<2)this.fromInt(1);else for(this.fromNumber(s,u),this.testBit(s-1)||this.bitwiseTo(n.ONE.shiftLeft(s-1),D,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(i);)this.dAddOffset(2,0),this.bitLength()>s&&this.subTo(n.ONE.shiftLeft(s-1),this);else{var h=new Array,m=7&s;h.length=1+(s>>3),i.nextBytes(h),m>0?h[0]&=(1<<m)-1:h[0]=0,this.fromString(h,256)}},n.prototype.bitwiseTo=function(s,i,u){var h,m,T=Math.min(s.t,this.t);for(h=0;h<T;++h)u[h]=i(this[h],s[h]);if(s.t<this.t){for(m=s.s&this.DM,h=T;h<this.t;++h)u[h]=i(this[h],m);u.t=this.t}else{for(m=this.s&this.DM,h=T;h<s.t;++h)u[h]=i(m,s[h]);u.t=s.t}u.s=i(this.s,s.s),u.clamp()},n.prototype.changeBit=function(s,i){var u=n.ONE.shiftLeft(s);return this.bitwiseTo(u,i,u),u},n.prototype.addTo=function(s,i){for(var u=0,h=0,m=Math.min(s.t,this.t);u<m;)h+=this[u]+s[u],i[u++]=h&this.DM,h>>=this.DB;if(s.t<this.t){for(h+=s.s;u<this.t;)h+=this[u],i[u++]=h&this.DM,h>>=this.DB;h+=this.s}else{for(h+=this.s;u<s.t;)h+=s[u],i[u++]=h&this.DM,h>>=this.DB;h+=s.s}i.s=h<0?-1:0,h>0?i[u++]=h:h<-1&&(i[u++]=this.DV+h),i.t=u,i.clamp()},n.prototype.dMultiply=function(s){this[this.t]=this.am(0,s-1,this,0,0,this.t),++this.t,this.clamp()},n.prototype.dAddOffset=function(s,i){if(s!=0){for(;this.t<=i;)this[this.t++]=0;for(this[i]+=s;this[i]>=this.DV;)this[i]-=this.DV,++i>=this.t&&(this[this.t++]=0),++this[i]}},n.prototype.multiplyLowerTo=function(s,i,u){var h,m=Math.min(this.t+s.t,i);for(u.s=0,u.t=m;m>0;)u[--m]=0;for(h=u.t-this.t;m<h;++m)u[m+this.t]=this.am(0,s[m],u,m,0,this.t);for(h=Math.min(s.t,i);m<h;++m)this.am(0,s[m],u,m,0,i-m);u.clamp()},n.prototype.multiplyUpperTo=function(s,i,u){--i;var h=u.t=this.t+s.t-i;for(u.s=0;--h>=0;)u[h]=0;for(h=Math.max(i-this.t,0);h<s.t;++h)u[this.t+h-i]=this.am(i-h,s[h],u,0,0,this.t+h-i);u.clamp(),u.drShiftTo(1,u)},n.prototype.modInt=function(s){if(s<=0)return 0;var i=this.DV%s,u=this.s<0?s-1:0;if(this.t>0)if(i==0)u=this[0]%s;else for(var h=this.t-1;h>=0;--h)u=(i*u+this[h])%s;return u},n.prototype.millerRabin=function(s){var i=this.subtract(n.ONE),u=i.getLowestSetBit();if(u<=0)return!1;var h=i.shiftRight(u);(s=s+1>>1)>M.length&&(s=M.length);for(var m=o(),T=0;T<s;++T){m.fromInt(M[Math.floor(Math.random()*M.length)]);var E=m.modPow(h,this);if(E.compareTo(n.ONE)!=0&&E.compareTo(i)!=0){for(var R=1;R++<u&&E.compareTo(i)!=0;)if((E=E.modPowInt(2,this)).compareTo(n.ONE)==0)return!1;if(E.compareTo(i)!=0)return!1}}return!0},n.prototype.clone=function(){var s=o();return this.copyTo(s),s},n.prototype.intValue=function(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},n.prototype.byteValue=function(){return this.t==0?this.s:this[0]<<24>>24},n.prototype.shortValue=function(){return this.t==0?this.s:this[0]<<16>>16},n.prototype.signum=function(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1},n.prototype.toByteArray=function(){var s=this.t,i=new Array;i[0]=this.s;var u,h=this.DB-s*this.DB%8,m=0;if(s-- >0)for(h<this.DB&&(u=this[s]>>h)!=(this.s&this.DM)>>h&&(i[m++]=u|this.s<<this.DB-h);s>=0;)h<8?(u=(this[s]&(1<<h)-1)<<8-h,u|=this[--s]>>(h+=this.DB-8)):(u=this[s]>>(h-=8)&255,h<=0&&(h+=this.DB,--s)),128&u&&(u|=-256),m==0&&(128&this.s)!=(128&u)&&++m,(m>0||u!=this.s)&&(i[m++]=u);return i},n.prototype.equals=function(s){return this.compareTo(s)==0},n.prototype.min=function(s){return this.compareTo(s)<0?this:s},n.prototype.max=function(s){return this.compareTo(s)>0?this:s},n.prototype.and=function(s){var i=o();return this.bitwiseTo(s,S,i),i},n.prototype.or=function(s){var i=o();return this.bitwiseTo(s,D,i),i},n.prototype.xor=function(s){var i=o();return this.bitwiseTo(s,C,i),i},n.prototype.andNot=function(s){var i=o();return this.bitwiseTo(s,_,i),i},n.prototype.not=function(){for(var s=o(),i=0;i<this.t;++i)s[i]=this.DM&~this[i];return s.t=this.t,s.s=~this.s,s},n.prototype.shiftLeft=function(s){var i=o();return s<0?this.rShiftTo(-s,i):this.lShiftTo(s,i),i},n.prototype.shiftRight=function(s){var i=o();return s<0?this.lShiftTo(-s,i):this.rShiftTo(s,i),i},n.prototype.getLowestSetBit=function(){for(var s=0;s<this.t;++s)if(this[s]!=0)return s*this.DB+x(this[s]);return this.s<0?this.t*this.DB:-1},n.prototype.bitCount=function(){for(var s=0,i=this.s&this.DM,u=0;u<this.t;++u)s+=B(this[u]^i);return s},n.prototype.testBit=function(s){var i=Math.floor(s/this.DB);return i>=this.t?this.s!=0:(this[i]&1<<s%this.DB)!=0},n.prototype.setBit=function(s){return this.changeBit(s,D)},n.prototype.clearBit=function(s){return this.changeBit(s,_)},n.prototype.flipBit=function(s){return this.changeBit(s,C)},n.prototype.add=function(s){var i=o();return this.addTo(s,i),i},n.prototype.subtract=function(s){var i=o();return this.subTo(s,i),i},n.prototype.multiply=function(s){var i=o();return this.multiplyTo(s,i),i},n.prototype.divide=function(s){var i=o();return this.divRemTo(s,i,null),i},n.prototype.remainder=function(s){var i=o();return this.divRemTo(s,null,i),i},n.prototype.divideAndRemainder=function(s){var i=o(),u=o();return this.divRemTo(s,i,u),new Array(i,u)},n.prototype.modPow=function(s,i){var u,h,m=s.bitLength(),T=y(1);if(m<=0)return T;u=m<18?1:m<48?3:m<144?4:m<768?5:6,h=m<8?new A(i):i.isEven()?new w(i):new b(i);var E=new Array,R=3,F=u-1,z=(1<<u)-1;if(E[1]=h.convert(this),u>1){var Q=o();for(h.sqrTo(E[1],Q);R<=z;)E[R]=o(),h.mulTo(Q,E[R-2],E[R]),R+=2}var se,Ae,ie=s.t-1,ae=!0,ee=o();for(m=v(s[ie])-1;ie>=0;){for(m>=F?se=s[ie]>>m-F&z:(se=(s[ie]&(1<<m+1)-1)<<F-m,ie>0&&(se|=s[ie-1]>>this.DB+m-F)),R=u;!(1&se);)se>>=1,--R;if((m-=R)<0&&(m+=this.DB,--ie),ae)E[se].copyTo(T),ae=!1;else{for(;R>1;)h.sqrTo(T,ee),h.sqrTo(ee,T),R-=2;R>0?h.sqrTo(T,ee):(Ae=T,T=ee,ee=Ae),h.mulTo(ee,E[se],T)}for(;ie>=0&&!(s[ie]&1<<m);)h.sqrTo(T,ee),Ae=T,T=ee,ee=Ae,--m<0&&(m=this.DB-1,--ie)}return h.revert(T)},n.prototype.modInverse=function(s){var i=s.isEven();if(this.isEven()&&i||s.signum()==0)return n.ZERO;for(var u=s.clone(),h=this.clone(),m=y(1),T=y(0),E=y(0),R=y(1);u.signum()!=0;){for(;u.isEven();)u.rShiftTo(1,u),i?(m.isEven()&&T.isEven()||(m.addTo(this,m),T.subTo(s,T)),m.rShiftTo(1,m)):T.isEven()||T.subTo(s,T),T.rShiftTo(1,T);for(;h.isEven();)h.rShiftTo(1,h),i?(E.isEven()&&R.isEven()||(E.addTo(this,E),R.subTo(s,R)),E.rShiftTo(1,E)):R.isEven()||R.subTo(s,R),R.rShiftTo(1,R);u.compareTo(h)>=0?(u.subTo(h,u),i&&m.subTo(E,m),T.subTo(R,T)):(h.subTo(u,h),i&&E.subTo(m,E),R.subTo(T,R))}return h.compareTo(n.ONE)!=0?n.ZERO:R.compareTo(s)>=0?R.subtract(s):R.signum()<0?(R.addTo(s,R),R.signum()<0?R.add(s):R):R},n.prototype.pow=function(s){return this.exp(s,new N)},n.prototype.gcd=function(s){var i=this.s<0?this.negate():this.clone(),u=s.s<0?s.negate():s.clone();if(i.compareTo(u)<0){var h=i;i=u,u=h}var m=i.getLowestSetBit(),T=u.getLowestSetBit();if(T<0)return i;for(m<T&&(T=m),T>0&&(i.rShiftTo(T,i),u.rShiftTo(T,u));i.signum()>0;)(m=i.getLowestSetBit())>0&&i.rShiftTo(m,i),(m=u.getLowestSetBit())>0&&u.rShiftTo(m,u),i.compareTo(u)>=0?(i.subTo(u,i),i.rShiftTo(1,i)):(u.subTo(i,u),u.rShiftTo(1,u));return T>0&&u.lShiftTo(T,u),u},n.prototype.isProbablePrime=function(s){var i,u=this.abs();if(u.t==1&&u[0]<=M[M.length-1]){for(i=0;i<M.length;++i)if(u[0]==M[i])return!0;return!1}if(u.isEven())return!1;for(i=1;i<M.length;){for(var h=M[i],m=i+1;m<M.length&&h<k;)h*=M[m++];for(h=u.modInt(h);i<m;)if(h%M[i++]==0)return!1}return u.millerRabin(s)},n.prototype.square=function(){var s=o();return this.squareTo(s),s},n.prototype.Barrett=w,I==null){var U;if(I=new Array,P=0,typeof window<"u"&&window.crypto){if(window.crypto.getRandomValues){var W=new Uint8Array(32);for(window.crypto.getRandomValues(W),U=0;U<32;++U)I[P++]=W[U]}else if(navigator.appName=="Netscape"&&navigator.appVersion<"5"){var Y=window.crypto.random(32);for(U=0;U<Y.length;++U)I[P++]=255&Y.charCodeAt(U)}}for(;P<ot;)U=Math.floor(65536*Math.random()),I[P++]=U>>>8,I[P++]=255&U;P=0,L()}function gt(){if(O==null){for(L(),(O=new He).init(I),P=0;P<I.length;++P)I[P]=0;P=0}return O.next()}function it(){}function He(){this.i=0,this.j=0,this.S=new Array}it.prototype.nextBytes=function(s){var i;for(i=0;i<s.length;++i)s[i]=gt()},He.prototype.init=function(s){var i,u,h;for(i=0;i<256;++i)this.S[i]=i;for(u=0,i=0;i<256;++i)h=this.S[i],this.S[i]=this.S[u=u+this.S[i]+s[i%s.length]&255],this.S[u]=h;this.i=0,this.j=0},He.prototype.next=function(){var s;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,s=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=s,this.S[s+this.S[this.i]&255]};var ot=256;e.exports={default:n,BigInteger:n,SecureRandom:it}}).call(qe)}),Kr={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},Yr={sha256:On};function An(e,t){if(this.n=null,this.e=0,!(e!=null&&t!=null&&e.length>0&&t.length>0))throw new Error("Invalid key data");this.n=new Sn.BigInteger(e,16),this.e=parseInt(t,16)}An.prototype.verify=function(e,t){t=t.replace(/[^0-9a-f]|[\s\n]]/gi,"");var r=new Sn.BigInteger(t,16);if(r.bitLength()>this.n.bitLength())throw new Error("Signature does not match with the key modulus.");var n=function(a){for(var c in Kr){var p=Kr[c],l=p.length;if(a.substring(0,l)===p)return{alg:c,hash:a.substring(l)}}return[]}(r.modPowInt(this.e,this.n).toString(16).replace(/^1f+00/,""));if(n.length===0)return!1;if(!Yr.hasOwnProperty(n.alg))throw new Error("Hashing algorithm is not supported.");var o=Yr[n.alg](e).toString();return n.hash===o};for(var Zi=[],ce=[],Ki=typeof Uint8Array<"u"?Uint8Array:Array,en="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ve=0;Ve<64;++Ve)Zi[Ve]=en[Ve],ce[en.charCodeAt(Ve)]=Ve;ce[45]=62,ce[95]=63;var Cn=function(e){var t,r,n=function(f){var d=f.length;if(d%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=f.indexOf("=");return y===-1&&(y=d),[y,y===d?0:4-y%4]}(e),o=n[0],a=n[1],c=new Ki(function(f,d,y){return 3*(d+y)/4-y}(0,o,a)),p=0,l=a>0?o-4:o;for(r=0;r<l;r+=4)t=ce[e.charCodeAt(r)]<<18|ce[e.charCodeAt(r+1)]<<12|ce[e.charCodeAt(r+2)]<<6|ce[e.charCodeAt(r+3)],c[p++]=t>>16&255,c[p++]=t>>8&255,c[p++]=255&t;return a===2&&(t=ce[e.charCodeAt(r)]<<2|ce[e.charCodeAt(r+1)]>>4,c[p++]=255&t),a===1&&(t=ce[e.charCodeAt(r)]<<10|ce[e.charCodeAt(r+1)]<<4|ce[e.charCodeAt(r+2)]>>2,c[p++]=t>>8&255,c[p++]=255&t),c};function En(e){var t=e.length%4;return t===0?e:e+new Array(4-t+1).join("=")}function tn(e){return e=En(e).replace(/\-/g,"+").replace(/_/g,"/"),decodeURIComponent(function(t){for(var r="",n=0;n<t.length;n++)r+=String.fromCharCode(t[n]);return r}(Cn(e)).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function Qt(e){return function(t){for(var r="",n=0;n<t.length;n++){var o=t[n].toString(16);r+=o.length===2?o:"0"+o}return r}(Cn(En(e)))}var Yi=Ne(function(e){var t,r;t=qe,r=function(){return function(){return function(n){var o=[];if(n.length===0)return"";if(typeof n[0]!="string")throw new TypeError("Url must be a string. Received "+n[0]);if(n[0].match(/^[^/:]+:\/*$/)&&n.length>1){var a=n.shift();n[0]=a+n[0]}n[0]=n[0].match(/^file:\/\/\//)?n[0].replace(/^([^/:]+):\/*/,"$1:///"):n[0].replace(/^([^/:]+):\/*/,"$1://");for(var c=0;c<n.length;c++){var p=n[c];if(typeof p!="string")throw new TypeError("Url must be a string. Received "+p);p!==""&&(c>0&&(p=p.replace(/^[\/]+/,"")),p=p.replace(/[\/]+$/,c<n.length-1?"":"/"),o.push(p))}var l=o.join("/"),f=(l=l.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return f.shift()+(f.length>0?"?":"")+f.join("&")}(typeof arguments[0]=="object"?arguments[0]:[].slice.call(arguments))}},e.exports?e.exports=r():t.urljoin=r()});function eo(e,t){return t=t||{},new Promise(function(r,n){var o=new XMLHttpRequest,a=[],c=[],p={},l=function(){return{ok:(o.status/100|0)==2,statusText:o.statusText,status:o.status,url:o.responseURL,text:function(){return Promise.resolve(o.responseText)},json:function(){return Promise.resolve(o.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([o.response]))},clone:l,headers:{keys:function(){return a},entries:function(){return c},get:function(d){return p[d.toLowerCase()]},has:function(d){return d.toLowerCase()in p}}}};for(var f in o.open(t.method||"get",e,!0),o.onload=function(){o.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(d,y,v){a.push(y=y.toLowerCase()),c.push([y,v]),p[y]=p[y]?p[y]+","+v:v}),r(l())},o.onerror=n,o.withCredentials=t.credentials=="include",t.headers)o.setRequestHeader(f,t.headers[f]);o.send(t.body||null)})}function to(e){if(e.ok)return e.json();var t=new Error(e.statusText);return t.response=e,Promise.reject(t)}function sr(e){this.name="ConfigurationError",this.message=e||""}function V(e){this.name="TokenValidationError",this.message=e||""}sr.prototype=Error.prototype,V.prototype=Error.prototype;var ro=function(){function e(){}var t=e.prototype;return t.get=function(){return null},t.has=function(){return null},t.set=function(){return null},e}();Gi.polyfill();var ar="RS256",Et=function(e){return typeof e=="number"},no=function(){return new Date};function xe(e){var t=e||{};if(this.jwksCache=t.jwksCache||new ro,this.expectedAlg=t.expectedAlg||"RS256",this.issuer=t.issuer,this.audience=t.audience,this.leeway=t.leeway===0?0:t.leeway||60,this.jwksURI=t.jwksURI,this.maxAge=t.maxAge,this.__clock=typeof t.__clock=="function"?t.__clock:no,this.leeway<0||this.leeway>300)throw new sr("The leeway should be positive and lower than five minutes.");if(ar!==this.expectedAlg)throw new sr('Signature algorithm of "'+this.expectedAlg+'" is not supported. Expected the ID token to be signed with "'+ar+'".')}function kn(e,t){this.plugins=t;for(var r=0;r<this.plugins.length;r++){if(this.plugins[r].version!==yt.raw){var n="";throw this.plugins[r].constructor&&this.plugins[r].constructor.name&&(n=this.plugins[r].constructor.name),new Error("Plugin "+n+" version ("+this.plugins[r].version+") is not compatible with the SDK version ("+yt.raw+")")}this.plugins[r].setWebAuth(e)}}xe.prototype.verify=function(e,t,r){if(!r&&t&&typeof t=="function"&&(r=t,t=void 0),!e)return r(new V("ID token is required but missing"),null);var n=this.decode(e);if(n instanceof Error)return r(new V("ID token could not be decoded"),null);var o=n.encoded.header+"."+n.encoded.payload,a=Qt(n.encoded.signature),c=n.header.alg,p=n.header.kid,l=n.payload.aud,f=n.payload.sub,d=n.payload.iss,y=n.payload.exp,v=n.payload.nbf,A=n.payload.iat,b=n.payload.azp,S=n.payload.auth_time,D=n.payload.nonce,C=this.__clock(),_=this;if(_.expectedAlg!==c)return r(new V('Signature algorithm of "'+c+'" is not supported. Expected the ID token to be signed with "'+ar+'".'),null);this.getRsaVerifier(d,p,function(x,B){if(x)return r(x,null);if(!B.verify(o,a))return r(new V("Invalid ID token signature."),null);if(!d||typeof d!="string")return r(new V("Issuer (iss) claim must be a string present in the ID token"),null);if(_.issuer!==d)return r(new V('Issuer (iss) claim mismatch in the ID token, expected "'+_.issuer+'", found "'+d+'"'),null);if(!f||typeof f!="string")return r(new V("Subject (sub) claim must be a string present in the ID token"),null);if(!l||typeof l!="string"&&!Array.isArray(l))return r(new V("Audience (aud) claim must be a string or array of strings present in the ID token"),null);if(Array.isArray(l)&&!l.includes(_.audience))return r(new V('Audience (aud) claim mismatch in the ID token; expected "'+_.audience+'" but was not one of "'+l.join(", ")+'"'),null);if(typeof l=="string"&&_.audience!==l)return r(new V('Audience (aud) claim mismatch in the ID token; expected "'+_.audience+'" but found "'+l+'"'),null);if(t){if(!D||typeof D!="string")return r(new V("Nonce (nonce) claim must be a string present in the ID token"),null);if(D!==t)return r(new V('Nonce (nonce) claim value mismatch in the ID token; expected "'+t+'", found "'+D+'"'),null)}if(Array.isArray(l)&&l.length>1){if(!b||typeof b!="string")return r(new V("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values"),null);if(b!==_.audience)return r(new V('Authorized Party (azp) claim mismatch in the ID token; expected "'+_.audience+'", found "'+b+'"'),null)}if(!y||!Et(y))return r(new V("Expiration Time (exp) claim must be a number present in the ID token"),null);if(!A||!Et(A))return r(new V("Issued At (iat) claim must be a number present in the ID token"),null);var N=y+_.leeway,g=new Date(0);if(g.setUTCSeconds(N),C>g)return r(new V('Expiration Time (exp) claim error in the ID token; current time "'+C+'" is after expiration time "'+g+'"'),null);if(v&&Et(v)){var w=v-_.leeway,O=new Date(0);if(O.setUTCSeconds(w),C<O)return r(new V('Not Before Time (nbf) claim error in the ID token; current time "'+C+'" is before the not before time "'+O+'"'),null)}if(_.maxAge){if(!S||!Et(S))return r(new V("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified"),null);var I=S+_.maxAge+_.leeway,P=new Date(0);if(P.setUTCSeconds(I),C>P)return r(new V('Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time "'+C+'" is after last auth time at "'+P+'"'),null)}return r(null,n.payload)})},xe.prototype.getRsaVerifier=function(e,t,r){var n=this,o=e+t;Promise.resolve(this.jwksCache.has(o)).then(function(a){return a?n.jwksCache.get(o):(p=(c={jwksURI:n.jwksURI,iss:e,kid:t}).jwksURI||Yi(c.iss,".well-known","jwks.json"),(fetch=="undefined"?eo:fetch)(p).then(to).then(function(l){var f,d,y,v=null;for(f=0;f<l.keys.length&&v===null;f++)(d=l.keys[f]).kid===c.kid&&(v=d);if(!v)throw new Error('Could not find a public key for Key ID (kid) "'+c.kid+'"');return{modulus:Qt((y=v).n),exp:Qt(y.e)}}).catch(function(l){throw l}));var c,p}).then(function(a){if(!a||!a.modulus||!a.exp)throw new Error("Empty keyInfo in response");return Promise.resolve(n.jwksCache.set(o,a)).then(function(){r&&r(null,new An(a.modulus,a.exp))})}).catch(function(a){r&&r(a)})},xe.prototype.decode=function(e){var t,r,n=e.split(".");if(n.length!==3)return new V("Cannot decode a malformed JWT");try{t=JSON.parse(tn(n[0])),r=JSON.parse(tn(n[1]))}catch{return new V("Token header or payload is not valid JSON")}return{header:t,payload:r,encoded:{header:n[0],payload:n[1],signature:n[2]}}},xe.prototype.validateAccessToken=function(e,t,r,n){if(this.expectedAlg!==t)return n(new V('Signature algorithm of "'+t+'" is not supported. Expected "'+this.expectedAlg+'"'));var o,a=On(e),c=Zr.stringify(a),p=c.substring(0,c.length/2),l=Zr.parse(p),f=Qi.stringify(l);return n((o={"+":"-","/":"_","=":""},f.replace(/[+/=]/g,function(d){return o[d]})!==r?new V("Invalid access_token"):null))},kn.prototype.get=function(e){for(var t=0;t<this.plugins.length;t++)if(this.plugins[t].supports(e))return this.plugins[t].init();return null};var rn={randomString:function(e){var t=new Uint8Array(e),r=[],n="0123456789ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvwxyz-._~",o=$.getWindow().crypto||$.getWindow().msCrypto;if(!o)return null;for(var a=o.getRandomValues(t),c=0;c<a.length;c++)r.push(n[a[c]%n.length]);return r.join("")}};function Pe(e){var t=e.transaction||{};this.namespace=t.namespace||"com.auth0.auth.",this.keyLength=t.keyLength||32,this.stateExpiration=e.stateExpiration?e.stateExpiration/60/24:1/48,this.storage=new et(e),this.options=e}function Xe(e){if(this.url=e.url,this.callback=e.callback,this.timeout=e.timeout||6e4,this.timeoutCallback=e.timeoutCallback||null,this.eventListenerType=e.eventListenerType||"message",this.iframe=null,this.timeoutHandle=null,this._destroyTimeout=null,this.transientMessageEventListener=null,this.proxyEventListener=null,this.eventValidator=e.eventValidator||{isValid:function(){return!0}},typeof this.callback!="function")throw new Error("options.callback must be a function")}function mr(e){this.webAuth=e,this.warn=new Le(e.baseOptions)}function mt(e,t){this.webAuth=e,this.baseOptions=t,this.request=new me(t),this.webMessageHandler=new mr(e),this.storage=new et(t)}function nn(e,t){return["co/verifier",encodeURIComponent(e),encodeURIComponent(t)].join("/")}function ur(e,t){this.webAuth=e,this.baseOptions=t,this.crossOriginAuthentication=new mt(e,this.baseOptions),this.warn=new Le({disableWarnings:!!t._disableDeprecationWarnings})}Pe.prototype.process=function(e){if(!e.responseType)throw new Error("responseType is required");var t=e.realm||e.connection,r=e.responseType.indexOf("id_token")!==-1,n=this.generateTransaction(e.appState,e.state,e.nonce,t,r,e.organization);return e.state||(e.state=n.state),r&&!e.nonce&&(e.nonce=n.nonce),e},Pe.prototype.generateTransaction=function(e,t,r,n,o,a){if(t=t||rn.randomString(this.keyLength),r=r||(o?rn.randomString(this.keyLength):null),$.getWindow().location.host!==this.options.domain){var c={nonce:r,appState:e,state:t,lastUsedConnection:n};a&&(c.organization=a),this.storage.setItem(this.namespace+t,c,{expires:this.stateExpiration})}return{state:t,nonce:r}},Pe.prototype.getStoredTransaction=function(e){var t;return t=this.storage.getItem(this.namespace+e),this.clearTransaction(e),t},Pe.prototype.clearTransaction=function(e){this.storage.removeItem(this.namespace+e)},Xe.prototype.init=function(){var e=this,t=$.getWindow();switch(this.iframe=t.document.createElement("iframe"),this.iframe.style.display="none",this.proxyEventListener=function(r){e.eventListener(r)},this.eventListenerType){case"message":this.eventSourceObject=t;break;case"load":this.eventSourceObject=this.iframe;break;default:throw new Error("Unsupported event listener type: "+this.eventListenerType)}this.eventSourceObject.addEventListener(this.eventListenerType,this.proxyEventListener,!1),t.document.body.appendChild(this.iframe),this.iframe.src=this.url,this.timeoutHandle=setTimeout(function(){e.timeoutHandler()},this.timeout)},Xe.prototype.eventListener=function(e){var t={event:e,sourceObject:this.eventSourceObject};this.eventValidator.isValid(t)&&(this.destroy(),this.callback(t))},Xe.prototype.timeoutHandler=function(){this.destroy(),this.timeoutCallback&&this.timeoutCallback()},Xe.prototype.destroy=function(){var e=this;clearTimeout(this.timeoutHandle),this._destroyTimeout=setTimeout(function(){e.eventSourceObject.removeEventListener(e.eventListenerType,e.proxyEventListener,!1),e.iframe.parentNode&&e.iframe.parentNode.removeChild(e.iframe)},0)},mr.prototype.run=function(e,t){var r=this;e.responseMode="web_message",e.prompt="none";var n=$.getOrigin(),o=q.getOriginFromUrl(e.redirectUri);if(o&&n!==o)return t({error:"origin_mismatch",error_description:"The redirectUri's origin ("+o+") should match the window's origin ("+n+")."});(function(a,c,p){new Xe({url:a,eventListenerType:"message",callback:function(l){p(null,l)},timeout:c.timeout,eventValidator:{isValid:function(l){return!(!l.event.data||l.event.data.type!=="authorization_response"||c.state!==l.event.data.response.state)}},timeoutCallback:function(){p({error:"timeout",error_description:"Timeout during executing web_message communication",state:c.state})}}).init()})(this.webAuth.client.buildAuthorizeUrl(e),e,function(a,c){var p=a;if(!a&&c.event.data.response.error&&(p=c.event.data.response),!p){var l=c.event.data.response;return r.webAuth.validateAuthenticationResponse(e,l,t)}return p.error==="consent_required"&&$.getWindow().location.hostname==="localhost"&&r.warn.warning("Consent Required. Consent can't be skipped on localhost. Read more here: https://auth0.com/docs/api-auth/user-consent#skipping-consent-for-first-party-clients"),r.webAuth.transactionManager.clearTransaction(p.state),t(q.pick(p,["error","error_description"]))})},mt.prototype.login=function(e,t){var r=this,n=J(this.baseOptions.rootUrl,"/co/authenticate");e.username=e.username||e.email,delete e.email;var o={client_id:e.clientID||this.baseOptions.clientID,username:e.username};e.password&&(o.password=e.password),e.otp&&(o.otp=e.otp);var a=e.realm||this.baseOptions.realm;if(a){var c=e.credentialType||this.baseOptions.credentialType||"http://auth0.com/oauth/grant-type/password-realm";o.realm=a,o.credential_type=c}else o.credential_type="password";this.request.post(n).withCredentials().send(o).end(function(p,l){if(p){var f=p.response&&p.response.body||{error:"request_error",error_description:JSON.stringify(p)};return G(t,{forceLegacyError:!0})(f)}function d(){var y=e.popup===!0;e=q.blacklist(e,["password","credentialType","otp","popup","onRedirecting"]);var v=q.merge(e).with({loginTicket:l.body.login_ticket}),A=nn(r.baseOptions.rootUrl,l.body.co_id);r.storage.setItem(A,l.body.co_verifier,{expires:1/96}),y?r.webMessageHandler.run(v,G(t,{forceLegacyError:!0})):r.webAuth.authorize(v)}typeof e.onRedirecting=="function"?e.onRedirecting(d):d()})},mt.prototype.callback=function(){var e=decodeURIComponent(function(n){var o=("&"+$.getWindow().location.hash.substring(1)).split("&"+n+"=");if(o.length===2)return o.pop().split("&").shift()}("origin")),t=$.getWindow(),r=this;t.addEventListener("message",function(n){if(n.data.type==="co_verifier_request"){var o=nn(n.origin,n.data.request.id),a=function(c,p){try{var l=c.getItem(p);return c.removeItem(p),l||""}catch{return""}}(r.storage,o);n.source.postMessage({type:"co_verifier_response",response:{verifier:a}},n.origin)}}),t.parent.postMessage({type:"ready"},e)},ur.prototype.loginWithCredentials=function(e,t){e.realm=e.realm||e.connection,delete e.connection,this.crossOriginAuthentication.login(e,t)},ur.prototype.signupAndLogin=function(e,t){var r=this;return this.webAuth.client.dbConnection.signup(e,function(n){return n?t(n):(e.realm=e.realm||e.connection,delete e.connection,r.webAuth.login(e,t))})};var on=Be(function(e){var t=function(){function r(c,p,l){c.attachEvent?c.attachEvent("on"+p,l):c.addEventListener&&c.addEventListener(p,l,!1)}function n(c,p,l){c.detachEvent?c.detachEvent("on"+p,l):c.removeEventListener&&c.removeEventListener(p,l,!1)}function o(c){/^https?:\/\//.test(c)||(c=window.location.href);var p=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(c);return p?p[1]:c}var a=function(){if(typeof navigator>"u")return!1;var c=-1,p=navigator.userAgent;return navigator.appName==="Microsoft Internet Explorer"?new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(p)!=null&&(c=parseFloat(RegExp.$1)):p.indexOf("Trident")>-1&&new RegExp("rv:([0-9]{2,2}[.0-9]{0,})").exec(p)!==null&&(c=parseFloat(RegExp.$1)),c>=8}();return typeof window<"u"&&window.JSON&&window.JSON.stringify&&window.JSON.parse&&window.postMessage?{open:function(c,p){if(!p)throw"missing required callback argument";var l,f;c.url||(l="missing required 'url' parameter"),c.relay_url||(l="missing required 'relay_url' parameter"),l&&setTimeout(function(){p(l)},0),c.window_name||(c.window_name=null),c.window_features&&!function(){try{var C=navigator.userAgent;return C.indexOf("Fennec/")!=-1||C.indexOf("Firefox/")!=-1&&C.indexOf("Android")!=-1}catch{}return!1}()||(c.window_features=void 0);var d,y=c.origin||o(c.url);if(y!==o(c.relay_url))return setTimeout(function(){p("invalid arguments: origin of url and relay_url must match")},0);a&&((f=document.createElement("iframe")).setAttribute("src",c.relay_url),f.style.display="none",f.setAttribute("name","__winchan_relay_frame"),document.body.appendChild(f),d=f.contentWindow);var v=c.popup||window.open(c.url,c.window_name,c.window_features);c.popup&&(v.location.href=c.url),d||(d=v);var A=setInterval(function(){v&&v.closed&&(S(),p&&(p("User closed the popup window"),p=null))},500),b=JSON.stringify({a:"request",d:c.params});function S(){if(f&&document.body.removeChild(f),f=void 0,A&&(A=clearInterval(A)),n(window,"message",D),n(window,"unload",S),v)try{v.close()}catch{d.postMessage("die",y)}v=d=void 0}function D(C){if(C.origin===y){try{var _=JSON.parse(C.data)}catch(x){if(p)return p(x);throw x}_.a==="ready"?d.postMessage(b,y):_.a==="error"?(S(),p&&(p(_.d),p=null)):_.a==="response"&&(S(),p&&(p(null,_.d),p=null))}}return r(window,"unload",S),r(window,"message",D),{originalPopup:v,close:S,focus:function(){if(v)try{v.focus()}catch{}}}},onOpen:function(c){var p="*",l=a?function(){for(var v=window.opener.frames,A=v.length-1;A>=0;A--)try{if(v[A].location.protocol===window.location.protocol&&v[A].location.host===window.location.host&&v[A].name==="__winchan_relay_frame")return v[A]}catch{}}():window.opener;if(!l)throw"can't find relay frame";function f(v){v=JSON.stringify(v),a?l.doPost(v,p):l.postMessage(v,p)}function d(v){if(v.data==="die")try{window.close()}catch{}}r(a?l:window,"message",function v(A){var b;try{b=JSON.parse(A.data)}catch{}b&&b.a==="request"&&(n(window,"message",v),p=A.origin,c&&setTimeout(function(){c(p,b.d,function(S){c=void 0,f({a:"response",d:S})})},0))}),r(a?l:window,"message",d);try{f({a:"ready"})}catch{r(l,"load",function(A){f({a:"ready"})})}var y=function(){try{n(a?l:window,"message",d)}catch{}c&&f({a:"error",d:"client closed window"}),c=void 0;try{window.close()}catch{}};return r(window,"unload",y),{detach:function(){n(window,"unload",y)}}}}:{open:function(c,p,l,f){setTimeout(function(){f("unsupported browser")},0)},onOpen:function(c){setTimeout(function(){c("unsupported browser")},0)}}}();e.exports&&(e.exports=t)}),io={extractOrigin:function(e){/^https?:\/\//.test(e)||(e=window.location.href);var t=/^(https?:\/\/[-_a-zA-Z.0-9:]+)/.exec(e);return t?t[1]:e}};function kt(){this._current_popup=null}function ge(e,t){this.baseOptions=t,this.baseOptions.popupOrigin=t.popupOrigin,this.client=e.client,this.webAuth=e,this.transactionManager=new Pe(this.baseOptions),this.crossOriginAuthentication=new mt(e,this.baseOptions),this.warn=new Le({disableWarnings:!!t._disableDeprecationWarnings})}function Qe(e){this.authenticationUrl=e.authenticationUrl,this.timeout=e.timeout||6e4,this.handler=null,this.postMessageDataType=e.postMessageDataType||!1,this.postMessageOrigin=e.postMessageOrigin||$.getWindow().location.origin||$.getWindow().location.protocol+"//"+$.getWindow().location.hostname+($.getWindow().location.port?":"+$.getWindow().location.port:"")}function Zt(e){this.baseOptions=e,this.request=new me(e),this.transactionManager=new Pe(this.baseOptions)}function xt(e,t){this.baseOptions=t,this.client=e,this.baseOptions.universalLoginPage=!0,this.request=new me(this.baseOptions),this.warn=new Le({disableWarnings:!!t._disableDeprecationWarnings})}kt.prototype.calculatePosition=function(e){var t=e.width||500,r=e.height||600,n=$.getWindow(),o=n.screenX!==void 0?n.screenX:n.screenLeft,a=n.screenY!==void 0?n.screenY:n.screenTop,c=n.outerWidth!==void 0?n.outerWidth:n.document.body.clientWidth,p=n.outerHeight!==void 0?n.outerHeight:n.document.body.clientHeight;return{width:t,height:r,left:e.left||o+(c-t)/2,top:e.top||a+(p-r)/2}},kt.prototype.preload=function(e){var t=this,r=$.getWindow(),n=this.calculatePosition(e.popupOptions||{}),o=q.merge(n).with(e.popupOptions),a=e.url||"about:blank",c=Se.stringify(o,{encode:!1,delimiter:","});return this._current_popup&&!this._current_popup.closed||(this._current_popup=r.open(a,"auth0_signup_popup",c),this._current_popup.kill=function(){this.close(),t._current_popup=null}),this._current_popup},kt.prototype.load=function(e,t,r,n){var o=this,a=this.calculatePosition(r.popupOptions||{}),c=q.merge(a).with(r.popupOptions),p=q.merge({url:e,relay_url:t,window_features:Se.stringify(c,{delimiter:",",encode:!1}),popup:this._current_popup}).with(r),l=on.open(p,function(f,d){if(!f||f.name!=="SyntaxError")return o._current_popup=null,n(f,d)});return l.focus(),l},ge.prototype.buildPopupHandler=function(){var e=this.baseOptions.plugins.get("popup.getPopupHandler");return e?e.getPopupHandler():new kt},ge.prototype.preload=function(e){e=e||{};var t=this.buildPopupHandler();return t.preload(e),t},ge.prototype.getPopupHandler=function(e,t){return e.popupHandler?e.popupHandler:t?this.preload(e):this.buildPopupHandler()},ge.prototype.callback=function(e){var t=this,r=$.getWindow(),n=(e=e||{}).popupOrigin||this.baseOptions.popupOrigin||$.getOrigin();r.opener?on.onOpen(function(o,a,c){if(o!==n)return c({error:"origin_mismatch",error_description:"The popup's origin ("+o+") should match the `popupOrigin` parameter ("+n+")."});t.webAuth.parseHash(e||{},function(p,l){return c(p||l)})}):r.doPost=function(o){r.parent&&r.parent.postMessage(o,n)}},ge.prototype.authorize=function(e,t){var r,n,o={},a=this.baseOptions.plugins.get("popup.authorize"),c=q.merge(this.baseOptions,["clientID","scope","domain","audience","tenant","responseType","redirectUri","_csrf","state","_intstate","nonce","organization","invitation"]).with(q.blacklist(e,["popupHandler"]));return H.check(c,{type:"object",message:"options parameter is not valid"},{responseType:{type:"string",message:"responseType option is required"}}),n=J(this.baseOptions.rootUrl,"relay.html"),e.owp?c.owp=!0:(o.origin=io.extractOrigin(c.redirectUri),n=c.redirectUri),e.popupOptions&&(o.popupOptions=q.pick(e.popupOptions,["width","height","top","left"])),a&&(c=a.processParams(c)),(c=this.transactionManager.process(c)).scope=c.scope||"openid profile email",delete c.domain,r=this.client.buildAuthorizeUrl(c),this.getPopupHandler(e).load(r,n,o,G(t,{keepOriginalCasing:!0}))},ge.prototype.loginWithCredentials=function(e,t){e.realm=e.realm||e.connection,e.popup=!0,e=q.merge(this.baseOptions,["redirectUri","responseType","state","nonce","timeout"]).with(q.blacklist(e,["popupHandler","connection"])),e=this.transactionManager.process(e),this.crossOriginAuthentication.login(e,t)},ge.prototype.passwordlessVerify=function(e,t){var r=this;return this.client.passwordless.verify(q.blacklist(e,["popupHandler"]),function(n){if(n)return t(n);e.username=e.phoneNumber||e.email,e.password=e.verificationCode,delete e.email,delete e.phoneNumber,delete e.verificationCode,delete e.type,r.client.loginWithResourceOwner(e,t)})},ge.prototype.signupAndLogin=function(e,t){var r=this;return this.client.dbConnection.signup(e,function(n){if(n)return t(n);r.loginWithCredentials(e,t)})},Qe.create=function(e){return new Qe(e)},Qe.prototype.login=function(e,t){this.handler=new Xe({auth0:this.auth0,url:this.authenticationUrl,eventListenerType:e?"message":"load",callback:this.getCallbackHandler(t,e),timeout:this.timeout,eventValidator:this.getEventValidator(),timeoutCallback:function(){t(null,"#error=timeout&error_description=Timeout+during+authentication+renew.")},usePostMessage:e||!1}),this.handler.init()},Qe.prototype.getEventValidator=function(){var e=this;return{isValid:function(t){switch(t.event.type){case"message":return t.event.origin===e.postMessageOrigin&&t.event.source===e.handler.iframe.contentWindow&&(e.postMessageDataType===!1||t.event.data.type&&t.event.data.type===e.postMessageDataType);case"load":if(t.sourceObject.contentWindow.location.protocol==="about:")return!1;default:return!0}}}},Qe.prototype.getCallbackHandler=function(e,t){return function(r){var n;n=t?typeof r.event.data=="object"&&r.event.data.hash?r.event.data.hash:r.event.data:r.sourceObject.contentWindow.location.hash,e(null,n)}},Zt.prototype.login=function(e,t){var r,n;return r=J(this.baseOptions.rootUrl,"usernamepassword","login"),e.username=e.username||e.email,e=q.blacklist(e,["email","onRedirecting"]),n=q.merge(this.baseOptions,["clientID","redirectUri","tenant","responseType","responseMode","scope","audience"]).with(e),n=this.transactionManager.process(n),n=q.toSnakeCase(n,["auth0Client"]),this.request.post(r).send(n).end(G(t))},Zt.prototype.callback=function(e){var t,r=$.getDocument();(t=r.createElement("div")).innerHTML=e,r.body.appendChild(t).children[0].submit()},xt.prototype.login=function(e,t){if($.getWindow().location.host!==this.baseOptions.domain)throw new Error("This method is meant to be used only inside the Universal Login Page.");var r,n=q.merge(this.baseOptions,["clientID","redirectUri","tenant","responseType","responseMode","scope","audience","_csrf","state","_intstate","nonce"]).with(e);return H.check(n,{type:"object",message:"options parameter is not valid"},{responseType:{type:"string",message:"responseType option is required"}}),(r=new Zt(this.baseOptions)).login(n,function(o,a){if(o)return t(o);function c(){r.callback(a)}if(typeof e.onRedirecting=="function")return e.onRedirecting(function(){c()});c()})},xt.prototype.signupAndLogin=function(e,t){var r=this;return r.client.client.dbConnection.signup(e,function(n){return n?t(n):r.login(e,t)})},xt.prototype.getSSOData=function(e,t){var r,n="";return typeof e=="function"&&(t=e,e=!1),H.check(e,{type:"boolean",message:"withActiveDirectories parameter is not valid"}),H.check(t,{type:"function",message:"cb parameter is not valid"}),e&&(n="?"+Se.stringify({ldaps:1,client_id:this.baseOptions.clientID})),r=J(this.baseOptions.rootUrl,"user","ssodata",n),this.request.get(r,{noHeaders:!0}).withCredentials().end(G(t))};var cr=function(){},pr=cr,sn={lang:"en",templates:{auth0:function(e){var t=e.type==="code"?"Enter the code shown above":"Solve the formula shown above";return`<div class="captcha-challenge">
  <img src="`+e.image+`" />
  <button type="button" class="captcha-reload"></button>
</div>
<input type="text" name="captcha"
  class="form-control captcha-control"
  placeholder="`+t+'" />'},recaptcha_v2:function(){return'<div class="recaptcha" ></div><input type="hidden" name="captcha" />'},recaptcha_enterprise:function(){return'<div class="recaptcha" ></div><input type="hidden" name="captcha" />'},hcaptcha:function(){return'<div class="hcaptcha" ></div><input type="hidden" name="captcha" />'},friendly_captcha:function(){return'<div class="friendly-captcha" ></div><input type="hidden" name="captcha" />'},arkose:function(){return'<div class="arkose" ></div><input type="hidden" name="captcha" />'},auth0_v2:function(){return'<div class="auth0_v2" ></div><input type="hidden" name="captcha" />'},error:function(){return'<div class="error" style="color: red;">Error getting the bot detection challenge. Please contact the system administrator.</div>'}}};function an(e,t,r,n){e.innerHTML=t.templates[r.provider](r),e.querySelector(".captcha-reload").addEventListener("click",function(o){o.preventDefault(),n()})}function ke(e){switch(e){case"recaptcha_v2":return window.grecaptcha;case"recaptcha_enterprise":return window.grecaptcha.enterprise;case"hcaptcha":return window.hcaptcha;case"friendly_captcha":return window.friendlyChallenge;case"arkose":return window.arkose;case"auth0_v2":return window.turnstile;default:throw new Error("Unknown captcha provider")}}function un(e,t){var r=window.document.createElement("script");for(var n in t)n.startsWith("data-")?r.dataset[n.replace("data-","")]=t[n]:r[n]=t[n];r.src=e,window.document.body.appendChild(r)}function cn(e){window.document.querySelectorAll('script[src="'+e+'"]').forEach(function(t){t.remove()})}function oo(e,t,r,n){var o=t.provider+"Callback_"+Math.floor(1000001*Math.random()),a={async:!0,defer:!0},c=function(l,f,d,y,v){switch(l){case"recaptcha_v2":return"https://www.recaptcha.net/recaptcha/api.js?hl="+f+"&onload="+d;case"recaptcha_enterprise":return"https://www.recaptcha.net/recaptcha/enterprise.js?render=explicit&hl="+f+"&onload="+d;case"hcaptcha":return"https://js.hcaptcha.com/1/api.js?hl="+f+"&onload="+d;case"friendly_captcha":return"https://cdn.jsdelivr.net/npm/friendly-challenge@0.9.12/widget.min.js";case"arkose":return"https://"+y+".arkoselabs.com/v2/"+v+"/api.js";case"auth0_v2":return"https://challenges.cloudflare.com/turnstile/v0/api.js?render=explicit&onload="+d;default:throw new Error("Unknown captcha provider")}}(t.provider,t.lang,o,t.clientSubdomain,t.siteKey);if(t.provider==="arkose"||t.provider==="auth0_v2"){var p=0;a["data-callback"]=o,a.onerror=function(){if(p<3)return cn(c),un(c,a),void p++;cn(c),n("BYPASS_CAPTCHA")},window[o]=function(l){window.arkose=l,r(l)}}else window[o]=function(){delete window[o],r()},t.provider==="friendly_captcha"&&(a.onload=window[o]);un(c,a)}function pn(e,t,r){var n,o=e.hasAttribute("data-wid")&&e.getAttribute("data-wid");function a(p){e.querySelector('input[name="captcha"]').value=p||""}if(r.provider==="friendly_captcha"&&window.auth0FCInstance)return a(),void window.auth0FCInstance.reset();if(r.provider==="arkose"&&ke(r.provider))return a(),void ke(r.provider).reset();if(o)return a(),void ke(r.provider).reset(o);switch(e.innerHTML=t.templates[r.provider](r),r.provider){case"recaptcha_enterprise":case"recaptcha_v2":n=".recaptcha";break;case"hcaptcha":n=".hcaptcha";break;case"friendly_captcha":n=".friendly-captcha";break;case"arkose":n=".arkose";break;case"auth0_v2":n=".auth0_v2"}var c=e.querySelector(n);oo(0,{lang:t.lang,provider:r.provider,clientSubdomain:r.clientSubdomain,siteKey:r.siteKey},function(p){var l=ke(r.provider);if(r.provider==="arkose"){var f=0;p.setConfig({onCompleted:function(y){a(y.token),pr()},onError:function(){f<3?(a(),p.reset(),setTimeout(function(){p.run()},500),f++):a("BYPASS_CAPTCHA")}})}else if(r.provider==="friendly_captcha")window.auth0FCInstance=new l.WidgetInstance(c,{sitekey:r.siteKey,language:t.lang,doneCallback:function(y){a(y)},errorCallback:function(){a()}});else{var d={callback:a,"expired-callback":function(){a()},"error-callback":function(){a()},sitekey:r.siteKey};r.provider==="auth0_v2"&&(f=0,d.language=t.lang,d.theme="light",d.retry="never",d["response-field"]=!1,d["error-callback"]=function(){return f<3?(a(),ke(r.provider).reset(o),f++):a("BYPASS_CAPTCHA"),!0}),o=l.render(c,d),e.setAttribute("data-wid",o)}},a)}var ln={render:function(e,t,r,n){function o(a){a=a||cr,e.getChallenge(function(c,p){return c?(t.innerHTML=r.templates.error(c),a(c)):p.required?(t.style.display="",p.provider==="auth0"?an(t,r,p,o):p.provider!=="recaptcha_v2"&&p.provider!=="recaptcha_enterprise"&&p.provider!=="hcaptcha"&&p.provider!=="friendly_captcha"&&p.provider!=="arkose"&&p.provider!=="auth0_v2"||pn(t,r,p),void(p.provider==="arkose"?a(null,{triggerCaptcha:function(l){ke(p.provider).run(),pr=l}}):a())):(t.style.display="none",void(t.innerHTML=""))})}return r=q.merge(sn).with(r||{}),o(n),{reload:o,getValue:function(){var a=t.querySelector('input[name="captcha"]');if(a)return a.value}}},renderPasswordless:function(e,t,r,n){function o(a){a=a||cr,e.passwordless.getChallenge(function(c,p){return c?(t.innerHTML=r.templates.error(c),a(c)):p.required?(t.style.display="",p.provider==="auth0"?an(t,r,p,o):p.provider!=="recaptcha_v2"&&p.provider!=="recaptcha_enterprise"&&p.provider!=="hcaptcha"&&p.provider!=="friendly_captcha"&&p.provider!=="arkose"&&p.provider!=="auth0_v2"||pn(t,r,p),void(p.provider==="arkose"?a(null,{triggerCaptcha:function(l){ke(p.provider).run(),pr=l}}):a())):(t.style.display="none",void(t.innerHTML=""))})}return r=q.merge(sn).with(r||{}),o(n),{reload:o,getValue:function(){var a=t.querySelector('input[name="captcha"]');if(a)return a.value}}}};function so(){return new Date}function X(e){H.check(e,{type:"object",message:"options parameter is not valid"},{domain:{type:"string",message:"domain option is required"},clientID:{type:"string",message:"clientID option is required"},responseType:{optional:!0,type:"string",message:"responseType is not valid"},responseMode:{optional:!0,type:"string",message:"responseMode is not valid"},redirectUri:{optional:!0,type:"string",message:"redirectUri is not valid"},scope:{optional:!0,type:"string",message:"scope is not valid"},audience:{optional:!0,type:"string",message:"audience is not valid"},popupOrigin:{optional:!0,type:"string",message:"popupOrigin is not valid"},leeway:{optional:!0,type:"number",message:"leeway is not valid"},plugins:{optional:!0,type:"array",message:"plugins is not valid"},maxAge:{optional:!0,type:"number",message:"maxAge is not valid"},stateExpiration:{optional:!0,type:"number",message:"stateExpiration is not valid"},legacySameSiteCookie:{optional:!0,type:"boolean",message:"legacySameSiteCookie option is not valid"},_disableDeprecationWarnings:{optional:!0,type:"boolean",message:"_disableDeprecationWarnings option is not valid"},_sendTelemetry:{optional:!0,type:"boolean",message:"_sendTelemetry option is not valid"},_telemetryInfo:{optional:!0,type:"object",message:"_telemetryInfo option is not valid"},_timesToRetryFailedRequests:{optional:!0,type:"number",message:"_timesToRetryFailedRequests option is not valid"}}),e.overrides&&H.check(e.overrides,{type:"object",message:"overrides option is not valid"},{__tenant:{optional:!0,type:"string",message:"__tenant option is required"},__token_issuer:{optional:!0,type:"string",message:"__token_issuer option is required"},__jwks_uri:{optional:!0,type:"string",message:"__jwks_uri is required"}}),this.baseOptions=e,this.baseOptions.plugins=new kn(this,this.baseOptions.plugins||[]),this.baseOptions._sendTelemetry=this.baseOptions._sendTelemetry!==!1||this.baseOptions._sendTelemetry,this.baseOptions._timesToRetryFailedRequests=e._timesToRetryFailedRequests?parseInt(e._timesToRetryFailedRequests):0,this.baseOptions.tenant=this.baseOptions.overrides&&this.baseOptions.overrides.__tenant||this.baseOptions.domain.split(".")[0],this.baseOptions.token_issuer=this.baseOptions.overrides&&this.baseOptions.overrides.__token_issuer||"https://"+this.baseOptions.domain+"/",this.baseOptions.jwksURI=this.baseOptions.overrides&&this.baseOptions.overrides.__jwks_uri,e.legacySameSiteCookie!==!1&&(this.baseOptions.legacySameSiteCookie=!0),this.transactionManager=new Pe(this.baseOptions),this.client=new oe(this.baseOptions),this.redirect=new ur(this,this.baseOptions),this.popup=new ge(this,this.baseOptions),this.crossOriginAuthentication=new mt(this,this.baseOptions),this.webMessageHandler=new mr(this),this._universalLogin=new xt(this,this.baseOptions),this.ssodataStorage=new Ut(this.baseOptions)}function ht(e,t){this.baseOptions=t,this.request=e}function lr(e,t){this.baseOptions=t,this.request=e}function oe(e,t){arguments.length===2?this.auth0=e:t=e,H.check(t,{type:"object",message:"options parameter is not valid"},{domain:{type:"string",message:"domain option is required"},clientID:{type:"string",message:"clientID option is required"},responseType:{optional:!0,type:"string",message:"responseType is not valid"},responseMode:{optional:!0,type:"string",message:"responseMode is not valid"},redirectUri:{optional:!0,type:"string",message:"redirectUri is not valid"},scope:{optional:!0,type:"string",message:"scope is not valid"},audience:{optional:!0,type:"string",message:"audience is not valid"},_disableDeprecationWarnings:{optional:!0,type:"boolean",message:"_disableDeprecationWarnings option is not valid"},_sendTelemetry:{optional:!0,type:"boolean",message:"_sendTelemetry option is not valid"},_telemetryInfo:{optional:!0,type:"object",message:"_telemetryInfo option is not valid"}}),this.baseOptions=t,this.baseOptions._sendTelemetry=this.baseOptions._sendTelemetry!==!1||this.baseOptions._sendTelemetry,this.baseOptions.rootUrl=this.baseOptions.domain&&this.baseOptions.domain.toLowerCase().indexOf("http")===0?this.baseOptions.domain:"https://"+this.baseOptions.domain,this.request=new me(this.baseOptions),this.passwordless=new ht(this.request,this.baseOptions),this.dbConnection=new lr(this.request,this.baseOptions),this.warn=new Le({disableWarnings:!!t._disableDeprecationWarnings}),this.ssodataStorage=new Ut(this.baseOptions)}function ft(e){H.check(e,{type:"object",message:"options parameter is not valid"},{domain:{type:"string",message:"domain option is required"},token:{type:"string",message:"token option is required"},_sendTelemetry:{optional:!0,type:"boolean",message:"_sendTelemetry option is not valid"},_telemetryInfo:{optional:!0,type:"object",message:"_telemetryInfo option is not valid"}}),this.baseOptions=e,this.baseOptions.headers={Authorization:"Bearer "+this.baseOptions.token},this.request=new me(this.baseOptions),this.baseOptions.rootUrl=J("https://"+this.baseOptions.domain,"api","v2")}X.prototype.parseHash=function(e,t){var r,n;t||typeof e!="function"?e=e||{}:(t=e,e={});var o=e.hash===void 0?$.getWindow().location.hash:e.hash;if(o=o.replace(/^#?\/?/,""),(r=Se.parse(o)).hasOwnProperty("error"))return n=he.buildResponse(r.error,r.error_description),r.state&&(n.state=r.state),t(n);if(!r.hasOwnProperty("access_token")&&!r.hasOwnProperty("id_token")&&!r.hasOwnProperty("refresh_token"))return t(null,null);var a=(this.baseOptions.responseType||e.responseType||"").split(" ");return a.length>0&&a.indexOf("token")!==-1&&!r.hasOwnProperty("access_token")?t(he.buildResponse("invalid_hash","response_type contains `token`, but the parsed hash does not contain an `access_token` property")):a.length>0&&a.indexOf("id_token")!==-1&&!r.hasOwnProperty("id_token")?t(he.buildResponse("invalid_hash","response_type contains `id_token`, but the parsed hash does not contain an `id_token` property")):this.validateAuthenticationResponse(e,r,t)},X.prototype.validateAuthenticationResponse=function(e,t,r){var n=this;e.__enableIdPInitiatedLogin=e.__enableIdPInitiatedLogin||e.__enableImpersonation;var o=t.state,a=this.transactionManager.getStoredTransaction(o),c=e.state||a&&a.state||null,p=c===o;if(!(!o&&!c&&e.__enableIdPInitiatedLogin)&&!p)return r({error:"invalid_token",errorDescription:"`state` does not match."});var l=e.nonce||a&&a.nonce||null,f=a&&a.organization,d=e.state||a&&a.appState||null,y=function(v,A){if(v)return r(v);var b;return a&&a.lastUsedConnection&&(A&&(b=A.sub),n.ssodataStorage.set(a.lastUsedConnection,b)),r(null,function(S,D,C){return{accessToken:S.access_token||null,idToken:S.id_token||null,idTokenPayload:C||null,appState:D||null,refreshToken:S.refresh_token||null,state:S.state||null,expiresIn:S.expires_in?parseInt(S.expires_in,10):null,tokenType:S.token_type||null,scope:S.scope||null}}(t,d,A))};return t.id_token?this.validateToken(t.id_token,l,function(v,A){if(!v){if(f)if(f.indexOf("org_")===0){if(!A.org_id)return y(he.invalidToken("Organization Id (org_id) claim must be a string present in the ID token"));if(A.org_id!==f)return y(he.invalidToken('Organization Id (org_id) claim value mismatch in the ID token; expected "'+f+'", found "'+A.org_id+'"'))}else{if(!A.org_name)return y(he.invalidToken("Organization Name (org_name) claim must be a string present in the ID token"));if(A.org_name!==f.toLowerCase())return y(he.invalidToken('Organization Name (org_name) claim value mismatch in the ID token; expected "'+f+'", found "'+A.org_name+'"'))}return t.access_token&&A.at_hash?new xe().validateAccessToken(t.access_token,"RS256",A.at_hash,function(S){return S?y(he.invalidToken(S.message)):y(null,A)}):y(null,A)}if(v.error!=="invalid_token"||v.errorDescription&&v.errorDescription.indexOf("Nonce (nonce) claim value mismatch in the ID token")>-1)return y(v);var b=new xe().decode(t.id_token);return b.header.alg!=="HS256"?y(v):(b.payload.nonce||null)!==l?y({error:"invalid_token",errorDescription:'Nonce (nonce) claim value mismatch in the ID token; expected "'+l+'", found "'+b.payload.nonce+'"'}):t.access_token?n.client.userInfo(t.access_token,function(S,D){return S?y(S):y(null,D)}):y({error:"invalid_token",description:"The id_token cannot be validated because it was signed with the HS256 algorithm and public clients (like a browser) cant store secrets. Please read the associated doc for possible ways to fix this. Read more: https://auth0.com/docs/errors/libraries/auth0-js/invalid-token#parsing-an-hs256-signed-id-token-without-an-access-token"})}):y(null,null)},X.prototype.validateToken=function(e,t,r){new xe({issuer:this.baseOptions.token_issuer,jwksURI:this.baseOptions.jwksURI,audience:this.baseOptions.clientID,leeway:this.baseOptions.leeway||60,maxAge:this.baseOptions.maxAge,__clock:this.baseOptions.__clock||so}).verify(e,t,function(n,o){if(n)return r(he.invalidToken(n.message));r(null,o)})},X.prototype.renewAuth=function(e,t){var r=!!e.usePostMessage,n=e.postMessageDataType||!1,o=e.postMessageOrigin||$.getWindow().origin,a=e.timeout,c=this,p=q.merge(this.baseOptions,["clientID","redirectUri","responseType","scope","audience","_csrf","state","_intstate","nonce"]).with(e);p.responseType=p.responseType||"token",p.responseMode=p.responseMode||"fragment",p=this.transactionManager.process(p),H.check(p,{type:"object",message:"options parameter is not valid"}),H.check(t,{type:"function",message:"cb parameter is not valid"}),p.prompt="none",p=q.blacklist(p,["usePostMessage","tenant","postMessageDataType","postMessageOrigin"]),Qe.create({authenticationUrl:this.client.buildAuthorizeUrl(p),postMessageDataType:n,postMessageOrigin:o,timeout:a}).login(r,function(l,f){if(typeof f=="object")return t(l,f);c.parseHash({hash:f},t)})},X.prototype.checkSession=function(e,t){var r=q.merge(this.baseOptions,["clientID","responseType","redirectUri","scope","audience","_csrf","state","_intstate","nonce"]).with(e);return r.responseType==="code"?t({error:"error",error_description:"responseType can't be `code`"}):(e.nonce||(r=this.transactionManager.process(r)),r.redirectUri?(H.check(r,{type:"object",message:"options parameter is not valid"}),H.check(t,{type:"function",message:"cb parameter is not valid"}),r=q.blacklist(r,["usePostMessage","tenant","postMessageDataType"]),void this.webMessageHandler.run(r,G(t,{forceLegacyError:!0,ignoreCasing:!0}))):t({error:"error",error_description:"redirectUri can't be empty"}))},X.prototype.changePassword=function(e,t){return this.client.dbConnection.changePassword(e,t)},X.prototype.passwordlessStart=function(e,t){var r=q.merge(this.baseOptions,["responseType","responseMode","redirectUri","scope","audience","_csrf","state","_intstate","nonce"]).with(e.authParams);return e.authParams=this.transactionManager.process(r),this.client.passwordless.start(e,t)},X.prototype.signup=function(e,t){return this.client.dbConnection.signup(e,t)},X.prototype.authorize=function(e){var t=q.merge(this.baseOptions,["clientID","responseType","responseMode","redirectUri","scope","audience","_csrf","state","_intstate","nonce","organization","invitation"]).with(e);H.check(t,{type:"object",message:"options parameter is not valid"},{responseType:{type:"string",message:"responseType option is required"}}),(t=this.transactionManager.process(t)).scope=t.scope||"openid profile email",$.redirect(this.client.buildAuthorizeUrl(t))},X.prototype.signupAndAuthorize=function(e,t){var r=this;return this.client.dbConnection.signup(q.blacklist(e,["popupHandler"]),function(n){if(n)return t(n);e.realm=e.connection,e.username||(e.username=e.email),r.client.login(e,t)})},X.prototype.login=function(e,t){var r=q.merge(this.baseOptions,["clientID","responseType","redirectUri","scope","audience","_csrf","state","_intstate","nonce","onRedirecting","organization","invitation"]).with(e);r=this.transactionManager.process(r),$.getWindow().location.host===this.baseOptions.domain?(r.connection=r.realm,delete r.realm,this._universalLogin.login(r,t)):this.crossOriginAuthentication.login(r,t)},X.prototype.passwordlessLogin=function(e,t){var r=q.merge(this.baseOptions,["clientID","responseType","redirectUri","scope","audience","_csrf","state","_intstate","nonce","onRedirecting"]).with(e);if(r=this.transactionManager.process(r),$.getWindow().location.host===this.baseOptions.domain)this.passwordlessVerify(r,t);else{var n=q.extend({credentialType:"http://auth0.com/oauth/grant-type/passwordless/otp",realm:r.connection,username:r.email||r.phoneNumber,otp:r.verificationCode},q.blacklist(r,["connection","email","phoneNumber","verificationCode"]));this.crossOriginAuthentication.login(n,t)}},X.prototype.crossOriginAuthenticationCallback=function(){this.crossOriginVerification()},X.prototype.crossOriginVerification=function(){this.crossOriginAuthentication.callback()},X.prototype.logout=function(e){$.redirect(this.client.buildLogoutUrl(e))},X.prototype.passwordlessVerify=function(e,t){var r=this,n=q.merge(this.baseOptions,["clientID","responseType","responseMode","redirectUri","scope","audience","_csrf","state","_intstate","nonce","onRedirecting"]).with(e);return H.check(n,{type:"object",message:"options parameter is not valid"},{responseType:{type:"string",message:"responseType option is required"}}),n=this.transactionManager.process(n),this.client.passwordless.verify(n,function(o){if(o)return t(o);function a(){$.redirect(r.client.passwordless.buildVerifyUrl(n))}if(typeof e.onRedirecting=="function")return e.onRedirecting(function(){a()});a()})},X.prototype.renderCaptcha=function(e,t,r){return ln.render(this.client,e,t,r)},X.prototype.renderPasswordlessCaptcha=function(e,t,r){return ln.renderPasswordless(this.client,e,t,r)},ht.prototype.buildVerifyUrl=function(e){var t,r;return H.check(e,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},verificationCode:{type:"string",message:"verificationCode option is required"},phoneNumber:{optional:!1,type:"string",message:"phoneNumber option is required",condition:function(n){return!n.email}},email:{optional:!1,type:"string",message:"email option is required",condition:function(n){return!n.phoneNumber}}}),t=q.merge(this.baseOptions,["clientID","responseType","responseMode","redirectUri","scope","audience","_csrf","state","_intstate","protocol","nonce"]).with(e),this.baseOptions._sendTelemetry&&(t.auth0Client=this.request.getTelemetryData()),t=q.toSnakeCase(t,["auth0Client"]),r=Se.stringify(t),J(this.baseOptions.rootUrl,"passwordless","verify_redirect","?"+r)},ht.prototype.start=function(e,t){var r,n;H.check(e,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},send:{type:"string",message:"send option is required",values:["link","code"],value_message:"send is not valid ([link, code])"},phoneNumber:{optional:!0,type:"string",message:"phoneNumber option is required",condition:function(c){return c.send==="code"||!c.email}},email:{optional:!0,type:"string",message:"email option is required",condition:function(c){return c.send==="link"||!c.phoneNumber}},authParams:{optional:!0,type:"object",message:"authParams option is required"}}),H.check(t,{type:"function",message:"cb parameter is not valid"}),r=J(this.baseOptions.rootUrl,"passwordless","start");var o=e.xRequestLanguage;delete e.xRequestLanguage,(n=q.merge(this.baseOptions,["clientID","responseType","redirectUri","scope"]).with(e)).scope&&(n.authParams=n.authParams||{},n.authParams.scope=n.authParams.scope||n.scope),n.redirectUri&&(n.authParams=n.authParams||{},n.authParams.redirect_uri=n.authParams.redirectUri||n.redirectUri),n.responseType&&(n.authParams=n.authParams||{},n.authParams.response_type=n.authParams.responseType||n.responseType),delete n.redirectUri,delete n.responseType,delete n.scope,n=q.toSnakeCase(n,["auth0Client","authParams"]);var a=o?{xRequestLanguage:o}:void 0;return this.request.post(r,a).send(n).end(G(t))},ht.prototype.verify=function(e,t){var r,n;return H.check(e,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},verificationCode:{type:"string",message:"verificationCode option is required"},phoneNumber:{optional:!1,type:"string",message:"phoneNumber option is required",condition:function(o){return!o.email}},email:{optional:!1,type:"string",message:"email option is required",condition:function(o){return!o.phoneNumber}}}),H.check(t,{type:"function",message:"cb parameter is not valid"}),n=q.pick(e,["connection","verificationCode","phoneNumber","email","auth0Client","clientID"]),n=q.toSnakeCase(n,["auth0Client"]),r=J(this.baseOptions.rootUrl,"passwordless","verify"),this.request.post(r).send(n).end(G(t))},ht.prototype.getChallenge=function(e){if(H.check(e,{type:"function",message:"cb parameter is not valid"}),!this.baseOptions.state)return e();var t=J(this.baseOptions.rootUrl,"passwordless","challenge");return this.request.post(t).send({state:this.baseOptions.state}).end(G(e,{ignoreCasing:!0}))},lr.prototype.signup=function(e,t){var r,n,o;return H.check(e,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},email:{type:"string",message:"email option is required"},password:{type:"string",message:"password option is required"}}),H.check(t,{type:"function",message:"cb parameter is not valid"}),r=J(this.baseOptions.rootUrl,"dbconnections","signup"),o=(n=q.merge(this.baseOptions,["clientID","state"]).with(e)).user_metadata||n.userMetadata,n=q.blacklist(n,["scope","userMetadata","user_metadata"]),n=q.toSnakeCase(n,["auth0Client"]),o&&(n.user_metadata=o),this.request.post(r).send(n).end(G(t))},lr.prototype.changePassword=function(e,t){var r,n;return H.check(e,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},email:{type:"string",message:"email option is required"}}),H.check(t,{type:"function",message:"cb parameter is not valid"}),r=J(this.baseOptions.rootUrl,"dbconnections","change_password"),n=q.merge(this.baseOptions,["clientID"]).with(e,["email","connection"]),n=q.toSnakeCase(n,["auth0Client"]),this.request.post(r).send(n).end(G(t))},oe.prototype.buildAuthorizeUrl=function(e){var t,r;return H.check(e,{type:"object",message:"options parameter is not valid"}),t=q.merge(this.baseOptions,["clientID","responseType","responseMode","redirectUri","scope","audience"]).with(e),H.check(t,{type:"object",message:"options parameter is not valid"},{clientID:{type:"string",message:"clientID option is required"},redirectUri:{optional:!0,type:"string",message:"redirectUri option is required"},responseType:{type:"string",message:"responseType option is required"},nonce:{type:"string",message:"nonce option is required",condition:function(n){return n.responseType.indexOf("code")===-1&&n.responseType.indexOf("id_token")!==-1}},scope:{optional:!0,type:"string",message:"scope option is required"},audience:{optional:!0,type:"string",message:"audience option is required"}}),this.baseOptions._sendTelemetry&&(t.auth0Client=this.request.getTelemetryData()),t.connection_scope&&H.isArray(t.connection_scope)&&(t.connection_scope=t.connection_scope.join(",")),t=q.blacklist(t,["username","popupOptions","domain","tenant","timeout","appState"]),t=q.toSnakeCase(t,["auth0Client"]),t=Qr.oauthAuthorizeParams(this.warn,t),r=Se.stringify(t),J(this.baseOptions.rootUrl,"authorize","?"+r)},oe.prototype.buildLogoutUrl=function(e){var t,r;return H.check(e,{optional:!0,type:"object",message:"options parameter is not valid"}),t=q.merge(this.baseOptions,["clientID"]).with(e||{}),this.baseOptions._sendTelemetry&&(t.auth0Client=this.request.getTelemetryData()),t=q.toSnakeCase(t,["auth0Client","returnTo"]),r=Se.stringify(q.blacklist(t,["federated"])),e&&e.federated!==void 0&&e.federated!==!1&&e.federated!=="false"&&(r+="&federated"),J(this.baseOptions.rootUrl,"v2","logout","?"+r)},oe.prototype.loginWithDefaultDirectory=function(e,t){return H.check(e,{type:"object",message:"options parameter is not valid"},{username:{type:"string",message:"username option is required"},password:{type:"string",message:"password option is required"},scope:{optional:!0,type:"string",message:"scope option is required"},audience:{optional:!0,type:"string",message:"audience option is required"}}),e.grantType="password",this.oauthToken(e,t)},oe.prototype.login=function(e,t){return H.check(e,{type:"object",message:"options parameter is not valid"},{username:{type:"string",message:"username option is required"},password:{type:"string",message:"password option is required"},realm:{type:"string",message:"realm option is required"},scope:{optional:!0,type:"string",message:"scope option is required"},audience:{optional:!0,type:"string",message:"audience option is required"}}),e.grantType="http://auth0.com/oauth/grant-type/password-realm",this.oauthToken(e,t)},oe.prototype.oauthToken=function(e,t){var r,n;return H.check(e,{type:"object",message:"options parameter is not valid"}),H.check(t,{type:"function",message:"cb parameter is not valid"}),r=J(this.baseOptions.rootUrl,"oauth","token"),n=q.merge(this.baseOptions,["clientID","scope","audience"]).with(e),H.check(n,{type:"object",message:"options parameter is not valid"},{clientID:{type:"string",message:"clientID option is required"},grantType:{type:"string",message:"grantType option is required"},scope:{optional:!0,type:"string",message:"scope option is required"},audience:{optional:!0,type:"string",message:"audience option is required"}}),n=q.toSnakeCase(n,["auth0Client"]),n=Qr.oauthTokenParams(this.warn,n),this.request.post(r).send(n).end(G(t))},oe.prototype.loginWithResourceOwner=function(e,t){var r,n;return H.check(e,{type:"object",message:"options parameter is not valid"},{username:{type:"string",message:"username option is required"},password:{type:"string",message:"password option is required"},connection:{type:"string",message:"connection option is required"},scope:{optional:!0,type:"string",message:"scope option is required"}}),H.check(t,{type:"function",message:"cb parameter is not valid"}),r=J(this.baseOptions.rootUrl,"oauth","ro"),n=q.merge(this.baseOptions,["clientID","scope"]).with(e,["username","password","scope","connection","device"]),(n=q.toSnakeCase(n,["auth0Client"])).grant_type=n.grant_type||"password",this.request.post(r).send(n).end(G(t))},oe.prototype.getSSOData=function(e,t){if(this.auth0||(this.auth0=new X(this.baseOptions)),$.getWindow().location.host===this.baseOptions.domain)return this.auth0._universalLogin.getSSOData(e,t);typeof e=="function"&&(t=e),H.check(t,{type:"function",message:"cb parameter is not valid"});var r=this.baseOptions.clientID,n=this.ssodataStorage.get()||{};this.auth0.checkSession({responseType:"token id_token",scope:"openid profile email",connection:n.lastUsedConnection,timeout:5e3},function(o,a){return o?o.error==="login_required"?t(null,{sso:!1}):(o.error==="consent_required"&&(o.error_description="Consent required. When using `getSSOData`, the user has to be authenticated with the following scope: `openid profile email`."),t(o,{sso:!1})):n.lastUsedSub&&n.lastUsedSub!==a.idTokenPayload.sub?t(o,{sso:!1}):t(null,{lastUsedConnection:{name:n.lastUsedConnection},lastUsedUserID:a.idTokenPayload.sub,lastUsedUsername:a.idTokenPayload.email||a.idTokenPayload.name,lastUsedClientID:r,sessionClients:[r],sso:!0})})},oe.prototype.userInfo=function(e,t){var r;return H.check(e,{type:"string",message:"accessToken parameter is not valid"}),H.check(t,{type:"function",message:"cb parameter is not valid"}),r=J(this.baseOptions.rootUrl,"userinfo"),this.request.get(r).set("Authorization","Bearer "+e).end(G(t,{ignoreCasing:!0}))},oe.prototype.getChallenge=function(e){if(H.check(e,{type:"function",message:"cb parameter is not valid"}),!this.baseOptions.state)return e();var t=J(this.baseOptions.rootUrl,"usernamepassword","challenge");return this.request.post(t).send({state:this.baseOptions.state}).end(G(e,{ignoreCasing:!0}))},oe.prototype.delegation=function(e,t){var r,n;return H.check(e,{type:"object",message:"options parameter is not valid"},{grant_type:{type:"string",message:"grant_type option is required"}}),H.check(t,{type:"function",message:"cb parameter is not valid"}),r=J(this.baseOptions.rootUrl,"delegation"),n=q.merge(this.baseOptions,["clientID"]).with(e),n=q.toSnakeCase(n,["auth0Client"]),this.request.post(r).send(n).end(G(t))},oe.prototype.getUserCountry=function(e){var t;return H.check(e,{type:"function",message:"cb parameter is not valid"}),t=J(this.baseOptions.rootUrl,"user","geoloc","country"),this.request.get(t).end(G(e))},ft.prototype.getUser=function(e,t){var r;return H.check(e,{type:"string",message:"userId parameter is not valid"}),H.check(t,{type:"function",message:"cb parameter is not valid"}),r=J(this.baseOptions.rootUrl,"users",e),this.request.get(r).end(G(t,{ignoreCasing:!0}))},ft.prototype.patchUserMetadata=function(e,t,r){var n;return H.check(e,{type:"string",message:"userId parameter is not valid"}),H.check(t,{type:"object",message:"userMetadata parameter is not valid"}),H.check(r,{type:"function",message:"cb parameter is not valid"}),n=J(this.baseOptions.rootUrl,"users",e),this.request.patch(n).send({user_metadata:t}).end(G(r,{ignoreCasing:!0}))},ft.prototype.patchUserAttributes=function(e,t,r){var n;return H.check(e,{type:"string",message:"userId parameter is not valid"}),H.check(t,{type:"object",message:"user parameter is not valid"}),H.check(r,{type:"function",message:"cb parameter is not valid"}),n=J(this.baseOptions.rootUrl,"users",e),this.request.patch(n).send(t).end(G(r,{ignoreCasing:!0}))},ft.prototype.linkUser=function(e,t,r){var n;return H.check(e,{type:"string",message:"userId parameter is not valid"}),H.check(t,{type:"string",message:"secondaryUserToken parameter is not valid"}),H.check(r,{type:"function",message:"cb parameter is not valid"}),n=J(this.baseOptions.rootUrl,"users",e,"identities"),this.request.post(n).send({link_with:t}).end(G(r,{ignoreCasing:!0}))};var ao={Authentication:oe,Management:ft,WebAuth:X,version:yt};class ho extends xn{constructor(r){super(r);Fe(this,"clientid");Fe(this,"connection");Fe(this,"authenticate",async r=>{if(!r||r.length===0)return!0;const n=this.getResponseMap(r);console.log("Token: ",n.get("access_token"));const o=n.get("#access_token");if(o){const a=this.getRedirectURI();try{const c=await Pn("psama/authentication/auth0",{access_token:o,redirectURI:a});return c!=null&&c.token?(await Rn(c.token),!1):!0}catch(c){return console.error("Login Error: ",c),!0}}return!0});Fe(this,"login",async(r,n)=>{const o=this.getRedirectURI();return this.saveState(r,n),new ao.WebAuth({domain:Un.auth0Tenant+".auth0.com",clientID:this.clientid||"",redirectUri:o,responseType:"token"}).authorize({responseType:"token",connection:this.connection})});Fe(this,"logout",async()=>{throw new Error("Method not implemented.")});this.clientid=r.clientid,this.connection=r.connection}}export{ho as default};
