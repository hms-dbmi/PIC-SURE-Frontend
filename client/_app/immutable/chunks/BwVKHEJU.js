import{A as v,ae as _,am as d,al as s}from"./KPVYLOSR.js";import{l as c}from"./NtGCh5xy.js";function o(e,r,u){if(e.multiple)return r==null?void 0:_(r)?b(e,r):d();for(var t of e.options){var n=i(t);if(s(n,r)){t.selected=!0;return}}(!u||r!==void 0)&&(e.selectedIndex=-1)}function m(e,r){v(()=>{var u=new MutationObserver(()=>{var t=e.__value;o(e,t)});return u.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{u.disconnect()}})}function q(e,r,u=r){var t=!0;c(e,"change",n=>{var a=n?"[selected]":":checked",l;if(e.multiple)l=[].map.call(e.querySelectorAll(a),i);else{var f=e.querySelector(a)??e.querySelector("option:not([disabled])");l=f&&i(f)}u(l)}),v(()=>{var n=r();if(o(e,n,t),t&&n===void 0){var a=e.querySelector(":checked");a!==null&&(n=i(a),u(n))}e.__value=n,t=!1}),m(e)}function b(e,r){for(var u of e.options)u.selected=r.includes(i(u))}function i(e){return"__value"in e?e.__value:e.value}export{q as b};
