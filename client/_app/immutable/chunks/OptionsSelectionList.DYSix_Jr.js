import{v as X}from"./v4.DvF23Exx.js";import{s as Te,e as E,a as H,c as S,b as A,g as I,f as g,l as Ce,m as c,i as U,h as p,U as ae,O as z,R as Ve,w as Ae,N as Ne,t as ie,d as ne,W as be,j as ke,Y as se}from"./scheduler.bui7uCNy.js";import{S as He,i as Ie,t as D,g as ce,a as W,b as ue,d as we,e as Oe,m as Ee,f as Se}from"./index.CNwEczq-.js";import{e as te,u as qe,d as De}from"./each.VHlBgARd.js";import"./ProgressBar.svelte_svelte_type_style_lang.BCRmI_eu.js";import{P as Le}from"./ProgressRadial.CbTPnjvT.js";var ze=(l=>(l.None="none",l.Genomic="genomic",l.SNP="snp",l))(ze||{}),Fe=(l=>(l.Heterozygous="0/1",l.Homozygous="1/1",l.HeterozygousOrHomozygous="1/1,0/1",l.Neither="0/0",l))(Fe||{});const Pe={"0/1":"Heterozygous","1/1":"Homozygous","1/1,0/1":"Heterozygous or Homozygous","0/1,1/1":"Heterozygous or Homozygous","0/0":"Excluded"};function Ke(l,e){return{uuid:X(),id:l.conceptPath,filterType:"Categorical",displayType:e&&(e==null?void 0:e.length)>0?"restrict":"anyRecordOf",searchResult:l,categoryValues:e||[],variableName:l.display,description:l.description,allowFiltering:l.allowFiltering,dataset:l.dataset}}function Qe(l){return{uuid:X(),id:l.conceptPath,filterType:"Categorical",displayType:"any",searchResult:l,variableName:l.display,description:l.description,categoryValues:[],allowFiltering:l.allowFiltering,dataset:l.dataset}}function Xe(l,e,t){return{uuid:X(),id:l.conceptPath,filterType:"numeric",displayType:e!==void 0&&t!==void 0?"between":e!==void 0?"greaterThan":t!==void 0?"lessThan":"any",searchResult:l,min:e!==void 0?e.toLocaleString():void 0,max:t!==void 0?t.toLocaleString():void 0,variableName:l.display,description:l.description,allowFiltering:l.allowFiltering,dataset:l.dataset}}function Ze(l){const e=(r,o)=>o&&o.length>0?`${r}: ${o.join(", ")}`:void 0,t=[e("Gene with variant",l.Gene_with_variant),e("Variant frequency",l.Variant_frequency_as_text),e("Consequence Group by severity",l.Variant_consequence_calculated)].filter(r=>r).join("; ");return{uuid:X(),id:"genomic",filterType:"genomic",displayType:"any",variableName:"Genomic Filter",description:t,Gene_with_variant:l.Gene_with_variant,Variant_consequence_calculated:l.Variant_consequence_calculated,Variant_frequency_as_text:l.Variant_frequency_as_text,allowFiltering:!0,dataset:""}}function Re(l){const e=l.map(n=>`${n.search}: ${n.constraint.split(",").map(r=>Pe[r]).join(", ")}`).join("; ");return{uuid:X(),id:"snp-variant",filterType:"snp",displayType:"any",snpValues:l,variableName:"Variant Filter",description:e,allowFiltering:!0,dataset:""}}function fe(l,e,t){const n=l.slice();return n[30]=e[t],n}function de(l,e,t){const n=l.slice();return n[30]=e[t],n}function he(l){let e,t,n,r,o;return{c(){e=E("button"),t=ie("Select All"),this.h()},l(u){e=S(u,"BUTTON",{id:!0,class:!0});var a=A(e);t=ne(a,"Select All"),a.forEach(g),this.h()},h(){c(e,"id","select-all"),c(e,"class","btn variant-ringed-surface hover:variant-filled-primary ml-2 text-sm"),e.disabled=n=l[0].length===0},m(u,a){U(u,e,a),p(e,t),r||(o=z(e,"click",l[16]),r=!0)},p(u,a){a[0]&1&&n!==(n=u[0].length===0)&&(e.disabled=n)},d(u){u&&g(e),r=!1,o()}}}function _e(l){let e,t,n,r,o=l[30]+"",u,a,s,_;function T(){return l[24](l[30])}return{c(){e=E("label"),t=E("input"),r=H(),u=ie(o),this.h()},l(m){e=S(m,"LABEL",{id:!0,class:!0,role:!0});var f=A(e);t=S(f,"INPUT",{type:!0,class:!0}),r=I(f),u=ne(f,o),f.forEach(g),this.h()},h(){c(t,"type","checkbox"),t.value=n=l[30],c(t,"class","mr-1 float-left"),c(e,"id",a="option-"+le(l[30])),c(e,"class","p-1 m-1 cursor-pointer hover:variant-soft-surface hover:rounded-md"),c(e,"role","listitem")},m(m,f){U(m,e,f),p(e,t),p(e,r),p(e,u),s||(_=z(t,"click",be(T)),s=!0)},p(m,f){l=m,f[0]&1&&n!==(n=l[30])&&(t.value=n),f[0]&1&&o!==(o=l[30]+"")&&ke(u,o),f[0]&1&&a!==(a="option-"+le(l[30]))&&c(e,"id",a)},d(m){m&&g(e),s=!1,_()}}}function pe(l){let e,t,n;return t=new Le({props:{width:"w-5",meter:"stroke-primary-500",track:"stroke-primary-500/30"}}),{c(){e=E("div"),we(t.$$.fragment),this.h()},l(r){e=S(r,"DIV",{class:!0});var o=A(e);Oe(t.$$.fragment,o),o.forEach(g),this.h()},h(){c(e,"class","flex justify-center")},m(r,o){U(r,e,o),Ee(t,e,null),n=!0},i(r){n||(D(t.$$.fragment,r),n=!0)},o(r){W(t.$$.fragment,r),n=!1},d(r){r&&g(e),Se(t)}}}function me(l){let e,t,n,r,o;return{c(){e=E("button"),t=ie("Clear"),this.h()},l(u){e=S(u,"BUTTON",{id:!0,class:!0});var a=A(e);t=ne(a,"Clear"),a.forEach(g),this.h()},h(){c(e,"id","clear"),c(e,"class","btn variant-ringed-surface hover:variant-filled-primary ml-2 text-sm"),e.disabled=n=l[1].length===0},m(u,a){U(u,e,a),p(e,t),r||(o=z(e,"click",l[15]),r=!0)},p(u,a){a[0]&2&&n!==(n=u[1].length===0)&&(e.disabled=n)},d(u){u&&g(e),r=!1,o()}}}function ge(l,e){let t,n,r,o,u=e[30]+"",a,s,_,T;function m(){return e[26](e[30])}return{key:l,first:null,c(){t=E("label"),n=E("input"),o=H(),a=ie(u),this.h()},l(f){t=S(f,"LABEL",{id:!0,class:!0,role:!0});var v=A(t);n=S(v,"INPUT",{type:!0,class:!0}),o=I(v),a=ne(v,u),v.forEach(g),this.h()},h(){c(n,"type","checkbox"),c(n,"class","mr-1"),n.value=r=e[30],n.checked=!0,c(t,"id",s="option-"+le(e[30])),c(t,"class","p-1 m-1 hover:variant-soft-surface hover:rounded-md cursor-pointer"),c(t,"role","listitem"),this.first=t},m(f,v){U(f,t,v),p(t,n),p(t,o),p(t,a),_||(T=z(n,"click",be(m)),_=!0)},p(f,v){e=f,v[0]&32&&r!==(r=e[30])&&(n.value=r),v[0]&32&&u!==(u=e[30]+"")&&ke(a,u),v[0]&32&&s!==(s="option-"+le(e[30]))&&c(t,"id",s)},d(f){f&&g(t),_=!1,T()}}}function ve(l){let e,t,n;return t=new Le({props:{width:"w-5",meter:"stroke-primary-500",track:"stroke-primary-500/30"}}),{c(){e=E("div"),we(t.$$.fragment),this.h()},l(r){e=S(r,"DIV",{class:!0});var o=A(e);Oe(t.$$.fragment,o),o.forEach(g),this.h()},h(){c(e,"class","flex justify-center")},m(r,o){U(r,e,o),Ee(t,e,null),n=!0},i(r){n||(D(t.$$.fragment,r),n=!0)},o(r){W(t.$$.fragment,r),n=!1},d(r){r&&g(e),Se(t)}}}function je(l){let e,t,n,r,o,u,a,s,_,T,m,f,v,G="Selected:",V,F,N,k,C=[],Y=new Map,B,M,K,Q,w=l[4]&&he(l),q=te(l[0]),O=[];for(let i=0;i<q.length;i+=1)O[i]=_e(de(l,q,i));let y=l[2]&&pe(),L=l[3]&&me(l),J=te(l[5]);const Z=i=>i[30];for(let i=0;i<J.length;i+=1){let h=fe(l,J,i),d=Z(h);Y.set(d,C[i]=ge(d,h))}let b=l[7]&&ve();return{c(){e=E("div"),t=E("div"),n=E("header"),r=E("input"),o=H(),w&&w.c(),u=H(),a=E("section"),s=E("div");for(let i=0;i<O.length;i+=1)O[i].c();_=H(),y&&y.c(),T=H(),m=E("div"),f=E("header"),v=E("div"),v.textContent=G,V=H(),L&&L.c(),F=H(),N=E("section"),k=E("div");for(let i=0;i<C.length;i+=1)C[i].c();B=H(),b&&b.c(),this.h()},l(i){e=S(i,"DIV",{"data-testid":!0,class:!0});var h=A(e);t=S(h,"DIV",{class:!0});var d=A(t);n=S(d,"HEADER",{class:!0});var P=A(n);r=S(P,"INPUT",{class:!0,type:!0,name:!0,placeholder:!0}),o=I(P),w&&w.l(P),P.forEach(g),u=I(d),a=S(d,"SECTION",{class:!0});var re=A(a);s=S(re,"DIV",{id:!0,class:!0});var R=A(s);for(let j=0;j<O.length;j+=1)O[j].l(R);_=I(R),y&&y.l(R),R.forEach(g),re.forEach(g),d.forEach(g),T=I(h),m=S(h,"DIV",{class:!0});var x=A(m);f=S(x,"HEADER",{class:!0});var $=A(f);v=S($,"DIV",{class:!0,"data-svelte-h":!0}),Ce(v)!=="svelte-1eal34y"&&(v.textContent=G),V=I($),L&&L.l($),$.forEach(g),F=I(x),N=S(x,"SECTION",{class:!0});var oe=A(N);k=S(oe,"DIV",{id:!0,class:!0});var ee=A(k);for(let j=0;j<C.length;j+=1)C[j].l(ee);B=I(ee),b&&b.l(ee),ee.forEach(g),oe.forEach(g),x.forEach(g),h.forEach(g),this.h()},h(){c(r,"class","input text-sm"),c(r,"type","search"),c(r,"name","search"),c(r,"placeholder","Search..."),c(n,"class","flex pb-1"),c(s,"id","options-container"),c(s,"class","overflow-scroll scrollbar-color h-25vh svelte-c314iq"),c(a,"class","card-body"),c(t,"class","flex flex-1 flex-col h-full p-3 m-1 card"),c(v,"class","py-2"),c(f,"class","flex justify-between pb-1"),c(k,"id","selected-options-container"),c(k,"class","overflow-scroll scrollbar-color h-25vh svelte-c314iq"),c(N,"class","card-body"),c(m,"class","flex flex-1 flex-col h-full p-3 m-1 card"),c(e,"data-testid","optional-selection-list"),c(e,"class","flex w-full")},m(i,h){U(i,e,h),p(e,t),p(t,n),p(n,r),ae(r,l[6]),p(n,o),w&&w.m(n,null),p(t,u),p(t,a),p(a,s);for(let d=0;d<O.length;d+=1)O[d]&&O[d].m(s,null);p(s,_),y&&y.m(s,null),l[25](s),p(e,T),p(e,m),p(m,f),p(f,v),p(f,V),L&&L.m(f,null),p(m,F),p(m,N),p(N,k);for(let d=0;d<C.length;d+=1)C[d]&&C[d].m(k,null);p(k,B),b&&b.m(k,null),l[27](k),M=!0,K||(Q=[z(r,"input",l[23]),z(r,"input",l[12]),z(s,"scroll",l[10]),z(k,"scroll",l[11])],K=!0)},p(i,h){if(h[0]&64&&r.value!==i[6]&&ae(r,i[6]),i[4]?w?w.p(i,h):(w=he(i),w.c(),w.m(n,null)):w&&(w.d(1),w=null),h[0]&8193){q=te(i[0]);let d;for(d=0;d<q.length;d+=1){const P=de(i,q,d);O[d]?O[d].p(P,h):(O[d]=_e(P),O[d].c(),O[d].m(s,_))}for(;d<O.length;d+=1)O[d].d(1);O.length=q.length}i[2]?y?h[0]&4&&D(y,1):(y=pe(),y.c(),D(y,1),y.m(s,null)):y&&(ce(),W(y,1,1,()=>{y=null}),ue()),i[3]?L?L.p(i,h):(L=me(i),L.c(),L.m(f,null)):L&&(L.d(1),L=null),h[0]&16416&&(J=te(i[5]),C=qe(C,h,Z,1,i,J,Y,k,De,ge,B,fe)),i[7]?b?h[0]&128&&D(b,1):(b=ve(),b.c(),D(b,1),b.m(k,null)):b&&(ce(),W(b,1,1,()=>{b=null}),ue())},i(i){M||(D(y),D(b),M=!0)},o(i){W(y),W(b),M=!1},d(i){i&&g(e),w&&w.d(),Ve(O,i),y&&y.d(),l[25](null),L&&L.d();for(let h=0;h<C.length;h+=1)C[h].d();b&&b.d(),l[27](null),K=!1,Ae(Q)}}}function ye(l,e){const t=l.scrollTop,n=l.clientHeight,r=l.scrollHeight;return!e&&r-(t+n)<=30}function le(l){return l.replaceAll(" ","-").toLowerCase()}function Ue(l,e,t){let n,r,o,u,a="",{unselectedOptions:s=[]}=e,{selectedOptions:_=[]}=e,{selectedOptionEndLocation:T=20}=e,{currentlyLoading:m=!1}=e,{showClearAll:f=!0}=e,{showSelectAll:v=!0}=e,{allOptionsLoaded:G=!1}=e,{allOptions:V=void 0}=e,F=!1,N,k,C=!1;const Y=Ne();function B(){N&&!m&&ye(N,o)&&Y("scroll",{search:a})}function M(){k&&(t(7,F=!0),ye(k,C)&&t(17,T=T+20),t(7,F=!1))}function K(){Y("scroll",{search:a}),t(8,N.scrollTop=0,N)}function Q(i){t(0,s=s.filter(h=>h!==i)),t(1,_=[..._,i].sort())}function w(i){t(1,_=_.filter(h=>h!==i)),t(0,s=[i,...s])}function q(){t(0,s=[...s,..._].sort()),t(1,_=[]),t(17,T=20)}function O(){V&&(V==null?void 0:V.length)!==0?(t(1,_=V),t(0,s=[]),t(17,T=20)):(t(1,_=[..._,...s]),t(0,s=[]),t(17,T=20))}function y(){a=this.value,t(6,a)}const L=i=>Q(i);function J(i){se[i?"unshift":"push"](()=>{N=i,t(8,N)})}const Z=i=>w(i);function b(i){se[i?"unshift":"push"](()=>{k=i,t(9,k)})}return l.$$set=i=>{"unselectedOptions"in i&&t(0,s=i.unselectedOptions),"selectedOptions"in i&&t(1,_=i.selectedOptions),"selectedOptionEndLocation"in i&&t(17,T=i.selectedOptionEndLocation),"currentlyLoading"in i&&t(2,m=i.currentlyLoading),"showClearAll"in i&&t(3,f=i.showClearAll),"showSelectAll"in i&&t(4,v=i.showSelectAll),"allOptionsLoaded"in i&&t(18,G=i.allOptionsLoaded),"allOptions"in i&&t(19,V=i.allOptions)},l.$$.update=()=>{l.$$.dirty[0]&524288&&t(21,n=V===void 0),l.$$.dirty[0]&2621442&&t(22,r=n?1/0:((V==null?void 0:V.length)||0)-_.length),l.$$.dirty[0]&6553601&&(o=n?G:s.length>=r),l.$$.dirty[0]&131074&&t(5,u=_.slice(0,T)),l.$$.dirty[0]&3145762&&t(20,C=n?C:u.length>=_.length)},[s,_,m,f,v,u,a,F,N,k,B,M,K,Q,w,q,O,T,G,V,C,n,r,y,L,J,Z,b]}class xe extends He{constructor(e){super(),Ie(this,e,Ue,je,Te,{unselectedOptions:0,selectedOptions:1,selectedOptionEndLocation:17,currentlyLoading:2,showClearAll:3,showSelectAll:4,allOptionsLoaded:18,allOptions:19},null,[-1,-1])}}export{Fe as G,xe as O,Ke as a,Xe as b,Qe as c,Ze as d,Re as e,ze as f,Pe as g};
