{"version":3,"file":"_page.svelte-4Y48ZW64.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/(picsure)/(authorized)/dataset/_page.svelte.js"],"sourcesContent":["import { A as push, F as escape_html, G as stringify, C as pop, E as attr, W as head, S as await_block, K as store_get, M as unsubscribe_stores } from \"../../../../../chunks/index.js\";\nimport { b as branding } from \"../../../../../chunks/configuration.js\";\nimport { l as loadDatasets, a as active } from \"../../../../../chunks/Dataset.js\";\nimport { C as Content } from \"../../../../../chunks/Content.js\";\nimport { S as StaticTable } from \"../../../../../chunks/StaticTable.js\";\nimport { C as CopyButton } from \"../../../../../chunks/CopyButton.js\";\nimport \"../../../../../chunks/toaster.js\";\nimport { L as Loading } from \"../../../../../chunks/Loading.js\";\nfunction CopyButtonCell($$payload, $$props) {\n  push();\n  let { data = { cell: \"\", row: {} } } = $$props;\n  $$payload.out += `<div class=\"flex items-center\"><span class=\"monospace\">${escape_html(data.cell)}</span> `;\n  CopyButton($$payload, {\n    \"data-testid\": `${stringify(data.cell)}-copy`,\n    useIcon: true,\n    itemToCopy: data.cell\n  });\n  $$payload.out += `<!----></div>`;\n  pop();\n}\nfunction Actions($$payload, $$props) {\n  push();\n  const { data = { cell: \"\", row: { archived: false } } } = $$props;\n  if (data.row.archived) {\n    $$payload.out += \"<!--[-->\";\n    $$payload.out += `<button${attr(\"data-testid\", `dataset-action-restore-${data.cell}`)} type=\"button\" title=\"Restore\" aria-label=\"Restore\" class=\"btn-icon-color\"><i class=\"fa-solid fa-trash-arrow-up fa-xl\"></i></button>`;\n  } else {\n    $$payload.out += \"<!--[!-->\";\n    $$payload.out += `<button${attr(\"data-testid\", `dataset-action-archive-${data.cell}`)} type=\"button\" title=\"Delete\" aria-label=\"Delete\" class=\"btn-icon-color\"><i class=\"fa-solid fa-trash fa-xl\"></i></button>`;\n  }\n  $$payload.out += `<!--]-->`;\n  pop();\n}\nfunction _page($$payload, $$props) {\n  push();\n  var $$store_subs;\n  const columns = [\n    { dataElement: \"name\", label: \"Dataset ID Name\" },\n    { dataElement: \"startTime\", label: \"Created\" },\n    { dataElement: \"queryId\", label: \"Dataset ID\" },\n    {\n      dataElement: \"uuid\",\n      label: \"Actions\",\n      class: \"text-center\"\n    }\n  ];\n  const cellOverides = { queryId: CopyButtonCell, uuid: Actions };\n  head($$payload, ($$payload2) => {\n    $$payload2.title = `<title>${escape_html(branding.applicationName)} | Datasets</title>`;\n  });\n  Content($$payload, {\n    title: \"Manage Datasets\",\n    children: ($$payload2) => {\n      await_block(\n        $$payload2,\n        loadDatasets(),\n        () => {\n          Loading($$payload2, {});\n        },\n        () => {\n          StaticTable($$payload2, {\n            tableName: \"ActiveDatasets\",\n            title: \"Active Datasets\",\n            data: store_get($$store_subs ??= {}, \"$active\", active),\n            columns,\n            cellOverides\n          });\n          $$payload2.out += `<!----> `;\n          {\n            $$payload2.out += \"<!--[!-->\";\n          }\n          $$payload2.out += `<!--]--> <button data-testid=\"dataset-toggle-archive\" type=\"button\" class=\"btn bg-secondary-500 text-secondary-contrast-500\">${escape_html(\"Show\")} deleted datasets</button>`;\n        }\n      );\n      $$payload2.out += `<!--]-->`;\n    }\n  });\n  if ($$store_subs) unsubscribe_stores($$store_subs);\n  pop();\n}\nexport {\n  _page as default\n};\n"],"names":[],"mappings":"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"}