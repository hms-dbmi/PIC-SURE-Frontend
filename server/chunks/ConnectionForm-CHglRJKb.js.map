{"version":3,"file":"ConnectionForm-CHglRJKb.js","sources":["../../../.svelte-kit/adapter-node/chunks/ConnectionForm.js"],"sourcesContent":["import { c as create_ssr_component, a as add_attribute, e as escape, v as validate_component, f as each } from \"./ssr.js\";\nimport \"./client.js\";\nimport { g as getToastStore } from \"./stores2.js\";\nimport \"./ProgressBar.svelte_svelte_type_style_lang.js\";\nimport \"./Connections.js\";\nimport { b as createEventDispatcher } from \"./lifecycle.js\";\nimport { p as parseFieldsFromJSON } from \"./Connection.js\";\nconst RequiredFieldRow = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let dirtyForm;\n  createEventDispatcher();\n  let { field = { label: \"\", id: \"\" } } = $$props;\n  let { duplicate = false } = $$props;\n  let label = field.label;\n  let id = field.id;\n  const newField = field.label === \"\" || field.id === \"\";\n  let edit = newField;\n  if ($$props.field === void 0 && $$bindings.field && field !== void 0) $$bindings.field(field);\n  if ($$props.duplicate === void 0 && $$bindings.duplicate && duplicate !== void 0) $$bindings.duplicate(duplicate);\n  dirtyForm = field.id !== id || field.label !== label;\n  return `<div class=\"flex gap-4 p-3 odd:bg-surface-100-800-token even:bg-surface-50-900-token\"${add_attribute(\"data-testid\", `required-field-row-${field.id ? field.id : \"new\"}`, 0)}><label class=\"label flex-1\"><span data-svelte-h=\"svelte-3s99bi\">Label:</span> <input type=\"text\" ${!edit ? \"disabled\" : \"\"} class=\"input\" minlength=\"1\" maxlength=\"255\"${add_attribute(\"value\", label, 0)}></label> <label class=\"label flex-1\"><span data-svelte-h=\"svelte-1dt9zf9\">ID:</span> <input type=\"text\" ${!edit ? \"disabled\" : \"\"} class=\"${\"input \" + escape(duplicate && \"variant-ghost-warning border-warning-500-400-token focus:border-warning-700-200-token\", true)}\" minlength=\"1\" maxlength=\"255\"${add_attribute(\"value\", id, 0)}></label> <div class=\"flex-none content-end py-2\">${edit ? `<button type=\"button\" title=\"Save\" data-testid=\"required-field-save-btn\" class=\"btn-icon-color\" ${!label || !id || !dirtyForm ? \"disabled\" : \"\"}><i class=\"fa-solid fa-floppy-disk fa-xl\"></i> <span class=\"sr-only\" data-svelte-h=\"svelte-1958rfi\">Save</span></button> ${dirtyForm ? `<button type=\"button\" title=\"Reset and cancel\" class=\"btn-icon-color\" data-testid=\"required-field-reset-btn\" data-svelte-h=\"svelte-1o0fjlv\"><i class=\"fa-solid fa-arrow-rotate-right fa-xl\"></i> <span class=\"sr-only\">Reset and cancel</span></button>` : `${!newField && !dirtyForm ? `<button type=\"button\" title=\"Cancel\" class=\"btn-icon-color\" data-testid=\"required-field-cancel-btn\" data-svelte-h=\"svelte-1vgxcks\"><i class=\"fa-solid fa-ban fa-xl\"></i> <span class=\"sr-only\">Cancel</span></button>` : ``}`}` : `<button type=\"button\" title=\"Edit\" class=\"btn-icon-color\" data-testid=\"required-field-edit-btn\" data-svelte-h=\"svelte-m763yc\"><i class=\"fa-solid fa-pen fa-xl\"></i> <span class=\"sr-only\">Edit</span></button>`} <button type=\"button\" title=\"Delete\" class=\"btn-icon-color\" data-testid=\"required-field-delete-btn\" data-svelte-h=\"svelte-19una3f\"><i class=\"fa-solid fa-trash fa-xl\"></i> <span class=\"sr-only\">Delete</span></button></div></div>`;\n});\nconst RequiredFieldsList = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let fieldList;\n  let enableNewField;\n  let duplicates;\n  createEventDispatcher();\n  let { fields = \"[]\" } = $$props;\n  function hasDuplicate(checkField) {\n    return !!duplicates.find((field) => field === checkField);\n  }\n  if ($$props.fields === void 0 && $$bindings.fields && fields !== void 0) $$bindings.fields(fields);\n  fieldList = parseFieldsFromJSON(fields);\n  enableNewField = fieldList.length === 0;\n  duplicates = fieldList.filter((checkField) => {\n    return fieldList.filter((field) => field !== checkField).filter((field) => field.id === checkField.id).length > 0;\n  });\n  return `<fieldset class=\"border border-surface-300-600-token\"><legend class=\"px-2 ml-2\">Required Fields:\n    <button type=\"button\" class=\"text-primary-600-300-token hover:text-secondary-600-300-token\" title=\"Add New Field\" data-testid=\"required-field-new-btn\" ${enableNewField ? \"disabled\" : \"\"}><i class=\"fa-solid fa-square-plus fa-xl\"></i></button></legend> ${enableNewField ? `${validate_component(RequiredFieldRow, \"RequiredFieldRow\").$$render($$result, {}, {}, {})}` : ``} ${each(fieldList, (field, index) => {\n    return `${validate_component(RequiredFieldRow, \"RequiredFieldRow\").$$render($$result, { duplicate: hasDuplicate(field), field }, {}, {})}`;\n  })} ${duplicates.length > 0 ? `<aside data-testid=\"validation-warn\" class=\"alert variant-ghost-warning m-2\" data-svelte-h=\"svelte-rdnjrw\"><i class=\"fa-solid fa-triangle-exclamation\"></i> <div class=\"alert-message\"><p>Fields with the same ID may not function properly.</p></div></aside>` : ``}</fieldset>`;\n});\nconst ConnectionForm = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  getToastStore();\n  let { connection = void 0 } = $$props;\n  let label = connection?.label || \"\";\n  let id = connection?.id || \"\";\n  let subPrefix = connection?.subPrefix || \"\";\n  let requiredFields = connection?.requiredFields || \"[]\";\n  if ($$props.connection === void 0 && $$bindings.connection && connection !== void 0) $$bindings.connection(connection);\n  return `<p class=\"mb-3 text-center\" data-svelte-h=\"svelte-kaypeb\">For details on how to set up a Connection, please refer to the\n  <a href=\"https://pic-sure.gitbook.io/pic-sure-developer-guide/configuring-pic-sure/all-in-one-authentication-configuration#additional-authentication-configuration-option-s\" target=\"_blank\" class=\"anchor\">PIC-SURE developer guide</a>.</p> <form class=\"grid gap-4 my-3\">${connection?.uuid ? `<label class=\"label\"><span data-svelte-h=\"svelte-xruxbf\">UUID:</span> <input type=\"text\" class=\"input\"${add_attribute(\"value\", connection?.uuid, 0)} ${\"disabled\"}></label>` : ``} <label class=\"label required\"><span data-svelte-h=\"svelte-3s99bi\">Label:</span> <input type=\"text\" class=\"input\" required minlength=\"1\" maxlength=\"255\"${add_attribute(\"value\", label, 0)}></label> <label class=\"label required\"><span data-svelte-h=\"svelte-1dt9zf9\">ID:</span> <input type=\"text\" class=\"input\" required minlength=\"1\" maxlength=\"255\"${add_attribute(\"value\", id, 0)}></label> <label class=\"label required\"><span data-svelte-h=\"svelte-hkdo9q\">Sub Prefix:</span> <input type=\"text\" class=\"input\" required minlength=\"1\" maxlength=\"255\"${add_attribute(\"value\", subPrefix, 0)}></label> ${validate_component(RequiredFieldsList, \"RequiredFieldsList\").$$render($$result, { fields: requiredFields }, {}, {})} <div data-svelte-h=\"svelte-1blu6n4\"><button type=\"submit\" data-testid=\"connection-save-btn\" class=\"btn variant-ghost-primary hover:variant-filled-primary\">Save</button> <a href=\"/admin/configuration\" data-testid=\"connection-cancel-btn\" class=\"btn variant-ghost-secondary hover:variant-filled-secondary\">Cancel</a></div></form>`;\n});\nexport {\n  ConnectionForm as C\n};\n"],"names":[],"mappings":"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"}