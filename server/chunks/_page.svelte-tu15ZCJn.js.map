{"version":3,"file":"_page.svelte-tu15ZCJn.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/(picsure)/_page.svelte.js"],"sourcesContent":["import { A as push, P as ensure_array_like, K as store_get, E as attr, I as attr_class, G as stringify, S as await_block, F as escape_html, M as unsubscribe_stores, C as pop, Q as copy_payload, R as assign_payload, W as head } from \"../../../chunks/index.js\";\nimport { b as branding } from \"../../../chunks/configuration.js\";\nimport { g as goto } from \"../../../chunks/client.js\";\nimport { S as Searchbox } from \"../../../chunks/Searchbox.js\";\nimport { i as derived, w as writable } from \"../../../chunks/exports.js\";\nimport \"../../../chunks/index2.js\";\nimport \"../../../chunks/User.js\";\nimport \"clsx\";\nimport \"../../../chunks/Filter.js\";\nimport \"../../../chunks/Export.js\";\nimport \"../../../chunks/Dictionary.js\";\nimport { L as Loading } from \"../../../chunks/Loading.js\";\nimport { h as html } from \"../../../chunks/html.js\";\nimport { E as ErrorAlert } from \"../../../chunks/ErrorAlert.js\";\nconst hasError = writable(false);\nconst statData = writable([]);\nconst stats = derived(\n  statData,\n  ($s) => $s.filter((stat) => !stat.auth)\n);\nconst authStats = derived(\n  statData,\n  ($s) => $s.filter((stat) => stat.auth)\n);\nfunction Stat($$payload, $$props) {\n  push();\n  var $$store_subs;\n  let { stats: stats2, description, auth = false } = $$props;\n  let authString = auth ? \"auth\" : \"open\";\n  const each_array = ensure_array_like(store_get($$store_subs ??= {}, \"$stats\", stats2));\n  $$payload.out += `<div${attr(\"data-testid\", `data-summary-${stringify(authString)}`)} class=\"w-full flex flex-col items-center\"><div class=\"w-2/4\">${html(description)}</div> <div${attr_class(`grid grid-cols-${stringify(store_get($$store_subs ??= {}, \"$stats\", stats2).length)} grid-flow-col justify-center p-4 my-4 gap-y-9 ${stringify(store_get($$store_subs ??= {}, \"$stats\", stats2).length > 4 ? \"w-full\" : \"w-1/2\")}`)}><!--[-->`;\n  for (let $$index = 0, $$length = each_array.length; $$index < $$length; $$index++) {\n    let stat = each_array[$$index];\n    $$payload.out += `<div class=\"p-4 not-last:border-r border-surface-500\"><div${attr(\"data-testid\", `value-${stringify(authString)}-${stringify(stat.key)}-${stringify(stat.label)}`)} class=\"flex flex-col justify-center items-center text-2xl\">`;\n    await_block(\n      $$payload,\n      stat.value,\n      () => {\n        Loading($$payload, { ring: true, size: \"mini\" });\n      },\n      (value) => {\n        $$payload.out += `<strong class=\"p-1 mb-3\">${escape_html(value && value.toLocaleString())}</strong>`;\n      }\n    );\n    $$payload.out += `<!--]--></div> <p>${escape_html(stat.label)}</p></div>`;\n  }\n  $$payload.out += `<!--]--></div></div>`;\n  if ($$store_subs) unsubscribe_stores($$store_subs);\n  pop();\n}\nfunction Stats($$payload, $$props) {\n  push();\n  var $$store_subs;\n  $$payload.out += `<section class=\"flex flex-col items-center w-full p-4 bg-surface-100-900\"><h2 class=\"m-4\">Data Summary</h2> `;\n  if (store_get($$store_subs ??= {}, \"$authStats\", authStats).length > 0) {\n    $$payload.out += \"<!--[-->\";\n    Stat($$payload, {\n      stats: authStats,\n      auth: true,\n      description: branding?.landing?.authExplanation\n    });\n  } else {\n    $$payload.out += \"<!--[!-->\";\n  }\n  $$payload.out += `<!--]--> `;\n  if (store_get($$store_subs ??= {}, \"$stats\", stats).length > 0) {\n    $$payload.out += \"<!--[-->\";\n    Stat($$payload, {\n      stats,\n      description: branding?.landing?.explanation\n    });\n  } else {\n    $$payload.out += \"<!--[!-->\";\n  }\n  $$payload.out += `<!--]--> `;\n  if (store_get($$store_subs ??= {}, \"$hasError\", hasError)) {\n    $$payload.out += \"<!--[-->\";\n    ErrorAlert($$payload, {\n      \"data-testid\": \"landing-error\",\n      solid: true,\n      children: ($$payload2) => {\n        $$payload2.out += `<!---->We're having trouble fetching some data points right now. Please try again later.`;\n      }\n    });\n  } else {\n    $$payload.out += \"<!--[!-->\";\n  }\n  $$payload.out += `<!--]--></section>`;\n  if ($$store_subs) unsubscribe_stores($$store_subs);\n  pop();\n}\nfunction _page($$payload, $$props) {\n  push();\n  let searchTerm = \"\";\n  const isUserLoggedIn = () => {\n    return false;\n  };\n  function search() {\n    isUserLoggedIn() ? goto() : goto();\n  }\n  const actionsToDisplay = branding?.landing?.actions.filter((action) => {\n    if (isUserLoggedIn()) {\n      return action.showIfLoggedIn;\n    } else {\n      return action.isOpen || !action.showIfLoggedIn;\n    }\n  });\n  let $$settled = true;\n  let $$inner_payload;\n  function $$render_inner($$payload2) {\n    const each_array = ensure_array_like(actionsToDisplay);\n    head($$payload2, ($$payload3) => {\n      $$payload3.title = `<title>${escape_html(branding.applicationName)}</title>`;\n    });\n    $$payload2.out += `<div id=\"landing\" class=\"flex flex-wrap flex-col justify-evenly text-center items-center w-full h-full mt-8\"><section id=\"search-section\" class=\"flex flex-col text-center items-center my-4 mt-auto w-2/3\">`;\n    Searchbox($$payload2, {\n      placeholder: branding?.landing?.searchPlaceholder,\n      search,\n      get searchTerm() {\n        return searchTerm;\n      },\n      set searchTerm($$value) {\n        searchTerm = $$value;\n        $$settled = false;\n      }\n    });\n    $$payload2.out += `<!----></section> <section id=\"actions-section\" class=\"flex flex-row justify-evenly items-center w-2/3 mt-auto mb-8\"><!--[-->`;\n    for (let $$index = 0, $$length = each_array.length; $$index < $$length; $$index++) {\n      let { title, description, icon, url, btnText } = each_array[$$index];\n      $$payload2.out += `<div${attr_class(`flex flex-col items-center w-1/${stringify(actionsToDisplay?.length || 3)}`)}><div class=\"text-3xl my-1\">${escape_html(title)}</div> <i${attr_class(`text-[5rem] my-3 text-secondary-600-400 ${stringify(icon)}`)}></i> <div class=\"subtitle my-3\">${escape_html(description)}</div> <a${attr(\"data-testid\", `landing-action-${stringify(title)}-btn`)}${attr(\"href\", url)} class=\"btn preset-filled-primary-500\">${escape_html(btnText)}</a></div>`;\n    }\n    $$payload2.out += `<!--]--></section> `;\n    Stats($$payload2);\n    $$payload2.out += `<!----></div>`;\n  }\n  do {\n    $$settled = true;\n    $$inner_payload = copy_payload($$payload);\n    $$render_inner($$inner_payload);\n  } while (!$$settled);\n  assign_payload($$payload, $$inner_payload);\n  pop();\n}\nexport {\n  _page as default\n};\n"],"names":[],"mappings":"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"}