{"version":3,"file":"_page.svelte-MPP30HqE.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/(picsure)/(authorized)/explorer/export/_page.svelte.js"],"sourcesContent":["import { s as subscribe } from \"../../../../../../chunks/utils.js\";\nimport { c as create_ssr_component, v as validate_component } from \"../../../../../../chunks/ssr.js\";\nimport { s as state, E as ExportStepper } from \"../../../../../../chunks/ExportStepper.js\";\nimport { f as filters } from \"../../../../../../chunks/Filter.js\";\nimport { E as ExportStore } from \"../../../../../../chunks/Export.js\";\nimport { C as Content } from \"../../../../../../chunks/Content.js\";\nimport { a as getQueryRequest } from \"../../../../../../chunks/QueryBuilder.js\";\nimport { f as features } from \"../../../../../../chunks/configuration.js\";\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $filters, $$unsubscribe_filters;\n  let $exports, $$unsubscribe_exports;\n  let $state, $$unsubscribe_state;\n  $$unsubscribe_filters = subscribe(filters, (value) => $filters = value);\n  $$unsubscribe_state = subscribe(state, (value) => $state = value);\n  let { exports } = ExportStore;\n  $$unsubscribe_exports = subscribe(exports, (value) => $exports = value);\n  let queryRequest = getQueryRequest(true);\n  let exportRows = $exports.map((exp) => {\n    return {\n      ref: exp,\n      selected: true,\n      variableId: exp.conceptPath,\n      variableName: exp.display || exp.searchResult?.display,\n      description: exp.searchResult?.description,\n      type: exp.searchResult?.type\n    };\n  });\n  let filterRows = $filters.map((filter) => {\n    return {\n      ref: filter,\n      selected: true,\n      variableId: filter.id,\n      variableName: filter.searchResult?.display || filter.variableName,\n      description: filter.searchResult?.description,\n      type: filter.searchResult?.type\n    };\n  });\n  if (features.useQueryTemplate) {\n    const patientIdExport = {\n      id: \"\\\\_Patient ID\\\\\",\n      conceptPath: \"\\\\_Patient ID\\\\\",\n      display: \"Patient ID\",\n      searchResult: {\n        conceptPath: \"\\\\_Patient ID\\\\\",\n        name: \"_Patient ID\",\n        dataset: \"\",\n        display: \"Patient ID\",\n        description: \"Patient identifier.\",\n        type: \"Categorical\",\n        allowFiltering: true\n      }\n    };\n    let patientIdRow = {\n      ref: patientIdExport,\n      selected: true,\n      variableId: patientIdExport.conceptPath,\n      variableName: patientIdExport.display || patientIdExport.searchResult?.name,\n      description: patientIdExport.searchResult?.description,\n      type: patientIdExport.searchResult?.type\n    };\n    exportRows.push(patientIdRow);\n    if (features.useQueryTemplate) {\n      const topmedExport = {\n        id: \"\\\\_Topmed Study Accession with Subject ID\\\\\",\n        conceptPath: \"\\\\_Topmed Study Accession with Subject ID\\\\\",\n        display: \"TOPMed Study Accession with Subject ID\",\n        searchResult: {\n          conceptPath: \"\\\\_Topmed Study Accession with Subject ID\\\\\",\n          name: \"_TOPMed Study Accession with Subject ID\",\n          dataset: \"TOPMed\",\n          display: \"TOPMed Study Accession with Subject ID\",\n          description: \"TOPMed study accession number and subject identifier.\",\n          type: \"Categorical\",\n          allowFiltering: true\n        }\n      };\n      let topMedRow = {\n        ref: topmedExport,\n        selected: true,\n        variableId: topmedExport.conceptPath,\n        variableName: topmedExport.display || topmedExport.searchResult?.name,\n        description: topmedExport.searchResult?.description,\n        type: topmedExport.searchResult?.type\n      };\n      exportRows.push(topMedRow);\n      const parentStudyExport = {\n        id: \"\\\\_Parent Study Accession with Subject ID\\\\\",\n        conceptPath: \"\\\\_Parent Study Accession with Subject ID\\\\\",\n        display: \"Parent Study Accession with Subject ID\",\n        searchResult: {\n          conceptPath: \"\\\\_Parent Study Accession with Subject ID\\\\\",\n          name: \"_Parent Study Accession with Subject ID\",\n          dataset: \"\",\n          display: \"Parent Study Accession with Subject ID\",\n          description: \"Parent study accession number and subject identifier.\",\n          type: \"Categorical\",\n          allowFiltering: true\n        }\n      };\n      let parentStudyRow = {\n        ref: parentStudyExport,\n        selected: true,\n        variableId: parentStudyExport.conceptPath,\n        variableName: parentStudyExport.display || parentStudyExport.searchResult?.name,\n        description: parentStudyExport.searchResult?.description,\n        type: parentStudyExport.searchResult?.type\n      };\n      exportRows.push(parentStudyRow);\n    }\n  }\n  state.set({ current: 0, total: 0 });\n  $$unsubscribe_filters();\n  $$unsubscribe_exports();\n  $$unsubscribe_state();\n  return `${validate_component(Content, \"Content\").$$render(\n    $$result,\n    {\n      backUrl: \"/explorer\",\n      backTitle: \"Back to Explore\",\n      backAction: () => {\n        $state.current = 0;\n      },\n      title: \"Export Data for Research Analysis\"\n    },\n    {},\n    {\n      default: () => {\n        return `${$exports.length > 0 || $filters.length > 0 ? `<section class=\"flex justify-center items-center w-full h-full mt-8\">${validate_component(ExportStepper, \"ExportStepper\").$$render(\n          $$result,\n          {\n            query: queryRequest,\n            rows: [...filterRows, ...exportRows]\n          },\n          {},\n          {}\n        )}</section>` : `<div class=\"flex flex-col items-center justify-center m-8\"><p data-svelte-h=\"svelte-1xd42eg\">No filters or exports have been created.</p> <div class=\"flex gap-4\"><button class=\"btn variant-filled-primary m-4\" data-svelte-h=\"svelte-1yq884x\">Learn How</button></div></div>`}`;\n      }\n    }\n  )}`;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":"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"}