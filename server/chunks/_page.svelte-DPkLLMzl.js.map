{"version":3,"file":"_page.svelte-DPkLLMzl.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/(picsure)/(authorized)/(admin)/admin/authorization/_page.svelte.js"],"sourcesContent":["import { a as subscribe, i as is_promise, d as noop } from \"../../../../../../../chunks/lifecycle.js\";\nimport { c as create_ssr_component, a as add_attribute, e as escape, v as validate_component } from \"../../../../../../../chunks/ssr.js\";\nimport \"../../../../../../../chunks/ProgressBar.svelte_svelte_type_style_lang.js\";\nimport { P as ProgressBar } from \"../../../../../../../chunks/ProgressBar.js\";\nimport { g as goto } from \"../../../../../../../chunks/client.js\";\nimport { b as branding } from \"../../../../../../../chunks/configuration.js\";\nimport { C as Content } from \"../../../../../../../chunks/Content.js\";\nimport { T as Table } from \"../../../../../../../chunks/Table.js\";\nimport { g as getModalStore } from \"../../../../../../../chunks/stores.js\";\nimport { g as getToastStore } from \"../../../../../../../chunks/stores2.js\";\nimport { R as RoleStore } from \"../../../../../../../chunks/Roles.js\";\nimport { P as PrivilegesStore } from \"../../../../../../../chunks/Privileges.js\";\nimport { A as ApplicationStore } from \"../../../../../../../chunks/Application.js\";\nconst RoleActions = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  getModalStore();\n  getToastStore();\n  let { data = { cell: \"\", row: { name: \"\" } } } = $$props;\n  if ($$props.data === void 0 && $$bindings.data && data !== void 0) $$bindings.data(data);\n  return `<div class=\"w-20 min-w-20\"><button${add_attribute(\"data-testid\", `role-view-btn-${data.cell}`, 0)} type=\"button\" title=\"View\" class=\"btn-icon-color\"><i class=\"fa-solid fa-circle-info fa-xl\"></i> <span class=\"sr-only\" data-svelte-h=\"svelte-14wft3a\">View Role</span></button> <button${add_attribute(\"data-testid\", `role-edit-btn-${data.cell}`, 0)} type=\"button\" title=\"Edit\" class=\"btn-icon-color\"><i class=\"fa-solid fa-pen-to-square fa-xl\"></i> <span class=\"sr-only\" data-svelte-h=\"svelte-1evs4en\">Edit</span></button> <button${add_attribute(\"data-testid\", `role-delete-btn-${data.cell}`, 0)} type=\"button\" title=\"Delete\" class=\"btn-icon-color\"><i class=\"fa-solid fa-trash fa-xl\"></i> <span class=\"sr-only\" data-svelte-h=\"svelte-18sehy8\">Delete</span></button></div>`;\n});\nconst PrivilegeActions = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  getModalStore();\n  getToastStore();\n  let { data = { cell: \"\", row: { name: \"\" } } } = $$props;\n  if ($$props.data === void 0 && $$bindings.data && data !== void 0) $$bindings.data(data);\n  return `<div class=\"w-20 min-w-20\"><button${add_attribute(\"data-testid\", `privilege-view-btn-${data.cell}`, 0)} type=\"button\" title=\"View\" class=\"btn-icon-color\"><i class=\"fa-solid fa-circle-info fa-xl\"></i> <span class=\"sr-only\" data-svelte-h=\"svelte-1gf6b6d\">View Privilege</span></button> <button${add_attribute(\"data-testid\", `privilege-edit-btn-${data.cell}`, 0)} type=\"button\" title=\"Edit\" class=\"btn-icon-color\"><i class=\"fa-solid fa-pen-to-square fa-xl\"></i> <span class=\"sr-only\" data-svelte-h=\"svelte-1evs4en\">Edit</span></button> <button${add_attribute(\"data-testid\", `privilege-delete-btn-${data.cell}`, 0)} type=\"button\" title=\"Delete\" class=\"btn-icon-color\"><i class=\"fa-solid fa-trash fa-xl\"></i> <span class=\"sr-only\" data-svelte-h=\"svelte-18sehy8\">Delete</span></button></div>`;\n});\nconst Application = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  const { getApplication } = ApplicationStore;\n  let { data } = $$props;\n  if ($$props.data === void 0 && $$bindings.data && data !== void 0) $$bindings.data(data);\n  return `${escape(data.cell ? getApplication(data.cell).name : \"none\")}`;\n});\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $roles, $$unsubscribe_roles;\n  let $privileges, $$unsubscribe_privileges;\n  const { roles, loadRoles } = RoleStore;\n  $$unsubscribe_roles = subscribe(roles, (value) => $roles = value);\n  const { privileges, loadPrivileges } = PrivilegesStore;\n  $$unsubscribe_privileges = subscribe(privileges, (value) => $privileges = value);\n  const { loadApplications } = ApplicationStore;\n  const roleTable = {\n    columns: [\n      {\n        dataElement: \"name\",\n        label: \"Name\",\n        sort: true\n      },\n      {\n        dataElement: \"description\",\n        label: \"Description\",\n        sort: true\n      },\n      { dataElement: \"uuid\", label: \"Actions\" }\n    ],\n    overrides: { uuid: RoleActions }\n  };\n  const privilegesTable = {\n    columns: [\n      {\n        dataElement: \"name\",\n        label: \"Name\",\n        sort: true\n      },\n      {\n        dataElement: \"description\",\n        label: \"Description\",\n        sort: true\n      },\n      {\n        dataElement: \"application\",\n        label: \"Application Name\",\n        sort: true\n      },\n      { dataElement: \"uuid\", label: \"Actions\" }\n    ],\n    overrides: {\n      uuid: PrivilegeActions,\n      application: Application\n    }\n  };\n  async function load() {\n    await loadRoles();\n    await loadPrivileges();\n    await loadApplications();\n  }\n  const rowClickHandler = (path) => (row) => {\n    row?.uuid;\n    goto();\n  };\n  const roleRowCLick = rowClickHandler();\n  const privilegeRowClick = rowClickHandler();\n  $$unsubscribe_roles();\n  $$unsubscribe_privileges();\n  return `${$$result.head += `<!-- HEAD_svelte-1m7g26a_START -->${$$result.title = `<title>${escape(branding.applicationName)} | Authorization</title>`, \"\"}<!-- HEAD_svelte-1m7g26a_END -->`, \"\"} ${validate_component(Content, \"Content\").$$render($$result, { title: \"Authorization\" }, {}, {\n    default: () => {\n      return `${function(__value) {\n        if (is_promise(__value)) {\n          __value.then(null, noop);\n          return ` <h3 class=\"text-left\" data-svelte-h=\"svelte-16fo5h6\">Loading</h3> ${validate_component(ProgressBar, \"ProgressBar\").$$render($$result, { animIndeterminate: \"anim-progress-bar\" }, {}, {})} `;\n        }\n        return function() {\n          return ` <div id=\"authorization-role-table\" class=\"mb-10\"><h2 data-svelte-h=\"svelte-iva7uy\">Roles Management</h2> <div class=\"flex gap-4 my-6\" data-svelte-h=\"svelte-1ktr2it\"><div class=\"flex-auto\"><a data-testid=\"add-role\" class=\"btn variant-ghost-primary hover:variant-filled-primary\" href=\"/admin/authorization/role/new\">+ Add Role</a></div></div> ${validate_component(Table, \"Datatable\").$$render(\n            $$result,\n            {\n              tableName: \"Roles\",\n              data: $roles,\n              columns: roleTable.columns,\n              cellOverides: roleTable.overrides,\n              defaultRowsPerPage: 10,\n              rowClickHandler: roleRowCLick,\n              isClickable: true\n            },\n            {},\n            {}\n          )}</div> <div id=\"authorization-privilege-table\" class=\"mb-10\"><h2 data-svelte-h=\"svelte-1u9r2oz\">Privileges Management</h2> <div class=\"flex gap-4 my-6\" data-svelte-h=\"svelte-1nztzi8\"><div class=\"flex-auto\"><a data-testid=\"add-privilege\" class=\"btn variant-ghost-primary hover:variant-filled-primary\" href=\"/admin/authorization/privilege/new\">+ Add Privilege</a></div></div> ${validate_component(Table, \"Datatable\").$$render(\n            $$result,\n            {\n              tableName: \"Privileges\",\n              data: $privileges,\n              columns: privilegesTable.columns,\n              cellOverides: privilegesTable.overrides,\n              defaultRowsPerPage: 10,\n              rowClickHandler: privilegeRowClick,\n              isClickable: true\n            },\n            {},\n            {}\n          )}</div> `;\n        }();\n      }(load())}`;\n    }\n  })}`;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":"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"}