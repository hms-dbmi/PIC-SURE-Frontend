{"version":3,"file":"PrivilegeForm-BSP3X0l6.js","sources":["../../../.svelte-kit/adapter-node/chunks/PrivilegeForm.js"],"sourcesContent":["import { c as create_ssr_component, a as add_attribute, f as each, e as escape } from \"./ssr.js\";\nimport \"./client.js\";\nimport { g as getToastStore } from \"./stores2.js\";\nimport \"./ProgressBar.svelte_svelte_type_style_lang.js\";\nimport { t as textInput } from \"./Validation.js\";\nimport \"./Privileges.js\";\nconst css = {\n  code: \"label.svelte-1pdeqr{margin:0.5em 0}\",\n  map: '{\"version\":3,\"file\":\"PrivilegeForm.svelte\",\"sources\":[\"PrivilegeForm.svelte\"],\"sourcesContent\":[\"<script lang=\\\\\"ts\\\\\">import { goto } from \\\\\"$app/navigation\\\\\";\\\\nimport { getToastStore } from \\\\\"@skeletonlabs/skeleton\\\\\";\\\\nconst toastStore = getToastStore();\\\\nimport { textInput } from \\\\\"$lib/utilities/Validation\\\\\";\\\\nimport PrivilegesStore from \\\\\"$lib/stores/Privileges\\\\\";\\\\nconst { addPrivilege, updatePrivilege } = PrivilegesStore;\\\\nexport let privilege = void 0;\\\\nexport let applicationList;\\\\nlet name = privilege ? privilege.name : \\\\\"\\\\\";\\\\nlet description = privilege ? privilege.description : \\\\\"\\\\\";\\\\nlet application = privilege ? privilege.application : \\\\\"\\\\\";\\\\nasync function savePrivilege() {\\\\n  let newPrivilege = {\\\\n    name,\\\\n    description,\\\\n    application\\\\n  };\\\\n  try {\\\\n    if (privilege) {\\\\n      newPrivilege = { ...newPrivilege, uuid: privilege.uuid };\\\\n      await updatePrivilege(newPrivilege);\\\\n    } else {\\\\n      await addPrivilege(newPrivilege);\\\\n    }\\\\n    toastStore.trigger({\\\\n      message: `Successfully saved ${newPrivilege ? \\\\\"new privilege\\\\\" : \\\\\"privilege\\\\\"} \\'${name}\\'`,\\\\n      background: \\\\\"variant-filled-success\\\\\"\\\\n    });\\\\n    goto(\\\\\"/admin/authorization\\\\\");\\\\n  } catch (error) {\\\\n    console.error(error);\\\\n    toastStore.trigger({\\\\n      message: `An error occured while saving ${newPrivilege ? \\\\\"new privilege\\\\\" : \\\\\"privilege\\\\\"} \\'${name}\\'`,\\\\n      background: \\\\\"variant-filled-error\\\\\"\\\\n    });\\\\n  }\\\\n}\\\\n<\\/script>\\\\n\\\\n<form on:submit|preventDefault={savePrivilege}>\\\\n  <label class=\\\\\"label required\\\\\">\\\\n    <span>Name:</span>\\\\n    <input\\\\n      type=\\\\\"text\\\\\"\\\\n      bind:value={name}\\\\n      class=\\\\\"input\\\\\"\\\\n      required\\\\n      pattern={textInput}\\\\n      minlength=\\\\\"1\\\\\"\\\\n      maxlength=\\\\\"255\\\\\"\\\\n    />\\\\n  </label>\\\\n\\\\n  <label class=\\\\\"label required\\\\\">\\\\n    <span>Description:</span>\\\\n    <input\\\\n      type=\\\\\"text\\\\\"\\\\n      bind:value={description}\\\\n      class=\\\\\"input\\\\\"\\\\n      required\\\\n      pattern={textInput}\\\\n      minlength=\\\\\"1\\\\\"\\\\n      maxlength=\\\\\"255\\\\\"\\\\n    />\\\\n  </label>\\\\n\\\\n  <label class=\\\\\"label required\\\\\">\\\\n    <span>Application:</span>\\\\n    <select class=\\\\\"select\\\\\" bind:value={application} required>\\\\n      <option selected={!privilege || !privilege.application} disabled value>none</option>\\\\n      {#each applicationList as [name, uuid]}\\\\n        <option value={uuid} selected={privilege && privilege.application === uuid}>{name}</option>\\\\n      {/each}\\\\n    </select>\\\\n  </label>\\\\n\\\\n  <button type=\\\\\"submit\\\\\" class=\\\\\"btn variant-ghost-primary hover:variant-filled-primary\\\\\">\\\\n    Save\\\\n  </button>\\\\n  <a href=\\\\\"/admin/authorization\\\\\" class=\\\\\"btn variant-ghost-secondary hover:variant-filled-secondary\\\\\">\\\\n    Cancel\\\\n  </a>\\\\n</form>\\\\n\\\\n<style>\\\\n  label {\\\\n    margin: 0.5em 0;\\\\n  }</style>\\\\n\"],\"names\":[],\"mappings\":\"AAqFE,mBAAM,CACJ,MAAM,CAAE,KAAK,CAAC,CAChB\"}'\n};\nconst PrivilegeForm = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  getToastStore();\n  let { privilege = void 0 } = $$props;\n  let { applicationList } = $$props;\n  let name = privilege ? privilege.name : \"\";\n  let description = privilege ? privilege.description : \"\";\n  privilege ? privilege.application : \"\";\n  if ($$props.privilege === void 0 && $$bindings.privilege && privilege !== void 0) $$bindings.privilege(privilege);\n  if ($$props.applicationList === void 0 && $$bindings.applicationList && applicationList !== void 0) $$bindings.applicationList(applicationList);\n  $$result.css.add(css);\n  return `<form><label class=\"label required svelte-1pdeqr\"><span data-svelte-h=\"svelte-m2peuz\">Name:</span> <input type=\"text\" class=\"input\" required${add_attribute(\"pattern\", textInput, 0)} minlength=\"1\" maxlength=\"255\"${add_attribute(\"value\", name, 0)}></label> <label class=\"label required svelte-1pdeqr\"><span data-svelte-h=\"svelte-n5lbfe\">Description:</span> <input type=\"text\" class=\"input\" required${add_attribute(\"pattern\", textInput, 0)} minlength=\"1\" maxlength=\"255\"${add_attribute(\"value\", description, 0)}></label> <label class=\"label required svelte-1pdeqr\"><span data-svelte-h=\"svelte-u1sl8e\">Application:</span> <select class=\"select\" required><option ${!privilege || !privilege.application ? \"selected\" : \"\"} disabled value>none</option>${each(applicationList, ([name2, uuid]) => {\n    return `<option${add_attribute(\"value\", uuid, 0)} ${privilege && privilege.application === uuid ? \"selected\" : \"\"}>${escape(name2)}</option>`;\n  })}</select></label> <button type=\"submit\" class=\"btn variant-ghost-primary hover:variant-filled-primary\" data-svelte-h=\"svelte-uo67us\">Save</button> <a href=\"/admin/authorization\" class=\"btn variant-ghost-secondary hover:variant-filled-secondary\" data-svelte-h=\"svelte-muwtns\">Cancel</a> </form>`;\n});\nexport {\n  PrivilegeForm as P\n};\n"],"names":[],"mappings":";;;;;;;AAMA,MAAM,GAAG,GAAG;AACZ,EAAE,IAAI,EAAE,qCAAqC;AAC7C,EAAE,GAAG,EAAE;AACP,CAAC;AACI,MAAC,aAAa,GAAG,oBAAoB,CAAC,CAAC,QAAQ,EAAE,OAAO,EAAE,UAAU,EAAE,KAAK,KAAK;AACrF,EAAE,aAAa,EAAE;AACjB,EAAE,IAAI,EAAE,SAAS,GAAG,KAAK,CAAC,EAAE,GAAG,OAAO;AACtC,EAAE,IAAI,EAAE,eAAe,EAAE,GAAG,OAAO;AACnC,EAAE,IAAI,IAAI,GAAG,SAAS,GAAG,SAAS,CAAC,IAAI,GAAG,EAAE;AAC5C,EAAE,IAAI,WAAW,GAAG,SAAS,GAAG,SAAS,CAAC,WAAW,GAAG,EAAE;AAC1D,EAAE,SAAS,GAAG,SAAS,CAAC,WAAW,GAAG,EAAE;AACxC,EAAE,IAAI,OAAO,CAAC,SAAS,KAAK,KAAK,CAAC,IAAI,UAAU,CAAC,SAAS,IAAI,SAAS,KAAK,KAAK,CAAC,EAAE,UAAU,CAAC,SAAS,CAAC,SAAS,CAAC;AACnH,EAAE,IAAI,OAAO,CAAC,eAAe,KAAK,KAAK,CAAC,IAAI,UAAU,CAAC,eAAe,IAAI,eAAe,KAAK,KAAK,CAAC,EAAE,UAAU,CAAC,eAAe,CAAC,eAAe,CAAC;AACjJ,EAAE,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC;AACvB,EAAE,OAAO,CAAC,4IAA4I,EAAE,aAAa,CAAC,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC,CAAC,8BAA8B,EAAE,aAAa,CAAC,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,uJAAuJ,EAAE,aAAa,CAAC,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC,CAAC,8BAA8B,EAAE,aAAa,CAAC,OAAO,EAAE,WAAW,EAAE,CAAC,CAAC,CAAC,sJAAsJ,EAAE,CAAC,SAAS,IAAI,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,GAAG,EAAE,CAAC,6BAA6B,EAAE,IAAI,CAAC,eAAe,EAAE,CAAC,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK;AAC7xB,IAAI,OAAO,CAAC,OAAO,EAAE,aAAa,CAAC,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,SAAS,IAAI,SAAS,CAAC,WAAW,KAAK,IAAI,GAAG,UAAU,GAAG,EAAE,CAAC,CAAC,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC;AACjJ,GAAG,CAAC,CAAC,qSAAqS,CAAC;AAC3S,CAAC;;;;"}