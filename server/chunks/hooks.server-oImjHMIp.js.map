{"version":3,"file":"hooks.server-oImjHMIp.js","sources":["../../../.svelte-kit/adapter-node/chunks/hooks.server.js"],"sourcesContent":["import { r as registerProviderData } from \"./AuthProviderRegistry.js\";\nconst __vite_import_meta_env__ = { \"BASE_URL\": \"/\", \"DEV\": false, \"MODE\": \"production\", \"PROD\": true, \"SSR\": true, \"VITE_ALLOW_EXPORT\": \"true\", \"VITE_ALLOW_EXPORT_ENABLED\": \"true\", \"VITE_API\": \"true\", \"VITE_AUTH0_TENANT\": \"avillachlab\", \"VITE_AUTH_PROVIDER_MODULE_GOOGLE\": \"true\", \"VITE_AUTH_PROVIDER_MODULE_GOOGLE_ALT\": \"false\", \"VITE_AUTH_PROVIDER_MODULE_GOOGLE_CLIENTID\": \"dFvo72bRvFWuUIgaR1hLKjz4I0o8fDcK\", \"VITE_AUTH_PROVIDER_MODULE_GOOGLE_CONNECTION\": \"google-oauth2\", \"VITE_AUTH_PROVIDER_MODULE_GOOGLE_DESCRIPTION\": \"Login\", \"VITE_AUTH_PROVIDER_MODULE_GOOGLE_TYPE\": \"AUTH0\", \"VITE_AUTH_PROVIDER_MODULE_RAS\": \"true\", \"VITE_AUTH_PROVIDER_MODULE_RAS_ALT\": \"false\", \"VITE_AUTH_PROVIDER_MODULE_RAS_CLIENTID\": \"0oaebyndxfwuRDgXQ1d7\", \"VITE_AUTH_PROVIDER_MODULE_RAS_CONNECTION\": \"okta-ras\", \"VITE_AUTH_PROVIDER_MODULE_RAS_DESCRIPTION\": \"Login with Researcher Auth Service (RAS)\", \"VITE_AUTH_PROVIDER_MODULE_RAS_IMAGEALT\": \"NIH 2013 Logo\", \"VITE_AUTH_PROVIDER_MODULE_RAS_IMAGESRC\": \"NIH_2013_logo_vertical_text_removed.svg\", \"VITE_AUTH_PROVIDER_MODULE_RAS_OKTAIDPID\": \"0oafu2znn12Nn0tQ11d7\", \"VITE_AUTH_PROVIDER_MODULE_RAS_OKTALOGOUTREDIRECT\": \"https://hms-srce.oktapreview.com/oauth2/default/v1/logout\", \"VITE_AUTH_PROVIDER_MODULE_RAS_SESSIONLOGOUTURI\": \"https://authtest.nih.gov/siteminderagent/smlogoutredirector.asp?TARGET=\", \"VITE_AUTH_PROVIDER_MODULE_RAS_TYPE\": \"RAS\", \"VITE_AUTH_PROVIDER_MODULE_RAS_URI\": \"https://hms-srce.oktapreview.com/oauth2/default/v1/authorize\", \"VITE_DASHBOARD_DRAWER\": \"true\", \"VITE_DATA_REQUESTS\": \"true\", \"VITE_DISCOVER\": \"true\", \"VITE_DIST_EXPLORER\": \"true\", \"VITE_DOTS_COLORS_CLASS\": '[\"--color-primary-500\", \"--color-error-500\", \"--color-surface-400\"]', \"VITE_ENABLE_GENE_QUERY\": \"true\", \"VITE_ENABLE_HIERARCHY\": \"true\", \"VITE_ENABLE_SAMPLE_ID_CHECKBOX\": \"true\", \"VITE_ENABLE_SNP_QUERY\": \"true\", \"VITE_EXPLORE_TOUR\": \"true\", \"VITE_EXPLORE_TOUR_SEARCH_TERM\": \"age\", \"VITE_OPEN\": \"true\", \"VITE_ORIGIN\": \"https://nhanes-dev.hms.harvard.edu/\", \"VITE_PROJECT_HOSTNAME\": \"nhanes-dev.hms.harvard.edu\", \"VITE_REQUIRE_CONSENTS\": \"true\", \"VITE_RESOURCE_APP\": \"9047203e-76c4-46c3-b5e3-4544b56718d3\", \"VITE_RESOURCE_HPDS\": \"bf638674-053b-46c4-96a1-4cd6c8395248\", \"VITE_RESOURCE_VIZ\": \"e52efd46-b722-42fd-9dff-f020a92b0dd3\", \"VITE_USE_QUERY_TEMPLATE\": \"true\", \"VITE_VARIANT_EXPLORER\": \"true\" };\nconst PROVIDER_PREFIX = \"VITE_AUTH_PROVIDER_MODULE_\";\nconst enabledProviders = Object.keys(__vite_import_meta_env__).filter((key) => key.startsWith(PROVIDER_PREFIX) && __vite_import_meta_env__[key] === \"true\").map((key) => key.replace(PROVIDER_PREFIX, \"\").toUpperCase()).filter((key) => !key.includes(\"_\"));\nasync function registerEnabledProviders(enabledProviders2, viteProviderPrefix) {\n  for (const providerName of enabledProviders2) {\n    const uppercaseProviderName = providerName.toUpperCase();\n    const providerConfigPrefix = `${viteProviderPrefix}${uppercaseProviderName}_`;\n    try {\n      const authProviderConfigInterface = {};\n      Object.keys(__vite_import_meta_env__).filter((key) => key.startsWith(providerConfigPrefix)).map((key) => {\n        const configKey = key.replace(providerConfigPrefix, \"\")?.toLowerCase();\n        const value = __vite_import_meta_env__[key] === \"true\" ? true : __vite_import_meta_env__[key] === \"false\" ? false : __vite_import_meta_env__[key];\n        authProviderConfigInterface[configKey] = value;\n      });\n      authProviderConfigInterface.enabled = true;\n      authProviderConfigInterface.name = uppercaseProviderName;\n      registerProviderData(authProviderConfigInterface);\n    } catch (error) {\n      console.error(`Error registering auth provider \"${uppercaseProviderName}\":`, error);\n    }\n  }\n}\nregisterEnabledProviders(enabledProviders, PROVIDER_PREFIX);\nconst handleError = async ({ error, event, status, message }) => {\n  console.error(\"Server error: \", error, event, status, message);\n  return {\n    message: message || \"An unknown server error occurred.\"\n  };\n};\nexport {\n  handleError\n};\n"],"names":[],"mappings":"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"}