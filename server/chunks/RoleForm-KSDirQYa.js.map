{"version":3,"file":"RoleForm-KSDirQYa.js","sources":["../../../.svelte-kit/adapter-node/chunks/RoleForm.js"],"sourcesContent":["import { A as push, N as ensure_array_like, E as attr, O as store_get, F as escape_html, P as unsubscribe_stores, C as pop } from \"./index.js\";\nimport \"./client2.js\";\nimport \"./Roles.js\";\nimport { c as isTopAdmin } from \"./User.js\";\nfunction RoleForm($$payload, $$props) {\n  push();\n  var $$store_subs;\n  let { role = void 0, privilegeList } = $$props;\n  let name = role ? role.name : \"\";\n  let description = role ? role.description : \"\";\n  let privileges = (\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    privilegeList.map(([_name, uuid]) => ({\n      uuid,\n      checked: role ? role.privileges.includes(uuid) : false\n    }))\n  );\n  const each_array = ensure_array_like(privilegeList);\n  $$payload.out += `<form><fieldset data-testid=\"role-form\" class=\"grid gap-4 my-3\"${attr(\"disabled\", !store_get($$store_subs ??= {}, \"$isTopAdmin\", isTopAdmin), true)}>`;\n  if (role?.uuid) {\n    $$payload.out += \"<!--[-->\";\n    $$payload.out += `<label class=\"label\"><span>UUID:</span> <input type=\"text\" class=\"input\"${attr(\"value\", role?.uuid)}${attr(\"readonly\", true, true)}/></label>`;\n  } else {\n    $$payload.out += \"<!--[!-->\";\n  }\n  $$payload.out += `<!--]--> <label class=\"label required\"><span>Name:</span> <input type=\"text\"${attr(\"value\", name)} class=\"input\" required minlength=\"1\" maxlength=\"255\"/></label> <label class=\"label required\"><span>Description:</span> <input type=\"text\"${attr(\"value\", description)} class=\"input\" required minlength=\"1\" maxlength=\"255\"/></label> <fieldset data-testid=\"privilege-checkboxes\"><legend class=\"required\">Privileges:</legend> <!--[-->`;\n  for (let index = 0, $$length = each_array.length; index < $$length; index++) {\n    let [name2] = each_array[index];\n    $$payload.out += `<label class=\"flex items-center space-x-2\"><input class=\"checkbox\" type=\"checkbox\"${attr(\"checked\", privileges[index].checked, true)}/> <div>${escape_html(name2)}</div></label>`;\n  }\n  $$payload.out += `<!--]--></fieldset> `;\n  {\n    $$payload.out += \"<!--[!-->\";\n  }\n  $$payload.out += `<!--]--> <div class=\"mt-2\"><button type=\"submit\" data-testid=\"role-save-btn\" class=\"btn preset-tonal-primary border border-primary-500 hover:preset-filled-primary-500\">Save</button> <a href=\"/admin/configuration\" data-testid=\"role-cancel-btn\" class=\"btn preset-tonal-secondary border border-secondary-500 hover:preset-filled-secondary-500\">Cancel</a></div></fieldset></form>`;\n  if ($$store_subs) unsubscribe_stores($$store_subs);\n  pop();\n}\nexport {\n  RoleForm as R\n};\n"],"names":[],"mappings":";;;;;AAIA,SAAS,QAAQ,CAAC,SAAS,EAAE,OAAO,EAAE;AACtC,EAAE,IAAI,EAAE;AACR,EAAE,IAAI,YAAY;AAClB,EAAE,IAAI,EAAE,IAAI,GAAG,MAAM,EAAE,aAAa,EAAE,GAAG,OAAO;AAChD,EAAE,IAAI,IAAI,GAAG,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,EAAE;AAClC,EAAE,IAAI,WAAW,GAAG,IAAI,GAAG,IAAI,CAAC,WAAW,GAAG,EAAE;AAChD,EAAE,IAAI,UAAU;AAChB;AACA,IAAI,aAAa,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM;AAC1C,MAAM,IAAI;AACV,MAAM,OAAO,EAAE,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG;AACvD,KAAK,CAAC;AACN,GAAG;AACH,EAAE,MAAM,UAAU,GAAG,iBAAiB,CAAC,aAAa,CAAC;AACrD,EAAE,SAAS,CAAC,GAAG,IAAI,CAAC,+DAA+D,EAAE,IAAI,CAAC,UAAU,EAAE,CAAC,SAAS,CAAC,YAAY,KAAK,EAAE,EAAE,aAAa,EAAE,UAAU,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;AAC1K,EAAE,IAAI,IAAI,EAAE,IAAI,EAAE;AAClB,IAAI,SAAS,CAAC,GAAG,IAAI,UAAU;AAC/B,IAAI,SAAS,CAAC,GAAG,IAAI,CAAC,wEAAwE,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,UAAU,CAAC;AACpK,GAAG,MAAM;AACT,IAAI,SAAS,CAAC,GAAG,IAAI,WAAW;AAChC;AACA,EAAE,SAAS,CAAC,GAAG,IAAI,CAAC,4EAA4E,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,0IAA0I,EAAE,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC,mKAAmK,CAAC;AACjc,EAAE,KAAK,IAAI,KAAK,GAAG,CAAC,EAAE,QAAQ,GAAG,UAAU,CAAC,MAAM,EAAE,KAAK,GAAG,QAAQ,EAAE,KAAK,EAAE,EAAE;AAC/E,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG,UAAU,CAAC,KAAK,CAAC;AACnC,IAAI,SAAS,CAAC,GAAG,IAAI,CAAC,kFAAkF,EAAE,IAAI,CAAC,SAAS,EAAE,UAAU,CAAC,KAAK,CAAC,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,QAAQ,EAAE,WAAW,CAAC,KAAK,CAAC,CAAC,cAAc,CAAC;AACvM;AACA,EAAE,SAAS,CAAC,GAAG,IAAI,CAAC,oBAAoB,CAAC;AACzC,EAAE;AACF,IAAI,SAAS,CAAC,GAAG,IAAI,WAAW;AAChC;AACA,EAAE,SAAS,CAAC,GAAG,IAAI,CAAC,sXAAsX,CAAC;AAC3Y,EAAE,IAAI,YAAY,EAAE,kBAAkB,CAAC,YAAY,CAAC;AACpD,EAAE,GAAG,EAAE;AACP;;;;"}