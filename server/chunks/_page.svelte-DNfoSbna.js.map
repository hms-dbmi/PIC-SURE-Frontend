{"version":3,"file":"_page.svelte-DNfoSbna.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/(picsure)/(authorized)/dataset/_page.svelte.js"],"sourcesContent":["import { A as push, F as escape_html, G as stringify, D as pop, E as attr, a0 as head, _ as await_block, O as store_get, P as unsubscribe_stores } from \"../../../../../chunks/index.js\";\nimport { b as branding } from \"../../../../../chunks/configuration.js\";\nimport { l as loadDatasets, a as active } from \"../../../../../chunks/Dataset.js\";\nimport { C as Content } from \"../../../../../chunks/Content.js\";\nimport { S as StaticTable } from \"../../../../../chunks/StaticTable.js\";\nimport { C as CopyButton } from \"../../../../../chunks/CopyButton.js\";\nimport \"../../../../../chunks/User.js\";\nimport { L as Loading } from \"../../../../../chunks/Loading.js\";\nfunction CopyButtonCell($$payload, $$props) {\n  push();\n  let { data = { cell: \"\", row: {} } } = $$props;\n  $$payload.out.push(`<div class=\"flex items-center\"><span class=\"monospace\">${escape_html(data.cell)}</span> `);\n  CopyButton($$payload, {\n    \"data-testid\": `${stringify(data.cell)}-copy`,\n    useIcon: true,\n    itemToCopy: data.cell\n  });\n  $$payload.out.push(`<!----></div>`);\n  pop();\n}\nfunction Actions($$payload, $$props) {\n  push();\n  const { data = { cell: \"\", row: { archived: false } } } = $$props;\n  if (data.row.archived) {\n    $$payload.out.push(\"<!--[-->\");\n    $$payload.out.push(`<button${attr(\"data-testid\", `dataset-action-restore-${data.cell}`)} type=\"button\" title=\"Restore\" aria-label=\"Restore\" class=\"btn-icon-color\"><i class=\"fa-solid fa-trash-arrow-up fa-xl\"></i></button>`);\n  } else {\n    $$payload.out.push(\"<!--[!-->\");\n    $$payload.out.push(`<button${attr(\"data-testid\", `dataset-action-archive-${data.cell}`)} type=\"button\" title=\"Delete\" aria-label=\"Delete\" class=\"btn-icon-color\"><i class=\"fa-solid fa-trash fa-xl\"></i></button>`);\n  }\n  $$payload.out.push(`<!--]-->`);\n  pop();\n}\nfunction _page($$payload, $$props) {\n  push();\n  var $$store_subs;\n  const columns = [\n    { dataElement: \"name\", label: \"Dataset ID Name\" },\n    { dataElement: \"startTime\", label: \"Created\" },\n    { dataElement: \"queryId\", label: \"Dataset ID\" },\n    { dataElement: \"uuid\", label: \"Actions\", class: \"text-center\" }\n  ];\n  const cellOverides = { queryId: CopyButtonCell, uuid: Actions };\n  head($$payload, ($$payload2) => {\n    $$payload2.title = `<title>${escape_html(branding.applicationName)} | Datasets</title>`;\n  });\n  Content($$payload, {\n    title: \"Manage Datasets\",\n    children: ($$payload2) => {\n      await_block(\n        $$payload2,\n        loadDatasets(),\n        () => {\n          Loading($$payload2, {});\n        },\n        () => {\n          StaticTable($$payload2, {\n            tableName: \"ActiveDatasets\",\n            title: \"Active Datasets\",\n            data: store_get($$store_subs ??= {}, \"$active\", active),\n            columns,\n            cellOverides\n          });\n          $$payload2.out.push(`<!----> `);\n          {\n            $$payload2.out.push(\"<!--[!-->\");\n          }\n          $$payload2.out.push(`<!--]--> <button data-testid=\"dataset-toggle-archive\" type=\"button\" class=\"btn bg-secondary-500 text-secondary-contrast-500\">${escape_html(\"Show\")} deleted datasets</button>`);\n        }\n      );\n      $$payload2.out.push(`<!--]-->`);\n    }\n  });\n  if ($$store_subs) unsubscribe_stores($$store_subs);\n  pop();\n}\nexport {\n  _page as default\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQA,SAAS,cAAc,CAAC,SAAS,EAAE,OAAO,EAAE;AAC5C,EAAE,IAAI,EAAE;AACR,EAAE,IAAI,EAAE,IAAI,GAAG,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,OAAO;AAChD,EAAE,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,uDAAuD,EAAE,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,CAAC;AAChH,EAAE,UAAU,CAAC,SAAS,EAAE;AACxB,IAAI,aAAa,EAAE,CAAC,EAAE,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC;AACjD,IAAI,OAAO,EAAE,IAAI;AACjB,IAAI,UAAU,EAAE,IAAI,CAAC;AACrB,GAAG,CAAC;AACJ,EAAE,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,aAAa,CAAC,CAAC;AACrC,EAAE,GAAG,EAAE;AACP;AACA,SAAS,OAAO,CAAC,SAAS,EAAE,OAAO,EAAE;AACrC,EAAE,IAAI,EAAE;AACR,EAAE,MAAM,EAAE,IAAI,GAAG,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,OAAO;AACnE,EAAE,IAAI,IAAI,CAAC,GAAG,CAAC,QAAQ,EAAE;AACzB,IAAI,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC;AAClC,IAAI,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,IAAI,CAAC,aAAa,EAAE,CAAC,uBAAuB,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,oIAAoI,CAAC,CAAC;AAClO,EAAE,CAAC,MAAM;AACT,IAAI,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC;AACnC,IAAI,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,IAAI,CAAC,aAAa,EAAE,CAAC,uBAAuB,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,yHAAyH,CAAC,CAAC;AACvN,EAAE;AACF,EAAE,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,CAAC;AAChC,EAAE,GAAG,EAAE;AACP;AACA,SAAS,KAAK,CAAC,SAAS,EAAE,OAAO,EAAE;AACnC,EAAE,IAAI,EAAE;AACR,EAAE,IAAI,YAAY;AAClB,EAAE,MAAM,OAAO,GAAG;AAClB,IAAI,EAAE,WAAW,EAAE,MAAM,EAAE,KAAK,EAAE,iBAAiB,EAAE;AACrD,IAAI,EAAE,WAAW,EAAE,WAAW,EAAE,KAAK,EAAE,SAAS,EAAE;AAClD,IAAI,EAAE,WAAW,EAAE,SAAS,EAAE,KAAK,EAAE,YAAY,EAAE;AACnD,IAAI,EAAE,WAAW,EAAE,MAAM,EAAE,KAAK,EAAE,SAAS,EAAE,KAAK,EAAE,aAAa;AACjE,GAAG;AACH,EAAE,MAAM,YAAY,GAAG,EAAE,OAAO,EAAE,cAAc,EAAE,IAAI,EAAE,OAAO,EAAE;AACjE,EAAE,IAAI,CAAC,SAAS,EAAE,CAAC,UAAU,KAAK;AAClC,IAAI,UAAU,CAAC,KAAK,GAAG,CAAC,OAAO,EAAE,WAAW,CAAC,QAAQ,CAAC,eAAe,CAAC,CAAC,mBAAmB,CAAC;AAC3F,EAAE,CAAC,CAAC;AACJ,EAAE,OAAO,CAAC,SAAS,EAAE;AACrB,IAAI,KAAK,EAAE,iBAAiB;AAC5B,IAAI,QAAQ,EAAE,CAAC,UAAU,KAAK;AAC9B,MAAM,WAAW;AACjB,QAAQ,UAAU;AAClB,QAAQ,YAAY,EAAE;AACtB,QAAQ,MAAM;AACd,UAAU,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC;AACjC,QAAQ,CAAC;AACT,QAAQ,MAAM;AACd,UAAU,WAAW,CAAC,UAAU,EAAE;AAClC,YAAY,SAAS,EAAE,gBAAgB;AACvC,YAAY,KAAK,EAAE,iBAAiB;AACpC,YAAY,IAAI,EAAE,SAAS,CAAC,YAAY,KAAK,EAAE,EAAE,SAAS,EAAE,MAAM,CAAC;AACnE,YAAY,OAAO;AACnB,YAAY;AACZ,WAAW,CAAC;AACZ,UAAU,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,CAAC;AACzC,UAAU;AACV,YAAY,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC;AAC5C,UAAU;AACV,UAAU,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,6HAA6H,EAAE,WAAW,CAAC,MAAM,CAAC,CAAC,0BAA0B,CAAC,CAAC;AAC9M,QAAQ;AACR,OAAO;AACP,MAAM,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,CAAC;AACrC,IAAI;AACJ,GAAG,CAAC;AACJ,EAAE,IAAI,YAAY,EAAE,kBAAkB,CAAC,YAAY,CAAC;AACpD,EAAE,GAAG,EAAE;AACP;;;;"}